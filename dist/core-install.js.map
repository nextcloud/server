{"version":3,"file":"core-install.js?v=a6dc3fa1d4bf5a5bf99e","mappings":"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","sources":["webpack:///nextcloud/webpack\\runtime\\chunk loaded","webpack:///nextcloud/core\\src\\OC\\requesttoken.js","webpack:///nextcloud/core\\src\\jquery\\showpassword.js","webpack:///nextcloud/core\\src\\Polyfill\\tooltip.js","webpack:///nextcloud/core\\src\\install.js","webpack:///nextcloud/core\\src\\Util\\get-url-parameter.js","webpack:///nextcloud/webpack\\bootstrap","webpack:///nextcloud/webpack\\runtime\\compat get default export","webpack:///nextcloud/webpack\\runtime\\define property getters","webpack:///nextcloud/webpack\\runtime\\global","webpack:///nextcloud/webpack\\runtime\\hasOwnProperty shorthand","webpack:///nextcloud/webpack\\runtime\\make namespace object","webpack:///nextcloud/webpack\\runtime\\node module decorator","webpack:///nextcloud/webpack\\runtime\\runtimeId","webpack:///nextcloud/webpack\\runtime\\jsonp chunk loading","webpack:///nextcloud/webpack\\runtime\\nonce","webpack:///nextcloud/webpack\\startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","/**\r\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n *\r\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport { emit } from '@nextcloud/event-bus'\r\n\r\n/**\r\n * @private\r\n * @param {Document} global the document to read the initial value from\r\n * @param {Function} emit the function to invoke for every new token\r\n * @return {object}\r\n */\r\nexport const manageToken = (global, emit) => {\r\n\tlet token = global.getElementsByTagName('head')[0].getAttribute('data-requesttoken')\r\n\r\n\treturn {\r\n\t\tgetToken: () => token,\r\n\t\tsetToken: newToken => {\r\n\t\t\ttoken = newToken\r\n\r\n\t\t\temit('csrf-token-update', {\r\n\t\t\t\ttoken,\r\n\t\t\t})\r\n\t\t},\r\n\t}\r\n}\r\n\r\nconst manageFromDocument = manageToken(document, emit)\r\n\r\n/**\r\n * @return {string}\r\n */\r\nexport const getToken = manageFromDocument.getToken\r\n\r\n/**\r\n * @param {string} newToken new token\r\n */\r\nexport const setToken = manageFromDocument.setToken\r\n","/**\r\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n *\r\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport $ from 'jquery'\r\n\r\n/**\r\n * @name Show Password\r\n * @description\r\n * @version 1.3.0\r\n * @requires Jquery 1.5\r\n *\r\n * @author Jan Jarfalk <jan.jarfalk@unwrongest.com>\r\n * author-website http://www.unwrongest.com\r\n *\r\n * special-thanks Michel Gratton\r\n *\r\n * @license MIT\r\n */\r\n$.fn.extend({\r\n\tshowPassword(c) {\r\n\r\n\t\t// Setup callback object\r\n\t\tconst callback = { fn: null, args: {} }\r\n\t\tcallback.fn = c\r\n\r\n\t\t// Clones passwords and turn the clones into text inputs\r\n\t\tconst cloneElement = function(element) {\r\n\r\n\t\t\tconst $element = $(element)\r\n\r\n\t\t\tconst $clone = $('<input />')\r\n\r\n\t\t\t// Name added for JQuery Validation compatibility\r\n\t\t\t// Element name is required to avoid script warning.\r\n\t\t\t$clone.attr({\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tclass: $element.attr('class'),\r\n\t\t\t\tstyle: $element.attr('style'),\r\n\t\t\t\tsize: $element.attr('size'),\r\n\t\t\t\tname: $element.attr('name') + '-clone',\r\n\t\t\t\ttabindex: $element.attr('tabindex'),\r\n\t\t\t\tautocomplete: 'off',\r\n\t\t\t})\r\n\r\n\t\t\tif ($element.attr('placeholder') !== undefined) {\r\n\t\t\t\t$clone.attr('placeholder', $element.attr('placeholder'))\r\n\t\t\t}\r\n\r\n\t\t\treturn $clone\r\n\r\n\t\t}\r\n\r\n\t\t// Transfers values between two elements\r\n\t\tconst update = function(a, b) {\r\n\t\t\tb.val(a.val())\r\n\t\t}\r\n\r\n\t\t// Shows a or b depending on checkbox\r\n\t\tconst setState = function(checkbox, a, b) {\r\n\r\n\t\t\tif (checkbox.is(':checked')) {\r\n\t\t\t\tupdate(a, b)\r\n\t\t\t\tb.show()\r\n\t\t\t\ta.hide()\r\n\t\t\t} else {\r\n\t\t\t\tupdate(b, a)\r\n\t\t\t\tb.hide()\r\n\t\t\t\ta.show()\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\r\n\t\t\tconst $input = $(this)\r\n\t\t\tconst $checkbox = $($input.data('typetoggle'))\r\n\r\n\t\t\t// Create clone\r\n\t\t\tconst $clone = cloneElement($input)\r\n\t\t\t$clone.insertAfter($input)\r\n\r\n\t\t\t// Set callback arguments\r\n\t\t\tif (callback.fn) {\r\n\t\t\t\tcallback.args.input = $input\r\n\t\t\t\tcallback.args.checkbox = $checkbox\r\n\t\t\t\tcallback.args.clone = $clone\r\n\t\t\t}\r\n\r\n\t\t\t$checkbox.bind('click', function() {\r\n\t\t\t\tsetState($checkbox, $input, $clone)\r\n\t\t\t})\r\n\r\n\t\t\t$input.bind('keyup', function() {\r\n\t\t\t\tupdate($input, $clone)\r\n\t\t\t})\r\n\r\n\t\t\t$clone.bind('keyup', function() {\r\n\t\t\t\tupdate($clone, $input)\r\n\r\n\t\t\t\t// Added for JQuery Validation compatibility\r\n\t\t\t\t// This will trigger validation if it's ON for keyup event\r\n\t\t\t\t$input.trigger('keyup')\r\n\r\n\t\t\t})\r\n\r\n\t\t\t// Added for JQuery Validation compatibility\r\n\t\t\t// This will trigger validation if it's ON for blur event\r\n\t\t\t$clone.bind('blur', function() {\r\n\t\t\t\t$input.trigger('focusout')\r\n\t\t\t})\r\n\r\n\t\t\tsetState($checkbox, $input, $clone)\r\n\r\n\t\t\t// set type of password field clone (type=text) to password right on submit\r\n\t\t\t// to prevent browser save the value of this field\r\n\t\t\t$clone.closest('form').submit(function(e) {\r\n\t\t\t\t// .prop has to be used, because .attr throws\r\n\t\t\t\t// an error while changing a type of an input\r\n\t\t\t\t// element\r\n\t\t\t\t$clone.prop('type', 'password')\r\n\t\t\t})\r\n\r\n\t\t\tif (callback.fn) {\r\n\t\t\t\tcallback.fn(callback.args)\r\n\t\t\t}\r\n\r\n\t\t})\r\n\t},\r\n})\r\n","/**\r\n * @copyright 2019 Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n * @author Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport $ from 'jquery'\r\n\r\n$.prototype.tooltip = (function(tooltip) {\r\n\treturn function(config) {\r\n\t\ttry {\r\n\t\t\treturn tooltip.call(this, config)\r\n\t\t} catch (ex) {\r\n\t\t\tif (ex instanceof TypeError && config === 'destroy') {\r\n\t\t\t\tif (window.TESTING === undefined) {\r\n\t\t\t\t\tconsole.error('Deprecated call $.tooltip(\\'destroy\\') has been deprecated and should be removed')\r\n\t\t\t\t}\r\n\t\t\t\treturn tooltip.call(this, 'dispose')\r\n\t\t\t}\r\n\t\t\tif (ex instanceof TypeError && config === 'fixTitle') {\r\n\t\t\t\tif (window.TESTING === undefined) {\r\n\t\t\t\t\tconsole.error('Deprecated call $.tooltip(\\'fixTitle\\') has been deprecated and should be removed')\r\n\t\t\t\t}\r\n\t\t\t\treturn tooltip.call(this, '_fixTitle')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})($.prototype.tooltip)\r\n","/**\r\n * @copyright Copyright (c) 2016 Julius Härtl <jus@bitgrid.net>\r\n *\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n * @author Julius Härtl <jus@bitgrid.net>\r\n * @author Richard Steinmetz <richard@steinmetz.cloud>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport $ from 'jquery'\r\nimport { translate as t } from '@nextcloud/l10n'\r\nimport { getToken } from './OC/requesttoken'\r\nimport getURLParameter from './Util/get-url-parameter'\r\n\r\nimport './jquery/showpassword'\r\n\r\nimport 'jquery-ui/ui/widgets/button'\r\nimport 'jquery-ui/themes/base/theme.css'\r\nimport 'jquery-ui/themes/base/button.css'\r\n\r\nimport './Polyfill/tooltip'\r\n\r\nimport 'strengthify'\r\nimport 'strengthify/strengthify.css'\r\n\r\nwindow.addEventListener('DOMContentLoaded', function() {\r\n\tconst dbtypes = {\r\n\t\tsqlite: !!$('#hasSQLite').val(),\r\n\t\tmysql: !!$('#hasMySQL').val(),\r\n\t\tpostgresql: !!$('#hasPostgreSQL').val(),\r\n\t\toracle: !!$('#hasOracle').val(),\r\n\t}\r\n\r\n\t$('#selectDbType').buttonset()\r\n\t// change links inside an info box back to their default appearance\r\n\t$('#selectDbType p.info a').button('destroy')\r\n\r\n\tif ($('#hasSQLite').val()) {\r\n\t\t$('#use_other_db').hide()\r\n\t\t$('#use_oracle_db').hide()\r\n\t} else {\r\n\t\t$('#sqliteInformation').hide()\r\n\t}\r\n\t$('#adminlogin').change(function() {\r\n\t\t$('#adminlogin').val($.trim($('#adminlogin').val()))\r\n\t})\r\n\t$('#sqlite').click(function() {\r\n\t\t$('#use_other_db').slideUp(250)\r\n\t\t$('#use_oracle_db').slideUp(250)\r\n\t\t$('#sqliteInformation').show()\r\n\t\t$('#dbname').attr('pattern', '[0-9a-zA-Z$_-]+')\r\n\t})\r\n\r\n\t$('#mysql,#pgsql').click(function() {\r\n\t\t$('#use_other_db').slideDown(250)\r\n\t\t$('#use_oracle_db').slideUp(250)\r\n\t\t$('#sqliteInformation').hide()\r\n\t\t$('#dbname').attr('pattern', '[0-9a-zA-Z$_-]+')\r\n\t})\r\n\r\n\t$('#oci').click(function() {\r\n\t\t$('#use_other_db').slideDown(250)\r\n\t\t$('#use_oracle_db').show(250)\r\n\t\t$('#sqliteInformation').hide()\r\n\t\t$('#dbname').attr('pattern', '[0-9a-zA-Z$_-.]+')\r\n\t})\r\n\r\n\t$('#showAdvanced').click(function(e) {\r\n\t\te.preventDefault()\r\n\t\t$('#datadirContent').slideToggle(250)\r\n\t\t$('#databaseBackend').slideToggle(250)\r\n\t\t$('#databaseField').slideToggle(250)\r\n\t})\r\n\t$('form').submit(function() {\r\n\t\t// Save form parameters\r\n\t\tconst post = $(this).serializeArray()\r\n\r\n\t\t// Show spinner while finishing setup\r\n\t\t$('.float-spinner').show(250)\r\n\r\n\t\t// Disable inputs\r\n\t\t$('input[type=\"submit\"]').attr('disabled', 'disabled').val($('input[type=\"submit\"]').data('finishing'))\r\n\t\t$('input', this).addClass('ui-state-disabled').attr('disabled', 'disabled')\r\n\t\t// only disable buttons if they are present\r\n\t\tif ($('#selectDbType').find('.ui-button').length > 0) {\r\n\t\t\t$('#selectDbType').buttonset('disable')\r\n\t\t}\r\n\t\t$('.strengthify-wrapper, .tipsy')\r\n\t\t\t.css('filter', 'alpha(opacity=30)')\r\n\t\t\t.css('opacity', 0.3)\r\n\r\n\t\t// Create the form\r\n\t\tconst form = $('<form>')\r\n\t\tform.attr('action', $(this).attr('action'))\r\n\t\tform.attr('method', 'POST')\r\n\r\n\t\tfor (let i = 0; i < post.length; i++) {\r\n\t\t\tconst input = $('<input type=\"hidden\">')\r\n\t\t\tinput.attr(post[i])\r\n\t\t\tform.append(input)\r\n\t\t}\r\n\r\n\t\t// Add redirect_url\r\n\t\tconst redirectURL = getURLParameter('redirect_url')\r\n\t\tif (redirectURL) {\r\n\t\t\tconst redirectURLInput = $('<input type=\"hidden\">')\r\n\t\t\tredirectURLInput.attr({\r\n\t\t\t\tname: 'redirect_url',\r\n\t\t\t\tvalue: redirectURL,\r\n\t\t\t})\r\n\t\t\tform.append(redirectURLInput)\r\n\t\t}\r\n\r\n\t\t// Submit the form\r\n\t\tform.appendTo(document.body)\r\n\t\tform.submit()\r\n\t\treturn false\r\n\t})\r\n\r\n\t// Expand latest db settings if page was reloaded on error\r\n\tconst currentDbType = $('input[type=\"radio\"]:checked').val()\r\n\r\n\tif (currentDbType === undefined) {\r\n\t\t$('input[type=\"radio\"]').first().click()\r\n\t}\r\n\r\n\tif (\r\n\t\tcurrentDbType === 'sqlite'\r\n\t\t|| (dbtypes.sqlite && currentDbType === undefined)\r\n\t) {\r\n\t\t$('#datadirContent').hide(250)\r\n\t\t$('#databaseBackend').hide(250)\r\n\t\t$('#databaseField').hide(250)\r\n\t\t$('.float-spinner').hide(250)\r\n\t}\r\n\r\n\t$('#adminpass').strengthify({\r\n\t\tzxcvbn: OC.linkTo('core', 'vendor/zxcvbn/dist/zxcvbn.js'),\r\n\t\ttitles: [\r\n\t\t\tt('core', 'Very weak password'),\r\n\t\t\tt('core', 'Weak password'),\r\n\t\t\tt('core', 'So-so password'),\r\n\t\t\tt('core', 'Good password'),\r\n\t\t\tt('core', 'Strong password'),\r\n\t\t],\r\n\t\tdrawTitles: true,\r\n\t\tnonce: btoa(getToken()),\r\n\t})\r\n\r\n\t$('#dbpass').showPassword().keyup()\r\n\t$('.toggle-password').click(function(event) {\r\n\t\tevent.preventDefault()\r\n\t\tconst currentValue = $(this).parent().children('input').attr('type')\r\n\t\tif (currentValue === 'password') {\r\n\t\t\t$(this).parent().children('input').attr('type', 'text')\r\n\t\t} else {\r\n\t\t\t$(this).parent().children('input').attr('type', 'password')\r\n\t\t}\r\n\t})\r\n})\r\n","/**\r\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\r\n *\r\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\r\n * @author John Molakvoæ <skjnldsv@protonmail.com>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\n/**\r\n * @param {any} name -\r\n */\r\nexport default function getURLParameter(name) {\r\n\treturn decodeURIComponent(\r\n\t\t// eslint-disable-next-line no-sparse-arrays\r\n\t\t(new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [, ''])[1].replace(/\\+/g, '%20')\r\n\t) || ''\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 8998;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t8998: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknextcloud\"] = self[\"webpackChunknextcloud\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [7874], function() { return __webpack_require__(84891); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","global","emit","token","getToken","document","getElementsByTagName","getAttribute","setToken","newToken","$","showPassword","c","callback","fn","args","update","a","b","val","setState","checkbox","is","show","hide","this","each","$input","$checkbox","data","$clone","element","$element","attr","type","class","style","size","name","tabindex","autocomplete","undefined","cloneElement","insertAfter","input","clone","bind","trigger","closest","submit","e","prop","tooltip","config","call","ex","TypeError","window","TESTING","console","error","addEventListener","dbtypes","buttonset","button","change","click","slideUp","slideDown","preventDefault","slideToggle","post","serializeArray","addClass","find","length","css","form","i","append","redirectURL","decodeURIComponent","RegExp","exec","location","search","replace","redirectURLInput","value","appendTo","body","currentDbType","first","strengthify","zxcvbn","OC","linkTo","titles","t","drawTitles","nonce","btoa","keyup","event","parent","children","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","id","loaded","__webpack_modules__","m","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","baseURI","self","href","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","forEach","push","nc","__webpack_exports__"],"sourceRoot":""}