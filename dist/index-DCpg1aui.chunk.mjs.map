{"version":3,"file":"index-DCpg1aui.chunk.mjs","sources":["../node_modules/@nextcloud/initial-state/dist/index.js","../node_modules/@nextcloud/capabilities/dist/index.mjs","../node_modules/@nextcloud/paths/dist/index.mjs"],"sourcesContent":["/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\n/**\n * @param app app ID, e.g. \"mail\"\n * @param key name of the property\n * @param fallback optional parameter to use as default value\n * @throws if the key can't be found\n */\nexport function loadState(app, key, fallback) {\n    const selector = `#initial-state-${app}-${key}`;\n    if (window._nc_initial_state?.has(selector)) {\n        return window._nc_initial_state.get(selector);\n    }\n    else if (!window._nc_initial_state) {\n        window._nc_initial_state = new Map();\n    }\n    const elem = document.querySelector(selector);\n    if (elem === null) {\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not find initial state ${key} of ${app}`);\n    }\n    try {\n        const parsedValue = JSON.parse(atob(elem.value));\n        window._nc_initial_state.set(selector, parsedValue);\n        return parsedValue;\n    }\n    catch (error) {\n        console.error('[@nextcloud/initial-state] Could not parse initial state', { key, app, error });\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not parse initial state ${key} of ${app}`, { cause: error });\n    }\n}\n","import { loadState } from \"@nextcloud/initial-state\";\nfunction getCapabilities() {\n  try {\n    return loadState(\"core\", \"capabilities\");\n  } catch (error) {\n    console.debug(\"Could not find capabilities initial state fall back to _oc_capabilities\");\n    if (!(\"_oc_capabilities\" in window)) {\n      return {};\n    }\n    return window[\"_oc_capabilities\"];\n  }\n}\nexport {\n  getCapabilities\n};\n//# sourceMappingURL=index.mjs.map\n","function encodePath(path) {\n  if (!path) {\n    return path;\n  }\n  return path.split(\"/\").map(encodeURIComponent).join(\"/\");\n}\nfunction basename(path, extname2) {\n  path = path.replace(/\\\\/g, \"/\").replace(/\\/+$/g, \"\").replace(/.*\\//, \"\");\n  if (extname2 && extname2 !== path && path.endsWith(extname2)) {\n    return path.substring(0, path.length - extname2.length);\n  }\n  return path;\n}\nfunction dirname(path) {\n  path = path.replaceAll(/\\\\/g, \"/\");\n  const sections = path.split(\"/\");\n  if (sections.length <= 1) {\n    return \".\";\n  }\n  sections.pop();\n  if (sections.length === 1 && sections[0] === \"\") {\n    return \"/\";\n  }\n  return sections.join(\"/\");\n}\nfunction extname(path) {\n  const base = basename(path);\n  const index = base.lastIndexOf(\".\");\n  if (index > 0) {\n    return base.substring(index);\n  }\n  return \"\";\n}\nfunction join(...args) {\n  if (arguments.length < 1) {\n    return \"\";\n  }\n  const nonEmptyArgs = args.filter((arg) => arg.length > 0);\n  if (nonEmptyArgs.length < 1) {\n    return \"\";\n  }\n  const lastArg = nonEmptyArgs[nonEmptyArgs.length - 1];\n  const leadingSlash = nonEmptyArgs[0].charAt(0) === \"/\";\n  const trailingSlash = lastArg.charAt(lastArg.length - 1) === \"/\";\n  const sections = nonEmptyArgs.reduce((acc, section) => acc.concat(section.split(\"/\")), []);\n  let first = !leadingSlash;\n  const path = sections.reduce((acc, section) => {\n    if (section === \"\") {\n      return acc;\n    }\n    if (first) {\n      first = false;\n      return acc + section;\n    }\n    return acc + \"/\" + section;\n  }, \"\");\n  if (trailingSlash) {\n    return path + \"/\";\n  }\n  return path;\n}\nfunction isSamePath(path1, path2) {\n  const pathSections1 = (path1 || \"\").split(\"/\").filter((p) => p !== \".\");\n  const pathSections2 = (path2 || \"\").split(\"/\").filter((p) => p !== \".\");\n  path1 = join(...pathSections1);\n  path2 = join(...pathSections2);\n  return path1 === path2;\n}\nexport {\n  basename,\n  dirname,\n  encodePath,\n  extname,\n  isSamePath,\n  join\n};\n//# sourceMappingURL=index.mjs.map\n"],"names":["loadState","app","key","fallback","selector","elem","parsedValue","error","getCapabilities","encodePath","path","basename","extname2","dirname","sections","extname","base","index","join","args","nonEmptyArgs","arg","lastArg","leadingSlash","trailingSlash","acc","section","first"],"mappings":"AAUO,SAASA,EAAUC,EAAKC,EAAKC,EAAU,CAC1C,MAAMC,EAAW,kBAAkBH,CAAG,IAAIC,CAAG,GAC7C,GAAI,OAAO,mBAAmB,IAAIE,CAAQ,EACtC,OAAO,OAAO,kBAAkB,IAAIA,CAAQ,EAEtC,OAAO,oBACb,OAAO,kBAAoB,IAAI,KAEnC,MAAMC,EAAO,SAAS,cAAcD,CAAQ,EAC5C,GAAIC,IAAS,KAAM,CACf,GAAIF,IAAa,OACb,OAAOA,EAEX,MAAM,IAAI,MAAM,gCAAgCD,CAAG,OAAOD,CAAG,EAAE,CACnE,CACA,GAAI,CACA,MAAMK,EAAc,KAAK,MAAM,KAAKD,EAAK,KAAK,CAAC,EAC/C,OAAA,OAAO,kBAAkB,IAAID,EAAUE,CAAW,EAC3CA,CACX,OACOC,EAAO,CAEV,GADA,QAAQ,MAAM,2DAA4D,CAAE,IAAAL,EAAK,IAAAD,EAAK,MAAAM,EAAO,EACzFJ,IAAa,OACb,OAAOA,EAEX,MAAM,IAAI,MAAM,iCAAiCD,CAAG,OAAOD,CAAG,GAAI,CAAE,MAAOM,EAAO,CACtF,CACJ,swCCpCA,SAASC,GAAkB,CACzB,GAAI,CACF,OAAOR,EAAU,OAAQ,cAAc,CACzC,MAAgB,CAEd,OADA,QAAQ,MAAM,yEAAyE,EACjF,qBAAsB,OAGrB,OAAO,iBAFL,CAAA,CAGX,CACF,CCXA,SAASS,EAAWC,EAAM,CACxB,OAAKA,GAGEA,EAAK,MAAM,GAAG,EAAE,IAAI,kBAAkB,EAAE,KAAK,GAAG,CACzD,CACA,SAASC,EAASD,EAAME,EAAU,CAChC,OAAAF,EAAOA,EAAK,QAAQ,MAAO,GAAG,EAAE,QAAQ,QAAS,EAAE,EAAE,QAAQ,OAAQ,EAAE,EAIhEA,CACT,CACA,SAASG,EAAQH,EAAM,CACrBA,EAAOA,EAAK,WAAW,MAAO,GAAG,EACjC,MAAMI,EAAWJ,EAAK,MAAM,GAAG,EAC/B,OAAII,EAAS,QAAU,EACd,KAETA,EAAS,IAAG,EACRA,EAAS,SAAW,GAAKA,EAAS,CAAC,IAAM,GACpC,IAEFA,EAAS,KAAK,GAAG,EAC1B,CACA,SAASC,EAAQL,EAAM,CACrB,MAAMM,EAAOL,EAASD,CAAI,EACpBO,EAAQD,EAAK,YAAY,GAAG,EAClC,OAAIC,EAAQ,EACHD,EAAK,UAAUC,CAAK,EAEtB,EACT,CACA,SAASC,KAAQC,EAAM,CACrB,GAAI,UAAU,OAAS,EACrB,MAAO,GAET,MAAMC,EAAeD,EAAK,OAAQE,GAAQA,EAAI,OAAS,CAAC,EACxD,GAAID,EAAa,OAAS,EACxB,MAAO,GAET,MAAME,EAAUF,EAAaA,EAAa,OAAS,CAAC,EAC9CG,EAAeH,EAAa,CAAC,EAAE,OAAO,CAAC,IAAM,IAC7CI,EAAgBF,EAAQ,OAAOA,EAAQ,OAAS,CAAC,IAAM,IACvDR,EAAWM,EAAa,OAAO,CAACK,EAAKC,IAAYD,EAAI,OAAOC,EAAQ,MAAM,GAAG,CAAC,EAAG,CAAA,CAAE,EACzF,IAAIC,EAAQ,CAACJ,EACb,MAAMb,EAAOI,EAAS,OAAO,CAACW,EAAKC,IAC7BA,IAAY,GACPD,EAELE,GACFA,EAAQ,GACDF,EAAMC,GAERD,EAAM,IAAMC,EAClB,EAAE,EACL,OAAIF,EACKd,EAAO,IAETA,CACT","x_google_ignoreList":[0,1,2]}