{"version":3,"file":"2800-2800.js?v=10a1714018c5ccab8f9f","mappings":"+HAEA,IAAIA,EAAMC,OAAOC,UAAUC,eACvBC,EAAS,IASb,SAASC,IAAU,CA4BnB,SAASC,EAAGC,EAAIC,EAASC,GACvBC,KAAKH,GAAKA,EACVG,KAAKF,QAAUA,EACfE,KAAKD,KAAOA,IAAQ,CACtB,CAaA,SAASE,EAAYC,EAASC,EAAON,EAAIC,EAASC,GAChD,GAAkB,mBAAPF,EACT,MAAM,IAAIO,UAAU,mCAGtB,IAAIC,EAAW,IAAIT,EAAGC,EAAIC,GAAWI,EAASH,GAC1CO,EAAMZ,EAASA,EAASS,EAAQA,EAMpC,OAJKD,EAAQK,QAAQD,GACXJ,EAAQK,QAAQD,GAAKT,GAC1BK,EAAQK,QAAQD,GAAO,CAACJ,EAAQK,QAAQD,GAAMD,GADhBH,EAAQK,QAAQD,GAAKE,KAAKH,IADlCH,EAAQK,QAAQD,GAAOD,EAAUH,EAAQO,gBAI7DP,CACT,CASA,SAASQ,EAAWR,EAASI,GACI,MAAzBJ,EAAQO,aAAoBP,EAAQK,QAAU,IAAIZ,SAC5CO,EAAQK,QAAQD,EAC9B,CASA,SAASK,IACPX,KAAKO,QAAU,IAAIZ,EACnBK,KAAKS,aAAe,CACtB,CAzEIlB,OAAOqB,SACTjB,EAAOH,UAAYD,OAAOqB,OAAO,OAM5B,IAAIjB,GAASkB,YAAWnB,GAAS,IA2ExCiB,EAAanB,UAAUsB,WAAa,WAClC,IACIC,EACAC,EAFAC,EAAQ,GAIZ,GAA0B,IAAtBjB,KAAKS,aAAoB,OAAOQ,EAEpC,IAAKD,KAASD,EAASf,KAAKO,QACtBjB,EAAI4B,KAAKH,EAAQC,IAAOC,EAAMT,KAAKd,EAASsB,EAAKG,MAAM,GAAKH,GAGlE,OAAIzB,OAAO6B,sBACFH,EAAMI,OAAO9B,OAAO6B,sBAAsBL,IAG5CE,CACT,EASAN,EAAanB,UAAU8B,UAAY,SAAmBnB,GACpD,IAAIG,EAAMZ,EAASA,EAASS,EAAQA,EAChCoB,EAAWvB,KAAKO,QAAQD,GAE5B,IAAKiB,EAAU,MAAO,GACtB,GAAIA,EAAS1B,GAAI,MAAO,CAAC0B,EAAS1B,IAElC,IAAK,IAAI2B,EAAI,EAAGC,EAAIF,EAASG,OAAQC,EAAK,IAAIC,MAAMH,GAAID,EAAIC,EAAGD,IAC7DG,EAAGH,GAAKD,EAASC,GAAG3B,GAGtB,OAAO8B,CACT,EASAhB,EAAanB,UAAUqC,cAAgB,SAAuB1B,GAC5D,IAAIG,EAAMZ,EAASA,EAASS,EAAQA,EAChCmB,EAAYtB,KAAKO,QAAQD,GAE7B,OAAKgB,EACDA,EAAUzB,GAAW,EAClByB,EAAUI,OAFM,CAGzB,EASAf,EAAanB,UAAUsC,KAAO,SAAc3B,EAAO4B,EAAIC,EAAIC,EAAIC,EAAIC,GACjE,IAAI7B,EAAMZ,EAASA,EAASS,EAAQA,EAEpC,IAAKH,KAAKO,QAAQD,GAAM,OAAO,EAE/B,IAEI8B,EACAZ,EAHAF,EAAYtB,KAAKO,QAAQD,GACzB+B,EAAMC,UAAUZ,OAIpB,GAAIJ,EAAUzB,GAAI,CAGhB,OAFIyB,EAAUvB,MAAMC,KAAKuC,eAAepC,EAAOmB,EAAUzB,QAAI2C,GAAW,GAEhEH,GACN,KAAK,EAAG,OAAOf,EAAUzB,GAAGqB,KAAKI,EAAUxB,UAAU,EACrD,KAAK,EAAG,OAAOwB,EAAUzB,GAAGqB,KAAKI,EAAUxB,QAASiC,IAAK,EACzD,KAAK,EAAG,OAAOT,EAAUzB,GAAGqB,KAAKI,EAAUxB,QAASiC,EAAIC,IAAK,EAC7D,KAAK,EAAG,OAAOV,EAAUzB,GAAGqB,KAAKI,EAAUxB,QAASiC,EAAIC,EAAIC,IAAK,EACjE,KAAK,EAAG,OAAOX,EAAUzB,GAAGqB,KAAKI,EAAUxB,QAASiC,EAAIC,EAAIC,EAAIC,IAAK,EACrE,KAAK,EAAG,OAAOZ,EAAUzB,GAAGqB,KAAKI,EAAUxB,QAASiC,EAAIC,EAAIC,EAAIC,EAAIC,IAAK,EAG3E,IAAKX,EAAI,EAAGY,EAAO,IAAIR,MAAMS,EAAK,GAAIb,EAAIa,EAAKb,IAC7CY,EAAKZ,EAAI,GAAKc,UAAUd,GAG1BF,EAAUzB,GAAG4C,MAAMnB,EAAUxB,QAASsC,EACxC,KAAO,CACL,IACIM,EADAhB,EAASJ,EAAUI,OAGvB,IAAKF,EAAI,EAAGA,EAAIE,EAAQF,IAGtB,OAFIF,EAAUE,GAAGzB,MAAMC,KAAKuC,eAAepC,EAAOmB,EAAUE,GAAG3B,QAAI2C,GAAW,GAEtEH,GACN,KAAK,EAAGf,EAAUE,GAAG3B,GAAGqB,KAAKI,EAAUE,GAAG1B,SAAU,MACpD,KAAK,EAAGwB,EAAUE,GAAG3B,GAAGqB,KAAKI,EAAUE,GAAG1B,QAASiC,GAAK,MACxD,KAAK,EAAGT,EAAUE,GAAG3B,GAAGqB,KAAKI,EAAUE,GAAG1B,QAASiC,EAAIC,GAAK,MAC5D,KAAK,EAAGV,EAAUE,GAAG3B,GAAGqB,KAAKI,EAAUE,GAAG1B,QAASiC,EAAIC,EAAIC,GAAK,MAChE,QACE,IAAKG,EAAM,IAAKM,EAAI,EAAGN,EAAO,IAAIR,MAAMS,EAAK,GAAIK,EAAIL,EAAKK,IACxDN,EAAKM,EAAI,GAAKJ,UAAUI,GAG1BpB,EAAUE,GAAG3B,GAAG4C,MAAMnB,EAAUE,GAAG1B,QAASsC,GAGpD,CAEA,OAAO,CACT,EAWAzB,EAAanB,UAAUmD,GAAK,SAAYxC,EAAON,EAAIC,GACjD,OAAOG,EAAYD,KAAMG,EAAON,EAAIC,GAAS,EAC/C,EAWAa,EAAanB,UAAUO,KAAO,SAAcI,EAAON,EAAIC,GACrD,OAAOG,EAAYD,KAAMG,EAAON,EAAIC,GAAS,EAC/C,EAYAa,EAAanB,UAAU+C,eAAiB,SAAwBpC,EAAON,EAAIC,EAASC,GAClF,IAAIO,EAAMZ,EAASA,EAASS,EAAQA,EAEpC,IAAKH,KAAKO,QAAQD,GAAM,OAAON,KAC/B,IAAKH,EAEH,OADAa,EAAWV,KAAMM,GACVN,KAGT,IAAIsB,EAAYtB,KAAKO,QAAQD,GAE7B,GAAIgB,EAAUzB,GAEVyB,EAAUzB,KAAOA,GACfE,IAAQuB,EAAUvB,MAClBD,GAAWwB,EAAUxB,UAAYA,GAEnCY,EAAWV,KAAMM,OAEd,CACL,IAAK,IAAIkB,EAAI,EAAGT,EAAS,GAAIW,EAASJ,EAAUI,OAAQF,EAAIE,EAAQF,KAEhEF,EAAUE,GAAG3B,KAAOA,GACnBE,IAASuB,EAAUE,GAAGzB,MACtBD,GAAWwB,EAAUE,GAAG1B,UAAYA,IAErCiB,EAAOP,KAAKc,EAAUE,IAOtBT,EAAOW,OAAQ1B,KAAKO,QAAQD,GAAyB,IAAlBS,EAAOW,OAAeX,EAAO,GAAKA,EACpEL,EAAWV,KAAMM,EACxB,CAEA,OAAON,IACT,EASAW,EAAanB,UAAUoD,mBAAqB,SAA4BzC,GACtE,IAAIG,EAUJ,OARIH,GACFG,EAAMZ,EAASA,EAASS,EAAQA,EAC5BH,KAAKO,QAAQD,IAAMI,EAAWV,KAAMM,KAExCN,KAAKO,QAAU,IAAIZ,EACnBK,KAAKS,aAAe,GAGfT,IACT,EAKAW,EAAanB,UAAUqD,IAAMlC,EAAanB,UAAU+C,eACpD5B,EAAanB,UAAUS,YAAcU,EAAanB,UAAUmD,GAK5DhC,EAAamC,SAAWpD,EAKxBiB,EAAaA,aAAeA,EAM1BoC,EAAOC,QAAUrC,C,yMCpUZ,SAAS,EAAUsC,EAAKC,EAAKC,GAChC,MAAMC,EAAW,kBAAkBH,KAAOC,IAC1C,GAAIG,OAAOC,mBAAmBhE,IAAI8D,GAC9B,OAAOC,OAAOC,kBAAkBC,IAAIH,GAE9BC,OAAOC,oBACbD,OAAOC,kBAAoB,IAAIE,KAEnC,MAAMC,EAAOC,SAASC,cAAcP,GACpC,GAAa,OAATK,EAAe,CACf,QAAiBjB,IAAbW,EACA,OAAOA,EAEX,MAAM,IAAIS,MAAM,gCAAgCV,QAAUD,IAC9D,CACA,IACI,MAAMY,EAAcC,KAAKC,MAAMC,KAAKP,EAAKQ,QAEzC,OADAZ,OAAOC,kBAAkBY,IAAId,EAAUS,GAChCA,CACX,CACA,MAAOM,GAEH,GADAC,QAAQD,MAAM,2DAA4D,CAAEjB,MAAKD,MAAKkB,eACrE3B,IAAbW,EACA,OAAOA,EAEX,MAAM,IAAIS,MAAM,iCAAiCV,QAAUD,IAAO,CAAEoB,MAAOF,GAC/E,CACJ,C,eC1BO,SAASG,IAEZ,OAAQ,EAAU,gBAAiB,WAAY,OACgD,OAAxFZ,SAASC,cAAc,4DAClC,C,ICXWY,E,2CACX,SAAWA,GACPA,EAAUA,EAAgB,KAAI,GAAK,OACnCA,EAAUA,EAAiB,MAAI,GAAK,QACpCA,EAAUA,EAAgB,KAAI,GAAK,OACnCA,EAAUA,EAAiB,MAAI,GAAK,QACpCA,EAAUA,EAAkB,OAAI,GAAK,SAIrCA,EAAUA,EAAgB,KAAI,GAAK,OACnCA,EAAUA,EAAiB,MAAI,GAAK,QACpCA,EAAUA,EAAuB,YAAI,GAAK,cAC1CA,EAAUA,EAAgB,KAAI,IAAM,OACpCA,EAAUA,EAAgB,KAAI,IAAM,OAIpCA,EAAUA,EAA0B,eAAI,IAAM,iBAM9CA,EAAUA,EAAuB,YAAI,IAAM,aAC9C,CAxBD,CAwBGA,IAAcA,EAAY,CAAC,I,yBC5Bf,MAAMC,EACjB,GAAS,GACT,OAAAC,CAAQC,EAAKC,GACT,MAAM,SAAEC,EAAW,EAAC,GAAEC,GAAQF,GAAW,CAAC,EACpCG,EAAU,CACZF,WACAC,KACAH,OAEJ,GAAkB,IAAd1E,KAAK+E,MAAc/E,MAAK,EAAOA,KAAK+E,KAAO,GAAGH,UAAYA,EAE1D,YADA5E,MAAK,EAAOQ,KAAKsE,GAGrB,MAAME,ECZC,SAAoBC,EAAOhB,EAAOiB,GAC7C,IAAIC,EAAQ,EACRC,EAAQH,EAAMvD,OAClB,KAAO0D,EAAQ,GAAG,CACd,MAAMC,EAAOC,KAAKC,MAAMH,EAAQ,GAChC,IAAII,EAAKL,EAAQE,EACbH,EAAWD,EAAMO,GAAKvB,IAAU,GAChCkB,IAAUK,EACVJ,GAASC,EAAO,GAGhBD,EAAQC,CAEhB,CACA,OAAOF,CACX,CDHsBM,CAAWzF,MAAK,EAAQ8E,EAAS,CAACY,EAAGC,IAAMA,EAAEf,SAAWc,EAAEd,UACxE5E,MAAK,EAAO4F,OAAOZ,EAAO,EAAGF,EACjC,CACA,WAAAe,CAAYhB,EAAID,GACZ,MAAMI,EAAQhF,MAAK,EAAO8F,UAAWhB,GAAYA,EAAQD,KAAOA,GAChE,IAAe,IAAXG,EACA,MAAM,IAAIe,eAAe,oCAAoClB,2BAEjE,MAAOmB,GAAQhG,MAAK,EAAO4F,OAAOZ,EAAO,GACzChF,KAAKyE,QAAQuB,EAAKtB,IAAK,CAAEE,WAAUC,MACvC,CACA,OAAAoB,GACI,MAAMD,EAAOhG,MAAK,EAAOkG,QACzB,OAAOF,GAAMtB,GACjB,CACA,MAAAyB,CAAOxB,GACH,OAAO3E,MAAK,EAAOmG,OAAQrB,GAAYA,EAAQF,WAAaD,EAAQC,UAAUwB,IAAKtB,GAAYA,EAAQJ,IAC3G,CACA,QAAIK,GACA,OAAO/E,MAAK,EAAO0B,MACvB,E,6JELJ,MAAM2E,EAAc,CAClBrF,KAAM,WACNsF,MAAO,CAAC,SACRC,MAAO,CACLC,MAAO,CACLC,KAAMC,QAERC,UAAW,CACTF,KAAMC,OACNE,QAAS,gBAEX7B,KAAM,CACJ0B,KAAMI,OACND,QAAS,MAIf,IAAIE,EAAgB,WAClB,IAAIC,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAC/B,OAAOA,EAAG,OAAQD,EAAIG,GAAG,CAAEC,YAAa,iCAAkCC,MAAO,CAAE,cAAeL,EAAIP,MAAQ,KAAO,OAAQ,aAAcO,EAAIP,MAAO,KAAQ,OAAS7D,GAAI,CAAE,MAAS,SAAS0E,GAC7L,OAAON,EAAIO,MAAM,QAASD,EAC5B,IAAO,OAAQN,EAAIQ,QAAQ,GAAQ,CAACP,EAAG,MAAO,CAAEG,YAAa,4BAA6BC,MAAO,CAAE,KAAQL,EAAIJ,UAAW,MAASI,EAAIhC,KAAM,OAAUgC,EAAIhC,KAAM,QAAW,cAAiB,CAACiC,EAAG,OAAQ,CAAEI,MAAO,CAAE,EAAK,0FAA6F,CAACL,EAAIP,MAAQQ,EAAG,QAAS,CAACD,EAAIS,GAAGT,EAAIU,GAAGV,EAAIP,UAAYO,EAAIW,UACpX,EACIC,EAAyB,GAS7B,MAAMC,GARgC,IAAAC,GACpCxB,EACAS,EACAa,GACA,EACA,KACA,MAE+B3E,QAC3B8E,EAAmB,KACvB,MAAMC,EAAiB,EAAU,QAAS,SAAU,MAC9CC,GAAkB,QAAID,GAAgBE,cAAe,GACrDC,GAAqB,QAAIH,GAAgBI,uBAAwB,GACjEC,GAAoB,QAAIL,GAAgBM,sBAAuB,GAgBrE,OAfA,QAAUC,UACR,GAAKhE,IAWHF,QAAQmE,MAAM,gEAVd,IACE,MAAM,KAAEC,SAAe,KAAMjF,KAAI,QAAY,+BAC7CyE,EAAgB/D,MAAQuE,GAAMA,MAAMP,cAAe,EACnDC,EAAmBjE,MAAQuE,GAAMA,MAAML,uBAAwB,EAC/DC,EAAkBnE,MAAQuE,GAAMA,MAAMH,sBAAuB,CAC/D,CAAE,MAAOlE,GACPC,QAAQD,MAAM,gCAAiCA,IAC/C,QAAU,IAAAsE,GAAE,iCACd,IAKG,CACLT,kBACAE,qBACAE,sBAsDEM,EAAc,CAClB1H,KAAM,aACNsF,MAAO,CAAC,SACRC,MAAO,CACLC,MAAO,CACLC,KAAMC,QAERC,UAAW,CACTF,KAAMC,OACNE,QAAS,gBAEX7B,KAAM,CACJ0B,KAAMI,OACND,QAAS,MAIf,IAAI+B,EAAgB,WAClB,IAAI5B,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAC/B,OAAOA,EAAG,OAAQD,EAAIG,GAAG,CAAEC,YAAa,oCAAqCC,MAAO,CAAE,cAAeL,EAAIP,MAAQ,KAAO,OAAQ,aAAcO,EAAIP,MAAO,KAAQ,OAAS7D,GAAI,CAAE,MAAS,SAAS0E,GAChM,OAAON,EAAIO,MAAM,QAASD,EAC5B,IAAO,OAAQN,EAAIQ,QAAQ,GAAQ,CAACP,EAAG,MAAO,CAAEG,YAAa,4BAA6BC,MAAO,CAAE,KAAQL,EAAIJ,UAAW,MAASI,EAAIhC,KAAM,OAAUgC,EAAIhC,KAAM,QAAW,cAAiB,CAACiC,EAAG,OAAQ,CAAEI,MAAO,CAAE,EAAK,yBAA4B,CAACL,EAAIP,MAAQQ,EAAG,QAAS,CAACD,EAAIS,GAAGT,EAAIU,GAAGV,EAAIP,UAAYO,EAAIW,UACnT,EACIkB,EAAyB,GAS7B,MAAMC,GARgC,IAAAhB,GACpCa,EACAC,EACAC,GACA,EACA,KACA,MAEwC5F,QACpC8F,EAAc,CAClB9H,KAAM,eACNsF,MAAO,CAAC,SACRC,MAAO,CACLC,MAAO,CACLC,KAAMC,QAERC,UAAW,CACTF,KAAMC,OACNE,QAAS,gBAEX7B,KAAM,CACJ0B,KAAMI,OACND,QAAS,MAIf,IAAImC,EAAgB,WAClB,IAAIhC,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAC/B,OAAOA,EAAG,OAAQD,EAAIG,GAAG,CAAEC,YAAa,sCAAuCC,MAAO,CAAE,cAAeL,EAAIP,MAAQ,KAAO,OAAQ,aAAcO,EAAIP,MAAO,KAAQ,OAAS7D,GAAI,CAAE,MAAS,SAAS0E,GAClM,OAAON,EAAIO,MAAM,QAASD,EAC5B,IAAO,OAAQN,EAAIQ,QAAQ,GAAQ,CAACP,EAAG,MAAO,CAAEG,YAAa,4BAA6BC,MAAO,CAAE,KAAQL,EAAIJ,UAAW,MAASI,EAAIhC,KAAM,OAAUgC,EAAIhC,KAAM,QAAW,cAAiB,CAACiC,EAAG,OAAQ,CAAEI,MAAO,CAAE,EAAK,yBAA4B,CAACL,EAAIP,MAAQQ,EAAG,QAAS,CAACD,EAAIS,GAAGT,EAAIU,GAAGV,EAAIP,UAAYO,EAAIW,UACnT,EACIsB,EAAyB,GAS7B,MAAMC,GARgC,IAAApB,GACpCiB,EACAC,EACAC,GACA,EACA,KACA,MAEyChG,QACrCkG,EAA2B,CAC/B,yBAA0B,kCAC1B,kCAAmC,4CACnC,iCAAkC,4CAE9BC,GAA8B,QAAgB,CAClDC,OAAQ,kBACR7C,MAAO,CACL8C,aAAc,CAAE5C,KAAM6C,UAExBC,MAAMC,IACG,CAAEC,OAAO,EAAMC,mBAAoBR,MAG9C,IAAIS,EAAgB,WAClB,IAAI5C,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAAI4C,EAAS7C,EAAIE,MAAM4C,YACtD,OAAO7C,EAAG,KAAM,CAAEG,YAAa,+BAAgCC,MAAO,CAAE,cAAe,SAAY,CAACL,EAAIsC,aAAerC,EAAG,KAAM,CAAEG,YAAa,gBAAkB,CAACH,EAAG,UAAYD,EAAIW,KAAMV,EAAG,KAAM,CAAEG,YAAa,YAAc,CAACH,EAAG,MAAO,CAAEG,YAAa,eAAiB,CAACH,EAAG,OAAQ,CAAE8C,MAAOF,EAAOF,mBAAmB,4BAA8B1C,EAAG,YAAaD,EAAIgD,GAAG,GAAIhD,EAAIgD,GAAG,IAC7X,EACIC,EAAyB,CAAC,WAC5B,IAAgBhD,EAANhH,KAAeiH,MAAMD,GAE/B,OAFUhH,KACNiH,MAAM4C,YACH7C,EAAG,KAAM,CAAEG,YAAa,YAAc,CAACH,EAAG,SACnD,EAAG,WACD,IAAgBA,EAANhH,KAAeiH,MAAMD,GAE/B,OAFUhH,KACNiH,MAAM4C,YACH7C,EAAG,KAAM,CAAEG,YAAa,gBAAkB,CAACH,EAAG,SACvD,GASA,MAAMiD,GARgC,IAAApC,GACpCsB,EACAQ,EACAK,GACA,EACA,KACA,YAEsChH,QAClCkH,EAAQ,IC3OC,cAAqB,EAChC,GACA,GACA,GAAiB,EACjB,GACA,IAAyB,EACzB,IAA2B,EAC3B,GACA,GAAe,EACf,GAAqB,EACrB,GACA,GACA,GAEA,GAAe,GACf,GAAyB,EACzB,GACA,GACA,GAAW,EAEX,GACA,GAEA,GAAc,GAEd,GAAgB,IAAI1G,IAgBpB2G,QACA,WAAAC,CAAYzF,GAaR,GAZA0F,UAYqC,iBAVrC1F,EAAU,CACN2F,wBAAwB,EACxBC,YAAa1D,OAAO2D,kBACpBC,SAAU,EACVC,YAAa7D,OAAO2D,kBACpBG,WAAW,EACXC,WAAYpG,EACZqG,QAAQ,KACLlG,IAEc4F,aAA4B5F,EAAQ4F,aAAe,GACpE,MAAM,IAAInK,UAAU,gEAAgEuE,EAAQ4F,aAAaO,YAAc,gBAAgBnG,EAAQ4F,gBAEnJ,QAAyB/H,IAArBmC,EAAQ8F,YAA4B5D,OAAOkE,SAASpG,EAAQ8F,WAAa9F,EAAQ8F,UAAY,GAC7F,MAAM,IAAIrK,UAAU,2DAA2DuE,EAAQ8F,UAAUK,YAAc,gBAAgBnG,EAAQ8F,aAE3I,GAAI9F,EAAQkG,QAA+B,IAArBlG,EAAQ8F,SAC1B,MAAM,IAAIrK,UAAU,sDAExB,GAAIuE,EAAQkG,QAAUlG,EAAQ4F,cAAgB1D,OAAO2D,kBACjD,MAAM,IAAIpK,UAAU,uDAYxB,GARAJ,MAAK,EAA0B2E,EAAQ2F,wBAA0B3F,EAAQqG,4BAA6B,EACtGhL,MAAK,EAAqB2E,EAAQ4F,cAAgB1D,OAAO2D,mBAA0C,IAArB7F,EAAQ8F,SACtFzK,MAAK,EAAe2E,EAAQ4F,YAC5BvK,MAAK,EAAY2E,EAAQ8F,SACzBzK,MAAK,EAAU2E,EAAQkG,OACvB7K,MAAK,EAAS,IAAI2E,EAAQiG,WAC1B5K,MAAK,EAAc2E,EAAQiG,WAC3B5K,KAAK0K,YAAc/F,EAAQ+F,iBACHlI,IAApBmC,EAAQwF,WAA2BtD,OAAOkE,SAASpG,EAAQwF,UAAYxF,EAAQwF,QAAU,GACzF,MAAM,IAAI/J,UAAU,8DAA8DuE,EAAQwF,qBAAqBxF,EAAQwF,YAE3HnK,KAAKmK,QAAUxF,EAAQwF,QACvBnK,MAAK,GAAkC,IAAtB2E,EAAQgG,UACzB3K,MAAK,GACT,CACA,GAAoBiL,GAEhB,KAAOjL,MAAK,EAAyBA,MAAK,EAAa0B,QAAQ,CAC3D,MAAMwJ,EAAalL,MAAK,EAAaA,MAAK,GAC1C,UAAmBwC,IAAf0I,GAA4BD,EAAMC,GAAclL,MAAK,GAIrD,MAHAA,MAAK,GAKb,EAGuBA,MAAK,EAAyB,KAAOA,MAAK,EAAyBA,MAAK,EAAa0B,OAAS,GAC9G1B,MAAK,IAA2BA,MAAK,EAAa0B,UAErD1B,MAAK,EAAeA,MAAK,EAAamB,MAAMnB,MAAK,GACjDA,MAAK,EAAyB,EAEtC,CAEA,GAAqBiL,GACbjL,MAAK,EACLA,MAAK,EAAaQ,KAAKyK,GAGvBjL,MAAK,GAEb,CACA,KACQA,MAAK,EAEDA,MAAK,EAAa0B,OAAS1B,MAAK,GAChCA,MAAK,EAAamL,MAGjBnL,MAAK,EAAiB,GAC3BA,MAAK,GAEb,CACA,KACI,OAAOA,MAAK,EAAa0B,OAAS1B,MAAK,CAC3C,CACA,KAAI,GACA,QAAIA,MAAK,IAGLA,MAAK,EAEEA,MAAK,IAAyBA,MAAK,EAEvCA,MAAK,EAAiBA,MAAK,EACtC,CACA,KAAI,GACA,OAAOA,MAAK,EAAWA,MAAK,CAChC,CACA,KACIA,MAAK,IACiB,IAAlBA,MAAK,GACLA,KAAK8B,KAAK,eAEd9B,MAAK,IACLA,KAAK8B,KAAK,OACd,CACA,KAGI9B,MAAK,OAAawC,EAClBxC,MAAK,IACLA,MAAK,GACT,CACA,GAAoBiL,GAEhB,GAAIjL,MAAK,EAAS,CAId,GAHAA,MAAK,EAAoBiL,GAEAjL,MAAK,KACNA,MAAK,EAAc,CACvC,MAAMkL,EAAalL,MAAK,EAAaA,MAAK,GAEpCoL,EAAQpL,MAAK,GAAaiL,EAAMC,GAEtC,OADAlL,MAAK,EAAuBoL,IACrB,CACX,CACA,OAAO,CACX,CAEA,QAAyB5I,IAArBxC,MAAK,EAA2B,CAChC,MAAMoL,EAAQpL,MAAK,EAAeiL,EAClC,KAAIG,EAAQ,GAkBR,OADApL,MAAK,EAAuBoL,IACrB,EAdP,GAAIpL,MAAK,EAAqB,EAAG,CAC7B,MAAMqL,EAAyBJ,EAAMjL,MAAK,EAC1C,GAAIqL,EAAyBrL,MAAK,EAG9B,OADAA,MAAK,EAAuBA,MAAK,EAAYqL,IACtC,CAEf,CAEArL,MAAK,EAAkBA,MAA4B,EAAIA,MAAK,EAAW,CAO/E,CACA,OAAO,CACX,CACA,GAAuBoL,QACK5I,IAApBxC,MAAK,IAGTA,MAAK,EAAasL,WAAW,KACzBtL,MAAK,KACNoL,GACP,CACA,KACQpL,MAAK,IACLuL,cAAcvL,MAAK,GACnBA,MAAK,OAAcwC,EAE3B,CACA,KACQxC,MAAK,IACLwL,aAAaxL,MAAK,GAClBA,MAAK,OAAawC,EAE1B,CACA,KACI,GAAyB,IAArBxC,MAAK,EAAO+E,KAAY,CAKxB,GAFA/E,MAAK,IACLA,KAAK8B,KAAK,SACY,IAAlB9B,MAAK,EAAgB,CAIrB,GAFAA,MAAK,IAEDA,MAAK,GAAWA,MAAK,EAAyB,EAAG,CACjD,MAAMiL,EAAMQ,KAAKR,MACjBjL,MAAK,EAAoBiL,EAC7B,CACAjL,KAAK8B,KAAK,OACd,CACA,OAAO,CACX,CACA,IAAI4J,GAAc,EAClB,IAAK1L,MAAK,EAAW,CACjB,MAAMiL,EAAMQ,KAAKR,MACXU,GAAyB3L,MAAK,EAAoBiL,GACxD,GAAIjL,MAAK,GAA6BA,MAAK,EAA6B,CACpE,MAAM4L,EAAM5L,MAAK,EAAOiG,UACnBjG,MAAK,IACNA,MAAK,EAAqBiL,GAC1BjL,MAAK,KAETA,KAAK8B,KAAK,UACV8J,IACID,GACA3L,MAAK,IAET0L,GAAc,CAClB,CACJ,CACA,OAAOA,CACX,CACA,KACQ1L,MAAK,QAA2CwC,IAArBxC,MAAK,GAIhCA,MAAK,IAGTA,MAAK,EAAc6L,YAAY,KAC3B7L,MAAK,KACNA,MAAK,GACRA,MAAK,EAAeyL,KAAKR,MAAQjL,MAAK,EAC1C,CACA,KAESA,MAAK,IACsB,IAAxBA,MAAK,GAA0C,IAAlBA,MAAK,GAAkBA,MAAK,GACzDA,MAAK,IAETA,MAAK,EAAiBA,MAAK,EAA0BA,MAAK,EAAW,GAEzEA,MAAK,IACLA,MAAK,GACT,CAIA,KAEI,KAAOA,MAAK,MAChB,CACA,eAAI0K,GACA,OAAO1K,MAAK,CAChB,CACA,eAAI0K,CAAYoB,GACZ,KAAgC,iBAAnBA,GAA+BA,GAAkB,GAC1D,MAAM,IAAI1L,UAAU,gEAAgE0L,eAA4BA,MAEpH9L,MAAK,EAAe8L,EACpB9L,MAAK,GACT,CAqCA,WAAA6F,CAAYhB,EAAID,GACZ,GAAwB,iBAAbA,IAA0BiC,OAAOkE,SAASnG,GACjD,MAAM,IAAIxE,UAAU,sDAAsDwE,eAAsBA,MAEpG5E,MAAK,EAAO6F,YAAYhB,EAAID,EAChC,CACA,SAAMmH,CAAIC,EAAWrH,EAAU,CAAC,GAQ5B,OANAA,EAAU,CACNwF,QAASnK,KAAKmK,WACXxF,EAEHE,GAAIF,EAAQE,KAAO7E,MAAK,KAAe8K,YAEpC,IAAImB,QAAQ,CAACC,EAASC,KAEzB,MAAMC,EAAaC,OAAO,QAAQ1H,EAAQE,MAC1C7E,MAAK,EAAOyE,QAAQ6D,UAShB,IAAIgE,EARJtM,MAAK,IAELA,MAAK,EAAckE,IAAIkI,EAAY,CAC/BvH,GAAIF,EAAQE,GACZD,SAAUD,EAAQC,UAAY,EAC9B2H,UAAWd,KAAKR,MAChBd,QAASxF,EAAQwF,UAGrB,IAGI,IACIxF,EAAQ6H,QAAQC,gBACpB,CACA,MAAOtI,GAIH,MAHAnE,MAAK,IAELA,MAAK,EAAc0M,OAAON,GACpBjI,CACV,CACAnE,MAAK,EAAqByL,KAAKR,MAC/B,IAAI0B,EAAYX,EAAU,CAAEQ,OAAQ7H,EAAQ6H,SAO5C,GANI7H,EAAQwF,UACRwC,GAAY,OAASV,QAAQC,QAAQS,GAAY,CAC7CC,aAAcjI,EAAQwF,QACtB0C,QAAS,wBAAwBlI,EAAQwF,wBAAwBnK,MAAK,cAAqBA,MAAK,EAAO+E,mBAG3GJ,EAAQ6H,OAAQ,CAChB,MAAM,OAAEA,GAAW7H,EACnBgI,EAAYV,QAAQa,KAAK,CAACH,EAAW,IAAIV,QAAQ,CAACc,EAAUZ,KACpDG,EAAgB,KACZH,EAAOK,EAAOQ,SAElBR,EAAOS,iBAAiB,QAASX,EAAe,CAAEvM,MAAM,OAEpE,CACA,MAAMmN,QAAeP,EACrBT,EAAQgB,GACRlN,KAAK8B,KAAK,YAAaoL,EAC3B,CACA,MAAO/I,GACHgI,EAAOhI,GACPnE,KAAK8B,KAAK,QAASqC,EACvB,CACA,QAEQmI,GACA3H,EAAQ6H,QAAQW,oBAAoB,QAASb,GAGjDtM,MAAK,EAAc0M,OAAON,GAE1BgB,eAAe,KACXpN,MAAK,KAEb,GACD2E,GACH3E,KAAK8B,KAAK,OACV9B,MAAK,KAEb,CACA,YAAMqN,CAAOC,EAAW3I,GACpB,OAAOsH,QAAQsB,IAAID,EAAUlH,IAAIkC,MAAO0D,GAAchM,KAAK+L,IAAIC,EAAWrH,IAC9E,CAIA,KAAA6I,GACI,OAAKxN,MAAK,GAGVA,MAAK,GAAY,EACjBA,MAAK,IACEA,MAJIA,IAKf,CAIA,KAAAyN,GACIzN,MAAK,GAAY,CACrB,CAIA,KAAA0N,GACI1N,MAAK,EAAS,IAAIA,MAAK,EAEvBA,MAAK,IAOLA,MAAK,IAELA,KAAK8B,KAAK,SACY,IAAlB9B,MAAK,IACLA,MAAK,IACLA,KAAK8B,KAAK,SAEd9B,KAAK8B,KAAK,OACd,CAMA,aAAM6L,GAEuB,IAArB3N,MAAK,EAAO+E,YAGV/E,MAAK,EAAS,QACxB,CAQA,oBAAM4N,CAAeC,GAEb7N,MAAK,EAAO+E,KAAO8I,SAGjB7N,MAAK,EAAS,OAAQ,IAAMA,MAAK,EAAO+E,KAAO8I,EACzD,CAMA,YAAMC,GAEoB,IAAlB9N,MAAK,GAAuC,IAArBA,MAAK,EAAO+E,YAGjC/E,MAAK,EAAS,OACxB,CAMA,mBAAM+N,GACoB,IAAlB/N,MAAK,SAGHA,MAAK,EAAS,cACxB,CAIA,iBAAMgO,GACEhO,KAAKiO,qBAGHjO,MAAK,EAAS,YACxB,CAIA,wBAAMkO,GACGlO,KAAKiO,qBAGJjO,MAAK,EAAS,mBACxB,CA+BA,OAAAmO,GACI,OAAO,IAAIlC,QAAQ,CAACc,EAAUZ,KAC1B,MAAMiC,EAAejK,IACjBnE,KAAK6C,IAAI,QAASuL,GAClBjC,EAAOhI,IAEXnE,KAAK2C,GAAG,QAASyL,IAEzB,CACA,OAAM,CAASjO,EAAOgG,GAClB,OAAO,IAAI8F,QAAQC,IACf,MAAM7L,EAAW,KACT8F,IAAWA,MAGfnG,KAAK6C,IAAI1C,EAAOE,GAChB6L,MAEJlM,KAAK2C,GAAGxC,EAAOE,IAEvB,CAIA,QAAI0E,GACA,OAAO/E,MAAK,EAAO+E,IACvB,CAMA,MAAAsJ,CAAO1J,GAEH,OAAO3E,MAAK,EAAOmG,OAAOxB,GAASjD,MACvC,CAIA,WAAI4M,GACA,OAAOtO,MAAK,CAChB,CAIA,YAAIuO,GACA,OAAOvO,MAAK,CAChB,CACA,KAEQA,MAAK,IAKTA,KAAK2C,GAAG,MAAO,KACP3C,MAAK,EAAO+E,KAAO,GACnB/E,MAAK,MAGbA,KAAK2C,GAAG,OAAQ,KACZ3C,MAAK,MAEb,CACA,KAEQA,MAAK,GAAsBA,MAAK,IAGpCA,MAAK,GAA2B,EAChCoN,eAAe,KACXpN,MAAK,GAA2B,EAChCA,MAAK,MAEb,CACA,KACQA,MAAK,IAGTA,MAAK,IACLA,MAAK,IACT,CACA,KACI,MAAMwO,EAAWxO,MAAK,EAEtB,GAAIA,MAAK,GAA2C,IAArBA,MAAK,EAAO+E,KAKvC,YAJIyJ,IACAxO,MAAK,GAAyB,EAC9BA,KAAK8B,KAAK,sBAKlB,IAAIsD,EACJ,GAAIpF,MAAK,EAAS,CACd,MAAMiL,EAAMQ,KAAKR,MACjBjL,MAAK,EAAoBiL,GACzB7F,EAAQpF,MAAK,GACjB,MAEIoF,EAAQpF,MAAK,EAEjB,MAAMyO,EAAsBrJ,GAASpF,MAAK,EACtCyO,IAAwBD,IACxBxO,MAAK,EAAyByO,EAC9BzO,KAAK8B,KAAK2M,EAAsB,YAAc,oBAEtD,CAIA,iBAAIR,GACA,OAAOjO,MAAK,CAChB,CA2BA,eAAI0O,GACA,OAAQ1O,MAAK,IAAaA,MAAK,GAAgBA,MAAK,EAAO+E,KAAO,GAC1D/E,KAAKiO,eAAiBjO,MAAK,EAAO+E,KAAO,CACrD,CA8BA,gBAAI4J,GAEA,MAAO,IAAI3O,MAAK,EAAc4O,UAAUxI,IAAIyI,IAAQ,IAAMA,IAC9D,GD5eqB,CAAEnE,YAAa,IAmDlCoE,EAAc,CAClB9N,KAAM,aACNsF,MAAO,CAAC,SACRC,MAAO,CACLC,MAAO,CACLC,KAAMC,QAERC,UAAW,CACTF,KAAMC,OACNE,QAAS,gBAEX7B,KAAM,CACJ0B,KAAMI,OACND,QAAS,MAIf,IAAImI,EAAgB,WAClB,IAAIhI,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAC/B,OAAOA,EAAG,OAAQD,EAAIG,GAAG,CAAEC,YAAa,mCAAoCC,MAAO,CAAE,cAAeL,EAAIP,MAAQ,KAAO,OAAQ,aAAcO,EAAIP,MAAO,KAAQ,OAAS7D,GAAI,CAAE,MAAS,SAAS0E,GAC/L,OAAON,EAAIO,MAAM,QAASD,EAC5B,IAAO,OAAQN,EAAIQ,QAAQ,GAAQ,CAACP,EAAG,MAAO,CAAEG,YAAa,4BAA6BC,MAAO,CAAE,KAAQL,EAAIJ,UAAW,MAASI,EAAIhC,KAAM,OAAUgC,EAAIhC,KAAM,QAAW,cAAiB,CAACiC,EAAG,OAAQ,CAAEI,MAAO,CAAE,EAAK,kGAAqG,CAACL,EAAIP,MAAQQ,EAAG,QAAS,CAACD,EAAIS,GAAGT,EAAIU,GAAGV,EAAIP,UAAYO,EAAIW,UAC5X,EACIsH,GAAyB,GAS7B,MAAMC,IARgC,IAAApH,GACpCiH,EACAC,EACAC,IACA,EACA,KACA,MAEiChM,QAI7BkM,IAA8B,QAAgB,CAFlDlO,KAAM,cAINuF,MAAO,CACL4I,KAAM,KACN/G,kBAAmB,CAAE3B,KAAM6C,UAE7B,KAAAC,CAAMC,GACJ,MAAMjD,EAAQiD,EACRE,GAAqB,QAAIR,IACzB,WACJkG,EAAU,cACVC,GAhEgB,EAACF,EAAMxK,KAC3B,MAAMyK,GAAa,QAAI,MACjBC,GAAgB,SAAI,GAU1B,OATA,QAAY,KACVA,EAAcpL,OAAQ,EACtBmL,EAAWnL,MA3Bf,SAAuBkL,EAAMxK,EAAU,CAAC,GACtCA,EAAU,CAAEI,KAAM,GAAIuK,aAAa,EAAOC,cAAc,KAAS5K,GACjE,IACE,MAAM6K,EAAaL,EAAKM,YAAYD,aAAc,QAAY,gCAAiC,CAC7FE,OAAQP,EAAKO,SAEf,IAAIC,EACJ,IACEA,EAAM,IAAIC,IAAIJ,EAChB,CAAE,MAAOK,GACPF,EAAM,IAAIC,IAAIJ,EAAYnM,OAAOyM,SAASC,OAC5C,CAMA,OALAJ,EAAIK,aAAa9L,IAAI,IAAK,GAAGS,EAAQI,QACrC4K,EAAIK,aAAa9L,IAAI,IAAK,GAAGS,EAAQI,QACrC4K,EAAIK,aAAa9L,IAAI,eAAgB,GAAGS,EAAQ4K,gBAChDI,EAAIK,aAAa9L,IAAI,KAA6B,IAAxBS,EAAQ2K,YAAuB,IAAM,KAC/DK,EAAIK,aAAa9L,IAAI,IAAK,GAAGiL,EAAKM,WAAWQ,QACtCN,CACT,CAAE,MAAOE,GACP,OAAO,IACT,CACF,CAMuBK,EAAc,QAAQf,IAAO,QAAQxK,GAAW,CAAC,IAChEyK,EAAWnL,QAAS,QAAQkL,GAAM1I,OAAS,KAAS0J,MAvC5D,SAAsBR,GACpB,MAAM,QAAEzD,EAAO,QAAEkE,GAAYnE,QAAQoE,gBAQrC,OAPAnG,EAAM6B,IAAI,KACR,MAAMuE,EAAQ,IAAIC,MAIlB,OAHAD,EAAME,QAAU,IAAMtE,GAAQ,GAC9BoE,EAAMG,OAAS,IAAMvE,GAAQ,GAC7BoE,EAAMI,IAAMf,EACLS,IAEFA,CACT,CA8BMO,CAAavB,EAAWnL,MAAM2M,MAAMC,KAAMC,IACxCzB,EAAcpL,MAAQ6M,MAIrB,CACL1B,aACAC,kBAmDI0B,EAAc,QAAMxK,EAAO,SAAS,QAAS,KAAM,CAAG+I,YAAa/I,EAAM6B,sBACvE4I,GAAS,QAAS,IAAMzK,EAAM4I,KAAK1I,OAAS,KAAS0J,MACrDc,GAAuB,QAAS,KACpC,GAAI1K,EAAM4I,KAAK1I,OAAS,KAASyK,OAC/B,OAAO,KAET,GAAgD,IAA5C3K,EAAM4I,KAAKM,aAAa,gBAC1B,OAAO0B,EAAA,IAET,GAAI5K,EAAM4I,KAAKM,aAAa,UAC1B,OAAO0B,EAAA,IAET,MAAMC,EAAa7R,OAAOqP,OAAOrI,EAAM4I,KAAKM,aAAa,gBAAkB,CAAC,GAAG4B,OAC/E,GAAID,EAAWE,KAAM7K,GAASA,IAASlC,EAAUgN,MAAQ9K,IAASlC,EAAUiN,OAC1E,OAAOL,EAAA,IAET,GAAIC,EAAW1P,OAAS,EACtB,OAAOyP,EAAA,IAET,OAAQ5K,EAAM4I,KAAKM,aAAa,eAC9B,IAAK,WACL,IAAK,mBACH,OAAO0B,EAAA,GACT,IAAK,QACH,OAAOA,EAAA,IACT,IAAK,SACH,OAAOA,EAAA,IAEX,OAAO,OAET,MAAO,CAAE1H,OAAO,EAAMC,qBAAoBnD,QAAO6I,aAAYC,gBAAe2B,SAAQC,uBAAsBQ,iBAAgB,6BAC5H,IAEF,IAAIC,GAAgB,WAClB,IAAI3K,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAAI4C,EAAS7C,EAAIE,MAAM4C,YACtD,OAAO7C,EAAG,MAAO,CAAE8C,MAAOF,EAAOF,mBAAmB,0BAA2BiI,MAAO/H,EAAOyF,cAAgB,CAAEuC,gBAAiB,OAAOhI,EAAOwF,oBAAkB,GAAU,CAAExF,EAAOyF,cAAqatI,EAAIW,KAAzZ,CAACkC,EAAOoH,OAAShK,EAAG4C,EAAOhC,SAAU,CAAER,MAAO,CAAE,KAAQ,MAAU,CAACwC,EAAOqH,qBAAuBjK,EAAG4C,EAAO6H,iBAAkB,CAAE3H,MAAOF,EAAOF,mBAAmB,kCAAmCtC,MAAO,CAAE,OAAU,GAAI,KAAQwC,EAAOqH,qBAAsB,KAAQ,MAAUlK,EAAIW,KAAMV,EAAG4C,EAAOqF,WAAY,CAAEnF,MAAOF,EAAOF,mBAAmB,mCAAoCtC,MAAO,CAAE,KAAQ,SAAuB,EACrmB,EACIyK,GAAyB,GAS7B,MAAMC,IARgC,IAAAjK,GACpCqH,GACAwC,GACAG,IACA,EACA,KACA,MAEkC7O,QAC9B+O,IAA8B,QAAgB,CAClD3I,OAAQ,cACR7C,MAAO,CACLyL,mBAAoB,CAAEvL,KAAM6C,SAC5B2I,SAAU,CAAExL,KAAM6C,SAClBD,aAAc,CAAE5C,KAAM6C,SACtB4I,QAAS,CAAEzL,KAAM6C,SACjB6F,KAAM,KACN/G,kBAAmB,CAAE3B,KAAM6C,UAE7BhD,MAAO,CAAC,kBAAmB,mBAC3B,KAAAiD,CAAMC,GAAW1H,KAAMqQ,IACrB,MAAM5L,EAAQiD,EACR4I,GAAgB,QAAS,IEvXnC,SAAiBC,GACf,MAAMC,EApBR,SAAkBD,GAEhB,OADAA,EAAOA,EAAKE,QAAQ,MAAO,KAAKA,QAAQ,QAAS,IAAIA,QAAQ,OAAQ,GAKvE,CAceC,CAASH,GAChBrN,EAAQsN,EAAKG,YAAY,KAC/B,OAAIzN,EAAQ,EACHsN,EAAKI,UAAU1N,GAEjB,EACT,CFgXyC2N,CAAQpM,EAAM4I,KAAKyD,cAClDC,GAAc,QAAS,IAAMtM,EAAM4I,KAAKyD,YAAYzR,MAAM,EAAGiR,EAAcnO,OAASmO,EAAcnO,MAAMvC,YAAS,IACjHoR,GAAc,QAAS,IAAMvM,EAAM4I,KAAK1I,OAAS,KAASyK,QAC1D6B,GAAa,QAAS,IAAMxM,EAAM2L,UAAY3L,EAAMyL,qBAAuBc,EAAY7O,QACvF+O,GAAgB,QAAS,KAAOzM,EAAM4I,KAAK8D,YAAc,KAAWC,QAAU,KAAWA,MAC/F,SAASC,IACFJ,EAAW9O,OAGhBkO,EAAM,mBAAoB5L,EAAM0L,SAClC,CACA,SAASmB,IACHN,EAAY7O,MACV+O,EAAc/O,OAChBkO,EAAM,kBAAmB5L,EAAM4I,MAGjCgE,GAEJ,CAMA,MAAO,CAAE1J,OAAO,EAAMlD,QAAOzE,KAAMqQ,EAAOC,gBAAeS,cAAaC,cAAaC,aAAYC,gBAAeG,iBAAgBC,cAAaC,cAL3I,SAAuBlT,GACH,UAAdA,EAAM+C,KACRkQ,GAEJ,EAC0JE,eAAc,2BAAuB,eAAY,MAAG,mBAChN,IAEF,IAAIC,GAAgB,WAClB,IAAIxM,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAAI4C,EAAS7C,EAAIE,MAAM4C,YACtD,OAAO7C,EAAG,KAAMD,EAAIyM,GAAG,CAAE1J,MAAO,CAAC,mBAAoB,CACnD,6BAA8B/C,EAAIkL,WAAalL,EAAIsC,aACnD,oCAAqCO,EAAOkJ,cAAgBlJ,EAAOoJ,cACnE,kCAAmCpJ,EAAOmJ,aACxC3L,MAAO,CAAE,SAAYL,EAAIsC,eAAiBO,EAAOkJ,iBAAc,EAAS,EAAG,gBAAkBlJ,EAAOmJ,WAAsBhM,EAAIkL,cAAb,EAAuB,gBAAiBlL,EAAIoI,KAAKqD,SAAU,cAAe,kBAAqB,CAClNiB,MAAO7J,EAAOwJ,gBAEVrM,EAAIsC,cAAgBO,EAAOkJ,YAAc,CAAEY,QAAS9J,EAAOyJ,eAAkB,CAAC,IAChF,CAACtM,EAAIsC,aAAerC,EAAG,KAAM,CAAEG,YAAa,eAAgBxE,GAAI,CAAE,MAAS,SAAS0E,GAEtF,OADAA,EAAOsM,mBACA,KACN,GAAElR,MAAM,KAAMH,UACjB,IAAO,CAAC0E,EAAG4C,EAAOgK,sBAAuB,CAAExM,MAAO,CAAE,aAAcwC,EAAOnB,EAAE,gCAAiC,CAAEoL,SAAUjK,EAAOiJ,cAAgB,UAAajJ,EAAOmJ,WAAY,cAAe,eAAgB,cAAehM,EAAIkL,UAAYtP,GAAI,CAAE,qBAAsBiH,EAAOuJ,mBAAsB,GAAKpM,EAAIW,KAAMV,EAAG,KAAM,CAAEG,YAAa,YAAc,CAACH,EAAG,MAAO,CAAEG,YAAa,8BAA+BC,MAAO,CAAE,cAAe,aAAgB,CAACJ,EAAG4C,EAAOkI,YAAa,CAAE1K,MAAO,CAAE,KAAQL,EAAIoI,KAAM,sBAAuBpI,EAAIqB,qBAAwBpB,EAAG,MAAO,CAAEG,YAAa,yBAA0BC,MAAO,CAAE,MAASwC,EAAOiJ,aAAeiB,SAAU,CAAE,YAAe/M,EAAIU,GAAGmC,EAAOiJ,gBAAmB7L,EAAG,MAAO,CAAEG,YAAa,8BAA+B2M,SAAU,CAAE,YAAe/M,EAAIU,GAAGmC,EAAOwI,mBAAsB,KAAMpL,EAAG,KAAM,CAAEG,YAAa,YAAc,CAACJ,EAAIS,GAAG,IAAMT,EAAIU,GAAGmC,EAAO0J,eAAevM,EAAIoI,KAAKpK,MAAQ,IAAM,OAAQiC,EAAG,KAAM,CAAEG,YAAa,gBAAkB,CAACH,EAAG4C,EAAOmK,WAAY,CAAE3M,MAAO,CAAE,UAAaL,EAAIoI,KAAK6E,MAAO,kBAAkB,MAAY,IACjjC,EACIC,GAAyB,GAS7B,MAAMC,IARgC,IAAArM,GACpCkK,GACAwB,GACAU,IACA,EACA,KACA,YAEkCjR,QAC9BmR,IAA8B,QAAgB,CAClD/K,OAAQ,WACR7C,MAAO,CACL6N,YAAa,KACbC,YAAa,CAAE5N,KAAM6C,SACrB0I,mBAAoB,CAAEvL,KAAM6C,SAC5BgL,QAAS,CAAE7N,KAAM6C,SACjBiL,MAAO,KACPrC,QAAS,KACTsC,cAAe,KACfnC,KAAM,MAER/L,MAAO,CAAC,cAAe,wBACvB,KAAAiD,CAAMC,GAAW1H,KAAMqQ,IACrB,MAAM5L,EAAQiD,EACRiL,GAAsB,WACpBC,cAAeC,GA9XL,CAACP,IACrB,MAAMQ,EAAgBC,GAAsB,QAAXA,EAAmB,YAAyB,SAAXA,EAAoB,aAAe,OAC/FC,EAAkB,EAAU,QAAS,cAAe,MACpDC,GAAkB,QAAI,CAC1BC,OAAQF,GAAiBP,OAAOU,cAAgB,WAChDC,MAAON,EAAaE,GAAiBP,OAAOY,mBAAqB,SAE7DC,GAAmB,QAAI,CAC3BJ,OAAQF,GAAiBO,QAAQJ,cAAgB,WACjDC,MAAON,EAAaE,GAAiBO,QAAQF,mBAAqB,SAE9DG,GAAsB,QAAI,CAC9BN,OAAQF,GAAiBS,WAAWN,cAAgB,WACpDC,MAAON,EAAaE,GAAiBS,WAAWJ,mBAAqB,UAEvE,QAAU7M,UACR,GAAKhE,IAoBHF,QAAQmE,MAAM,6DAnBd,IACE,MAAM,KAAEC,SAAe,KAAMjF,KAAI,QAAY,6BAC7CwR,EAAgB9Q,MAAQ,CACtB+Q,OAAQxM,GAAMA,MAAM+L,OAAOU,cAAgB,WAC3CC,MAAON,EAAapM,GAAMA,MAAM+L,OAAOY,oBAEzCG,EAAoBrR,MAAQ,CAC1B+Q,OAAQxM,GAAMA,MAAM+M,WAAWN,cAAgB,WAC/CC,MAAON,EAAapM,GAAMA,MAAM+M,WAAWJ,oBAE7CC,EAAiBnR,MAAQ,CACvB+Q,OAAQxM,GAAMA,MAAM6M,QAAQJ,cAAgB,WAC5CC,MAAON,EAAapM,GAAMA,MAAM6M,QAAQF,mBAE5C,CAAE,MAAOhR,GACPC,QAAQD,MAAM,6BAA8BA,IAC5C,QAAU,IAAAsE,GAAE,8BACd,IAKJ,MAAMiM,GAAgB,QAAS,IAA0C,WAApC,QAAQN,GAAe,SAAuBW,EAAgB9Q,MAAiC,YAAzB,QAAQmQ,GAA4BgB,EAAiBnR,MAAQqR,EAAoBrR,OACtL+Q,GAAS,QAAS,IAAMN,EAAczQ,MAAM+Q,QAC5CE,GAAQ,QAAS,IAAMR,EAAczQ,MAAMiR,OACjD,MAAO,CACLH,kBACAO,sBACAF,mBACAV,gBACAM,SACAE,UA8U2CM,CAAcjP,EAAM6N,aACzDqB,GAAgB,QAAS,IAAMhB,EAAoBxQ,OAAS0Q,EAAgB1Q,OAC5EyR,GAAa,QAAS,IAAqC,aAA/BD,EAAcxR,MAAM+Q,OAAsD,SAA9BS,EAAcxR,MAAMiR,WAAmB,EAASO,EAAcxR,MAAMiR,WAAQ,GACpJS,GAAa,QAAS,IAAqC,SAA/BF,EAAcxR,MAAM+Q,OAAkD,SAA9BS,EAAcxR,MAAMiR,WAAmB,EAASO,EAAcxR,MAAMiR,WAAQ,GAChJU,GAAiB,QAAS,IAAqC,UAA/BH,EAAcxR,MAAM+Q,OAAmD,SAA9BS,EAAcxR,MAAMiR,WAAmB,EAASO,EAAcxR,MAAMiR,WAAQ,IAYrJ,mBAAEhN,EAAkB,kBAAEE,GAAsBN,IAC5C+N,GAAc,QAAS,KACpB,QAAUtP,EAAMgO,MAAO,CAC5BuB,kBAAkB,EAClB5N,mBAAoBA,EAAmBjE,MACvC8R,aAA4C,eAA9BN,EAAcxR,MAAMiR,MAAyB,OAAS,MACpEc,YAAaP,EAAcxR,MAAM+Q,UAG/BiB,GAAkB,QAAS,IAAM1P,EAAMgO,MAAMpO,OAAQ+P,GAAS3P,EAAMyL,oBAAsBkE,EAAKzP,OAAS,KAASyK,SACjHiF,GAAc,QAAS,KAAO5P,EAAM+N,SAAW/N,EAAMiO,cAAc9S,OAAS,GAAK6E,EAAMiO,cAAc9S,QAAUuU,EAAgBhS,MAAMvC,QAsBrI0U,GAAiB,QAAI,GACrBC,GAAgB,UACtB,CACE,MAAMC,EAAS,KAAM,QAAS,KAC5B,MAAMC,EAAQF,EAAcpS,OAAOuS,eAAeC,UAAY,GAC9D,IAAIC,EAASL,EAAcpS,OAAOuS,eAAeG,cAAgB,IACjE,IAAK,IAAI3R,EAAQ,EAAGA,EAAQuR,EAAM7U,OAAQsD,IACnCqR,EAAcpS,OAAO2S,WAAWL,EAAMvR,MACzC0R,GAAUH,EAAMvR,GAAO2R,cAG3BP,EAAenS,MAAQqB,KAAKuR,IAAI,EAAGvR,KAAKwR,OAAOJ,EAAS,IAAM,QAEhE,QAAU,KACRrT,OAAO4J,iBAAiB,SAAUqJ,GAClCA,OAEF,QAAY,KACVjT,OAAO8J,oBAAoB,SAAUmJ,IAEzC,CACA,MAAO,CAAE7M,OAAO,EAAMlD,QAAOzE,KAAMqQ,EAAOsC,sBAAqBE,kBAAiBc,gBAAeC,aAAYC,aAAYC,iBAAgBmB,cAhEhH/B,IACjBS,EAAcxR,MAAM+Q,SAAWA,EACC,cAA9BS,EAAcxR,MAAMiR,MACtBT,EAAoBxQ,MAAQ,CAAE+Q,OAAQS,EAAcxR,MAAM+Q,OAAQE,MAAO,cAEzET,EAAoBxQ,MAAQ,CAAE+Q,OAAQS,EAAcxR,MAAM+Q,OAAQE,MAAO,aAG3ET,EAAoBxQ,MAAQ,CAAE+Q,SAAQE,MAAO,cAwDqGhN,qBAAoBE,oBAAmByN,cAAaI,kBAAiBE,cAAaa,YA1CxO,WACMzQ,EAAMiO,cAAc9S,OAASuU,EAAgBhS,MAAMvC,OACrDyQ,EAAM,uBAAwB8D,EAAgBhS,OAE9CkO,EAAM,uBAAwB,GAElC,EAoCqP8E,eAnCrP,SAAwBf,GAClB3P,EAAMiO,cAAc0C,SAAShB,GAC/B/D,EAAM,uBAAwB5L,EAAMiO,cAAcrO,OAAQgR,GAAMA,EAAE9E,OAAS6D,EAAK7D,OAE5E9L,EAAM8N,YACRlC,EAAM,uBAAwB,IAAI5L,EAAMiO,cAAe0B,IAEvD/D,EAAM,uBAAwB,CAAC+D,GAGrC,EAyBqQkB,kBAxBrQ,SAA2BC,GACzBlF,EAAM,cAAekF,EAAIhF,KAC3B,EAsBwR+D,iBAAgBC,gBAAeiB,SAAQ,0BAAuB,MAAG,8EAC3V,IAEF,IAAIC,GAAgB,WAClB,IAAIxQ,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAAI4C,EAAS7C,EAAIE,MAAM4C,YACtD,OAAO7C,EAAG,MAAO,CAAEwQ,IAAK,gBAAiBrQ,YAAa,sBAAwB,CAACH,EAAG,QAAS,CAACA,EAAG,QAAS,CAACA,EAAG,KAAM,CAACD,EAAIsN,YAAcrN,EAAG,KAAM,CAAEG,YAAa,gBAAkB,CAACH,EAAG,OAAQ,CAAEG,YAAa,mBAAqB,CAACJ,EAAIS,GAAG,IAAMT,EAAIU,GAAGmC,EAAOnB,EAAE,iBAAmB,OAAQ1B,EAAIsN,YAAcrN,EAAG4C,EAAOgK,sBAAuB,CAAExM,MAAO,CAAE,aAAcwC,EAAOnB,EAAE,sBAAuB,cAAe,sBAAuB,cAAemB,EAAOuM,aAAexT,GAAI,CAAE,qBAAsBiH,EAAOoN,eAAmBjQ,EAAIW,MAAO,GAAKX,EAAIW,KAAMV,EAAG,KAAM,CAAEG,YAAa,WAAYC,MAAO,CAAE,YAAawC,EAAO8L,aAAgB,CAAC1O,EAAG,MAAO,CAAEG,YAAa,kBAAoB,CAACH,EAAG,OAAQ,CAAEG,YAAa,gCAAkCH,EAAG4C,EAAO0N,SAAU,CAAElQ,MAAO,CAAE,MAAQ,EAAM,KAAQ,WAAY,YAAa,yBAA2BzE,GAAI,CAAE,MAAS,SAAS0E,GAC11B,OAAOuC,EAAOmN,cAAc,WAC9B,GAAKU,YAAa1Q,EAAI2Q,GAAG,CAAC,CAAExU,IAAK,OAAQrD,GAAI,WAC3C,MAAO,CAAuB,cAAtB+J,EAAO8L,WAA6B1O,EAAG4C,EAAOf,kBAAmB,CAAEzB,MAAO,CAAE,KAAQ,MAAgC,eAAtBwC,EAAO8L,WAA8B1O,EAAG4C,EAAOX,mBAAoB,CAAE7B,MAAO,CAAE,KAAQ,MAAUJ,EAAG,OAAQ,CAAE2Q,YAAa,CAAE,MAAS,UAC7O,EAAGC,OAAO,MAAY,CAAC7Q,EAAIS,GAAG,IAAMT,EAAIU,GAAGmC,EAAOnB,EAAE,SAAW,QAAS,KAAMzB,EAAG,KAAM,CAAEG,YAAa,WAAYC,MAAO,CAAE,YAAawC,EAAO+L,aAAgB,CAAC3O,EAAG4C,EAAO0N,SAAU,CAAElQ,MAAO,CAAE,MAAQ,EAAM,KAAQ,YAAczE,GAAI,CAAE,MAAS,SAAS0E,GACzP,OAAOuC,EAAOmN,cAAc,OAC9B,GAAKU,YAAa1Q,EAAI2Q,GAAG,CAAC,CAAExU,IAAK,OAAQrD,GAAI,WAC3C,MAAO,CAAuB,cAAtB+J,EAAO+L,WAA6B3O,EAAG4C,EAAOf,kBAAmB,CAAEzB,MAAO,CAAE,KAAQ,MAAgC,eAAtBwC,EAAO+L,WAA8B3O,EAAG4C,EAAOX,mBAAoB,CAAE7B,MAAO,CAAE,KAAQ,MAAUJ,EAAG,OAAQ,CAAE2Q,YAAa,CAAE,MAAS,UAC7O,EAAGC,OAAO,MAAY,CAAC7Q,EAAIS,GAAG,IAAMT,EAAIU,GAAGmC,EAAOnB,EAAE,SAAW,QAAS,GAAIzB,EAAG,KAAM,CAAEG,YAAa,eAAgBC,MAAO,CAAE,YAAawC,EAAOgM,iBAAoB,CAAC5O,EAAG4C,EAAO0N,SAAU,CAAElQ,MAAO,CAAE,MAAQ,EAAM,KAAQ,YAAczE,GAAI,CAAE,MAAS,SAAS0E,GAC/P,OAAOuC,EAAOmN,cAAc,QAC9B,GAAKU,YAAa1Q,EAAI2Q,GAAG,CAAC,CAAExU,IAAK,OAAQrD,GAAI,WAC3C,MAAO,CAA2B,cAA1B+J,EAAOgM,eAAiC5O,EAAG4C,EAAOf,kBAAmB,CAAEzB,MAAO,CAAE,KAAQ,MAAoC,eAA1BwC,EAAOgM,eAAkC5O,EAAG4C,EAAOX,mBAAoB,CAAE7B,MAAO,CAAE,KAAQ,MAAUJ,EAAG,OAAQ,CAAE2Q,YAAa,CAAE,MAAS,UACrP,EAAGC,OAAO,MAAY,CAAC7Q,EAAIS,GAAG,IAAMT,EAAIU,GAAGmC,EAAOnB,EAAE,aAAe,QAAS,OAAQzB,EAAG,QAAS,CAACD,EAAIuN,QAAUvN,EAAI8Q,GAAGjO,EAAOwM,eAAgB,SAASpR,GACpJ,OAAOgC,EAAG4C,EAAOK,gBAAiB,CAAE/G,IAAK8B,EAAOoC,MAAO,CAAE,gBAAiBL,EAAIsN,cAChF,GAAKtN,EAAI8Q,GAAGjO,EAAOiM,YAAa,SAASK,GACvC,OAAOlP,EAAG4C,EAAOsK,YAAa,CAAEhR,IAAKgT,EAAKxG,QAAUwG,EAAK7D,KAAMjL,MAAO,CAAE,uBAAwBL,EAAIiL,mBAAoB,gBAAiBjL,EAAIsN,YAAa,YAAatN,EAAIsN,aAA4C,IAA7BtN,EAAIyN,cAAc9S,QAAgBqF,EAAIyN,cAAc0C,SAAShB,WAA2B,IAAhBnP,EAAImL,SAAsBnL,EAAImL,QAAQgE,IAAQ,SAAYnP,EAAIyN,cAAc0C,SAAShB,GAAO,KAAQA,EAAM,sBAAuBtM,EAAOxB,mBAAqBzF,GAAI,CAAE,kBAAmB,SAAS0E,GAC/b,OAAOuC,EAAOqN,eAAef,EAC/B,EAAG,kBAAmBtM,EAAOwN,oBAC/B,IAAK,MACP,EACIU,GAAyB,GAS7B,MAAMC,IARgC,IAAAlQ,GACpCsM,GACAoD,GACAO,IACA,EACA,KACA,YAE+B9U,QAC3BgV,GAAc,CAClBhX,KAAM,WACNsF,MAAO,CAAC,SACRC,MAAO,CACLC,MAAO,CACLC,KAAMC,QAERC,UAAW,CACTF,KAAMC,OACNE,QAAS,gBAEX7B,KAAM,CACJ0B,KAAMI,OACND,QAAS,MAIf,IAAIqR,GAAgB,WAClB,IAAIlR,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAC/B,OAAOA,EAAG,OAAQD,EAAIG,GAAG,CAAEC,YAAa,iCAAkCC,MAAO,CAAE,cAAeL,EAAIP,MAAQ,KAAO,OAAQ,aAAcO,EAAIP,MAAO,KAAQ,OAAS7D,GAAI,CAAE,MAAS,SAAS0E,GAC7L,OAAON,EAAIO,MAAM,QAASD,EAC5B,IAAO,OAAQN,EAAIQ,QAAQ,GAAQ,CAACP,EAAG,MAAO,CAAEG,YAAa,4BAA6BC,MAAO,CAAE,KAAQL,EAAIJ,UAAW,MAASI,EAAIhC,KAAM,OAAUgC,EAAIhC,KAAM,QAAW,cAAiB,CAACiC,EAAG,OAAQ,CAAEI,MAAO,CAAE,EAAK,gDAAmD,CAACL,EAAIP,MAAQQ,EAAG,QAAS,CAACD,EAAIS,GAAGT,EAAIU,GAAGV,EAAIP,UAAYO,EAAIW,UAC1U,EACIwQ,GAAyB,GAS7B,MAAMC,IARgC,IAAAtQ,GACpCmQ,GACAC,GACAC,IACA,EACA,KACA,MAE+BlV,QAC3BoV,GAAc,CAClBpX,KAAM,WACNsF,MAAO,CAAC,SACRC,MAAO,CACLC,MAAO,CACLC,KAAMC,QAERC,UAAW,CACTF,KAAMC,OACNE,QAAS,gBAEX7B,KAAM,CACJ0B,KAAMI,OACND,QAAS,MAIf,IAAIyR,GAAgB,WAClB,IAAItR,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAC/B,OAAOA,EAAG,OAAQD,EAAIG,GAAG,CAAEC,YAAa,iCAAkCC,MAAO,CAAE,cAAeL,EAAIP,MAAQ,KAAO,OAAQ,aAAcO,EAAIP,MAAO,KAAQ,OAAS7D,GAAI,CAAE,MAAS,SAAS0E,GAC7L,OAAON,EAAIO,MAAM,QAASD,EAC5B,IAAO,OAAQN,EAAIQ,QAAQ,GAAQ,CAACP,EAAG,MAAO,CAAEG,YAAa,4BAA6BC,MAAO,CAAE,KAAQL,EAAIJ,UAAW,MAASI,EAAIhC,KAAM,OAAUgC,EAAIhC,KAAM,QAAW,cAAiB,CAACiC,EAAG,OAAQ,CAAEI,MAAO,CAAE,EAAK,8CAAiD,CAACL,EAAIP,MAAQQ,EAAG,QAAS,CAACD,EAAIS,GAAGT,EAAIU,GAAGV,EAAIP,UAAYO,EAAIW,UACxU,EACI4Q,GAAyB,GAS7B,MAAMC,IARgC,IAAA1Q,GACpCuQ,GACAC,GACAC,IACA,EACA,KACA,MAE+BtV,QAC3BwV,IAA8B,QAAgB,CAClDpP,OAAQ,wBACR7C,MAAO,CACL8L,KAAM,KACNoG,SAAU,CAAEhS,KAAM6C,UAEpBhD,MAAO,CAAC,cAAe,eACvB,KAAAiD,CAAMC,GAAW1H,KAAMqQ,IACrB,MAAM5L,EAAQiD,EACRkP,GAAc,SAAI,GAClBC,GAAc,QAAI,IAClBC,GAAY,UAClB,SAASC,IACP,MAAM7X,EAAO2X,EAAY1U,MAAM6U,OACzBC,EAAQH,EAAU3U,OAAO+U,KAAKrV,cAAc,SAClD,IAAIsV,EAAW,GACf,KACE,QAAiBjY,EACnB,CAAE,MAAOmD,GACP,KAAMA,aAAiB,MACrB,MAAMA,EAER,OAAQA,EAAM6I,QACZ,KAAK,KAA2BkM,UAC9BD,GAAW,IAAAxQ,GAAE,gDAAiD,CAAE0Q,KAAMhV,EAAMiV,UAC5E,MACF,KAAK,KAA2BC,aAC9BJ,GAAW,IAAAxQ,GAAE,mEAAoE,CAAE2Q,QAASjV,EAAMiV,UAClG,MACF,KAAK,KAA2BE,UAC9BL,GAAW,IAAAxQ,GAAE,gDAAiD,CAAE8Q,UAAWpV,EAAMiV,UACjF,MACF,QACEH,GAAW,IAAAxQ,GAAE,wBAEnB,CAIA,OAHIsQ,GACFA,EAAMS,kBAAkBP,GAEN,KAAbA,CACT,CACA,MAQMQ,GAAe,QACnB,IAAMlT,EAAM8L,KAAKqH,MAAM,KAAKvT,OAAQwT,GAAY,KAANA,GAAUvT,IAAI,CAACuT,EAAGnY,EAAGoY,KAAa,CAC1E5Y,KAAM2Y,EACNtH,KAAM,IAAMuH,EAASzY,MAAM,EAAGK,EAAI,GAAGqY,KAAK,SAG9C,MAAO,CAAEpQ,OAAO,EAAMlD,QAAOzE,KAAMqQ,EAAOuG,cAAaC,cAAaC,YAAWC,gBAAeiB,SAd7E,WACf,MAAM9Y,EAAO2X,EAAY1U,MAAM6U,OAC3BD,MACFH,EAAYzU,OAAQ,EACpBkO,EAAM,cAAenR,GACrB2X,EAAY1U,MAAQ,GAExB,EAOwGwV,eAAcM,cAAa,cAAW,iBAAc,kBAAe,4CAAmC,IAChN,IAEF,IAAIC,GAAgB,WAClB,IAAIjT,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAAI4C,EAAS7C,EAAIE,MAAM4C,YACtD,OAAO7C,EAAG4C,EAAOqQ,cAAe,CAAE9S,YAAa,2BAA4BsQ,YAAa1Q,EAAI2Q,GAAG,CAAC,CAAExU,IAAK,UAAWrD,GAAI,WACpH,MAAO,CAACmH,EAAG4C,EAAOsQ,aAAc,CAAE9S,MAAO,CAAE,KAAQwC,EAAOnB,EAAE,aAAc,MAASmB,EAAOnB,EAAE,SAAW9F,GAAI,CAAE,MAAS,SAAS0E,GAC7H,OAAOuC,EAAO9H,KAAK,cAAe,IACpC,GAAK2V,YAAa1Q,EAAI2Q,GAAG,CAAC,CAAExU,IAAK,OAAQrD,GAAI,WAC3C,MAAO,CAACmH,EAAG4C,EAAOuO,SAAU,CAAE/Q,MAAO,CAAE,KAAQ,MACjD,EAAGwQ,OAAO,OAAa7Q,EAAI8Q,GAAGjO,EAAO6P,aAAc,SAASpC,GAC1D,OAAOrQ,EAAG4C,EAAOsQ,aAAc,CAAEhX,IAAKmU,EAAIhF,KAAMjL,MAAO,CAAE,KAAQiQ,EAAIrW,KAAM,MAASqW,EAAIhF,MAAQ1P,GAAI,CAAE,MAAS,SAAS0E,GACtH,OAAOuC,EAAO9H,KAAK,cAAeuV,EAAIhF,KACxC,IACF,GACF,EAAGuF,OAAO,GAAQ7Q,EAAI0R,SAAW,CAAEvV,IAAK,UAAWrD,GAAI,WACrD,MAAO,CAACmH,EAAG4C,EAAOuQ,UAAW,CAAE/S,MAAO,CAAE,KAAQwC,EAAO8O,YAAa,aAAc9O,EAAOnB,EAAE,oBAAqB,cAAc,EAAM,cAAc,EAAM,YAAamB,EAAOnB,EAAE,OAAQ,KAAQ,aAAe9F,GAAI,CAAE,cAAe,SAAS0E,GACzOuC,EAAO8O,YAAcrR,CACvB,EAAG,MAAS,SAASA,GACnBuC,EAAO+O,YAAc,EACvB,GAAKlB,YAAa1Q,EAAI2Q,GAAG,CAAC,CAAExU,IAAK,OAAQrD,GAAI,WAC3C,MAAO,CAACmH,EAAG4C,EAAO2O,SAAU,CAAEnR,MAAO,CAAE,KAAQ,MACjD,EAAGwQ,OAAO,IAAS,MAAM,EAAO,aAAe,CAAC5Q,EAAG4C,EAAOmQ,cAAe,CAAEvC,IAAK,YAAapQ,MAAO,CAAE,MAASwC,EAAO+O,YAAa,MAAS/O,EAAOnB,EAAE,cAAe,YAAemB,EAAOnB,EAAE,oBAAsB9F,GAAI,CAAE,eAAgB,SAAS0E,GAC/OuC,EAAO+O,YAActR,CACvB,EAAG,OAAUuC,EAAOkQ,SAAU,qBAAsBlQ,EAAOiP,eAAiBpB,YAAa1Q,EAAI2Q,GAAG,CAAC,CAAExU,IAAK,OAAQrD,GAAI,WAClH,MAAO,CAACmH,EAAG4C,EAAOqF,WAAY,CAAE7H,MAAO,CAAE,KAAQ,MACnD,EAAGwQ,OAAO,IAAS,MAAM,EAAO,eAAiB,GACnD,EAAGA,OAAO,GAAS,MAAO,MAAM,IAClC,EACIwC,GAAyB,GAS7B,MAAMC,IARgC,IAAAxS,GACpC2Q,GACAwB,GACAI,IACA,EACA,KACA,YAE4CpX,QACxCsX,GAAc,CAClBtZ,KAAM,YACNsF,MAAO,CAAC,SACRC,MAAO,CACLC,MAAO,CACLC,KAAMC,QAERC,UAAW,CACTF,KAAMC,OACNE,QAAS,gBAEX7B,KAAM,CACJ0B,KAAMI,OACND,QAAS,MAIf,IAAI2T,GAAgB,WAClB,IAAIxT,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAC/B,OAAOA,EAAG,OAAQD,EAAIG,GAAG,CAAEC,YAAa,kCAAmCC,MAAO,CAAE,cAAeL,EAAIP,MAAQ,KAAO,OAAQ,aAAcO,EAAIP,MAAO,KAAQ,OAAS7D,GAAI,CAAE,MAAS,SAAS0E,GAC9L,OAAON,EAAIO,MAAM,QAASD,EAC5B,IAAO,OAAQN,EAAIQ,QAAQ,GAAQ,CAACP,EAAG,MAAO,CAAEG,YAAa,4BAA6BC,MAAO,CAAE,KAAQL,EAAIJ,UAAW,MAASI,EAAIhC,KAAM,OAAUgC,EAAIhC,KAAM,QAAW,cAAiB,CAACiC,EAAG,OAAQ,CAAEI,MAAO,CAAE,EAAK,kHAAqH,CAACL,EAAIP,MAAQQ,EAAG,QAAS,CAACD,EAAIS,GAAGT,EAAIU,GAAGV,EAAIP,UAAYO,EAAIW,UAC5Y,EACI8S,GAAyB,GAS7B,MAAMC,IARgC,IAAA5S,GACpCyS,GACAC,GACAC,IACA,EACA,KACA,MAEgCxX,QAC5B0X,GAAc,CAClB1Z,KAAM,cACNsF,MAAO,CAAC,SACRC,MAAO,CACLC,MAAO,CACLC,KAAMC,QAERC,UAAW,CACTF,KAAMC,OACNE,QAAS,gBAEX7B,KAAM,CACJ0B,KAAMI,OACND,QAAS,MAIf,IAAI+T,GAAgB,WAClB,IAAI5T,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAC/B,OAAOA,EAAG,OAAQD,EAAIG,GAAG,CAAEC,YAAa,oCAAqCC,MAAO,CAAE,cAAeL,EAAIP,MAAQ,KAAO,OAAQ,aAAcO,EAAIP,MAAO,KAAQ,OAAS7D,GAAI,CAAE,MAAS,SAAS0E,GAChM,OAAON,EAAIO,MAAM,QAASD,EAC5B,IAAO,OAAQN,EAAIQ,QAAQ,GAAQ,CAACP,EAAG,MAAO,CAAEG,YAAa,4BAA6BC,MAAO,CAAE,KAAQL,EAAIJ,UAAW,MAASI,EAAIhC,KAAM,OAAUgC,EAAIhC,KAAM,QAAW,cAAiB,CAACiC,EAAG,OAAQ,CAAEI,MAAO,CAAE,EAAK,sQAAyQ,CAACL,EAAIP,MAAQQ,EAAG,QAAS,CAACD,EAAIS,GAAGT,EAAIU,GAAGV,EAAIP,UAAYO,EAAIW,UAChiB,EACIkT,GAAyB,GAS7B,MAAMC,IARgC,IAAAhT,GACpC6S,GACAC,GACAC,IACA,EACA,KACA,MAEkC5X,QAyB9B8X,IAA8B,QAAgB,CAClD1R,OAAQ,uBACR7C,MAAO,CACL6N,YAAa,KACb2G,aAAc,KACdC,YAAa,CAAEvU,KAAM6C,SACrB2R,mBAAoB,CAAExU,KAAM6C,UAE9BhD,MAAO,CAAC,qBAAsB,uBAC9B,KAAAiD,CAAMC,GAAW1H,KAAMqQ,IACrB,MAAM5L,EAAQiD,GACR,eAAE0R,GAnCK,CAACC,IAChB,MAAMC,EAAW,CACf,CACEvW,GAAI,QACJwW,OAAO,IAAA5S,GAAE,aACT6S,KAAMnK,EAAA,KAER,CACEtM,GAAI,SACJwW,OAAO,IAAA5S,GAAE,UACT6S,KAAMnK,EAAA,KAER,CACEtM,GAAI,YACJwW,OAAO,IAAA5S,GAAE,aACT6S,KAAMnK,EAAA,MAGJ+J,EAAiBC,EAAYlX,MAAQmX,EAASjV,OAAO,EAAGtB,QAAgB,UAAPA,GAAkBuW,EACzF,MAAO,CACLA,WACAF,mBAc2BK,EAAS,QAAyB,QAArB,YAClCC,GAAoB,QAAS,IAAMN,EAAe/U,OAAQwT,GAAMA,EAAE9U,KAAO0B,EAAM6N,aAAa,IAAM8G,EAAe,IAEvH,MAAO,CAAEzR,OAAO,EAAMlD,QAAOzE,KAAMqQ,EAAO+I,iBAAgBM,oBAAmBC,kBADlDxX,GAAUkO,EAAM,sBAAuBlO,GAC8BwW,aAAWI,eAAavD,SAAQ,qBAAkB,aAAU,sBAAa,aAAU,MAAG,IACxL,IAEF,IAAIoE,GAAgB,WAClB,IAAI3U,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAAI4C,EAAS7C,EAAIE,MAAM4C,YACtD,OAAO7C,EAAG4C,EAAO+R,SAAU,CAAC3U,EAAG4C,EAAOgS,YAAa,CAAEzU,YAAa,4BAA6BC,MAAO,CAAE,MAASwC,EAAOnB,EAAE,oBAAqB,yBAA0B1B,EAAIgU,aAAc,cAAehU,EAAIgU,cAAgBpY,GAAI,CAAE,qBAAsBiH,EAAO6R,kBAAmB,wBAAyB,SAASpU,GACpT,OAAOuC,EAAO6R,kBAAkB,GAClC,GAAKhE,YAAa1Q,EAAI2Q,GAAG,CAAC,CAAExU,IAAK,uBAAwBrD,GAAI,WAC3D,MAAO,CAACmH,EAAG4C,EAAO6Q,UAAW,CAAErT,MAAO,CAAE,KAAQ,MAClD,EAAGwQ,OAAO,MAAY,CAAC5Q,EAAG4C,EAAOiR,YAAa,CAAEzT,MAAO,CAAE,KAAQ,OAAU,GAAIwC,EAAOsR,eAAexZ,OAAS,IAAMqF,EAAIkU,mBAAqB,CAAElU,EAAIiU,YAM1IhU,EAAG4C,EAAOiS,SAAU,CAAEzU,MAAO,CAAE,aAAcwC,EAAOnB,EAAE,yBAA0B,WAAa,EAAO,YAAc,EAAO,QAAWmB,EAAOsR,eAAgB,cAAetR,EAAO4R,mBAAqB7Y,GAAI,CAAE,qBAAsB,SAAS0E,GAClP,OAAOuC,EAAO9H,KAAK,qBAAsBuF,EAAOxC,GAClD,KARiKmC,EAAG,KAAM,CAAEG,YAAa,qBAAuBJ,EAAI8Q,GAAGjO,EAAOsR,eAAgB,SAASY,GACrP,OAAO9U,EAAG,KAAM,CAAE9D,IAAK4Y,EAAKjX,IAAM,CAACmC,EAAG4C,EAAO0N,SAAU,CAAElQ,MAAO,CAAE,KAAQL,EAAIqN,cAAgB0H,EAAKjX,GAAK,UAAY,WAAY,MAAQ,GAAQlC,GAAI,CAAE,MAAS,SAAS0E,GACtK,OAAON,EAAIO,MAAM,qBAAsBwU,EAAKjX,GAC9C,GAAK4S,YAAa1Q,EAAI2Q,GAAG,CAAC,CAAExU,IAAK,OAAQrD,GAAI,WAC3C,MAAO,CAACmH,EAAG4C,EAAO6H,iBAAkB,CAAErK,MAAO,CAAE,KAAQ0U,EAAKR,KAAM,KAAQ,MAC5E,EAAG1D,OAAO,IAAS,MAAM,IAAS,CAAC7Q,EAAIS,GAAG,IAAMT,EAAIU,GAAGqU,EAAKT,OAAS,QAAS,EAChF,GAAI,IAEMtU,EAAIW,MAAO,EACvB,EACIqU,GAAyB,GAS7B,MAAMC,IARgC,IAAAnU,GACpCiT,GACAY,GACAK,IACA,EACA,KACA,YAE2C/Y,QA+GvCiZ,IAA4B,QAAgB,CAFhDjb,KAAM,aAINuF,MAAO,CACL2V,QAAS,KACTlb,KAAM,KACNgR,mBAAoB,CAAEvL,KAAM6C,QAAS1C,SAAS,GAC9CqU,mBAAoB,CAAExU,KAAM6C,QAAS1C,SAAS,GAC9CuV,UAAW,CAAEvV,QAAS,QACtBwV,SAAU,CAAExV,aAAS,GACrByV,UAAW,CAAEzV,aAAS,GACtB0V,eAAgB,CAAE1V,QAAS,IAAM,IACjCyN,YAAa,CAAE5N,KAAM6C,QAAS1C,SAAS,GACvCyL,KAAM,CAAEzL,aAAS,IAEnBN,MAAO,CAAC,SACR,KAAAiD,CAAMC,GAAW1H,KAAMya,IACrB,MAAMhW,EAAQiD,EACRgT,GAAS,SAAI,GACbC,GAAgB,QAAS,KAC7B,MAAMlG,EAAuC,IAA/B/B,EAAcvQ,MAAMvC,QAAgB6E,EAAMyL,oBAAsB0K,EAAczY,MAAQ,CAACyY,EAAczY,OAASuQ,EAAcvQ,MAE1I,OADyC,mBAAlBsC,EAAM2V,QAAyB3V,EAAM2V,QAAQ3F,EAAOoG,EAAY1Y,MAAOmQ,EAAYnQ,OAASsC,EAAM2V,SAC1G9V,IAAKwW,IAAW,IAC1BA,EACHC,SAAUD,EAAOC,UAAYC,EAAU7Y,MACvC8Y,SAAU,KACRC,GAAqB,EACrBC,EAAkBL,EAAOG,SAAUxG,SAIzC,IAAIyG,GAAqB,EACzB,MAAMC,EAAoB3U,MAAOyU,EAAUxG,KACzCwG,EAASxG,GACTgG,EAAO,QAAShG,GAChByG,GAAqB,GAEjB5I,GAAc,QAAI,SAClB8I,GAAe,QAAS,IAA4B,cAAtB9I,EAAYnQ,OAAwB,IAAAwE,GAAE,aAAqC,WAAtB2L,EAAYnQ,OAAqB,IAAAwE,GAAE,UAAY,IAClI+L,GAAgB,QAAW,IAC3B2I,GAAY,QAAI9Z,QAAQ+Z,eAAeC,QAAQ,2BAA6B,KAC5EC,GAAgB,QAAI,KAC1B,QAAM,CAACA,GAAgB,UACF,IAAf/W,EAAM8L,MAAmBiL,EAAcrZ,OACzCZ,OAAO+Z,eAAeG,QAAQ,yBAA0BD,EAAcrZ,OAExEuQ,EAAcvQ,MAAQ,KAExB,MAAM0Y,GAAc,QAAS,CAC3BpZ,IAAK,IAC0B,UAAtB6Q,EAAYnQ,MAAoBqZ,EAAcrZ,OAASsC,EAAM8L,MAAQ8K,EAAUlZ,MAAQ,IAEhGC,IAAMmO,IACJiL,EAAcrZ,MAAQoO,KAGpB0I,GAAe,QAAI,KACnB,oBAAEyC,GA1EU,SAASC,GAC7B,MAAMC,GAAgB,QAAS,IAAMD,EAAiBxZ,MAAMmC,IAAKD,GAAWA,EAAOuT,MAAM,OAUzF,MAAO,CACL8D,oBAV2BG,IAC3B,MAAMC,EAAgBD,EAAKjE,MAAM,KACjC,OAAOgE,EAAczZ,MAAMqN,KACzB,EAAE7K,EAAMoX,OAELD,EAAc,KAAOnX,GAAiB,MAATA,GAAkBmX,EAAc,KAAOC,GAAuB,MAAZA,KAOxF,CA4DoCC,EAAc,QAAMvX,EAAO,oBACrD,MACJgO,EACAwJ,OAAQrB,EAAa,UACrBI,EAAS,UACTkB,EAAS,gBACTC,GA9Hc,SAAS7J,EAAauI,GACxC,MAAMuB,GAAS,UACT3J,GAAQ,QAAW,IACnBwJ,GAAS,QAAW,MACpBjB,GAAY,SAAI,GAChB1M,GAAU,QAAI,MAQpB9H,eAAe6V,IACT/N,EAAQnM,OACVmM,EAAQnM,MAAMma,SAEhBtB,EAAU7Y,OAAQ,EACQ,cAAtBmQ,EAAYnQ,MACdmM,EAAQnM,OAAQ,QAAiBia,EAAQvB,EAAY1Y,OACtB,WAAtBmQ,EAAYnQ,MACrBmM,EAAQnM,MAnEd,SAAwBia,GACtB,MAAMG,EAAa,IAAIC,gBACjBC,EAAcjZ,KAAKkZ,MAAM/S,KAAKR,MAAQ,KAAO,QACnD,OAAO,IAAIwT,EAAAA,kBAAkBnW,MAAO4D,EAASC,EAAQuS,KACnDA,EAAS,IAAML,EAAWM,SAC1B,IACE,MAAM,KAAEnW,SAAe0V,EAAOU,OAAO,IAAK,CACxCpS,OAAQ6R,EAAW7R,OACnBqS,SAAS,EACTrW,MAAM,QAAmB+V,KAG3BrS,EADc1D,EAAKsW,QAAQ1Y,IAAK8G,IAAW,QAAgBA,IAE7D,CAAE,MAAO/I,GACPgI,EAAOhI,EACT,GAEJ,CAkDsB4a,CAAeb,GAE/B9N,EAAQnM,MAnDd,SAAkBia,EAAQc,GACxB,MAAMX,EAAa,IAAIC,gBACvB,OAAO,IAAIG,EAAAA,kBAAkBnW,MAAO4D,EAASC,EAAQuS,KACnDA,EAAS,IAAML,EAAWM,SAC1B,IACE,MAMMpI,SANgB2H,EAAOe,sBAAqB,IAAApF,MAAK,KAAamF,GAAgB,CAClFxS,OAAQ6R,EAAW7R,OACnBqS,SAAS,EACTK,aAAa,EACb1W,MAAM,aAEcA,KAAKpC,IAAK8G,IAAW,QAAgBA,IAC3DhB,EAAQ,CACNiT,SAAU5I,EAAMpQ,OAAO,EAAGkM,UAAWA,IAAS2M,GAC9CjB,OAAQxH,EAAM6I,KAAK,EAAG/M,UAAWA,IAAS2M,IAE9C,CAAE,MAAO7a,GACPgI,EAAOhI,EACT,GAEJ,CA+BsBkb,CAASnB,EAAQvB,EAAY1Y,OAE/C,MAAMqb,QAAgBlP,EAAQnM,MAC1B,WAAYqb,GACdvB,EAAO9Z,MAAQqb,EAAQvB,OACvBxJ,EAAMtQ,MAAQqb,EAAQH,WAEtBpB,EAAO9Z,MAAQ,KACfsQ,EAAMtQ,MAAQqb,GAEhBlP,EAAQnM,MAAQ,KAChB6Y,EAAU7Y,OAAQ,CACpB,CAGA,OAFA,QAAM,CAACmQ,EAAauI,GAAc,IAAMwB,MACxC,QAAU,IAAMA,KACT,CACLrB,YACAvI,QACAwJ,SACAC,UAAWG,EACXF,gBArCF3V,eAA+BtH,GAC7B,MAAMqR,GAAO,IAAAwH,MAAK8C,EAAY1Y,MAAOjD,SAC/Bkd,EAAOD,iBAAgB,IAAApE,MAAK,KAAaxH,IAC/C,MAAMkN,QAhBVjX,eAAuB4V,EAAQ7L,GAC7B,MAAM,KAAE7J,SAAe0V,EAAOsB,MAAK,IAAA3F,MAAK,KAAaxH,GAAO,CAC1DwM,SAAS,EACTrW,MAAM,YAER,OAAO,QAAgBA,EACzB,CAU4BiX,CAAQvB,EAAQ7L,GAExC,OADAkC,EAAMtQ,MAAQ,IAAIsQ,EAAMtQ,MAAOsb,GACxBA,CACT,EAiCF,CAkFQG,CAAYtL,EAAauI,IAC7B,QAAU,IAAMqB,KAChB,MAAM,gBAAEhW,GAAoBF,IACtB6X,GAAgB,QAAS,KAC7B,IAAIC,EAAWrL,EAAMtQ,MAarB,OAZK+D,EAAgB/D,QACnB2b,EAAWA,EAASzZ,OAAQ+P,IAAUA,EAAK1D,SAASqN,WAAW,OAE7DtZ,EAAM+V,eAAe5a,OAAS,IAChCke,EAAWA,EAASzZ,OAAQ+P,GAAuB,WAAdA,EAAKzP,MAAqByP,EAAKyH,MAAQH,EAAoBtH,EAAKyH,QAEnG5C,EAAa9W,QACf2b,EAAWA,EAASzZ,OAAQ+P,GAASA,EAAK1D,SAASsN,cAAc5I,SAAS6D,EAAa9W,MAAM6b,iBAE3FvZ,EAAM6V,WACRwD,EAAWA,EAASzZ,OAAQgR,GAAM5Q,EAAM6V,SAASjF,KAE5CyI,IAEHG,GAAqB,QAAS,IACR,UAAtB3L,EAAYnQ,OACP,IAAAwE,GAAE,kDACsB,WAAtB2L,EAAYnQ,OACd,IAAAwE,GAAE,+DAEF,IAAAA,GAAE,8DAkBb,MAAO,CAAEgB,OAAO,EAAMlD,QAAOzE,KAAMya,EAAQC,SAAQC,gBAAeO,qBAAoBC,oBAAmB7I,cAAa8I,eAAc1I,gBAAe2I,YAAWG,gBAAeX,cAAa5B,eAAcyC,sBAAqBjJ,QAAOmI,gBAAeI,YAAWkB,YAAWC,kBAAiBjW,kBAAiB2X,gBAAeI,qBAAoBC,eAfvT1X,MAAOtH,IAC5B,IACE,MAAM+c,QAAeE,EAAgBjd,GACrCsc,EAAcrZ,MAAQ8Z,EAAO1L,MAC7B,QAAK,qBAAsBkC,EAAMtQ,MAAMkC,OAAQ+P,GAASA,EAAK1D,WAAaxR,GAAM,GAClF,CAAE,MAAOmD,GACPC,QAAQ6b,KAAK,8BAA+B,CAAEjf,OAAMmD,WACpD,QAAU,IAAAsE,GAAE,mCACd,GAO4VyX,YALzUC,IACdA,GAASnD,GACZT,EAAO,UAGgW3U,WAAUmQ,YAAUsC,yBAAuB2B,wBAAsBoE,SAAQ,mBAAgB,MAAG,IACzc,IAEF,IAAIC,GAAc,WAChB,IAAItZ,EAAM/G,KAAMgH,EAAKD,EAAIE,MAAMD,GAAI4C,EAAS7C,EAAIE,MAAM4C,YACtD,OAAO7C,EAAG4C,EAAOwW,SAAU,CAAEhZ,MAAO,CAAE,KAAQwC,EAAO4S,OAAQ,UAAazV,EAAIoV,UAAW,QAAWvS,EAAO6S,cAAe,KAAQ1V,EAAI/F,KAAM,KAAQ,QAAS,kBAAmB,uBAAwB,iBAAkB,cAAe,qBAAsB,2BAA6B2B,GAAI,CAAE,cAAe,CAAC,SAAS0E,GACzTuC,EAAO4S,OAASnV,CAClB,EAAGuC,EAAOsW,cAAgBzI,YAAa1Q,EAAI2Q,GAAG,CAAC,CAAExU,IAAK,aAAcrD,GAAI,UAAS,YAAEmb,IACjF,MAAO,CAAChU,EAAG4C,EAAOoS,qBAAsB,CAAE5U,MAAO,CAAE,eAAgBwC,EAAOwK,YAAa,gBAAiBxK,EAAOmR,aAAc,eAAgBC,EAAa,sBAAuBjU,EAAIkU,oBAAsBtY,GAAI,CAAE,qBAAsB,SAAS0E,GAC9OuC,EAAOwK,YAAc/M,CACvB,EAAG,sBAAuB,SAASA,GACjCuC,EAAOwK,YAAc/M,CACvB,EAAG,sBAAuB,SAASA,GACjCuC,EAAOmR,aAAe1T,CACxB,EAAG,uBAAwB,SAASA,GAClCuC,EAAOmR,aAAe1T,CACxB,KACF,MAAS,CAACL,EAAG,MAAO,CAAEG,YAAa,qBAAuB,CAAwB,UAAvByC,EAAOwK,YAA0BpN,EAAG4C,EAAOyQ,sBAAuB,CAAEjT,MAAO,CAAE,KAAQwC,EAAO+S,YAAa,YAAa5V,EAAIiL,oBAAsBrP,GAAI,CAAE,cAAe,SAAS0E,GACvOuC,EAAO+S,YAActV,CACvB,EAAG,cAAeuC,EAAOoW,kBAAsBhZ,EAAG,MAAO,CAAEG,YAAa,qBAAuB,CAACH,EAAG,KAAM,CAACD,EAAIS,GAAGT,EAAIU,GAAGmC,EAAOsT,mBAAoBtT,EAAOkT,WAAalT,EAAO+V,cAAcje,OAAS,EAAIsF,EAAG4C,EAAOmO,SAAU,CAAE3Q,MAAO,CAAE,KAAQwC,EAAO+S,YAAa,iBAAkB/S,EAAO4K,cAAe,uBAAwBzN,EAAIiL,mBAAoB,eAAgBpI,EAAOwK,YAAa,MAASxK,EAAO+V,cAAe,YAAe5Y,EAAIsN,YAAa,QAAWzK,EAAOkT,UAAW,KAAQlT,EAAOsT,aAAc,WAAYnW,EAAIsV,WAAa1Z,GAAI,CAAE,cAAe,CAAC,SAAS0E,GACnjBuC,EAAO+S,YAActV,CACvB,EAAG,SAASA,GACVuC,EAAOwK,YAAc,OACvB,GAAI,uBAAwB,SAAS/M,GACnCuC,EAAO4K,cAAgBnN,CACzB,EAAG,wBAAyB,SAASA,GACnCuC,EAAO4K,cAAgBnN,CACzB,KAASuC,EAAOmR,aAAe/T,EAAG4C,EAAO0W,eAAgB,CAAElZ,MAAO,CAAE,KAAQwC,EAAOnB,EAAE,qBAAsB,YAAemB,EAAOnB,EAAE,8CAAgDgP,YAAa1Q,EAAI2Q,GAAG,CAAC,CAAExU,IAAK,OAAQrD,GAAI,WACzN,MAAO,CAACmH,EAAG4C,EAAOhC,UACpB,EAAGgQ,OAAO,OAAc5Q,EAAG4C,EAAO0W,eAAgB,CAAElZ,MAAO,CAAE,KAAQwC,EAAOnB,EAAE,oBAAqB,YAAemB,EAAOmW,oBAAsBtI,YAAa1Q,EAAI2Q,GAAG,CAAC,CAAExU,IAAK,OAAQrD,GAAI,WACrL,MAAO,CAACmH,EAAG4C,EAAOhC,UACpB,EAAGgQ,OAAO,QAAc,IAC1B,EACI2I,GAAuB,GAS3B,MAAMC,IAR8B,IAAA3Y,GAClCoU,GACAoE,GACAE,IACA,EACA,KACA,YAE+Bvd,O","sources":["webpack:///nextcloud/node_modules/@nextcloud/upload/node_modules/eventemitter3/index.js","webpack:///nextcloud/node_modules/@nextcloud/upload/node_modules/@nextcloud/dialogs/node_modules/@nextcloud/initial-state/dist/index.js","webpack:///nextcloud/node_modules/@nextcloud/upload/node_modules/@nextcloud/dialogs/node_modules/@nextcloud/sharing/dist/public.js","webpack:///nextcloud/node_modules/@nextcloud/upload/node_modules/@nextcloud/dialogs/node_modules/@nextcloud/sharing/dist/share/ShareType.js","webpack:///nextcloud/node_modules/@nextcloud/upload/node_modules/@nextcloud/dialogs/node_modules/p-queue/dist/priority-queue.js","webpack:///nextcloud/node_modules/@nextcloud/upload/node_modules/@nextcloud/dialogs/node_modules/p-queue/dist/lower-bound.js","webpack:///nextcloud/node_modules/@nextcloud/upload/node_modules/@nextcloud/dialogs/dist/chunks/FilePicker-JKNLPCbR.mjs","webpack:///nextcloud/node_modules/@nextcloud/upload/node_modules/@nextcloud/dialogs/node_modules/p-queue/dist/index.js","webpack:///nextcloud/node_modules/@nextcloud/upload/node_modules/@nextcloud/dialogs/node_modules/@nextcloud/paths/dist/index.mjs"],"sourcesContent":["'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\n/**\n * @param app app ID, e.g. \"mail\"\n * @param key name of the property\n * @param fallback optional parameter to use as default value\n * @throws if the key can't be found\n */\nexport function loadState(app, key, fallback) {\n    const selector = `#initial-state-${app}-${key}`;\n    if (window._nc_initial_state?.has(selector)) {\n        return window._nc_initial_state.get(selector);\n    }\n    else if (!window._nc_initial_state) {\n        window._nc_initial_state = new Map();\n    }\n    const elem = document.querySelector(selector);\n    if (elem === null) {\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not find initial state ${key} of ${app}`);\n    }\n    try {\n        const parsedValue = JSON.parse(atob(elem.value));\n        window._nc_initial_state.set(selector, parsedValue);\n        return parsedValue;\n    }\n    catch (error) {\n        console.error('[@nextcloud/initial-state] Could not parse initial state', { key, app, error });\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not parse initial state ${key} of ${app}`, { cause: error });\n    }\n}\n","/*!\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\n/**\n * @module public\n */\nimport { loadState } from '@nextcloud/initial-state';\n/**\n * Check if the current page is on a public share\n */\nexport function isPublicShare() {\n    // check both the new initial state version and fallback to legacy input\n    return (loadState('files_sharing', 'isPublic', null)\n        ?? document.querySelector('input#isPublic[type=\"hidden\"][name=\"isPublic\"][value=\"1\"]') !== null);\n}\n/**\n * Get the sharing token for the current public share\n */\nexport function getSharingToken() {\n    return (loadState('files_sharing', 'sharingToken', null)\n        ?? document.querySelector('input#sharingToken[type=\"hidden\"]')?.value\n        ?? null);\n}\n","/*!\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nexport var ShareType;\n(function (ShareType) {\n    ShareType[ShareType[\"User\"] = 0] = \"User\";\n    ShareType[ShareType[\"Group\"] = 1] = \"Group\";\n    ShareType[ShareType[\"Link\"] = 3] = \"Link\";\n    ShareType[ShareType[\"Email\"] = 4] = \"Email\";\n    ShareType[ShareType[\"Remote\"] = 6] = \"Remote\";\n    /**\n     * Was called `Circle` before Nextcloud 29\n     */\n    ShareType[ShareType[\"Team\"] = 7] = \"Team\";\n    ShareType[ShareType[\"Guest\"] = 8] = \"Guest\";\n    ShareType[ShareType[\"RemoteGroup\"] = 9] = \"RemoteGroup\";\n    ShareType[ShareType[\"Room\"] = 10] = \"Room\";\n    ShareType[ShareType[\"Deck\"] = 12] = \"Deck\";\n    /**\n     * @since 26.0.0\n     */\n    ShareType[ShareType[\"FederatedGroup\"] = 14] = \"FederatedGroup\";\n    /**\n     * Third party share types\n     *\n     * @since 25.0.0\n     */\n    ShareType[ShareType[\"ScienceMesh\"] = 15] = \"ScienceMesh\";\n})(ShareType || (ShareType = {}));\n","import lowerBound from './lower-bound.js';\nexport default class PriorityQueue {\n    #queue = [];\n    enqueue(run, options) {\n        const { priority = 0, id, } = options ?? {};\n        const element = {\n            priority,\n            id,\n            run,\n        };\n        if (this.size === 0 || this.#queue[this.size - 1].priority >= priority) {\n            this.#queue.push(element);\n            return;\n        }\n        const index = lowerBound(this.#queue, element, (a, b) => b.priority - a.priority);\n        this.#queue.splice(index, 0, element);\n    }\n    setPriority(id, priority) {\n        const index = this.#queue.findIndex((element) => element.id === id);\n        if (index === -1) {\n            throw new ReferenceError(`No promise function with the id \"${id}\" exists in the queue.`);\n        }\n        const [item] = this.#queue.splice(index, 1);\n        this.enqueue(item.run, { priority, id });\n    }\n    dequeue() {\n        const item = this.#queue.shift();\n        return item?.run;\n    }\n    filter(options) {\n        return this.#queue.filter((element) => element.priority === options.priority).map((element) => element.run);\n    }\n    get size() {\n        return this.#queue.length;\n    }\n}\n","// Port of lower_bound from https://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nexport default function lowerBound(array, value, comparator) {\n    let first = 0;\n    let count = array.length;\n    while (count > 0) {\n        const step = Math.trunc(count / 2);\n        let it = first + step;\n        if (comparator(array[it], value) <= 0) {\n            first = ++it;\n            count -= step + 1;\n        }\n        else {\n            count = step;\n        }\n    }\n    return first;\n}\n","import { ref, onMounted, computed, defineComponent, watchEffect, toRef, nextTick, onUnmounted, shallowRef, watch } from \"vue\";\nimport { n as normalizeComponent, l as showError, t } from \"./_plugin-vue2_normalizer-jrlE7CJU.mjs\";\nimport { FileType, Permission, formatFileSize, sortNodes, validateFilename, InvalidFilenameError, InvalidFilenameErrorReason, davGetRecentSearch, davResultToNode, davRootPath, davGetDefaultPropfind, davGetClient, getFavoriteNodes } from \"@nextcloud/files\";\nimport NcButton from \"@nextcloud/vue/components/NcButton\";\nimport NcCheckboxRadioSwitch from \"@nextcloud/vue/components/NcCheckboxRadioSwitch\";\nimport { loadState } from \"@nextcloud/initial-state\";\nimport { generateUrl } from \"@nextcloud/router\";\nimport { isPublicShare } from \"@nextcloud/sharing/public\";\nimport { toValue } from \"@vueuse/core\";\nimport axios from \"@nextcloud/axios\";\nimport { extname } from \"@nextcloud/paths\";\nimport NcDateTime from \"@nextcloud/vue/components/NcDateTime\";\nimport { mdiKey, mdiTagOutline, mdiLink, mdiAccountPlus, mdiAccountGroupOutline, mdiNetworkOutline, mdiFolder, mdiClock, mdiStar } from \"@mdi/js\";\nimport { ShareType } from \"@nextcloud/sharing\";\nimport PQueue from \"p-queue\";\nimport NcIconSvgWrapper from \"@nextcloud/vue/components/NcIconSvgWrapper\";\nimport NcActionInput from \"@nextcloud/vue/components/NcActionInput\";\nimport NcActions from \"@nextcloud/vue/components/NcActions\";\nimport NcBreadcrumb from \"@nextcloud/vue/components/NcBreadcrumb\";\nimport NcBreadcrumbs from \"@nextcloud/vue/components/NcBreadcrumbs\";\nimport { getCurrentUser } from \"@nextcloud/auth\";\nimport NcSelect from \"@nextcloud/vue/components/NcSelect\";\nimport NcTextField from \"@nextcloud/vue/components/NcTextField\";\nimport { Fragment } from \"vue-frag\";\nimport { emit } from \"@nextcloud/event-bus\";\nimport NcDialog from \"@nextcloud/vue/components/NcDialog\";\nimport NcEmptyContent from \"@nextcloud/vue/components/NcEmptyContent\";\nimport { CancelablePromise } from \"cancelable-promise\";\nimport { join } from \"path\";\nconst _sfc_main$e = {\n  name: \"FileIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$e = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon file-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$e = [];\nvar __component__$e = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$e,\n  _sfc_render$e,\n  _sfc_staticRenderFns$e,\n  false,\n  null,\n  null\n);\nconst IconFile = __component__$e.exports;\nconst useFilesSettings = () => {\n  const filesUserState = loadState(\"files\", \"config\", null);\n  const showHiddenFiles = ref(filesUserState?.show_hidden ?? true);\n  const sortFavoritesFirst = ref(filesUserState?.sort_favorites_first ?? true);\n  const cropImagePreviews = ref(filesUserState?.crop_image_previews ?? true);\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/configs\"));\n        showHiddenFiles.value = data?.data?.show_hidden ?? false;\n        sortFavoritesFirst.value = data?.data?.sort_favorites_first ?? true;\n        cropImagePreviews.value = data?.data?.crop_image_previews ?? true;\n      } catch (error) {\n        console.error(\"Could not load files settings\", error);\n        showError(t(\"Could not load files settings\"));\n      }\n    } else {\n      console.debug(\"Skip loading files settings - currently on public share\");\n    }\n  });\n  return {\n    showHiddenFiles,\n    sortFavoritesFirst,\n    cropImagePreviews\n  };\n};\nconst useFilesViews = (currentView) => {\n  const convertOrder = (order2) => order2 === \"asc\" ? \"ascending\" : order2 === \"desc\" ? \"descending\" : \"none\";\n  const filesViewsState = loadState(\"files\", \"viewConfigs\", null);\n  const filesViewConfig = ref({\n    sortBy: filesViewsState?.files?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.files?.sorting_direction ?? \"asc\")\n  });\n  const recentViewConfig = ref({\n    sortBy: filesViewsState?.recent?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.recent?.sorting_direction ?? \"asc\")\n  });\n  const favoritesViewConfig = ref({\n    sortBy: filesViewsState?.favorites?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.favorites?.sorting_direction ?? \"asc\")\n  });\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/views\"));\n        filesViewConfig.value = {\n          sortBy: data?.data?.files?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.files?.sorting_direction)\n        };\n        favoritesViewConfig.value = {\n          sortBy: data?.data?.favorites?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.favorites?.sorting_direction)\n        };\n        recentViewConfig.value = {\n          sortBy: data?.data?.recent?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.recent?.sorting_direction)\n        };\n      } catch (error) {\n        console.error(\"Could not load files views\", error);\n        showError(t(\"Could not load files views\"));\n      }\n    } else {\n      console.debug(\"Skip loading files views - currently on public share\");\n    }\n  });\n  const currentConfig = computed(() => toValue(currentView || \"files\") === \"files\" ? filesViewConfig.value : toValue(currentView) === \"recent\" ? recentViewConfig.value : favoritesViewConfig.value);\n  const sortBy = computed(() => currentConfig.value.sortBy);\n  const order = computed(() => currentConfig.value.order);\n  return {\n    filesViewConfig,\n    favoritesViewConfig,\n    recentViewConfig,\n    currentConfig,\n    sortBy,\n    order\n  };\n};\nconst _sfc_main$d = {\n  name: \"MenuUpIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$d = function render2() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon menu-up-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M7,15L12,10L17,15H7Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$d = [];\nvar __component__$d = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$d,\n  _sfc_render$d,\n  _sfc_staticRenderFns$d,\n  false,\n  null,\n  null\n);\nconst IconSortAscending = __component__$d.exports;\nconst _sfc_main$c = {\n  name: \"MenuDownIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$c = function render3() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon menu-down-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M7,10L12,15L17,10H7Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$c = [];\nvar __component__$c = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$c,\n  _sfc_render$c,\n  _sfc_staticRenderFns$c,\n  false,\n  null,\n  null\n);\nconst IconSortDescending = __component__$c.exports;\nconst fileListIconStylesModule = {\n  \"file-picker__file-icon\": \"_file-picker__file-icon_3v9zx_9\",\n  \"file-picker__file-icon--primary\": \"_file-picker__file-icon--primary_3v9zx_21\",\n  \"file-picker__file-icon-overlay\": \"_file-picker__file-icon-overlay_3v9zx_25\"\n};\nconst _sfc_main$b = /* @__PURE__ */ defineComponent({\n  __name: \"LoadingTableRow\",\n  props: {\n    showCheckbox: { type: Boolean }\n  },\n  setup(__props) {\n    return { __sfc: true, fileListIconStyles: fileListIconStylesModule };\n  }\n});\nvar _sfc_render$b = function render4() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"tr\", { staticClass: \"file-picker__row loading-row\", attrs: { \"aria-hidden\": \"true\" } }, [_vm.showCheckbox ? _c(\"td\", { staticClass: \"row-checkbox\" }, [_c(\"span\")]) : _vm._e(), _c(\"td\", { staticClass: \"row-name\" }, [_c(\"div\", { staticClass: \"row-wrapper\" }, [_c(\"span\", { class: _setup.fileListIconStyles[\"file-picker__file-icon\"] }), _c(\"span\")])]), _vm._m(0), _vm._m(1)]);\n};\nvar _sfc_staticRenderFns$b = [function() {\n  var _vm = this, _c = _vm._self._c;\n  _vm._self._setupProxy;\n  return _c(\"td\", { staticClass: \"row-size\" }, [_c(\"span\")]);\n}, function() {\n  var _vm = this, _c = _vm._self._c;\n  _vm._self._setupProxy;\n  return _c(\"td\", { staticClass: \"row-modified\" }, [_c(\"span\")]);\n}];\nvar __component__$b = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$b,\n  _sfc_render$b,\n  _sfc_staticRenderFns$b,\n  false,\n  null,\n  \"15187afc\"\n);\nconst LoadingTableRow = __component__$b.exports;\nconst queue = new PQueue({ concurrency: 5 });\nfunction preloadImage(url) {\n  const { resolve, promise } = Promise.withResolvers();\n  queue.add(() => {\n    const image = new Image();\n    image.onerror = () => resolve(false);\n    image.onload = () => resolve(true);\n    image.src = url;\n    return promise;\n  });\n  return promise;\n}\nfunction getPreviewURL(node, options = {}) {\n  options = { size: 32, cropPreview: false, mimeFallback: true, ...options };\n  try {\n    const previewUrl = node.attributes?.previewUrl || generateUrl(\"/core/preview?fileId={fileid}\", {\n      fileid: node.fileid\n    });\n    let url;\n    try {\n      url = new URL(previewUrl);\n    } catch (e) {\n      url = new URL(previewUrl, window.location.origin);\n    }\n    url.searchParams.set(\"x\", `${options.size}`);\n    url.searchParams.set(\"y\", `${options.size}`);\n    url.searchParams.set(\"mimeFallback\", `${options.mimeFallback}`);\n    url.searchParams.set(\"a\", options.cropPreview === true ? \"0\" : \"1\");\n    url.searchParams.set(\"c\", `${node.attributes.etag}`);\n    return url;\n  } catch (e) {\n    return null;\n  }\n}\nconst usePreviewURL = (node, options) => {\n  const previewURL = ref(null);\n  const previewLoaded = ref(false);\n  watchEffect(() => {\n    previewLoaded.value = false;\n    previewURL.value = getPreviewURL(toValue(node), toValue(options || {}));\n    if (previewURL.value && toValue(node).type === FileType.File) {\n      preloadImage(previewURL.value.href).then((success) => {\n        previewLoaded.value = success;\n      });\n    }\n  });\n  return {\n    previewURL,\n    previewLoaded\n  };\n};\nconst _sfc_main$a = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$a = function render5() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon folder-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$a = [];\nvar __component__$a = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$a,\n  _sfc_render$a,\n  _sfc_staticRenderFns$a,\n  false,\n  null,\n  null\n);\nconst IconFolder = __component__$a.exports;\nconst __default__$1 = {\n  name: \"FilePreview\"\n};\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  ...__default__$1,\n  props: {\n    node: null,\n    cropImagePreviews: { type: Boolean }\n  },\n  setup(__props) {\n    const props = __props;\n    const fileListIconStyles = ref(fileListIconStylesModule);\n    const {\n      previewURL,\n      previewLoaded\n    } = usePreviewURL(toRef(props, \"node\"), computed(() => ({ cropPreview: props.cropImagePreviews })));\n    const isFile = computed(() => props.node.type === FileType.File);\n    const folderDecorationIcon = computed(() => {\n      if (props.node.type !== FileType.Folder) {\n        return null;\n      }\n      if (props.node.attributes?.[\"is-encrypted\"] === 1) {\n        return mdiKey;\n      }\n      if (props.node.attributes?.[\"is-tag\"]) {\n        return mdiTagOutline;\n      }\n      const shareTypes = Object.values(props.node.attributes?.[\"share-types\"] || {}).flat();\n      if (shareTypes.some((type) => type === ShareType.Link || type === ShareType.Email)) {\n        return mdiLink;\n      }\n      if (shareTypes.length > 0) {\n        return mdiAccountPlus;\n      }\n      switch (props.node.attributes?.[\"mount-type\"]) {\n        case \"external\":\n        case \"external-session\":\n          return mdiNetworkOutline;\n        case \"group\":\n          return mdiAccountGroupOutline;\n        case \"shared\":\n          return mdiAccountPlus;\n      }\n      return null;\n    });\n    return { __sfc: true, fileListIconStyles, props, previewURL, previewLoaded, isFile, folderDecorationIcon, NcIconSvgWrapper, IconFile, IconFolder };\n  }\n});\nvar _sfc_render$9 = function render6() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"div\", { class: _setup.fileListIconStyles[\"file-picker__file-icon\"], style: _setup.previewLoaded ? { backgroundImage: `url(${_setup.previewURL})` } : void 0 }, [!_setup.previewLoaded ? [_setup.isFile ? _c(_setup.IconFile, { attrs: { \"size\": 32 } }) : [_setup.folderDecorationIcon ? _c(_setup.NcIconSvgWrapper, { class: _setup.fileListIconStyles[\"file-picker__file-icon-overlay\"], attrs: { \"inline\": \"\", \"path\": _setup.folderDecorationIcon, \"size\": 16 } }) : _vm._e(), _c(_setup.IconFolder, { class: _setup.fileListIconStyles[\"file-picker__file-icon--primary\"], attrs: { \"size\": 32 } })]] : _vm._e()], 2);\n};\nvar _sfc_staticRenderFns$9 = [];\nvar __component__$9 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$9,\n  _sfc_render$9,\n  _sfc_staticRenderFns$9,\n  false,\n  null,\n  null\n);\nconst FilePreview = __component__$9.exports;\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  __name: \"FileListRow\",\n  props: {\n    allowPickDirectory: { type: Boolean },\n    selected: { type: Boolean },\n    showCheckbox: { type: Boolean },\n    canPick: { type: Boolean },\n    node: null,\n    cropImagePreviews: { type: Boolean }\n  },\n  emits: [\"update:selected\", \"enter-directory\"],\n  setup(__props, { emit: emit2 }) {\n    const props = __props;\n    const fileExtension = computed(() => extname(props.node.displayname));\n    const displayName = computed(() => props.node.displayname.slice(0, fileExtension.value ? -fileExtension.value.length : void 0));\n    const isDirectory = computed(() => props.node.type === FileType.Folder);\n    const isPickable = computed(() => props.canPick && (props.allowPickDirectory || !isDirectory.value));\n    const isNavigatable = computed(() => (props.node.permissions & Permission.READ) === Permission.READ);\n    function toggleSelected() {\n      if (!isPickable.value) {\n        return;\n      }\n      emit2(\"update:selected\", !props.selected);\n    }\n    function handleClick() {\n      if (isDirectory.value) {\n        if (isNavigatable.value) {\n          emit2(\"enter-directory\", props.node);\n        }\n      } else {\n        toggleSelected();\n      }\n    }\n    function handleKeyDown(event) {\n      if (event.key === \"Enter\") {\n        handleClick();\n      }\n    }\n    return { __sfc: true, props, emit: emit2, fileExtension, displayName, isDirectory, isPickable, isNavigatable, toggleSelected, handleClick, handleKeyDown, formatFileSize, NcCheckboxRadioSwitch, NcDateTime, t, FilePreview };\n  }\n});\nvar _sfc_render$8 = function render7() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"tr\", _vm._g({ class: [\"file-picker__row\", {\n    \"file-picker__row--selected\": _vm.selected && !_vm.showCheckbox,\n    \"file-picker__row--not-navigatable\": _setup.isDirectory && !_setup.isNavigatable,\n    \"file-picker__row--not-pickable\": !_setup.isPickable\n  }], attrs: { \"tabindex\": _vm.showCheckbox && !_setup.isDirectory ? void 0 : 0, \"aria-selected\": !_setup.isPickable ? void 0 : _vm.selected, \"data-filename\": _vm.node.basename, \"data-testid\": \"file-list-row\" } }, {\n    click: _setup.handleClick,\n    /* same as tabindex -> if we hide the checkbox or this is a directory we need keyboard access to enter the directory or select the node */\n    ...!_vm.showCheckbox || _setup.isDirectory ? { keydown: _setup.handleKeyDown } : {}\n  }), [_vm.showCheckbox ? _c(\"td\", { staticClass: \"row-checkbox\", on: { \"click\": function($event) {\n    $event.stopPropagation();\n    return (() => {\n    }).apply(null, arguments);\n  } } }, [_c(_setup.NcCheckboxRadioSwitch, { attrs: { \"aria-label\": _setup.t(\"Select the row for {nodename}\", { nodename: _setup.displayName }), \"disabled\": !_setup.isPickable, \"data-testid\": \"row-checkbox\", \"model-value\": _vm.selected }, on: { \"update:model-value\": _setup.toggleSelected } })], 1) : _vm._e(), _c(\"td\", { staticClass: \"row-name\" }, [_c(\"div\", { staticClass: \"file-picker__name-container\", attrs: { \"data-testid\": \"row-name\" } }, [_c(_setup.FilePreview, { attrs: { \"node\": _vm.node, \"crop-image-previews\": _vm.cropImagePreviews } }), _c(\"div\", { staticClass: \"file-picker__file-name\", attrs: { \"title\": _setup.displayName }, domProps: { \"textContent\": _vm._s(_setup.displayName) } }), _c(\"div\", { staticClass: \"file-picker__file-extension\", domProps: { \"textContent\": _vm._s(_setup.fileExtension) } })], 1)]), _c(\"td\", { staticClass: \"row-size\" }, [_vm._v(\" \" + _vm._s(_setup.formatFileSize(_vm.node.size || 0)) + \" \")]), _c(\"td\", { staticClass: \"row-modified\" }, [_c(_setup.NcDateTime, { attrs: { \"timestamp\": _vm.node.mtime, \"ignore-seconds\": true } })], 1)]);\n};\nvar _sfc_staticRenderFns$8 = [];\nvar __component__$8 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$8,\n  _sfc_render$8,\n  _sfc_staticRenderFns$8,\n  false,\n  null,\n  \"82f380c9\"\n);\nconst FileListRow = __component__$8.exports;\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  __name: \"FileList\",\n  props: {\n    currentView: null,\n    multiselect: { type: Boolean },\n    allowPickDirectory: { type: Boolean },\n    loading: { type: Boolean },\n    files: null,\n    canPick: null,\n    selectedFiles: null,\n    path: null\n  },\n  emits: [\"update:path\", \"update:selectedFiles\"],\n  setup(__props, { emit: emit2 }) {\n    const props = __props;\n    const customSortingConfig = ref();\n    const { currentConfig: filesAppSorting } = useFilesViews(props.currentView);\n    const sortingConfig = computed(() => customSortingConfig.value ?? filesAppSorting.value);\n    const sortByName = computed(() => sortingConfig.value.sortBy === \"basename\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortBySize = computed(() => sortingConfig.value.sortBy === \"size\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortByModified = computed(() => sortingConfig.value.sortBy === \"mtime\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const toggleSorting = (sortBy) => {\n      if (sortingConfig.value.sortBy === sortBy) {\n        if (sortingConfig.value.order === \"ascending\") {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"descending\" };\n        } else {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"ascending\" };\n        }\n      } else {\n        customSortingConfig.value = { sortBy, order: \"ascending\" };\n      }\n    };\n    const { sortFavoritesFirst, cropImagePreviews } = useFilesSettings();\n    const sortedFiles = computed(() => {\n      return sortNodes(props.files, {\n        sortFoldersFirst: true,\n        sortFavoritesFirst: sortFavoritesFirst.value,\n        sortingOrder: sortingConfig.value.order === \"descending\" ? \"desc\" : \"asc\",\n        sortingMode: sortingConfig.value.sortBy\n      });\n    });\n    const selectableFiles = computed(() => props.files.filter((file) => props.allowPickDirectory || file.type !== FileType.Folder));\n    const allSelected = computed(() => !props.loading && props.selectedFiles.length > 0 && props.selectedFiles.length >= selectableFiles.value.length);\n    function onSelectAll() {\n      if (props.selectedFiles.length < selectableFiles.value.length) {\n        emit2(\"update:selectedFiles\", selectableFiles.value);\n      } else {\n        emit2(\"update:selectedFiles\", []);\n      }\n    }\n    function onNodeSelected(file) {\n      if (props.selectedFiles.includes(file)) {\n        emit2(\"update:selectedFiles\", props.selectedFiles.filter((f) => f.path !== file.path));\n      } else {\n        if (props.multiselect) {\n          emit2(\"update:selectedFiles\", [...props.selectedFiles, file]);\n        } else {\n          emit2(\"update:selectedFiles\", [file]);\n        }\n      }\n    }\n    function onChangeDirectory(dir) {\n      emit2(\"update:path\", dir.path);\n    }\n    const skeletonNumber = ref(4);\n    const fileContainer = ref();\n    {\n      const resize = () => nextTick(() => {\n        const nodes = fileContainer.value?.parentElement?.children || [];\n        let height = fileContainer.value?.parentElement?.clientHeight || 450;\n        for (let index = 0; index < nodes.length; index++) {\n          if (!fileContainer.value?.isSameNode(nodes[index])) {\n            height -= nodes[index].clientHeight;\n          }\n        }\n        skeletonNumber.value = Math.max(1, Math.floor((height - 50) / 50));\n      });\n      onMounted(() => {\n        window.addEventListener(\"resize\", resize);\n        resize();\n      });\n      onUnmounted(() => {\n        window.removeEventListener(\"resize\", resize);\n      });\n    }\n    return { __sfc: true, props, emit: emit2, customSortingConfig, filesAppSorting, sortingConfig, sortByName, sortBySize, sortByModified, toggleSorting, sortFavoritesFirst, cropImagePreviews, sortedFiles, selectableFiles, allSelected, onSelectAll, onNodeSelected, onChangeDirectory, skeletonNumber, fileContainer, NcButton, NcCheckboxRadioSwitch, t, IconSortAscending, IconSortDescending, LoadingTableRow, FileListRow };\n  }\n});\nvar _sfc_render$7 = function render8() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(\"div\", { ref: \"fileContainer\", staticClass: \"file-picker__files\" }, [_c(\"table\", [_c(\"thead\", [_c(\"tr\", [_vm.multiselect ? _c(\"th\", { staticClass: \"row-checkbox\" }, [_c(\"span\", { staticClass: \"hidden-visually\" }, [_vm._v(\" \" + _vm._s(_setup.t(\"Select entry\")) + \" \")]), _vm.multiselect ? _c(_setup.NcCheckboxRadioSwitch, { attrs: { \"aria-label\": _setup.t(\"Select all entries\"), \"data-testid\": \"select-all-checkbox\", \"model-value\": _setup.allSelected }, on: { \"update:model-value\": _setup.onSelectAll } }) : _vm._e()], 1) : _vm._e(), _c(\"th\", { staticClass: \"row-name\", attrs: { \"aria-sort\": _setup.sortByName } }, [_c(\"div\", { staticClass: \"header-wrapper\" }, [_c(\"span\", { staticClass: \"file-picker__header-preview\" }), _c(_setup.NcButton, { attrs: { \"wide\": true, \"type\": \"tertiary\", \"data-test\": \"file-picker_sort-name\" }, on: { \"click\": function($event) {\n    return _setup.toggleSorting(\"basename\");\n  } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_setup.sortByName === \"ascending\" ? _c(_setup.IconSortAscending, { attrs: { \"size\": 20 } }) : _setup.sortByName === \"descending\" ? _c(_setup.IconSortDescending, { attrs: { \"size\": 20 } }) : _c(\"span\", { staticStyle: { \"width\": \"44px\" } })];\n  }, proxy: true }]) }, [_vm._v(\" \" + _vm._s(_setup.t(\"Name\")) + \" \")])], 1)]), _c(\"th\", { staticClass: \"row-size\", attrs: { \"aria-sort\": _setup.sortBySize } }, [_c(_setup.NcButton, { attrs: { \"wide\": true, \"type\": \"tertiary\" }, on: { \"click\": function($event) {\n    return _setup.toggleSorting(\"size\");\n  } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_setup.sortBySize === \"ascending\" ? _c(_setup.IconSortAscending, { attrs: { \"size\": 20 } }) : _setup.sortBySize === \"descending\" ? _c(_setup.IconSortDescending, { attrs: { \"size\": 20 } }) : _c(\"span\", { staticStyle: { \"width\": \"44px\" } })];\n  }, proxy: true }]) }, [_vm._v(\" \" + _vm._s(_setup.t(\"Size\")) + \" \")])], 1), _c(\"th\", { staticClass: \"row-modified\", attrs: { \"aria-sort\": _setup.sortByModified } }, [_c(_setup.NcButton, { attrs: { \"wide\": true, \"type\": \"tertiary\" }, on: { \"click\": function($event) {\n    return _setup.toggleSorting(\"mtime\");\n  } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_setup.sortByModified === \"ascending\" ? _c(_setup.IconSortAscending, { attrs: { \"size\": 20 } }) : _setup.sortByModified === \"descending\" ? _c(_setup.IconSortDescending, { attrs: { \"size\": 20 } }) : _c(\"span\", { staticStyle: { \"width\": \"44px\" } })];\n  }, proxy: true }]) }, [_vm._v(\" \" + _vm._s(_setup.t(\"Modified\")) + \" \")])], 1)])]), _c(\"tbody\", [_vm.loading ? _vm._l(_setup.skeletonNumber, function(index) {\n    return _c(_setup.LoadingTableRow, { key: index, attrs: { \"show-checkbox\": _vm.multiselect } });\n  }) : _vm._l(_setup.sortedFiles, function(file) {\n    return _c(_setup.FileListRow, { key: file.fileid || file.path, attrs: { \"allow-pick-directory\": _vm.allowPickDirectory, \"show-checkbox\": _vm.multiselect, \"can-pick\": (_vm.multiselect || _vm.selectedFiles.length === 0 || _vm.selectedFiles.includes(file)) && (_vm.canPick === void 0 || _vm.canPick(file)), \"selected\": _vm.selectedFiles.includes(file), \"node\": file, \"crop-image-previews\": _setup.cropImagePreviews }, on: { \"update:selected\": function($event) {\n      return _setup.onNodeSelected(file);\n    }, \"enter-directory\": _setup.onChangeDirectory } });\n  })], 2)])]);\n};\nvar _sfc_staticRenderFns$7 = [];\nvar __component__$7 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$7,\n  _sfc_render$7,\n  _sfc_staticRenderFns$7,\n  false,\n  null,\n  \"6503afab\"\n);\nconst FileList = __component__$7.exports;\nconst _sfc_main$6 = {\n  name: \"HomeIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$6 = function render9() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon home-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$6 = [];\nvar __component__$6 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$6,\n  _sfc_render$6,\n  _sfc_staticRenderFns$6,\n  false,\n  null,\n  null\n);\nconst IconHome = __component__$6.exports;\nconst _sfc_main$5 = {\n  name: \"PlusIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$5 = function render10() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon plus-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$5 = [];\nvar __component__$5 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$5,\n  _sfc_render$5,\n  _sfc_staticRenderFns$5,\n  false,\n  null,\n  null\n);\nconst IconPlus = __component__$5.exports;\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerBreadcrumbs\",\n  props: {\n    path: null,\n    showMenu: { type: Boolean }\n  },\n  emits: [\"update:path\", \"create-node\"],\n  setup(__props, { emit: emit2 }) {\n    const props = __props;\n    const actionsOpen = ref(false);\n    const newNodeName = ref(\"\");\n    const nameInput = ref();\n    function validateInput() {\n      const name = newNodeName.value.trim();\n      const input = nameInput.value?.$el?.querySelector(\"input\");\n      let validity = \"\";\n      try {\n        validateFilename(name);\n      } catch (error) {\n        if (!(error instanceof InvalidFilenameError)) {\n          throw error;\n        }\n        switch (error.reason) {\n          case InvalidFilenameErrorReason.Character:\n            validity = t('\"{char}\" is not allowed inside a folder name.', { char: error.segment });\n            break;\n          case InvalidFilenameErrorReason.ReservedName:\n            validity = t('\"{segment}\" is a reserved name and not allowed for folder names.', { segment: error.segment });\n            break;\n          case InvalidFilenameErrorReason.Extension:\n            validity = t('Folder names must not end with \"{extension}\".', { extension: error.segment });\n            break;\n          default:\n            validity = t(\"Invalid folder name.\");\n        }\n      }\n      if (input) {\n        input.setCustomValidity(validity);\n      }\n      return validity === \"\";\n    }\n    const onSubmit = function() {\n      const name = newNodeName.value.trim();\n      if (validateInput()) {\n        actionsOpen.value = false;\n        emit2(\"create-node\", name);\n        newNodeName.value = \"\";\n      }\n    };\n    const pathElements = computed(\n      () => props.path.split(\"/\").filter((v) => v !== \"\").map((v, i, elements) => ({\n        name: v,\n        path: \"/\" + elements.slice(0, i + 1).join(\"/\")\n      }))\n    );\n    return { __sfc: true, props, emit: emit2, actionsOpen, newNodeName, nameInput, validateInput, onSubmit, pathElements, NcActionInput, NcActions, NcBreadcrumb, NcBreadcrumbs, IconFolder, IconHome, IconPlus, t };\n  }\n});\nvar _sfc_render$4 = function render11() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(_setup.NcBreadcrumbs, { staticClass: \"file-picker__breadcrumbs\", scopedSlots: _vm._u([{ key: \"default\", fn: function() {\n    return [_c(_setup.NcBreadcrumb, { attrs: { \"name\": _setup.t(\"All files\"), \"title\": _setup.t(\"Home\") }, on: { \"click\": function($event) {\n      return _setup.emit(\"update:path\", \"/\");\n    } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(_setup.IconHome, { attrs: { \"size\": 20 } })];\n    }, proxy: true }]) }), _vm._l(_setup.pathElements, function(dir) {\n      return _c(_setup.NcBreadcrumb, { key: dir.path, attrs: { \"name\": dir.name, \"title\": dir.path }, on: { \"click\": function($event) {\n        return _setup.emit(\"update:path\", dir.path);\n      } } });\n    })];\n  }, proxy: true }, _vm.showMenu ? { key: \"actions\", fn: function() {\n    return [_c(_setup.NcActions, { attrs: { \"open\": _setup.actionsOpen, \"aria-label\": _setup.t(\"Create directory\"), \"force-menu\": true, \"force-name\": true, \"menu-name\": _setup.t(\"New\"), \"type\": \"secondary\" }, on: { \"update:open\": function($event) {\n      _setup.actionsOpen = $event;\n    }, \"close\": function($event) {\n      _setup.newNodeName = \"\";\n    } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(_setup.IconPlus, { attrs: { \"size\": 20 } })];\n    }, proxy: true }], null, false, 2971667417) }, [_c(_setup.NcActionInput, { ref: \"nameInput\", attrs: { \"value\": _setup.newNodeName, \"label\": _setup.t(\"New folder\"), \"placeholder\": _setup.t(\"New folder name\") }, on: { \"update:value\": function($event) {\n      _setup.newNodeName = $event;\n    }, \"submit\": _setup.onSubmit, \"update:model-value\": _setup.validateInput }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(_setup.IconFolder, { attrs: { \"size\": 20 } })];\n    }, proxy: true }], null, false, 1614167509) })], 1)];\n  }, proxy: true } : null], null, true) });\n};\nvar _sfc_staticRenderFns$4 = [];\nvar __component__$4 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$4,\n  _sfc_render$4,\n  _sfc_staticRenderFns$4,\n  false,\n  null,\n  \"1a8cb0b2\"\n);\nconst FilePickerBreadcrumbs = __component__$4.exports;\nconst _sfc_main$3 = {\n  name: \"CloseIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$3 = function render12() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon close-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$3 = [];\nvar __component__$3 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$3,\n  _sfc_render$3,\n  _sfc_staticRenderFns$3,\n  false,\n  null,\n  null\n);\nconst IconClose = __component__$3.exports;\nconst _sfc_main$2 = {\n  name: \"MagnifyIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$2 = function render13() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon magnify-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$2 = [];\nvar __component__$2 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$2,\n  _sfc_render$2,\n  _sfc_staticRenderFns$2,\n  false,\n  null,\n  null\n);\nconst IconMagnify = __component__$2.exports;\nconst useViews = (isAnonymous) => {\n  const allViews = [\n    {\n      id: \"files\",\n      label: t(\"All files\"),\n      icon: mdiFolder\n    },\n    {\n      id: \"recent\",\n      label: t(\"Recent\"),\n      icon: mdiClock\n    },\n    {\n      id: \"favorites\",\n      label: t(\"Favorites\"),\n      icon: mdiStar\n    }\n  ];\n  const availableViews = isAnonymous.value ? allViews.filter(({ id }) => id === \"files\") : allViews;\n  return {\n    allViews,\n    availableViews\n  };\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerNavigation\",\n  props: {\n    currentView: null,\n    filterString: null,\n    isCollapsed: { type: Boolean },\n    disabledNavigation: { type: Boolean }\n  },\n  emits: [\"update:currentView\", \"update:filterString\"],\n  setup(__props, { emit: emit2 }) {\n    const props = __props;\n    const { availableViews } = useViews(ref(getCurrentUser() === null));\n    const currentViewObject = computed(() => availableViews.filter((v) => v.id === props.currentView)[0] ?? availableViews[0]);\n    const updateFilterValue = (value) => emit2(\"update:filterString\", value);\n    return { __sfc: true, props, emit: emit2, availableViews, currentViewObject, updateFilterValue, IconClose, IconMagnify, NcButton, NcIconSvgWrapper, NcSelect, NcTextField, Fragment, t };\n  }\n});\nvar _sfc_render$1 = function render14() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(_setup.Fragment, [_c(_setup.NcTextField, { staticClass: \"file-picker__filter-input\", attrs: { \"label\": _setup.t(\"Filter file list\"), \"show-trailing-button\": !!_vm.filterString, \"model-value\": _vm.filterString }, on: { \"update:model-value\": _setup.updateFilterValue, \"trailing-button-click\": function($event) {\n    return _setup.updateFilterValue(\"\");\n  } }, scopedSlots: _vm._u([{ key: \"trailing-button-icon\", fn: function() {\n    return [_c(_setup.IconClose, { attrs: { \"size\": 16 } })];\n  }, proxy: true }]) }, [_c(_setup.IconMagnify, { attrs: { \"size\": 16 } })], 1), _setup.availableViews.length > 1 && !_vm.disabledNavigation ? [!_vm.isCollapsed ? _c(\"ul\", { staticClass: \"file-picker__side\" }, _vm._l(_setup.availableViews, function(view) {\n    return _c(\"li\", { key: view.id }, [_c(_setup.NcButton, { attrs: { \"type\": _vm.currentView === view.id ? \"primary\" : \"tertiary\", \"wide\": true }, on: { \"click\": function($event) {\n      return _vm.$emit(\"update:currentView\", view.id);\n    } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(_setup.NcIconSvgWrapper, { attrs: { \"path\": view.icon, \"size\": 20 } })];\n    }, proxy: true }], null, true) }, [_vm._v(\" \" + _vm._s(view.label) + \" \")])], 1);\n  }), 0) : _c(_setup.NcSelect, { attrs: { \"aria-label\": _setup.t(\"Current view selector\"), \"clearable\": false, \"searchable\": false, \"options\": _setup.availableViews, \"model-value\": _setup.currentViewObject }, on: { \"update:model-value\": function($event) {\n    return _setup.emit(\"update:currentView\", $event.id);\n  } } })] : _vm._e()], 2);\n};\nvar _sfc_staticRenderFns$1 = [];\nvar __component__$1 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$1,\n  _sfc_render$1,\n  _sfc_staticRenderFns$1,\n  false,\n  null,\n  \"f5975252\"\n);\nconst FilePickerNavigation = __component__$1.exports;\nfunction getRecentNodes(client) {\n  const controller = new AbortController();\n  const lastTwoWeek = Math.round(Date.now() / 1e3) - 60 * 60 * 24 * 14;\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const { data } = await client.search(\"/\", {\n        signal: controller.signal,\n        details: true,\n        data: davGetRecentSearch(lastTwoWeek)\n      });\n      const nodes = data.results.map((result) => davResultToNode(result));\n      resolve(nodes);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nfunction getNodes(client, directoryPath) {\n  const controller = new AbortController();\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const results = await client.getDirectoryContents(join(davRootPath, directoryPath), {\n        signal: controller.signal,\n        details: true,\n        includeSelf: true,\n        data: davGetDefaultPropfind()\n      });\n      const nodes = results.data.map((result) => davResultToNode(result));\n      resolve({\n        contents: nodes.filter(({ path }) => path !== directoryPath),\n        folder: nodes.find(({ path }) => path === directoryPath)\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nasync function getFile(client, path) {\n  const { data } = await client.stat(join(davRootPath, path), {\n    details: true,\n    data: davGetDefaultPropfind()\n  });\n  return davResultToNode(data);\n}\nconst useDAVFiles = function(currentView, currentPath) {\n  const client = davGetClient();\n  const files = shallowRef([]);\n  const folder = shallowRef(null);\n  const isLoading = ref(true);\n  const promise = ref(null);\n  async function createDirectory(name) {\n    const path = join(currentPath.value, name);\n    await client.createDirectory(join(davRootPath, path));\n    const directory = await getFile(client, path);\n    files.value = [...files.value, directory];\n    return directory;\n  }\n  async function loadDAVFiles() {\n    if (promise.value) {\n      promise.value.cancel();\n    }\n    isLoading.value = true;\n    if (currentView.value === \"favorites\") {\n      promise.value = getFavoriteNodes(client, currentPath.value);\n    } else if (currentView.value === \"recent\") {\n      promise.value = getRecentNodes(client);\n    } else {\n      promise.value = getNodes(client, currentPath.value);\n    }\n    const content = await promise.value;\n    if (\"folder\" in content) {\n      folder.value = content.folder;\n      files.value = content.contents;\n    } else {\n      folder.value = null;\n      files.value = content;\n    }\n    promise.value = null;\n    isLoading.value = false;\n  }\n  watch([currentView, currentPath], () => loadDAVFiles());\n  onMounted(() => loadDAVFiles());\n  return {\n    isLoading,\n    files,\n    folder,\n    loadFiles: loadDAVFiles,\n    createDirectory\n  };\n};\nconst useMimeFilter = function(allowedMIMETypes) {\n  const splittedTypes = computed(() => allowedMIMETypes.value.map((filter) => filter.split(\"/\")));\n  const isSupportedMimeType = (mime) => {\n    const mimeTypeArray = mime.split(\"/\");\n    return splittedTypes.value.some(\n      ([type, subtype]) => (\n        // check mime type matches or is wildcard\n        (mimeTypeArray[0] === type || type === \"*\") && (mimeTypeArray[1] === subtype || subtype === \"*\")\n      )\n    );\n  };\n  return {\n    isSupportedMimeType\n  };\n};\nconst __default__ = {\n  name: \"FilePicker\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    buttons: null,\n    name: null,\n    allowPickDirectory: { type: Boolean, default: false },\n    disabledNavigation: { type: Boolean, default: false },\n    container: { default: \"body\" },\n    filterFn: { default: void 0 },\n    canPickFn: { default: void 0 },\n    mimetypeFilter: { default: () => [] },\n    multiselect: { type: Boolean, default: true },\n    path: { default: void 0 }\n  },\n  emits: [\"close\"],\n  setup(__props, { emit: emit$1 }) {\n    const props = __props;\n    const isOpen = ref(true);\n    const dialogButtons = computed(() => {\n      const nodes = selectedFiles.value.length === 0 && props.allowPickDirectory && currentFolder.value ? [currentFolder.value] : selectedFiles.value;\n      const buttons = typeof props.buttons === \"function\" ? props.buttons(nodes, currentPath.value, currentView.value) : props.buttons;\n      return buttons.map((button) => ({\n        ...button,\n        disabled: button.disabled || isLoading.value,\n        callback: () => {\n          isHandlingCallback = true;\n          handleButtonClick(button.callback, nodes);\n        }\n      }));\n    });\n    let isHandlingCallback = false;\n    const handleButtonClick = async (callback, nodes) => {\n      callback(nodes);\n      emit$1(\"close\", nodes);\n      isHandlingCallback = false;\n    };\n    const currentView = ref(\"files\");\n    const viewHeadline = computed(() => currentView.value === \"favorites\" ? t(\"Favorites\") : currentView.value === \"recent\" ? t(\"Recent\") : \"\");\n    const selectedFiles = shallowRef([]);\n    const savedPath = ref(window?.sessionStorage.getItem(\"NC.FilePicker.LastPath\") || \"/\");\n    const navigatedPath = ref(\"\");\n    watch([navigatedPath], () => {\n      if (props.path === void 0 && navigatedPath.value) {\n        window.sessionStorage.setItem(\"NC.FilePicker.LastPath\", navigatedPath.value);\n      }\n      selectedFiles.value = [];\n    });\n    const currentPath = computed({\n      get: () => {\n        return currentView.value === \"files\" ? navigatedPath.value || props.path || savedPath.value : \"/\";\n      },\n      set: (path) => {\n        navigatedPath.value = path;\n      }\n    });\n    const filterString = ref(\"\");\n    const { isSupportedMimeType } = useMimeFilter(toRef(props, \"mimetypeFilter\"));\n    const {\n      files,\n      folder: currentFolder,\n      isLoading,\n      loadFiles,\n      createDirectory\n    } = useDAVFiles(currentView, currentPath);\n    onMounted(() => loadFiles());\n    const { showHiddenFiles } = useFilesSettings();\n    const filteredFiles = computed(() => {\n      let filtered = files.value;\n      if (!showHiddenFiles.value) {\n        filtered = filtered.filter((file) => !file.basename.startsWith(\".\"));\n      }\n      if (props.mimetypeFilter.length > 0) {\n        filtered = filtered.filter((file) => file.type === \"folder\" || file.mime && isSupportedMimeType(file.mime));\n      }\n      if (filterString.value) {\n        filtered = filtered.filter((file) => file.basename.toLowerCase().includes(filterString.value.toLowerCase()));\n      }\n      if (props.filterFn) {\n        filtered = filtered.filter((f) => props.filterFn(f));\n      }\n      return filtered;\n    });\n    const noFilesDescription = computed(() => {\n      if (currentView.value === \"files\") {\n        return t(\"Upload some content or sync with your devices!\");\n      } else if (currentView.value === \"recent\") {\n        return t(\"Files and folders you recently modified will show up here.\");\n      } else {\n        return t(\"Files and folders you mark as favorite will show up here.\");\n      }\n    });\n    const onCreateFolder = async (name) => {\n      try {\n        const folder = await createDirectory(name);\n        navigatedPath.value = folder.path;\n        emit(\"files:node:created\", files.value.filter((file) => file.basename === name)[0]);\n      } catch (error) {\n        console.warn(\"Could not create new folder\", { name, error });\n        showError(t(\"Could not create the new folder\"));\n      }\n    };\n    const handleClose = (open) => {\n      if (!open && !isHandlingCallback) {\n        emit$1(\"close\");\n      }\n    };\n    return { __sfc: true, props, emit: emit$1, isOpen, dialogButtons, isHandlingCallback, handleButtonClick, currentView, viewHeadline, selectedFiles, savedPath, navigatedPath, currentPath, filterString, isSupportedMimeType, files, currentFolder, isLoading, loadFiles, createDirectory, showHiddenFiles, filteredFiles, noFilesDescription, onCreateFolder, handleClose, IconFile, FileList, FilePickerBreadcrumbs, FilePickerNavigation, NcDialog, NcEmptyContent, t };\n  }\n});\nvar _sfc_render = function render15() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(_setup.NcDialog, { attrs: { \"open\": _setup.isOpen, \"container\": _vm.container, \"buttons\": _setup.dialogButtons, \"name\": _vm.name, \"size\": \"large\", \"content-classes\": \"file-picker__content\", \"dialog-classes\": \"file-picker\", \"navigation-classes\": \"file-picker__navigation\" }, on: { \"update:open\": [function($event) {\n    _setup.isOpen = $event;\n  }, _setup.handleClose] }, scopedSlots: _vm._u([{ key: \"navigation\", fn: function({ isCollapsed }) {\n    return [_c(_setup.FilePickerNavigation, { attrs: { \"current-view\": _setup.currentView, \"filter-string\": _setup.filterString, \"is-collapsed\": isCollapsed, \"disabled-navigation\": _vm.disabledNavigation }, on: { \"update:currentView\": function($event) {\n      _setup.currentView = $event;\n    }, \"update:current-view\": function($event) {\n      _setup.currentView = $event;\n    }, \"update:filterString\": function($event) {\n      _setup.filterString = $event;\n    }, \"update:filter-string\": function($event) {\n      _setup.filterString = $event;\n    } } })];\n  } }]) }, [_c(\"div\", { staticClass: \"file-picker__main\" }, [_setup.currentView === \"files\" ? _c(_setup.FilePickerBreadcrumbs, { attrs: { \"path\": _setup.currentPath, \"show-menu\": _vm.allowPickDirectory }, on: { \"update:path\": function($event) {\n    _setup.currentPath = $event;\n  }, \"create-node\": _setup.onCreateFolder } }) : _c(\"div\", { staticClass: \"file-picker__view\" }, [_c(\"h3\", [_vm._v(_vm._s(_setup.viewHeadline))])]), _setup.isLoading || _setup.filteredFiles.length > 0 ? _c(_setup.FileList, { attrs: { \"path\": _setup.currentPath, \"selected-files\": _setup.selectedFiles, \"allow-pick-directory\": _vm.allowPickDirectory, \"current-view\": _setup.currentView, \"files\": _setup.filteredFiles, \"multiselect\": _vm.multiselect, \"loading\": _setup.isLoading, \"name\": _setup.viewHeadline, \"can-pick\": _vm.canPickFn }, on: { \"update:path\": [function($event) {\n    _setup.currentPath = $event;\n  }, function($event) {\n    _setup.currentView = \"files\";\n  }], \"update:selectedFiles\": function($event) {\n    _setup.selectedFiles = $event;\n  }, \"update:selected-files\": function($event) {\n    _setup.selectedFiles = $event;\n  } } }) : _setup.filterString ? _c(_setup.NcEmptyContent, { attrs: { \"name\": _setup.t(\"No matching files\"), \"description\": _setup.t(\"No files matching your filter were found.\") }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_c(_setup.IconFile)];\n  }, proxy: true }]) }) : _c(_setup.NcEmptyContent, { attrs: { \"name\": _setup.t(\"No files in here\"), \"description\": _setup.noFilesDescription }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n    return [_c(_setup.IconFile)];\n  }, proxy: true }]) })], 1)]);\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"dda9b42b\"\n);\nconst FilePicker = __component__.exports;\nexport {\n  FilePicker as default\n};\n//# sourceMappingURL=FilePicker-JKNLPCbR.mjs.map\n","import { EventEmitter } from 'eventemitter3';\nimport pTimeout from 'p-timeout';\nimport PriorityQueue from './priority-queue.js';\n/**\nPromise queue with concurrency control.\n*/\nexport default class PQueue extends EventEmitter {\n    #carryoverIntervalCount;\n    #isIntervalIgnored;\n    #intervalCount = 0;\n    #intervalCap;\n    #rateLimitedInInterval = false;\n    #rateLimitFlushScheduled = false;\n    #interval;\n    #intervalEnd = 0;\n    #lastExecutionTime = 0;\n    #intervalId;\n    #timeoutId;\n    #strict;\n    // Circular buffer implementation for better performance\n    #strictTicks = [];\n    #strictTicksStartIndex = 0;\n    #queue;\n    #queueClass;\n    #pending = 0;\n    // The `!` is needed because of https://github.com/microsoft/TypeScript/issues/32194\n    #concurrency;\n    #isPaused;\n    // Use to assign a unique identifier to a promise function, if not explicitly specified\n    #idAssigner = 1n;\n    // Track currently running tasks for debugging\n    #runningTasks = new Map();\n    /**\n    Get or set the default timeout for all tasks. Can be changed at runtime.\n\n    Operations will throw a `TimeoutError` if they don't complete within the specified time.\n\n    The timeout begins when the operation is dequeued and starts execution, not while it's waiting in the queue.\n\n    @example\n    ```\n    const queue = new PQueue({timeout: 5000});\n\n    // Change timeout for all future tasks\n    queue.timeout = 10000;\n    ```\n    */\n    timeout;\n    constructor(options) {\n        super();\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        options = {\n            carryoverIntervalCount: false,\n            intervalCap: Number.POSITIVE_INFINITY,\n            interval: 0,\n            concurrency: Number.POSITIVE_INFINITY,\n            autoStart: true,\n            queueClass: PriorityQueue,\n            strict: false,\n            ...options,\n        };\n        if (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n            throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${options.intervalCap?.toString() ?? ''}\\` (${typeof options.intervalCap})`);\n        }\n        if (options.interval === undefined || !(Number.isFinite(options.interval) && options.interval >= 0)) {\n            throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${options.interval?.toString() ?? ''}\\` (${typeof options.interval})`);\n        }\n        if (options.strict && options.interval === 0) {\n            throw new TypeError('The `strict` option requires a non-zero `interval`');\n        }\n        if (options.strict && options.intervalCap === Number.POSITIVE_INFINITY) {\n            throw new TypeError('The `strict` option requires a finite `intervalCap`');\n        }\n        // TODO: Remove this fallback in the next major version\n        // eslint-disable-next-line @typescript-eslint/no-deprecated\n        this.#carryoverIntervalCount = options.carryoverIntervalCount ?? options.carryoverConcurrencyCount ?? false;\n        this.#isIntervalIgnored = options.intervalCap === Number.POSITIVE_INFINITY || options.interval === 0;\n        this.#intervalCap = options.intervalCap;\n        this.#interval = options.interval;\n        this.#strict = options.strict;\n        this.#queue = new options.queueClass();\n        this.#queueClass = options.queueClass;\n        this.concurrency = options.concurrency;\n        if (options.timeout !== undefined && !(Number.isFinite(options.timeout) && options.timeout > 0)) {\n            throw new TypeError(`Expected \\`timeout\\` to be a positive finite number, got \\`${options.timeout}\\` (${typeof options.timeout})`);\n        }\n        this.timeout = options.timeout;\n        this.#isPaused = options.autoStart === false;\n        this.#setupRateLimitTracking();\n    }\n    #cleanupStrictTicks(now) {\n        // Remove ticks outside the current interval window using circular buffer approach\n        while (this.#strictTicksStartIndex < this.#strictTicks.length) {\n            const oldestTick = this.#strictTicks[this.#strictTicksStartIndex];\n            if (oldestTick !== undefined && now - oldestTick >= this.#interval) {\n                this.#strictTicksStartIndex++;\n            }\n            else {\n                break;\n            }\n        }\n        // Compact the array when it becomes inefficient or fully consumed\n        // Compact when: (start index is large AND more than half wasted) OR all ticks expired\n        const shouldCompact = (this.#strictTicksStartIndex > 100 && this.#strictTicksStartIndex > this.#strictTicks.length / 2)\n            || this.#strictTicksStartIndex === this.#strictTicks.length;\n        if (shouldCompact) {\n            this.#strictTicks = this.#strictTicks.slice(this.#strictTicksStartIndex);\n            this.#strictTicksStartIndex = 0;\n        }\n    }\n    // Helper methods for interval consumption\n    #consumeIntervalSlot(now) {\n        if (this.#strict) {\n            this.#strictTicks.push(now);\n        }\n        else {\n            this.#intervalCount++;\n        }\n    }\n    #rollbackIntervalSlot() {\n        if (this.#strict) {\n            // Pop from the end of the actual data (not from start index)\n            if (this.#strictTicks.length > this.#strictTicksStartIndex) {\n                this.#strictTicks.pop();\n            }\n        }\n        else if (this.#intervalCount > 0) {\n            this.#intervalCount--;\n        }\n    }\n    #getActiveTicksCount() {\n        return this.#strictTicks.length - this.#strictTicksStartIndex;\n    }\n    get #doesIntervalAllowAnother() {\n        if (this.#isIntervalIgnored) {\n            return true;\n        }\n        if (this.#strict) {\n            // Cleanup already done by #isIntervalPausedAt before this is called\n            return this.#getActiveTicksCount() < this.#intervalCap;\n        }\n        return this.#intervalCount < this.#intervalCap;\n    }\n    get #doesConcurrentAllowAnother() {\n        return this.#pending < this.#concurrency;\n    }\n    #next() {\n        this.#pending--;\n        if (this.#pending === 0) {\n            this.emit('pendingZero');\n        }\n        this.#tryToStartAnother();\n        this.emit('next');\n    }\n    #onResumeInterval() {\n        // Clear timeout ID before processing to prevent race condition\n        // Must clear before #onInterval to allow new timeouts to be scheduled\n        this.#timeoutId = undefined;\n        this.#onInterval();\n        this.#initializeIntervalIfNeeded();\n    }\n    #isIntervalPausedAt(now) {\n        // Strict mode: check if we need to wait for oldest tick to age out\n        if (this.#strict) {\n            this.#cleanupStrictTicks(now);\n            // If at capacity, need to wait for oldest tick to age out\n            const activeTicksCount = this.#getActiveTicksCount();\n            if (activeTicksCount >= this.#intervalCap) {\n                const oldestTick = this.#strictTicks[this.#strictTicksStartIndex];\n                // After cleanup, remaining ticks are within interval, so delay is always > 0\n                const delay = this.#interval - (now - oldestTick);\n                this.#createIntervalTimeout(delay);\n                return true;\n            }\n            return false;\n        }\n        // Fixed window mode (original logic)\n        if (this.#intervalId === undefined) {\n            const delay = this.#intervalEnd - now;\n            if (delay < 0) {\n                // If the interval has expired while idle, check if we should enforce the interval\n                // from the last task execution. This ensures proper spacing between tasks even\n                // when the queue becomes empty and then new tasks are added.\n                if (this.#lastExecutionTime > 0) {\n                    const timeSinceLastExecution = now - this.#lastExecutionTime;\n                    if (timeSinceLastExecution < this.#interval) {\n                        // Not enough time has passed since the last task execution\n                        this.#createIntervalTimeout(this.#interval - timeSinceLastExecution);\n                        return true;\n                    }\n                }\n                // Enough time has passed or no previous execution, allow execution\n                this.#intervalCount = (this.#carryoverIntervalCount) ? this.#pending : 0;\n            }\n            else {\n                // Act as the interval is pending\n                this.#createIntervalTimeout(delay);\n                return true;\n            }\n        }\n        return false;\n    }\n    #createIntervalTimeout(delay) {\n        if (this.#timeoutId !== undefined) {\n            return;\n        }\n        this.#timeoutId = setTimeout(() => {\n            this.#onResumeInterval();\n        }, delay);\n    }\n    #clearIntervalTimer() {\n        if (this.#intervalId) {\n            clearInterval(this.#intervalId);\n            this.#intervalId = undefined;\n        }\n    }\n    #clearTimeoutTimer() {\n        if (this.#timeoutId) {\n            clearTimeout(this.#timeoutId);\n            this.#timeoutId = undefined;\n        }\n    }\n    #tryToStartAnother() {\n        if (this.#queue.size === 0) {\n            // We can clear the interval (\"pause\")\n            // Because we can redo it later (\"resume\")\n            this.#clearIntervalTimer();\n            this.emit('empty');\n            if (this.#pending === 0) {\n                // Clear timeout as well when completely idle\n                this.#clearTimeoutTimer();\n                // Compact strict ticks when idle to free memory\n                if (this.#strict && this.#strictTicksStartIndex > 0) {\n                    const now = Date.now();\n                    this.#cleanupStrictTicks(now);\n                }\n                this.emit('idle');\n            }\n            return false;\n        }\n        let taskStarted = false;\n        if (!this.#isPaused) {\n            const now = Date.now();\n            const canInitializeInterval = !this.#isIntervalPausedAt(now);\n            if (this.#doesIntervalAllowAnother && this.#doesConcurrentAllowAnother) {\n                const job = this.#queue.dequeue();\n                if (!this.#isIntervalIgnored) {\n                    this.#consumeIntervalSlot(now);\n                    this.#scheduleRateLimitUpdate();\n                }\n                this.emit('active');\n                job();\n                if (canInitializeInterval) {\n                    this.#initializeIntervalIfNeeded();\n                }\n                taskStarted = true;\n            }\n        }\n        return taskStarted;\n    }\n    #initializeIntervalIfNeeded() {\n        if (this.#isIntervalIgnored || this.#intervalId !== undefined) {\n            return;\n        }\n        // Strict mode uses timeouts instead of interval timers\n        if (this.#strict) {\n            return;\n        }\n        this.#intervalId = setInterval(() => {\n            this.#onInterval();\n        }, this.#interval);\n        this.#intervalEnd = Date.now() + this.#interval;\n    }\n    #onInterval() {\n        // Non-strict mode uses interval timers and intervalCount\n        if (!this.#strict) {\n            if (this.#intervalCount === 0 && this.#pending === 0 && this.#intervalId) {\n                this.#clearIntervalTimer();\n            }\n            this.#intervalCount = this.#carryoverIntervalCount ? this.#pending : 0;\n        }\n        this.#processQueue();\n        this.#scheduleRateLimitUpdate();\n    }\n    /**\n    Executes all queued functions until it reaches the limit.\n    */\n    #processQueue() {\n        // eslint-disable-next-line no-empty\n        while (this.#tryToStartAnother()) { }\n    }\n    get concurrency() {\n        return this.#concurrency;\n    }\n    set concurrency(newConcurrency) {\n        if (!(typeof newConcurrency === 'number' && newConcurrency >= 1)) {\n            throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${newConcurrency}\\` (${typeof newConcurrency})`);\n        }\n        this.#concurrency = newConcurrency;\n        this.#processQueue();\n    }\n    /**\n    Updates the priority of a promise function by its id, affecting its execution order. Requires a defined concurrency limit to take effect.\n\n    For example, this can be used to prioritize a promise function to run earlier.\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 1});\n\n    queue.add(async () => '', {priority: 1});\n    queue.add(async () => '', {priority: 0, id: ''});\n    queue.add(async () => '', {priority: 1});\n    queue.add(async () => '', {priority: 1});\n\n    queue.setPriority('', 2);\n    ```\n\n    In this case, the promise function with `id: ''` runs second.\n\n    You can also deprioritize a promise function to delay its execution:\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 1});\n\n    queue.add(async () => '', {priority: 1});\n    queue.add(async () => '', {priority: 1, id: ''});\n    queue.add(async () => '');\n    queue.add(async () => '', {priority: 0});\n\n    queue.setPriority('', -1);\n    ```\n    Here, the promise function with `id: ''` executes last.\n    */\n    setPriority(id, priority) {\n        if (typeof priority !== 'number' || !Number.isFinite(priority)) {\n            throw new TypeError(`Expected \\`priority\\` to be a finite number, got \\`${priority}\\` (${typeof priority})`);\n        }\n        this.#queue.setPriority(id, priority);\n    }\n    async add(function_, options = {}) {\n        // Create a copy to avoid mutating the original options object\n        options = {\n            timeout: this.timeout,\n            ...options,\n            // Assign unique ID if not provided\n            id: options.id ?? (this.#idAssigner++).toString(),\n        };\n        return new Promise((resolve, reject) => {\n            // Create a unique symbol for tracking this task\n            const taskSymbol = Symbol(`task-${options.id}`);\n            this.#queue.enqueue(async () => {\n                this.#pending++;\n                // Track this running task\n                this.#runningTasks.set(taskSymbol, {\n                    id: options.id,\n                    priority: options.priority ?? 0, // Match priority-queue default\n                    startTime: Date.now(),\n                    timeout: options.timeout,\n                });\n                let eventListener;\n                try {\n                    // Check abort signal - if aborted, need to decrement the counter\n                    // that was incremented in tryToStartAnother\n                    try {\n                        options.signal?.throwIfAborted();\n                    }\n                    catch (error) {\n                        this.#rollbackIntervalConsumption();\n                        // Clean up tracking before throwing\n                        this.#runningTasks.delete(taskSymbol);\n                        throw error;\n                    }\n                    this.#lastExecutionTime = Date.now();\n                    let operation = function_({ signal: options.signal });\n                    if (options.timeout) {\n                        operation = pTimeout(Promise.resolve(operation), {\n                            milliseconds: options.timeout,\n                            message: `Task timed out after ${options.timeout}ms (queue has ${this.#pending} running, ${this.#queue.size} waiting)`,\n                        });\n                    }\n                    if (options.signal) {\n                        const { signal } = options;\n                        operation = Promise.race([operation, new Promise((_resolve, reject) => {\n                                eventListener = () => {\n                                    reject(signal.reason);\n                                };\n                                signal.addEventListener('abort', eventListener, { once: true });\n                            })]);\n                    }\n                    const result = await operation;\n                    resolve(result);\n                    this.emit('completed', result);\n                }\n                catch (error) {\n                    reject(error);\n                    this.emit('error', error);\n                }\n                finally {\n                    // Clean up abort event listener\n                    if (eventListener) {\n                        options.signal?.removeEventListener('abort', eventListener);\n                    }\n                    // Remove from running tasks\n                    this.#runningTasks.delete(taskSymbol);\n                    // Use queueMicrotask to prevent deep recursion while maintaining timing\n                    queueMicrotask(() => {\n                        this.#next();\n                    });\n                }\n            }, options);\n            this.emit('add');\n            this.#tryToStartAnother();\n        });\n    }\n    async addAll(functions, options) {\n        return Promise.all(functions.map(async (function_) => this.add(function_, options)));\n    }\n    /**\n    Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)\n    */\n    start() {\n        if (!this.#isPaused) {\n            return this;\n        }\n        this.#isPaused = false;\n        this.#processQueue();\n        return this;\n    }\n    /**\n    Put queue execution on hold.\n    */\n    pause() {\n        this.#isPaused = true;\n    }\n    /**\n    Clear the queue.\n    */\n    clear() {\n        this.#queue = new this.#queueClass();\n        // Clear interval timer since queue is now empty (consistent with #tryToStartAnother)\n        this.#clearIntervalTimer();\n        // Note: We preserve strict mode rate-limiting state (ticks and timeout)\n        // because clear() only clears queued tasks, not rate limit history.\n        // This ensures that rate limits are still enforced after clearing the queue.\n        // Note: We don't clear #runningTasks as those tasks are still running\n        // They will be removed when they complete in the finally block\n        // Force synchronous update since clear() should have immediate effect\n        this.#updateRateLimitState();\n        // Emit events so waiters (onEmpty, onIdle, onSizeLessThan) can resolve\n        this.emit('empty');\n        if (this.#pending === 0) {\n            this.#clearTimeoutTimer();\n            this.emit('idle');\n        }\n        this.emit('next');\n    }\n    /**\n    Can be called multiple times. Useful if you for example add additional items at a later time.\n\n    @returns A promise that settles when the queue becomes empty.\n    */\n    async onEmpty() {\n        // Instantly resolve if the queue is empty\n        if (this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('empty');\n    }\n    /**\n    @returns A promise that settles when the queue size is less than the given limit: `queue.size < limit`.\n\n    If you want to avoid having the queue grow beyond a certain size you can `await queue.onSizeLessThan()` before adding a new item.\n\n    Note that this only limits the number of items waiting to start. There could still be up to `concurrency` jobs already running that this call does not include in its calculation.\n    */\n    async onSizeLessThan(limit) {\n        // Instantly resolve if the queue is empty.\n        if (this.#queue.size < limit) {\n            return;\n        }\n        await this.#onEvent('next', () => this.#queue.size < limit);\n    }\n    /**\n    The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.\n\n    @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.\n    */\n    async onIdle() {\n        // Instantly resolve if none pending and if nothing else is queued\n        if (this.#pending === 0 && this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('idle');\n    }\n    /**\n    The difference with `.onIdle` is that `.onPendingZero` only waits for currently running tasks to finish, ignoring queued tasks.\n\n    @returns A promise that settles when all currently running tasks have completed; `queue.pending === 0`.\n    */\n    async onPendingZero() {\n        if (this.#pending === 0) {\n            return;\n        }\n        await this.#onEvent('pendingZero');\n    }\n    /**\n    @returns A promise that settles when the queue becomes rate-limited due to intervalCap.\n    */\n    async onRateLimit() {\n        if (this.isRateLimited) {\n            return;\n        }\n        await this.#onEvent('rateLimit');\n    }\n    /**\n    @returns A promise that settles when the queue is no longer rate-limited.\n    */\n    async onRateLimitCleared() {\n        if (!this.isRateLimited) {\n            return;\n        }\n        await this.#onEvent('rateLimitCleared');\n    }\n    /**\n    @returns A promise that rejects when any task in the queue errors.\n\n    Use with `Promise.race([queue.onError(), queue.onIdle()])` to fail fast on the first error while still resolving normally when the queue goes idle.\n\n    Important: The promise returned by `add()` still rejects. You must handle each `add()` promise (for example, `.catch(() => {})`) to avoid unhandled rejections.\n\n    @example\n    ```\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 2});\n\n    queue.add(() => fetchData(1)).catch(() => {});\n    queue.add(() => fetchData(2)).catch(() => {});\n    queue.add(() => fetchData(3)).catch(() => {});\n\n    // Stop processing on first error\n    try {\n        await Promise.race([\n            queue.onError(),\n            queue.onIdle()\n        ]);\n    } catch (error) {\n        queue.pause(); // Stop processing remaining tasks\n        console.error('Queue failed:', error);\n    }\n    ```\n    */\n    // eslint-disable-next-line @typescript-eslint/promise-function-async\n    onError() {\n        return new Promise((_resolve, reject) => {\n            const handleError = (error) => {\n                this.off('error', handleError);\n                reject(error);\n            };\n            this.on('error', handleError);\n        });\n    }\n    async #onEvent(event, filter) {\n        return new Promise(resolve => {\n            const listener = () => {\n                if (filter && !filter()) {\n                    return;\n                }\n                this.off(event, listener);\n                resolve();\n            };\n            this.on(event, listener);\n        });\n    }\n    /**\n    Size of the queue, the number of queued items waiting to run.\n    */\n    get size() {\n        return this.#queue.size;\n    }\n    /**\n    Size of the queue, filtered by the given options.\n\n    For example, this can be used to find the number of items remaining in the queue with a specific priority level.\n    */\n    sizeBy(options) {\n        // eslint-disable-next-line unicorn/no-array-callback-reference\n        return this.#queue.filter(options).length;\n    }\n    /**\n    Number of running items (no longer in the queue).\n    */\n    get pending() {\n        return this.#pending;\n    }\n    /**\n    Whether the queue is currently paused.\n    */\n    get isPaused() {\n        return this.#isPaused;\n    }\n    #setupRateLimitTracking() {\n        // Only schedule updates when rate limiting is enabled\n        if (this.#isIntervalIgnored) {\n            return;\n        }\n        // Wire up to lifecycle events that affect rate limit state\n        // Only 'add' and 'next' can actually change rate limit state\n        this.on('add', () => {\n            if (this.#queue.size > 0) {\n                this.#scheduleRateLimitUpdate();\n            }\n        });\n        this.on('next', () => {\n            this.#scheduleRateLimitUpdate();\n        });\n    }\n    #scheduleRateLimitUpdate() {\n        // Skip if rate limiting is not enabled or already scheduled\n        if (this.#isIntervalIgnored || this.#rateLimitFlushScheduled) {\n            return;\n        }\n        this.#rateLimitFlushScheduled = true;\n        queueMicrotask(() => {\n            this.#rateLimitFlushScheduled = false;\n            this.#updateRateLimitState();\n        });\n    }\n    #rollbackIntervalConsumption() {\n        if (this.#isIntervalIgnored) {\n            return;\n        }\n        this.#rollbackIntervalSlot();\n        this.#scheduleRateLimitUpdate();\n    }\n    #updateRateLimitState() {\n        const previous = this.#rateLimitedInInterval;\n        // Early exit if rate limiting is disabled or queue is empty\n        if (this.#isIntervalIgnored || this.#queue.size === 0) {\n            if (previous) {\n                this.#rateLimitedInInterval = false;\n                this.emit('rateLimitCleared');\n            }\n            return;\n        }\n        // Get the current count based on mode\n        let count;\n        if (this.#strict) {\n            const now = Date.now();\n            this.#cleanupStrictTicks(now);\n            count = this.#getActiveTicksCount();\n        }\n        else {\n            count = this.#intervalCount;\n        }\n        const shouldBeRateLimited = count >= this.#intervalCap;\n        if (shouldBeRateLimited !== previous) {\n            this.#rateLimitedInInterval = shouldBeRateLimited;\n            this.emit(shouldBeRateLimited ? 'rateLimit' : 'rateLimitCleared');\n        }\n    }\n    /**\n    Whether the queue is currently rate-limited due to intervalCap.\n    */\n    get isRateLimited() {\n        return this.#rateLimitedInInterval;\n    }\n    /**\n    Whether the queue is saturated. Returns `true` when:\n    - All concurrency slots are occupied and tasks are waiting, OR\n    - The queue is rate-limited and tasks are waiting\n\n    Useful for detecting backpressure and potential hanging tasks.\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 2});\n\n    // Backpressure handling\n    if (queue.isSaturated) {\n        console.log('Queue is saturated, waiting for capacity...');\n        await queue.onSizeLessThan(queue.concurrency);\n    }\n\n    // Monitoring for stuck tasks\n    setInterval(() => {\n        if (queue.isSaturated) {\n            console.warn(`Queue saturated: ${queue.pending} running, ${queue.size} waiting`);\n        }\n    }, 60000);\n    ```\n    */\n    get isSaturated() {\n        return (this.#pending === this.#concurrency && this.#queue.size > 0)\n            || (this.isRateLimited && this.#queue.size > 0);\n    }\n    /**\n    The tasks currently being executed. Each task includes its `id`, `priority`, `startTime`, and `timeout` (if set).\n\n    Returns an array of task info objects.\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 2});\n\n    // Add tasks with IDs for better debugging\n    queue.add(() => fetchUser(123), {id: 'user-123'});\n    queue.add(() => fetchPosts(456), {id: 'posts-456', priority: 1});\n\n    // Check what's running\n    console.log(queue.runningTasks);\n    // => [{\n    //   id: 'user-123',\n    //   priority: 0,\n    //   startTime: 1759253001716,\n    //   timeout: undefined\n    // }, {\n    //   id: 'posts-456',\n    //   priority: 1,\n    //   startTime: 1759253001916,\n    //   timeout: undefined\n    // }]\n    ```\n    */\n    get runningTasks() {\n        // Return fresh array with fresh objects to prevent mutations\n        return [...this.#runningTasks.values()].map(task => ({ ...task }));\n    }\n}\n/**\nError thrown when a task times out.\n\n@example\n```\nimport PQueue, {TimeoutError} from 'p-queue';\n\nconst queue = new PQueue({timeout: 1000});\n\ntry {\n    await queue.add(() => someTask());\n} catch (error) {\n    if (error instanceof TimeoutError) {\n        console.log('Task timed out');\n    }\n}\n```\n*/\nexport { TimeoutError } from 'p-timeout';\n","function encodePath(path) {\n  if (!path) {\n    return path;\n  }\n  return path.split(\"/\").map(encodeURIComponent).join(\"/\");\n}\nfunction basename(path, extname2) {\n  path = path.replace(/\\\\/g, \"/\").replace(/\\/+$/g, \"\").replace(/.*\\//, \"\");\n  if (extname2 && extname2 !== path && path.endsWith(extname2)) {\n    return path.substring(0, path.length - extname2.length);\n  }\n  return path;\n}\nfunction dirname(path) {\n  path = path.replaceAll(/\\\\/g, \"/\");\n  const sections = path.split(\"/\");\n  if (sections.length <= 1) {\n    return \".\";\n  }\n  sections.pop();\n  if (sections.length === 1 && sections[0] === \"\") {\n    return \"/\";\n  }\n  return sections.join(\"/\");\n}\nfunction extname(path) {\n  const base = basename(path);\n  const index = base.lastIndexOf(\".\");\n  if (index > 0) {\n    return base.substring(index);\n  }\n  return \"\";\n}\nfunction join(...args) {\n  if (arguments.length < 1) {\n    return \"\";\n  }\n  const nonEmptyArgs = args.filter((arg) => arg.length > 0);\n  if (nonEmptyArgs.length < 1) {\n    return \"\";\n  }\n  const lastArg = nonEmptyArgs[nonEmptyArgs.length - 1];\n  const leadingSlash = nonEmptyArgs[0].charAt(0) === \"/\";\n  const trailingSlash = lastArg.charAt(lastArg.length - 1) === \"/\";\n  const sections = nonEmptyArgs.reduce((acc, section) => acc.concat(section.split(\"/\")), []);\n  let first = !leadingSlash;\n  const path = sections.reduce((acc, section) => {\n    if (section === \"\") {\n      return acc;\n    }\n    if (first) {\n      first = false;\n      return acc + section;\n    }\n    return acc + \"/\" + section;\n  }, \"\");\n  if (trailingSlash) {\n    return path + \"/\";\n  }\n  return path;\n}\nfunction isSamePath(path1, path2) {\n  const pathSections1 = (path1 || \"\").split(\"/\").filter((p) => p !== \".\");\n  const pathSections2 = (path2 || \"\").split(\"/\").filter((p) => p !== \".\");\n  path1 = join(...pathSections1);\n  path2 = join(...pathSections2);\n  return path1 === path2;\n}\nexport {\n  basename,\n  dirname,\n  encodePath,\n  extname,\n  isSamePath,\n  join\n};\n//# sourceMappingURL=index.mjs.map\n"],"names":["has","Object","prototype","hasOwnProperty","prefix","Events","EE","fn","context","once","this","addListener","emitter","event","TypeError","listener","evt","_events","push","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","name","names","call","slice","getOwnPropertySymbols","concat","listeners","handlers","i","l","length","ee","Array","listenerCount","emit","a1","a2","a3","a4","a5","args","len","arguments","removeListener","undefined","apply","j","on","removeAllListeners","off","prefixed","module","exports","app","key","fallback","selector","window","_nc_initial_state","get","Map","elem","document","querySelector","Error","parsedValue","JSON","parse","atob","value","set","error","console","cause","isPublicShare","ShareType","PriorityQueue","enqueue","run","options","priority","id","element","size","index","array","comparator","first","count","step","Math","trunc","it","lowerBound","a","b","splice","setPriority","findIndex","ReferenceError","item","dequeue","shift","filter","map","_sfc_main$e","emits","props","title","type","String","fillColor","default","Number","_sfc_render$e","_vm","_c","_self","_b","staticClass","attrs","$event","$emit","$attrs","_v","_s","_e","_sfc_staticRenderFns$e","IconFile","n","useFilesSettings","filesUserState","showHiddenFiles","show_hidden","sortFavoritesFirst","sort_favorites_first","cropImagePreviews","crop_image_previews","async","debug","data","t","_sfc_main$d","_sfc_render$d","_sfc_staticRenderFns$d","IconSortAscending","_sfc_main$c","_sfc_render$c","_sfc_staticRenderFns$c","IconSortDescending","fileListIconStylesModule","_sfc_main$b","__name","showCheckbox","Boolean","setup","__props","__sfc","fileListIconStyles","_sfc_render$b","_setup","_setupProxy","class","_m","_sfc_staticRenderFns$b","LoadingTableRow","queue","timeout","constructor","super","carryoverIntervalCount","intervalCap","POSITIVE_INFINITY","interval","concurrency","autoStart","queueClass","strict","toString","isFinite","carryoverConcurrencyCount","now","oldestTick","pop","delay","timeSinceLastExecution","setTimeout","clearInterval","clearTimeout","Date","taskStarted","canInitializeInterval","job","setInterval","newConcurrency","add","function_","Promise","resolve","reject","taskSymbol","Symbol","eventListener","startTime","signal","throwIfAborted","delete","operation","milliseconds","message","race","_resolve","reason","addEventListener","result","removeEventListener","queueMicrotask","addAll","functions","all","start","pause","clear","onEmpty","onSizeLessThan","limit","onIdle","onPendingZero","onRateLimit","isRateLimited","onRateLimitCleared","onError","handleError","sizeBy","pending","isPaused","previous","shouldBeRateLimited","isSaturated","runningTasks","values","task","_sfc_main$a","_sfc_render$a","_sfc_staticRenderFns$a","IconFolder","_sfc_main$9","node","previewURL","previewLoaded","cropPreview","mimeFallback","previewUrl","attributes","fileid","url","URL","e","location","origin","searchParams","etag","getPreviewURL","File","promise","withResolvers","image","Image","onerror","onload","src","preloadImage","href","then","success","usePreviewURL","isFile","folderDecorationIcon","Folder","mdi","shareTypes","flat","some","Link","Email","NcIconSvgWrapper","_sfc_render$9","style","backgroundImage","_sfc_staticRenderFns$9","FilePreview","_sfc_main$8","allowPickDirectory","selected","canPick","emit2","fileExtension","path","base","replace","basename","lastIndexOf","substring","extname","displayname","displayName","isDirectory","isPickable","isNavigatable","permissions","READ","toggleSelected","handleClick","handleKeyDown","formatFileSize","_sfc_render$8","_g","click","keydown","stopPropagation","NcCheckboxRadioSwitch","nodename","domProps","NcDateTime","mtime","_sfc_staticRenderFns$8","FileListRow","_sfc_main$7","currentView","multiselect","loading","files","selectedFiles","customSortingConfig","currentConfig","filesAppSorting","convertOrder","order2","filesViewsState","filesViewConfig","sortBy","sorting_mode","order","sorting_direction","recentViewConfig","recent","favoritesViewConfig","favorites","useFilesViews","sortingConfig","sortByName","sortBySize","sortByModified","sortedFiles","sortFoldersFirst","sortingOrder","sortingMode","selectableFiles","file","allSelected","skeletonNumber","fileContainer","resize","nodes","parentElement","children","height","clientHeight","isSameNode","max","floor","toggleSorting","onSelectAll","onNodeSelected","includes","f","onChangeDirectory","dir","NcButton","_sfc_render$7","ref","scopedSlots","_u","staticStyle","proxy","_l","_sfc_staticRenderFns$7","FileList","_sfc_main$6","_sfc_render$6","_sfc_staticRenderFns$6","IconHome","_sfc_main$5","_sfc_render$5","_sfc_staticRenderFns$5","IconPlus","_sfc_main$4","showMenu","actionsOpen","newNodeName","nameInput","validateInput","trim","input","$el","validity","Character","char","segment","ReservedName","Extension","extension","setCustomValidity","pathElements","split","v","elements","join","onSubmit","NcActionInput","_sfc_render$4","NcBreadcrumbs","NcBreadcrumb","NcActions","_sfc_staticRenderFns$4","FilePickerBreadcrumbs","_sfc_main$3","_sfc_render$3","_sfc_staticRenderFns$3","IconClose","_sfc_main$2","_sfc_render$2","_sfc_staticRenderFns$2","IconMagnify","_sfc_main$1","filterString","isCollapsed","disabledNavigation","availableViews","isAnonymous","allViews","label","icon","useViews","currentViewObject","updateFilterValue","_sfc_render$1","Fragment","NcTextField","NcSelect","view","_sfc_staticRenderFns$1","FilePickerNavigation","_sfc_main","buttons","container","filterFn","canPickFn","mimetypeFilter","emit$1","isOpen","dialogButtons","currentFolder","currentPath","button","disabled","isLoading","callback","isHandlingCallback","handleButtonClick","viewHeadline","savedPath","sessionStorage","getItem","navigatedPath","setItem","isSupportedMimeType","allowedMIMETypes","splittedTypes","mime","mimeTypeArray","subtype","useMimeFilter","folder","loadFiles","createDirectory","client","loadDAVFiles","cancel","controller","AbortController","lastTwoWeek","round","CancelablePromise","onCancel","abort","search","details","results","getRecentNodes","directoryPath","getDirectoryContents","includeSelf","contents","find","getNodes","content","directory","stat","getFile","useDAVFiles","filteredFiles","filtered","startsWith","toLowerCase","noFilesDescription","onCreateFolder","warn","handleClose","open","NcDialog","_sfc_render","NcEmptyContent","_sfc_staticRenderFns","FilePicker"],"ignoreList":[],"sourceRoot":""}