{"version":3,"file":"NcUserBubble-vOAXLHB5-BLt6cX5g.chunk.mjs","sources":["../node_modules/@nextcloud/vue/dist/chunks/NcUserBubble-vOAXLHB5.mjs"],"sourcesContent":["import '../assets/NcUserBubble-DFUmBxeb.css';\nimport { createElementBlock, openBlock, renderSlot, defineComponent, mergeModels, useModel, computed, warn, watch, createBlock, resolveDynamicComponent, withCtx, mergeProps, createVNode, createElementVNode, createCommentVNode, normalizeStyle, toDisplayString } from \"vue\";\nimport { RouterLink } from \"vue-router\";\nimport { N as NcAvatar } from \"./NcAvatar-C9d7Wrc8.mjs\";\nimport { N as NcPopover } from \"./NcPopover-OqcYrWOx.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nconst _sfc_main$1 = {};\nfunction _sfc_render(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"div\", null, [\n    renderSlot(_ctx.$slots, \"trigger\")\n  ]);\n}\nconst NcUserBubbleDiv = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"render\", _sfc_render]]);\nconst _hoisted_1 = { class: \"user-bubble__name\" };\nconst _hoisted_2 = {\n  key: 0,\n  class: \"user-bubble__secondary\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"NcUserBubble\",\n  props: /* @__PURE__ */ mergeModels({\n    avatarImage: { default: void 0 },\n    user: { default: void 0 },\n    displayName: { default: void 0 },\n    showUserStatus: { type: Boolean },\n    url: { default: void 0 },\n    to: { default: void 0 },\n    primary: { type: Boolean },\n    size: { default: 20 },\n    margin: { default: 2 }\n  }, {\n    \"open\": { type: Boolean },\n    \"openModifiers\": {}\n  }),\n  emits: /* @__PURE__ */ mergeModels([\"click\"], [\"update:open\"]),\n  setup(__props, { emit: __emit }) {\n    const isOpen = useModel(__props, \"open\");\n    const props = __props;\n    const emit = __emit;\n    const isAvatarUrl = computed(() => {\n      if (!props.avatarImage) {\n        return false;\n      }\n      try {\n        const url = new URL(props.avatarImage);\n        return !!url;\n      } catch {\n        return false;\n      }\n    });\n    const isCustomAvatar = computed(() => !!props.avatarImage);\n    const avatarStyle = computed(() => ({\n      marginInlineStart: `${props.margin}px`\n    }));\n    const hasUrl = computed(() => {\n      if (!props.url || props.url.trim() === \"\") {\n        return false;\n      }\n      try {\n        const url = new URL(props.url, props.url?.startsWith?.(\"/\") ? window.location.href : void 0);\n        return !!url;\n      } catch {\n        warn(\"[NcUserBubble] Invalid URL passed\", { url: props.url });\n        return false;\n      }\n    });\n    const href = computed(() => hasUrl.value ? props.url : void 0);\n    const contentComponent = computed(() => {\n      if (hasUrl.value) {\n        return \"a\";\n      } else if (props.to) {\n        return RouterLink;\n      } else {\n        return \"div\";\n      }\n    });\n    const contentStyle = computed(() => ({\n      height: `${props.size}px`,\n      lineHeight: `${props.size}px`,\n      borderRadius: `${props.size / 2}px`\n    }));\n    watch([() => props.displayName, () => props.user], () => {\n      if (!props.displayName && !props.user) {\n        warn(\"[NcUserBubble] At least `displayName` or `user` property should be set.\");\n      }\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(resolveDynamicComponent(!!_ctx.$slots.default ? NcPopover : NcUserBubbleDiv), {\n        shown: isOpen.value,\n        \"onUpdate:shown\": _cache[1] || (_cache[1] = ($event) => isOpen.value = $event),\n        class: \"user-bubble__wrapper\",\n        trigger: \"hover focus\"\n      }, {\n        trigger: withCtx(({ attrs }) => [\n          (openBlock(), createBlock(resolveDynamicComponent(contentComponent.value), mergeProps({\n            class: [\"user-bubble__content\", { \"user-bubble__content--primary\": _ctx.primary }],\n            style: contentStyle.value,\n            to: _ctx.to,\n            href: href.value\n          }, attrs, {\n            onClick: _cache[0] || (_cache[0] = ($event) => emit(\"click\", $event))\n          }), {\n            default: withCtx(() => [\n              createVNode(NcAvatar, {\n                url: isCustomAvatar.value && isAvatarUrl.value ? _ctx.avatarImage : void 0,\n                iconClass: isCustomAvatar.value && !isAvatarUrl.value ? _ctx.avatarImage : void 0,\n                user: _ctx.user,\n                displayName: _ctx.displayName,\n                size: _ctx.size - _ctx.margin * 2,\n                style: normalizeStyle(avatarStyle.value),\n                disableTooltip: \"\",\n                disableMenu: \"\",\n                hideStatus: !_ctx.showUserStatus,\n                class: \"user-bubble__avatar\"\n              }, null, 8, [\"url\", \"iconClass\", \"user\", \"displayName\", \"size\", \"style\", \"hideStatus\"]),\n              createElementVNode(\"span\", _hoisted_1, toDisplayString(_ctx.displayName || _ctx.user), 1),\n              !!_ctx.$slots.name ? (openBlock(), createElementBlock(\"span\", _hoisted_2, [\n                renderSlot(_ctx.$slots, \"name\", {}, void 0, true)\n              ])) : createCommentVNode(\"\", true)\n            ]),\n            _: 2\n          }, 1040, [\"class\", \"style\", \"to\", \"href\"]))\n        ]),\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\", {}, void 0, true)\n        ]),\n        _: 3\n      }, 40, [\"shown\"]);\n    };\n  }\n});\nconst NcUserBubble = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-9189d023\"]]);\nexport {\n  NcUserBubble as N\n};\n//# sourceMappingURL=NcUserBubble-vOAXLHB5.mjs.map\n"],"names":["_sfc_main$1","_sfc_render","_ctx","_cache","openBlock","createElementBlock","renderSlot","NcUserBubbleDiv","_export_sfc","_hoisted_1","_hoisted_2","_sfc_main","defineComponent","mergeModels","__props","__emit","isOpen","useModel","props","emit","isAvatarUrl","computed","isCustomAvatar","avatarStyle","hasUrl","warn","href","contentComponent","RouterLink","contentStyle","watch","createBlock","resolveDynamicComponent","NcPopover","$event","withCtx","attrs","mergeProps","createVNode","NcAvatar","normalizeStyle","createElementVNode","toDisplayString","createCommentVNode","NcUserBubble"],"mappings":"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","x_google_ignoreList":[0]}