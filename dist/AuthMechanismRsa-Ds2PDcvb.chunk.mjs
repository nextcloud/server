import{b as y,q as g,s as v,i as p,u as l,o as n,J as h,w as _,l as V,t as b,v as x,j as M,c as d,f,F as q,C as w,E as K,G as U}from"./runtime-dom.esm-bundler-BWg2EkCL.chunk.mjs";import{c as j}from"./index-Bg319tlM.chunk.mjs";import{a as C}from"./index-C1xmmKTZ-Okpt8KNk.chunk.mjs";import{t as s}from"./translation-DoG5ZELJ-2ffMJaM4.chunk.mjs";import{g as E}from"./createElementId-DhjFt1I9-D64J59RV.chunk.mjs";import{N}from"./logger-D3RVzcfQ-CogpW_UT.chunk.mjs";import{N as S}from"./NcSelect-DLheQ2yp-DtrPFIGi.chunk.mjs";import{N as A}from"./NcCheckboxRadioSwitch-BMsPx74L-b_QDgC38.chunk.mjs";import{N as L}from"./NcPasswordField-uaMO2pdt-QFs5IMv4.chunk.mjs";import{_ as z}from"./TrashCanOutline-B-MO8W5-.chunk.mjs";import{C as c,a as k}from"./types-CqwWUQm3.chunk.mjs";import{l as B}from"./logger-CrDakPzW.chunk.mjs";const P=y({__name:"ConfigurationEntry",props:g({configKey:{},configOption:{}},{modelValue:{type:[String,Boolean],default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=v(e,"modelValue");return(t,i)=>e.configOption.type!==l(c).Boolean?(n(),p(h(e.configOption.type===l(c).Password?l(L):l(z)),{key:0,modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=o=>a.value=o),name:e.configKey,required:!(e.configOption.flags&l(k).Optional),label:e.configOption.value,title:e.configOption.tooltip},null,8,["modelValue","name","required","label","title"])):(n(),p(l(A),{key:1,modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=o=>a.value=o),type:"switch",title:e.configOption.tooltip},{default:_(()=>[V(b(e.configOption.value),1)]),_:1},8,["modelValue","title"]))}}),R=y({__name:"AuthMechanismRsa",props:g({authMechanism:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=v(e,"modelValue"),t=M();x(t,()=>{t.value&&(a.value.private_key="",a.value.public_key="")});async function i(){try{const{data:o}=await j.post(E("/apps/files_external/ajax/public_key.php"),{keyLength:t.value});a.value.private_key=o.data.private_key,a.value.public_key=o.data.public_key}catch(o){B.error("Error generating RSA key pair",{error:o}),C(s("files_external","Error generating key pair"))}}return(o,m)=>(n(),d("div",null,[(n(!0),d(q,null,w(e.authMechanism.configuration,(r,u)=>K((n(),p(P,{key:r.value,modelValue:a.value[u],"onUpdate:modelValue":O=>a.value[u]=O,configKey:u,configOption:r},null,8,["modelValue","onUpdate:modelValue","configKey","configOption"])),[[U,!(r.flags&l(k).Hidden)]])),128)),f(l(S),{modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=r=>t.value=r),clearable:!1,inputLabel:l(s)("files_external","Key size"),options:[1024,2048,4096],required:""},null,8,["modelValue","inputLabel"]),f(l(N),{disabled:!t.value,wide:"",onClick:i},{default:_(()=>[V(b(l(s)("files_external","Generate keys")),1)]),_:1},8,["disabled"])]))}}),$=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{$ as A,P as _};
//# sourceMappingURL=AuthMechanismRsa-Ds2PDcvb.chunk.mjs.map
