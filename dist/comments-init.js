(()=>{var e,r={39224(e,r,t){"use strict";var i,n,s,o,a=t(36520),E=t(380),c=t(20005),h=t(53334),l=t(65606);function d(){if(n)return i;n=1;const e="object"==typeof l&&l.env&&l.env.NODE_DEBUG&&/\bsemver\b/i.test(l.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};return i=e}function p(){if(o)return s;o=1;const e=Number.MAX_SAFE_INTEGER||9007199254740991;return s={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}Object.freeze({DEFAULT:"default",HIDDEN:"hidden"});var I,f,N,R,u,m,L,O,b,A,$,w,S,T={exports:{}};function v(){if(L)return m;L=1;const e=d(),{MAX_LENGTH:r,MAX_SAFE_INTEGER:t}=p(),{safeRe:i,t:n}=(I||(I=1,function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:n}=p(),s=d(),o=(r=e.exports={}).re=[],a=r.safeRe=[],E=r.src=[],c=r.safeSrc=[],h=r.t={};let l=0;const I="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",n],[I,i]],N=(e,r,t)=>{const i=(e=>{for(const[r,t]of f)e=e.split(`${r}*`).join(`${r}{0,${t}}`).split(`${r}+`).join(`${r}{1,${t}}`);return e})(r),n=l++;s(e,n,r),h[e]=n,E[n]=r,c[n]=i,o[n]=new RegExp(r,t?"g":void 0),a[n]=new RegExp(i,t?"g":void 0)};N("NUMERICIDENTIFIER","0|[1-9]\\d*"),N("NUMERICIDENTIFIERLOOSE","\\d+"),N("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${I}*`),N("MAINVERSION",`(${E[h.NUMERICIDENTIFIER]})\\.(${E[h.NUMERICIDENTIFIER]})\\.(${E[h.NUMERICIDENTIFIER]})`),N("MAINVERSIONLOOSE",`(${E[h.NUMERICIDENTIFIERLOOSE]})\\.(${E[h.NUMERICIDENTIFIERLOOSE]})\\.(${E[h.NUMERICIDENTIFIERLOOSE]})`),N("PRERELEASEIDENTIFIER",`(?:${E[h.NONNUMERICIDENTIFIER]}|${E[h.NUMERICIDENTIFIER]})`),N("PRERELEASEIDENTIFIERLOOSE",`(?:${E[h.NONNUMERICIDENTIFIER]}|${E[h.NUMERICIDENTIFIERLOOSE]})`),N("PRERELEASE",`(?:-(${E[h.PRERELEASEIDENTIFIER]}(?:\\.${E[h.PRERELEASEIDENTIFIER]})*))`),N("PRERELEASELOOSE",`(?:-?(${E[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${E[h.PRERELEASEIDENTIFIERLOOSE]})*))`),N("BUILDIDENTIFIER",`${I}+`),N("BUILD",`(?:\\+(${E[h.BUILDIDENTIFIER]}(?:\\.${E[h.BUILDIDENTIFIER]})*))`),N("FULLPLAIN",`v?${E[h.MAINVERSION]}${E[h.PRERELEASE]}?${E[h.BUILD]}?`),N("FULL",`^${E[h.FULLPLAIN]}$`),N("LOOSEPLAIN",`[v=\\s]*${E[h.MAINVERSIONLOOSE]}${E[h.PRERELEASELOOSE]}?${E[h.BUILD]}?`),N("LOOSE",`^${E[h.LOOSEPLAIN]}$`),N("GTLT","((?:<|>)?=?)"),N("XRANGEIDENTIFIERLOOSE",`${E[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),N("XRANGEIDENTIFIER",`${E[h.NUMERICIDENTIFIER]}|x|X|\\*`),N("XRANGEPLAIN",`[v=\\s]*(${E[h.XRANGEIDENTIFIER]})(?:\\.(${E[h.XRANGEIDENTIFIER]})(?:\\.(${E[h.XRANGEIDENTIFIER]})(?:${E[h.PRERELEASE]})?${E[h.BUILD]}?)?)?`),N("XRANGEPLAINLOOSE",`[v=\\s]*(${E[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E[h.XRANGEIDENTIFIERLOOSE]})(?:${E[h.PRERELEASELOOSE]})?${E[h.BUILD]}?)?)?`),N("XRANGE",`^${E[h.GTLT]}\\s*${E[h.XRANGEPLAIN]}$`),N("XRANGELOOSE",`^${E[h.GTLT]}\\s*${E[h.XRANGEPLAINLOOSE]}$`),N("COERCEPLAIN",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?`),N("COERCE",`${E[h.COERCEPLAIN]}(?:$|[^\\d])`),N("COERCEFULL",E[h.COERCEPLAIN]+`(?:${E[h.PRERELEASE]})?(?:${E[h.BUILD]})?(?:$|[^\\d])`),N("COERCERTL",E[h.COERCE],!0),N("COERCERTLFULL",E[h.COERCEFULL],!0),N("LONETILDE","(?:~>?)"),N("TILDETRIM",`(\\s*)${E[h.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",N("TILDE",`^${E[h.LONETILDE]}${E[h.XRANGEPLAIN]}$`),N("TILDELOOSE",`^${E[h.LONETILDE]}${E[h.XRANGEPLAINLOOSE]}$`),N("LONECARET","(?:\\^)"),N("CARETTRIM",`(\\s*)${E[h.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",N("CARET",`^${E[h.LONECARET]}${E[h.XRANGEPLAIN]}$`),N("CARETLOOSE",`^${E[h.LONECARET]}${E[h.XRANGEPLAINLOOSE]}$`),N("COMPARATORLOOSE",`^${E[h.GTLT]}\\s*(${E[h.LOOSEPLAIN]})$|^$`),N("COMPARATOR",`^${E[h.GTLT]}\\s*(${E[h.FULLPLAIN]})$|^$`),N("COMPARATORTRIM",`(\\s*)${E[h.GTLT]}\\s*(${E[h.LOOSEPLAIN]}|${E[h.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",N("HYPHENRANGE",`^\\s*(${E[h.XRANGEPLAIN]})\\s+-\\s+(${E[h.XRANGEPLAIN]})\\s*$`),N("HYPHENRANGELOOSE",`^\\s*(${E[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${E[h.XRANGEPLAINLOOSE]})\\s*$`),N("STAR","(<|>)?=?\\s*\\*"),N("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),N("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(T,T.exports)),T.exports),s=function(){if(N)return f;N=1;const e=Object.freeze({loose:!0}),r=Object.freeze({});return f=t=>t?"object"!=typeof t?e:t:r}(),{compareIdentifiers:o}=function(){if(u)return R;u=1;const e=/^[0-9]+$/,r=(r,t)=>{if("number"==typeof r&&"number"==typeof t)return r===t?0:r<t?-1:1;const i=e.test(r),n=e.test(t);return i&&n&&(r=+r,t=+t),r===t?0:i&&!n?-1:n&&!i?1:r<t?-1:1};return R={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}}();class a{constructor(o,E){if(E=s(E),o instanceof a){if(o.loose===!!E.loose&&o.includePrerelease===!!E.includePrerelease)return o;o=o.version}else if("string"!=typeof o)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof o}".`);if(o.length>r)throw new TypeError(`version is longer than ${r} characters`);e("SemVer",o,E),this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease;const c=o.trim().match(E.loose?i[n.LOOSE]:i[n.FULL]);if(!c)throw new TypeError(`Invalid Version: ${o}`);if(this.raw=o,this.major=+c[1],this.minor=+c[2],this.patch=+c[3],this.major>t||this.major<0)throw new TypeError("Invalid major version");if(this.minor>t||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>t||this.patch<0)throw new TypeError("Invalid patch version");c[4]?this.prerelease=c[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const r=+e;if(r>=0&&r<t)return r}return e}):this.prerelease=[],this.build=c[5]?c[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(e("SemVer.compare",this.version,this.options,r),!(r instanceof a)){if("string"==typeof r&&r===this.version)return 0;r=new a(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(e){return e instanceof a||(e=new a(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(r){if(r instanceof a||(r=new a(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let t=0;do{const i=this.prerelease[t],n=r.prerelease[t];if(e("prerelease compare",t,i,n),void 0===i&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(i!==n)return o(i,n)}while(++t)}compareBuild(r){r instanceof a||(r=new a(r,this.options));let t=0;do{const i=this.build[t],n=r.build[t];if(e("build compare",t,i,n),void 0===i&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(i!==n)return o(i,n)}while(++t)}inc(e,r,t){if(e.startsWith("pre")){if(!r&&!1===t)throw new Error("invalid increment argument: identifier is empty");if(r){const e=`-${r}`.match(this.options.loose?i[n.PRERELEASELOOSE]:i[n.PRERELEASE]);if(!e||e[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,t),this.inc("pre",r,t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",r,t),this.inc("pre",r,t);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(t)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(r===this.prerelease.join(".")&&!1===t)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(r){let i=[r,e];!1===t&&(i=[r]),0===o(this.prerelease[0],r)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return m=a}!function(){if(b)return O;b=1;const e=v();O=(r,t)=>new e(r,t).major}(),function(){if(S)return w;S=1;const e=function(){if($)return A;$=1;const e=v();return A=(r,t,i=!1)=>{if(r instanceof e)return r;try{return new e(r,t)}catch(e){if(!i)return null;throw e}}}();w=(r,t)=>{const i=e(r,t);return i?i.version:null}}(),E.m,Object.freeze({UploadFromDevice:0,CreateNew:1,Other:2});class g{get#e(){return window.OCA?.Files?._sidebar?.()}get available(){return!!this.#e}get isOpen(){return this.#e?.isOpen??!1}get activeTab(){return this.#e?.activeTab}get node(){return this.#e?.node}open(e,r){this.#e?.open(e,r)}close(){this.#e?.close()}setActiveTab(e){this.#e?.setActiveTab(e)}registerTab(e){!function(e){!function(e){if("object"!=typeof e)throw new Error("Sidebar tab is not an object");if(!e.id||"string"!=typeof e.id||e.id!==CSS.escape(e.id))throw new Error("Sidebar tabs need to have an id conforming to the HTML id attribute specifications");if(!e.tagName||"string"!=typeof e.tagName)throw new Error("Sidebar tabs need to have the tagName name set");if(!e.tagName.match(/^[a-z][a-z0-9-_]+$/))throw new Error('Sidebar tab "tagName" is invalid');if(!e.displayName||"string"!=typeof e.displayName)throw new Error("Sidebar tabs need to have a name set");if("string"!=typeof e.iconSvgInline||!(0,c.A)(e.iconSvgInline))throw new Error("Sidebar tabs need to have an valid SVG icon");if("number"!=typeof e.order)throw new Error("Sidebar tabs need to have a numeric order set");if(e.enabled&&"function"!=typeof e.enabled)throw new Error('Sidebar tab "enabled" is not a function');if(e.onInit&&"function"!=typeof e.onInit)throw new Error('Sidebar tab "onInit" is not a function')}(e),window._nc_files_sidebar_tabs??=new Map,window._nc_files_sidebar_tabs.has(e.id)?a.l.warn(`Sidebar tab with id "${e.id}" already registered. Skipping.`):(window._nc_files_sidebar_tabs.set(e.id,e),a.l.debug(`New sidebar tab with id "${e.id}" registered.`))}(e)}getTabs(e){return this.#e?.getTabs(e)??[]}getActions(e){return this.#e?.getActions(e)??[]}registerAction(e){!function(e){!function(e){if("object"!=typeof e)throw new Error("Sidebar action is not an object");if(!e.id||"string"!=typeof e.id||e.id!==CSS.escape(e.id))throw new Error("Sidebar actions need to have an id conforming to the HTML id attribute specifications");if(!e.displayName||"function"!=typeof e.displayName)throw new Error("Sidebar actions need to have a displayName function");if(!e.iconSvgInline||"function"!=typeof e.iconSvgInline)throw new Error("Sidebar actions need to have a iconSvgInline function");if(!e.enabled||"function"!=typeof e.enabled)throw new Error("Sidebar actions need to have an enabled function");if(!e.onClick||"function"!=typeof e.onClick)throw new Error("Sidebar actions need to have an onClick function")}(e),window._nc_files_sidebar_actions??=new Map,window._nc_files_sidebar_actions.has(e.id)?a.l.warn(`Sidebar action with id "${e.id}" already registered. Skipping.`):(window._nc_files_sidebar_actions.set(e.id,e),a.l.debug(`New sidebar action with id "${e.id}" registered.`))}(e)}}Object.freeze({ReservedName:"reserved name",Character:"character",Extension:"extension"}),Error,Object.freeze({Name:"basename",Modified:"mtime",Size:"size"});const _=(0,t(35947).YK)().setApp("comments").detectUser().build();var C;C={id:"comments-unread",title({nodes:e}){const r=e[0]?.attributes["comments-unread"];return"number"==typeof r&&r>=0?(0,h.n)("comments","1 new comment","{unread} new comments",r,{unread:r}):(0,h.t)("comments","Comment")},displayName:()=>"",iconSvgInline:()=>'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-comment-processing" viewBox="0 0 24 24"><path d="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9M17,11V9H15V11H17M13,11V9H11V11H13M9,11V9H7V11H9Z" /></svg>',enabled({nodes:e}){const r=e[0]?.attributes?.["comments-unread"];return"number"==typeof r&&r>0},async exec({nodes:e}){if(1!==e.length||!e[0])return!1;try{return(new g).open(e[0],"comments"),null}catch(e){return _.error("Error while opening sidebar",{error:e}),!1}},inline:()=>!0,order:-140},void 0===window._nc_fileactions&&(window._nc_fileactions=[],a.l.debug("FileActions initialized")),window._nc_fileactions.find(e=>e.id===C.id)?a.l.error(`FileAction ${C.id} already registered`,{action:C}):window._nc_fileactions.push(C)},63779(){},77199(){}},t={};function i(e){var n=t[e];if(void 0!==n)return n.exports;var s=t[e]={id:e,loaded:!1,exports:{}};return r[e].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.m=r,e=[],i.O=(r,t,n,s)=>{if(!t){var o=1/0;for(h=0;h<e.length;h++){for(var[t,n,s]=e[h],a=!0,E=0;E<t.length;E++)(!1&s||o>=s)&&Object.keys(i.O).every(e=>i.O[e](t[E]))?t.splice(E--,1):(a=!1,s<o&&(o=s));if(a){e.splice(h--,1);var c=n();void 0!==c&&(r=c)}}return r}s=s||0;for(var h=e.length;h>0&&e[h-1][2]>s;h--)e[h]=e[h-1];e[h]=[t,n,s]},i.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return i.d(r,{a:r}),r},i.d=(e,r)=>{for(var t in r)i.o(r,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},i.e=()=>Promise.resolve(),i.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.j=3260,(()=>{i.b="undefined"!=typeof document&&document.baseURI||self.location.href;var e={3260:0};i.O.j=r=>0===e[r];var r=(r,t)=>{var n,s,[o,a,E]=t,c=0;if(o.some(r=>0!==e[r])){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(E)var h=E(i)}for(r&&r(t);c<o.length;c++)s=o[c],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(h)},t=globalThis.webpackChunknextcloud_ui_legacy=globalThis.webpackChunknextcloud_ui_legacy||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})(),i.nc=void 0;var n=i.O(void 0,[4208],()=>i(39224));n=i.O(n)})();
//# sourceMappingURL=comments-init.js.map?v=125ddbff016b0916173b