/*! third party licenses: dist/vendor.LICENSE.txt */
import{ai as o,F as n,a8 as r,bR as d,bZ as l,aV as e,bS as p,c5 as i}from"./core-common.mjs";import"./chunks/index-PaKKd09k.mjs";import{z as c,B as u}from"./chunks/_plugin-vue2_normalizer-VrK6B12S-BQkexw0P.mjs";import{n as w}from"./chunks/icons-TElqpmA8.mjs";const m={name:"PasswordSection",components:{NcSettingsSection:o,NcButton:n,NcPasswordField:r},data(){return{oldPass:"",newPass:""}},methods:{changePassword(){d.post(l("/settings/personal/changepassword"),{oldpassword:this.oldPass,newpassword:this.newPass}).then(s=>s.data).then(s=>{s.status==="error"?(this.errorMessage=s.data.message,c(s.data.message)):u(s.data.message)})}}};var g=function(){var s=this,a=s._self._c;return a("NcSettingsSection",{attrs:{name:s.t("settings","Password")}},[a("form",{attrs:{id:"passwordform",method:"POST"},on:{submit:function(t){return t.preventDefault(),s.changePassword.apply(null,arguments)}}},[a("NcPasswordField",{attrs:{id:"old-pass",label:s.t("settings","Current password"),name:"oldpassword",value:s.oldPass,autocomplete:"current-password",autocapitalize:"none",spellcheck:"false"},on:{"update:value":function(t){s.oldPass=t}}}),a("NcPasswordField",{attrs:{id:"new-pass",label:s.t("settings","New password"),value:s.newPass,maxlength:469,autocomplete:"new-password",autocapitalize:"none",spellcheck:"false","check-password-strength":!0},on:{"update:value":function(t){s.newPass=t}}}),a("NcButton",{attrs:{type:"primary","native-type":"submit",disabled:s.newPass.length===0||s.oldPass.length===0}},[s._v(" "+s._s(s.t("settings","Change password"))+" ")])],1)])},h=[],P=w(m,g,h,!1,null,null);const f=P.exports;e.prototype.t=p,e.prototype.n=i;const S=new e({el:"#security-password",name:"main-personal-password",render:s=>s(f)});export{S as default};
