function w(t,e,r){const s=`#initial-state-${t}-${e}`;if(window._nc_initial_state?.has(s))return window._nc_initial_state.get(s);window._nc_initial_state||(window._nc_initial_state=new Map);const c=document.querySelector(s);if(c===null){if(r!==void 0)return r;throw new Error(`Could not find initial state ${e} of ${t}`)}try{const i=JSON.parse(atob(c.value));return window._nc_initial_state.set(s,i),i}catch(i){if(console.error("[@nextcloud/initial-state] Could not parse initial state",{key:e,app:t,error:i}),r!==void 0)return r;throw new Error(`Could not parse initial state ${e} of ${t}`,{cause:i})}}const y=(t,e)=>{const r=t.__vccOpts||t;for(const[s,c]of e)r[s]=c;return r},g="modulepreload",m=function(t,e){return new URL(t,e).href},_={},v=function(t,e,r){let s=Promise.resolve();if(e&&e.length>0){let i=function(n){return Promise.all(n.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const o=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),l=d?.nonce||d?.getAttribute("nonce");s=i(e.map(n=>{if(n=m(n,r),n in _)return;_[n]=!0;const u=n.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(r)for(let p=o.length-1;p>=0;p--){const h=o[p];if(h.href===n&&(!u||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${f}`))return;const a=document.createElement("link");if(a.rel=u?"stylesheet":g,u||(a.as="script"),a.crossOrigin="",a.href=n,l&&a.setAttribute("nonce",l),document.head.appendChild(a),u)return new Promise((p,h)=>{a.addEventListener("load",p),a.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${n}`)))})}))}function c(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&c(o.reason);return t().catch(c)})};function E(){try{return w("core","capabilities")}catch{return console.debug("Could not find capabilities initial state fall back to _oc_capabilities"),"_oc_capabilities"in window?window._oc_capabilities:{}}}function $(){return w("files_sharing","isPublic",null)??document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function P(){return w("files_sharing","sharingToken",null)??document.querySelector('input#sharingToken[type="hidden"]')?.value??null}function S(t){return t&&t.split("/").map(encodeURIComponent).join("/")}function b(t,e){return t=t.replace(/\\/g,"/").replace(/\/+$/g,"").replace(/.*\//,""),t}function k(t){t=t.replaceAll(/\\/g,"/");const e=t.split("/");return e.length<=1?".":(e.pop(),e.length===1&&e[0]===""?"/":e.join("/"))}function C(t){const e=b(t),r=e.lastIndexOf(".");return r>0?e.substring(r):""}function A(...t){if(arguments.length<1)return"";const e=t.filter(l=>l.length>0);if(e.length<1)return"";const r=e[e.length-1],s=e[0].charAt(0)==="/",c=r.charAt(r.length-1)==="/",i=e.reduce((l,n)=>l.concat(n.split("/")),[]);let o=!s;const d=i.reduce((l,n)=>n===""?l:o?(o=!1,l+n):l+"/"+n,"");return c?d+"/":d}export{v as _,y as a,P as b,b as c,k as d,S as e,C as f,E as g,$ as i,A as j,w as l};
//# sourceMappingURL=index-xFugdZPW.chunk.mjs.map
