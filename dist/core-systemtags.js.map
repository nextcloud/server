{"version":3,"file":"core-systemtags.js?v=caab1e41cb7b1bcda0d4","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACNA;AACA;AACA;AACA;AACA;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AClDA;;;;;AEAA;AACA;AACA;AACA;AACA","sources":["webpack://nextcloud/./core/css/systemtags.scss?38f5","webpack:///nextcloud/core/src/systemtags/merged-systemtags.js","webpack:///nextcloud/core/src/systemtags/systemtagmodel.js","webpack:///nextcloud/core/src/systemtags/systemtags.js","webpack:///nextcloud/core/src/systemtags/systemtagscollection.js","webpack:///nextcloud/core/src/systemtags/systemtagsinputfield.js","webpack:///nextcloud/core/src/systemtags/systemtagsmappingcollection.js","webpack:///nextcloud/core/src/systemtags/templates/result.handlebars","webpack:///nextcloud/core/src/systemtags/templates/result_form.handlebars","webpack:///nextcloud/core/src/systemtags/templates/selection.handlebars","webpack:///nextcloud/core/css/systemtags.scss","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/chunk loaded","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/ensure chunk","webpack:///nextcloud/webpack/runtime/global","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/webpack/runtime/make namespace object","webpack:///nextcloud/webpack/runtime/node module decorator","webpack:///nextcloud/webpack/runtime/jsonp chunk loading","webpack:///nextcloud/webpack/runtime/nonce","webpack:///nextcloud/webpack/before-startup","webpack:///nextcloud/webpack/startup","webpack:///nextcloud/webpack/after-startup"],"sourcesContent":["\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./systemtags.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./systemtags.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\n * SPDX-FileCopyrightText: 2016 Nextcloud GmbH and Nextcloud contributors\n * SPDX-FileCopyrightText: 2016 ownCloud, Inc.\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport \"./systemtags.js\";\nimport \"./systemtagmodel.js\";\nimport \"./systemtagsmappingcollection.js\";\nimport \"./systemtagscollection.js\";\nimport \"./systemtagsinputfield.js\";\nimport \"../../css/systemtags.scss\";","/**\n * SPDX-FileCopyrightText: 2016-2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-FileCopyrightText: 2016 ownCloud, Inc.\n * SPDX-License-Identifier: AGPL-3.0-or-later\n * @param {object} OC The OC namespace\n */\n\n(function (OC) {\n  if (OC?.Files?.Client) {\n    _.extend(OC.Files.Client, {\n      PROPERTY_FILEID: '{' + OC.Files.Client.NS_OWNCLOUD + '}id',\n      PROPERTY_CAN_ASSIGN: '{' + OC.Files.Client.NS_OWNCLOUD + '}can-assign',\n      PROPERTY_DISPLAYNAME: '{' + OC.Files.Client.NS_OWNCLOUD + '}display-name',\n      PROPERTY_USERVISIBLE: '{' + OC.Files.Client.NS_OWNCLOUD + '}user-visible',\n      PROPERTY_USERASSIGNABLE: '{' + OC.Files.Client.NS_OWNCLOUD + '}user-assignable'\n    });\n\n    /**\n     * @class OCA.SystemTags.SystemTagsCollection\n     * @classdesc\n     *\n     * System tag\n     *\n     */\n    const SystemTagModel = OC.Backbone.Model.extend(/** @lends OCA.SystemTags.SystemTagModel.prototype */{\n      sync: OC.Backbone.davSync,\n      defaults: {\n        userVisible: true,\n        userAssignable: true,\n        canAssign: true\n      },\n      davProperties: {\n        id: OC.Files.Client.PROPERTY_FILEID,\n        name: OC.Files.Client.PROPERTY_DISPLAYNAME,\n        userVisible: OC.Files.Client.PROPERTY_USERVISIBLE,\n        userAssignable: OC.Files.Client.PROPERTY_USERASSIGNABLE,\n        // read-only, effective permissions computed by the server,\n        canAssign: OC.Files.Client.PROPERTY_CAN_ASSIGN\n      },\n      parse(data) {\n        return {\n          id: data.id,\n          name: data.name,\n          userVisible: data.userVisible === true || data.userVisible === 'true',\n          userAssignable: data.userAssignable === true || data.userAssignable === 'true',\n          canAssign: data.canAssign === true || data.canAssign === 'true'\n        };\n      }\n    });\n    OC.SystemTags = OC.SystemTags || {};\n    OC.SystemTags.SystemTagModel = SystemTagModel;\n  }\n})(OC);","/**\n * SPDX-FileCopyrightText: 2016-2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-FileCopyrightText: 2016 ownCloud, Inc.\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\n/* eslint-disable */\nimport escapeHTML from 'escape-html';\n(function (OC) {\n  /**\n   * @namespace\n   */\n  OC.SystemTags = {\n    /**\n     *\n     * @param {OC.SystemTags.SystemTagModel|Object|String} tag\n     * @returns {HTMLElement}\n     */\n    getDescriptiveTag: function (tag) {\n      if (_.isUndefined(tag.name) && !_.isUndefined(tag.toJSON)) {\n        tag = tag.toJSON();\n      }\n      var $span = document.createElement('span');\n      if (_.isUndefined(tag.name)) {\n        $span.classList.add('non-existing-tag');\n        $span.textContent = t('core', 'Non-existing tag #{tag}', {\n          tag: tag\n        });\n        return $span;\n      }\n      $span.textContent = escapeHTML(tag.name);\n      var scope;\n      if (!tag.userAssignable) {\n        scope = t('core', 'Restricted');\n      }\n      if (!tag.userVisible) {\n        // invisible also implicitly means not assignable\n        scope = t('core', 'Invisible');\n      }\n      if (scope) {\n        var $scope = document.createElement('em');\n        $scope.textContent = ' (' + scope + ')';\n        $span.appendChild($scope);\n      }\n      return $span;\n    }\n  };\n})(OC);","/**\n * SPDX-FileCopyrightText: 2016-2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-FileCopyrightText: 2016 ownCloud, Inc.\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\n/* eslint-disable */\n(function (OC) {\n  function filterFunction(model, term) {\n    return model.get('name').substr(0, term.length).toLowerCase() === term.toLowerCase();\n  }\n\n  /**\n   * @class OCA.SystemTags.SystemTagsCollection\n   * @classdesc\n   *\n   * Collection of tags assigned to a file\n   *\n   */\n  var SystemTagsCollection = OC.Backbone.Collection.extend(/** @lends OC.SystemTags.SystemTagsCollection.prototype */{\n    sync: OC.Backbone.davSync,\n    model: OC.SystemTags.SystemTagModel,\n    url: function () {\n      return OC.linkToRemote('dav') + '/systemtags/';\n    },\n    filterByName: function (name) {\n      return this.filter(function (model) {\n        return filterFunction(model, name);\n      });\n    },\n    reset: function () {\n      this.fetched = false;\n      return OC.Backbone.Collection.prototype.reset.apply(this, arguments);\n    },\n    /**\n    * Lazy fetch.\n    * Only fetches once, subsequent calls will directly call the success handler.\n    *\n    * @param {any} options -\n    * @param [options.force] true to force fetch even if cached entries exist\n    *\n    * @see Backbone.Collection#fetch\n    */\n    fetch: function (options) {\n      var self = this;\n      options = options || {};\n      if (this.fetched || this.working || options.force) {\n        // directly call handler\n        if (options.success) {\n          options.success(this, null, options);\n        }\n        // trigger sync event\n        this.trigger('sync', this, null, options);\n        return Promise.resolve();\n      }\n      this.working = true;\n      var success = options.success;\n      options = _.extend({}, options);\n      options.success = function () {\n        self.fetched = true;\n        self.working = false;\n        if (success) {\n          return success.apply(this, arguments);\n        }\n      };\n      return OC.Backbone.Collection.prototype.fetch.call(this, options);\n    }\n  });\n  OC.SystemTags = OC.SystemTags || {};\n  OC.SystemTags.SystemTagsCollection = SystemTagsCollection;\n\n  /**\n   * @type OC.SystemTags.SystemTagsCollection\n   */\n  OC.SystemTags.collection = new OC.SystemTags.SystemTagsCollection();\n})(OC);","/**\n * SPDX-FileCopyrightText: 2016-2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-FileCopyrightText: 2016 ownCloud, Inc.\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\n/* eslint-disable */\nimport templateResult from \"./templates/result.handlebars\";\nimport templateResultForm from \"./templates/result_form.handlebars\";\nimport templateSelection from \"./templates/selection.handlebars\";\n(function (OC) {\n  /**\n   * @class OC.SystemTags.SystemTagsInputField\n   * @classdesc\n   *\n   * Displays a file's system tags\n   *\n   */\n  var SystemTagsInputField = OC.Backbone.View.extend(/** @lends OC.SystemTags.SystemTagsInputField.prototype */{\n    _rendered: false,\n    _newTag: null,\n    _lastUsedTags: [],\n    className: 'systemTagsInputFieldContainer',\n    template: function (data) {\n      return '<input class=\"systemTagsInputField\" type=\"hidden\" name=\"tags\" value=\"\"/>';\n    },\n    /**\n    * Creates a new SystemTagsInputField\n    *\n    * @param {Object} [options]\n    * @param {string} [options.objectType=files] object type for which tags are assigned to\n    * @param {boolean} [options.multiple=false] whether to allow selecting multiple tags\n    * @param {boolean} [options.allowActions=true] whether tags can be renamed/delete within the dropdown\n    * @param {boolean} [options.allowCreate=true] whether new tags can be created\n    * @param {boolean} [options.isAdmin=true] whether the user is an administrator\n    * @param {Function} options.initSelection function to convert selection to data\n    */\n    initialize: function (options) {\n      options = options || {};\n      this._multiple = !!options.multiple;\n      this._allowActions = _.isUndefined(options.allowActions) || !!options.allowActions;\n      this._allowCreate = _.isUndefined(options.allowCreate) || !!options.allowCreate;\n      this._isAdmin = !!options.isAdmin;\n      if (_.isFunction(options.initSelection)) {\n        this._initSelection = options.initSelection;\n      }\n      this.collection = options.collection || OC.SystemTags.collection;\n      var self = this;\n      this.collection.on('change:name remove', function () {\n        // refresh selection\n        _.defer(self._refreshSelection);\n      });\n      _.defer(_.bind(this._getLastUsedTags, this));\n      _.bindAll(this, '_refreshSelection', '_onClickRenameTag', '_onClickDeleteTag', '_onSelectTag', '_onDeselectTag', '_onSubmitRenameTag');\n    },\n    _getLastUsedTags: function () {\n      var self = this;\n      $.ajax({\n        type: 'GET',\n        url: OC.generateUrl('/apps/systemtags/lastused'),\n        success: function (response) {\n          self._lastUsedTags = response;\n        }\n      });\n    },\n    /**\n    * Refreshes the selection, triggering a call to\n    * select2's initSelection\n    */\n    _refreshSelection: function () {\n      this.$tagsField.select2('val', this.$tagsField.val());\n    },\n    /**\n    * Event handler whenever the user clicked the \"rename\" action.\n    * This will display the rename field.\n    */\n    _onClickRenameTag: function (ev) {\n      var $item = $(ev.target).closest('.systemtags-item');\n      var tagId = $item.attr('data-id');\n      var tagModel = this.collection.get(tagId);\n      var oldName = tagModel.get('name');\n      var $renameForm = $(templateResultForm({\n        cid: this.cid,\n        name: oldName,\n        deleteTooltip: t('core', 'Delete'),\n        renameLabel: t('core', 'Rename'),\n        isAdmin: this._isAdmin\n      }));\n      $item.find('.label').after($renameForm);\n      $item.find('.label, .systemtags-actions').addClass('hidden');\n      $item.closest('.select2-result').addClass('has-form');\n      $renameForm.find('[title]').tooltip({\n        placement: 'bottom',\n        container: 'body'\n      });\n      $renameForm.find('input').focus().selectRange(0, oldName.length);\n      return false;\n    },\n    /**\n    * Event handler whenever the rename form has been submitted after\n    * the user entered a new tag name.\n    * This will submit the change to the server.\n    *\n    * @param {Object} ev event\n    */\n    _onSubmitRenameTag: function (ev) {\n      ev.preventDefault();\n      var $form = $(ev.target);\n      var $item = $form.closest('.systemtags-item');\n      var tagId = $item.attr('data-id');\n      var tagModel = this.collection.get(tagId);\n      var newName = $(ev.target).find('input').val().trim();\n      if (newName && newName !== tagModel.get('name')) {\n        tagModel.save({\n          'name': newName\n        });\n        // TODO: spinner, and only change text after finished saving\n        $item.find('.label').text(newName);\n      }\n      $item.find('.label, .systemtags-actions').removeClass('hidden');\n      $form.remove();\n      $item.closest('.select2-result').removeClass('has-form');\n    },\n    /**\n    * Event handler whenever a tag must be deleted\n    *\n    * @param {Object} ev event\n    */\n    _onClickDeleteTag: function (ev) {\n      var $item = $(ev.target).closest('.systemtags-item');\n      var tagId = $item.attr('data-id');\n      this.collection.get(tagId).destroy();\n      $(ev.target).tooltip('option', 'hide');\n      $item.closest('.select2-result').remove();\n      // TODO: spinner\n      return false;\n    },\n    _addToSelect2Selection: function (selection) {\n      var data = this.$tagsField.select2('data');\n      data.push(selection);\n      this.$tagsField.select2('data', data);\n    },\n    /**\n    * Event handler whenever a tag is selected.\n    * Also called whenever tag creation is requested through the dummy tag object.\n    *\n    * @param {Object} e event\n    */\n    _onSelectTag: function (e) {\n      var self = this;\n      var tag;\n      if (e.object && e.object.isNew) {\n        // newly created tag, check if existing\n        // create a new tag\n        tag = this.collection.create({\n          name: e.object.name.trim(),\n          userVisible: true,\n          userAssignable: true,\n          canAssign: true\n        }, {\n          success: function (model) {\n            self._addToSelect2Selection(model.toJSON());\n            self._lastUsedTags.unshift(model.id);\n            self.trigger('select', model);\n          },\n          error: function (model, xhr) {\n            if (xhr.status === 409) {\n              // re-fetch collection to get the missing tag\n              self.collection.reset();\n              self.collection.fetch({\n                success: function (collection) {\n                  // find the tag in the collection\n                  var model = collection.where({\n                    name: e.object.name.trim(),\n                    userVisible: true,\n                    userAssignable: true\n                  });\n                  if (model.length) {\n                    model = model[0];\n                    // the tag already exists or was already assigned,\n                    // add it to the list anyway\n                    self._addToSelect2Selection(model.toJSON());\n                    self.trigger('select', model);\n                  }\n                }\n              });\n            }\n          }\n        });\n        this.$tagsField.select2('close');\n        e.preventDefault();\n        return false;\n      } else {\n        tag = this.collection.get(e.object.id);\n        this._lastUsedTags.unshift(tag.id);\n      }\n      this._newTag = null;\n      this.trigger('select', tag);\n    },\n    /**\n    * Event handler whenever a tag gets deselected.\n    *\n    * @param {Object} e event\n    */\n    _onDeselectTag: function (e) {\n      this.trigger('deselect', e.choice.id);\n    },\n    /**\n    * Autocomplete function for dropdown results\n    *\n    * @param {Object} query select2 query object\n    */\n    _queryTagsAutocomplete: function (query) {\n      var self = this;\n      this.collection.fetch({\n        success: function (collection) {\n          var tagModels = collection.filterByName(query.term.trim());\n          if (!self._isAdmin) {\n            tagModels = _.filter(tagModels, function (tagModel) {\n              return tagModel.get('canAssign');\n            });\n          }\n          query.callback({\n            results: _.invoke(tagModels, 'toJSON')\n          });\n        }\n      });\n    },\n    _preventDefault: function (e) {\n      e.stopPropagation();\n    },\n    /**\n    * Formats a single dropdown result\n    *\n    * @param {Object} data data to format\n    * @returns {string} HTML markup\n    */\n    _formatDropDownResult: function (data) {\n      return templateResult(_.extend({\n        renameTooltip: t('core', 'Rename'),\n        allowActions: this._allowActions,\n        tagMarkup: this._isAdmin ? OC.SystemTags.getDescriptiveTag(data).innerHTML : null,\n        isAdmin: this._isAdmin\n      }, data));\n    },\n    /**\n    * Formats a single selection item\n    *\n    * @param {Object} data data to format\n    * @returns {string} HTML markup\n    */\n    _formatSelection: function (data) {\n      return templateSelection(_.extend({\n        tagMarkup: this._isAdmin ? OC.SystemTags.getDescriptiveTag(data).innerHTML : null,\n        isAdmin: this._isAdmin\n      }, data));\n    },\n    /**\n    * Create new dummy choice for select2 when the user\n    * types an arbitrary string\n    *\n    * @param {string} term entered term\n    * @returns {Object} dummy tag\n    */\n    _createSearchChoice: function (term) {\n      term = term.trim();\n      if (this.collection.filter(function (entry) {\n        return entry.get('name') === term;\n      }).length) {\n        return;\n      }\n      if (!this._newTag) {\n        this._newTag = {\n          id: -1,\n          name: term,\n          userAssignable: true,\n          userVisible: true,\n          canAssign: true,\n          isNew: true\n        };\n      } else {\n        this._newTag.name = term;\n      }\n      return this._newTag;\n    },\n    _initSelection: function (element, callback) {\n      var self = this;\n      var ids = $(element).val().split(',');\n      function modelToSelection(model) {\n        var data = model.toJSON();\n        if (!self._isAdmin && !data.canAssign) {\n          // lock static tags for non-admins\n          data.locked = true;\n        }\n        return data;\n      }\n      function findSelectedObjects(ids) {\n        var selectedModels = self.collection.filter(function (model) {\n          return ids.indexOf(model.id) >= 0 && (self._isAdmin || model.get('userVisible'));\n        });\n        return _.map(selectedModels, modelToSelection);\n      }\n      this.collection.fetch({\n        success: function () {\n          callback(findSelectedObjects(ids));\n        }\n      });\n    },\n    /**\n    * Renders this details view\n    */\n    render: function () {\n      var self = this;\n      this.$el.html(this.template());\n      this.$el.find('[title]').tooltip({\n        placement: 'bottom'\n      });\n      this.$tagsField = this.$el.find('[name=tags]');\n      this.$tagsField.select2({\n        placeholder: t('core', 'Collaborative tags'),\n        containerCssClass: 'systemtags-select2-container',\n        dropdownCssClass: 'systemtags-select2-dropdown',\n        closeOnSelect: false,\n        allowClear: false,\n        multiple: this._multiple,\n        toggleSelect: this._multiple,\n        query: _.bind(this._queryTagsAutocomplete, this),\n        id: function (tag) {\n          return tag.id;\n        },\n        initSelection: _.bind(this._initSelection, this),\n        formatResult: _.bind(this._formatDropDownResult, this),\n        formatSelection: _.bind(this._formatSelection, this),\n        createSearchChoice: this._allowCreate ? _.bind(this._createSearchChoice, this) : undefined,\n        sortResults: function (results) {\n          var selectedItems = _.pluck(self.$tagsField.select2('data'), 'id');\n          results.sort(function (a, b) {\n            var aSelected = selectedItems.indexOf(a.id) >= 0;\n            var bSelected = selectedItems.indexOf(b.id) >= 0;\n            if (aSelected === bSelected) {\n              var aLastUsed = self._lastUsedTags.indexOf(a.id);\n              var bLastUsed = self._lastUsedTags.indexOf(b.id);\n              if (aLastUsed !== bLastUsed) {\n                if (bLastUsed === -1) {\n                  return -1;\n                }\n                if (aLastUsed === -1) {\n                  return 1;\n                }\n                return aLastUsed < bLastUsed ? -1 : 1;\n              }\n\n              // Both not found\n              return OC.Util.naturalSortCompare(a.name, b.name);\n            }\n            if (aSelected && !bSelected) {\n              return -1;\n            }\n            return 1;\n          });\n          return results;\n        },\n        formatNoMatches: function () {\n          return t('core', 'No tags found');\n        }\n      }).on('select2-selecting', this._onSelectTag).on('select2-removing', this._onDeselectTag);\n      var $dropDown = this.$tagsField.select2('dropdown');\n      // register events for inside the dropdown\n      $dropDown.on('mouseup', '.rename', this._onClickRenameTag);\n      $dropDown.on('mouseup', '.delete', this._onClickDeleteTag);\n      $dropDown.on('mouseup', '.select2-result-selectable.has-form', this._preventDefault);\n      $dropDown.on('submit', '.systemtags-rename-form', this._onSubmitRenameTag);\n      this.delegateEvents();\n    },\n    remove: function () {\n      if (this.$tagsField) {\n        this.$tagsField.select2('destroy');\n      }\n    },\n    getValues: function () {\n      this.$tagsField.select2('val');\n    },\n    setValues: function (values) {\n      this.$tagsField.select2('val', values);\n    },\n    setData: function (data) {\n      this.$tagsField.select2('data', data);\n    }\n  });\n  OC.SystemTags = OC.SystemTags || {};\n  OC.SystemTags.SystemTagsInputField = SystemTagsInputField;\n})(OC);","/**\n * SPDX-FileCopyrightText: 2016-2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-FileCopyrightText: 2016 ownCloud, Inc.\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { generateRemoteUrl } from '@nextcloud/router';\n(function (OC) {\n  /**\n   * @class OC.SystemTags.SystemTagsMappingCollection\n   * @classdesc\n   *\n   * Collection of tags assigned to a an object\n   *\n   */\n  const SystemTagsMappingCollection = OC.Backbone.Collection.extend(/** @lends OC.SystemTags.SystemTagsMappingCollection.prototype */{\n    sync: OC.Backbone.davSync,\n    /**\n     * Use PUT instead of PROPPATCH\n     */\n    usePUT: true,\n    /**\n     * Id of the file for which to filter activities by\n     *\n     * @member int\n     */\n    _objectId: null,\n    /**\n     * Type of the object to filter by\n     *\n     * @member string\n     */\n    _objectType: 'files',\n    model: OC.SystemTags.SystemTagModel,\n    url() {\n      return generateRemoteUrl('dav') + '/systemtags-relations/' + this._objectType + '/' + this._objectId;\n    },\n    /**\n     * Sets the object id to filter by or null for all.\n     *\n     * @param {number} objectId file id or null\n     */\n    setObjectId(objectId) {\n      this._objectId = objectId;\n    },\n    /**\n     * Sets the object type to filter by or null for all.\n     *\n     * @param {number} objectType file id or null\n     */\n    setObjectType(objectType) {\n      this._objectType = objectType;\n    },\n    initialize(models, options) {\n      options = options || {};\n      if (!_.isUndefined(options.objectId)) {\n        this._objectId = options.objectId;\n      }\n      if (!_.isUndefined(options.objectType)) {\n        this._objectType = options.objectType;\n      }\n    },\n    getTagIds() {\n      return this.map(function (model) {\n        return model.id;\n      });\n    }\n  });\n  OC.SystemTags = OC.SystemTags || {};\n  OC.SystemTags.SystemTagsMappingCollection = SystemTagsMappingCollection;\n})(OC);","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \" new-item\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t<span class=\\\"label\\\">\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"tagMarkup\") || (depth0 != null ? lookupProperty(depth0,\"tagMarkup\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tagMarkup\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":22},\"end\":{\"line\":4,\"column\":37}}}) : helper))) != null ? stack1 : \"\")\n    + \"</span>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t<span class=\\\"label\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":22},\"end\":{\"line\":6,\"column\":30}}}) : helper)))\n    + \"</span>\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t<span class=\\\"systemtags-actions\\\">\\n\t\t\t<a href=\\\"#\\\" class=\\\"rename icon icon-rename\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"renameTooltip\") || (depth0 != null ? lookupProperty(depth0,\"renameTooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"renameTooltip\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":54},\"end\":{\"line\":10,\"column\":71}}}) : helper)))\n    + \"\\\"></a>\\n\t\t</span>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }, buffer = \n  \"<span class=\\\"systemtags-item\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isNew\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":28},\"end\":{\"line\":1,\"column\":57}}})) != null ? stack1 : \"\")\n    + \"\\\" data-id=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":68},\"end\":{\"line\":1,\"column\":74}}}) : helper)))\n    + \"\\\">\\n<span class=\\\"checkmark icon icon-checkmark\\\"></span>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isAdmin\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":1},\"end\":{\"line\":7,\"column\":8}}})) != null ? stack1 : \"\");\n  stack1 = ((helper = (helper = lookupProperty(helpers,\"allowActions\") || (depth0 != null ? lookupProperty(depth0,\"allowActions\") : depth0)) != null ? helper : alias2),(options={\"name\":\"allowActions\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":1},\"end\":{\"line\":12,\"column\":18}}}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!lookupProperty(helpers,\"allowActions\")) { stack1 = container.hooks.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</span>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t<a href=\\\"#\\\" class=\\\"delete icon icon-delete\\\" title=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"deleteTooltip\") || (depth0 != null ? lookupProperty(depth0,\"deleteTooltip\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"deleteTooltip\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":53},\"end\":{\"line\":5,\"column\":70}}}) : helper)))\n    + \"\\\"></a>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<form class=\\\"systemtags-rename-form\\\">\\n\t <label class=\\\"hidden-visually\\\" for=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"cid\") || (depth0 != null ? lookupProperty(depth0,\"cid\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"cid\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":38},\"end\":{\"line\":2,\"column\":45}}}) : helper)))\n    + \"-rename-input\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"renameLabel\") || (depth0 != null ? lookupProperty(depth0,\"renameLabel\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"renameLabel\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":60},\"end\":{\"line\":2,\"column\":75}}}) : helper)))\n    + \"</label>\\n\t<input id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"cid\") || (depth0 != null ? lookupProperty(depth0,\"cid\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"cid\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":12},\"end\":{\"line\":3,\"column\":19}}}) : helper)))\n    + \"-rename-input\\\" type=\\\"text\\\" value=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":53},\"end\":{\"line\":3,\"column\":61}}}) : helper)))\n    + \"\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isAdmin\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":1},\"end\":{\"line\":6,\"column\":8}}})) != null ? stack1 : \"\")\n    + \"</form>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t<span class=\\\"label\\\">\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"tagMarkup\") || (depth0 != null ? lookupProperty(depth0,\"tagMarkup\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tagMarkup\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":21},\"end\":{\"line\":2,\"column\":36}}}) : helper))) != null ? stack1 : \"\")\n    + \"</span>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t<span class=\\\"label\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":21},\"end\":{\"line\":4,\"column\":29}}}) : helper)))\n    + \"</span>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isAdmin\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":5,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2016-2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-FileCopyrightText: 2016 ownCloud, Inc.\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n.systemtags-select2-dropdown .select2-result-label {\n  height: 25px;\n}\n.systemtags-select2-dropdown .select2-result-label .checkmark {\n  visibility: hidden;\n  margin-inline: -5px 5px;\n  padding: 4px;\n}\n.systemtags-select2-dropdown .select2-result-label .new-item .systemtags-actions {\n  display: none;\n}\n.systemtags-select2-dropdown .select2-selected .select2-result-label .checkmark {\n  visibility: visible;\n}\n.systemtags-select2-dropdown .select2-result-label .icon {\n  display: inline-block;\n  opacity: 0.5;\n}\n.systemtags-select2-dropdown .select2-result-label .icon.rename {\n  padding: 4px;\n}\n.systemtags-select2-dropdown .systemtags-actions {\n  position: absolute;\n  inset-inline-end: 5px;\n}\n.systemtags-select2-dropdown .systemtags-rename-form {\n  display: inline-block;\n  width: calc(100% - 20px);\n  top: -6px;\n  position: relative;\n}\n.systemtags-select2-dropdown .systemtags-rename-form input {\n  display: inline-block;\n  height: 30px;\n  width: calc(100% - 40px);\n}\n.systemtags-select2-dropdown .label {\n  width: 85%;\n  display: inline-block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.systemtags-select2-dropdown .label.hidden {\n  display: none;\n}\n.systemtags-select2-dropdown span {\n  line-height: 25px;\n}\n.systemtags-select2-dropdown .systemtags-item {\n  display: inline-block;\n  height: 25px;\n  width: 100%;\n}\n\n.systemtags-select2-container {\n  width: 100%;\n}\n.systemtags-select2-container .select2-choices {\n  flex-wrap: nowrap !important;\n  max-height: 44px;\n}\n.systemtags-select2-container .select2-choices .select2-search-choice.select2-locked .label {\n  opacity: 0.5;\n}\n\n#select2-drop.systemtags-select2-dropdown .select2-results li.select2-result {\n  padding: 5px;\n}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","// The chunk loading function for additional chunks\n// Since all referenced chunks are already included\n// in this file, this function is empty here.\n__webpack_require__.e = () => (Promise.resolve());","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"core-systemtags\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknextcloud\"] = self[\"webpackChunknextcloud\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"core-common\"], () => (__webpack_require__(\"./core/src/systemtags/merged-systemtags.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":[],"sourceRoot":""}