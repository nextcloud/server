{"version":3,"file":"8639-8639.js?v=76ac248194574c8e1c84","mappings":"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","sources":["webpack:///nextcloud/node_modules/@nextcloud/vue/dist/assets/NcRichContenteditable-BjQ4qHUO.css","webpack:///nextcloud/node_modules/@nextcloud/vue/dist/chunks/index-TmAR7I2T.mjs","webpack://nextcloud/./node_modules/@nextcloud/vue/dist/assets/NcRichContenteditable-BjQ4qHUO.css?4e50","webpack:///nextcloud/node_modules/string-length/node_modules/strip-ansi/index.js","webpack:///nextcloud/node_modules/string-length/node_modules/ansi-regex/index.js","webpack:///nextcloud/node_modules/@nextcloud/vue/dist/chunks/NcRichContenteditable-S7ASR6NI.mjs","webpack:///nextcloud/node_modules/string-length/index.js","webpack:///nextcloud/node_modules/char-regex/index.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n/*\n* Ensure proper alignment of the vue material icons\n*/\n.material-design-icon[data-v-ef14f1ec] {\n  display: flex;\n  align-self: center;\n  justify-self: center;\n  align-items: center;\n  justify-content: center;\n}\n.autocomplete-result[data-v-ef14f1ec] {\n  display: flex;\n  align-items: center;\n  gap: var(--default-grid-baseline);\n  line-height: 1.2;\n  --auto-complete-result-avatar-size: var(--default-clickable-area);\n}\n.autocomplete-result__icon[data-v-ef14f1ec] {\n  position: relative;\n  flex: 0 0 var(--default-clickable-area);\n  width: var(--default-clickable-area);\n  min-width: var(--default-clickable-area);\n  height: var(--default-clickable-area);\n  border-radius: var(--default-clickable-area);\n  background-color: var(--color-background-darker);\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n}\n.autocomplete-result__icon--with-avatar[data-v-ef14f1ec] {\n  color: inherit;\n  background-size: cover;\n}\n.autocomplete-result__status[data-v-ef14f1ec] {\n  --auto-complete-result-status-icon-size: clamp(14px, var(--auto-complete-result-avatar-size) * 0.4, 18px);\n  --auto-complete-result-status-icon-position: calc(var(--auto-complete-result-avatar-size) / 2 * (1 - 1 / sqrt(2)) - var(--auto-complete-result-status-icon-size) / 2);\n  box-sizing: border-box;\n  position: absolute;\n  inset-inline-end: var(--auto-complete-result-status-icon-position);\n  bottom: var(--auto-complete-result-status-icon-position);\n  height: var(--auto-complete-result-status-icon-size);\n  width: var(--auto-complete-result-status-icon-size);\n  border: 2px solid var(--color-main-background);\n  border-radius: 50%;\n  background-color: var(--color-main-background);\n  font-size: calc(var(--auto-complete-result-status-icon-size) / 1.2);\n  line-height: 1.2;\n  background-repeat: no-repeat;\n  background-size: var(--auto-complete-result-status-icon-size);\n  background-position: center;\n}\n.autocomplete-result__status--icon[data-v-ef14f1ec] {\n  border: none;\n  background-color: transparent;\n}\n.autocomplete-result__content[data-v-ef14f1ec] {\n  display: flex;\n  flex: 1 1 100%;\n  flex-direction: column;\n  justify-content: center;\n  min-width: 0;\n}\n.autocomplete-result__title[data-v-ef14f1ec], .autocomplete-result__subline[data-v-ef14f1ec] {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.autocomplete-result__subline[data-v-ef14f1ec] {\n  color: var(--color-text-maxcontrast);\n}/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n/*\n* Ensure proper alignment of the vue material icons\n*/\n.material-design-icon[data-v-c664150f] {\n  display: flex;\n  align-self: center;\n  justify-self: center;\n  align-items: center;\n  justify-content: center;\n}\n.rich-contenteditable[data-v-c664150f] {\n  --contenteditable-block-offset: calc(2 * var(--default-grid-baseline));\n  --contenteditable-inline-start-offset: calc(2 * var(--default-grid-baseline));\n  --contenteditable-inline-end-offset: calc(2 * var(--default-grid-baseline));\n  position: relative;\n  width: auto;\n}\n.rich-contenteditable__label[data-v-c664150f] {\n  position: absolute;\n  margin-inline: 14px;\n  max-width: fit-content;\n  inset-block-start: 11px;\n  inset-inline: 0;\n  color: var(--color-text-maxcontrast);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  pointer-events: none;\n  transition: height var(--animation-quick), inset-block-start var(--animation-quick), font-size var(--animation-quick), color var(--animation-quick), background-color var(--animation-quick) var(--animation-slow);\n}\n.rich-contenteditable__input:focus + .rich-contenteditable__label[data-v-c664150f], .rich-contenteditable__input:not(.rich-contenteditable__input--empty) + .rich-contenteditable__label[data-v-c664150f] {\n  inset-block-start: -10px;\n  line-height: 1.5;\n  font-size: 13px;\n  font-weight: 500;\n  border-radius: var(--default-grid-baseline) var(--default-grid-baseline) 0 0;\n  background-color: var(--color-main-background);\n  padding-inline: 5px;\n  margin-inline: 9px;\n  transition: height var(--animation-quick), inset-block-start var(--animation-quick), font-size var(--animation-quick), color var(--animation-quick);\n}\n.rich-contenteditable__input[data-v-c664150f] {\n  overflow-y: auto;\n  width: auto;\n  margin: 0;\n  padding-block: var(--contenteditable-block-offset);\n  padding-inline: var(--contenteditable-inline-start-offset) var(--contenteditable-inline-end-offset);\n  cursor: text;\n  white-space: pre-wrap;\n  overflow-wrap: break-word;\n  color: var(--color-main-text);\n  border: 2px solid var(--color-border-maxcontrast);\n  border-radius: var(--border-radius-large);\n  outline: none;\n  background-color: var(--color-main-background);\n  font-family: var(--font-face);\n  font-size: inherit;\n  tab-size: 4;\n  min-height: var(--default-clickable-area);\n  max-height: calc(var(--default-clickable-area) * 5.5);\n}\n.rich-contenteditable__input--has-label[data-v-c664150f] {\n  margin-top: 10px;\n}\n.rich-contenteditable__input--empty[data-v-c664150f]:focus:before, .rich-contenteditable__input--empty[data-v-c664150f]:not(.rich-contenteditable__input--has-label):before {\n  content: attr(aria-placeholder);\n  color: var(--color-text-maxcontrast);\n  position: absolute;\n  width: calc(100% - var(--contenteditable-inline-start-offset) - var(--contenteditable-inline-end-offset));\n  height: calc(100% - 2 * var(--contenteditable-block-offset));\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.rich-contenteditable__input[contenteditable=false][data-v-c664150f]:not(.rich-contenteditable__input--disabled) {\n  cursor: default;\n  background-color: transparent;\n  color: var(--color-main-text);\n  border-color: transparent;\n  opacity: 1;\n  border-radius: 0;\n}\n.rich-contenteditable__input--multiline[data-v-c664150f] {\n  min-height: calc(var(--default-clickable-area) * 3);\n  max-height: none;\n}\n.rich-contenteditable__input--disabled[data-v-c664150f] {\n  opacity: 0.5;\n  color: var(--color-text-maxcontrast);\n  border: 2px solid var(--color-background-darker);\n  border-radius: var(--border-radius);\n  background-color: var(--color-background-dark);\n}\n.rich-contenteditable__input--overflow[data-v-c664150f], .rich-contenteditable__input--overflow[data-v-c664150f]:hover {\n  border-color: var(--color-border-error, var(--color-error)) !important;\n}/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n/*\n* Ensure proper alignment of the vue material icons\n*/\n._material-design-icon_1sdgd_12 {\n  display: flex;\n  align-self: center;\n  justify-self: center;\n  align-items: center;\n  justify-content: center;\n}\n._tribute-container_1sdgd_20 {\n  z-index: 9000;\n  overflow: auto;\n  position: absolute;\n  /* stylelint-disable-next-line csstools/use-logical */ /* upstream logic */\n  left: -100vw;\n  margin: var(--default-grid-baseline) 0;\n  padding: var(--default-grid-baseline);\n  color: var(--color-text-maxcontrast);\n  border-radius: var(--border-radius-element, var(--border-radius));\n  background: var(--color-main-background);\n  box-shadow: 0 1px 5px var(--color-box-shadow);\n}\n._tribute-container_1sdgd_20, ._tribute-container_1sdgd_20 * {\n  box-sizing: border-box;\n}\n._tribute-container_1sdgd_20 ul {\n  display: flex;\n  flex-direction: column;\n  gap: var(--default-grid-baseline);\n}\n._tribute-container_1sdgd_20 ._tribute-container__item_1sdgd_41 {\n  color: var(--color-text-maxcontrast);\n  border-radius: var(--border-radius-small, var(--border-radius));\n  padding: var(--default-grid-baseline);\n  cursor: pointer;\n  min-height: var(--clickable-area-small, auto);\n}\n._tribute-container_1sdgd_20 ._tribute-container__item_1sdgd_41.highlight {\n  color: var(--color-main-text);\n  background: var(--color-background-hover);\n}\n._tribute-container_1sdgd_20 ._tribute-container__item_1sdgd_41.highlight, ._tribute-container_1sdgd_20 ._tribute-container__item_1sdgd_41.highlight * {\n  cursor: pointer;\n}\n._tribute-container_1sdgd_20._tribute-container--focus-visible_1sdgd_55 .highlight._tribute-container__item_1sdgd_41 {\n  outline: 2px solid var(--color-main-text) !important;\n}\n._tribute-container-autocomplete_1sdgd_59 {\n  min-width: 250px;\n  max-width: 300px;\n  max-height: calc((var(--default-clickable-area) + 3 * var(--default-grid-baseline)) * 4.5 - 1.5 * var(--default-grid-baseline));\n}\n._tribute-container-emoji_1sdgd_65,\n._tribute-container-link_1sdgd_66 {\n  min-width: 200px;\n  max-width: 200px;\n  max-height: calc((24px + 3 * var(--default-grid-baseline)) * 5.5 - 1.5 * var(--default-grid-baseline));\n}\n._tribute-container-emoji_1sdgd_65 ._tribute-item_1sdgd_71,\n._tribute-container-link_1sdgd_66 ._tribute-item_1sdgd_71 {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n._tribute-container-link_1sdgd_66 {\n  min-width: 200px;\n  max-width: 300px;\n}\n._tribute-container-link_1sdgd_66 ._tribute-item_1sdgd_71 {\n  display: flex;\n  align-items: center;\n}\n._tribute-container-link_1sdgd_66 ._tribute-item__title_1sdgd_86 {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n._tribute-container-link_1sdgd_66 ._tribute-item__icon_1sdgd_91 {\n  margin: auto 0;\n  width: 20px;\n  height: 20px;\n  object-fit: contain;\n  padding-inline-end: var(--default-grid-baseline);\n  filter: var(--background-invert-if-dark);\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/@nextcloud/vue/dist/assets/NcRichContenteditable-BjQ4qHUO.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/**\\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\\n * SPDX-License-Identifier: AGPL-3.0-or-later\\n */\\n/**\\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\\n * SPDX-License-Identifier: AGPL-3.0-or-later\\n */\\n/*\\n* Ensure proper alignment of the vue material icons\\n*/\\n.material-design-icon[data-v-ef14f1ec] {\\n  display: flex;\\n  align-self: center;\\n  justify-self: center;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.autocomplete-result[data-v-ef14f1ec] {\\n  display: flex;\\n  align-items: center;\\n  gap: var(--default-grid-baseline);\\n  line-height: 1.2;\\n  --auto-complete-result-avatar-size: var(--default-clickable-area);\\n}\\n.autocomplete-result__icon[data-v-ef14f1ec] {\\n  position: relative;\\n  flex: 0 0 var(--default-clickable-area);\\n  width: var(--default-clickable-area);\\n  min-width: var(--default-clickable-area);\\n  height: var(--default-clickable-area);\\n  border-radius: var(--default-clickable-area);\\n  background-color: var(--color-background-darker);\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  background-size: contain;\\n}\\n.autocomplete-result__icon--with-avatar[data-v-ef14f1ec] {\\n  color: inherit;\\n  background-size: cover;\\n}\\n.autocomplete-result__status[data-v-ef14f1ec] {\\n  --auto-complete-result-status-icon-size: clamp(14px, var(--auto-complete-result-avatar-size) * 0.4, 18px);\\n  --auto-complete-result-status-icon-position: calc(var(--auto-complete-result-avatar-size) / 2 * (1 - 1 / sqrt(2)) - var(--auto-complete-result-status-icon-size) / 2);\\n  box-sizing: border-box;\\n  position: absolute;\\n  inset-inline-end: var(--auto-complete-result-status-icon-position);\\n  bottom: var(--auto-complete-result-status-icon-position);\\n  height: var(--auto-complete-result-status-icon-size);\\n  width: var(--auto-complete-result-status-icon-size);\\n  border: 2px solid var(--color-main-background);\\n  border-radius: 50%;\\n  background-color: var(--color-main-background);\\n  font-size: calc(var(--auto-complete-result-status-icon-size) / 1.2);\\n  line-height: 1.2;\\n  background-repeat: no-repeat;\\n  background-size: var(--auto-complete-result-status-icon-size);\\n  background-position: center;\\n}\\n.autocomplete-result__status--icon[data-v-ef14f1ec] {\\n  border: none;\\n  background-color: transparent;\\n}\\n.autocomplete-result__content[data-v-ef14f1ec] {\\n  display: flex;\\n  flex: 1 1 100%;\\n  flex-direction: column;\\n  justify-content: center;\\n  min-width: 0;\\n}\\n.autocomplete-result__title[data-v-ef14f1ec], .autocomplete-result__subline[data-v-ef14f1ec] {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.autocomplete-result__subline[data-v-ef14f1ec] {\\n  color: var(--color-text-maxcontrast);\\n}/**\\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\\n * SPDX-License-Identifier: AGPL-3.0-or-later\\n */\\n/**\\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\\n * SPDX-License-Identifier: AGPL-3.0-or-later\\n */\\n/*\\n* Ensure proper alignment of the vue material icons\\n*/\\n.material-design-icon[data-v-c664150f] {\\n  display: flex;\\n  align-self: center;\\n  justify-self: center;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.rich-contenteditable[data-v-c664150f] {\\n  --contenteditable-block-offset: calc(2 * var(--default-grid-baseline));\\n  --contenteditable-inline-start-offset: calc(2 * var(--default-grid-baseline));\\n  --contenteditable-inline-end-offset: calc(2 * var(--default-grid-baseline));\\n  position: relative;\\n  width: auto;\\n}\\n.rich-contenteditable__label[data-v-c664150f] {\\n  position: absolute;\\n  margin-inline: 14px;\\n  max-width: fit-content;\\n  inset-block-start: 11px;\\n  inset-inline: 0;\\n  color: var(--color-text-maxcontrast);\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  pointer-events: none;\\n  transition: height var(--animation-quick), inset-block-start var(--animation-quick), font-size var(--animation-quick), color var(--animation-quick), background-color var(--animation-quick) var(--animation-slow);\\n}\\n.rich-contenteditable__input:focus + .rich-contenteditable__label[data-v-c664150f], .rich-contenteditable__input:not(.rich-contenteditable__input--empty) + .rich-contenteditable__label[data-v-c664150f] {\\n  inset-block-start: -10px;\\n  line-height: 1.5;\\n  font-size: 13px;\\n  font-weight: 500;\\n  border-radius: var(--default-grid-baseline) var(--default-grid-baseline) 0 0;\\n  background-color: var(--color-main-background);\\n  padding-inline: 5px;\\n  margin-inline: 9px;\\n  transition: height var(--animation-quick), inset-block-start var(--animation-quick), font-size var(--animation-quick), color var(--animation-quick);\\n}\\n.rich-contenteditable__input[data-v-c664150f] {\\n  overflow-y: auto;\\n  width: auto;\\n  margin: 0;\\n  padding-block: var(--contenteditable-block-offset);\\n  padding-inline: var(--contenteditable-inline-start-offset) var(--contenteditable-inline-end-offset);\\n  cursor: text;\\n  white-space: pre-wrap;\\n  overflow-wrap: break-word;\\n  color: var(--color-main-text);\\n  border: 2px solid var(--color-border-maxcontrast);\\n  border-radius: var(--border-radius-large);\\n  outline: none;\\n  background-color: var(--color-main-background);\\n  font-family: var(--font-face);\\n  font-size: inherit;\\n  tab-size: 4;\\n  min-height: var(--default-clickable-area);\\n  max-height: calc(var(--default-clickable-area) * 5.5);\\n}\\n.rich-contenteditable__input--has-label[data-v-c664150f] {\\n  margin-top: 10px;\\n}\\n.rich-contenteditable__input--empty[data-v-c664150f]:focus:before, .rich-contenteditable__input--empty[data-v-c664150f]:not(.rich-contenteditable__input--has-label):before {\\n  content: attr(aria-placeholder);\\n  color: var(--color-text-maxcontrast);\\n  position: absolute;\\n  width: calc(100% - var(--contenteditable-inline-start-offset) - var(--contenteditable-inline-end-offset));\\n  height: calc(100% - 2 * var(--contenteditable-block-offset));\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n}\\n.rich-contenteditable__input[contenteditable=false][data-v-c664150f]:not(.rich-contenteditable__input--disabled) {\\n  cursor: default;\\n  background-color: transparent;\\n  color: var(--color-main-text);\\n  border-color: transparent;\\n  opacity: 1;\\n  border-radius: 0;\\n}\\n.rich-contenteditable__input--multiline[data-v-c664150f] {\\n  min-height: calc(var(--default-clickable-area) * 3);\\n  max-height: none;\\n}\\n.rich-contenteditable__input--disabled[data-v-c664150f] {\\n  opacity: 0.5;\\n  color: var(--color-text-maxcontrast);\\n  border: 2px solid var(--color-background-darker);\\n  border-radius: var(--border-radius);\\n  background-color: var(--color-background-dark);\\n}\\n.rich-contenteditable__input--overflow[data-v-c664150f], .rich-contenteditable__input--overflow[data-v-c664150f]:hover {\\n  border-color: var(--color-border-error, var(--color-error)) !important;\\n}/**\\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\\n * SPDX-License-Identifier: AGPL-3.0-or-later\\n */\\n/**\\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\\n * SPDX-License-Identifier: AGPL-3.0-or-later\\n */\\n/*\\n* Ensure proper alignment of the vue material icons\\n*/\\n._material-design-icon_1sdgd_12 {\\n  display: flex;\\n  align-self: center;\\n  justify-self: center;\\n  align-items: center;\\n  justify-content: center;\\n}\\n._tribute-container_1sdgd_20 {\\n  z-index: 9000;\\n  overflow: auto;\\n  position: absolute;\\n  /* stylelint-disable-next-line csstools/use-logical */ /* upstream logic */\\n  left: -100vw;\\n  margin: var(--default-grid-baseline) 0;\\n  padding: var(--default-grid-baseline);\\n  color: var(--color-text-maxcontrast);\\n  border-radius: var(--border-radius-element, var(--border-radius));\\n  background: var(--color-main-background);\\n  box-shadow: 0 1px 5px var(--color-box-shadow);\\n}\\n._tribute-container_1sdgd_20, ._tribute-container_1sdgd_20 * {\\n  box-sizing: border-box;\\n}\\n._tribute-container_1sdgd_20 ul {\\n  display: flex;\\n  flex-direction: column;\\n  gap: var(--default-grid-baseline);\\n}\\n._tribute-container_1sdgd_20 ._tribute-container__item_1sdgd_41 {\\n  color: var(--color-text-maxcontrast);\\n  border-radius: var(--border-radius-small, var(--border-radius));\\n  padding: var(--default-grid-baseline);\\n  cursor: pointer;\\n  min-height: var(--clickable-area-small, auto);\\n}\\n._tribute-container_1sdgd_20 ._tribute-container__item_1sdgd_41.highlight {\\n  color: var(--color-main-text);\\n  background: var(--color-background-hover);\\n}\\n._tribute-container_1sdgd_20 ._tribute-container__item_1sdgd_41.highlight, ._tribute-container_1sdgd_20 ._tribute-container__item_1sdgd_41.highlight * {\\n  cursor: pointer;\\n}\\n._tribute-container_1sdgd_20._tribute-container--focus-visible_1sdgd_55 .highlight._tribute-container__item_1sdgd_41 {\\n  outline: 2px solid var(--color-main-text) !important;\\n}\\n._tribute-container-autocomplete_1sdgd_59 {\\n  min-width: 250px;\\n  max-width: 300px;\\n  max-height: calc((var(--default-clickable-area) + 3 * var(--default-grid-baseline)) * 4.5 - 1.5 * var(--default-grid-baseline));\\n}\\n._tribute-container-emoji_1sdgd_65,\\n._tribute-container-link_1sdgd_66 {\\n  min-width: 200px;\\n  max-width: 200px;\\n  max-height: calc((24px + 3 * var(--default-grid-baseline)) * 5.5 - 1.5 * var(--default-grid-baseline));\\n}\\n._tribute-container-emoji_1sdgd_65 ._tribute-item_1sdgd_71,\\n._tribute-container-link_1sdgd_66 ._tribute-item_1sdgd_71 {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n._tribute-container-link_1sdgd_66 {\\n  min-width: 200px;\\n  max-width: 300px;\\n}\\n._tribute-container-link_1sdgd_66 ._tribute-item_1sdgd_71 {\\n  display: flex;\\n  align-items: center;\\n}\\n._tribute-container-link_1sdgd_66 ._tribute-item__title_1sdgd_86 {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n._tribute-container-link_1sdgd_66 ._tribute-item__icon_1sdgd_91 {\\n  margin: auto 0;\\n  width: 20px;\\n  height: 20px;\\n  object-fit: contain;\\n  padding-inline-end: var(--default-grid-baseline);\\n  filter: var(--background-invert-if-dark);\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import '../assets/NcMentionBubble-CaztX9Pv.css';\nimport escapeHtml from \"escape-html\";\nimport stripTags from \"striptags\";\nimport Vue from \"vue\";\nimport { useIsDarkTheme } from \"../Composables/useIsDarkTheme.mjs\";\nimport { g as getAvatarUrl } from \"./getAvatarUrl-IhLacDEr.mjs\";\n/* empty css                                                                          */\nimport { n as normalizeComponent } from \"./_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nconst _sfc_main = {\n  name: \"NcMentionBubble\",\n  /* eslint vue/require-prop-comment: warn -- TODO: Add a proper doc block about what this props do */\n  props: {\n    id: {\n      type: String,\n      required: true\n    },\n    /**\n     * @deprecated Use `label` instead\n     */\n    title: {\n      type: String,\n      required: false,\n      default: null\n    },\n    label: {\n      type: String,\n      required: false,\n      default: null\n    },\n    icon: {\n      type: String,\n      required: true\n    },\n    iconUrl: {\n      type: [String, null],\n      default: null\n    },\n    source: {\n      type: String,\n      required: true\n    },\n    primary: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup() {\n    const isDarkTheme = useIsDarkTheme();\n    return {\n      isDarkTheme\n    };\n  },\n  computed: {\n    avatarUrl() {\n      if (this.iconUrl) {\n        return this.iconUrl;\n      }\n      return this.id && this.source === \"users\" ? getAvatarUrl(this.id, { isDarkTheme: this.isDarkTheme }) : null;\n    },\n    mentionText() {\n      return !this.id.includes(\" \") && !this.id.includes(\"/\") ? `@${this.id}` : `@\"${this.id}\"`;\n    },\n    // Fallback to title for compatibility\n    labelWithFallback() {\n      return this.label || this.title;\n    }\n  }\n};\nvar _sfc_render = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", { staticClass: \"mention-bubble\", class: { \"mention-bubble--primary\": _vm.primary }, attrs: { \"contenteditable\": \"false\" } }, [_c(\"span\", { staticClass: \"mention-bubble__wrapper\" }, [_c(\"span\", { staticClass: \"mention-bubble__content\" }, [_c(\"span\", { staticClass: \"mention-bubble__icon\", class: [_vm.icon, `mention-bubble__icon--${_vm.avatarUrl ? \"with-avatar\" : \"\"}`], style: _vm.avatarUrl ? { backgroundImage: `url(${_vm.avatarUrl})` } : null }), _c(\"span\", { staticClass: \"mention-bubble__title\", attrs: { \"role\": \"heading\", \"title\": _vm.labelWithFallback } })]), _c(\"span\", { staticClass: \"mention-bubble__select\", attrs: { \"role\": \"none\" } }, [_vm._v(_vm._s(_vm.mentionText))])])]);\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"07bfaab0\"\n);\nconst NcMentionBubble = __component__.exports;\nconst MENTION_START = /(?=[a-z0-9_\\-@.'])\\B/.source;\nconst MENTION_SIMPLE = /(@[a-z0-9_\\-@.']+)/.source;\nconst MENTION_GUEST = /@&quot;(?:guest|email){1}\\/[a-f0-9]+&quot;/.source;\nconst MENTION_PREFIXED = /@&quot;(?:federated_)?(?:group|team|user){1}\\/[a-z0-9_\\-@.' /:]+&quot;/.source;\nconst MENTION_WITH_SPACE = /@&quot;[a-z0-9_\\-@.' ]+&quot;/.source;\nconst MENTION_COMPLEX = `(${MENTION_GUEST}|${MENTION_PREFIXED}|${MENTION_WITH_SPACE})`;\nconst USERID_REGEX = new RegExp(`${MENTION_START}${MENTION_SIMPLE}`, \"gi\");\nconst USERID_REGEX_WITH_SPACE = new RegExp(`${MENTION_START}${MENTION_COMPLEX}`, \"gi\");\nconst richEditor = {\n  props: {\n    userData: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  methods: {\n    /**\n     * Convert the value string to html for the inner content\n     *\n     * @param {string} value the content without html\n     * @return {string} rendered html\n     */\n    renderContent(value) {\n      const sanitizedValue = escapeHtml(value);\n      const splitValue = sanitizedValue.split(USERID_REGEX).map((part) => part.split(USERID_REGEX_WITH_SPACE)).flat();\n      return splitValue.map((part) => {\n        if (!part.startsWith(\"@\")) {\n          return part;\n        }\n        const id = part.slice(1).replace(/&quot;/gi, \"\");\n        return this.genSelectTemplate(id);\n      }).join(\"\").replace(/\\n/gmi, \"<br>\").replace(/&amp;/gmi, \"&\");\n    },\n    /**\n     * Convert the innerHtml content to a string with mentions as text\n     *\n     * @param {string} content the content without html\n     * @return {string}\n     */\n    parseContent(content) {\n      let text = content;\n      text = text.replace(/<br>/gmi, \"\\n\");\n      text = text.replace(/&nbsp;/gmi, \" \");\n      text = text.replace(/&amp;/gmi, \"&\");\n      text = text.replace(/<\\/div>/gmi, \"\\n\");\n      text = stripTags(text, \"<div>\");\n      text = stripTags(text);\n      return text;\n    },\n    /**\n     * Generate an autocompletion popup entry template\n     *\n     * @param {string} value the value to match against the userData\n     * @return {string}\n     */\n    genSelectTemplate(value) {\n      if (typeof value === \"undefined\") {\n        return `${this.autocompleteTribute.current.collection.trigger}${this.autocompleteTribute.current.mentionText}`;\n      }\n      const data = this.userData[value];\n      if (!data) {\n        return [\" \", \"/\", \":\"].every((char) => !value.includes(char)) ? `@${value}` : `@\"${value}\"`;\n      }\n      return this.renderComponentHtml(data, NcMentionBubble).replace(/[\\n\\t]/gmi, \"\").replace(/>\\s+</g, \"><\");\n    },\n    /**\n     * Render a component and return its html content\n     *\n     * @param {object} propsData the props to pass to the component\n     * @param {object} component the component to render\n     * @return {string} the rendered html\n     */\n    renderComponentHtml(propsData, component) {\n      const View = Vue.extend(component);\n      const Item = new View({\n        propsData\n      });\n      const wrapper = document.createElement(\"div\");\n      const mount = document.createElement(\"div\");\n      wrapper.style.display = \"none\";\n      wrapper.appendChild(mount);\n      document.body.appendChild(wrapper);\n      Item.$mount(mount);\n      const renderedHtml = wrapper.innerHTML;\n      Item.$destroy();\n      wrapper.remove();\n      return renderedHtml;\n    }\n  }\n};\nexport {\n  NcMentionBubble as N,\n  USERID_REGEX as U,\n  USERID_REGEX_WITH_SPACE as a,\n  richEditor as r\n};\n//# sourceMappingURL=index-TmAR7I2T.mjs.map\n","\n      import API from \"!../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../css-loader/dist/cjs.js!./NcRichContenteditable-BjQ4qHUO.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../css-loader/dist/cjs.js!./NcRichContenteditable-BjQ4qHUO.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import ansiRegex from 'ansi-regex';\n\nconst regex = ansiRegex();\n\nexport default function stripAnsi(string) {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError(`Expected a \\`string\\`, got \\`${typeof string}\\``);\n\t}\n\n\t// Even though the regex is global, we don't need to reset the `.lastIndex`\n\t// because unlike `.exec()` and `.test()`, `.replace()` does it automatically\n\t// and doing it manually has a performance penalty.\n\treturn string.replace(regex, '');\n}\n","export default function ansiRegex({onlyFirst = false} = {}) {\n\t// Valid string terminator sequences are BEL, ESC\\, and 0x9c\n\tconst ST = '(?:\\\\u0007|\\\\u001B\\\\u005C|\\\\u009C)';\n\n\t// OSC sequences only: ESC ] ... ST (non-greedy until the first ST)\n\tconst osc = `(?:\\\\u001B\\\\][\\\\s\\\\S]*?${ST})`;\n\n\t// CSI and related: ESC/C1, optional intermediates, optional params (supports ; and :) then final byte\n\tconst csi = '[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:\\\\d{1,4}(?:[;:]\\\\d{0,4})*)?[\\\\dA-PR-TZcf-nq-uy=><~]';\n\n\tconst pattern = `${osc}|${csi}`;\n\n\treturn new RegExp(pattern, onlyFirst ? undefined : 'g');\n}\n","import '../assets/NcRichContenteditable-BjQ4qHUO.css';\nimport debounce from \"debounce\";\nimport stringLength from \"string-length\";\nimport Tribute from \"tributejs/dist/tribute.esm.js\";\nimport { useIsDarkTheme } from \"../Composables/useIsDarkTheme.mjs\";\nimport { g as getAvatarUrl } from \"./getAvatarUrl-IhLacDEr.mjs\";\nimport { N as NcUserStatusIcon } from \"./NcUserStatusIcon-Dfd_lPCI.mjs\";\nimport { n as normalizeComponent } from \"./_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nimport { u as useModelMigration } from \"./useModelMigration-EhAWvqDD.mjs\";\nimport { e as emojiSearch, a as emojiAddRecent } from \"./emoji-BY_D0V5K.mjs\";\nimport { r as register, x as t37, E as t34, a as t, F as n } from \"./_l10n-D3tJt_gL.mjs\";\nimport { r as richEditor } from \"./index-TmAR7I2T.mjs\";\nimport { G as GenRandomId } from \"./GenRandomId-F5ebeBB_.mjs\";\nimport { l as logger } from \"./logger-D3RVzcfQ.mjs\";\nimport \"@nextcloud/auth\";\nimport \"@nextcloud/axios\";\nimport \"@nextcloud/router\";\nimport \"@nextcloud/sharing/public\";\nimport \"@vueuse/core\";\nimport \"vue\";\nimport \"vue-router\";\nimport \"./legacy-MK4GvP26.mjs\";\nimport \"./NcButton-Dz2O6cSU.mjs\";\nimport { g as getLinkWithPicker, s as searchProvider } from \"./referencePickerModal-eu8fU-gn.mjs\";\nimport \"./customPickerElements-DLFtgReB.mjs\";\nimport \"unist-builder\";\nimport \"unist-util-visit\";\nimport \"./NcRichText-C7k_8zuH.mjs\";\nimport \"./createElementId-DhjFt1I9.mjs\";\nimport \"../Components/NcEmptyContent.mjs\";\nimport \"./NcSelect-CkB50N9T.mjs\";\nimport \"../Components/NcLoadingIcon.mjs\";\nimport \"./NcTextField-CijJWC3h.mjs\";\nimport \"@nextcloud/event-bus\";\nimport \"../Components/NcModal.mjs\";\nconst _sfc_main$1 = {\n  name: \"NcAutoCompleteResult\",\n  components: {\n    NcUserStatusIcon\n  },\n  /* eslint vue/require-prop-comment: warn -- TODO: Add a proper doc block about what this props do */\n  props: {\n    /**\n     * @deprecated Use `label` instead\n     */\n    title: {\n      type: String,\n      required: false,\n      default: null\n    },\n    label: {\n      type: String,\n      required: false,\n      default: null\n    },\n    subline: {\n      type: String,\n      default: null\n    },\n    id: {\n      type: String,\n      default: null\n    },\n    icon: {\n      type: String,\n      required: true\n    },\n    iconUrl: {\n      type: String,\n      default: null\n    },\n    source: {\n      type: String,\n      required: true\n    },\n    status: {\n      type: [Object, Array],\n      default: () => ({})\n    }\n  },\n  setup() {\n    const isDarkTheme = useIsDarkTheme();\n    return {\n      isDarkTheme\n    };\n  },\n  computed: {\n    avatarUrl() {\n      if (this.iconUrl) {\n        return this.iconUrl;\n      }\n      return this.id && this.source === \"users\" ? getAvatarUrl(this.id, { isDarkTheme: this.isDarkTheme }) : null;\n    },\n    // For backwards compatibility\n    labelWithFallback() {\n      return this.label || this.title;\n    }\n  }\n};\nvar _sfc_render$1 = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"div\", { staticClass: \"autocomplete-result\" }, [_c(\"div\", { staticClass: \"autocomplete-result__icon\", class: [_vm.icon, `autocomplete-result__icon--${_vm.avatarUrl ? \"with-avatar\" : \"\"}`], style: _vm.avatarUrl ? { backgroundImage: `url(${_vm.avatarUrl})` } : null }, [_vm.status.icon ? _c(\"span\", { staticClass: \"autocomplete-result__status autocomplete-result__status--icon\" }, [_vm._v(\" \" + _vm._s(_vm.status && _vm.status.icon || \"\") + \" \")]) : _vm.status.status && _vm.status.status !== \"offline\" ? _c(\"NcUserStatusIcon\", { staticClass: \"autocomplete-result__status\", attrs: { \"status\": _vm.status.status } }) : _vm._e()], 1), _c(\"span\", { staticClass: \"autocomplete-result__content\" }, [_c(\"span\", { staticClass: \"autocomplete-result__title\", attrs: { \"title\": _vm.labelWithFallback } }, [_vm._v(\" \" + _vm._s(_vm.labelWithFallback) + \" \")]), _vm.subline ? _c(\"span\", { staticClass: \"autocomplete-result__subline\" }, [_vm._v(\" \" + _vm._s(_vm.subline) + \" \")]) : _vm._e()])]);\n};\nvar _sfc_staticRenderFns$1 = [];\nvar __component__$1 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$1,\n  _sfc_render$1,\n  _sfc_staticRenderFns$1,\n  false,\n  null,\n  \"ef14f1ec\"\n);\nconst NcAutoCompleteResult = __component__$1.exports;\nregister(t34, t37);\nconst style1 = {\n  \"material-design-icon\": \"_material-design-icon_1sdgd_12\",\n  \"tribute-container\": \"_tribute-container_1sdgd_20\",\n  \"tribute-container__item\": \"_tribute-container__item_1sdgd_41\",\n  \"tribute-container--focus-visible\": \"_tribute-container--focus-visible_1sdgd_55\",\n  \"tribute-container-autocomplete\": \"_tribute-container-autocomplete_1sdgd_59\",\n  \"tribute-container-emoji\": \"_tribute-container-emoji_1sdgd_65\",\n  \"tribute-container-link\": \"_tribute-container-link_1sdgd_66\",\n  \"tribute-item\": \"_tribute-item_1sdgd_71\",\n  \"tribute-item__title\": \"_tribute-item__title_1sdgd_86\",\n  \"tribute-item__icon\": \"_tribute-item__icon_1sdgd_91\"\n};\nconst smilesCharacters = [\"d\", \"D\", \"p\", \"P\", \"s\", \"S\", \"x\", \"X\", \")\", \"(\", \"|\", \"/\"];\nconst textSmiles = [];\nsmilesCharacters.forEach((char) => {\n  textSmiles.push(\":\" + char);\n  textSmiles.push(\":-\" + char);\n});\nconst _sfc_main = {\n  name: \"NcRichContenteditable\",\n  mixins: [richEditor],\n  inheritAttrs: false,\n  model: {\n    prop: \"modelValue\",\n    event: \"update:modelValue\"\n  },\n  props: {\n    /**\n     * The ID attribute of the content editable\n     */\n    id: {\n      type: String,\n      default: () => GenRandomId(7)\n    },\n    /**\n     * Visual label of the contenteditable\n     */\n    label: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Removed in v9 - use `modelValue` (`v-model`) instead\n     *\n     * @deprecated\n     */\n    value: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * The text content\n     */\n    modelValue: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Placeholder to be shown if empty\n     */\n    placeholder: {\n      type: String,\n      default: t(\"Write a message\")\n    },\n    /**\n     * Auto complete function\n     */\n    autoComplete: {\n      type: Function,\n      default: () => []\n    },\n    /**\n     * The containing element for the menu popover\n     */\n    menuContainer: {\n      type: Element,\n      default: () => document.body\n    },\n    /**\n     * Make the contenteditable looks like a textarea or not.\n     * Default looks like a single-line input.\n     * This also handle the default enter/shift+enter behaviour.\n     * if multiline, enter = newline; otherwise enter = submit\n     * shift+enter always add a new line. ctrl+enter always submits\n     */\n    multiline: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Is the content editable ?\n     */\n    contenteditable: {\n      type: Boolean,\n      // eslint-disable-next-line vue/no-boolean-default\n      default: true\n    },\n    /**\n     * Disable the editing and show specific disabled design\n     */\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Max allowed length\n     */\n    maxlength: {\n      type: Number,\n      default: null\n    },\n    /**\n     * Enable or disable emoji autocompletion\n     */\n    emojiAutocomplete: {\n      type: Boolean,\n      // eslint-disable-next-line vue/no-boolean-default\n      default: true\n    },\n    /**\n     * Enable or disable link autocompletion\n     */\n    linkAutocomplete: {\n      type: Boolean,\n      // eslint-disable-next-line vue/no-boolean-default\n      default: true\n    }\n  },\n  emits: [\n    \"submit\",\n    \"paste\",\n    /**\n     * Removed in v9 - use `update:modelValue` (`v-model`) instead\n     *\n     * @deprecated\n     */\n    \"update:value\",\n    \"update:modelValue\",\n    /** Same as update:modelValue for Vue 2 compatibility */\n    \"update:model-value\",\n    \"smart-picker-submit\"\n  ],\n  setup() {\n    const uid = GenRandomId(5);\n    const model = useModelMigration(\"value\", \"update:value\", true);\n    return {\n      model,\n      // Constants\n      labelId: `nc-rich-contenteditable-${uid}-label`,\n      tributeId: `nc-rich-contenteditable-${uid}-tribute`,\n      /**\n       * Non-reactive property to store Tribute instance\n       *\n       * @type {import('tributejs').default | null}\n       */\n      tribute: null,\n      tributeStyleMutationObserver: null\n    };\n  },\n  data() {\n    return {\n      // Represent the raw untrimmed text of the contenteditable\n      // serves no other purpose than to check whether the\n      // content is empty or not\n      localValue: this.model,\n      // Is in text composition session in IME\n      isComposing: false,\n      // Tribute autocomplete\n      isAutocompleteOpen: false,\n      autocompleteActiveId: void 0,\n      isTributeIntegrationDone: false\n    };\n  },\n  computed: {\n    /**\n     * Is the current trimmed value empty?\n     *\n     * @return {boolean}\n     */\n    isEmptyValue() {\n      return !this.localValue || this.localValue.trim() === \"\";\n    },\n    /**\n     * Is the current value over maxlength?\n     *\n     * @return {boolean}\n     */\n    isOverMaxlength() {\n      if (this.isEmptyValue || !this.maxlength) {\n        return false;\n      }\n      return stringLength(this.localValue) > this.maxlength;\n    },\n    /**\n     * Tooltip to show if characters count is over limit\n     *\n     * @return {string}\n     */\n    tooltipString() {\n      if (!this.isOverMaxlength) {\n        return null;\n      }\n      return n(\"Message limit of %n character reached\", \"Message limit of %n characters reached\", this.maxlength);\n    },\n    /**\n     * Edit is only allowed when contenteditableis true and disabled is false\n     *\n     * @return {boolean}\n     */\n    canEdit() {\n      return this.contenteditable && !this.disabled;\n    },\n    /**\n     * Proxied native event handlers without custom event handlers\n     *\n     * @return {Record<string, Function>}\n     */\n    listeners() {\n      const listeners = { ...this.$listeners };\n      delete listeners.paste;\n      return listeners;\n    },\n    /**\n     * Compute debounce function for the autocomplete function\n     */\n    debouncedAutoComplete() {\n      return debounce(async (search, callback) => {\n        this.autoComplete(search, callback);\n      }, 100);\n    }\n  },\n  watch: {\n    /**\n     * If the parent value change, we compare the plain text rendering\n     * If it's different, we render everything and update the main content\n     */\n    model() {\n      const html = this.$refs.contenteditable.innerHTML;\n      if (this.model.trim() !== this.parseContent(html).trim()) {\n        this.updateContent(this.model);\n      }\n    }\n  },\n  mounted() {\n    this.initializeTribute();\n    this.updateContent(this.model);\n    this.$refs.contenteditable.contentEditable = this.canEdit;\n  },\n  beforeDestroy() {\n    if (this.tribute) {\n      this.tribute.detach(this.$refs.contenteditable);\n    }\n    if (this.tributeStyleMutationObserver) {\n      this.tributeStyleMutationObserver.disconnect();\n    }\n  },\n  methods: {\n    /**\n     * Focus the richContenteditable\n     *\n     * @public\n     */\n    focus() {\n      this.$refs.contenteditable.focus();\n    },\n    initializeTribute() {\n      const renderMenuItem = (content) => `<div id=\"nc-rich-contenteditable-tribute-item-${GenRandomId(5)}\" class=\"${this.$style[\"tribute-item\"]}\" role=\"option\">${content}</div>`;\n      const tributesCollection = [];\n      tributesCollection.push({\n        fillAttr: \"id\",\n        // Search against id and label (display name) (fallback to title for v8.0.0..8.6.1 compatibility)\n        lookup: (result) => `${result.id} ${result.label ?? result.title}`,\n        requireLeadingSpace: true,\n        // Popup mention autocompletion templates\n        menuItemTemplate: (item) => renderMenuItem(this.renderComponentHtml(item.original, NcAutoCompleteResult)),\n        // Hide if no results\n        noMatchTemplate: () => '<span class=\"hidden\"></span>',\n        // Inner display of mentions\n        selectTemplate: (item) => this.genSelectTemplate(item?.original?.id),\n        // Autocompletion results\n        values: this.debouncedAutoComplete,\n        // Class added to the menu container\n        containerClass: `${this.$style[\"tribute-container\"]} ${this.$style[\"tribute-container-autocomplete\"]}`,\n        // Class added to each list item\n        itemClass: this.$style[\"tribute-container__item\"]\n      });\n      if (this.emojiAutocomplete) {\n        tributesCollection.push({\n          trigger: \":\",\n          // Don't use the tribute search function at all\n          // We pass search results as values (see below)\n          lookup: (result, query) => query,\n          requireLeadingSpace: true,\n          // Popup mention autocompletion templates\n          menuItemTemplate: (item) => {\n            if (textSmiles.includes(item.original)) {\n              return item.original;\n            }\n            return renderMenuItem(`<span class=\"${this.$style[\"tribute-item__emoji\"]}\">${item.original.native}</span> :${item.original.short_name}`);\n          },\n          // Hide if no results\n          noMatchTemplate: () => t(\"No emoji found\"),\n          // Display raw emoji along with its name\n          selectTemplate: (item) => {\n            if (textSmiles.includes(item.original)) {\n              return item.original;\n            }\n            emojiAddRecent(item.original);\n            return item.original.native;\n          },\n          // Pass the search results as values\n          values: (text, cb) => {\n            const emojiResults = emojiSearch(text);\n            if (textSmiles.includes(\":\" + text)) {\n              emojiResults.unshift(\":\" + text);\n            }\n            cb(emojiResults);\n          },\n          // Class added to the menu container\n          containerClass: `${this.$style[\"tribute-container\"]} ${this.$style[\"tribute-container-emoji\"]}`,\n          // Class added to each list item\n          itemClass: this.$style[\"tribute-container__item\"]\n        });\n      }\n      if (this.linkAutocomplete) {\n        tributesCollection.push({\n          trigger: \"/\",\n          // Don't use the tribute search function at all\n          // We pass search results as values (see below)\n          lookup: (result, query) => query,\n          requireLeadingSpace: true,\n          // Popup mention autocompletion templates\n          menuItemTemplate: (item) => renderMenuItem(`<img class=\"${this.$style[\"tribute-item__icon\"]}\" src=\"${item.original.icon_url}\"> <span class=\"${this.$style[\"tribute-item__title\"]}\">${item.original.title}</span>`),\n          // Hide if no results\n          noMatchTemplate: () => t(\"No link provider found\"),\n          selectTemplate: this.getLink,\n          // Pass the search results as values\n          values: (text, cb) => cb(searchProvider(text)),\n          // Class added to the menu container\n          containerClass: `${this.$style[\"tribute-container\"]} ${this.$style[\"tribute-container-link\"]}`,\n          // Class added to each list item\n          itemClass: this.$style[\"tribute-container__item\"]\n        });\n      }\n      this.tribute = new Tribute({\n        collection: tributesCollection,\n        // FIXME: tributejs doesn't support allowSpaces as a collection option, only as a global one\n        // Requires to fork a library to allow spaces only in the middle of mentions ('@' trigger)\n        allowSpaces: false,\n        // Where to inject the menu popup\n        menuContainer: this.menuContainer\n      });\n      this.tribute.attach(this.$refs.contenteditable);\n    },\n    getLink(item) {\n      getLinkWithPicker(item.original.id).then((result) => {\n        const tmpElem = document.getElementById(\"tmp-smart-picker-result-node\");\n        const eventData = {\n          result,\n          insertText: true\n        };\n        this.$emit(\"smart-picker-submit\", eventData);\n        if (eventData.insertText) {\n          const newElem = document.createTextNode(result);\n          tmpElem.replaceWith(newElem);\n          this.setCursorAfter(newElem);\n          this.updateValue(this.$refs.contenteditable.innerHTML);\n        } else {\n          tmpElem.remove();\n        }\n      }).catch((error) => {\n        logger.debug(\"Smart picker promise rejected\", { error });\n        const tmpElem = document.getElementById(\"tmp-smart-picker-result-node\");\n        this.setCursorAfter(tmpElem);\n        tmpElem.remove();\n      });\n      return '<span id=\"tmp-smart-picker-result-node\"></span>';\n    },\n    setCursorAfter(element) {\n      const range = document.createRange();\n      range.setEndAfter(element);\n      range.collapse();\n      const selection = window.getSelection();\n      selection.removeAllRanges();\n      selection.addRange(range);\n    },\n    moveCursorToEnd() {\n      if (!document.createRange) {\n        return;\n      }\n      if (window.getSelection().rangeCount > 0 && this.$refs.contenteditable.contains(window.getSelection().getRangeAt(0).commonAncestorContainer)) {\n        return;\n      }\n      const range = document.createRange();\n      range.selectNodeContents(this.$refs.contenteditable);\n      range.collapse(false);\n      const selection = window.getSelection();\n      selection.removeAllRanges();\n      selection.addRange(range);\n    },\n    /**\n     * Re-emit the input event to the parent\n     *\n     * @param {Event} event the input event\n     */\n    onInput(event) {\n      this.updateValue(event.target.innerHTML);\n    },\n    /**\n     * When pasting, sanitize the content, extract text\n     * and render it again\n     *\n     * @param {Event} event the paste event\n     * @fires Event paste the original paste event\n     */\n    onPaste(event) {\n      if (!this.canEdit) {\n        return;\n      }\n      event.preventDefault();\n      const clipboardData = event.clipboardData;\n      this.$emit(\"paste\", event);\n      if (clipboardData.files.length !== 0 || !Object.values(clipboardData.items).find((item) => item?.type.startsWith(\"text\"))) {\n        return;\n      }\n      const text = clipboardData.getData(\"text\");\n      const selection = window.getSelection();\n      const range = selection.getRangeAt(0);\n      range.deleteContents();\n      range.insertNode(document.createTextNode(text));\n      range.collapse(false);\n      this.updateValue(this.$refs.contenteditable.innerHTML);\n    },\n    /**\n     * Update the value text from the provided html\n     *\n     * @param {string} htmlOrText the html content (or raw text with @mentions)\n     */\n    updateValue(htmlOrText) {\n      const text = this.parseContent(htmlOrText).replace(/^\\n$/, \"\");\n      this.localValue = text;\n      this.model = text;\n    },\n    /**\n     * Update content and local value\n     *\n     * @param {string} value the message value\n     */\n    updateContent(value) {\n      const renderedContent = this.renderContent(value);\n      this.$refs.contenteditable.innerHTML = renderedContent;\n      this.localValue = value;\n    },\n    /**\n     * Enter key pressed. Submits if not multiline\n     *\n     * @param {Event} event the keydown event\n     */\n    onEnter(event) {\n      if (this.multiline || this.isOverMaxlength || this.tribute.isActive || this.isComposing) {\n        return;\n      }\n      event.preventDefault();\n      event.stopPropagation();\n      this.$emit(\"submit\", event);\n    },\n    /**\n     * Ctrl + Enter key pressed is used to submit\n     *\n     * @param {Event} event the keydown event\n     */\n    onCtrlEnter(event) {\n      if (this.isOverMaxlength) {\n        return;\n      }\n      this.$emit(\"submit\", event);\n    },\n    onKeyUp(event) {\n      event.stopImmediatePropagation();\n    },\n    onKeyEsc(event) {\n      if (this.tribute && this.isAutocompleteOpen) {\n        event.stopImmediatePropagation();\n        this.tribute.hideMenu();\n      }\n    },\n    /**\n     * Get HTML element with Tribute.js container\n     *\n     * @return {HTMLElement}\n     */\n    getTributeContainer() {\n      return this.tribute.menu;\n    },\n    /**\n     * Get the currently selected item element id in Tribute.js container\n     *\n     * @return {HTMLElement}\n     */\n    getTributeSelectedItem() {\n      return this.getTributeContainer().querySelector('.highlight [id^=\"nc-rich-contenteditable-tribute-item-\"]');\n    },\n    /**\n     * Handle Tribute activation\n     *\n     * @param {boolean} isActive - is active\n     */\n    onTributeActive(isActive) {\n      this.isAutocompleteOpen = isActive;\n      if (isActive) {\n        this.getTributeContainer().setAttribute(\"class\", this.tribute.current.collection.containerClass || this.$style[\"tribute-container\"]);\n        this.setupTributeIntegration();\n        document.removeEventListener(\"click\", this.hideTribute, true);\n      } else {\n        this.debouncedAutoComplete.clear();\n        this.autocompleteActiveId = void 0;\n        this.setTributeFocusVisible(false);\n      }\n    },\n    onTributeArrowKeyDown() {\n      if (!this.isAutocompleteOpen) {\n        return;\n      }\n      this.setTributeFocusVisible(true);\n      this.onTributeSelectedItemWillChange();\n    },\n    onTributeSelectedItemWillChange() {\n      requestAnimationFrame(() => {\n        this.autocompleteActiveId = this.getTributeSelectedItem()?.id;\n      });\n    },\n    setupTributeIntegration() {\n      if (this.isTributeIntegrationDone) {\n        return;\n      }\n      this.isTributeIntegrationDone = true;\n      const tributeContainer = this.getTributeContainer();\n      tributeContainer.id = this.tributeId;\n      tributeContainer.setAttribute(\"role\", \"listbox\");\n      const ul = tributeContainer.children[0];\n      ul.setAttribute(\"role\", \"presentation\");\n      this.tributeStyleMutationObserver = new MutationObserver(([{ target }]) => {\n        if (target.style.display !== \"none\") {\n          this.onTributeSelectedItemWillChange();\n        }\n      }).observe(tributeContainer, {\n        attributes: true,\n        attributeFilter: [\"style\"]\n      });\n      tributeContainer.addEventListener(\"mousemove\", () => {\n        this.setTributeFocusVisible(false);\n        this.onTributeSelectedItemWillChange();\n      }, { passive: true });\n    },\n    /**\n     * Set tribute-container--focus-visible class on the Tribute container when the user navigates the listbox via keyboard.\n     *\n     * Because the real focus is kept on the textbox, we cannot use the :focus-visible pseudo-class\n     * to style selected options in the autocomplete listbox.\n     *\n     * @param {boolean} withFocusVisible - should the focus-visible class be added\n     */\n    setTributeFocusVisible(withFocusVisible) {\n      if (withFocusVisible) {\n        this.getTributeContainer().classList.add(this.$style[\"tribute-container--focus-visible\"]);\n      } else {\n        this.getTributeContainer().classList.remove(this.$style[\"tribute-container--focus-visible\"]);\n      }\n    },\n    /**\n     * Show tribute menu programmatically.\n     *\n     * @param {string} trigger - trigger character, can be '/', '@', or ':'\n     *\n     * @public\n     */\n    showTribute(trigger) {\n      this.focus();\n      const index = this.tribute.collection.findIndex((collection) => collection.trigger === trigger);\n      this.tribute.showMenuForCollection(this.$refs.contenteditable, index);\n      this.updateValue(this.$refs.contenteditable.innerHTML);\n      document.addEventListener(\"click\", this.hideTribute, true);\n    },\n    /**\n     * Hide tribute menu programmatically\n     *\n     */\n    hideTribute() {\n      this.tribute.hideMenu();\n      document.removeEventListener(\"click\", this.hideTribute, true);\n    }\n  }\n};\nvar _sfc_render = function render2() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"div\", { staticClass: \"rich-contenteditable\" }, [_c(\"div\", _vm._g(_vm._b({ ref: \"contenteditable\", staticClass: \"rich-contenteditable__input\", class: {\n    \"rich-contenteditable__input--empty\": _vm.isEmptyValue,\n    \"rich-contenteditable__input--multiline\": _vm.multiline,\n    \"rich-contenteditable__input--has-label\": _vm.label,\n    \"rich-contenteditable__input--overflow\": _vm.isOverMaxlength,\n    \"rich-contenteditable__input--disabled\": _vm.disabled\n  }, attrs: { \"id\": _vm.id, \"contenteditable\": _vm.canEdit, \"aria-labelledby\": _vm.label ? _vm.labelId : void 0, \"aria-placeholder\": _vm.placeholder, \"aria-multiline\": \"true\", \"role\": \"textbox\", \"aria-haspopup\": \"listbox\", \"aria-autocomplete\": \"inline\", \"aria-controls\": _vm.tributeId, \"aria-expanded\": _vm.isAutocompleteOpen ? \"true\" : \"false\", \"aria-activedescendant\": _vm.autocompleteActiveId, \"title\": _vm.tooltipString }, on: { \"focus\": _vm.moveCursorToEnd, \"input\": _vm.onInput, \"compositionstart\": function($event) {\n    _vm.isComposing = true;\n  }, \"compositionend\": function($event) {\n    _vm.isComposing = false;\n  }, \"!keydown\": function($event) {\n    if (!$event.type.indexOf(\"key\") && _vm._k($event.keyCode, \"esc\", 27, $event.key, [\"Esc\", \"Escape\"])) return null;\n    return _vm.onKeyEsc.apply(null, arguments);\n  }, \"keydown\": [function($event) {\n    if (!$event.type.indexOf(\"key\") && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n    if ($event.ctrlKey || $event.shiftKey || $event.altKey || $event.metaKey) return null;\n    return _vm.onEnter.apply(null, arguments);\n  }, function($event) {\n    if (!$event.type.indexOf(\"key\") && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n    if (!$event.ctrlKey) return null;\n    if ($event.shiftKey || $event.altKey || $event.metaKey) return null;\n    $event.stopPropagation();\n    $event.preventDefault();\n    return _vm.onCtrlEnter.apply(null, arguments);\n  }, function($event) {\n    if (!$event.type.indexOf(\"key\") && _vm._k($event.keyCode, \"up\", 38, $event.key, [\"Up\", \"ArrowUp\"])) return null;\n    if ($event.ctrlKey || $event.shiftKey || $event.altKey || $event.metaKey) return null;\n    $event.stopPropagation();\n    return _vm.onTributeArrowKeyDown.apply(null, arguments);\n  }, function($event) {\n    if (!$event.type.indexOf(\"key\") && _vm._k($event.keyCode, \"down\", 40, $event.key, [\"Down\", \"ArrowDown\"])) return null;\n    if ($event.ctrlKey || $event.shiftKey || $event.altKey || $event.metaKey) return null;\n    $event.stopPropagation();\n    return _vm.onTributeArrowKeyDown.apply(null, arguments);\n  }], \"paste\": _vm.onPaste, \"!keyup\": function($event) {\n    $event.stopPropagation();\n    $event.preventDefault();\n    return _vm.onKeyUp.apply(null, arguments);\n  }, \"tribute-active-true\": function($event) {\n    return _vm.onTributeActive(true);\n  }, \"tribute-active-false\": function($event) {\n    return _vm.onTributeActive(false);\n  } } }, \"div\", _vm.$attrs, false), _vm.listeners)), _vm.label ? _c(\"div\", { staticClass: \"rich-contenteditable__label\", attrs: { \"id\": _vm.labelId } }, [_vm._v(\" \" + _vm._s(_vm.label) + \" \")]) : _vm._e()]);\n};\nvar _sfc_staticRenderFns = [];\nconst __cssModules = {\n  \"$style\": style1\n};\nfunction _sfc_injectStyles(ctx) {\n  for (var key in __cssModules) {\n    this[key] = __cssModules[key];\n  }\n}\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  _sfc_injectStyles,\n  \"c664150f\"\n);\nconst NcRichContenteditable = __component__.exports;\nexport {\n  NcAutoCompleteResult as N,\n  NcRichContenteditable as a\n};\n//# sourceMappingURL=NcRichContenteditable-S7ASR6NI.mjs.map\n","import stripAnsi from 'strip-ansi';\nimport charRegex from 'char-regex';\n\nexport default function stringLength(string, {countAnsiEscapeCodes = false} = {}) {\n\tif (string === '') {\n\t\treturn 0;\n\t}\n\n\tif (!countAnsiEscapeCodes) {\n\t\tstring = stripAnsi(string);\n\t}\n\n\tif (string === '') {\n\t\treturn 0;\n\t}\n\n\treturn string.match(charRegex()).length;\n}\n","// Based on https://github.com/lodash/lodash/blob/6018350ac10d5ce6a5b7db625140b82aeab804df/.internal/unicodeSize.js\r\n\r\nexport default function charRegex() {\r\n\t// Unicode character classes\r\n\tconst astralRange = '\\\\ud800-\\\\udfff';\r\n\tconst comboMarksRange = '\\\\u0300-\\\\u036f';\r\n\tconst comboHalfMarksRange = '\\\\ufe20-\\\\ufe2f';\r\n\tconst comboSymbolsRange = '\\\\u20d0-\\\\u20ff';\r\n\tconst comboMarksExtendedRange = '\\\\u1ab0-\\\\u1aff';\r\n\tconst comboMarksSupplementRange = '\\\\u1dc0-\\\\u1dff';\r\n\tconst comboRange = comboMarksRange + comboHalfMarksRange + comboSymbolsRange + comboMarksExtendedRange + comboMarksSupplementRange;\r\n\tconst variableRange = '\\\\ufe0e\\\\ufe0f';\r\n\r\n\t// Telugu characters\r\n\tconst teluguVowels = '\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c14\\\\u0c60-\\\\u0c61';\r\n\tconst teluguVowelsDiacritic = '\\\\u0c3e-\\\\u0c44\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4c\\\\u0c62-\\\\u0c63';\r\n\tconst teluguConsonants = '\\\\u0c15-\\\\u0c28\\\\u0c2a-\\\\u0c39';\r\n\tconst teluguConsonantsRare = '\\\\u0c58-\\\\u0c5a';\r\n\tconst teluguModifiers = '\\\\u0c01-\\\\u0c03\\\\u0c4d\\\\u0c55\\\\u0c56';\r\n\tconst teluguNumerals = '\\\\u0c66-\\\\u0c6f\\\\u0c78-\\\\u0c7e';\r\n\tconst teluguSingle = `[${teluguVowels}${teluguNumerals}${teluguConsonantsRare}]|[${teluguConsonants}](?!\\\\u0c4d)`;\r\n\tconst teluguDouble = `[${teluguConsonants}${teluguConsonantsRare}][${teluguVowelsDiacritic}]|[${teluguConsonants}${teluguConsonantsRare}][${teluguModifiers}]`;\r\n\tconst teluguTriple = `[${teluguConsonants}]\\\\u0c4d[${teluguConsonants}]`;\r\n\tconst telugu = `(?:${teluguTriple}|${teluguDouble}|${teluguSingle})`;\r\n\r\n\t// Unicode capture groups\r\n\tconst astral = `[${astralRange}]`;\r\n\tconst combo = `[${comboRange}]`;\r\n\tconst fitz = '\\\\ud83c[\\\\udffb-\\\\udfff]';\r\n\tconst modifier = `(?:${combo}|${fitz})`;\r\n\tconst nonAstral = `[^${astralRange}]`;\r\n\tconst regional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}';\r\n\tconst surrogatePair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]';\r\n\tconst zeroWidthJoiner = '\\\\u200d';\r\n\tconst blackFlag = '(?:\\\\ud83c\\\\udff4\\\\udb40\\\\udc67\\\\udb40\\\\udc62\\\\udb40(?:\\\\udc65|\\\\udc73|\\\\udc77)\\\\udb40(?:\\\\udc6e|\\\\udc63|\\\\udc6c)\\\\udb40(?:\\\\udc67|\\\\udc74|\\\\udc73)\\\\udb40\\\\udc7f)';\r\n\r\n\t// Unicode regexes\r\n\tconst optModifier = `${modifier}?`;\r\n\tconst optVariable = `[${variableRange}]?`;\r\n\tconst optJoin = `(?:${zeroWidthJoiner}(?:${[nonAstral, regional, surrogatePair].join('|')})${optVariable + optModifier})*`;\r\n\tconst seq = optVariable + optModifier + optJoin;\r\n\tconst nonAstralCombo = `${nonAstral}${combo}?`;\r\n\tconst symbol = `(?:${[blackFlag, nonAstralCombo, combo, regional, surrogatePair, astral].join('|')})`;\r\n\r\n\t// Match string symbols (https://mathiasbynens.be/notes/javascript-unicode)\r\n\treturn new RegExp(`${fitz}(?=${fitz})|${telugu}|${symbol + seq}`, 'g'); // eslint-disable-line no-misleading-character-class\r\n}\r\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","_sfc_main","name","props","type","String","required","title","default","label","icon","iconUrl","source","primary","Boolean","setup","isDarkTheme","u","computed","avatarUrl","this","g","mentionText","includes","labelWithFallback","_sfc_render","_vm","_c","_self","staticClass","class","attrs","style","backgroundImage","_v","_s","_sfc_staticRenderFns","NcMentionBubble","n","exports","MENTION_START","MENTION_COMPLEX","USERID_REGEX","RegExp","USERID_REGEX_WITH_SPACE","richEditor","userData","Object","methods","renderContent","value","split","map","part","flat","startsWith","slice","replace","genSelectTemplate","join","parseContent","content","text","autocompleteTribute","current","collection","trigger","data","renderComponentHtml","every","char","propsData","component","Item","extend","wrapper","document","createElement","mount","display","appendChild","body","$mount","renderedHtml","innerHTML","$destroy","remove","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","regex","onlyFirst","undefined","ansiRegex","_sfc_main$1","components","NcUserStatusIcon","subline","status","Array","useIsDarkTheme","_sfc_render$1","_e","_sfc_staticRenderFns$1","NcAutoCompleteResult","r","textSmiles","forEach","mixins","inheritAttrs","model","prop","event","G","modelValue","placeholder","autoComplete","Function","menuContainer","Element","multiline","contenteditable","disabled","maxlength","Number","emojiAutocomplete","linkAutocomplete","emits","uid","labelId","tributeId","tribute","tributeStyleMutationObserver","localValue","isComposing","isAutocompleteOpen","autocompleteActiveId","isTributeIntegrationDone","isEmptyValue","trim","isOverMaxlength","string","countAnsiEscapeCodes","TypeError","stripAnsi","match","astralRange","teluguConsonants","teluguConsonantsRare","telugu","astral","combo","fitz","nonAstral","regional","surrogatePair","optModifier","optVariable","seq","symbol","charRegex","length","stringLength","tooltipString","canEdit","listeners","$listeners","paste","debouncedAutoComplete","debounce","async","search","callback","watch","html","$refs","updateContent","mounted","initializeTribute","contentEditable","beforeDestroy","detach","disconnect","focus","renderMenuItem","$style","tributesCollection","fillAttr","lookup","result","requireLeadingSpace","menuItemTemplate","item","original","noMatchTemplate","selectTemplate","values","containerClass","itemClass","query","native","short_name","cb","emojiResults","e","unshift","icon_url","getLink","s","allowSpaces","attach","then","tmpElem","getElementById","eventData","insertText","$emit","newElem","createTextNode","replaceWith","setCursorAfter","updateValue","catch","error","l","debug","element","range","createRange","setEndAfter","collapse","selection","window","getSelection","removeAllRanges","addRange","moveCursorToEnd","rangeCount","contains","getRangeAt","commonAncestorContainer","selectNodeContents","onInput","target","onPaste","preventDefault","clipboardData","files","items","find","getData","deleteContents","insertNode","htmlOrText","renderedContent","onEnter","isActive","stopPropagation","onCtrlEnter","onKeyUp","stopImmediatePropagation","onKeyEsc","hideMenu","getTributeContainer","menu","getTributeSelectedItem","querySelector","onTributeActive","setAttribute","setupTributeIntegration","removeEventListener","hideTribute","clear","setTributeFocusVisible","onTributeArrowKeyDown","onTributeSelectedItemWillChange","requestAnimationFrame","tributeContainer","children","MutationObserver","observe","attributes","attributeFilter","addEventListener","passive","withFocusVisible","classList","add","showTribute","index","findIndex","showMenuForCollection","_g","_b","ref","on","$event","indexOf","_k","keyCode","key","apply","arguments","ctrlKey","shiftKey","altKey","metaKey","$attrs","__cssModules","_sfc_injectStyles","ctx","NcRichContenteditable"],"ignoreList":[],"sourceRoot":""}