"use strict";(self.webpackChunknextcloud=self.webpackChunknextcloud||[]).push([[5133],{16343:(t,e,a)=>{a.d(e,{g:()=>r,s:()=>i});var s=a(56426);a(43850),a(24715);const n=(0,s.c0)("nextcloud-vue").persist(!0).build();function r(){const t=Number.parseInt(n.getItem("NcEmojiPicker::currentSkinTone")??"1");return Math.min(Math.max(t,1),6)}function i(t){t=Math.min(Math.max(t,1),6),n.setItem("NcEmojiPicker::currentSkinTone",t.toString())}},26975:(t,e,a)=>{a.d(e,{A:()=>l});var s=a(71354),n=a.n(s),r=a(76314),i=a.n(r)()(n());i.push([t.id,".set-status-modal[data-v-baa7390c]{padding:8px 20px 20px 20px}.set-status-modal[data-v-baa7390c],.set-status-modal *[data-v-baa7390c]{box-sizing:border-box}.set-status-modal__header[data-v-baa7390c]{font-size:21px;text-align:center;height:fit-content;min-height:var(--default-clickable-area);line-height:var(--default-clickable-area);overflow-wrap:break-word;margin-block:0 calc(2*var(--default-grid-baseline))}.set-status-modal__online-status[data-v-baa7390c]{display:flex;flex-direction:column;gap:calc(2*var(--default-grid-baseline));margin-block:0 calc(2*var(--default-grid-baseline))}.set-status-modal__custom-input[data-v-baa7390c]{display:flex;flex-direction:column;align-items:center;gap:var(--default-grid-baseline);width:100%;padding-inline-start:var(--default-grid-baseline);margin-block:0 calc(2*var(--default-grid-baseline))}.set-status-modal__automation-hint[data-v-baa7390c]{display:flex;width:100%;margin-block:0 calc(2*var(--default-grid-baseline));color:var(--color-text-maxcontrast)}.set-status-modal .status-buttons[data-v-baa7390c]{display:flex;padding:3px;padding-inline-start:0;gap:3px}@media only screen and (max-width: 500px){.set-status-modal__online-status[data-v-baa7390c]{grid-template-columns:none !important}}","",{version:3,sources:["webpack://./apps/user_status/src/components/SetStatusModal.vue"],names:[],mappings:"AAEA,mCACC,0BAAA,CAEA,wEACC,qBAAA,CAGD,2CACC,cAAA,CACA,iBAAA,CACA,kBAAA,CACA,wCAAA,CACA,yCAAA,CACA,wBAAA,CACA,mDAAA,CAGD,kDACC,YAAA,CACA,qBAAA,CACA,wCAAA,CACA,mDAAA,CAGD,iDACC,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,gCAAA,CACA,UAAA,CACA,iDAAA,CACA,mDAAA,CAGD,oDACC,YAAA,CACA,UAAA,CACA,mDAAA,CACA,mCAAA,CAGD,mDACC,YAAA,CACA,WAAA,CACA,sBAAA,CACA,OAAA,CAIF,0CACC,kDACC,qCAAA,CAAA",sourcesContent:["\n\n.set-status-modal {\n\tpadding: 8px 20px 20px 20px;\n\n\t&, & * {\n\t\tbox-sizing: border-box;\n\t}\n\n\t&__header {\n\t\tfont-size: 21px;\n\t\ttext-align: center;\n\t\theight: fit-content;\n\t\tmin-height: var(--default-clickable-area);\n\t\tline-height: var(--default-clickable-area);\n\t\toverflow-wrap: break-word;\n\t\tmargin-block: 0 calc(2 * var(--default-grid-baseline));\n\t}\n\n\t&__online-status {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: calc(2 * var(--default-grid-baseline));\n\t\tmargin-block: 0 calc(2 * var(--default-grid-baseline));\n\t}\n\n\t&__custom-input {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tgap: var(--default-grid-baseline);\n\t\twidth: 100%;\n\t\tpadding-inline-start: var(--default-grid-baseline);\n\t\tmargin-block: 0 calc(2 * var(--default-grid-baseline));\n\t}\n\n\t&__automation-hint {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tmargin-block: 0 calc(2 * var(--default-grid-baseline));\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n\n\t.status-buttons {\n\t\tdisplay: flex;\n\t\tpadding: 3px;\n\t\tpadding-inline-start:0;\n\t\tgap: 3px;\n\t}\n}\n\n@media only screen and (max-width: 500px) {\n\t.set-status-modal__online-status {\n\t\tgrid-template-columns: none !important;\n\t}\n}\n\n"],sourceRoot:""}]);const l=i},34705:(t,e,a)=>{a.d(e,{A:()=>l});var s=a(71354),n=a.n(s),r=a(76314),i=a.n(r)()(n());i.push([t.id,".user-status-online-select__label[data-v-3874da16]{box-sizing:inherit;display:grid;grid-template-columns:var(--default-clickable-area) 1fr 2fr;align-items:center;gap:var(--default-grid-baseline);min-height:var(--default-clickable-area);padding:var(--default-grid-baseline);border-radius:var(--border-radius-large);background-color:var(--color-background-hover)}.user-status-online-select__label[data-v-3874da16],.user-status-online-select__label *[data-v-3874da16]{cursor:pointer}.user-status-online-select__label[data-v-3874da16]:hover{background-color:var(--color-background-dark)}.user-status-online-select__icon[data-v-3874da16]{height:20px;width:20px;padding:calc((var(--default-clickable-area) - 20px)/2)}.user-status-online-select__input:checked+.user-status-online-select__label[data-v-3874da16]{outline:2px solid var(--color-main-text);background-color:var(--color-background-dark);box-shadow:0 0 0 4px var(--color-main-background)}.user-status-online-select__input:focus-visible+.user-status-online-select__label[data-v-3874da16]{outline:2px solid var(--color-primary-element) !important;background-color:var(--color-background-dark)}.user-status-online-select__subline[data-v-3874da16]{display:block;color:var(--color-text-maxcontrast)}","",{version:3,sources:["webpack://./apps/user_status/src/components/OnlineStatusSelect.vue"],names:[],mappings:"AAEC,mDACC,kBAAA,CACA,YAAA,CACA,2DAAA,CACA,kBAAA,CACA,gCAAA,CACA,wCAAA,CACA,oCAAA,CACA,wCAAA,CACA,8CAAA,CAEA,wGACC,cAAA,CAGD,yDACC,6CAAA,CAIF,kDACC,WAAA,CACA,UAAA,CACA,sDAAA,CAGD,6FACC,wCAAA,CACA,6CAAA,CACA,iDAAA,CAGD,mGACC,yDAAA,CACA,6CAAA,CAGD,qDACC,aAAA,CACA,mCAAA",sourcesContent:["\n.user-status-online-select {\n\t&__label {\n\t\tbox-sizing: inherit;\n\t\tdisplay: grid;\n\t\tgrid-template-columns: var(--default-clickable-area) 1fr 2fr;\n\t\talign-items: center;\n\t\tgap: var(--default-grid-baseline);\n\t\tmin-height: var(--default-clickable-area);\n\t\tpadding: var(--default-grid-baseline);\n\t\tborder-radius: var(--border-radius-large);\n\t\tbackground-color: var(--color-background-hover);\n\n\t\t&, & * {\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground-color: var(--color-background-dark);\n\t\t}\n\t}\n\n\t&__icon {\n\t\theight: 20px;\n\t\twidth: 20px;\n\t\tpadding: calc((var(--default-clickable-area) - 20px) / 2);\n\t}\n\n\t&__input:checked + &__label {\n\t\toutline: 2px solid var(--color-main-text);\n\t\tbackground-color: var(--color-background-dark);\n\t\tbox-shadow: 0 0 0 4px var(--color-main-background);\n\t}\n\n\t&__input:focus-visible + &__label {\n\t\toutline: 2px solid var(--color-primary-element) !important;\n\t\tbackground-color: var(--color-background-dark);\n\t}\n\n\t&__subline {\n\t\tdisplay: block;\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n}\n"],sourceRoot:""}]);const l=i},46983:(t,e,a)=>{a.d(e,{A:()=>l});var s=a(71354),n=a.n(s),r=a(76314),i=a.n(r)()(n());i.push([t.id,'.predefined-status__label[data-v-23cc8afc]{display:flex;flex-wrap:nowrap;justify-content:flex-start;flex-basis:100%;border-radius:var(--border-radius);align-items:center;min-height:var(--default-clickable-area);padding-inline:var(--default-grid-baseline)}.predefined-status__label[data-v-23cc8afc],.predefined-status__label *[data-v-23cc8afc]{cursor:pointer}.predefined-status__label[data-v-23cc8afc]:hover{background-color:var(--color-background-dark)}.predefined-status__label--icon[data-v-23cc8afc]{flex-basis:var(--default-clickable-area);text-align:center}.predefined-status__label--message[data-v-23cc8afc]{font-weight:bold;padding:0 6px}.predefined-status__label--clear-at[data-v-23cc8afc]{color:var(--color-text-maxcontrast)}.predefined-status__label--clear-at[data-v-23cc8afc]::before{content:" â€“ "}.predefined-status__input:checked+.predefined-status__label[data-v-23cc8afc],.predefined-status__label[data-v-23cc8afc]:active{outline:2px solid var(--color-main-text);box-shadow:0 0 0 4px var(--color-main-background);background-color:var(--color-background-dark);border-radius:var(--border-radius-large)}.predefined-status__input:focus-visible+.predefined-status__label[data-v-23cc8afc]{outline:2px solid var(--color-primary-element) !important;background-color:var(--color-background-dark);border-radius:var(--border-radius-large)}',"",{version:3,sources:["webpack://./PredefinedStatus.vue","webpack://./apps/user_status/src/components/PredefinedStatus.vue"],names:[],mappings:"AAAA,2CCEC,YACC,CAAA,gBACA,CAAA,0BACA,CAAA,eACA,CAAA,kCACA,CAAA,kBACA,CAAA,wCACA,CAAA,2CACA,CAAA,wFAEA,cACC,CAAA,iDAGD,6CACC,CAAA,iDAGD,wCACC,CAAA,iBACA,CAAA,oDAGD,gBACC,CAAA,aACA,CAAA,qDAGD,mCACC,CAAA,6DAEA,aACC,CAAA,+HAKH,wCAEC,CAAA,iDACA,CAAA,6CACA,CAAA,wCACA,CAAA,mFAGD,yDACC,CAAA,6CACA,CAAA,wCACA",sourcesContent:['.predefined-status__label{display:flex;flex-wrap:nowrap;justify-content:flex-start;flex-basis:100%;border-radius:var(--border-radius);align-items:center;min-height:var(--default-clickable-area);padding-inline:var(--default-grid-baseline)}.predefined-status__label,.predefined-status__label *{cursor:pointer}.predefined-status__label:hover{background-color:var(--color-background-dark)}.predefined-status__label--icon{flex-basis:var(--default-clickable-area);text-align:center}.predefined-status__label--message{font-weight:bold;padding:0 6px}.predefined-status__label--clear-at{color:var(--color-text-maxcontrast)}.predefined-status__label--clear-at::before{content:" â€“ "}.predefined-status__input:checked+.predefined-status__label,.predefined-status__label:active{outline:2px solid var(--color-main-text);box-shadow:0 0 0 4px var(--color-main-background);background-color:var(--color-background-dark);border-radius:var(--border-radius-large)}.predefined-status__input:focus-visible+.predefined-status__label{outline:2px solid var(--color-primary-element) !important;background-color:var(--color-background-dark);border-radius:var(--border-radius-large)}',"\n.predefined-status {\n\t&__label {\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\tjustify-content: flex-start;\n\t\tflex-basis: 100%;\n\t\tborder-radius: var(--border-radius);\n\t\talign-items: center;\n\t\tmin-height: var(--default-clickable-area);\n\t\tpadding-inline: var(--default-grid-baseline);\n\n\t\t&, & * {\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground-color: var(--color-background-dark);\n\t\t}\n\n\t\t&--icon {\n\t\t\tflex-basis: var(--default-clickable-area);\n\t\t\ttext-align: center;\n\t\t}\n\n\t\t&--message {\n\t\t\tfont-weight: bold;\n\t\t\tpadding: 0 6px;\n\t\t}\n\n\t\t&--clear-at {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\n\t\t\t&::before {\n\t\t\t\tcontent: ' â€“ ';\n\t\t\t}\n\t\t}\n\t}\n\n\t&__input:checked + &__label,\n\t&__label:active {\n\t\toutline: 2px solid var(--color-main-text);\n\t\tbox-shadow: 0 0 0 4px var(--color-main-background);\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: var(--border-radius-large);\n\t}\n\n\t&__input:focus-visible + &__label {\n\t\toutline: 2px solid var(--color-primary-element) !important;\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: var(--border-radius-large);\n\t}\n}\n"],sourceRoot:""}]);const l=i},65230:(t,e,a)=>{a.d(e,{A:()=>l});var s=a(71354),n=a.n(s),r=a(76314),i=a.n(r)()(n());i.push([t.id,".custom-input[data-v-4d939852]{display:flex;align-items:flex-end;gap:var(--default-grid-baseline);width:100%}.custom-input__container[data-v-4d939852]{width:100%}","",{version:3,sources:["webpack://./apps/user_status/src/components/CustomMessageInput.vue"],names:[],mappings:"AACA,+BACC,YAAA,CACA,oBAAA,CACA,gCAAA,CACA,UAAA,CAEA,0CACC,UAAA",sourcesContent:["\n.custom-input {\n\tdisplay: flex;\n\talign-items: flex-end;\n\tgap: var(--default-grid-baseline);\n\twidth: 100%;\n\n\t&__container {\n\t\twidth: 100%;\n\t}\n}\n"],sourceRoot:""}]);const l=i},76759:(t,e,a)=>{a.d(e,{A:()=>l});var s=a(71354),n=a.n(s),r=a(76314),i=a.n(r)()(n());i.push([t.id,'.predefined-status[data-v-941da8dc]{display:flex;flex-wrap:nowrap;justify-content:flex-start;flex-basis:100%;border-radius:var(--border-radius);align-items:center;min-height:var(--default-clickable-area);padding-inline:var(--default-grid-baseline)}.predefined-status[data-v-941da8dc]:hover,.predefined-status[data-v-941da8dc]:focus{background-color:var(--color-background-hover)}.predefined-status[data-v-941da8dc]:active{background-color:var(--color-background-dark)}.predefined-status__icon[data-v-941da8dc]{flex-basis:var(--default-clickable-area);text-align:center}.predefined-status__message[data-v-941da8dc]{font-weight:bold;padding:0 6px}.predefined-status__clear-at[data-v-941da8dc]{color:var(--color-text-maxcontrast)}.predefined-status__clear-at[data-v-941da8dc]::before{content:" â€“ "}.backup-status__reset-button[data-v-941da8dc]{justify-content:flex-end;display:flex;flex-grow:1}',"",{version:3,sources:["webpack://./PreviousStatus.vue","webpack://./apps/user_status/src/components/PreviousStatus.vue"],names:[],mappings:"AAAA,oCCCA,YACC,CAAA,gBACA,CAAA,0BACA,CAAA,eACA,CAAA,kCACA,CAAA,kBACA,CAAA,wCACA,CAAA,2CACA,CAAA,oFAEA,8CAEC,CAAA,2CAGD,6CACC,CAAA,0CAGD,wCACC,CAAA,iBACA,CAAA,6CAGD,gBACC,CAAA,aACA,CAAA,8CAGD,mCACC,CAAA,sDAEA,aACC,CAAA,8CAMF,wBACC,CAAA,YACA,CAAA,WACA",sourcesContent:['.predefined-status{display:flex;flex-wrap:nowrap;justify-content:flex-start;flex-basis:100%;border-radius:var(--border-radius);align-items:center;min-height:var(--default-clickable-area);padding-inline:var(--default-grid-baseline)}.predefined-status:hover,.predefined-status:focus{background-color:var(--color-background-hover)}.predefined-status:active{background-color:var(--color-background-dark)}.predefined-status__icon{flex-basis:var(--default-clickable-area);text-align:center}.predefined-status__message{font-weight:bold;padding:0 6px}.predefined-status__clear-at{color:var(--color-text-maxcontrast)}.predefined-status__clear-at::before{content:" â€“ "}.backup-status__reset-button{justify-content:flex-end;display:flex;flex-grow:1}',"\n.predefined-status {\n\tdisplay: flex;\n\tflex-wrap: nowrap;\n\tjustify-content: flex-start;\n\tflex-basis: 100%;\n\tborder-radius: var(--border-radius);\n\talign-items: center;\n\tmin-height: var(--default-clickable-area);\n\tpadding-inline: var(--default-grid-baseline);\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: var(--color-background-hover);\n\t}\n\n\t&:active{\n\t\tbackground-color: var(--color-background-dark);\n\t}\n\n\t&__icon {\n\t\tflex-basis: var(--default-clickable-area);\n\t\ttext-align: center;\n\t}\n\n\t&__message {\n\t\tfont-weight: bold;\n\t\tpadding: 0 6px;\n\t}\n\n\t&__clear-at {\n\t\tcolor: var(--color-text-maxcontrast);\n\n\t\t&::before {\n\t\t\tcontent: ' â€“ ';\n\t\t}\n\t}\n}\n\n.backup-status {\n\t&__reset-button {\n\t\tjustify-content: flex-end;\n\t\tdisplay: flex;\n\t\tflex-grow: 1;\n\t}\n}\n"],sourceRoot:""}]);const l=i},81500:(t,e,a)=>{a.d(e,{A:()=>l});var s=a(71354),n=a.n(s),r=a(76314),i=a.n(r)()(n());i.push([t.id,".clear-at-select[data-v-517c7005]{display:flex;gap:calc(2*var(--default-grid-baseline));align-items:center;margin-block:0 calc(2*var(--default-grid-baseline))}.clear-at-select__select[data-v-517c7005]{flex-grow:1;min-width:215px}","",{version:3,sources:["webpack://./apps/user_status/src/components/ClearAtSelect.vue"],names:[],mappings:"AACA,kCACC,YAAA,CACA,wCAAA,CACA,kBAAA,CACA,mDAAA,CAEA,0CACC,WAAA,CACA,eAAA",sourcesContent:["\n.clear-at-select {\n\tdisplay: flex;\n\tgap: calc(2 * var(--default-grid-baseline));\n\talign-items: center;\n\tmargin-block: 0 calc(2 * var(--default-grid-baseline));\n\n\t&__select {\n\t\tflex-grow: 1;\n\t\tmin-width: 215px;\n\t}\n}\n"],sourceRoot:""}]);const l=i},83706:(t,e,a)=>{a.r(e),a.d(e,{default:()=>tt});var s=a(85168),n=a(63814),r=a(64711),i=a(21376),l=a(53334),o=a(33114),d=a(51651),c=a(61913);const u=t=>{if(null===t)return(0,l.Tl)("user_status","Don't clear");if("end-of"===t.type)switch(t.time){case"day":return(0,l.Tl)("user_status","Today");case"week":return(0,l.Tl)("user_status","This week");default:return null}if("period"===t.type)return d.A.duration(1e3*t.time).humanize();if("_time"===t.type){const e=(0,d.A)((0,c.R)()),a=(0,d.A)(t.time,"X");return d.A.duration(e.diff(a)).humanize()}return null},A={name:"PredefinedStatus",filters:{clearAtFilter:u},props:{messageId:{type:String,required:!0},icon:{type:String,required:!0},message:{type:String,required:!0},clearAt:{type:Object,required:!1,default:null},selected:{type:Boolean,required:!1,default:!1}},computed:{id(){return`user-status-predefined-status-${this.messageId}`}},methods:{select(){this.$emit("select")}}};var p=a(85072),g=a.n(p),C=a(97825),b=a.n(C),f=a(77659),v=a.n(f),m=a(55056),_=a.n(m),h=a(10540),k=a.n(h),x=a(41113),y=a.n(x),S=a(46983),w={};w.styleTagTransform=y(),w.setAttributes=_(),w.insert=v().bind(null,"head"),w.domAPI=b(),w.insertStyleElement=k(),g()(S.A,w),S.A&&S.A.locals&&S.A.locals;var I=a(14486);const D=(0,I.A)(A,function(){var t=this,e=t._self._c;return e("li",{staticClass:"predefined-status"},[e("input",{staticClass:"hidden-visually predefined-status__input",attrs:{id:t.id,type:"radio",name:"predefined-status"},domProps:{checked:t.selected},on:{change:t.select}}),t._v(" "),e("label",{staticClass:"predefined-status__label",attrs:{for:t.id}},[e("span",{staticClass:"predefined-status__label--icon",attrs:{"aria-hidden":"true"}},[t._v("\n\t\t\t"+t._s(t.icon)+"\n\t\t")]),t._v(" "),e("span",{staticClass:"predefined-status__label--message"},[t._v("\n\t\t\t"+t._s(t.message)+"\n\t\t")]),t._v(" "),e("span",{staticClass:"predefined-status__label--clear-at"},[t._v("\n\t\t\t"+t._s(t._f("clearAtFilter")(t.clearAt))+"\n\t\t")])])])},[],!1,null,"23cc8afc",null).exports;var M=a(95353);const $={name:"PredefinedStatusesList",components:{PredefinedStatus:D},data:()=>({lastSelected:null}),computed:{...(0,M.aH)({predefinedStatuses:t=>t.predefinedStatuses.predefinedStatuses,messageId:t=>t.userStatus.messageId}),...(0,M.L8)(["statusesHaveLoaded"])},watch:{messageId:{immediate:!0,handler(){this.lastSelected=this.messageId}}},created(){this.$store.dispatch("loadAllPredefinedStatuses")},methods:{selectStatus(t){this.lastSelected=t.id,this.$emit("select-status",t)}}};var B=a(86529),T={};T.styleTagTransform=y(),T.setAttributes=_(),T.insert=v().bind(null,"head"),T.domAPI=b(),T.insertStyleElement=k(),g()(B.A,T),B.A&&B.A.locals&&B.A.locals;const P=(0,I.A)($,function(){var t=this,e=t._self._c;return t.statusesHaveLoaded?e("ul",{staticClass:"predefined-statuses-list",attrs:{"aria-label":t.t("user_status","Predefined statuses")}},t._l(t.predefinedStatuses,function(a){return e("PredefinedStatus",{key:a.id,attrs:{"message-id":a.id,icon:a.icon,message:a.message,"clear-at":a.clearAt,selected:t.lastSelected===a.id},on:{select:function(e){return t.selectStatus(a)}}})}),1):e("div",{staticClass:"predefined-statuses-list"},[e("div",{staticClass:"icon icon-loading-small"})])},[],!1,null,"14de0124",null).exports,E={name:"PreviousStatus",components:{NcButton:i.A},props:{icon:{type:[String,null],required:!0},message:{type:String,required:!0}},methods:{select(){this.$emit("select")}}};var N=a(76759),G={};G.styleTagTransform=y(),G.setAttributes=_(),G.insert=v().bind(null,"head"),G.domAPI=b(),G.insertStyleElement=k(),g()(N.A,G),N.A&&N.A.locals&&N.A.locals;const q=(0,I.A)(E,function(){var t=this,e=t._self._c;return e("div",{staticClass:"predefined-status backup-status",attrs:{tabindex:"0"},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.select.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.select.apply(null,arguments)}],click:t.select}},[e("span",{staticClass:"predefined-status__icon"},[t._v("\n\t\t"+t._s(t.icon)+"\n\t")]),t._v(" "),e("span",{staticClass:"predefined-status__message"},[t._v("\n\t\t"+t._s(t.message)+"\n\t")]),t._v(" "),e("span",{staticClass:"predefined-status__clear-at"},[t._v("\n\t\t"+t._s(t.$t("user_status","Previously set"))+"\n\t")]),t._v(" "),e("div",{staticClass:"backup-status__reset-button"},[e("NcButton",{on:{click:t.select}},[t._v("\n\t\t\t"+t._s(t.$t("user_status","Reset status"))+"\n\t\t")])],1)])},[],!1,null,"941da8dc",null).exports;var F=a(68229);const j={name:"CustomMessageInput",components:{NcTextField:a(82182).A,NcButton:i.A,NcEmojiPicker:F.N},props:{icon:{type:String,default:"ðŸ˜€"},message:{type:String,required:!0,default:()=>""},disabled:{type:Boolean,default:!1}},emits:["change","select-icon"],computed:{visibleIcon(){return this.icon||"ðŸ˜€"}},methods:{focus(){this.$refs.input.focus()},onChange(t){this.$emit("change",t.target.value)},setIcon(t){this.$emit("select-icon",t)}}};var R=a(65230),O={};O.styleTagTransform=y(),O.setAttributes=_(),O.insert=v().bind(null,"head"),O.domAPI=b(),O.insertStyleElement=k(),g()(R.A,O),R.A&&R.A.locals&&R.A.locals;const Y=(0,I.A)(j,function(){var t=this,e=t._self._c;return e("div",{staticClass:"custom-input",attrs:{role:"group"}},[e("NcEmojiPicker",{attrs:{container:".custom-input"},on:{select:t.setIcon}},[e("NcButton",{attrs:{type:"tertiary","aria-label":t.t("user_status","Emoji for your status message")},scopedSlots:t._u([{key:"icon",fn:function(){return[t._v("\n\t\t\t\t"+t._s(t.visibleIcon)+"\n\t\t\t")]},proxy:!0}])})],1),t._v(" "),e("div",{staticClass:"custom-input__container"},[e("NcTextField",{ref:"input",attrs:{maxlength:"80",disabled:t.disabled,placeholder:t.t("user_status","What is your status?"),value:t.message,type:"text",label:t.t("user_status","What is your status?")},on:{input:t.onChange}})],1)],1)},[],!1,null,"4d939852",null).exports;const z={name:"ClearAtSelect",components:{NcSelect:a(67607).default},props:{clearAt:{type:Object,default:null}},data:()=>({options:[{label:(0,l.Tl)("user_status","Don't clear"),clearAt:null},{label:(0,l.Tl)("user_status","30 minutes"),clearAt:{type:"period",time:1800}},{label:(0,l.Tl)("user_status","1 hour"),clearAt:{type:"period",time:3600}},{label:(0,l.Tl)("user_status","4 hours"),clearAt:{type:"period",time:14400}},{label:(0,l.Tl)("user_status","Today"),clearAt:{type:"end-of",time:"day"}},{label:(0,l.Tl)("user_status","This week"),clearAt:{type:"end-of",time:"week"}}]}),computed:{option(){return{clearAt:this.clearAt,label:u(this.clearAt)}}},methods:{select(t){t&&this.$emit("select-clear-at",t.clearAt)}}};var U=a(81500),L={};L.styleTagTransform=y(),L.setAttributes=_(),L.insert=v().bind(null,"head"),L.domAPI=b(),L.insertStyleElement=k(),g()(U.A,L),U.A&&U.A.locals&&U.A.locals;const W=(0,I.A)(z,function(){var t=this,e=t._self._c;return e("div",{staticClass:"clear-at-select"},[e("label",{staticClass:"clear-at-select__label",attrs:{for:"clearStatus"}},[t._v("\n\t\t"+t._s(t.$t("user_status","Clear status after"))+"\n\t")]),t._v(" "),e("NcSelect",{staticClass:"clear-at-select__select",attrs:{"input-id":"clearStatus",options:t.options,value:t.option,clearable:!1,placement:"top","label-outside":""},on:{"option:selected":t.select}})],1)},[],!1,null,"517c7005",null).exports,H={name:"OnlineStatusSelect",components:{NcUserStatusIcon:a(53611).A},props:{checked:{type:Boolean,default:!1},type:{type:String,required:!0},label:{type:String,required:!0},subline:{type:String,default:null}},computed:{id(){return`user-status-online-status-${this.type}`}},methods:{onChange(){this.$emit("select",this.type)}}};var Q=a(34705),J={};J.styleTagTransform=y(),J.setAttributes=_(),J.insert=v().bind(null,"head"),J.domAPI=b(),J.insertStyleElement=k(),g()(Q.A,J),Q.A&&Q.A.locals&&Q.A.locals;const K=(0,I.A)(H,function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-status-online-select"},[e("input",{staticClass:"hidden-visually user-status-online-select__input",attrs:{id:t.id,type:"radio",name:"user-status-online"},domProps:{checked:t.checked},on:{change:t.onChange}}),t._v(" "),e("label",{staticClass:"user-status-online-select__label",attrs:{for:t.id}},[e("NcUserStatusIcon",{staticClass:"user-status-online-select__icon",attrs:{status:t.type,"aria-hidden":"true"}}),t._v("\n\t\t"+t._s(t.label)+"\n\t\t"),e("em",{staticClass:"user-status-online-select__subline"},[t._v(t._s(t.subline))])],1)])},[],!1,null,"3874da16",null).exports,X={name:"SetStatusModal",components:{ClearAtSelect:W,CustomMessageInput:Y,NcModal:r.A,OnlineStatusSelect:K,PredefinedStatusesList:P,PreviousStatus:q,NcButton:i.A},mixins:[o.A],props:{inline:{type:Boolean,default:!1}},data:()=>({clearAt:null,editedMessage:"",predefinedMessageId:null,isSavingStatus:!1,statuses:[{type:"online",label:(0,l.Tl)("user_status","Online")},{type:"away",label:(0,l.Tl)("user_status","Away")},{type:"busy",label:(0,l.Tl)("user_status","Busy")},{type:"dnd",label:(0,l.Tl)("user_status","Do not disturb"),subline:(0,l.Tl)("user_status","Mute all notifications")},{type:"invisible",label:(0,l.Tl)("user_status","Invisible"),subline:(0,l.Tl)("user_status","Appear offline")}]}),computed:{messageId(){return this.$store.state.userStatus.messageId},icon(){return this.$store.state.userStatus.icon},message(){return this.$store.state.userStatus.message||""},hasBackupStatus(){return this.messageId&&(this.backupIcon||this.backupMessage)},backupIcon(){return this.$store.state.userBackupStatus.icon||""},backupMessage(){return this.$store.state.userBackupStatus.message||""},absencePageUrl:()=>(0,n.Jv)("settings/user/availability#absence"),resetButtonText(){return this.backupIcon&&this.backupMessage?this.$t("user_status",'Reset status to "{icon} {message}"',{icon:this.backupIcon,message:this.backupMessage}):this.backupMessage?this.$t("user_status",'Reset status to "{message}"',{message:this.backupMessage}):this.backupIcon?this.$t("user_status",'Reset status to "{icon}"',{icon:this.backupIcon}):this.$t("user_status","Reset status")},setReturnFocus(){if(!this.inline)return document.querySelector('[aria-controls="header-menu-user-menu"]')??void 0}},watch:{message:{immediate:!0,handler(t){this.editedMessage=t}}},mounted(){this.$store.dispatch("fetchBackupFromServer"),this.predefinedMessageId=this.$store.state.userStatus.messageId,null!==this.$store.state.userStatus.clearAt&&(this.clearAt={type:"_time",time:this.$store.state.userStatus.clearAt})},methods:{closeModal(){this.$emit("close")},setIcon(t){this.predefinedMessageId=null,this.$store.dispatch("setCustomMessage",{message:this.message,icon:t,clearAt:this.clearAt}),this.$nextTick(()=>{this.$refs.customMessageInput.focus()})},setMessage(t){this.predefinedMessageId=null,this.editedMessage=t},setClearAt(t){this.clearAt=t},selectPredefinedMessage(t){this.predefinedMessageId=t.id,this.clearAt=t.clearAt,this.$store.dispatch("setPredefinedMessage",{messageId:t.id,clearAt:t.clearAt})},async saveStatus(){if(!this.isSavingStatus){try{this.isSavingStatus=!0,null===this.predefinedMessageId?await this.$store.dispatch("setCustomMessage",{message:this.editedMessage,icon:this.icon,clearAt:this.clearAt}):this.$store.dispatch("setPredefinedMessage",{messageId:this.predefinedMessageId,clearAt:this.clearAt})}catch(t){return(0,s.Qg)(this.$t("user_status","There was an error saving the status")),console.debug(t),void(this.isSavingStatus=!1)}this.isSavingStatus=!1,this.closeModal()}},async clearStatus(){try{this.isSavingStatus=!0,await this.$store.dispatch("clearMessage")}catch(t){return(0,s.Qg)(this.$t("user_status","There was an error clearing the status")),console.debug(t),void(this.isSavingStatus=!1)}this.isSavingStatus=!1,this.predefinedMessageId=null,this.closeModal()},async revertBackupFromServer(){try{this.isSavingStatus=!0,await this.$store.dispatch("revertBackupFromServer",{messageId:this.messageId})}catch(t){return(0,s.Qg)(this.$t("user_status","There was an error reverting the status")),console.debug(t),void(this.isSavingStatus=!1)}this.isSavingStatus=!1,this.predefinedMessageId=this.$store.state.userStatus?.messageId}}};var V=a(26975),Z={};Z.styleTagTransform=y(),Z.setAttributes=_(),Z.insert=v().bind(null,"head"),Z.domAPI=b(),Z.insertStyleElement=k(),g()(V.A,Z),V.A&&V.A.locals&&V.A.locals;const tt=(0,I.A)(X,function(){var t=this,e=t._self._c;return e("NcModal",{attrs:{size:"normal","label-id":"user_status-set-dialog",dark:"","set-return-focus":t.setReturnFocus},on:{close:t.closeModal}},[e("div",{staticClass:"set-status-modal"},[e("h2",{staticClass:"set-status-modal__header",attrs:{id:"user_status-set-dialog"}},[t._v("\n\t\t\t"+t._s(t.$t("user_status","Online status"))+"\n\t\t")]),t._v(" "),e("div",{staticClass:"set-status-modal__online-status",attrs:{role:"radiogroup","aria-label":t.$t("user_status","Online status")}},t._l(t.statuses,function(a){return e("OnlineStatusSelect",t._b({key:a.type,attrs:{checked:a.type===t.statusType},on:{select:t.changeStatus}},"OnlineStatusSelect",a,!1))}),1),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.saveStatus.apply(null,arguments)},reset:t.clearStatus}},[e("h3",{staticClass:"set-status-modal__header"},[t._v("\n\t\t\t\t"+t._s(t.$t("user_status","Status message"))+"\n\t\t\t")]),t._v(" "),e("div",{staticClass:"set-status-modal__custom-input"},[e("CustomMessageInput",{ref:"customMessageInput",attrs:{icon:t.icon,message:t.editedMessage},on:{change:t.setMessage,"select-icon":t.setIcon}}),t._v(" "),"vacationing"===t.messageId?e("NcButton",{attrs:{href:t.absencePageUrl,target:"_blank",type:"secondary","aria-label":t.$t("user_status","Set absence period")}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("user_status","Set absence period and replacement")+" â†—")+"\n\t\t\t\t")]):t._e()],1),t._v(" "),t.hasBackupStatus?e("div",{staticClass:"set-status-modal__automation-hint"},[t._v("\n\t\t\t\t"+t._s(t.$t("user_status","Your status was set automatically"))+"\n\t\t\t")]):t._e(),t._v(" "),t.hasBackupStatus?e("PreviousStatus",{attrs:{icon:t.backupIcon,message:t.backupMessage},on:{select:t.revertBackupFromServer}}):t._e(),t._v(" "),e("PredefinedStatusesList",{on:{"select-status":t.selectPredefinedMessage}}),t._v(" "),e("ClearAtSelect",{attrs:{"clear-at":t.clearAt},on:{"select-clear-at":t.setClearAt}}),t._v(" "),e("div",{staticClass:"status-buttons"},[e("NcButton",{attrs:{wide:!0,type:"tertiary","native-type":"reset","aria-label":t.$t("user_status","Clear status message"),disabled:t.isSavingStatus}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("user_status","Clear status message"))+"\n\t\t\t\t")]),t._v(" "),e("NcButton",{attrs:{wide:!0,type:"primary","native-type":"submit","aria-label":t.$t("user_status","Set status message"),disabled:t.isSavingStatus}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("user_status","Set status message"))+"\n\t\t\t\t")])],1)],1)])])},[],!1,null,"baa7390c",null).exports},86529:(t,e,a)=>{a.d(e,{A:()=>l});var s=a(71354),n=a.n(s),r=a(76314),i=a.n(r)()(n());i.push([t.id,".predefined-statuses-list[data-v-14de0124]{display:flex;flex-direction:column;gap:var(--default-grid-baseline);margin-block:0 calc(2*var(--default-grid-baseline))}","",{version:3,sources:["webpack://./apps/user_status/src/components/PredefinedStatusesList.vue"],names:[],mappings:"AACA,2CACC,YAAA,CACA,qBAAA,CACA,gCAAA,CACA,mDAAA",sourcesContent:["\n.predefined-statuses-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: var(--default-grid-baseline);\n\tmargin-block: 0 calc(2 * var(--default-grid-baseline));\n}\n"],sourceRoot:""}]);const l=i}}]);
//# sourceMappingURL=user-status-modal-5133.js.map?v=cb1ffe160d6d10052bf6