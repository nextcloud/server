import{O as N,j as T,P as Q,I as Z,Q as tt,K as nt,R as P,S as W,U as R,V as et,W as st,L as ot,X as ct,g as U,v as at,Y as rt}from"./runtime-dom.esm-bundler-BWg2EkCL.chunk.mjs";let V;const I=t=>V=t,X=Symbol();function A(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var w;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(w||(w={}));function dt(){const t=N(!0),o=t.run(()=>T({}));let e=[],n=[];const a=Q({install(i){I(a),a._a=i,i.provide(X,a),i.config.globalProperties.$pinia=a,n.forEach(r=>e.push(r)),n=[]},use(i){return this._a?e.push(i):n.push(i),this},_p:e,_a:null,_e:t,_s:new Map,state:o});return a}const Y=()=>{};function K(t,o,e,n=Y){t.add(o);const a=()=>{t.delete(o)&&n()};return!e&&et()&&st(a),a}function j(t,...o){t.forEach(e=>{e(...o)})}const it=t=>t(),L=Symbol(),M=Symbol();function F(t,o){t instanceof Map&&o instanceof Map?o.forEach((e,n)=>t.set(n,e)):t instanceof Set&&o instanceof Set&&o.forEach(t.add,t);for(const e in o){if(!o.hasOwnProperty(e))continue;const n=o[e],a=t[e];A(a)&&A(n)&&t.hasOwnProperty(e)&&!P(n)&&!W(n)?t[e]=F(a,n):t[e]=n}return t}const ut=Symbol();function ft(t){return!A(t)||!Object.prototype.hasOwnProperty.call(t,ut)}const{assign:p}=Object;function lt(t){return!!(P(t)&&t.effect)}function pt(t,o,e,n){const{state:a,actions:i,getters:r}=o,m=e.state.value[t];let h;function d(){m||(e.state.value[t]=a?a():{});const y=ct(e.state.value[t]);return p(y,i,Object.keys(r||{}).reduce((b,v)=>(b[v]=Q(U(()=>{I(e);const _=e._s.get(t);return r[v].call(_,_)})),b),{}))}return h=q(t,d,o,e,n,!0),h}function q(t,o,e={},n,a,i){let r;const m=p({actions:{}},e),h={deep:!0};let d,y,b=new Set,v=new Set,_;const S=n.state.value[t];!i&&!S&&(n.state.value[t]={});let k;function C(s){let c;d=y=!1,typeof s=="function"?(s(n.state.value[t]),c={type:w.patchFunction,storeId:t,events:_}):(F(n.state.value[t],s),c={type:w.patchObject,payload:s,storeId:t,events:_});const u=k=Symbol();ot().then(()=>{k===u&&(d=!0)}),y=!0,j(b,c,n.state.value[t])}const z=i?function(){const{state:s}=e,c=s?s():{};this.$patch(u=>{p(u,c)})}:Y;function B(){r.stop(),b.clear(),v.clear(),n._s.delete(t)}const J=(s,c="")=>{if(L in s)return s[M]=c,s;const u=function(){I(n);const E=Array.from(arguments),g=new Set,x=new Set;function G(f){g.add(f)}function H(f){x.add(f)}j(v,{args:E,name:u[M],store:l,after:G,onError:H});let $;try{$=s.apply(this&&this.$id===t?this:l,E)}catch(f){throw j(x,f),f}return $ instanceof Promise?$.then(f=>(j(g,f),f)).catch(f=>(j(x,f),Promise.reject(f))):(j(g,$),$)};return u[L]=!0,u[M]=c,u},D={_p:n,$id:t,$onAction:K.bind(null,v),$patch:C,$reset:z,$subscribe(s,c={}){const u=K(b,s,c.detached,()=>E()),E=r.run(()=>at(()=>n.state.value[t],g=>{(c.flush==="sync"?y:d)&&s({storeId:t,type:w.direct,events:_},g)},p({},h,c)));return u},$dispose:B},l=nt(D);n._s.set(t,l);const O=(n._a&&n._a.runWithContext||it)(()=>n._e.run(()=>(r=N()).run(()=>o({action:J}))));for(const s in O){const c=O[s];if(P(c)&&!lt(c)||W(c))i||(S&&ft(c)&&(P(c)?c.value=S[s]:F(c,S[s])),n.state.value[t][s]=c);else if(typeof c=="function"){const u=J(c,s);O[s]=u,m.actions[s]=c}}return p(l,O),p(R(l),O),Object.defineProperty(l,"$state",{get:()=>n.state.value[t],set:s=>{C(c=>{p(c,s)})}}),n._p.forEach(s=>{p(l,r.run(()=>s({store:l,app:n._a,pinia:n,options:m})))}),S&&i&&e.hydrate&&e.hydrate(l.$state,S),d=!0,y=!0,l}function yt(t,o,e){let n;const a=typeof o=="function";n=a?e:o;function i(r,m){const h=tt();return r=r||(h?Z(X,null):null),r&&I(r),r=V,r._s.has(t)||(a?q(t,o,n,r):pt(t,n,r)),r._s.get(t)}return i.$id=t,i}function bt(t){const o=R(t),e={};for(const n in o){const a=o[n];a.effect?e[n]=U({get:()=>t[n],set(i){t[n]=i}}):(P(a)||W(a))&&(e[n]=rt(t,n))}return e}export{dt as c,yt as d,bt as s};
//# sourceMappingURL=pinia-YFa5XC9e.chunk.mjs.map
