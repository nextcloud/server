{"version":3,"file":"user_ldap-renewPassword.mjs","sources":["../node_modules/@nextcloud/vue/dist/chunks/NcGuestContent-CfCh49o0.mjs","../build/frontend/apps/user_ldap/src/views/RenewPassword.vue","../build/frontend/apps/user_ldap/src/renewPassword.ts"],"sourcesContent":["import '../assets/NcGuestContent-j8ai4O1K.css';\nimport { defineComponent, onMounted, onUnmounted, createElementBlock, openBlock, renderSlot } from \"vue\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nconst _hoisted_1 = { id: \"guest-content-vue\" };\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"NcGuestContent\",\n  setup(__props) {\n    onMounted(() => {\n      document.getElementById(\"content\").classList.add(\"nc-guest-content\");\n    });\n    onUnmounted(() => {\n      document.getElementById(\"content\").classList.remove(\"nc-guest-content\");\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1, [\n        renderSlot(_ctx.$slots, \"default\", {}, void 0, true)\n      ]);\n    };\n  }\n});\nconst NcGuestContent = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-26ad2498\"]]);\nexport {\n  NcGuestContent as N\n};\n//# sourceMappingURL=NcGuestContent-CfCh49o0.mjs.map\n","<!--\n - SPDX-FileCopyrightText: 2026 Nextcloud GmbH and Nextcloud contributors\n - SPDX-License-Identifier: AGPL-3.0-or-later\n -->\n\n<script setup lang=\"ts\">\nimport { getRequestToken } from '@nextcloud/auth'\nimport { loadState } from '@nextcloud/initial-state'\nimport { t } from '@nextcloud/l10n'\nimport { ref } from 'vue'\nimport NcButton from '@nextcloud/vue/components/NcButton'\nimport NcGuestContent from '@nextcloud/vue/components/NcGuestContent'\nimport NcNoteCard from '@nextcloud/vue/components/NcNoteCard'\nimport NcPasswordField from '@nextcloud/vue/components/NcPasswordField'\n\nconst renewPasswordParameters = loadState<{\n\tuser: string\n\terrors: string[]\n\tmessages: string[]\n\tcancelRenewUrl: string\n\ttryRenewPasswordUrl: string\n}>('user_ldap', 'renewPasswordParameters')\n\nconst hasInvalidPassword = renewPasswordParameters.errors.includes('invalidpassword')\n\nconst requestToken = getRequestToken()\nconst isRenewing = ref(false)\n\n/**\n * Handle the form submission.\n */\nfunction onSubmit() {\n\tisRenewing.value = true\n}\n</script>\n\n<template>\n\t<NcGuestContent>\n\t\t<h2>{{ t('user_ldap', 'Please renew your password') }}</h2>\n\t\t<NcNoteCard v-if=\"renewPasswordParameters.messages.length\" type=\"warning\">\n\t\t\t<p v-for=\"(message, index) in renewPasswordParameters.messages\" :key=\"index\">\n\t\t\t\t{{ message }}\n\t\t\t</p>\n\t\t</NcNoteCard>\n\t\t<NcNoteCard\n\t\t\tv-if=\"renewPasswordParameters.errors.includes('internalexception')\"\n\t\t\t:heading=\"t('user_ldap', 'An internal error occurred.')\"\n\t\t\t:text=\"t('user_ldap', 'Please try again or contact your administrator.')\"\n\t\t\ttype=\"warning\" />\n\n\t\t<form\n\t\t\tmethod=\"post\"\n\t\t\tname=\"renewpassword\"\n\t\t\t:action=\"renewPasswordParameters.tryRenewPasswordUrl\"\n\t\t\t@submit=\"onSubmit\">\n\t\t\t<NcPasswordField\n\t\t\t\tautofocus\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\tautocapitalize=\"off\"\n\t\t\t\t:error=\"hasInvalidPassword\"\n\t\t\t\t:helperText=\"hasInvalidPassword ? t('user_ldap', 'Wrong password.') : ''\"\n\t\t\t\t:label=\"t('user_ldap', 'Current password')\"\n\t\t\t\trequired\n\t\t\t\tspellcheck=\"false\"\n\t\t\t\tname=\"oldPassword\" />\n\t\t\t<NcPasswordField\n\t\t\t\tautofocus\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\tautocapitalize=\"off\"\n\t\t\t\t:label=\"t('user_ldap', 'New password')\"\n\t\t\t\trequired\n\t\t\t\tspellcheck=\"false\"\n\t\t\t\tname=\"newPassword\" />\n\n\t\t\t<div :class=\"$style.renewPassword__actions\">\n\t\t\t\t<NcButton :href=\"renewPasswordParameters.cancelRenewUrl\" variant=\"error\">\n\t\t\t\t\t{{ t('user_ldap', 'Cancel') }}\n\t\t\t\t</NcButton>\n\t\t\t\t<NcButton :disabled=\"isRenewing\" type=\"submit\" variant=\"primary\">\n\t\t\t\t\t{{ isRenewing ? t('user_ldap', 'Renewingâ€¦') : t('user_ldap', 'Renew password') }}\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\n\t\t\t<input type=\"hidden\" name=\"user\" :value=\"renewPasswordParameters.user\">\n\t\t\t<input type=\"hidden\" name=\"requesttoken\" :value=\"requestToken\">\n\t\t</form>\n\t</NcGuestContent>\n</template>\n\n<style module>\n.renewPassword__actions {\n\tdisplay: flex;\n\tjustify-content: end;\n\tgap: var(--default-grid-baseline);\n\tmargin-top: 1rem;\n}\n</style>\n","/**\n * SPDX-FileCopyrightText: 2026 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { createApp } from 'vue'\nimport RenewPasswordView from './views/RenewPassword.vue'\n\nconst app = createApp(RenewPasswordView)\napp.mount('#user_ldap-renewPassword')\n"],"names":["_hoisted_1","_sfc_main","defineComponent","__props","onMounted","onUnmounted","_ctx","_cache","openBlock","createElementBlock","renderSlot","NcGuestContent","_export_sfc","renewPasswordParameters","loadState","hasInvalidPassword","requestToken","getRequestToken","isRenewing","ref","onSubmit","_createBlock","_unref","_createElementVNode","t","NcNoteCard","_openBlock","_createElementBlock","_Fragment","message","index","_createVNode","NcPasswordField","_normalizeClass","$style","NcButton","app","createApp","RenewPasswordView"],"mappings":"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","x_google_ignoreList":[0]}