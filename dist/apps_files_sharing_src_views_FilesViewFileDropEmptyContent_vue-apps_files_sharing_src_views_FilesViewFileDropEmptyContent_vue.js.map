{"version":3,"file":"apps_files_sharing_src_views_FilesViewFileDropEmptyContent_vue-apps_files_sharing_src_views_FilesViewFileDropEmptyContent_vue.js?v=b933bdec7f8a0f7c9459","mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAkBA;AACA;;;;;;;;;;;;;;;ACvCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AGAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///nextcloud/apps/files_sharing/src/views/FilesViewFileDropEmptyContent.vue","webpack://nextcloud/./apps/files_sharing/src/views/FilesViewFileDropEmptyContent.vue?3c8e","webpack://nextcloud/./apps/files_sharing/src/views/FilesViewFileDropEmptyContent.vue?504b","webpack://nextcloud/./apps/files_sharing/src/views/FilesViewFileDropEmptyContent.vue?01dd","webpack:///nextcloud/apps/files_sharing/src/views/FilesViewFileDropEmptyContent.vue?vue&type=script&setup=true&lang=ts","webpack:///nextcloud/apps/files_sharing/src/views/FilesViewFileDropEmptyContent.vue?vue&type=template&id=1988e27d&scoped=true","webpack:///nextcloud/apps/files_sharing/src/views/FilesViewFileDropEmptyContent.vue?vue&type=style&index=0&id=1988e27d&scoped=true&lang=scss","webpack://nextcloud/./apps/files_sharing/src/views/FilesViewFileDropEmptyContent.vue?9730"],"sourcesContent":["import { render, staticRenderFns } from \"./FilesViewFileDropEmptyContent.vue?vue&type=template&id=1988e27d&scoped=true\"\nimport script from \"./FilesViewFileDropEmptyContent.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FilesViewFileDropEmptyContent.vue?vue&type=script&setup=true&lang=ts\"\nimport style0 from \"./FilesViewFileDropEmptyContent.vue?vue&type=style&index=0&id=1988e27d&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1988e27d\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/richard/src/nextcloud/master/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1988e27d')) {\n      api.createRecord('1988e27d', component.options)\n    } else {\n      api.reload('1988e27d', component.options)\n    }\n    module.hot.accept(\"./FilesViewFileDropEmptyContent.vue?vue&type=template&id=1988e27d&scoped=true\", function () {\n      api.rerender('1988e27d', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/files_sharing/src/views/FilesViewFileDropEmptyContent.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-4.use[1]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesViewFileDropEmptyContent.vue?vue&type=script&setup=true&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-4.use[1]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesViewFileDropEmptyContent.vue?vue&type=script&setup=true&lang=ts\"","export * from \"-!../../../../node_modules/style-loader/dist/cjs.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesViewFileDropEmptyContent.vue?vue&type=style&index=0&id=1988e27d&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesViewFileDropEmptyContent.vue?vue&type=template&id=1988e27d&scoped=true\"","import { defineComponent as _defineComponent } from 'vue';\nimport { loadState } from '@nextcloud/initial-state';\nimport { translate as t } from '@nextcloud/l10n';\nimport { getUploader, UploadPicker, UploadStatus } from '@nextcloud/upload';\nimport { ref } from 'vue';\nimport NcButton from '@nextcloud/vue/components/NcButton';\nimport NcDialog from '@nextcloud/vue/components/NcDialog';\nimport NcEmptyContent from '@nextcloud/vue/components/NcEmptyContent';\nimport NcIconSvgWrapper from '@nextcloud/vue/components/NcIconSvgWrapper';\nimport NcNoteCard from '@nextcloud/vue/components/NcNoteCard';\nimport svgCloudUpload from '@mdi/svg/svg/cloud-upload.svg?raw';\n/* eslint-disable import/first */\n// We need this on module level rather than on the instance as view will be refreshed by the files app after uploading\nconst uploads = new Set();\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FilesViewFileDropEmptyContent',\n  props: {\n    foldername: {\n      type: String,\n      required: true\n    }\n  },\n  setup(__props) {\n    const disclaimer = loadState('files_sharing', 'disclaimer', '');\n    const shareLabel = loadState('files_sharing', 'label', '');\n    const shareNote = loadState('files_sharing', 'note', '');\n    const name = shareLabel || t('files_sharing', 'File drop');\n    const showDialog = ref(false);\n    const uploadDestination = getUploader().destination;\n    getUploader().addNotifier(upload => {\n      if (upload.status === UploadStatus.FINISHED && upload.file.name) {\n        // if a upload is finished and is not a meta upload (name is set)\n        // then we add the upload to the list of finished uploads to be shown to the user\n        uploads.add(upload.file.name);\n      }\n    });\n    /**\n     * Get the previous uploads as sorted list\n     */\n    function getSortedUploads() {\n      return [...uploads].sort((a, b) => a.localeCompare(b));\n    }\n    return {\n      __sfc: true,\n      uploads,\n      disclaimer,\n      shareLabel,\n      shareNote,\n      name,\n      showDialog,\n      uploadDestination,\n      getSortedUploads,\n      t,\n      UploadPicker,\n      NcButton,\n      NcDialog,\n      NcEmptyContent,\n      NcIconSvgWrapper,\n      NcNoteCard,\n      svgCloudUpload\n    };\n  }\n});","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c,\n    _setup = _vm._self._setupProxy;\n  return _c(_setup.NcEmptyContent, {\n    staticClass: \"file-drop-empty-content\",\n    attrs: {\n      \"data-cy-files-sharing-file-drop\": \"\",\n      name: _setup.name\n    },\n    scopedSlots: _vm._u([{\n      key: \"icon\",\n      fn: function () {\n        return [_c(_setup.NcIconSvgWrapper, {\n          attrs: {\n            svg: _setup.svgCloudUpload\n          }\n        })];\n      },\n      proxy: true\n    }, {\n      key: \"description\",\n      fn: function () {\n        return [_c(\"p\", [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_setup.shareNote || _setup.t(\"files_sharing\", \"Upload files to {foldername}.\", {\n          foldername: _vm.foldername\n        })) + \"\\n\\t\\t\")]), _vm._v(\" \"), _setup.disclaimer ? _c(\"p\", [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_setup.t(\"files_sharing\", \"By uploading files, you agree to the terms of service.\")) + \"\\n\\t\\t\")]) : _vm._e(), _vm._v(\" \"), _setup.getSortedUploads().length ? _c(_setup.NcNoteCard, {\n          staticClass: \"file-drop-empty-content__note-card\",\n          attrs: {\n            type: \"success\"\n          }\n        }, [_c(\"h2\", {\n          attrs: {\n            id: \"file-drop-empty-content__heading\"\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_setup.t(\"files_sharing\", \"Successfully uploaded files\")) + \"\\n\\t\\t\\t\")]), _vm._v(\" \"), _c(\"ul\", {\n          staticClass: \"file-drop-empty-content__list\",\n          attrs: {\n            \"aria-labelledby\": \"file-drop-empty-content__heading\"\n          }\n        }, _vm._l(_setup.getSortedUploads(), function (file) {\n          return _c(\"li\", {\n            key: file\n          }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\" + _vm._s(file) + \"\\n\\t\\t\\t\\t\")]);\n        }), 0)]) : _vm._e()];\n      },\n      proxy: true\n    }, {\n      key: \"action\",\n      fn: function () {\n        return [_setup.disclaimer ? [_c(_setup.NcButton, {\n          attrs: {\n            type: \"primary\"\n          },\n          on: {\n            click: function ($event) {\n              _setup.showDialog = true;\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_setup.t(\"files_sharing\", \"View terms of service\")) + \"\\n\\t\\t\\t\")]), _vm._v(\" \"), _c(_setup.NcDialog, {\n          attrs: {\n            \"close-on-click-outside\": \"\",\n            \"content-classes\": \"terms-of-service-dialog\",\n            open: _setup.showDialog,\n            name: _setup.t(\"files_sharing\", \"Terms of service\"),\n            message: _setup.disclaimer\n          },\n          on: {\n            \"update:open\": function ($event) {\n              _setup.showDialog = $event;\n            }\n          }\n        })] : _vm._e(), _vm._v(\" \"), _c(_setup.UploadPicker, {\n          attrs: {\n            \"allow-folders\": \"\",\n            content: () => [],\n            \"no-menu\": \"\",\n            destination: _setup.uploadDestination,\n            multiple: \"\"\n          }\n        })];\n      },\n      proxy: true\n    }])\n  });\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\nexport { render, staticRenderFns };","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.file-drop-empty-content[data-v-1988e27d] {\n  margin: auto;\n  max-width: max(50vw, 300px);\n  /* TODO fix in library */\n}\n.file-drop-empty-content .file-drop-empty-content__note-card[data-v-1988e27d] {\n  width: fit-content;\n  margin-inline: auto;\n}\n.file-drop-empty-content #file-drop-empty-content__heading[data-v-1988e27d] {\n  margin-block: 0 10px;\n  font-weight: bold;\n  font-size: 20px;\n}\n.file-drop-empty-content .file-drop-empty-content__list[data-v-1988e27d] {\n  list-style: inside;\n  max-height: min(350px, 33vh);\n  overflow-y: scroll;\n  padding-inline-end: calc(2 * var(--default-grid-baseline));\n}\n.file-drop-empty-content[data-v-1988e27d] .terms-of-service-dialog {\n  min-height: min(100px, 20vh);\n}\n.file-drop-empty-content[data-v-1988e27d] .empty-content__action {\n  display: flex;\n  gap: var(--default-grid-baseline);\n}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesViewFileDropEmptyContent.vue?vue&type=style&index=0&id=1988e27d&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesViewFileDropEmptyContent.vue?vue&type=style&index=0&id=1988e27d&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":[],"sourceRoot":""}