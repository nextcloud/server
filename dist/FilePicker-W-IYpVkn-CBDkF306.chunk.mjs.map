{"version":3,"file":"FilePicker-W-IYpVkn-CBDkF306.chunk.mjs","sources":["../node_modules/@nextcloud/vue/dist/chunks/NcEmptyContent-B8-90BSI.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcBreadcrumb-Bwkn3eve.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcBreadcrumbs-PN5_hHQn.mjs","../node_modules/cancelable-promise/esm/CancelablePromise.mjs","../node_modules/@nextcloud/dialogs/node_modules/@nextcloud/files/dist/chunks/dav-Rt1kTtvI.mjs","../node_modules/@nextcloud/dialogs/node_modules/@nextcloud/files/dist/index.mjs","../node_modules/@nextcloud/dialogs/dist/chunks/preview-BIbJGxXF.mjs","../node_modules/@nextcloud/dialogs/dist/chunks/_plugin-vue_export-helper-1tPrXgE0.mjs","../node_modules/@nextcloud/dialogs/dist/chunks/FilePicker-W-IYpVkn.mjs"],"sourcesContent":["import '../assets/NcEmptyContent-CLjlZ-UT.css';\nimport { defineComponent, createElementBlock, openBlock, unref, createCommentVNode, renderSlot, createTextVNode, toDisplayString } from \"vue\";\nimport { c as createElementId } from \"./createElementId-DhjFt1I9.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nconst _hoisted_1 = [\"aria-labelledby\"];\nconst _hoisted_2 = {\n  key: 0,\n  class: \"empty-content__icon\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_3 = [\"id\"];\nconst _hoisted_4 = {\n  key: 2,\n  class: \"empty-content__description\"\n};\nconst _hoisted_5 = {\n  key: 3,\n  class: \"empty-content__action\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"NcEmptyContent\",\n  props: {\n    description: { default: \"\" },\n    name: { default: \"\" }\n  },\n  setup(__props) {\n    const nameId = createElementId();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        \"aria-labelledby\": unref(nameId),\n        class: \"empty-content\",\n        role: \"note\"\n      }, [\n        _ctx.$slots.icon ? (openBlock(), createElementBlock(\"div\", _hoisted_2, [\n          renderSlot(_ctx.$slots, \"icon\", {}, void 0, true)\n        ])) : createCommentVNode(\"\", true),\n        _ctx.name !== \"\" || _ctx.$slots.name ? (openBlock(), createElementBlock(\"div\", {\n          key: 1,\n          id: unref(nameId),\n          class: \"empty-content__name\"\n        }, [\n          renderSlot(_ctx.$slots, \"name\", {}, () => [\n            createTextVNode(toDisplayString(_ctx.name), 1)\n          ], true)\n        ], 8, _hoisted_3)) : createCommentVNode(\"\", true),\n        _ctx.description !== \"\" || _ctx.$slots.description ? (openBlock(), createElementBlock(\"p\", _hoisted_4, [\n          renderSlot(_ctx.$slots, \"description\", {}, () => [\n            createTextVNode(toDisplayString(_ctx.description), 1)\n          ], true)\n        ])) : createCommentVNode(\"\", true),\n        _ctx.$slots.action ? (openBlock(), createElementBlock(\"div\", _hoisted_5, [\n          renderSlot(_ctx.$slots, \"action\", {}, void 0, true)\n        ])) : createCommentVNode(\"\", true)\n      ], 8, _hoisted_1);\n    };\n  }\n});\nconst NcEmptyContent = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-b101d636\"]]);\nexport {\n  NcEmptyContent as N\n};\n//# sourceMappingURL=NcEmptyContent-B8-90BSI.mjs.map\n","import '../assets/NcBreadcrumb-CHjeSh0y.css';\nimport { createElementBlock, openBlock, mergeProps, createElementVNode, createCommentVNode, toDisplayString, resolveComponent, withModifiers, normalizeClass, createBlock, createVNode, createSlots, withCtx, renderSlot, createTextVNode } from \"vue\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { N as NcButton } from \"./NcButton-Dc8V4Urj.mjs\";\nimport { c as createElementId } from \"./createElementId-DhjFt1I9.mjs\";\nimport { N as NcActions } from \"./NcActions-DWmvh7-Y.mjs\";\nconst _sfc_main$1 = {\n  name: \"ChevronRightIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$1 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3 = { d: \"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" };\nconst _hoisted_4 = { key: 0 };\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon chevron-right-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2))\n  ], 16, _hoisted_1$1);\n}\nconst ChevronRight = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"render\", _sfc_render$1]]);\nconst _sfc_main = {\n  name: \"NcBreadcrumb\",\n  components: {\n    NcActions,\n    ChevronRight,\n    NcButton\n  },\n  inheritAttrs: false,\n  props: {\n    /**\n     * The main text content of the entry.\n     */\n    name: {\n      type: String,\n      required: true\n    },\n    /**\n     * The title attribute of the element.\n     */\n    title: {\n      type: String,\n      default: null\n    },\n    /**\n     * Route Location the link should navigate to when clicked on.\n     *\n     * @see https://v3.router.vuejs.org/api/#to\n     */\n    to: {\n      type: [String, Object],\n      default: void 0\n    },\n    /**\n     * Set this prop if your app doesn't use vue-router, breadcrumbs will show as normal links.\n     */\n    href: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * Set a css icon-class to show an icon along name text (if forceIconText is provided, otherwise just icon).\n     */\n    icon: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Enables text to accompany the icon, if the icon was provided. The text that will be displayed is the name prop.\n     */\n    forceIconText: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Disable dropping on this breadcrumb.\n     */\n    disableDrop: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Force the actions to display in a three dot menu\n     */\n    forceMenu: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Open state of the Actions menu\n     */\n    open: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * CSS class to apply to the root element.\n     */\n    class: {\n      type: [String, Array, Object],\n      default: \"\"\n    }\n  },\n  emits: [\n    \"dragenter\",\n    \"dragleave\",\n    \"dropped\",\n    \"update:open\"\n  ],\n  setup() {\n    const crumbId = createElementId();\n    return {\n      actionsContainer: `.vue-crumb[data-crumb-id=\"${crumbId}\"]`,\n      crumbId\n    };\n  },\n  data() {\n    return {\n      /**\n       * Variable to track if we hover over the breadcrumb\n       */\n      hovering: false\n    };\n  },\n  computed: {\n    /**\n     * The attributes to pass to `router-link` or `a`\n     */\n    linkAttributes() {\n      if (this.to) {\n        return { to: this.to, ...this.$attrs };\n      } else if (this.href) {\n        return { href: this.href, ...this.$attrs };\n      }\n      return this.$attrs;\n    }\n  },\n  methods: {\n    /**\n     * Function to handle changing the open state of the Actions menu\n     * $emit the open state.\n     *\n     * @param {boolean} open The open state of the Actions menu\n     */\n    onOpenChange(open) {\n      this.$emit(\"update:open\", open);\n    },\n    /**\n     * Function to handle a drop on the breadcrumb.\n     * $emit the event and the path, remove the hovering state.\n     *\n     * @param {object} e The drop event\n     * @return {boolean}\n     */\n    dropped(e) {\n      if (this.disableDrop) {\n        return false;\n      }\n      this.$emit(\"dropped\", e, this.to || this.href);\n      this.$parent.$emit(\"dropped\", e, this.to || this.href);\n      this.hovering = false;\n      return false;\n    },\n    /**\n     * Add the hovering state on drag enter\n     *\n     * @param {DragEvent} e The drag-enter event\n     */\n    dragEnter(e) {\n      this.$emit(\"dragenter\", e);\n      if (this.disableDrop) {\n        return;\n      }\n      this.hovering = true;\n    },\n    /**\n     * Remove the hovering state on drag leave\n     *\n     * @param {DragEvent} e The drag leave event\n     */\n    dragLeave(e) {\n      this.$emit(\"dragleave\", e);\n      if (this.disableDrop) {\n        return;\n      }\n      if (e.target.contains(e.relatedTarget) || this.$refs.crumb.contains(e.relatedTarget)) {\n        return;\n      }\n      this.hovering = false;\n    }\n  }\n};\nconst _hoisted_1 = [\"data-crumb-id\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcButton = resolveComponent(\"NcButton\");\n  const _component_NcActions = resolveComponent(\"NcActions\");\n  const _component_ChevronRight = resolveComponent(\"ChevronRight\");\n  return openBlock(), createElementBlock(\"li\", {\n    ref: \"crumb\",\n    class: normalizeClass([\"vue-crumb\", [{ \"vue-crumb--hovered\": $data.hovering }, _ctx.$props.class]]),\n    \"data-crumb-id\": $setup.crumbId,\n    draggable: \"false\",\n    onDragstart: withModifiers(() => {\n    }, [\"prevent\"]),\n    onDrop: _cache[0] || (_cache[0] = withModifiers((...args) => $options.dropped && $options.dropped(...args), [\"prevent\"])),\n    onDragover: withModifiers(() => {\n    }, [\"prevent\"]),\n    onDragenter: _cache[1] || (_cache[1] = (...args) => $options.dragEnter && $options.dragEnter(...args)),\n    onDragleave: _cache[2] || (_cache[2] = (...args) => $options.dragLeave && $options.dragLeave(...args))\n  }, [\n    ($props.name || $props.icon || _ctx.$slots.icon) && !_ctx.$slots.default ? (openBlock(), createBlock(_component_NcButton, mergeProps({\n      key: 0,\n      \"aria-label\": $props.icon ? $props.name : void 0,\n      variant: \"tertiary\"\n    }, $options.linkAttributes), createSlots({ _: 2 }, [\n      _ctx.$slots.icon || $props.icon ? {\n        name: \"icon\",\n        fn: withCtx(() => [\n          renderSlot(_ctx.$slots, \"icon\", {}, () => [\n            createElementVNode(\"span\", {\n              class: normalizeClass([$props.icon, \"icon\"])\n            }, null, 2)\n          ], true)\n        ]),\n        key: \"0\"\n      } : void 0,\n      !(_ctx.$slots.icon || $props.icon) || $props.forceIconText ? {\n        name: \"default\",\n        fn: withCtx(() => [\n          createTextVNode(toDisplayString($props.name), 1)\n        ]),\n        key: \"1\"\n      } : void 0\n    ]), 1040, [\"aria-label\"])) : createCommentVNode(\"\", true),\n    _ctx.$slots.default ? (openBlock(), createBlock(_component_NcActions, {\n      key: 1,\n      ref: \"actions\",\n      container: $setup.actionsContainer,\n      \"force-menu\": $props.forceMenu,\n      \"force-name\": \"\",\n      \"menu-name\": $props.name,\n      open: $props.open,\n      title: $props.title,\n      variant: \"tertiary\",\n      \"onUpdate:open\": $options.onOpenChange\n    }, {\n      icon: withCtx(() => [\n        renderSlot(_ctx.$slots, \"menu-icon\", {}, void 0, true)\n      ]),\n      default: withCtx(() => [\n        renderSlot(_ctx.$slots, \"default\", {}, void 0, true)\n      ]),\n      _: 3\n    }, 8, [\"container\", \"force-menu\", \"menu-name\", \"open\", \"title\", \"onUpdate:open\"])) : createCommentVNode(\"\", true),\n    createVNode(_component_ChevronRight, {\n      class: \"vue-crumb__separator\",\n      size: 20\n    })\n  ], 42, _hoisted_1);\n}\nconst NcBreadcrumb = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__scopeId\", \"data-v-28ef52a4\"]]);\nexport {\n  NcBreadcrumb as N\n};\n//# sourceMappingURL=NcBreadcrumb-Bwkn3eve.mjs.map\n","import '../assets/NcBreadcrumbs-DYfGaSjT.css';\nimport { unsubscribe, subscribe } from \"@nextcloud/event-bus\";\nimport debounce from \"debounce\";\nimport { createElementBlock, openBlock, mergeProps, createElementVNode, createCommentVNode, toDisplayString, Fragment, cloneVNode, h } from \"vue\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { N as NcActions, i as isSlotPopulated } from \"./NcActions-DWmvh7-Y.mjs\";\nimport { N as NcActionButton } from \"./NcActionButton-pKOSrlGE.mjs\";\nimport { N as NcActionLink } from \"./NcActionLink-vEvKSV4N.mjs\";\nimport { N as NcActionRouter } from \"./NcActionRouter-oT-YU_jf.mjs\";\nimport { N as NcBreadcrumb } from \"./NcBreadcrumb-Bwkn3eve.mjs\";\nconst _sfc_main$1 = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3 = { d: \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" };\nconst _hoisted_4 = { key: 0 };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon folder-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2))\n  ], 16, _hoisted_1);\n}\nconst IconFolder = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"render\", _sfc_render]]);\nconst crumbClass = \"vue-crumb\";\nconst _sfc_main = {\n  name: \"NcBreadcrumbs\",\n  components: {\n    NcActions,\n    NcActionButton,\n    NcActionRouter,\n    NcActionLink,\n    NcBreadcrumb,\n    IconFolder\n  },\n  props: {\n    /**\n     * Set a css icon-class for the icon of the root breadcrumb to be used.\n     */\n    rootIcon: {\n      type: String,\n      default: \"icon-home\"\n    },\n    /**\n     * Set the aria-label of the nav element.\n     */\n    ariaLabel: {\n      type: String,\n      default: null\n    }\n  },\n  emits: [\"dropped\"],\n  data() {\n    return {\n      /**\n       * Array to track the hidden breadcrumbs by their index.\n       * Comparing two crumbs somehow does not work, so we use the indices.\n       */\n      hiddenIndices: [],\n      /**\n       * This is the props of the middle Action menu\n       * that show the ellipsised breadcrumbs\n       */\n      menuBreadcrumbProps: {\n        // Don't show a name for this breadcrumb, only the Actions menu\n        name: \"\",\n        forceMenu: true,\n        // Don't allow dropping directly on the actions breadcrumb\n        disableDrop: true,\n        // Is the menu open or not\n        open: false\n      },\n      breadcrumbsRefs: []\n    };\n  },\n  created() {\n    window.addEventListener(\"resize\", debounce(() => {\n      this.handleWindowResize();\n    }, 100));\n    subscribe(\"navigation-toggled\", this.delayedResize);\n  },\n  mounted() {\n    this.handleWindowResize();\n  },\n  updated() {\n    this.delayedResize();\n    this.$nextTick(() => {\n      this.hideCrumbs();\n    });\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"resize\", this.handleWindowResize);\n    unsubscribe(\"navigation-toggled\", this.delayedResize);\n  },\n  methods: {\n    /**\n     * Close the actions menu\n     *\n     * @param {object} e The event\n     */\n    closeActions(e) {\n      if (this.$refs.actionsBreadcrumb.$el.contains(e.relatedTarget)) {\n        return;\n      }\n      this.menuBreadcrumbProps.open = false;\n    },\n    /**\n     * Call the resize function after a delay\n     */\n    async delayedResize() {\n      await this.$nextTick();\n      this.handleWindowResize();\n    },\n    /**\n     * Check the width of the breadcrumb and hide breadcrumbs\n     * if we overflow otherwise.\n     */\n    handleWindowResize() {\n      if (!this.$refs.container) {\n        return;\n      }\n      const nrCrumbs = this.breadcrumbsRefs.length;\n      const hiddenIndices = [];\n      const availableWidth = this.$refs.container.offsetWidth;\n      let totalWidth = this.getTotalWidth();\n      if (this.$refs.breadcrumb__actions) {\n        totalWidth += this.$refs.breadcrumb__actions.offsetWidth;\n      }\n      let overflow = totalWidth - availableWidth;\n      overflow += overflow > 0 ? 64 : 0;\n      let i = 0;\n      const startIndex = Math.floor(nrCrumbs / 2);\n      while (overflow > 0 && i < nrCrumbs - 2) {\n        const currentIndex = startIndex + (i % 2 ? i + 1 : i) / 2 * Math.pow(-1, i + nrCrumbs % 2);\n        overflow -= this.getWidth(this.breadcrumbsRefs[currentIndex]?.$el, currentIndex === this.breadcrumbsRefs.length - 1);\n        hiddenIndices.push(currentIndex);\n        i++;\n      }\n      if (!this.arraysEqual(this.hiddenIndices, hiddenIndices.sort((a, b) => a - b))) {\n        this.hiddenIndices = hiddenIndices;\n      }\n    },\n    /**\n     * Checks if two arrays are equal.\n     * Only works for primitive arrays, but that's enough here.\n     *\n     * @param {Array} a The first array\n     * @param {Array} b The second array\n     * @return {boolean} Wether the arrays are equal\n     */\n    arraysEqual(a, b) {\n      if (a.length !== b.length) {\n        return false;\n      } else if (a === b) {\n        return true;\n      } else if (a === null || b === null) {\n        return false;\n      }\n      for (let i = 0; i < a.length; ++i) {\n        if (a[i] !== b[i]) {\n          return false;\n        }\n      }\n      return true;\n    },\n    /**\n     * Calculates the total width of all breadcrumbs\n     *\n     * @return {number} The total width\n     */\n    getTotalWidth() {\n      return this.breadcrumbsRefs.reduce((width, crumb, index) => width + this.getWidth(crumb.$el, index === this.breadcrumbsRefs.length - 1), 0);\n    },\n    /**\n     * Calculates the width of the provided element\n     *\n     * @param {object} el The element\n     * @param {boolean} isLast Is this the last crumb\n     * @return {number} The width\n     */\n    getWidth(el, isLast) {\n      if (!el?.classList) {\n        return 0;\n      }\n      const hide = el.classList.contains(`${crumbClass}--hidden`);\n      el.style.minWidth = \"auto\";\n      if (isLast) {\n        el.style.maxWidth = \"210px\";\n      }\n      el.classList.remove(`${crumbClass}--hidden`);\n      const w = el.offsetWidth;\n      if (hide) {\n        el.classList.add(`${crumbClass}--hidden`);\n      }\n      el.style.minWidth = \"\";\n      el.style.maxWidth = \"\";\n      return w;\n    },\n    /**\n     * Prevents the default of a provided event\n     *\n     * @param {object} e The event\n     * @return {boolean}\n     */\n    preventDefault(e) {\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      return false;\n    },\n    /**\n     * Handles the drag start.\n     * Prevents a breadcrumb from being draggable.\n     *\n     * @param {object} e The event\n     * @return {boolean}\n     */\n    dragStart(e) {\n      return this.preventDefault(e);\n    },\n    /**\n     * Handles when something is dropped on the breadcrumb.\n     *\n     * @param {object} e The drop event\n     * @param {string} path The path of the breadcrumb\n     * @param {boolean} disabled Whether dropping is disabled for this breadcrumb\n     * @return {boolean}\n     */\n    dropped(e, path, disabled) {\n      if (!disabled) {\n        this.$emit(\"dropped\", e, path);\n      }\n      this.menuBreadcrumbProps.open = false;\n      const crumbs = document.querySelectorAll(`.${crumbClass}`);\n      for (const crumb of crumbs) {\n        crumb.classList.remove(`${crumbClass}--hovered`);\n      }\n      return this.preventDefault(e);\n    },\n    /**\n     * Handles the drag over event\n     *\n     * @param {object} e The drag over event\n     * @return {boolean}\n     */\n    dragOver(e) {\n      return this.preventDefault(e);\n    },\n    /**\n     * Handles the drag enter event\n     *\n     * @param {object} e The drag over event\n     * @param {boolean} disabled Whether dropping is disabled for this breadcrumb\n     */\n    dragEnter(e, disabled) {\n      if (disabled) {\n        return;\n      }\n      if (e.target.closest) {\n        const target = e.target.closest(`.${crumbClass}`);\n        if (target.classList && target.classList.contains(crumbClass)) {\n          const crumbs = document.querySelectorAll(`.${crumbClass}`);\n          for (const crumb of crumbs) {\n            crumb.classList.remove(`${crumbClass}--hovered`);\n          }\n          target.classList.add(`${crumbClass}--hovered`);\n        }\n      }\n    },\n    /**\n     * Handles the drag leave event\n     *\n     * @param {object} e The drag leave event\n     * @param {boolean} disabled Whether dropping is disabled for this breadcrumb\n     */\n    dragLeave(e, disabled) {\n      if (disabled) {\n        return;\n      }\n      if (e.target.contains(e.relatedTarget)) {\n        return;\n      }\n      if (e.target.closest) {\n        const target = e.target.closest(`.${crumbClass}`);\n        if (target.contains(e.relatedTarget)) {\n          return;\n        }\n        if (target.classList && target.classList.contains(crumbClass)) {\n          target.classList.remove(`${crumbClass}--hovered`);\n        }\n      }\n    },\n    /**\n     * Check for each crumb if we have to hide it and\n     * add it to the array of all crumbs.\n     */\n    hideCrumbs() {\n      this.breadcrumbsRefs.forEach((crumb, i) => {\n        if (crumb?.$el?.classList) {\n          if (this.hiddenIndices.includes(i)) {\n            crumb.$el.classList.add(`${crumbClass}--hidden`);\n          } else {\n            crumb.$el.classList.remove(`${crumbClass}--hidden`);\n          }\n        }\n      });\n    },\n    isBreadcrumb(vnode) {\n      return vnode?.type?.name === \"NcBreadcrumb\";\n    }\n  },\n  /**\n   * The render function to display the component\n   *\n   * @return {object|undefined} The created VNode\n   */\n  render() {\n    let breadcrumbs = [];\n    this.$slots.default?.().forEach((vnode) => {\n      if (this.isBreadcrumb(vnode)) {\n        breadcrumbs.push(vnode);\n        return;\n      }\n      if (vnode?.type === Fragment) {\n        vnode?.children?.forEach?.((child) => {\n          if (this.isBreadcrumb(child)) {\n            breadcrumbs.push(child);\n          }\n        });\n      }\n    });\n    if (breadcrumbs.length === 0) {\n      return;\n    }\n    breadcrumbs[0] = cloneVNode(breadcrumbs[0], {\n      icon: this.rootIcon,\n      ref: \"breadcrumbs\"\n    });\n    const breadcrumbsRefs = [];\n    breadcrumbs = breadcrumbs.map((crumb, index) => cloneVNode(crumb, {\n      ref: (crumb2) => {\n        breadcrumbsRefs[index] = crumb2;\n      }\n    }));\n    const crumbs = [...breadcrumbs];\n    if (this.hiddenIndices.length) {\n      crumbs.splice(\n        Math.round(breadcrumbs.length / 2),\n        0,\n        // The Actions menu\n        // Use a breadcrumb component for the hidden breadcrumbs\n        // eslint-disable-line @stylistic/function-call-argument-newline\n        h(NcBreadcrumb, {\n          class: \"dropdown\",\n          ...this.menuBreadcrumbProps,\n          // Hide the dropdown menu from screen-readers,\n          // since the crumbs in the menu are still in the list.\n          \"aria-hidden\": true,\n          // Add a ref to the Actions menu\n          ref: \"actionsBreadcrumb\",\n          key: \"actions-breadcrumb-1\",\n          // Add handlers so the Actions menu opens on hover\n          onDragenter: () => {\n            this.menuBreadcrumbProps.open = true;\n          },\n          onDragleave: this.closeActions,\n          // Make sure we keep the same open state\n          // as the Actions component\n          \"onUpdate:open\": (open) => {\n            this.menuBreadcrumbProps.open = open;\n          }\n          // Add all hidden breadcrumbs as ActionRouter or ActionLink\n        }, {\n          default: () => this.hiddenIndices.filter((index) => index <= breadcrumbs.length - 1).map((index) => {\n            const crumb = breadcrumbs[index];\n            const {\n              // Get the parameters from the breadcrumb component props\n              to,\n              href,\n              disableDrop,\n              name,\n              // Props to forward\n              ...propsToForward\n            } = crumb.props;\n            delete propsToForward.ref;\n            let element = NcActionButton;\n            let path = \"\";\n            if (href) {\n              element = NcActionLink;\n              path = href;\n            }\n            if (to) {\n              element = NcActionRouter;\n              path = to;\n            }\n            const folderIcon = h(IconFolder, {\n              size: 20\n            });\n            return h(element, {\n              ...propsToForward,\n              class: crumbClass,\n              href: href || null,\n              to: to || null,\n              // Prevent the breadcrumbs from being draggable\n              draggable: false,\n              // Add the drag and drop handlers\n              onDragstart: this.dragStart,\n              onDrop: ($event) => this.dropped($event, path, disableDrop),\n              onDragover: this.dragOver,\n              onDragenter: ($event) => this.dragEnter($event, disableDrop),\n              onDragleave: ($event) => this.dragLeave($event, disableDrop)\n            }, {\n              default: () => name,\n              icon: () => folderIcon\n            });\n          })\n        })\n      );\n    }\n    const wrapper = [h(\"nav\", { \"aria-label\": this.ariaLabel }, [h(\"ul\", { class: \"breadcrumb__crumbs\" }, [crumbs])])];\n    if (isSlotPopulated(this.$slots.actions?.())) {\n      wrapper.push(h(\"div\", { class: \"breadcrumb__actions\", ref: \"breadcrumb__actions\" }, this.$slots.actions?.()));\n    }\n    this.breadcrumbsRefs = breadcrumbsRefs;\n    return h(\"div\", { class: [\"breadcrumb\", { \"breadcrumb--collapsed\": this.hiddenIndices.length === breadcrumbs.length - 2 }], ref: \"container\" }, wrapper);\n  }\n};\nconst NcBreadcrumbs = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-af2b1226\"]]);\nexport {\n  NcBreadcrumbs as N\n};\n//# sourceMappingURL=NcBreadcrumbs-PN5_hHQn.mjs.map\n","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\n\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar toStringTag = typeof Symbol !== 'undefined' ? Symbol.toStringTag : '@@toStringTag';\n\nvar _internals = /*#__PURE__*/new WeakMap();\n\nvar _promise = /*#__PURE__*/new WeakMap();\n\nclass CancelablePromiseInternal {\n  constructor(_ref) {\n    var {\n      executor = () => {},\n      internals = defaultInternals(),\n      promise = new Promise((resolve, reject) => executor(resolve, reject, onCancel => {\n        internals.onCancelList.push(onCancel);\n      }))\n    } = _ref;\n\n    _classPrivateFieldInitSpec(this, _internals, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldInitSpec(this, _promise, {\n      writable: true,\n      value: void 0\n    });\n\n    _defineProperty(this, toStringTag, 'CancelablePromise');\n\n    this.cancel = this.cancel.bind(this);\n\n    _classPrivateFieldSet(this, _internals, internals);\n\n    _classPrivateFieldSet(this, _promise, promise || new Promise((resolve, reject) => executor(resolve, reject, onCancel => {\n      internals.onCancelList.push(onCancel);\n    })));\n  }\n\n  then(onfulfilled, onrejected) {\n    return makeCancelable(_classPrivateFieldGet(this, _promise).then(createCallback(onfulfilled, _classPrivateFieldGet(this, _internals)), createCallback(onrejected, _classPrivateFieldGet(this, _internals))), _classPrivateFieldGet(this, _internals));\n  }\n\n  catch(onrejected) {\n    return makeCancelable(_classPrivateFieldGet(this, _promise).catch(createCallback(onrejected, _classPrivateFieldGet(this, _internals))), _classPrivateFieldGet(this, _internals));\n  }\n\n  finally(onfinally, runWhenCanceled) {\n    if (runWhenCanceled) {\n      _classPrivateFieldGet(this, _internals).onCancelList.push(onfinally);\n    }\n\n    return makeCancelable(_classPrivateFieldGet(this, _promise).finally(createCallback(() => {\n      if (onfinally) {\n        if (runWhenCanceled) {\n          _classPrivateFieldGet(this, _internals).onCancelList = _classPrivateFieldGet(this, _internals).onCancelList.filter(callback => callback !== onfinally);\n        }\n\n        return onfinally();\n      }\n    }, _classPrivateFieldGet(this, _internals))), _classPrivateFieldGet(this, _internals));\n  }\n\n  cancel() {\n    _classPrivateFieldGet(this, _internals).isCanceled = true;\n\n    var callbacks = _classPrivateFieldGet(this, _internals).onCancelList;\n\n    _classPrivateFieldGet(this, _internals).onCancelList = [];\n\n    for (var callback of callbacks) {\n      if (typeof callback === 'function') {\n        try {\n          callback();\n        } catch (err) {\n          console.error(err);\n        }\n      }\n    }\n  }\n\n  isCanceled() {\n    return _classPrivateFieldGet(this, _internals).isCanceled === true;\n  }\n\n}\n\nexport class CancelablePromise extends CancelablePromiseInternal {\n  constructor(executor) {\n    super({\n      executor\n    });\n  }\n\n}\n\n_defineProperty(CancelablePromise, \"all\", function all(iterable) {\n  return makeAllCancelable(iterable, Promise.all(iterable));\n});\n\n_defineProperty(CancelablePromise, \"allSettled\", function allSettled(iterable) {\n  return makeAllCancelable(iterable, Promise.allSettled(iterable));\n});\n\n_defineProperty(CancelablePromise, \"any\", function any(iterable) {\n  return makeAllCancelable(iterable, Promise.any(iterable));\n});\n\n_defineProperty(CancelablePromise, \"race\", function race(iterable) {\n  return makeAllCancelable(iterable, Promise.race(iterable));\n});\n\n_defineProperty(CancelablePromise, \"resolve\", function resolve(value) {\n  return cancelable(Promise.resolve(value));\n});\n\n_defineProperty(CancelablePromise, \"reject\", function reject(reason) {\n  return cancelable(Promise.reject(reason));\n});\n\n_defineProperty(CancelablePromise, \"isCancelable\", isCancelablePromise);\n\nexport default CancelablePromise;\nexport function cancelable(promise) {\n  return makeCancelable(promise, defaultInternals());\n}\nexport function isCancelablePromise(promise) {\n  return promise instanceof CancelablePromise || promise instanceof CancelablePromiseInternal;\n}\n\nfunction createCallback(onResult, internals) {\n  if (onResult) {\n    return arg => {\n      if (!internals.isCanceled) {\n        var result = onResult(arg);\n\n        if (isCancelablePromise(result)) {\n          internals.onCancelList.push(result.cancel);\n        }\n\n        return result;\n      }\n\n      return arg;\n    };\n  }\n}\n\nfunction makeCancelable(promise, internals) {\n  return new CancelablePromiseInternal({\n    internals,\n    promise\n  });\n}\n\nfunction makeAllCancelable(iterable, promise) {\n  var internals = defaultInternals();\n  internals.onCancelList.push(() => {\n    for (var resolvable of iterable) {\n      if (isCancelablePromise(resolvable)) {\n        resolvable.cancel();\n      }\n    }\n  });\n  return new CancelablePromiseInternal({\n    internals,\n    promise\n  });\n}\n\nfunction defaultInternals() {\n  return {\n    isCanceled: false,\n    onCancelList: []\n  };\n}\n//# sourceMappingURL=CancelablePromise.mjs.map","import { getCurrentUser, onRequestTokenUpdate, getRequestToken } from \"@nextcloud/auth\";\nimport { isPublicShare, getSharingToken } from \"@nextcloud/sharing/public\";\nimport { generateRemoteUrl } from \"@nextcloud/router\";\nimport { CancelablePromise } from \"cancelable-promise\";\nimport { createClient, getPatcher } from \"webdav\";\nimport { getLoggerBuilder } from \"@nextcloud/logger\";\nimport { join, encodePath, basename, extname, dirname } from \"@nextcloud/paths\";\nconst logger = getLoggerBuilder().setApp(\"@nextcloud/files\").detectUser().build();\nvar FileType = /* @__PURE__ */ ((FileType2) => {\n  FileType2[\"Folder\"] = \"folder\";\n  FileType2[\"File\"] = \"file\";\n  return FileType2;\n})(FileType || {});\nvar Permission = /* @__PURE__ */ ((Permission2) => {\n  Permission2[Permission2[\"NONE\"] = 0] = \"NONE\";\n  Permission2[Permission2[\"CREATE\"] = 4] = \"CREATE\";\n  Permission2[Permission2[\"READ\"] = 1] = \"READ\";\n  Permission2[Permission2[\"UPDATE\"] = 2] = \"UPDATE\";\n  Permission2[Permission2[\"DELETE\"] = 8] = \"DELETE\";\n  Permission2[Permission2[\"SHARE\"] = 16] = \"SHARE\";\n  Permission2[Permission2[\"ALL\"] = 31] = \"ALL\";\n  return Permission2;\n})(Permission || {});\nconst isDavResource = function(source, davService) {\n  return source.match(davService) !== null;\n};\nconst validateData = (data, davService) => {\n  if (data.id && typeof data.id !== \"number\") {\n    throw new Error(\"Invalid id type of value\");\n  }\n  if (!data.source) {\n    throw new Error(\"Missing mandatory source\");\n  }\n  try {\n    new URL(data.source);\n  } catch (e) {\n    throw new Error(\"Invalid source format, source must be a valid URL\");\n  }\n  if (!data.source.startsWith(\"http\")) {\n    throw new Error(\"Invalid source format, only http(s) is supported\");\n  }\n  if (data.displayname && typeof data.displayname !== \"string\") {\n    throw new Error(\"Invalid displayname type\");\n  }\n  if (data.mtime && !(data.mtime instanceof Date)) {\n    throw new Error(\"Invalid mtime type\");\n  }\n  if (data.crtime && !(data.crtime instanceof Date)) {\n    throw new Error(\"Invalid crtime type\");\n  }\n  if (!data.mime || typeof data.mime !== \"string\" || !data.mime.match(/^[-\\w.]+\\/[-+\\w.]+$/gi)) {\n    throw new Error(\"Missing or invalid mandatory mime\");\n  }\n  if (\"size\" in data && typeof data.size !== \"number\" && data.size !== void 0) {\n    throw new Error(\"Invalid size type\");\n  }\n  if (\"permissions\" in data && data.permissions !== void 0 && !(typeof data.permissions === \"number\" && data.permissions >= Permission.NONE && data.permissions <= Permission.ALL)) {\n    throw new Error(\"Invalid permissions\");\n  }\n  if (data.owner && data.owner !== null && typeof data.owner !== \"string\") {\n    throw new Error(\"Invalid owner type\");\n  }\n  if (data.attributes && typeof data.attributes !== \"object\") {\n    throw new Error(\"Invalid attributes type\");\n  }\n  if (data.root && typeof data.root !== \"string\") {\n    throw new Error(\"Invalid root type\");\n  }\n  if (data.root && !data.root.startsWith(\"/\")) {\n    throw new Error(\"Root must start with a leading slash\");\n  }\n  if (data.root && !data.source.includes(data.root)) {\n    throw new Error(\"Root must be part of the source\");\n  }\n  if (data.root && isDavResource(data.source, davService)) {\n    const service = data.source.match(davService)[0];\n    if (!data.source.includes(join(service, data.root))) {\n      throw new Error(\"The root must be relative to the service. e.g /files/emma\");\n    }\n  }\n  if (data.status && !Object.values(NodeStatus).includes(data.status)) {\n    throw new Error(\"Status must be a valid NodeStatus\");\n  }\n};\nvar NodeStatus = /* @__PURE__ */ ((NodeStatus2) => {\n  NodeStatus2[\"NEW\"] = \"new\";\n  NodeStatus2[\"FAILED\"] = \"failed\";\n  NodeStatus2[\"LOADING\"] = \"loading\";\n  NodeStatus2[\"LOCKED\"] = \"locked\";\n  return NodeStatus2;\n})(NodeStatus || {});\nclass Node {\n  _data;\n  _attributes;\n  _knownDavService = /(remote|public)\\.php\\/(web)?dav/i;\n  readonlyAttributes = Object.entries(Object.getOwnPropertyDescriptors(Node.prototype)).filter((e) => typeof e[1].get === \"function\" && e[0] !== \"__proto__\").map((e) => e[0]);\n  handler = {\n    set: (target, prop, value) => {\n      if (this.readonlyAttributes.includes(prop)) {\n        return false;\n      }\n      return Reflect.set(target, prop, value);\n    },\n    deleteProperty: (target, prop) => {\n      if (this.readonlyAttributes.includes(prop)) {\n        return false;\n      }\n      return Reflect.deleteProperty(target, prop);\n    },\n    // TODO: This is deprecated and only needed for files v3\n    get: (target, prop, receiver) => {\n      if (this.readonlyAttributes.includes(prop)) {\n        logger.warn(`Accessing \"Node.attributes.${prop}\" is deprecated, access it directly on the Node instance.`);\n        return Reflect.get(this, prop);\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  };\n  constructor(data, davService) {\n    if (!data.mime) {\n      data.mime = \"application/octet-stream\";\n    }\n    validateData(data, davService || this._knownDavService);\n    this._data = {\n      // TODO: Remove with next major release, this is just for compatibility\n      displayname: data.attributes?.displayname,\n      ...data,\n      attributes: {}\n    };\n    this._attributes = new Proxy(this._data.attributes, this.handler);\n    this.update(data.attributes ?? {});\n    if (davService) {\n      this._knownDavService = davService;\n    }\n  }\n  /**\n   * Get the source url to this object\n   * There is no setter as the source is not meant to be changed manually.\n   * You can use the rename or move method to change the source.\n   */\n  get source() {\n    return this._data.source.replace(/\\/$/i, \"\");\n  }\n  /**\n   * Get the encoded source url to this object for requests purposes\n   */\n  get encodedSource() {\n    const { origin } = new URL(this.source);\n    return origin + encodePath(this.source.slice(origin.length));\n  }\n  /**\n   * Get this object name\n   * There is no setter as the source is not meant to be changed manually.\n   * You can use the rename or move method to change the source.\n   */\n  get basename() {\n    return basename(this.source);\n  }\n  /**\n   * The nodes displayname\n   * By default the display name and the `basename` are identical,\n   * but it is possible to have a different name. This happens\n   * on the files app for example for shared folders.\n   */\n  get displayname() {\n    return this._data.displayname || this.basename;\n  }\n  /**\n   * Set the displayname\n   */\n  set displayname(displayname) {\n    validateData({ ...this._data, displayname }, this._knownDavService);\n    this._data.displayname = displayname;\n  }\n  /**\n   * Get this object's extension\n   * There is no setter as the source is not meant to be changed manually.\n   * You can use the rename or move method to change the source.\n   */\n  get extension() {\n    return extname(this.source);\n  }\n  /**\n   * Get the directory path leading to this object\n   * Will use the relative path to root if available\n   *\n   * There is no setter as the source is not meant to be changed manually.\n   * You can use the rename or move method to change the source.\n   */\n  get dirname() {\n    if (this.root) {\n      let source = this.source;\n      if (this.isDavResource) {\n        source = source.split(this._knownDavService).pop();\n      }\n      const firstMatch = source.indexOf(this.root);\n      const root = this.root.replace(/\\/$/, \"\");\n      return dirname(source.slice(firstMatch + root.length) || \"/\");\n    }\n    const url = new URL(this.source);\n    return dirname(url.pathname);\n  }\n  /**\n   * Get the file mime\n   */\n  get mime() {\n    return this._data.mime || \"application/octet-stream\";\n  }\n  /**\n   * Set the file mime\n   * Removing the mime type will set it to `application/octet-stream`\n   */\n  set mime(mime) {\n    mime ??= \"application/octet-stream\";\n    validateData({ ...this._data, mime }, this._knownDavService);\n    this._data.mime = mime;\n  }\n  /**\n   * Get the file modification time\n   */\n  get mtime() {\n    return this._data.mtime;\n  }\n  /**\n   * Set the file modification time\n   */\n  set mtime(mtime) {\n    validateData({ ...this._data, mtime }, this._knownDavService);\n    this._data.mtime = mtime;\n  }\n  /**\n   * Get the file creation time\n   * There is no setter as the creation time is not meant to be changed\n   */\n  get crtime() {\n    return this._data.crtime;\n  }\n  /**\n   * Get the file size\n   */\n  get size() {\n    return this._data.size;\n  }\n  /**\n   * Set the file size\n   */\n  set size(size) {\n    validateData({ ...this._data, size }, this._knownDavService);\n    this.updateMtime();\n    this._data.size = size;\n  }\n  /**\n   * Get the file attribute\n   * This contains all additional attributes not provided by the Node class\n   */\n  get attributes() {\n    return this._attributes;\n  }\n  /**\n   * Get the file permissions\n   */\n  get permissions() {\n    if (this.owner === null && !this.isDavResource) {\n      return Permission.READ;\n    }\n    return this._data.permissions !== void 0 ? this._data.permissions : Permission.NONE;\n  }\n  /**\n   * Set the file permissions\n   */\n  set permissions(permissions) {\n    validateData({ ...this._data, permissions }, this._knownDavService);\n    this.updateMtime();\n    this._data.permissions = permissions;\n  }\n  /**\n   * Get the file owner\n   * There is no setter as the owner is not meant to be changed\n   */\n  get owner() {\n    if (!this.isDavResource) {\n      return null;\n    }\n    return this._data.owner;\n  }\n  /**\n   * Is this a dav-related resource ?\n   */\n  get isDavResource() {\n    return isDavResource(this.source, this._knownDavService);\n  }\n  /**\n   * @deprecated use `isDavResource` instead - will be removed in next major version.\n   */\n  get isDavRessource() {\n    return this.isDavResource;\n  }\n  /**\n   * Get the dav root of this object\n   * There is no setter as the root is not meant to be changed\n   */\n  get root() {\n    if (this._data.root) {\n      return this._data.root.replace(/^(.+)\\/$/, \"$1\");\n    }\n    if (this.isDavResource) {\n      const root = dirname(this.source);\n      return root.split(this._knownDavService).pop() || null;\n    }\n    return null;\n  }\n  /**\n   * Get the absolute path of this object relative to the root\n   */\n  get path() {\n    if (this.root) {\n      let source = this.source;\n      if (this.isDavResource) {\n        source = source.split(this._knownDavService).pop();\n      }\n      const firstMatch = source.indexOf(this.root);\n      const root = this.root.replace(/\\/$/, \"\");\n      return source.slice(firstMatch + root.length) || \"/\";\n    }\n    return (this.dirname + \"/\" + this.basename).replace(/\\/\\//g, \"/\");\n  }\n  /**\n   * Get the node id if defined.\n   * There is no setter as the fileid is not meant to be changed\n   */\n  get fileid() {\n    return this._data?.id;\n  }\n  /**\n   * Get the node status.\n   */\n  get status() {\n    return this._data?.status;\n  }\n  /**\n   * Set the node status.\n   */\n  set status(status) {\n    validateData({ ...this._data, status }, this._knownDavService);\n    this._data.status = status;\n  }\n  /**\n   * Get the node data\n   */\n  get data() {\n    return structuredClone(this._data);\n  }\n  /**\n   * Move the node to a new destination\n   *\n   * @param {string} destination the new source.\n   * e.g. https://cloud.domain.com/remote.php/dav/files/emma/Photos/picture.jpg\n   */\n  move(destination) {\n    validateData({ ...this._data, source: destination }, this._knownDavService);\n    const oldBasename = this.basename;\n    this._data.source = destination;\n    if (this.displayname === oldBasename && this.basename !== oldBasename) {\n      this.displayname = this.basename;\n    }\n  }\n  /**\n   * Rename the node\n   * This aliases the move method for easier usage\n   *\n   * @param basename The new name of the node\n   */\n  rename(basename2) {\n    if (basename2.includes(\"/\")) {\n      throw new Error(\"Invalid basename\");\n    }\n    this.move(dirname(this.source) + \"/\" + basename2);\n  }\n  /**\n   * Update the mtime if exists\n   */\n  updateMtime() {\n    if (this._data.mtime) {\n      this._data.mtime = /* @__PURE__ */ new Date();\n    }\n  }\n  /**\n   * Update the attributes of the node\n   * Warning, updating attributes will NOT automatically update the mtime.\n   *\n   * @param attributes The new attributes to update on the Node attributes\n   */\n  update(attributes) {\n    for (const [name, value] of Object.entries(attributes)) {\n      try {\n        if (value === void 0) {\n          delete this.attributes[name];\n        } else {\n          this.attributes[name] = value;\n        }\n      } catch (e) {\n        if (e instanceof TypeError) {\n          continue;\n        }\n        throw e;\n      }\n    }\n  }\n}\nclass File extends Node {\n  get type() {\n    return FileType.File;\n  }\n  /**\n   * Returns a clone of the file\n   */\n  clone() {\n    return new File(this.data);\n  }\n}\nclass Folder extends Node {\n  constructor(data) {\n    super({\n      ...data,\n      mime: \"httpd/unix-directory\"\n    });\n  }\n  get type() {\n    return FileType.Folder;\n  }\n  get extension() {\n    return null;\n  }\n  get mime() {\n    return \"httpd/unix-directory\";\n  }\n  /**\n   * Returns a clone of the folder\n   */\n  clone() {\n    return new Folder(this.data);\n  }\n}\nconst parsePermissions = function(permString = \"\") {\n  let permissions = Permission.NONE;\n  if (!permString) {\n    return permissions;\n  }\n  if (permString.includes(\"C\") || permString.includes(\"K\")) {\n    permissions |= Permission.CREATE;\n  }\n  if (permString.includes(\"G\")) {\n    permissions |= Permission.READ;\n  }\n  if (permString.includes(\"W\") || permString.includes(\"N\") || permString.includes(\"V\")) {\n    permissions |= Permission.UPDATE;\n  }\n  if (permString.includes(\"D\")) {\n    permissions |= Permission.DELETE;\n  }\n  if (permString.includes(\"R\")) {\n    permissions |= Permission.SHARE;\n  }\n  return permissions;\n};\nconst defaultDavProperties = [\n  \"d:getcontentlength\",\n  \"d:getcontenttype\",\n  \"d:getetag\",\n  \"d:getlastmodified\",\n  \"d:creationdate\",\n  \"d:displayname\",\n  \"d:quota-available-bytes\",\n  \"d:resourcetype\",\n  \"nc:has-preview\",\n  \"nc:is-encrypted\",\n  \"nc:mount-type\",\n  \"oc:comments-unread\",\n  \"oc:favorite\",\n  \"oc:fileid\",\n  \"oc:owner-display-name\",\n  \"oc:owner-id\",\n  \"oc:permissions\",\n  \"oc:size\"\n];\nconst defaultDavNamespaces = {\n  d: \"DAV:\",\n  nc: \"http://nextcloud.org/ns\",\n  oc: \"http://owncloud.org/ns\",\n  ocs: \"http://open-collaboration-services.org/ns\"\n};\nconst registerDavProperty = function(prop, namespace = { nc: \"http://nextcloud.org/ns\" }) {\n  if (typeof window._nc_dav_properties === \"undefined\") {\n    window._nc_dav_properties = [...defaultDavProperties];\n    window._nc_dav_namespaces = { ...defaultDavNamespaces };\n  }\n  const namespaces = { ...window._nc_dav_namespaces, ...namespace };\n  if (window._nc_dav_properties.find((search) => search === prop)) {\n    logger.warn(`${prop} already registered`, { prop });\n    return false;\n  }\n  if (prop.startsWith(\"<\") || prop.split(\":\").length !== 2) {\n    logger.error(`${prop} is not valid. See example: 'oc:fileid'`, { prop });\n    return false;\n  }\n  const ns = prop.split(\":\")[0];\n  if (!namespaces[ns]) {\n    logger.error(`${prop} namespace unknown`, { prop, namespaces });\n    return false;\n  }\n  window._nc_dav_properties.push(prop);\n  window._nc_dav_namespaces = namespaces;\n  return true;\n};\nconst getDavProperties = function() {\n  if (typeof window._nc_dav_properties === \"undefined\") {\n    window._nc_dav_properties = [...defaultDavProperties];\n  }\n  return window._nc_dav_properties.map((prop) => `<${prop} />`).join(\" \");\n};\nconst getDavNameSpaces = function() {\n  if (typeof window._nc_dav_namespaces === \"undefined\") {\n    window._nc_dav_namespaces = { ...defaultDavNamespaces };\n  }\n  return Object.keys(window._nc_dav_namespaces).map((ns) => `xmlns:${ns}=\"${window._nc_dav_namespaces?.[ns]}\"`).join(\" \");\n};\nconst getDefaultPropfind = function() {\n  return `<?xml version=\"1.0\"?>\n\t\t<d:propfind ${getDavNameSpaces()}>\n\t\t\t<d:prop>\n\t\t\t\t${getDavProperties()}\n\t\t\t</d:prop>\n\t\t</d:propfind>`;\n};\nconst getFavoritesReport = function() {\n  return `<?xml version=\"1.0\"?>\n\t\t<oc:filter-files ${getDavNameSpaces()}>\n\t\t\t<d:prop>\n\t\t\t\t${getDavProperties()}\n\t\t\t</d:prop>\n\t\t\t<oc:filter-rules>\n\t\t\t\t<oc:favorite>1</oc:favorite>\n\t\t\t</oc:filter-rules>\n\t\t</oc:filter-files>`;\n};\nconst getRecentSearch = function(lastModified) {\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<d:searchrequest ${getDavNameSpaces()}\n\txmlns:ns=\"https://github.com/icewind1991/SearchDAV/ns\">\n\t<d:basicsearch>\n\t\t<d:select>\n\t\t\t<d:prop>\n\t\t\t\t${getDavProperties()}\n\t\t\t</d:prop>\n\t\t</d:select>\n\t\t<d:from>\n\t\t\t<d:scope>\n\t\t\t\t<d:href>/files/${getCurrentUser()?.uid}/</d:href>\n\t\t\t\t<d:depth>infinity</d:depth>\n\t\t\t</d:scope>\n\t\t</d:from>\n\t\t<d:where>\n\t\t\t<d:and>\n\t\t\t\t<d:or>\n\t\t\t\t\t<d:not>\n\t\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t\t<d:getcontenttype/>\n\t\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t\t<d:literal>httpd/unix-directory</d:literal>\n\t\t\t\t\t\t</d:eq>\n\t\t\t\t\t</d:not>\n\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t<oc:size/>\n\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t<d:literal>0</d:literal>\n\t\t\t\t\t</d:eq>\n\t\t\t\t</d:or>\n\t\t\t\t<d:gt>\n\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t\t</d:prop>\n\t\t\t\t\t<d:literal>${lastModified}</d:literal>\n\t\t\t\t</d:gt>\n\t\t\t</d:and>\n\t\t</d:where>\n\t\t<d:orderby>\n\t\t\t<d:order>\n\t\t\t\t<d:prop>\n\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t</d:prop>\n\t\t\t\t<d:descending/>\n\t\t\t</d:order>\n\t\t</d:orderby>\n\t\t<d:limit>\n\t\t\t<d:nresults>100</d:nresults>\n\t\t\t<ns:firstresult>0</ns:firstresult>\n\t\t</d:limit>\n\t</d:basicsearch>\n</d:searchrequest>`;\n};\nfunction getRootPath() {\n  if (isPublicShare()) {\n    return `/files/${getSharingToken()}`;\n  }\n  return `/files/${getCurrentUser()?.uid}`;\n}\nconst defaultRootPath = getRootPath();\nfunction getRemoteURL() {\n  const url = generateRemoteUrl(\"dav\");\n  if (isPublicShare()) {\n    return url.replace(\"remote.php\", \"public.php\");\n  }\n  return url;\n}\nconst defaultRemoteURL = getRemoteURL();\nconst getClient = function(remoteURL = defaultRemoteURL, headers = {}) {\n  const client = createClient(remoteURL, { headers });\n  function setHeaders(token) {\n    client.setHeaders({\n      ...headers,\n      // Add this so the server knows it is an request from the browser\n      \"X-Requested-With\": \"XMLHttpRequest\",\n      // Inject user auth\n      requesttoken: token ?? \"\"\n    });\n  }\n  onRequestTokenUpdate(setHeaders);\n  setHeaders(getRequestToken());\n  const patcher = getPatcher();\n  patcher.patch(\"fetch\", (url, options) => {\n    const headers2 = options.headers;\n    if (headers2?.method) {\n      options.method = headers2.method;\n      delete headers2.method;\n    }\n    return fetch(url, options);\n  });\n  return client;\n};\nconst getFavoriteNodes = (davClient, path = \"/\", davRoot = defaultRootPath) => {\n  const controller = new AbortController();\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const contentsResponse = await davClient.getDirectoryContents(`${davRoot}${path}`, {\n        signal: controller.signal,\n        details: true,\n        data: getFavoritesReport(),\n        headers: {\n          // see getClient for patched webdav client\n          method: \"REPORT\"\n        },\n        includeSelf: true\n      });\n      const nodes = contentsResponse.data.filter((node) => node.filename !== path).map((result) => resultToNode(result, davRoot));\n      resolve(nodes);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\nconst resultToNode = function(node, filesRoot = defaultRootPath, remoteURL = defaultRemoteURL) {\n  let userId = getCurrentUser()?.uid;\n  if (isPublicShare()) {\n    userId = userId ?? \"anonymous\";\n  } else if (!userId) {\n    throw new Error(\"No user id found\");\n  }\n  const props = node.props;\n  const permissions = parsePermissions(props?.permissions);\n  const owner = String(props?.[\"owner-id\"] || userId);\n  const id = props.fileid || 0;\n  const mtime = new Date(Date.parse(node.lastmod));\n  const crtime = new Date(Date.parse(props.creationdate));\n  const nodeData = {\n    id,\n    source: `${remoteURL}${node.filename}`,\n    mtime: !isNaN(mtime.getTime()) && mtime.getTime() !== 0 ? mtime : void 0,\n    crtime: !isNaN(crtime.getTime()) && crtime.getTime() !== 0 ? crtime : void 0,\n    mime: node.mime || \"application/octet-stream\",\n    // Manually cast to work around for https://github.com/perry-mitchell/webdav-client/pull/380\n    displayname: props.displayname !== void 0 ? String(props.displayname) : void 0,\n    size: props?.size || Number.parseInt(props.getcontentlength || \"0\"),\n    // The fileid is set to -1 for failed requests\n    status: id < 0 ? NodeStatus.FAILED : void 0,\n    permissions,\n    owner,\n    root: filesRoot,\n    attributes: {\n      ...node,\n      ...props,\n      hasPreview: props?.[\"has-preview\"]\n    }\n  };\n  delete nodeData.attributes?.props;\n  return node.type === \"file\" ? new File(nodeData) : new Folder(nodeData);\n};\nexport {\n  FileType as F,\n  Node as N,\n  Permission as P,\n  getRemoteURL as a,\n  defaultRemoteURL as b,\n  getClient as c,\n  defaultRootPath as d,\n  getFavoriteNodes as e,\n  defaultDavProperties as f,\n  getRootPath as g,\n  defaultDavNamespaces as h,\n  registerDavProperty as i,\n  getDavProperties as j,\n  getDavNameSpaces as k,\n  getDefaultPropfind as l,\n  getFavoritesReport as m,\n  getRecentSearch as n,\n  logger as o,\n  parsePermissions as p,\n  File as q,\n  resultToNode as r,\n  Folder as s,\n  NodeStatus as t\n};\n//# sourceMappingURL=dav-Rt1kTtvI.mjs.map\n","import { o as logger, F as FileType } from \"./chunks/dav-Rt1kTtvI.mjs\";\nimport { q, s, N, t, P, c, l, m, n, a, g, p, b, r, d, h, f, k, j, e, i } from \"./chunks/dav-Rt1kTtvI.mjs\";\nimport { TypedEventTarget } from \"typescript-event-target\";\nimport require$$1 from \"string_decoder\";\nimport { getCapabilities } from \"@nextcloud/capabilities\";\nimport { extname, basename } from \"@nextcloud/paths\";\nimport { getCanonicalLocale, getLanguage } from \"@nextcloud/l10n\";\nvar DefaultType = /* @__PURE__ */ ((DefaultType2) => {\n  DefaultType2[\"DEFAULT\"] = \"default\";\n  DefaultType2[\"HIDDEN\"] = \"hidden\";\n  return DefaultType2;\n})(DefaultType || {});\nclass FileAction {\n  _action;\n  constructor(action) {\n    this.validateAction(action);\n    this._action = action;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get title() {\n    return this._action.title;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  get execBatch() {\n    return this._action.execBatch;\n  }\n  get hotkey() {\n    return this._action.hotkey;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get parent() {\n    return this._action.parent;\n  }\n  get default() {\n    return this._action.default;\n  }\n  get destructive() {\n    return this._action.destructive;\n  }\n  get inline() {\n    return this._action.inline;\n  }\n  get renderInline() {\n    return this._action.renderInline;\n  }\n  validateAction(action) {\n    if (!action.id || typeof action.id !== \"string\") {\n      throw new Error(\"Invalid id\");\n    }\n    if (!action.displayName || typeof action.displayName !== \"function\") {\n      throw new Error(\"Invalid displayName function\");\n    }\n    if (\"title\" in action && typeof action.title !== \"function\") {\n      throw new Error(\"Invalid title function\");\n    }\n    if (!action.iconSvgInline || typeof action.iconSvgInline !== \"function\") {\n      throw new Error(\"Invalid iconSvgInline function\");\n    }\n    if (!action.exec || typeof action.exec !== \"function\") {\n      throw new Error(\"Invalid exec function\");\n    }\n    if (\"enabled\" in action && typeof action.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled function\");\n    }\n    if (\"execBatch\" in action && typeof action.execBatch !== \"function\") {\n      throw new Error(\"Invalid execBatch function\");\n    }\n    if (\"order\" in action && typeof action.order !== \"number\") {\n      throw new Error(\"Invalid order\");\n    }\n    if (action.destructive !== void 0 && typeof action.destructive !== \"boolean\") {\n      throw new Error(\"Invalid destructive flag\");\n    }\n    if (\"parent\" in action && typeof action.parent !== \"string\") {\n      throw new Error(\"Invalid parent\");\n    }\n    if (action.default && !Object.values(DefaultType).includes(action.default)) {\n      throw new Error(\"Invalid default\");\n    }\n    if (\"inline\" in action && typeof action.inline !== \"function\") {\n      throw new Error(\"Invalid inline function\");\n    }\n    if (\"renderInline\" in action && typeof action.renderInline !== \"function\") {\n      throw new Error(\"Invalid renderInline function\");\n    }\n    if (\"hotkey\" in action && action.hotkey !== void 0) {\n      if (typeof action.hotkey !== \"object\") {\n        throw new Error(\"Invalid hotkey configuration\");\n      }\n      if (typeof action.hotkey.key !== \"string\" || !action.hotkey.key) {\n        throw new Error(\"Missing or invalid hotkey key\");\n      }\n      if (typeof action.hotkey.description !== \"string\" || !action.hotkey.description) {\n        throw new Error(\"Missing or invalid hotkey description\");\n      }\n    }\n  }\n}\nconst registerFileAction = function(action) {\n  if (typeof window._nc_fileactions === \"undefined\") {\n    window._nc_fileactions = [];\n    logger.debug(\"FileActions initialized\");\n  }\n  if (window._nc_fileactions.find((search) => search.id === action.id)) {\n    logger.error(`FileAction ${action.id} already registered`, { action });\n    return;\n  }\n  window._nc_fileactions.push(action);\n};\nconst getFileActions = function() {\n  if (typeof window._nc_fileactions === \"undefined\") {\n    window._nc_fileactions = [];\n    logger.debug(\"FileActions initialized\");\n  }\n  return window._nc_fileactions;\n};\nclass FileListAction {\n  _action;\n  constructor(action) {\n    this.validateAction(action);\n    this._action = action;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  validateAction(action) {\n    if (!action.id || typeof action.id !== \"string\") {\n      throw new Error(\"Invalid id\");\n    }\n    if (!action.displayName || typeof action.displayName !== \"function\") {\n      throw new Error(\"Invalid displayName function\");\n    }\n    if (\"iconSvgInline\" in action && typeof action.iconSvgInline !== \"function\") {\n      throw new Error(\"Invalid iconSvgInline function\");\n    }\n    if (\"order\" in action && typeof action.order !== \"number\") {\n      throw new Error(\"Invalid order\");\n    }\n    if (\"enabled\" in action && typeof action.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled function\");\n    }\n    if (!action.exec || typeof action.exec !== \"function\") {\n      throw new Error(\"Invalid exec function\");\n    }\n  }\n}\nconst registerFileListAction = (action) => {\n  if (typeof window._nc_filelistactions === \"undefined\") {\n    window._nc_filelistactions = [];\n  }\n  if (window._nc_filelistactions.find((listAction) => listAction.id === action.id)) {\n    logger.error(`FileListAction with id \"${action.id}\" is already registered`, { action });\n    return;\n  }\n  window._nc_filelistactions.push(action);\n};\nconst getFileListActions = () => {\n  if (typeof window._nc_filelistactions === \"undefined\") {\n    window._nc_filelistactions = [];\n  }\n  return window._nc_filelistactions;\n};\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nvar debug_1;\nvar hasRequiredDebug;\nfunction requireDebug() {\n  if (hasRequiredDebug) return debug_1;\n  hasRequiredDebug = 1;\n  const debug = typeof process === \"object\" && process.env && process.env.NODE_DEBUG && /\\bsemver\\b/i.test(process.env.NODE_DEBUG) ? (...args) => console.error(\"SEMVER\", ...args) : () => {\n  };\n  debug_1 = debug;\n  return debug_1;\n}\nvar constants;\nvar hasRequiredConstants;\nfunction requireConstants() {\n  if (hasRequiredConstants) return constants;\n  hasRequiredConstants = 1;\n  const SEMVER_SPEC_VERSION = \"2.0.0\";\n  const MAX_LENGTH = 256;\n  const MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || /* istanbul ignore next */\n  9007199254740991;\n  const MAX_SAFE_COMPONENT_LENGTH = 16;\n  const MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6;\n  const RELEASE_TYPES = [\n    \"major\",\n    \"premajor\",\n    \"minor\",\n    \"preminor\",\n    \"patch\",\n    \"prepatch\",\n    \"prerelease\"\n  ];\n  constants = {\n    MAX_LENGTH,\n    MAX_SAFE_COMPONENT_LENGTH,\n    MAX_SAFE_BUILD_LENGTH,\n    MAX_SAFE_INTEGER,\n    RELEASE_TYPES,\n    SEMVER_SPEC_VERSION,\n    FLAG_INCLUDE_PRERELEASE: 1,\n    FLAG_LOOSE: 2\n  };\n  return constants;\n}\nvar re = { exports: {} };\nvar hasRequiredRe;\nfunction requireRe() {\n  if (hasRequiredRe) return re.exports;\n  hasRequiredRe = 1;\n  (function(module, exports) {\n    const {\n      MAX_SAFE_COMPONENT_LENGTH,\n      MAX_SAFE_BUILD_LENGTH,\n      MAX_LENGTH\n    } = requireConstants();\n    const debug = requireDebug();\n    exports = module.exports = {};\n    const re2 = exports.re = [];\n    const safeRe = exports.safeRe = [];\n    const src = exports.src = [];\n    const safeSrc = exports.safeSrc = [];\n    const t2 = exports.t = {};\n    let R = 0;\n    const LETTERDASHNUMBER = \"[a-zA-Z0-9-]\";\n    const safeRegexReplacements = [\n      [\"\\\\s\", 1],\n      [\"\\\\d\", MAX_LENGTH],\n      [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH]\n    ];\n    const makeSafeRegex = (value) => {\n      for (const [token, max] of safeRegexReplacements) {\n        value = value.split(`${token}*`).join(`${token}{0,${max}}`).split(`${token}+`).join(`${token}{1,${max}}`);\n      }\n      return value;\n    };\n    const createToken = (name, value, isGlobal) => {\n      const safe = makeSafeRegex(value);\n      const index = R++;\n      debug(name, index, value);\n      t2[name] = index;\n      src[index] = value;\n      safeSrc[index] = safe;\n      re2[index] = new RegExp(value, isGlobal ? \"g\" : void 0);\n      safeRe[index] = new RegExp(safe, isGlobal ? \"g\" : void 0);\n    };\n    createToken(\"NUMERICIDENTIFIER\", \"0|[1-9]\\\\d*\");\n    createToken(\"NUMERICIDENTIFIERLOOSE\", \"\\\\d+\");\n    createToken(\"NONNUMERICIDENTIFIER\", `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`);\n    createToken(\"MAINVERSION\", `(${src[t2.NUMERICIDENTIFIER]})\\\\.(${src[t2.NUMERICIDENTIFIER]})\\\\.(${src[t2.NUMERICIDENTIFIER]})`);\n    createToken(\"MAINVERSIONLOOSE\", `(${src[t2.NUMERICIDENTIFIERLOOSE]})\\\\.(${src[t2.NUMERICIDENTIFIERLOOSE]})\\\\.(${src[t2.NUMERICIDENTIFIERLOOSE]})`);\n    createToken(\"PRERELEASEIDENTIFIER\", `(?:${src[t2.NONNUMERICIDENTIFIER]}|${src[t2.NUMERICIDENTIFIER]})`);\n    createToken(\"PRERELEASEIDENTIFIERLOOSE\", `(?:${src[t2.NONNUMERICIDENTIFIER]}|${src[t2.NUMERICIDENTIFIERLOOSE]})`);\n    createToken(\"PRERELEASE\", `(?:-(${src[t2.PRERELEASEIDENTIFIER]}(?:\\\\.${src[t2.PRERELEASEIDENTIFIER]})*))`);\n    createToken(\"PRERELEASELOOSE\", `(?:-?(${src[t2.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${src[t2.PRERELEASEIDENTIFIERLOOSE]})*))`);\n    createToken(\"BUILDIDENTIFIER\", `${LETTERDASHNUMBER}+`);\n    createToken(\"BUILD\", `(?:\\\\+(${src[t2.BUILDIDENTIFIER]}(?:\\\\.${src[t2.BUILDIDENTIFIER]})*))`);\n    createToken(\"FULLPLAIN\", `v?${src[t2.MAINVERSION]}${src[t2.PRERELEASE]}?${src[t2.BUILD]}?`);\n    createToken(\"FULL\", `^${src[t2.FULLPLAIN]}$`);\n    createToken(\"LOOSEPLAIN\", `[v=\\\\s]*${src[t2.MAINVERSIONLOOSE]}${src[t2.PRERELEASELOOSE]}?${src[t2.BUILD]}?`);\n    createToken(\"LOOSE\", `^${src[t2.LOOSEPLAIN]}$`);\n    createToken(\"GTLT\", \"((?:<|>)?=?)\");\n    createToken(\"XRANGEIDENTIFIERLOOSE\", `${src[t2.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`);\n    createToken(\"XRANGEIDENTIFIER\", `${src[t2.NUMERICIDENTIFIER]}|x|X|\\\\*`);\n    createToken(\"XRANGEPLAIN\", `[v=\\\\s]*(${src[t2.XRANGEIDENTIFIER]})(?:\\\\.(${src[t2.XRANGEIDENTIFIER]})(?:\\\\.(${src[t2.XRANGEIDENTIFIER]})(?:${src[t2.PRERELEASE]})?${src[t2.BUILD]}?)?)?`);\n    createToken(\"XRANGEPLAINLOOSE\", `[v=\\\\s]*(${src[t2.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${src[t2.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${src[t2.XRANGEIDENTIFIERLOOSE]})(?:${src[t2.PRERELEASELOOSE]})?${src[t2.BUILD]}?)?)?`);\n    createToken(\"XRANGE\", `^${src[t2.GTLT]}\\\\s*${src[t2.XRANGEPLAIN]}$`);\n    createToken(\"XRANGELOOSE\", `^${src[t2.GTLT]}\\\\s*${src[t2.XRANGEPLAINLOOSE]}$`);\n    createToken(\"COERCEPLAIN\", `${\"(^|[^\\\\d])(\\\\d{1,\"}${MAX_SAFE_COMPONENT_LENGTH}})(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`);\n    createToken(\"COERCE\", `${src[t2.COERCEPLAIN]}(?:$|[^\\\\d])`);\n    createToken(\"COERCEFULL\", src[t2.COERCEPLAIN] + `(?:${src[t2.PRERELEASE]})?(?:${src[t2.BUILD]})?(?:$|[^\\\\d])`);\n    createToken(\"COERCERTL\", src[t2.COERCE], true);\n    createToken(\"COERCERTLFULL\", src[t2.COERCEFULL], true);\n    createToken(\"LONETILDE\", \"(?:~>?)\");\n    createToken(\"TILDETRIM\", `(\\\\s*)${src[t2.LONETILDE]}\\\\s+`, true);\n    exports.tildeTrimReplace = \"$1~\";\n    createToken(\"TILDE\", `^${src[t2.LONETILDE]}${src[t2.XRANGEPLAIN]}$`);\n    createToken(\"TILDELOOSE\", `^${src[t2.LONETILDE]}${src[t2.XRANGEPLAINLOOSE]}$`);\n    createToken(\"LONECARET\", \"(?:\\\\^)\");\n    createToken(\"CARETTRIM\", `(\\\\s*)${src[t2.LONECARET]}\\\\s+`, true);\n    exports.caretTrimReplace = \"$1^\";\n    createToken(\"CARET\", `^${src[t2.LONECARET]}${src[t2.XRANGEPLAIN]}$`);\n    createToken(\"CARETLOOSE\", `^${src[t2.LONECARET]}${src[t2.XRANGEPLAINLOOSE]}$`);\n    createToken(\"COMPARATORLOOSE\", `^${src[t2.GTLT]}\\\\s*(${src[t2.LOOSEPLAIN]})$|^$`);\n    createToken(\"COMPARATOR\", `^${src[t2.GTLT]}\\\\s*(${src[t2.FULLPLAIN]})$|^$`);\n    createToken(\"COMPARATORTRIM\", `(\\\\s*)${src[t2.GTLT]}\\\\s*(${src[t2.LOOSEPLAIN]}|${src[t2.XRANGEPLAIN]})`, true);\n    exports.comparatorTrimReplace = \"$1$2$3\";\n    createToken(\"HYPHENRANGE\", `^\\\\s*(${src[t2.XRANGEPLAIN]})\\\\s+-\\\\s+(${src[t2.XRANGEPLAIN]})\\\\s*$`);\n    createToken(\"HYPHENRANGELOOSE\", `^\\\\s*(${src[t2.XRANGEPLAINLOOSE]})\\\\s+-\\\\s+(${src[t2.XRANGEPLAINLOOSE]})\\\\s*$`);\n    createToken(\"STAR\", \"(<|>)?=?\\\\s*\\\\*\");\n    createToken(\"GTE0\", \"^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$\");\n    createToken(\"GTE0PRE\", \"^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$\");\n  })(re, re.exports);\n  return re.exports;\n}\nvar parseOptions_1;\nvar hasRequiredParseOptions;\nfunction requireParseOptions() {\n  if (hasRequiredParseOptions) return parseOptions_1;\n  hasRequiredParseOptions = 1;\n  const looseOption = Object.freeze({ loose: true });\n  const emptyOpts = Object.freeze({});\n  const parseOptions = (options) => {\n    if (!options) {\n      return emptyOpts;\n    }\n    if (typeof options !== \"object\") {\n      return looseOption;\n    }\n    return options;\n  };\n  parseOptions_1 = parseOptions;\n  return parseOptions_1;\n}\nvar identifiers;\nvar hasRequiredIdentifiers;\nfunction requireIdentifiers() {\n  if (hasRequiredIdentifiers) return identifiers;\n  hasRequiredIdentifiers = 1;\n  const numeric = /^[0-9]+$/;\n  const compareIdentifiers = (a2, b2) => {\n    if (typeof a2 === \"number\" && typeof b2 === \"number\") {\n      return a2 === b2 ? 0 : a2 < b2 ? -1 : 1;\n    }\n    const anum = numeric.test(a2);\n    const bnum = numeric.test(b2);\n    if (anum && bnum) {\n      a2 = +a2;\n      b2 = +b2;\n    }\n    return a2 === b2 ? 0 : anum && !bnum ? -1 : bnum && !anum ? 1 : a2 < b2 ? -1 : 1;\n  };\n  const rcompareIdentifiers = (a2, b2) => compareIdentifiers(b2, a2);\n  identifiers = {\n    compareIdentifiers,\n    rcompareIdentifiers\n  };\n  return identifiers;\n}\nvar semver;\nvar hasRequiredSemver;\nfunction requireSemver() {\n  if (hasRequiredSemver) return semver;\n  hasRequiredSemver = 1;\n  const debug = requireDebug();\n  const { MAX_LENGTH, MAX_SAFE_INTEGER } = requireConstants();\n  const { safeRe: re2, t: t2 } = requireRe();\n  const parseOptions = requireParseOptions();\n  const { compareIdentifiers } = requireIdentifiers();\n  class SemVer {\n    constructor(version, options) {\n      options = parseOptions(options);\n      if (version instanceof SemVer) {\n        if (version.loose === !!options.loose && version.includePrerelease === !!options.includePrerelease) {\n          return version;\n        } else {\n          version = version.version;\n        }\n      } else if (typeof version !== \"string\") {\n        throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`);\n      }\n      if (version.length > MAX_LENGTH) {\n        throw new TypeError(\n          `version is longer than ${MAX_LENGTH} characters`\n        );\n      }\n      debug(\"SemVer\", version, options);\n      this.options = options;\n      this.loose = !!options.loose;\n      this.includePrerelease = !!options.includePrerelease;\n      const m2 = version.trim().match(options.loose ? re2[t2.LOOSE] : re2[t2.FULL]);\n      if (!m2) {\n        throw new TypeError(`Invalid Version: ${version}`);\n      }\n      this.raw = version;\n      this.major = +m2[1];\n      this.minor = +m2[2];\n      this.patch = +m2[3];\n      if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n        throw new TypeError(\"Invalid major version\");\n      }\n      if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n        throw new TypeError(\"Invalid minor version\");\n      }\n      if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n        throw new TypeError(\"Invalid patch version\");\n      }\n      if (!m2[4]) {\n        this.prerelease = [];\n      } else {\n        this.prerelease = m2[4].split(\".\").map((id) => {\n          if (/^[0-9]+$/.test(id)) {\n            const num = +id;\n            if (num >= 0 && num < MAX_SAFE_INTEGER) {\n              return num;\n            }\n          }\n          return id;\n        });\n      }\n      this.build = m2[5] ? m2[5].split(\".\") : [];\n      this.format();\n    }\n    format() {\n      this.version = `${this.major}.${this.minor}.${this.patch}`;\n      if (this.prerelease.length) {\n        this.version += `-${this.prerelease.join(\".\")}`;\n      }\n      return this.version;\n    }\n    toString() {\n      return this.version;\n    }\n    compare(other) {\n      debug(\"SemVer.compare\", this.version, this.options, other);\n      if (!(other instanceof SemVer)) {\n        if (typeof other === \"string\" && other === this.version) {\n          return 0;\n        }\n        other = new SemVer(other, this.options);\n      }\n      if (other.version === this.version) {\n        return 0;\n      }\n      return this.compareMain(other) || this.comparePre(other);\n    }\n    compareMain(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      if (this.major < other.major) {\n        return -1;\n      }\n      if (this.major > other.major) {\n        return 1;\n      }\n      if (this.minor < other.minor) {\n        return -1;\n      }\n      if (this.minor > other.minor) {\n        return 1;\n      }\n      if (this.patch < other.patch) {\n        return -1;\n      }\n      if (this.patch > other.patch) {\n        return 1;\n      }\n      return 0;\n    }\n    comparePre(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      if (this.prerelease.length && !other.prerelease.length) {\n        return -1;\n      } else if (!this.prerelease.length && other.prerelease.length) {\n        return 1;\n      } else if (!this.prerelease.length && !other.prerelease.length) {\n        return 0;\n      }\n      let i2 = 0;\n      do {\n        const a2 = this.prerelease[i2];\n        const b2 = other.prerelease[i2];\n        debug(\"prerelease compare\", i2, a2, b2);\n        if (a2 === void 0 && b2 === void 0) {\n          return 0;\n        } else if (b2 === void 0) {\n          return 1;\n        } else if (a2 === void 0) {\n          return -1;\n        } else if (a2 === b2) {\n          continue;\n        } else {\n          return compareIdentifiers(a2, b2);\n        }\n      } while (++i2);\n    }\n    compareBuild(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      let i2 = 0;\n      do {\n        const a2 = this.build[i2];\n        const b2 = other.build[i2];\n        debug(\"build compare\", i2, a2, b2);\n        if (a2 === void 0 && b2 === void 0) {\n          return 0;\n        } else if (b2 === void 0) {\n          return 1;\n        } else if (a2 === void 0) {\n          return -1;\n        } else if (a2 === b2) {\n          continue;\n        } else {\n          return compareIdentifiers(a2, b2);\n        }\n      } while (++i2);\n    }\n    // preminor will bump the version up to the next minor release, and immediately\n    // down to pre-release. premajor and prepatch work the same way.\n    inc(release, identifier, identifierBase) {\n      if (release.startsWith(\"pre\")) {\n        if (!identifier && identifierBase === false) {\n          throw new Error(\"invalid increment argument: identifier is empty\");\n        }\n        if (identifier) {\n          const match = `-${identifier}`.match(this.options.loose ? re2[t2.PRERELEASELOOSE] : re2[t2.PRERELEASE]);\n          if (!match || match[1] !== identifier) {\n            throw new Error(`invalid identifier: ${identifier}`);\n          }\n        }\n      }\n      switch (release) {\n        case \"premajor\":\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor = 0;\n          this.major++;\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"preminor\":\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor++;\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"prepatch\":\n          this.prerelease.length = 0;\n          this.inc(\"patch\", identifier, identifierBase);\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        // If the input is a non-prerelease version, this acts the same as\n        // prepatch.\n        case \"prerelease\":\n          if (this.prerelease.length === 0) {\n            this.inc(\"patch\", identifier, identifierBase);\n          }\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"release\":\n          if (this.prerelease.length === 0) {\n            throw new Error(`version ${this.raw} is not a prerelease`);\n          }\n          this.prerelease.length = 0;\n          break;\n        case \"major\":\n          if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0) {\n            this.major++;\n          }\n          this.minor = 0;\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n        case \"minor\":\n          if (this.patch !== 0 || this.prerelease.length === 0) {\n            this.minor++;\n          }\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n        case \"patch\":\n          if (this.prerelease.length === 0) {\n            this.patch++;\n          }\n          this.prerelease = [];\n          break;\n        // This probably shouldn't be used publicly.\n        // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n        case \"pre\": {\n          const base = Number(identifierBase) ? 1 : 0;\n          if (this.prerelease.length === 0) {\n            this.prerelease = [base];\n          } else {\n            let i2 = this.prerelease.length;\n            while (--i2 >= 0) {\n              if (typeof this.prerelease[i2] === \"number\") {\n                this.prerelease[i2]++;\n                i2 = -2;\n              }\n            }\n            if (i2 === -1) {\n              if (identifier === this.prerelease.join(\".\") && identifierBase === false) {\n                throw new Error(\"invalid increment argument: identifier already exists\");\n              }\n              this.prerelease.push(base);\n            }\n          }\n          if (identifier) {\n            let prerelease = [identifier, base];\n            if (identifierBase === false) {\n              prerelease = [identifier];\n            }\n            if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n              if (isNaN(this.prerelease[1])) {\n                this.prerelease = prerelease;\n              }\n            } else {\n              this.prerelease = prerelease;\n            }\n          }\n          break;\n        }\n        default:\n          throw new Error(`invalid increment argument: ${release}`);\n      }\n      this.raw = this.format();\n      if (this.build.length) {\n        this.raw += `+${this.build.join(\".\")}`;\n      }\n      return this;\n    }\n  }\n  semver = SemVer;\n  return semver;\n}\nvar major_1;\nvar hasRequiredMajor;\nfunction requireMajor() {\n  if (hasRequiredMajor) return major_1;\n  hasRequiredMajor = 1;\n  const SemVer = requireSemver();\n  const major2 = (a2, loose) => new SemVer(a2, loose).major;\n  major_1 = major2;\n  return major_1;\n}\nvar majorExports = requireMajor();\nconst major = /* @__PURE__ */ getDefaultExportFromCjs(majorExports);\nvar parse_1;\nvar hasRequiredParse;\nfunction requireParse() {\n  if (hasRequiredParse) return parse_1;\n  hasRequiredParse = 1;\n  const SemVer = requireSemver();\n  const parse = (version, options, throwErrors = false) => {\n    if (version instanceof SemVer) {\n      return version;\n    }\n    try {\n      return new SemVer(version, options);\n    } catch (er) {\n      if (!throwErrors) {\n        return null;\n      }\n      throw er;\n    }\n  };\n  parse_1 = parse;\n  return parse_1;\n}\nvar valid_1;\nvar hasRequiredValid;\nfunction requireValid() {\n  if (hasRequiredValid) return valid_1;\n  hasRequiredValid = 1;\n  const parse = requireParse();\n  const valid2 = (version, options) => {\n    const v = parse(version, options);\n    return v ? v.version : null;\n  };\n  valid_1 = valid2;\n  return valid_1;\n}\nvar validExports = requireValid();\nconst valid = /* @__PURE__ */ getDefaultExportFromCjs(validExports);\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nclass ProxyBus {\n  bus;\n  constructor(bus2) {\n    if (typeof bus2.getVersion !== \"function\" || !valid(bus2.getVersion())) {\n      console.warn(\"Proxying an event bus with an unknown or invalid version\");\n    } else if (major(bus2.getVersion()) !== major(this.getVersion())) {\n      console.warn(\n        \"Proxying an event bus of version \" + bus2.getVersion() + \" with \" + this.getVersion()\n      );\n    }\n    this.bus = bus2;\n  }\n  getVersion() {\n    return \"3.3.3\";\n  }\n  subscribe(name, handler) {\n    this.bus.subscribe(name, handler);\n  }\n  unsubscribe(name, handler) {\n    this.bus.unsubscribe(name, handler);\n  }\n  emit(name, ...event) {\n    this.bus.emit(name, ...event);\n  }\n}\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nclass SimpleBus {\n  handlers = /* @__PURE__ */ new Map();\n  getVersion() {\n    return \"3.3.3\";\n  }\n  subscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).concat(\n        handler\n      )\n    );\n  }\n  unsubscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).filter((h2) => h2 !== handler)\n    );\n  }\n  emit(name, ...event) {\n    const handlers = this.handlers.get(name) || [];\n    handlers.forEach((h2) => {\n      try {\n        ;\n        h2(event[0]);\n      } catch (e2) {\n        console.error(\"could not invoke event listener\", e2);\n      }\n    });\n  }\n}\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nlet bus = null;\nfunction getBus() {\n  if (bus !== null) {\n    return bus;\n  }\n  if (typeof window === \"undefined\") {\n    return new Proxy({}, {\n      get: () => {\n        return () => console.error(\n          \"Window not available, EventBus can not be established!\"\n        );\n      }\n    });\n  }\n  if (window.OC?._eventBus && typeof window._nc_event_bus === \"undefined\") {\n    console.warn(\n      \"found old event bus instance at OC._eventBus. Update your version!\"\n    );\n    window._nc_event_bus = window.OC._eventBus;\n  }\n  if (typeof window?._nc_event_bus !== \"undefined\") {\n    bus = new ProxyBus(window._nc_event_bus);\n  } else {\n    bus = window._nc_event_bus = new SimpleBus();\n  }\n  return bus;\n}\nfunction emit(name, ...event) {\n  getBus().emit(name, ...event);\n}\n/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nclass FileListFilter extends TypedEventTarget {\n  id;\n  order;\n  constructor(id, order = 100) {\n    super();\n    this.id = id;\n    this.order = order;\n  }\n  filter(nodes) {\n    throw new Error(\"Not implemented\");\n  }\n  updateChips(chips) {\n    this.dispatchTypedEvent(\"update:chips\", new CustomEvent(\"update:chips\", { detail: chips }));\n  }\n  filterUpdated() {\n    this.dispatchTypedEvent(\"update:filter\", new CustomEvent(\"update:filter\"));\n  }\n}\nfunction registerFileListFilter(filter) {\n  if (!window._nc_filelist_filters) {\n    window._nc_filelist_filters = /* @__PURE__ */ new Map();\n  }\n  if (window._nc_filelist_filters.has(filter.id)) {\n    throw new Error(`File list filter \"${filter.id}\" already registered`);\n  }\n  window._nc_filelist_filters.set(filter.id, filter);\n  emit(\"files:filter:added\", filter);\n}\nfunction unregisterFileListFilter(filterId) {\n  if (window._nc_filelist_filters && window._nc_filelist_filters.has(filterId)) {\n    window._nc_filelist_filters.delete(filterId);\n    emit(\"files:filter:removed\", filterId);\n  }\n}\nfunction getFileListFilters() {\n  if (!window._nc_filelist_filters) {\n    return [];\n  }\n  return [...window._nc_filelist_filters.values()];\n}\nclass Header {\n  _header;\n  constructor(header) {\n    this.validateHeader(header);\n    this._header = header;\n  }\n  get id() {\n    return this._header.id;\n  }\n  get order() {\n    return this._header.order;\n  }\n  get enabled() {\n    return this._header.enabled;\n  }\n  get render() {\n    return this._header.render;\n  }\n  get updated() {\n    return this._header.updated;\n  }\n  validateHeader(header) {\n    if (!header.id || !header.render || !header.updated) {\n      throw new Error(\"Invalid header: id, render and updated are required\");\n    }\n    if (typeof header.id !== \"string\") {\n      throw new Error(\"Invalid id property\");\n    }\n    if (header.enabled !== void 0 && typeof header.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled property\");\n    }\n    if (header.render && typeof header.render !== \"function\") {\n      throw new Error(\"Invalid render property\");\n    }\n    if (header.updated && typeof header.updated !== \"function\") {\n      throw new Error(\"Invalid updated property\");\n    }\n  }\n}\nconst registerFileListHeaders = function(header) {\n  if (typeof window._nc_filelistheader === \"undefined\") {\n    window._nc_filelistheader = [];\n    logger.debug(\"FileListHeaders initialized\");\n  }\n  if (window._nc_filelistheader.find((search) => search.id === header.id)) {\n    logger.error(`Header ${header.id} already registered`, { header });\n    return;\n  }\n  window._nc_filelistheader.push(header);\n};\nconst getFileListHeaders = function() {\n  if (typeof window._nc_filelistheader === \"undefined\") {\n    window._nc_filelistheader = [];\n    logger.debug(\"FileListHeaders initialized\");\n  }\n  return window._nc_filelistheader;\n};\nclass Navigation extends TypedEventTarget {\n  _views = [];\n  _currentView = null;\n  /**\n   * Register a new view on the navigation\n   * @param view The view to register\n   * @throws `Error` is thrown if a view with the same id is already registered\n   */\n  register(view) {\n    if (this._views.find((search) => search.id === view.id)) {\n      throw new Error(`View id ${view.id} is already registered`);\n    }\n    this._views.push(view);\n    this.dispatchTypedEvent(\"update\", new CustomEvent(\"update\"));\n  }\n  /**\n   * Remove a registered view\n   * @param id The id of the view to remove\n   */\n  remove(id) {\n    const index = this._views.findIndex((view) => view.id === id);\n    if (index !== -1) {\n      this._views.splice(index, 1);\n      this.dispatchTypedEvent(\"update\", new CustomEvent(\"update\"));\n    }\n  }\n  /**\n   * Set the currently active view\n   * @fires UpdateActiveViewEvent\n   * @param view New active view\n   */\n  setActive(view) {\n    this._currentView = view;\n    const event = new CustomEvent(\"updateActive\", { detail: view });\n    this.dispatchTypedEvent(\"updateActive\", event);\n  }\n  /**\n   * The currently active files view\n   */\n  get active() {\n    return this._currentView;\n  }\n  /**\n   * All registered views\n   */\n  get views() {\n    return this._views;\n  }\n}\nconst getNavigation = function() {\n  if (typeof window._nc_navigation === \"undefined\") {\n    window._nc_navigation = new Navigation();\n    logger.debug(\"Navigation service initialized\");\n  }\n  return window._nc_navigation;\n};\nclass Column {\n  _column;\n  constructor(column) {\n    isValidColumn(column);\n    this._column = column;\n  }\n  get id() {\n    return this._column.id;\n  }\n  get title() {\n    return this._column.title;\n  }\n  get render() {\n    return this._column.render;\n  }\n  get sort() {\n    return this._column.sort;\n  }\n  get summary() {\n    return this._column.summary;\n  }\n}\nconst isValidColumn = function(column) {\n  if (!column.id || typeof column.id !== \"string\") {\n    throw new Error(\"A column id is required\");\n  }\n  if (!column.title || typeof column.title !== \"string\") {\n    throw new Error(\"A column title is required\");\n  }\n  if (!column.render || typeof column.render !== \"function\") {\n    throw new Error(\"A render function is required\");\n  }\n  if (column.sort && typeof column.sort !== \"function\") {\n    throw new Error(\"Column sortFunction must be a function\");\n  }\n  if (column.summary && typeof column.summary !== \"function\") {\n    throw new Error(\"Column summary must be a function\");\n  }\n  return true;\n};\nvar sax$1 = {};\nvar hasRequiredSax;\nfunction requireSax() {\n  if (hasRequiredSax) return sax$1;\n  hasRequiredSax = 1;\n  (function(exports) {\n    (function(sax2) {\n      sax2.parser = function(strict, opt) {\n        return new SAXParser(strict, opt);\n      };\n      sax2.SAXParser = SAXParser;\n      sax2.SAXStream = SAXStream;\n      sax2.createStream = createStream;\n      sax2.MAX_BUFFER_LENGTH = 64 * 1024;\n      var buffers = [\n        \"comment\",\n        \"sgmlDecl\",\n        \"textNode\",\n        \"tagName\",\n        \"doctype\",\n        \"procInstName\",\n        \"procInstBody\",\n        \"entity\",\n        \"attribName\",\n        \"attribValue\",\n        \"cdata\",\n        \"script\"\n      ];\n      sax2.EVENTS = [\n        \"text\",\n        \"processinginstruction\",\n        \"sgmldeclaration\",\n        \"doctype\",\n        \"comment\",\n        \"opentagstart\",\n        \"attribute\",\n        \"opentag\",\n        \"closetag\",\n        \"opencdata\",\n        \"cdata\",\n        \"closecdata\",\n        \"error\",\n        \"end\",\n        \"ready\",\n        \"script\",\n        \"opennamespace\",\n        \"closenamespace\"\n      ];\n      function SAXParser(strict, opt) {\n        if (!(this instanceof SAXParser)) {\n          return new SAXParser(strict, opt);\n        }\n        var parser = this;\n        clearBuffers(parser);\n        parser.q = parser.c = \"\";\n        parser.bufferCheckPosition = sax2.MAX_BUFFER_LENGTH;\n        parser.opt = opt || {};\n        parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags;\n        parser.looseCase = parser.opt.lowercase ? \"toLowerCase\" : \"toUpperCase\";\n        parser.tags = [];\n        parser.closed = parser.closedRoot = parser.sawRoot = false;\n        parser.tag = parser.error = null;\n        parser.strict = !!strict;\n        parser.noscript = !!(strict || parser.opt.noscript);\n        parser.state = S.BEGIN;\n        parser.strictEntities = parser.opt.strictEntities;\n        parser.ENTITIES = parser.strictEntities ? Object.create(sax2.XML_ENTITIES) : Object.create(sax2.ENTITIES);\n        parser.attribList = [];\n        if (parser.opt.xmlns) {\n          parser.ns = Object.create(rootNS);\n        }\n        if (parser.opt.unquotedAttributeValues === void 0) {\n          parser.opt.unquotedAttributeValues = !strict;\n        }\n        parser.trackPosition = parser.opt.position !== false;\n        if (parser.trackPosition) {\n          parser.position = parser.line = parser.column = 0;\n        }\n        emit2(parser, \"onready\");\n      }\n      if (!Object.create) {\n        Object.create = function(o) {\n          function F() {\n          }\n          F.prototype = o;\n          var newf = new F();\n          return newf;\n        };\n      }\n      if (!Object.keys) {\n        Object.keys = function(o) {\n          var a2 = [];\n          for (var i2 in o) if (o.hasOwnProperty(i2)) a2.push(i2);\n          return a2;\n        };\n      }\n      function checkBufferLength(parser) {\n        var maxAllowed = Math.max(sax2.MAX_BUFFER_LENGTH, 10);\n        var maxActual = 0;\n        for (var i2 = 0, l2 = buffers.length; i2 < l2; i2++) {\n          var len = parser[buffers[i2]].length;\n          if (len > maxAllowed) {\n            switch (buffers[i2]) {\n              case \"textNode\":\n                closeText(parser);\n                break;\n              case \"cdata\":\n                emitNode(parser, \"oncdata\", parser.cdata);\n                parser.cdata = \"\";\n                break;\n              case \"script\":\n                emitNode(parser, \"onscript\", parser.script);\n                parser.script = \"\";\n                break;\n              default:\n                error(parser, \"Max buffer length exceeded: \" + buffers[i2]);\n            }\n          }\n          maxActual = Math.max(maxActual, len);\n        }\n        var m2 = sax2.MAX_BUFFER_LENGTH - maxActual;\n        parser.bufferCheckPosition = m2 + parser.position;\n      }\n      function clearBuffers(parser) {\n        for (var i2 = 0, l2 = buffers.length; i2 < l2; i2++) {\n          parser[buffers[i2]] = \"\";\n        }\n      }\n      function flushBuffers(parser) {\n        closeText(parser);\n        if (parser.cdata !== \"\") {\n          emitNode(parser, \"oncdata\", parser.cdata);\n          parser.cdata = \"\";\n        }\n        if (parser.script !== \"\") {\n          emitNode(parser, \"onscript\", parser.script);\n          parser.script = \"\";\n        }\n      }\n      SAXParser.prototype = {\n        end: function() {\n          end(this);\n        },\n        write,\n        resume: function() {\n          this.error = null;\n          return this;\n        },\n        close: function() {\n          return this.write(null);\n        },\n        flush: function() {\n          flushBuffers(this);\n        }\n      };\n      var Stream;\n      try {\n        Stream = require(\"stream\").Stream;\n      } catch (ex) {\n        Stream = function() {\n        };\n      }\n      if (!Stream) Stream = function() {\n      };\n      var streamWraps = sax2.EVENTS.filter(function(ev) {\n        return ev !== \"error\" && ev !== \"end\";\n      });\n      function createStream(strict, opt) {\n        return new SAXStream(strict, opt);\n      }\n      function SAXStream(strict, opt) {\n        if (!(this instanceof SAXStream)) {\n          return new SAXStream(strict, opt);\n        }\n        Stream.apply(this);\n        this._parser = new SAXParser(strict, opt);\n        this.writable = true;\n        this.readable = true;\n        var me = this;\n        this._parser.onend = function() {\n          me.emit(\"end\");\n        };\n        this._parser.onerror = function(er) {\n          me.emit(\"error\", er);\n          me._parser.error = null;\n        };\n        this._decoder = null;\n        streamWraps.forEach(function(ev) {\n          Object.defineProperty(me, \"on\" + ev, {\n            get: function() {\n              return me._parser[\"on\" + ev];\n            },\n            set: function(h2) {\n              if (!h2) {\n                me.removeAllListeners(ev);\n                me._parser[\"on\" + ev] = h2;\n                return h2;\n              }\n              me.on(ev, h2);\n            },\n            enumerable: true,\n            configurable: false\n          });\n        });\n      }\n      SAXStream.prototype = Object.create(Stream.prototype, {\n        constructor: {\n          value: SAXStream\n        }\n      });\n      SAXStream.prototype.write = function(data) {\n        if (typeof Buffer === \"function\" && typeof Buffer.isBuffer === \"function\" && Buffer.isBuffer(data)) {\n          if (!this._decoder) {\n            var SD = require$$1.StringDecoder;\n            this._decoder = new SD(\"utf8\");\n          }\n          data = this._decoder.write(data);\n        }\n        this._parser.write(data.toString());\n        this.emit(\"data\", data);\n        return true;\n      };\n      SAXStream.prototype.end = function(chunk) {\n        if (chunk && chunk.length) {\n          this.write(chunk);\n        }\n        this._parser.end();\n        return true;\n      };\n      SAXStream.prototype.on = function(ev, handler) {\n        var me = this;\n        if (!me._parser[\"on\" + ev] && streamWraps.indexOf(ev) !== -1) {\n          me._parser[\"on\" + ev] = function() {\n            var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments);\n            args.splice(0, 0, ev);\n            me.emit.apply(me, args);\n          };\n        }\n        return Stream.prototype.on.call(me, ev, handler);\n      };\n      var CDATA = \"[CDATA[\";\n      var DOCTYPE = \"DOCTYPE\";\n      var XML_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\";\n      var XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\";\n      var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE };\n      var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/;\n      var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/;\n      var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/;\n      var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/;\n      function isWhitespace(c2) {\n        return c2 === \" \" || c2 === \"\\n\" || c2 === \"\\r\" || c2 === \"\t\";\n      }\n      function isQuote(c2) {\n        return c2 === '\"' || c2 === \"'\";\n      }\n      function isAttribEnd(c2) {\n        return c2 === \">\" || isWhitespace(c2);\n      }\n      function isMatch(regex, c2) {\n        return regex.test(c2);\n      }\n      function notMatch(regex, c2) {\n        return !isMatch(regex, c2);\n      }\n      var S = 0;\n      sax2.STATE = {\n        BEGIN: S++,\n        // leading byte order mark or whitespace\n        BEGIN_WHITESPACE: S++,\n        // leading whitespace\n        TEXT: S++,\n        // general stuff\n        TEXT_ENTITY: S++,\n        // &amp and such.\n        OPEN_WAKA: S++,\n        // <\n        SGML_DECL: S++,\n        // <!BLARG\n        SGML_DECL_QUOTED: S++,\n        // <!BLARG foo \"bar\n        DOCTYPE: S++,\n        // <!DOCTYPE\n        DOCTYPE_QUOTED: S++,\n        // <!DOCTYPE \"//blah\n        DOCTYPE_DTD: S++,\n        // <!DOCTYPE \"//blah\" [ ...\n        DOCTYPE_DTD_QUOTED: S++,\n        // <!DOCTYPE \"//blah\" [ \"foo\n        COMMENT_STARTING: S++,\n        // <!-\n        COMMENT: S++,\n        // <!--\n        COMMENT_ENDING: S++,\n        // <!-- blah -\n        COMMENT_ENDED: S++,\n        // <!-- blah --\n        CDATA: S++,\n        // <![CDATA[ something\n        CDATA_ENDING: S++,\n        // ]\n        CDATA_ENDING_2: S++,\n        // ]]\n        PROC_INST: S++,\n        // <?hi\n        PROC_INST_BODY: S++,\n        // <?hi there\n        PROC_INST_ENDING: S++,\n        // <?hi \"there\" ?\n        OPEN_TAG: S++,\n        // <strong\n        OPEN_TAG_SLASH: S++,\n        // <strong /\n        ATTRIB: S++,\n        // <a\n        ATTRIB_NAME: S++,\n        // <a foo\n        ATTRIB_NAME_SAW_WHITE: S++,\n        // <a foo _\n        ATTRIB_VALUE: S++,\n        // <a foo=\n        ATTRIB_VALUE_QUOTED: S++,\n        // <a foo=\"bar\n        ATTRIB_VALUE_CLOSED: S++,\n        // <a foo=\"bar\"\n        ATTRIB_VALUE_UNQUOTED: S++,\n        // <a foo=bar\n        ATTRIB_VALUE_ENTITY_Q: S++,\n        // <foo bar=\"&quot;\"\n        ATTRIB_VALUE_ENTITY_U: S++,\n        // <foo bar=&quot\n        CLOSE_TAG: S++,\n        // </a\n        CLOSE_TAG_SAW_WHITE: S++,\n        // </a   >\n        SCRIPT: S++,\n        // <script> ...\n        SCRIPT_ENDING: S++\n        // <script> ... <\n      };\n      sax2.XML_ENTITIES = {\n        \"amp\": \"&\",\n        \"gt\": \">\",\n        \"lt\": \"<\",\n        \"quot\": '\"',\n        \"apos\": \"'\"\n      };\n      sax2.ENTITIES = {\n        \"amp\": \"&\",\n        \"gt\": \">\",\n        \"lt\": \"<\",\n        \"quot\": '\"',\n        \"apos\": \"'\",\n        \"AElig\": 198,\n        \"Aacute\": 193,\n        \"Acirc\": 194,\n        \"Agrave\": 192,\n        \"Aring\": 197,\n        \"Atilde\": 195,\n        \"Auml\": 196,\n        \"Ccedil\": 199,\n        \"ETH\": 208,\n        \"Eacute\": 201,\n        \"Ecirc\": 202,\n        \"Egrave\": 200,\n        \"Euml\": 203,\n        \"Iacute\": 205,\n        \"Icirc\": 206,\n        \"Igrave\": 204,\n        \"Iuml\": 207,\n        \"Ntilde\": 209,\n        \"Oacute\": 211,\n        \"Ocirc\": 212,\n        \"Ograve\": 210,\n        \"Oslash\": 216,\n        \"Otilde\": 213,\n        \"Ouml\": 214,\n        \"THORN\": 222,\n        \"Uacute\": 218,\n        \"Ucirc\": 219,\n        \"Ugrave\": 217,\n        \"Uuml\": 220,\n        \"Yacute\": 221,\n        \"aacute\": 225,\n        \"acirc\": 226,\n        \"aelig\": 230,\n        \"agrave\": 224,\n        \"aring\": 229,\n        \"atilde\": 227,\n        \"auml\": 228,\n        \"ccedil\": 231,\n        \"eacute\": 233,\n        \"ecirc\": 234,\n        \"egrave\": 232,\n        \"eth\": 240,\n        \"euml\": 235,\n        \"iacute\": 237,\n        \"icirc\": 238,\n        \"igrave\": 236,\n        \"iuml\": 239,\n        \"ntilde\": 241,\n        \"oacute\": 243,\n        \"ocirc\": 244,\n        \"ograve\": 242,\n        \"oslash\": 248,\n        \"otilde\": 245,\n        \"ouml\": 246,\n        \"szlig\": 223,\n        \"thorn\": 254,\n        \"uacute\": 250,\n        \"ucirc\": 251,\n        \"ugrave\": 249,\n        \"uuml\": 252,\n        \"yacute\": 253,\n        \"yuml\": 255,\n        \"copy\": 169,\n        \"reg\": 174,\n        \"nbsp\": 160,\n        \"iexcl\": 161,\n        \"cent\": 162,\n        \"pound\": 163,\n        \"curren\": 164,\n        \"yen\": 165,\n        \"brvbar\": 166,\n        \"sect\": 167,\n        \"uml\": 168,\n        \"ordf\": 170,\n        \"laquo\": 171,\n        \"not\": 172,\n        \"shy\": 173,\n        \"macr\": 175,\n        \"deg\": 176,\n        \"plusmn\": 177,\n        \"sup1\": 185,\n        \"sup2\": 178,\n        \"sup3\": 179,\n        \"acute\": 180,\n        \"micro\": 181,\n        \"para\": 182,\n        \"middot\": 183,\n        \"cedil\": 184,\n        \"ordm\": 186,\n        \"raquo\": 187,\n        \"frac14\": 188,\n        \"frac12\": 189,\n        \"frac34\": 190,\n        \"iquest\": 191,\n        \"times\": 215,\n        \"divide\": 247,\n        \"OElig\": 338,\n        \"oelig\": 339,\n        \"Scaron\": 352,\n        \"scaron\": 353,\n        \"Yuml\": 376,\n        \"fnof\": 402,\n        \"circ\": 710,\n        \"tilde\": 732,\n        \"Alpha\": 913,\n        \"Beta\": 914,\n        \"Gamma\": 915,\n        \"Delta\": 916,\n        \"Epsilon\": 917,\n        \"Zeta\": 918,\n        \"Eta\": 919,\n        \"Theta\": 920,\n        \"Iota\": 921,\n        \"Kappa\": 922,\n        \"Lambda\": 923,\n        \"Mu\": 924,\n        \"Nu\": 925,\n        \"Xi\": 926,\n        \"Omicron\": 927,\n        \"Pi\": 928,\n        \"Rho\": 929,\n        \"Sigma\": 931,\n        \"Tau\": 932,\n        \"Upsilon\": 933,\n        \"Phi\": 934,\n        \"Chi\": 935,\n        \"Psi\": 936,\n        \"Omega\": 937,\n        \"alpha\": 945,\n        \"beta\": 946,\n        \"gamma\": 947,\n        \"delta\": 948,\n        \"epsilon\": 949,\n        \"zeta\": 950,\n        \"eta\": 951,\n        \"theta\": 952,\n        \"iota\": 953,\n        \"kappa\": 954,\n        \"lambda\": 955,\n        \"mu\": 956,\n        \"nu\": 957,\n        \"xi\": 958,\n        \"omicron\": 959,\n        \"pi\": 960,\n        \"rho\": 961,\n        \"sigmaf\": 962,\n        \"sigma\": 963,\n        \"tau\": 964,\n        \"upsilon\": 965,\n        \"phi\": 966,\n        \"chi\": 967,\n        \"psi\": 968,\n        \"omega\": 969,\n        \"thetasym\": 977,\n        \"upsih\": 978,\n        \"piv\": 982,\n        \"ensp\": 8194,\n        \"emsp\": 8195,\n        \"thinsp\": 8201,\n        \"zwnj\": 8204,\n        \"zwj\": 8205,\n        \"lrm\": 8206,\n        \"rlm\": 8207,\n        \"ndash\": 8211,\n        \"mdash\": 8212,\n        \"lsquo\": 8216,\n        \"rsquo\": 8217,\n        \"sbquo\": 8218,\n        \"ldquo\": 8220,\n        \"rdquo\": 8221,\n        \"bdquo\": 8222,\n        \"dagger\": 8224,\n        \"Dagger\": 8225,\n        \"bull\": 8226,\n        \"hellip\": 8230,\n        \"permil\": 8240,\n        \"prime\": 8242,\n        \"Prime\": 8243,\n        \"lsaquo\": 8249,\n        \"rsaquo\": 8250,\n        \"oline\": 8254,\n        \"frasl\": 8260,\n        \"euro\": 8364,\n        \"image\": 8465,\n        \"weierp\": 8472,\n        \"real\": 8476,\n        \"trade\": 8482,\n        \"alefsym\": 8501,\n        \"larr\": 8592,\n        \"uarr\": 8593,\n        \"rarr\": 8594,\n        \"darr\": 8595,\n        \"harr\": 8596,\n        \"crarr\": 8629,\n        \"lArr\": 8656,\n        \"uArr\": 8657,\n        \"rArr\": 8658,\n        \"dArr\": 8659,\n        \"hArr\": 8660,\n        \"forall\": 8704,\n        \"part\": 8706,\n        \"exist\": 8707,\n        \"empty\": 8709,\n        \"nabla\": 8711,\n        \"isin\": 8712,\n        \"notin\": 8713,\n        \"ni\": 8715,\n        \"prod\": 8719,\n        \"sum\": 8721,\n        \"minus\": 8722,\n        \"lowast\": 8727,\n        \"radic\": 8730,\n        \"prop\": 8733,\n        \"infin\": 8734,\n        \"ang\": 8736,\n        \"and\": 8743,\n        \"or\": 8744,\n        \"cap\": 8745,\n        \"cup\": 8746,\n        \"int\": 8747,\n        \"there4\": 8756,\n        \"sim\": 8764,\n        \"cong\": 8773,\n        \"asymp\": 8776,\n        \"ne\": 8800,\n        \"equiv\": 8801,\n        \"le\": 8804,\n        \"ge\": 8805,\n        \"sub\": 8834,\n        \"sup\": 8835,\n        \"nsub\": 8836,\n        \"sube\": 8838,\n        \"supe\": 8839,\n        \"oplus\": 8853,\n        \"otimes\": 8855,\n        \"perp\": 8869,\n        \"sdot\": 8901,\n        \"lceil\": 8968,\n        \"rceil\": 8969,\n        \"lfloor\": 8970,\n        \"rfloor\": 8971,\n        \"lang\": 9001,\n        \"rang\": 9002,\n        \"loz\": 9674,\n        \"spades\": 9824,\n        \"clubs\": 9827,\n        \"hearts\": 9829,\n        \"diams\": 9830\n      };\n      Object.keys(sax2.ENTITIES).forEach(function(key) {\n        var e2 = sax2.ENTITIES[key];\n        var s3 = typeof e2 === \"number\" ? String.fromCharCode(e2) : e2;\n        sax2.ENTITIES[key] = s3;\n      });\n      for (var s2 in sax2.STATE) {\n        sax2.STATE[sax2.STATE[s2]] = s2;\n      }\n      S = sax2.STATE;\n      function emit2(parser, event, data) {\n        parser[event] && parser[event](data);\n      }\n      function emitNode(parser, nodeType, data) {\n        if (parser.textNode) closeText(parser);\n        emit2(parser, nodeType, data);\n      }\n      function closeText(parser) {\n        parser.textNode = textopts(parser.opt, parser.textNode);\n        if (parser.textNode) emit2(parser, \"ontext\", parser.textNode);\n        parser.textNode = \"\";\n      }\n      function textopts(opt, text) {\n        if (opt.trim) text = text.trim();\n        if (opt.normalize) text = text.replace(/\\s+/g, \" \");\n        return text;\n      }\n      function error(parser, er) {\n        closeText(parser);\n        if (parser.trackPosition) {\n          er += \"\\nLine: \" + parser.line + \"\\nColumn: \" + parser.column + \"\\nChar: \" + parser.c;\n        }\n        er = new Error(er);\n        parser.error = er;\n        emit2(parser, \"onerror\", er);\n        return parser;\n      }\n      function end(parser) {\n        if (parser.sawRoot && !parser.closedRoot) strictFail(parser, \"Unclosed root tag\");\n        if (parser.state !== S.BEGIN && parser.state !== S.BEGIN_WHITESPACE && parser.state !== S.TEXT) {\n          error(parser, \"Unexpected end\");\n        }\n        closeText(parser);\n        parser.c = \"\";\n        parser.closed = true;\n        emit2(parser, \"onend\");\n        SAXParser.call(parser, parser.strict, parser.opt);\n        return parser;\n      }\n      function strictFail(parser, message) {\n        if (typeof parser !== \"object\" || !(parser instanceof SAXParser)) {\n          throw new Error(\"bad call to strictFail\");\n        }\n        if (parser.strict) {\n          error(parser, message);\n        }\n      }\n      function newTag(parser) {\n        if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]();\n        var parent = parser.tags[parser.tags.length - 1] || parser;\n        var tag = parser.tag = { name: parser.tagName, attributes: {} };\n        if (parser.opt.xmlns) {\n          tag.ns = parent.ns;\n        }\n        parser.attribList.length = 0;\n        emitNode(parser, \"onopentagstart\", tag);\n      }\n      function qname(name, attribute) {\n        var i2 = name.indexOf(\":\");\n        var qualName = i2 < 0 ? [\"\", name] : name.split(\":\");\n        var prefix = qualName[0];\n        var local = qualName[1];\n        if (attribute && name === \"xmlns\") {\n          prefix = \"xmlns\";\n          local = \"\";\n        }\n        return { prefix, local };\n      }\n      function attrib(parser) {\n        if (!parser.strict) {\n          parser.attribName = parser.attribName[parser.looseCase]();\n        }\n        if (parser.attribList.indexOf(parser.attribName) !== -1 || parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n          parser.attribName = parser.attribValue = \"\";\n          return;\n        }\n        if (parser.opt.xmlns) {\n          var qn = qname(parser.attribName, true);\n          var prefix = qn.prefix;\n          var local = qn.local;\n          if (prefix === \"xmlns\") {\n            if (local === \"xml\" && parser.attribValue !== XML_NAMESPACE) {\n              strictFail(\n                parser,\n                \"xml: prefix must be bound to \" + XML_NAMESPACE + \"\\nActual: \" + parser.attribValue\n              );\n            } else if (local === \"xmlns\" && parser.attribValue !== XMLNS_NAMESPACE) {\n              strictFail(\n                parser,\n                \"xmlns: prefix must be bound to \" + XMLNS_NAMESPACE + \"\\nActual: \" + parser.attribValue\n              );\n            } else {\n              var tag = parser.tag;\n              var parent = parser.tags[parser.tags.length - 1] || parser;\n              if (tag.ns === parent.ns) {\n                tag.ns = Object.create(parent.ns);\n              }\n              tag.ns[local] = parser.attribValue;\n            }\n          }\n          parser.attribList.push([parser.attribName, parser.attribValue]);\n        } else {\n          parser.tag.attributes[parser.attribName] = parser.attribValue;\n          emitNode(parser, \"onattribute\", {\n            name: parser.attribName,\n            value: parser.attribValue\n          });\n        }\n        parser.attribName = parser.attribValue = \"\";\n      }\n      function openTag(parser, selfClosing) {\n        if (parser.opt.xmlns) {\n          var tag = parser.tag;\n          var qn = qname(parser.tagName);\n          tag.prefix = qn.prefix;\n          tag.local = qn.local;\n          tag.uri = tag.ns[qn.prefix] || \"\";\n          if (tag.prefix && !tag.uri) {\n            strictFail(parser, \"Unbound namespace prefix: \" + JSON.stringify(parser.tagName));\n            tag.uri = qn.prefix;\n          }\n          var parent = parser.tags[parser.tags.length - 1] || parser;\n          if (tag.ns && parent.ns !== tag.ns) {\n            Object.keys(tag.ns).forEach(function(p2) {\n              emitNode(parser, \"onopennamespace\", {\n                prefix: p2,\n                uri: tag.ns[p2]\n              });\n            });\n          }\n          for (var i2 = 0, l2 = parser.attribList.length; i2 < l2; i2++) {\n            var nv = parser.attribList[i2];\n            var name = nv[0];\n            var value = nv[1];\n            var qualName = qname(name, true);\n            var prefix = qualName.prefix;\n            var local = qualName.local;\n            var uri = prefix === \"\" ? \"\" : tag.ns[prefix] || \"\";\n            var a2 = {\n              name,\n              value,\n              prefix,\n              local,\n              uri\n            };\n            if (prefix && prefix !== \"xmlns\" && !uri) {\n              strictFail(parser, \"Unbound namespace prefix: \" + JSON.stringify(prefix));\n              a2.uri = prefix;\n            }\n            parser.tag.attributes[name] = a2;\n            emitNode(parser, \"onattribute\", a2);\n          }\n          parser.attribList.length = 0;\n        }\n        parser.tag.isSelfClosing = !!selfClosing;\n        parser.sawRoot = true;\n        parser.tags.push(parser.tag);\n        emitNode(parser, \"onopentag\", parser.tag);\n        if (!selfClosing) {\n          if (!parser.noscript && parser.tagName.toLowerCase() === \"script\") {\n            parser.state = S.SCRIPT;\n          } else {\n            parser.state = S.TEXT;\n          }\n          parser.tag = null;\n          parser.tagName = \"\";\n        }\n        parser.attribName = parser.attribValue = \"\";\n        parser.attribList.length = 0;\n      }\n      function closeTag(parser) {\n        if (!parser.tagName) {\n          strictFail(parser, \"Weird empty close tag.\");\n          parser.textNode += \"</>\";\n          parser.state = S.TEXT;\n          return;\n        }\n        if (parser.script) {\n          if (parser.tagName !== \"script\") {\n            parser.script += \"</\" + parser.tagName + \">\";\n            parser.tagName = \"\";\n            parser.state = S.SCRIPT;\n            return;\n          }\n          emitNode(parser, \"onscript\", parser.script);\n          parser.script = \"\";\n        }\n        var t2 = parser.tags.length;\n        var tagName = parser.tagName;\n        if (!parser.strict) {\n          tagName = tagName[parser.looseCase]();\n        }\n        var closeTo = tagName;\n        while (t2--) {\n          var close = parser.tags[t2];\n          if (close.name !== closeTo) {\n            strictFail(parser, \"Unexpected close tag\");\n          } else {\n            break;\n          }\n        }\n        if (t2 < 0) {\n          strictFail(parser, \"Unmatched closing tag: \" + parser.tagName);\n          parser.textNode += \"</\" + parser.tagName + \">\";\n          parser.state = S.TEXT;\n          return;\n        }\n        parser.tagName = tagName;\n        var s3 = parser.tags.length;\n        while (s3-- > t2) {\n          var tag = parser.tag = parser.tags.pop();\n          parser.tagName = parser.tag.name;\n          emitNode(parser, \"onclosetag\", parser.tagName);\n          var x = {};\n          for (var i2 in tag.ns) {\n            x[i2] = tag.ns[i2];\n          }\n          var parent = parser.tags[parser.tags.length - 1] || parser;\n          if (parser.opt.xmlns && tag.ns !== parent.ns) {\n            Object.keys(tag.ns).forEach(function(p2) {\n              var n2 = tag.ns[p2];\n              emitNode(parser, \"onclosenamespace\", { prefix: p2, uri: n2 });\n            });\n          }\n        }\n        if (t2 === 0) parser.closedRoot = true;\n        parser.tagName = parser.attribValue = parser.attribName = \"\";\n        parser.attribList.length = 0;\n        parser.state = S.TEXT;\n      }\n      function parseEntity(parser) {\n        var entity = parser.entity;\n        var entityLC = entity.toLowerCase();\n        var num;\n        var numStr = \"\";\n        if (parser.ENTITIES[entity]) {\n          return parser.ENTITIES[entity];\n        }\n        if (parser.ENTITIES[entityLC]) {\n          return parser.ENTITIES[entityLC];\n        }\n        entity = entityLC;\n        if (entity.charAt(0) === \"#\") {\n          if (entity.charAt(1) === \"x\") {\n            entity = entity.slice(2);\n            num = parseInt(entity, 16);\n            numStr = num.toString(16);\n          } else {\n            entity = entity.slice(1);\n            num = parseInt(entity, 10);\n            numStr = num.toString(10);\n          }\n        }\n        entity = entity.replace(/^0+/, \"\");\n        if (isNaN(num) || numStr.toLowerCase() !== entity) {\n          strictFail(parser, \"Invalid character entity\");\n          return \"&\" + parser.entity + \";\";\n        }\n        return String.fromCodePoint(num);\n      }\n      function beginWhiteSpace(parser, c2) {\n        if (c2 === \"<\") {\n          parser.state = S.OPEN_WAKA;\n          parser.startTagPosition = parser.position;\n        } else if (!isWhitespace(c2)) {\n          strictFail(parser, \"Non-whitespace before first tag.\");\n          parser.textNode = c2;\n          parser.state = S.TEXT;\n        }\n      }\n      function charAt(chunk, i2) {\n        var result = \"\";\n        if (i2 < chunk.length) {\n          result = chunk.charAt(i2);\n        }\n        return result;\n      }\n      function write(chunk) {\n        var parser = this;\n        if (this.error) {\n          throw this.error;\n        }\n        if (parser.closed) {\n          return error(\n            parser,\n            \"Cannot write after close. Assign an onready handler.\"\n          );\n        }\n        if (chunk === null) {\n          return end(parser);\n        }\n        if (typeof chunk === \"object\") {\n          chunk = chunk.toString();\n        }\n        var i2 = 0;\n        var c2 = \"\";\n        while (true) {\n          c2 = charAt(chunk, i2++);\n          parser.c = c2;\n          if (!c2) {\n            break;\n          }\n          if (parser.trackPosition) {\n            parser.position++;\n            if (c2 === \"\\n\") {\n              parser.line++;\n              parser.column = 0;\n            } else {\n              parser.column++;\n            }\n          }\n          switch (parser.state) {\n            case S.BEGIN:\n              parser.state = S.BEGIN_WHITESPACE;\n              if (c2 === \"\\uFEFF\") {\n                continue;\n              }\n              beginWhiteSpace(parser, c2);\n              continue;\n            case S.BEGIN_WHITESPACE:\n              beginWhiteSpace(parser, c2);\n              continue;\n            case S.TEXT:\n              if (parser.sawRoot && !parser.closedRoot) {\n                var starti = i2 - 1;\n                while (c2 && c2 !== \"<\" && c2 !== \"&\") {\n                  c2 = charAt(chunk, i2++);\n                  if (c2 && parser.trackPosition) {\n                    parser.position++;\n                    if (c2 === \"\\n\") {\n                      parser.line++;\n                      parser.column = 0;\n                    } else {\n                      parser.column++;\n                    }\n                  }\n                }\n                parser.textNode += chunk.substring(starti, i2 - 1);\n              }\n              if (c2 === \"<\" && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n                parser.state = S.OPEN_WAKA;\n                parser.startTagPosition = parser.position;\n              } else {\n                if (!isWhitespace(c2) && (!parser.sawRoot || parser.closedRoot)) {\n                  strictFail(parser, \"Text data outside of root node.\");\n                }\n                if (c2 === \"&\") {\n                  parser.state = S.TEXT_ENTITY;\n                } else {\n                  parser.textNode += c2;\n                }\n              }\n              continue;\n            case S.SCRIPT:\n              if (c2 === \"<\") {\n                parser.state = S.SCRIPT_ENDING;\n              } else {\n                parser.script += c2;\n              }\n              continue;\n            case S.SCRIPT_ENDING:\n              if (c2 === \"/\") {\n                parser.state = S.CLOSE_TAG;\n              } else {\n                parser.script += \"<\" + c2;\n                parser.state = S.SCRIPT;\n              }\n              continue;\n            case S.OPEN_WAKA:\n              if (c2 === \"!\") {\n                parser.state = S.SGML_DECL;\n                parser.sgmlDecl = \"\";\n              } else if (isWhitespace(c2)) ;\n              else if (isMatch(nameStart, c2)) {\n                parser.state = S.OPEN_TAG;\n                parser.tagName = c2;\n              } else if (c2 === \"/\") {\n                parser.state = S.CLOSE_TAG;\n                parser.tagName = \"\";\n              } else if (c2 === \"?\") {\n                parser.state = S.PROC_INST;\n                parser.procInstName = parser.procInstBody = \"\";\n              } else {\n                strictFail(parser, \"Unencoded <\");\n                if (parser.startTagPosition + 1 < parser.position) {\n                  var pad = parser.position - parser.startTagPosition;\n                  c2 = new Array(pad).join(\" \") + c2;\n                }\n                parser.textNode += \"<\" + c2;\n                parser.state = S.TEXT;\n              }\n              continue;\n            case S.SGML_DECL:\n              if (parser.sgmlDecl + c2 === \"--\") {\n                parser.state = S.COMMENT;\n                parser.comment = \"\";\n                parser.sgmlDecl = \"\";\n                continue;\n              }\n              if (parser.doctype && parser.doctype !== true && parser.sgmlDecl) {\n                parser.state = S.DOCTYPE_DTD;\n                parser.doctype += \"<!\" + parser.sgmlDecl + c2;\n                parser.sgmlDecl = \"\";\n              } else if ((parser.sgmlDecl + c2).toUpperCase() === CDATA) {\n                emitNode(parser, \"onopencdata\");\n                parser.state = S.CDATA;\n                parser.sgmlDecl = \"\";\n                parser.cdata = \"\";\n              } else if ((parser.sgmlDecl + c2).toUpperCase() === DOCTYPE) {\n                parser.state = S.DOCTYPE;\n                if (parser.doctype || parser.sawRoot) {\n                  strictFail(\n                    parser,\n                    \"Inappropriately located doctype declaration\"\n                  );\n                }\n                parser.doctype = \"\";\n                parser.sgmlDecl = \"\";\n              } else if (c2 === \">\") {\n                emitNode(parser, \"onsgmldeclaration\", parser.sgmlDecl);\n                parser.sgmlDecl = \"\";\n                parser.state = S.TEXT;\n              } else if (isQuote(c2)) {\n                parser.state = S.SGML_DECL_QUOTED;\n                parser.sgmlDecl += c2;\n              } else {\n                parser.sgmlDecl += c2;\n              }\n              continue;\n            case S.SGML_DECL_QUOTED:\n              if (c2 === parser.q) {\n                parser.state = S.SGML_DECL;\n                parser.q = \"\";\n              }\n              parser.sgmlDecl += c2;\n              continue;\n            case S.DOCTYPE:\n              if (c2 === \">\") {\n                parser.state = S.TEXT;\n                emitNode(parser, \"ondoctype\", parser.doctype);\n                parser.doctype = true;\n              } else {\n                parser.doctype += c2;\n                if (c2 === \"[\") {\n                  parser.state = S.DOCTYPE_DTD;\n                } else if (isQuote(c2)) {\n                  parser.state = S.DOCTYPE_QUOTED;\n                  parser.q = c2;\n                }\n              }\n              continue;\n            case S.DOCTYPE_QUOTED:\n              parser.doctype += c2;\n              if (c2 === parser.q) {\n                parser.q = \"\";\n                parser.state = S.DOCTYPE;\n              }\n              continue;\n            case S.DOCTYPE_DTD:\n              if (c2 === \"]\") {\n                parser.doctype += c2;\n                parser.state = S.DOCTYPE;\n              } else if (c2 === \"<\") {\n                parser.state = S.OPEN_WAKA;\n                parser.startTagPosition = parser.position;\n              } else if (isQuote(c2)) {\n                parser.doctype += c2;\n                parser.state = S.DOCTYPE_DTD_QUOTED;\n                parser.q = c2;\n              } else {\n                parser.doctype += c2;\n              }\n              continue;\n            case S.DOCTYPE_DTD_QUOTED:\n              parser.doctype += c2;\n              if (c2 === parser.q) {\n                parser.state = S.DOCTYPE_DTD;\n                parser.q = \"\";\n              }\n              continue;\n            case S.COMMENT:\n              if (c2 === \"-\") {\n                parser.state = S.COMMENT_ENDING;\n              } else {\n                parser.comment += c2;\n              }\n              continue;\n            case S.COMMENT_ENDING:\n              if (c2 === \"-\") {\n                parser.state = S.COMMENT_ENDED;\n                parser.comment = textopts(parser.opt, parser.comment);\n                if (parser.comment) {\n                  emitNode(parser, \"oncomment\", parser.comment);\n                }\n                parser.comment = \"\";\n              } else {\n                parser.comment += \"-\" + c2;\n                parser.state = S.COMMENT;\n              }\n              continue;\n            case S.COMMENT_ENDED:\n              if (c2 !== \">\") {\n                strictFail(parser, \"Malformed comment\");\n                parser.comment += \"--\" + c2;\n                parser.state = S.COMMENT;\n              } else if (parser.doctype && parser.doctype !== true) {\n                parser.state = S.DOCTYPE_DTD;\n              } else {\n                parser.state = S.TEXT;\n              }\n              continue;\n            case S.CDATA:\n              if (c2 === \"]\") {\n                parser.state = S.CDATA_ENDING;\n              } else {\n                parser.cdata += c2;\n              }\n              continue;\n            case S.CDATA_ENDING:\n              if (c2 === \"]\") {\n                parser.state = S.CDATA_ENDING_2;\n              } else {\n                parser.cdata += \"]\" + c2;\n                parser.state = S.CDATA;\n              }\n              continue;\n            case S.CDATA_ENDING_2:\n              if (c2 === \">\") {\n                if (parser.cdata) {\n                  emitNode(parser, \"oncdata\", parser.cdata);\n                }\n                emitNode(parser, \"onclosecdata\");\n                parser.cdata = \"\";\n                parser.state = S.TEXT;\n              } else if (c2 === \"]\") {\n                parser.cdata += \"]\";\n              } else {\n                parser.cdata += \"]]\" + c2;\n                parser.state = S.CDATA;\n              }\n              continue;\n            case S.PROC_INST:\n              if (c2 === \"?\") {\n                parser.state = S.PROC_INST_ENDING;\n              } else if (isWhitespace(c2)) {\n                parser.state = S.PROC_INST_BODY;\n              } else {\n                parser.procInstName += c2;\n              }\n              continue;\n            case S.PROC_INST_BODY:\n              if (!parser.procInstBody && isWhitespace(c2)) {\n                continue;\n              } else if (c2 === \"?\") {\n                parser.state = S.PROC_INST_ENDING;\n              } else {\n                parser.procInstBody += c2;\n              }\n              continue;\n            case S.PROC_INST_ENDING:\n              if (c2 === \">\") {\n                emitNode(parser, \"onprocessinginstruction\", {\n                  name: parser.procInstName,\n                  body: parser.procInstBody\n                });\n                parser.procInstName = parser.procInstBody = \"\";\n                parser.state = S.TEXT;\n              } else {\n                parser.procInstBody += \"?\" + c2;\n                parser.state = S.PROC_INST_BODY;\n              }\n              continue;\n            case S.OPEN_TAG:\n              if (isMatch(nameBody, c2)) {\n                parser.tagName += c2;\n              } else {\n                newTag(parser);\n                if (c2 === \">\") {\n                  openTag(parser);\n                } else if (c2 === \"/\") {\n                  parser.state = S.OPEN_TAG_SLASH;\n                } else {\n                  if (!isWhitespace(c2)) {\n                    strictFail(parser, \"Invalid character in tag name\");\n                  }\n                  parser.state = S.ATTRIB;\n                }\n              }\n              continue;\n            case S.OPEN_TAG_SLASH:\n              if (c2 === \">\") {\n                openTag(parser, true);\n                closeTag(parser);\n              } else {\n                strictFail(parser, \"Forward-slash in opening tag not followed by >\");\n                parser.state = S.ATTRIB;\n              }\n              continue;\n            case S.ATTRIB:\n              if (isWhitespace(c2)) {\n                continue;\n              } else if (c2 === \">\") {\n                openTag(parser);\n              } else if (c2 === \"/\") {\n                parser.state = S.OPEN_TAG_SLASH;\n              } else if (isMatch(nameStart, c2)) {\n                parser.attribName = c2;\n                parser.attribValue = \"\";\n                parser.state = S.ATTRIB_NAME;\n              } else {\n                strictFail(parser, \"Invalid attribute name\");\n              }\n              continue;\n            case S.ATTRIB_NAME:\n              if (c2 === \"=\") {\n                parser.state = S.ATTRIB_VALUE;\n              } else if (c2 === \">\") {\n                strictFail(parser, \"Attribute without value\");\n                parser.attribValue = parser.attribName;\n                attrib(parser);\n                openTag(parser);\n              } else if (isWhitespace(c2)) {\n                parser.state = S.ATTRIB_NAME_SAW_WHITE;\n              } else if (isMatch(nameBody, c2)) {\n                parser.attribName += c2;\n              } else {\n                strictFail(parser, \"Invalid attribute name\");\n              }\n              continue;\n            case S.ATTRIB_NAME_SAW_WHITE:\n              if (c2 === \"=\") {\n                parser.state = S.ATTRIB_VALUE;\n              } else if (isWhitespace(c2)) {\n                continue;\n              } else {\n                strictFail(parser, \"Attribute without value\");\n                parser.tag.attributes[parser.attribName] = \"\";\n                parser.attribValue = \"\";\n                emitNode(parser, \"onattribute\", {\n                  name: parser.attribName,\n                  value: \"\"\n                });\n                parser.attribName = \"\";\n                if (c2 === \">\") {\n                  openTag(parser);\n                } else if (isMatch(nameStart, c2)) {\n                  parser.attribName = c2;\n                  parser.state = S.ATTRIB_NAME;\n                } else {\n                  strictFail(parser, \"Invalid attribute name\");\n                  parser.state = S.ATTRIB;\n                }\n              }\n              continue;\n            case S.ATTRIB_VALUE:\n              if (isWhitespace(c2)) {\n                continue;\n              } else if (isQuote(c2)) {\n                parser.q = c2;\n                parser.state = S.ATTRIB_VALUE_QUOTED;\n              } else {\n                if (!parser.opt.unquotedAttributeValues) {\n                  error(parser, \"Unquoted attribute value\");\n                }\n                parser.state = S.ATTRIB_VALUE_UNQUOTED;\n                parser.attribValue = c2;\n              }\n              continue;\n            case S.ATTRIB_VALUE_QUOTED:\n              if (c2 !== parser.q) {\n                if (c2 === \"&\") {\n                  parser.state = S.ATTRIB_VALUE_ENTITY_Q;\n                } else {\n                  parser.attribValue += c2;\n                }\n                continue;\n              }\n              attrib(parser);\n              parser.q = \"\";\n              parser.state = S.ATTRIB_VALUE_CLOSED;\n              continue;\n            case S.ATTRIB_VALUE_CLOSED:\n              if (isWhitespace(c2)) {\n                parser.state = S.ATTRIB;\n              } else if (c2 === \">\") {\n                openTag(parser);\n              } else if (c2 === \"/\") {\n                parser.state = S.OPEN_TAG_SLASH;\n              } else if (isMatch(nameStart, c2)) {\n                strictFail(parser, \"No whitespace between attributes\");\n                parser.attribName = c2;\n                parser.attribValue = \"\";\n                parser.state = S.ATTRIB_NAME;\n              } else {\n                strictFail(parser, \"Invalid attribute name\");\n              }\n              continue;\n            case S.ATTRIB_VALUE_UNQUOTED:\n              if (!isAttribEnd(c2)) {\n                if (c2 === \"&\") {\n                  parser.state = S.ATTRIB_VALUE_ENTITY_U;\n                } else {\n                  parser.attribValue += c2;\n                }\n                continue;\n              }\n              attrib(parser);\n              if (c2 === \">\") {\n                openTag(parser);\n              } else {\n                parser.state = S.ATTRIB;\n              }\n              continue;\n            case S.CLOSE_TAG:\n              if (!parser.tagName) {\n                if (isWhitespace(c2)) {\n                  continue;\n                } else if (notMatch(nameStart, c2)) {\n                  if (parser.script) {\n                    parser.script += \"</\" + c2;\n                    parser.state = S.SCRIPT;\n                  } else {\n                    strictFail(parser, \"Invalid tagname in closing tag.\");\n                  }\n                } else {\n                  parser.tagName = c2;\n                }\n              } else if (c2 === \">\") {\n                closeTag(parser);\n              } else if (isMatch(nameBody, c2)) {\n                parser.tagName += c2;\n              } else if (parser.script) {\n                parser.script += \"</\" + parser.tagName;\n                parser.tagName = \"\";\n                parser.state = S.SCRIPT;\n              } else {\n                if (!isWhitespace(c2)) {\n                  strictFail(parser, \"Invalid tagname in closing tag\");\n                }\n                parser.state = S.CLOSE_TAG_SAW_WHITE;\n              }\n              continue;\n            case S.CLOSE_TAG_SAW_WHITE:\n              if (isWhitespace(c2)) {\n                continue;\n              }\n              if (c2 === \">\") {\n                closeTag(parser);\n              } else {\n                strictFail(parser, \"Invalid characters in closing tag\");\n              }\n              continue;\n            case S.TEXT_ENTITY:\n            case S.ATTRIB_VALUE_ENTITY_Q:\n            case S.ATTRIB_VALUE_ENTITY_U:\n              var returnState;\n              var buffer;\n              switch (parser.state) {\n                case S.TEXT_ENTITY:\n                  returnState = S.TEXT;\n                  buffer = \"textNode\";\n                  break;\n                case S.ATTRIB_VALUE_ENTITY_Q:\n                  returnState = S.ATTRIB_VALUE_QUOTED;\n                  buffer = \"attribValue\";\n                  break;\n                case S.ATTRIB_VALUE_ENTITY_U:\n                  returnState = S.ATTRIB_VALUE_UNQUOTED;\n                  buffer = \"attribValue\";\n                  break;\n              }\n              if (c2 === \";\") {\n                var parsedEntity = parseEntity(parser);\n                if (parser.opt.unparsedEntities && !Object.values(sax2.XML_ENTITIES).includes(parsedEntity)) {\n                  parser.entity = \"\";\n                  parser.state = returnState;\n                  parser.write(parsedEntity);\n                } else {\n                  parser[buffer] += parsedEntity;\n                  parser.entity = \"\";\n                  parser.state = returnState;\n                }\n              } else if (isMatch(parser.entity.length ? entityBody : entityStart, c2)) {\n                parser.entity += c2;\n              } else {\n                strictFail(parser, \"Invalid character in entity name\");\n                parser[buffer] += \"&\" + parser.entity + c2;\n                parser.entity = \"\";\n                parser.state = returnState;\n              }\n              continue;\n            default: {\n              throw new Error(parser, \"Unknown state: \" + parser.state);\n            }\n          }\n        }\n        if (parser.position >= parser.bufferCheckPosition) {\n          checkBufferLength(parser);\n        }\n        return parser;\n      }\n      /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n      if (!String.fromCodePoint) {\n        (function() {\n          var stringFromCharCode = String.fromCharCode;\n          var floor = Math.floor;\n          var fromCodePoint = function() {\n            var MAX_SIZE = 16384;\n            var codeUnits = [];\n            var highSurrogate;\n            var lowSurrogate;\n            var index = -1;\n            var length = arguments.length;\n            if (!length) {\n              return \"\";\n            }\n            var result = \"\";\n            while (++index < length) {\n              var codePoint = Number(arguments[index]);\n              if (!isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n              codePoint < 0 || // not a valid Unicode code point\n              codePoint > 1114111 || // not a valid Unicode code point\n              floor(codePoint) !== codePoint) {\n                throw RangeError(\"Invalid code point: \" + codePoint);\n              }\n              if (codePoint <= 65535) {\n                codeUnits.push(codePoint);\n              } else {\n                codePoint -= 65536;\n                highSurrogate = (codePoint >> 10) + 55296;\n                lowSurrogate = codePoint % 1024 + 56320;\n                codeUnits.push(highSurrogate, lowSurrogate);\n              }\n              if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n                result += stringFromCharCode.apply(null, codeUnits);\n                codeUnits.length = 0;\n              }\n            }\n            return result;\n          };\n          if (Object.defineProperty) {\n            Object.defineProperty(String, \"fromCodePoint\", {\n              value: fromCodePoint,\n              configurable: true,\n              writable: true\n            });\n          } else {\n            String.fromCodePoint = fromCodePoint;\n          }\n        })();\n      }\n    })(exports);\n  })(sax$1);\n  return sax$1;\n}\nvar saxExports = requireSax();\nconst sax = /* @__PURE__ */ getDefaultExportFromCjs(saxExports);\nconst namespaceMapping = {\n  \"http://www.w3.org/2000/svg\": {\n    ext: \"svg\",\n    mime: \"image/svg+xml\"\n  },\n  \"http://www.w3.org/1999/xhtml\": {\n    ext: \"xhtml\",\n    mime: \"application/xhtml+xml\"\n  },\n  \"http://www.opengis.net/kml/2.2\": {\n    ext: \"kml\",\n    mime: \"application/vnd.google-earth.kml+xml\"\n  },\n  \"http://www.opengis.net/gml\": {\n    ext: \"gml\",\n    mime: \"application/gml+xml\"\n  }\n};\nconst rootNameMapping = {\n  rss: {\n    ext: \"rss\",\n    mime: \"application/rss+xml\"\n  },\n  \"score-partwise\": {\n    ext: \"musicxml\",\n    mime: \"application/vnd.recordare.musicxml+xml\"\n  },\n  svg: {\n    ext: \"svg\",\n    mime: \"image/svg+xml\"\n  }\n};\nclass XmlTextDetector {\n  constructor(options) {\n    this.options = options ?? {};\n    this.firstTag = true;\n    this.onEnd = false;\n    this.parser = sax.parser(true, { xmlns: true });\n    this.nesting = 0;\n    this.parser.onerror = (e2) => {\n      if (e2.message.startsWith(\"Invalid character entity\")) {\n        return;\n      }\n      this.fileType = void 0;\n      this.onEnd = true;\n    };\n    this.parser.onopentag = (node) => {\n      ++this.nesting;\n      if (!this.firstTag || this.onEnd) {\n        return;\n      }\n      this.firstTag = false;\n      if (node.uri) {\n        this.fileType = namespaceMapping[node.uri];\n      } else if (node.name) {\n        this.fileType = rootNameMapping[node.name.toLowerCase()];\n      }\n      if (this.fileType && !this.options.fullScan) {\n        this.onEnd = true;\n      }\n    };\n    this.parser.onclosetag = () => {\n      --this.nesting;\n    };\n  }\n  write(text) {\n    this.parser.write(text);\n  }\n  close() {\n    this.parser.close();\n    this.onEnd = true;\n  }\n  isValid() {\n    return this.nesting === 0;\n  }\n}\nfunction isSvg(string, { validate = true } = {}) {\n  if (typeof string !== \"string\") {\n    throw new TypeError(`Expected a \\`string\\`, got \\`${typeof string}\\``);\n  }\n  string = string.trim();\n  if (string.length === 0) {\n    return false;\n  }\n  const xmlTextDetector = new XmlTextDetector({ fullScan: validate });\n  if (validate) {\n    xmlTextDetector.write(string);\n    if (!xmlTextDetector.isValid()) {\n      return false;\n    }\n  } else {\n    const chunkSize = 128;\n    let offset = 0;\n    while (string.length > offset && !xmlTextDetector.onEnd) {\n      xmlTextDetector.write(string.slice(offset, Math.min(offset + chunkSize, string.length)));\n      offset += chunkSize;\n    }\n  }\n  return xmlTextDetector.fileType?.ext === \"svg\";\n}\nclass View {\n  _view;\n  constructor(view) {\n    isValidView(view);\n    this._view = view;\n  }\n  get id() {\n    return this._view.id;\n  }\n  get name() {\n    return this._view.name;\n  }\n  get caption() {\n    return this._view.caption;\n  }\n  get emptyTitle() {\n    return this._view.emptyTitle;\n  }\n  get emptyCaption() {\n    return this._view.emptyCaption;\n  }\n  get getContents() {\n    return this._view.getContents;\n  }\n  get hidden() {\n    return this._view.hidden;\n  }\n  get icon() {\n    return this._view.icon;\n  }\n  set icon(icon) {\n    this._view.icon = icon;\n  }\n  get order() {\n    return this._view.order;\n  }\n  set order(order) {\n    this._view.order = order;\n  }\n  get params() {\n    return this._view.params;\n  }\n  set params(params) {\n    this._view.params = params;\n  }\n  get columns() {\n    return this._view.columns;\n  }\n  get emptyView() {\n    return this._view.emptyView;\n  }\n  get parent() {\n    return this._view.parent;\n  }\n  get sticky() {\n    return this._view.sticky;\n  }\n  get expanded() {\n    return this._view.expanded;\n  }\n  set expanded(expanded) {\n    this._view.expanded = expanded;\n  }\n  get defaultSortKey() {\n    return this._view.defaultSortKey;\n  }\n  get loadChildViews() {\n    return this._view.loadChildViews;\n  }\n}\nconst isValidView = function(view) {\n  if (!view.id || typeof view.id !== \"string\") {\n    throw new Error(\"View id is required and must be a string\");\n  }\n  if (!view.name || typeof view.name !== \"string\") {\n    throw new Error(\"View name is required and must be a string\");\n  }\n  if (\"caption\" in view && typeof view.caption !== \"string\") {\n    throw new Error(\"View caption must be a string\");\n  }\n  if (!view.getContents || typeof view.getContents !== \"function\") {\n    throw new Error(\"View getContents is required and must be a function\");\n  }\n  if (\"hidden\" in view && typeof view.hidden !== \"boolean\") {\n    throw new Error(\"View hidden must be a boolean\");\n  }\n  if (!view.icon || typeof view.icon !== \"string\" || !isSvg(view.icon)) {\n    throw new Error(\"View icon is required and must be a valid svg string\");\n  }\n  if (\"order\" in view && typeof view.order !== \"number\") {\n    throw new Error(\"View order must be a number\");\n  }\n  if (view.columns) {\n    view.columns.forEach((column) => {\n      if (!(column instanceof Column)) {\n        throw new Error(\"View columns must be an array of Column. Invalid column found\");\n      }\n    });\n  }\n  if (view.emptyView && typeof view.emptyView !== \"function\") {\n    throw new Error(\"View emptyView must be a function\");\n  }\n  if (view.parent && typeof view.parent !== \"string\") {\n    throw new Error(\"View parent must be a string\");\n  }\n  if (\"sticky\" in view && typeof view.sticky !== \"boolean\") {\n    throw new Error(\"View sticky must be a boolean\");\n  }\n  if (\"expanded\" in view && typeof view.expanded !== \"boolean\") {\n    throw new Error(\"View expanded must be a boolean\");\n  }\n  if (view.defaultSortKey && typeof view.defaultSortKey !== \"string\") {\n    throw new Error(\"View defaultSortKey must be a string\");\n  }\n  if (view.loadChildViews && typeof view.loadChildViews !== \"function\") {\n    throw new Error(\"View loadChildViews must be a function\");\n  }\n  return true;\n};\nvar NewMenuEntryCategory = /* @__PURE__ */ ((NewMenuEntryCategory2) => {\n  NewMenuEntryCategory2[NewMenuEntryCategory2[\"UploadFromDevice\"] = 0] = \"UploadFromDevice\";\n  NewMenuEntryCategory2[NewMenuEntryCategory2[\"CreateNew\"] = 1] = \"CreateNew\";\n  NewMenuEntryCategory2[NewMenuEntryCategory2[\"Other\"] = 2] = \"Other\";\n  return NewMenuEntryCategory2;\n})(NewMenuEntryCategory || {});\nclass NewMenu {\n  _entries = [];\n  registerEntry(entry) {\n    this.validateEntry(entry);\n    entry.category = entry.category ?? 1;\n    this._entries.push(entry);\n  }\n  unregisterEntry(entry) {\n    const entryIndex = typeof entry === \"string\" ? this.getEntryIndex(entry) : this.getEntryIndex(entry.id);\n    if (entryIndex === -1) {\n      logger.warn(\"Entry not found, nothing removed\", { entry, entries: this.getEntries() });\n      return;\n    }\n    this._entries.splice(entryIndex, 1);\n  }\n  /**\n   * Get the list of registered entries\n   *\n   * @param {Folder} context the creation context. Usually the current folder\n   */\n  getEntries(context) {\n    if (context) {\n      return this._entries.filter((entry) => typeof entry.enabled === \"function\" ? entry.enabled(context) : true);\n    }\n    return this._entries;\n  }\n  getEntryIndex(id) {\n    return this._entries.findIndex((entry) => entry.id === id);\n  }\n  validateEntry(entry) {\n    if (!entry.id || !entry.displayName || !(entry.iconSvgInline || entry.iconClass) || !entry.handler) {\n      throw new Error(\"Invalid entry\");\n    }\n    if (typeof entry.id !== \"string\" || typeof entry.displayName !== \"string\") {\n      throw new Error(\"Invalid id or displayName property\");\n    }\n    if (entry.iconClass && typeof entry.iconClass !== \"string\" || entry.iconSvgInline && typeof entry.iconSvgInline !== \"string\") {\n      throw new Error(\"Invalid icon provided\");\n    }\n    if (entry.enabled !== void 0 && typeof entry.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled property\");\n    }\n    if (typeof entry.handler !== \"function\") {\n      throw new Error(\"Invalid handler property\");\n    }\n    if (\"order\" in entry && typeof entry.order !== \"number\") {\n      throw new Error(\"Invalid order property\");\n    }\n    if (this.getEntryIndex(entry.id) !== -1) {\n      throw new Error(\"Duplicate entry\");\n    }\n  }\n}\nfunction getNewFileMenu() {\n  if (typeof window._nc_newfilemenu === \"undefined\") {\n    window._nc_newfilemenu = new NewMenu();\n    logger.debug(\"NewFileMenu initialized\");\n  }\n  return window._nc_newfilemenu;\n}\nfunction addNewFileMenuEntry(entry) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.registerEntry(entry);\n}\nfunction removeNewFileMenuEntry(entry) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.unregisterEntry(entry);\n}\nfunction getNewFileMenuEntries(context) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.getEntries(context).sort((a2, b2) => {\n    if (a2.order !== void 0 && b2.order !== void 0 && a2.order !== b2.order) {\n      return a2.order - b2.order;\n    }\n    return a2.displayName.localeCompare(b2.displayName, void 0, { numeric: true, sensitivity: \"base\" });\n  });\n}\nvar InvalidFilenameErrorReason = /* @__PURE__ */ ((InvalidFilenameErrorReason2) => {\n  InvalidFilenameErrorReason2[\"ReservedName\"] = \"reserved name\";\n  InvalidFilenameErrorReason2[\"Character\"] = \"character\";\n  InvalidFilenameErrorReason2[\"Extension\"] = \"extension\";\n  return InvalidFilenameErrorReason2;\n})(InvalidFilenameErrorReason || {});\nclass InvalidFilenameError extends Error {\n  constructor(options) {\n    super(`Invalid ${options.reason} '${options.segment}' in filename '${options.filename}'`, { cause: options });\n  }\n  /**\n   * The filename that was validated\n   */\n  get filename() {\n    return this.cause.filename;\n  }\n  /**\n   * Reason why the validation failed\n   */\n  get reason() {\n    return this.cause.reason;\n  }\n  /**\n   * Part of the filename that caused this error\n   */\n  get segment() {\n    return this.cause.segment;\n  }\n}\nfunction validateFilename(filename) {\n  const capabilities = getCapabilities().files;\n  const forbiddenCharacters = capabilities.forbidden_filename_characters ?? window._oc_config?.forbidden_filenames_characters ?? [\"/\", \"\\\\\"];\n  for (const character of forbiddenCharacters) {\n    if (filename.includes(character)) {\n      throw new InvalidFilenameError({ segment: character, reason: \"character\", filename });\n    }\n  }\n  filename = filename.toLocaleLowerCase();\n  const forbiddenFilenames = capabilities.forbidden_filenames ?? [\".htaccess\"];\n  if (forbiddenFilenames.includes(filename)) {\n    throw new InvalidFilenameError({\n      filename,\n      segment: filename,\n      reason: \"reserved name\"\n      /* ReservedName */\n    });\n  }\n  const endOfBasename = filename.indexOf(\".\", 1);\n  const basename2 = filename.substring(0, endOfBasename === -1 ? void 0 : endOfBasename);\n  const forbiddenFilenameBasenames = capabilities.forbidden_filename_basenames ?? [];\n  if (forbiddenFilenameBasenames.includes(basename2)) {\n    throw new InvalidFilenameError({\n      filename,\n      segment: basename2,\n      reason: \"reserved name\"\n      /* ReservedName */\n    });\n  }\n  const forbiddenFilenameExtensions = capabilities.forbidden_filename_extensions ?? [\".part\", \".filepart\"];\n  for (const extension of forbiddenFilenameExtensions) {\n    if (filename.length > extension.length && filename.endsWith(extension)) {\n      throw new InvalidFilenameError({ segment: extension, reason: \"extension\", filename });\n    }\n  }\n}\nfunction isFilenameValid(filename) {\n  try {\n    validateFilename(filename);\n    return true;\n  } catch (error) {\n    if (error instanceof InvalidFilenameError) {\n      return false;\n    }\n    throw error;\n  }\n}\nfunction getUniqueName(name, otherNames, options) {\n  const opts = {\n    suffix: (n2) => `(${n2})`,\n    ignoreFileExtension: false,\n    ...options\n  };\n  let newName = name;\n  let i2 = 1;\n  while (otherNames.includes(newName)) {\n    const ext = opts.ignoreFileExtension ? \"\" : extname(name);\n    const base = basename(name, ext);\n    newName = `${base} ${opts.suffix(i2++)}${ext}`;\n  }\n  return newName;\n}\nconst humanList = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\"];\nconst humanListBinary = [\"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\"];\nfunction formatFileSize(size, skipSmallSizes = false, binaryPrefixes = false, base1000 = false) {\n  binaryPrefixes = binaryPrefixes && !base1000;\n  if (typeof size === \"string\") {\n    size = Number(size);\n  }\n  let order = size > 0 ? Math.floor(Math.log(size) / Math.log(base1000 ? 1e3 : 1024)) : 0;\n  order = Math.min((binaryPrefixes ? humanListBinary.length : humanList.length) - 1, order);\n  const readableFormat = binaryPrefixes ? humanListBinary[order] : humanList[order];\n  let relativeSize = (size / Math.pow(base1000 ? 1e3 : 1024, order)).toFixed(1);\n  if (skipSmallSizes === true && order === 0) {\n    return (relativeSize !== \"0.0\" ? \"< 1 \" : \"0 \") + (binaryPrefixes ? humanListBinary[1] : humanList[1]);\n  }\n  if (order < 2) {\n    relativeSize = parseFloat(relativeSize).toFixed(0);\n  } else {\n    relativeSize = parseFloat(relativeSize).toLocaleString(getCanonicalLocale());\n  }\n  return relativeSize + \" \" + readableFormat;\n}\nfunction parseFileSize(value, forceBinary = false) {\n  try {\n    value = `${value}`.toLocaleLowerCase().replaceAll(/\\s+/g, \"\").replaceAll(\",\", \".\");\n  } catch (e2) {\n    return null;\n  }\n  const match = value.match(/^([0-9]*(\\.[0-9]*)?)([kmgtp]?)(i?)b?$/);\n  if (match === null || match[1] === \".\" || match[1] === \"\") {\n    return null;\n  }\n  const bytesArray = {\n    \"\": 0,\n    k: 1,\n    m: 2,\n    g: 3,\n    t: 4,\n    p: 5,\n    e: 6\n  };\n  const decimalString = `${match[1]}`;\n  const base = match[4] === \"i\" || forceBinary ? 1024 : 1e3;\n  return Math.round(Number.parseFloat(decimalString) * base ** bytesArray[match[3]]);\n}\nfunction stringify(value) {\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n  return String(value);\n}\nfunction orderBy(collection, identifiers2, orders) {\n  identifiers2 = identifiers2 ?? [(value) => value];\n  orders = orders ?? [];\n  const sorting = identifiers2.map((_, index) => (orders[index] ?? \"asc\") === \"asc\" ? 1 : -1);\n  const collator = Intl.Collator(\n    [getLanguage(), getCanonicalLocale()],\n    {\n      // handle 10 as ten and not as one-zero\n      numeric: true,\n      usage: \"sort\"\n    }\n  );\n  return [...collection].sort((a2, b2) => {\n    for (const [index, identifier] of identifiers2.entries()) {\n      const value = collator.compare(stringify(identifier(a2)), stringify(identifier(b2)));\n      if (value !== 0) {\n        return value * sorting[index];\n      }\n    }\n    return 0;\n  });\n}\nvar FilesSortingMode = /* @__PURE__ */ ((FilesSortingMode2) => {\n  FilesSortingMode2[\"Name\"] = \"basename\";\n  FilesSortingMode2[\"Modified\"] = \"mtime\";\n  FilesSortingMode2[\"Size\"] = \"size\";\n  return FilesSortingMode2;\n})(FilesSortingMode || {});\nfunction sortNodes(nodes, options = {}) {\n  const sortingOptions = {\n    // Default to sort by name\n    sortingMode: \"basename\",\n    // Default to sort ascending\n    sortingOrder: \"asc\",\n    ...options\n  };\n  function basename2(node) {\n    const name = node.displayname || node.attributes?.displayname || node.basename || \"\";\n    if (node.type === FileType.Folder) {\n      return name;\n    }\n    return name.lastIndexOf(\".\") > 0 ? name.slice(0, name.lastIndexOf(\".\")) : name;\n  }\n  const identifiers2 = [\n    // 1: Sort favorites first if enabled\n    ...sortingOptions.sortFavoritesFirst ? [(v) => v.attributes?.favorite !== 1] : [],\n    // 2: Sort folders first if sorting by name\n    ...sortingOptions.sortFoldersFirst ? [(v) => v.type !== \"folder\"] : [],\n    // 3: Use sorting mode if NOT basename (to be able to use display name too)\n    ...sortingOptions.sortingMode !== \"basename\" ? [(v) => v[sortingOptions.sortingMode] ?? v.attributes[sortingOptions.sortingMode]] : [],\n    // 4: Use display name if available, fallback to name\n    (v) => basename2(v),\n    // 5: Finally, use basename if all previous sorting methods failed\n    (v) => v.basename\n  ];\n  const orders = [\n    // (for 1): always sort favorites before normal files\n    ...sortingOptions.sortFavoritesFirst ? [\"asc\"] : [],\n    // (for 2): always sort folders before files\n    ...sortingOptions.sortFoldersFirst ? [\"asc\"] : [],\n    // (for 3): Reverse if sorting by mtime as mtime higher means edited more recent -> lower\n    ...sortingOptions.sortingMode === \"mtime\" ? [sortingOptions.sortingOrder === \"asc\" ? \"desc\" : \"asc\"] : [],\n    // (also for 3 so make sure not to conflict with 2 and 3)\n    ...sortingOptions.sortingMode !== \"mtime\" && sortingOptions.sortingMode !== \"basename\" ? [sortingOptions.sortingOrder] : [],\n    // for 4: use configured sorting direction\n    sortingOptions.sortingOrder,\n    // for 5: use configured sorting direction\n    sortingOptions.sortingOrder\n  ];\n  return orderBy(nodes, identifiers2, orders);\n}\nexport {\n  Column,\n  DefaultType,\n  q as File,\n  FileAction,\n  FileListAction,\n  FileListFilter,\n  FileType,\n  FilesSortingMode,\n  s as Folder,\n  Header,\n  InvalidFilenameError,\n  InvalidFilenameErrorReason,\n  Navigation,\n  NewMenuEntryCategory,\n  N as Node,\n  t as NodeStatus,\n  P as Permission,\n  View,\n  addNewFileMenuEntry,\n  c as davGetClient,\n  l as davGetDefaultPropfind,\n  m as davGetFavoritesReport,\n  n as davGetRecentSearch,\n  a as davGetRemoteURL,\n  g as davGetRootPath,\n  p as davParsePermissions,\n  b as davRemoteURL,\n  r as davResultToNode,\n  d as davRootPath,\n  h as defaultDavNamespaces,\n  f as defaultDavProperties,\n  formatFileSize,\n  k as getDavNameSpaces,\n  j as getDavProperties,\n  e as getFavoriteNodes,\n  getFileActions,\n  getFileListActions,\n  getFileListFilters,\n  getFileListHeaders,\n  getNavigation,\n  getNewFileMenu,\n  getNewFileMenuEntries,\n  getUniqueName,\n  isFilenameValid,\n  orderBy,\n  parseFileSize,\n  i as registerDavProperty,\n  registerFileAction,\n  registerFileListAction,\n  registerFileListFilter,\n  registerFileListHeaders,\n  removeNewFileMenuEntry,\n  sortNodes,\n  unregisterFileListFilter,\n  validateFilename\n};\n//# sourceMappingURL=index.mjs.map\n","import { FileType } from \"@nextcloud/files\";\nimport { generateUrl } from \"@nextcloud/router\";\nimport { ref, watchEffect, toValue } from \"vue\";\nimport PQueue from \"p-queue\";\nconst queue = new PQueue({ concurrency: 5 });\nfunction preloadImage(url) {\n  const { resolve, promise } = Promise.withResolvers();\n  queue.add(() => {\n    const image = new Image();\n    image.onerror = () => resolve(false);\n    image.onload = () => resolve(true);\n    image.src = url;\n    return promise;\n  });\n  return promise;\n}\nfunction getPreviewURL(node, options = {}) {\n  options = { size: 32, cropPreview: false, mimeFallback: true, ...options };\n  try {\n    const previewUrl = node.attributes?.previewUrl || generateUrl(\"/core/preview?fileId={fileid}\", {\n      fileid: node.fileid\n    });\n    let url;\n    try {\n      url = new URL(previewUrl);\n    } catch {\n      url = new URL(previewUrl, window.location.origin);\n    }\n    url.searchParams.set(\"x\", `${options.size}`);\n    url.searchParams.set(\"y\", `${options.size}`);\n    url.searchParams.set(\"mimeFallback\", `${options.mimeFallback}`);\n    url.searchParams.set(\"a\", options.cropPreview === true ? \"0\" : \"1\");\n    url.searchParams.set(\"c\", `${node.attributes.etag}`);\n    return url;\n  } catch {\n    return null;\n  }\n}\nfunction usePreviewURL(node, options) {\n  const previewURL = ref(null);\n  const previewLoaded = ref(false);\n  watchEffect(() => {\n    previewLoaded.value = false;\n    previewURL.value = getPreviewURL(toValue(node), toValue(options || {}));\n    if (previewURL.value && toValue(node).type === FileType.File) {\n      preloadImage(previewURL.value.href).then((success) => {\n        previewLoaded.value = success;\n      });\n    }\n  });\n  return {\n    previewURL,\n    previewLoaded\n  };\n}\nexport {\n  getPreviewURL as g,\n  usePreviewURL as u\n};\n//# sourceMappingURL=preview-BIbJGxXF.mjs.map\n","const _export_sfc = (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n};\nexport {\n  _export_sfc as _\n};\n//# sourceMappingURL=_plugin-vue_export-helper-1tPrXgE0.mjs.map\n","import { createElementBlock, openBlock, mergeProps, createElementVNode, createCommentVNode, toDisplayString, defineComponent, ref, computed, toRef, normalizeClass, normalizeStyle, unref, Fragment, createBlock, createVNode, toHandlers, withModifiers, onMounted, toValue, mergeModels, useModel, nextTick, onUnmounted, withCtx, createTextVNode, renderList, useTemplateRef, createSlots, shallowRef, watch } from \"vue\";\nimport { emit } from \"@nextcloud/event-bus\";\nimport NcDialog from \"@nextcloud/vue/components/NcDialog\";\nimport NcEmptyContent from \"@nextcloud/vue/components/NcEmptyContent\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { FileType, Permission, formatFileSize, sortNodes, validateFilename, InvalidFilenameError, InvalidFilenameErrorReason } from \"@nextcloud/files\";\nimport NcButton from \"@nextcloud/vue/components/NcButton\";\nimport NcCheckboxRadioSwitch from \"@nextcloud/vue/components/NcCheckboxRadioSwitch\";\nimport { extname, join } from \"@nextcloud/paths\";\nimport NcDateTime from \"@nextcloud/vue/components/NcDateTime\";\nimport { mdiKey, mdiTagOutline, mdiLink, mdiAccountPlus, mdiAccountGroupOutline, mdiNetworkOutline, mdiFolder, mdiClock, mdiStar } from \"@mdi/js\";\nimport { ShareType } from \"@nextcloud/sharing\";\nimport NcIconSvgWrapper from \"@nextcloud/vue/components/NcIconSvgWrapper\";\nimport { u as usePreviewURL } from \"./preview-BIbJGxXF.mjs\";\nimport { t, l as logger, s as showError } from \"./index-JpgrUA2Z.mjs\";\nimport axios from \"@nextcloud/axios\";\nimport { loadState } from \"@nextcloud/initial-state\";\nimport { generateUrl } from \"@nextcloud/router\";\nimport { isPublicShare } from \"@nextcloud/sharing/public\";\nimport NcActionInput from \"@nextcloud/vue/components/NcActionInput\";\nimport NcActions from \"@nextcloud/vue/components/NcActions\";\nimport NcBreadcrumb from \"@nextcloud/vue/components/NcBreadcrumb\";\nimport NcBreadcrumbs from \"@nextcloud/vue/components/NcBreadcrumbs\";\nimport { getCurrentUser } from \"@nextcloud/auth\";\nimport NcSelect from \"@nextcloud/vue/components/NcSelect\";\nimport NcTextField from \"@nextcloud/vue/components/NcTextField\";\nimport { getRecentSearch, resultToNode, defaultRootPath, getDefaultPropfind, getClient, getFavoriteNodes } from \"@nextcloud/files/dav\";\nimport { CancelablePromise } from \"cancelable-promise\";\nconst _sfc_main$e = {\n  name: \"FileIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$c = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$b = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$a = { d: \"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z\" };\nconst _hoisted_4$a = { key: 0 };\nfunction _sfc_render$7(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon file-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$a, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$a, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$b))\n  ], 16, _hoisted_1$c);\n}\nconst IconFile = /* @__PURE__ */ _export_sfc(_sfc_main$e, [[\"render\", _sfc_render$7]]);\nconst _sfc_main$d = {\n  name: \"MenuDownIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$b = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$a = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$9 = { d: \"M7,10L12,15L17,10H7Z\" };\nconst _hoisted_4$9 = { key: 0 };\nfunction _sfc_render$6(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon menu-down-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$9, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$9, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$a))\n  ], 16, _hoisted_1$b);\n}\nconst IconSortDescending = /* @__PURE__ */ _export_sfc(_sfc_main$d, [[\"render\", _sfc_render$6]]);\nconst _sfc_main$c = {\n  name: \"MenuUpIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$a = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$9 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$8 = { d: \"M7,15L12,10L17,15H7Z\" };\nconst _hoisted_4$8 = { key: 0 };\nfunction _sfc_render$5(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon menu-up-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$8, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$8, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$9))\n  ], 16, _hoisted_1$a);\n}\nconst IconSortAscending = /* @__PURE__ */ _export_sfc(_sfc_main$c, [[\"render\", _sfc_render$5]]);\nconst _sfc_main$b = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$9 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$8 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$7 = { d: \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" };\nconst _hoisted_4$7 = { key: 0 };\nfunction _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon folder-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$7, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$7, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$8))\n  ], 16, _hoisted_1$9);\n}\nconst IconFolder = /* @__PURE__ */ _export_sfc(_sfc_main$b, [[\"render\", _sfc_render$4]]);\nconst fileListIconStyles = {\n  \"file-picker__file-icon\": \"_file-picker__file-icon_3v9zx_9\",\n  \"file-picker__file-icon--primary\": \"_file-picker__file-icon--primary_3v9zx_21\",\n  \"file-picker__file-icon-overlay\": \"_file-picker__file-icon-overlay_3v9zx_25\"\n};\nconst _sfc_main$a = /* @__PURE__ */ defineComponent({\n  __name: \"FilePreview\",\n  props: {\n    node: {},\n    cropImagePreviews: { type: Boolean }\n  },\n  setup(__props) {\n    const props = __props;\n    const fileListIconStyles$1 = ref(fileListIconStyles);\n    const {\n      previewURL,\n      previewLoaded\n    } = usePreviewURL(toRef(props, \"node\"), computed(() => ({ cropPreview: props.cropImagePreviews })));\n    const isFile = computed(() => props.node.type === FileType.File);\n    const folderDecorationIcon = computed(() => {\n      if (props.node.type !== FileType.Folder) {\n        return null;\n      }\n      if (props.node.attributes?.[\"is-encrypted\"] === 1) {\n        return mdiKey;\n      }\n      if (props.node.attributes?.[\"is-tag\"]) {\n        return mdiTagOutline;\n      }\n      const shareTypes = Object.values(props.node.attributes?.[\"share-types\"] || {}).flat();\n      if (shareTypes.some((type) => type === ShareType.Link || type === ShareType.Email)) {\n        return mdiLink;\n      }\n      if (shareTypes.length > 0) {\n        return mdiAccountPlus;\n      }\n      switch (props.node.attributes?.[\"mount-type\"]) {\n        case \"external\":\n        case \"external-session\":\n          return mdiNetworkOutline;\n        case \"group\":\n          return mdiAccountGroupOutline;\n        case \"shared\":\n          return mdiAccountPlus;\n      }\n      return null;\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        style: normalizeStyle(unref(previewLoaded) ? { backgroundImage: `url(${unref(previewURL)})` } : void 0),\n        class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon\"])\n      }, [\n        !unref(previewLoaded) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          isFile.value ? (openBlock(), createBlock(IconFile, {\n            key: 0,\n            size: 32\n          })) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n            folderDecorationIcon.value ? (openBlock(), createBlock(unref(NcIconSvgWrapper), {\n              key: 0,\n              class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon-overlay\"]),\n              inline: \"\",\n              path: folderDecorationIcon.value,\n              size: 16\n            }, null, 8, [\"class\", \"path\"])) : createCommentVNode(\"\", true),\n            createVNode(IconFolder, {\n              class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon--primary\"]),\n              size: 32\n            }, null, 8, [\"class\"])\n          ], 64))\n        ], 64)) : createCommentVNode(\"\", true)\n      ], 6);\n    };\n  }\n});\nconst _hoisted_1$8 = [\"tabindex\", \"aria-selected\", \"data-filename\"];\nconst _hoisted_2$7 = { class: \"row-name\" };\nconst _hoisted_3$6 = {\n  class: \"file-picker__name-container\",\n  \"data-testid\": \"row-name\"\n};\nconst _hoisted_4$6 = [\"title\", \"textContent\"];\nconst _hoisted_5$1 = [\"textContent\"];\nconst _hoisted_6$1 = { class: \"row-size\" };\nconst _hoisted_7$1 = { class: \"row-modified\" };\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  __name: \"FileListRow\",\n  props: {\n    allowPickDirectory: { type: Boolean },\n    selected: { type: Boolean },\n    showCheckbox: { type: Boolean },\n    canPick: { type: Boolean },\n    node: {},\n    cropImagePreviews: { type: Boolean }\n  },\n  emits: [\"update:selected\", \"enterDirectory\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const timestamp = computed(() => props.node.mtime ?? 0);\n    const fileExtension = computed(() => extname(props.node.displayname));\n    const displayName = computed(() => props.node.displayname.slice(0, fileExtension.value ? -fileExtension.value.length : void 0));\n    const isDirectory = computed(() => props.node.type === FileType.Folder);\n    const isPickable = computed(() => props.canPick && (props.allowPickDirectory || !isDirectory.value));\n    const isNavigatable = computed(() => (props.node.permissions & Permission.READ) === Permission.READ);\n    function toggleSelected() {\n      if (!isPickable.value) {\n        return;\n      }\n      emit2(\"update:selected\", !props.selected);\n    }\n    function handleClick() {\n      if (isDirectory.value) {\n        if (isNavigatable.value) {\n          emit2(\"enterDirectory\", props.node);\n        }\n      } else {\n        toggleSelected();\n      }\n    }\n    function handleKeyDown(event) {\n      if (event.key === \"Enter\") {\n        handleClick();\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"tr\", mergeProps({\n        tabindex: __props.showCheckbox && !isDirectory.value ? void 0 : 0,\n        \"aria-selected\": !isPickable.value ? void 0 : __props.selected,\n        class: [\"file-picker__row\", [\n          {\n            \"file-picker__row--selected\": __props.selected && !__props.showCheckbox,\n            \"file-picker__row--not-navigatable\": isDirectory.value && !isNavigatable.value,\n            \"file-picker__row--not-pickable\": !isPickable.value\n          }\n        ]],\n        \"data-filename\": __props.node.basename,\n        \"data-testid\": \"file-list-row\"\n      }, toHandlers({\n        click: handleClick,\n        /* same as tabindex -> if we hide the checkbox or this is a directory we need keyboard access to enter the directory or select the node */\n        ...!__props.showCheckbox || isDirectory.value ? { keydown: handleKeyDown } : {}\n      }, true)), [\n        __props.showCheckbox ? (openBlock(), createElementBlock(\"td\", {\n          key: 0,\n          class: \"row-checkbox\",\n          onClick: withModifiers(() => {\n          }, [\"stop\"])\n        }, [\n          createVNode(unref(NcCheckboxRadioSwitch), {\n            \"aria-label\": unref(t)(\"Select the row for {nodename}\", { nodename: displayName.value }),\n            disabled: !isPickable.value,\n            \"data-testid\": \"row-checkbox\",\n            \"model-value\": __props.selected,\n            \"onUpdate:modelValue\": toggleSelected\n          }, null, 8, [\"aria-label\", \"disabled\", \"model-value\"])\n        ])) : createCommentVNode(\"\", true),\n        createElementVNode(\"td\", _hoisted_2$7, [\n          createElementVNode(\"div\", _hoisted_3$6, [\n            createVNode(_sfc_main$a, {\n              node: __props.node,\n              \"crop-image-previews\": __props.cropImagePreviews\n            }, null, 8, [\"node\", \"crop-image-previews\"]),\n            createElementVNode(\"div\", {\n              class: \"file-picker__file-name\",\n              title: displayName.value,\n              textContent: toDisplayString(displayName.value)\n            }, null, 8, _hoisted_4$6),\n            createElementVNode(\"div\", {\n              class: \"file-picker__file-extension\",\n              textContent: toDisplayString(fileExtension.value)\n            }, null, 8, _hoisted_5$1)\n          ])\n        ]),\n        createElementVNode(\"td\", _hoisted_6$1, toDisplayString(unref(formatFileSize)(__props.node.size || 0)), 1),\n        createElementVNode(\"td\", _hoisted_7$1, [\n          createVNode(unref(NcDateTime), {\n            timestamp: timestamp.value,\n            \"ignore-seconds\": \"\"\n          }, null, 8, [\"timestamp\"])\n        ])\n      ], 16, _hoisted_1$8);\n    };\n  }\n});\nconst FileListRow = /* @__PURE__ */ _export_sfc(_sfc_main$9, [[\"__scopeId\", \"data-v-2af740c4\"]]);\nconst _hoisted_1$7 = {\n  \"aria-hidden\": \"true\",\n  class: \"file-picker__row loading-row\"\n};\nconst _hoisted_2$6 = {\n  key: 0,\n  class: \"row-checkbox\"\n};\nconst _hoisted_3$5 = { class: \"row-name\" };\nconst _hoisted_4$5 = { class: \"row-wrapper\" };\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  __name: \"LoadingTableRow\",\n  props: {\n    showCheckbox: { type: Boolean }\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"tr\", _hoisted_1$7, [\n        __props.showCheckbox ? (openBlock(), createElementBlock(\"td\", _hoisted_2$6, [..._cache[0] || (_cache[0] = [\n          createElementVNode(\"span\", null, null, -1)\n        ])])) : createCommentVNode(\"\", true),\n        createElementVNode(\"td\", _hoisted_3$5, [\n          createElementVNode(\"div\", _hoisted_4$5, [\n            createElementVNode(\"span\", {\n              class: normalizeClass(unref(fileListIconStyles)[\"file-picker__file-icon\"])\n            }, null, 2),\n            _cache[1] || (_cache[1] = createElementVNode(\"span\", null, null, -1))\n          ])\n        ]),\n        _cache[2] || (_cache[2] = createElementVNode(\"td\", { class: \"row-size\" }, [\n          createElementVNode(\"span\")\n        ], -1)),\n        _cache[3] || (_cache[3] = createElementVNode(\"td\", { class: \"row-modified\" }, [\n          createElementVNode(\"span\")\n        ], -1))\n      ]);\n    };\n  }\n});\nconst LoadingTableRow = /* @__PURE__ */ _export_sfc(_sfc_main$8, [[\"__scopeId\", \"data-v-1f96131b\"]]);\nfunction useFilesSettings() {\n  const filesUserState = loadState(\"files\", \"config\", null);\n  const showHiddenFiles = ref(filesUserState?.show_hidden ?? true);\n  const sortFavoritesFirst = ref(filesUserState?.sort_favorites_first ?? true);\n  const cropImagePreviews = ref(filesUserState?.crop_image_previews ?? true);\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/configs\"));\n        showHiddenFiles.value = data?.data?.show_hidden ?? false;\n        sortFavoritesFirst.value = data?.data?.sort_favorites_first ?? true;\n        cropImagePreviews.value = data?.data?.crop_image_previews ?? true;\n      } catch (error) {\n        logger.error(\"Could not load files settings\", { error });\n        showError(t(\"Could not load files settings\"));\n      }\n    } else {\n      logger.debug(\"Skip loading files settings - currently on public share\");\n    }\n  });\n  return {\n    showHiddenFiles,\n    sortFavoritesFirst,\n    cropImagePreviews\n  };\n}\nfunction useFilesViews(currentView) {\n  const convertOrder = (order2) => order2 === \"asc\" ? \"ascending\" : order2 === \"desc\" ? \"descending\" : \"none\";\n  const filesViewsState = loadState(\"files\", \"viewConfigs\", null);\n  const filesViewConfig = ref({\n    sortBy: filesViewsState?.files?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.files?.sorting_direction ?? \"asc\")\n  });\n  const recentViewConfig = ref({\n    sortBy: filesViewsState?.recent?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.recent?.sorting_direction ?? \"asc\")\n  });\n  const favoritesViewConfig = ref({\n    sortBy: filesViewsState?.favorites?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.favorites?.sorting_direction ?? \"asc\")\n  });\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/views\"));\n        filesViewConfig.value = {\n          sortBy: data?.data?.files?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.files?.sorting_direction)\n        };\n        favoritesViewConfig.value = {\n          sortBy: data?.data?.favorites?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.favorites?.sorting_direction)\n        };\n        recentViewConfig.value = {\n          sortBy: data?.data?.recent?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.recent?.sorting_direction)\n        };\n      } catch (error) {\n        logger.error(\"Could not load files views\", { error });\n        showError(t(\"Could not load files views\"));\n      }\n    } else {\n      logger.debug(\"Skip loading files views - currently on public share\");\n    }\n  });\n  const currentConfig = computed(() => toValue(currentView || \"files\") === \"files\" ? filesViewConfig.value : toValue(currentView) === \"recent\" ? recentViewConfig.value : favoritesViewConfig.value);\n  const sortBy = computed(() => currentConfig.value.sortBy);\n  const order = computed(() => currentConfig.value.order);\n  return {\n    filesViewConfig,\n    favoritesViewConfig,\n    recentViewConfig,\n    currentConfig,\n    sortBy,\n    order\n  };\n}\nconst _hoisted_1$6 = {\n  key: 0,\n  class: \"row-checkbox\"\n};\nconst _hoisted_2$5 = { class: \"hidden-visually\" };\nconst _hoisted_3$4 = [\"aria-sort\"];\nconst _hoisted_4$4 = { class: \"header-wrapper\" };\nconst _hoisted_5 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _hoisted_6 = [\"aria-sort\"];\nconst _hoisted_7 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _hoisted_8 = [\"aria-sort\"];\nconst _hoisted_9 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  __name: \"FileList\",\n  props: /* @__PURE__ */ mergeModels({\n    currentView: {},\n    multiselect: { type: Boolean },\n    allowPickDirectory: { type: Boolean },\n    loading: { type: Boolean },\n    files: {},\n    canPick: { type: Function }\n  }, {\n    \"path\": { required: true },\n    \"pathModifiers\": {},\n    \"selectedFiles\": { required: true },\n    \"selectedFilesModifiers\": {}\n  }),\n  emits: [\"update:path\", \"update:selectedFiles\"],\n  setup(__props) {\n    const path = useModel(__props, \"path\");\n    const selectedFiles = useModel(__props, \"selectedFiles\");\n    const props = __props;\n    const customSortingConfig = ref();\n    const { currentConfig: filesAppSorting } = useFilesViews(props.currentView);\n    const sortingConfig = computed(() => customSortingConfig.value ?? filesAppSorting.value);\n    const sortByName = computed(() => sortingConfig.value.sortBy === \"basename\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortBySize = computed(() => sortingConfig.value.sortBy === \"size\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortByModified = computed(() => sortingConfig.value.sortBy === \"mtime\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    function toggleSorting(sortBy) {\n      if (sortingConfig.value.sortBy === sortBy) {\n        if (sortingConfig.value.order === \"ascending\") {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"descending\" };\n        } else {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"ascending\" };\n        }\n      } else {\n        customSortingConfig.value = { sortBy, order: \"ascending\" };\n      }\n    }\n    const { sortFavoritesFirst, cropImagePreviews } = useFilesSettings();\n    const sortedFiles = computed(() => {\n      return sortNodes(props.files, {\n        sortFoldersFirst: true,\n        sortFavoritesFirst: sortFavoritesFirst.value,\n        sortingOrder: sortingConfig.value.order === \"descending\" ? \"desc\" : \"asc\",\n        sortingMode: sortingConfig.value.sortBy\n      });\n    });\n    const selectableFiles = computed(() => props.files.filter((file) => props.allowPickDirectory || file.type !== FileType.Folder));\n    const allSelected = computed(() => !props.loading && selectedFiles.value.length > 0 && selectedFiles.value.length >= selectableFiles.value.length);\n    function onSelectAll() {\n      if (selectedFiles.value.length < selectableFiles.value.length) {\n        selectedFiles.value = [...selectableFiles.value];\n      } else {\n        selectedFiles.value = [];\n      }\n    }\n    function onNodeSelected(file) {\n      if (selectedFiles.value.includes(file)) {\n        selectedFiles.value = selectedFiles.value.filter((f) => f.path !== file.path);\n      } else {\n        if (props.multiselect) {\n          selectedFiles.value = [...selectedFiles.value, file];\n        } else {\n          selectedFiles.value = [file];\n        }\n      }\n    }\n    function onChangeDirectory(dir) {\n      path.value = dir.path;\n    }\n    const skeletonNumber = ref(4);\n    const fileContainer = ref();\n    {\n      const resize = () => nextTick(() => {\n        const nodes = fileContainer.value?.parentElement?.children || [];\n        let height = fileContainer.value?.parentElement?.clientHeight || 450;\n        for (let index = 0; index < nodes.length; index++) {\n          if (!fileContainer.value?.isSameNode(nodes[index])) {\n            height -= nodes[index].clientHeight;\n          }\n        }\n        skeletonNumber.value = Math.max(1, Math.floor((height - 50) / 50));\n      });\n      onMounted(() => {\n        window.addEventListener(\"resize\", resize);\n        resize();\n      });\n      onUnmounted(() => {\n        window.removeEventListener(\"resize\", resize);\n      });\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"fileContainer\",\n        ref: fileContainer,\n        class: \"file-picker__files\"\n      }, [\n        createElementVNode(\"table\", null, [\n          createElementVNode(\"thead\", null, [\n            createElementVNode(\"tr\", null, [\n              __props.multiselect ? (openBlock(), createElementBlock(\"th\", _hoisted_1$6, [\n                createElementVNode(\"span\", _hoisted_2$5, toDisplayString(unref(t)(\"Select entry\")), 1),\n                __props.multiselect ? (openBlock(), createBlock(unref(NcCheckboxRadioSwitch), {\n                  key: 0,\n                  \"aria-label\": unref(t)(\"Select all entries\"),\n                  \"data-testid\": \"select-all-checkbox\",\n                  \"model-value\": allSelected.value,\n                  \"onUpdate:modelValue\": onSelectAll\n                }, null, 8, [\"aria-label\", \"model-value\"])) : createCommentVNode(\"\", true)\n              ])) : createCommentVNode(\"\", true),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortByName.value,\n                class: \"row-name\"\n              }, [\n                createElementVNode(\"div\", _hoisted_4$4, [\n                  _cache[3] || (_cache[3] = createElementVNode(\"span\", { class: \"file-picker__header-preview\" }, null, -1)),\n                  createVNode(unref(NcButton), {\n                    \"data-test\": \"file-picker_sort-name\",\n                    variant: \"tertiary\",\n                    wide: \"\",\n                    onClick: _cache[0] || (_cache[0] = ($event) => toggleSorting(\"basename\"))\n                  }, {\n                    icon: withCtx(() => [\n                      sortByName.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                        key: 0,\n                        size: 20\n                      })) : sortByName.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                        key: 1,\n                        size: 20\n                      })) : (openBlock(), createElementBlock(\"span\", _hoisted_5))\n                    ]),\n                    default: withCtx(() => [\n                      createTextVNode(\" \" + toDisplayString(unref(t)(\"Name\")), 1)\n                    ]),\n                    _: 1\n                  })\n                ])\n              ], 8, _hoisted_3$4),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortBySize.value,\n                class: \"row-size\"\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: \"tertiary\",\n                  wide: \"\",\n                  onClick: _cache[1] || (_cache[1] = ($event) => toggleSorting(\"size\"))\n                }, {\n                  icon: withCtx(() => [\n                    sortBySize.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                      key: 0,\n                      size: 20\n                    })) : sortBySize.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                      key: 1,\n                      size: 20\n                    })) : (openBlock(), createElementBlock(\"span\", _hoisted_7))\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(unref(t)(\"Size\")), 1)\n                  ]),\n                  _: 1\n                })\n              ], 8, _hoisted_6),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortByModified.value,\n                class: \"row-modified\"\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: \"tertiary\",\n                  wide: \"\",\n                  onClick: _cache[2] || (_cache[2] = ($event) => toggleSorting(\"mtime\"))\n                }, {\n                  icon: withCtx(() => [\n                    sortByModified.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                      key: 0,\n                      size: 20\n                    })) : sortByModified.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                      key: 1,\n                      size: 20\n                    })) : (openBlock(), createElementBlock(\"span\", _hoisted_9))\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(unref(t)(\"Modified\")), 1)\n                  ]),\n                  _: 1\n                })\n              ], 8, _hoisted_8)\n            ])\n          ]),\n          createElementVNode(\"tbody\", null, [\n            __props.loading ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(skeletonNumber.value, (index) => {\n              return openBlock(), createBlock(LoadingTableRow, {\n                key: index,\n                \"show-checkbox\": __props.multiselect\n              }, null, 8, [\"show-checkbox\"]);\n            }), 128)) : (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList(sortedFiles.value, (file) => {\n              return openBlock(), createBlock(FileListRow, {\n                key: file.fileid || file.path,\n                \"allow-pick-directory\": __props.allowPickDirectory,\n                \"show-checkbox\": __props.multiselect,\n                \"can-pick\": (__props.multiselect || selectedFiles.value.length === 0 || selectedFiles.value.includes(file)) && (__props.canPick === void 0 || __props.canPick(file)),\n                selected: selectedFiles.value.includes(file),\n                node: file,\n                \"crop-image-previews\": unref(cropImagePreviews),\n                \"onUpdate:selected\": ($event) => onNodeSelected(file),\n                onEnterDirectory: onChangeDirectory\n              }, null, 8, [\"allow-pick-directory\", \"show-checkbox\", \"can-pick\", \"selected\", \"node\", \"crop-image-previews\", \"onUpdate:selected\"]);\n            }), 128))\n          ])\n        ])\n      ], 512);\n    };\n  }\n});\nconst FileList = /* @__PURE__ */ _export_sfc(_sfc_main$7, [[\"__scopeId\", \"data-v-68ec5c33\"]]);\nconst _sfc_main$6 = {\n  name: \"HomeIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$5 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$4 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$3 = { d: \"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" };\nconst _hoisted_4$3 = { key: 0 };\nfunction _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon home-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$3, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$3, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$4))\n  ], 16, _hoisted_1$5);\n}\nconst IconHome = /* @__PURE__ */ _export_sfc(_sfc_main$6, [[\"render\", _sfc_render$3]]);\nconst _sfc_main$5 = {\n  name: \"PlusIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$4 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$3 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$2 = { d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" };\nconst _hoisted_4$2 = { key: 0 };\nfunction _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon plus-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$2, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$2, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$3))\n  ], 16, _hoisted_1$4);\n}\nconst IconPlus = /* @__PURE__ */ _export_sfc(_sfc_main$5, [[\"render\", _sfc_render$2]]);\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerBreadcrumbs\",\n  props: {\n    path: {},\n    showMenu: { type: Boolean }\n  },\n  emits: [\"update:path\", \"create-node\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const actionsOpen = ref(false);\n    const newNodeName = ref(\"\");\n    const nameInput = useTemplateRef(\"nameInput\");\n    function validateInput() {\n      const name = newNodeName.value.trim();\n      const input = nameInput.value?.$el?.querySelector(\"input\");\n      let validity = \"\";\n      try {\n        validateFilename(name);\n      } catch (error) {\n        if (!(error instanceof InvalidFilenameError)) {\n          throw error;\n        }\n        switch (error.reason) {\n          case InvalidFilenameErrorReason.Character:\n            validity = t('\"{char}\" is not allowed inside a folder name.', { char: error.segment });\n            break;\n          case InvalidFilenameErrorReason.ReservedName:\n            validity = t('\"{segment}\" is a reserved name and not allowed for folder names.', { segment: error.segment });\n            break;\n          case InvalidFilenameErrorReason.Extension:\n            validity = t('Folder names must not end with \"{extension}\".', { extension: error.segment });\n            break;\n          default:\n            validity = t(\"Invalid folder name.\");\n        }\n      }\n      if (input) {\n        input.setCustomValidity(validity);\n      }\n      return validity === \"\";\n    }\n    function onSubmit() {\n      const name = newNodeName.value.trim();\n      if (validateInput()) {\n        actionsOpen.value = false;\n        emit2(\"create-node\", name);\n        newNodeName.value = \"\";\n      }\n    }\n    const pathElements = computed(() => props.path.split(\"/\").filter((v) => v !== \"\").map((v, i, elements) => ({\n      name: v,\n      path: \"/\" + elements.slice(0, i + 1).join(\"/\")\n    })));\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcBreadcrumbs), { class: \"file-picker__breadcrumbs\" }, createSlots({\n        default: withCtx(() => [\n          createVNode(unref(NcBreadcrumb), {\n            name: unref(t)(\"All files\"),\n            title: unref(t)(\"Home\"),\n            onClick: _cache[0] || (_cache[0] = ($event) => emit2(\"update:path\", \"/\"))\n          }, {\n            icon: withCtx(() => [\n              createVNode(IconHome, { size: 20 })\n            ]),\n            _: 1\n          }, 8, [\"name\", \"title\"]),\n          (openBlock(true), createElementBlock(Fragment, null, renderList(pathElements.value, (dir) => {\n            return openBlock(), createBlock(unref(NcBreadcrumb), {\n              key: dir.path,\n              name: dir.name,\n              title: dir.path,\n              onClick: ($event) => emit2(\"update:path\", dir.path)\n            }, null, 8, [\"name\", \"title\", \"onClick\"]);\n          }), 128))\n        ]),\n        _: 2\n      }, [\n        __props.showMenu ? {\n          name: \"actions\",\n          fn: withCtx(() => [\n            createVNode(unref(NcActions), {\n              open: actionsOpen.value,\n              \"onUpdate:open\": _cache[2] || (_cache[2] = ($event) => actionsOpen.value = $event),\n              \"aria-label\": unref(t)(\"Create directory\"),\n              \"force-menu\": true,\n              \"force-name\": true,\n              \"menu-name\": unref(t)(\"New\"),\n              variant: \"secondary\",\n              onClose: _cache[3] || (_cache[3] = ($event) => newNodeName.value = \"\")\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconPlus, { size: 20 })\n              ]),\n              default: withCtx(() => [\n                createVNode(unref(NcActionInput), {\n                  ref_key: \"nameInput\",\n                  ref: nameInput,\n                  modelValue: newNodeName.value,\n                  \"onUpdate:modelValue\": [\n                    _cache[1] || (_cache[1] = ($event) => newNodeName.value = $event),\n                    validateInput\n                  ],\n                  label: unref(t)(\"New folder\"),\n                  placeholder: unref(t)(\"New folder name\"),\n                  onSubmit\n                }, {\n                  icon: withCtx(() => [\n                    createVNode(IconFolder, { size: 20 })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"label\", \"placeholder\"])\n              ]),\n              _: 1\n            }, 8, [\"open\", \"aria-label\", \"menu-name\"])\n          ]),\n          key: \"0\"\n        } : void 0\n      ]), 1024);\n    };\n  }\n});\nconst FilePickerBreadcrumbs = /* @__PURE__ */ _export_sfc(_sfc_main$4, [[\"__scopeId\", \"data-v-4ce40fd0\"]]);\nconst _sfc_main$3 = {\n  name: \"CloseIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$3 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$2 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$1 = { d: \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" };\nconst _hoisted_4$1 = { key: 0 };\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon close-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$1, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$1, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$2))\n  ], 16, _hoisted_1$3);\n}\nconst IconClose = /* @__PURE__ */ _export_sfc(_sfc_main$3, [[\"render\", _sfc_render$1]]);\nconst _sfc_main$2 = {\n  name: \"MagnifyIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$2 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$1 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3 = { d: \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" };\nconst _hoisted_4 = { key: 0 };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon magnify-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$1))\n  ], 16, _hoisted_1$2);\n}\nconst IconMagnify = /* @__PURE__ */ _export_sfc(_sfc_main$2, [[\"render\", _sfc_render]]);\nfunction useViews(isAnonymous) {\n  const allViews = [\n    {\n      id: \"files\",\n      label: t(\"All files\"),\n      icon: mdiFolder\n    },\n    {\n      id: \"recent\",\n      label: t(\"Recent\"),\n      icon: mdiClock\n    },\n    {\n      id: \"favorites\",\n      label: t(\"Favorites\"),\n      icon: mdiStar\n    }\n  ];\n  const availableViews = isAnonymous.value ? allViews.filter(({ id }) => id === \"files\") : allViews;\n  return {\n    allViews,\n    availableViews\n  };\n}\nconst _hoisted_1$1 = {\n  key: 0,\n  class: \"file-picker__side\"\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerNavigation\",\n  props: {\n    currentView: {},\n    filterString: {},\n    isCollapsed: { type: Boolean },\n    disabledNavigation: { type: Boolean }\n  },\n  emits: [\"update:currentView\", \"update:filterString\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const { availableViews } = useViews(ref(getCurrentUser() === null));\n    const currentViewObject = computed(() => availableViews.filter((v) => v.id === props.currentView)[0] ?? availableViews[0]);\n    const updateFilterValue = (value) => emit2(\"update:filterString\", value.toString());\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createVNode(unref(NcTextField), {\n          class: \"file-picker__filter-input\",\n          label: unref(t)(\"Filter file list\"),\n          \"show-trailing-button\": !!__props.filterString,\n          \"model-value\": __props.filterString,\n          \"onUpdate:modelValue\": updateFilterValue,\n          onTrailingButtonClick: _cache[0] || (_cache[0] = ($event) => updateFilterValue(\"\"))\n        }, {\n          \"trailing-button-icon\": withCtx(() => [\n            createVNode(IconClose, { size: 16 })\n          ]),\n          default: withCtx(() => [\n            createVNode(IconMagnify, { size: 16 })\n          ]),\n          _: 1\n        }, 8, [\"label\", \"show-trailing-button\", \"model-value\"]),\n        unref(availableViews).length > 1 && !__props.disabledNavigation ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          !__props.isCollapsed ? (openBlock(), createElementBlock(\"ul\", _hoisted_1$1, [\n            (openBlock(true), createElementBlock(Fragment, null, renderList(unref(availableViews), (view) => {\n              return openBlock(), createElementBlock(\"li\", {\n                key: view.id\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: __props.currentView === view.id ? \"primary\" : \"tertiary\",\n                  wide: true,\n                  onClick: ($event) => _ctx.$emit(\"update:currentView\", view.id)\n                }, {\n                  icon: withCtx(() => [\n                    createVNode(unref(NcIconSvgWrapper), {\n                      path: view.icon,\n                      size: 20\n                    }, null, 8, [\"path\"])\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(view.label), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"variant\", \"onClick\"])\n              ]);\n            }), 128))\n          ])) : (openBlock(), createBlock(unref(NcSelect), {\n            key: 1,\n            \"aria-label\": unref(t)(\"Current view selector\"),\n            clearable: false,\n            searchable: false,\n            options: unref(availableViews),\n            \"model-value\": currentViewObject.value,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => emit2(\"update:currentView\", $event.id))\n          }, null, 8, [\"aria-label\", \"options\", \"model-value\"]))\n        ], 64)) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nconst FilePickerNavigation = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"__scopeId\", \"data-v-b91fd905\"]]);\nfunction getRecentNodes(client) {\n  const controller = new AbortController();\n  const lastTwoWeek = Math.round(Date.now() / 1e3) - 60 * 60 * 24 * 14;\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const { data } = await client.search(\"/\", {\n        signal: controller.signal,\n        details: true,\n        data: getRecentSearch(lastTwoWeek)\n      });\n      const nodes = data.results.map((result) => resultToNode(result));\n      resolve(nodes);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nfunction getNodes(client, directoryPath) {\n  const controller = new AbortController();\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const results = await client.getDirectoryContents(join(defaultRootPath, directoryPath), {\n        signal: controller.signal,\n        details: true,\n        includeSelf: true,\n        data: getDefaultPropfind()\n      });\n      const nodes = results.data.map((result) => resultToNode(result));\n      resolve({\n        contents: nodes.filter(({ path }) => path !== directoryPath),\n        folder: nodes.find(({ path }) => path === directoryPath)\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nasync function getFile(client, path) {\n  const { data } = await client.stat(join(defaultRootPath, path), {\n    details: true,\n    data: getDefaultPropfind()\n  });\n  return resultToNode(data);\n}\nfunction useDAVFiles(currentView, currentPath) {\n  const client = getClient();\n  const files = shallowRef([]);\n  const folder = shallowRef(null);\n  const isLoading = ref(true);\n  const promise = ref(null);\n  async function createDirectory(name) {\n    const path = join(currentPath.value, name);\n    await client.createDirectory(join(defaultRootPath, path));\n    const directory = await getFile(client, path);\n    files.value = [...files.value, directory];\n    return directory;\n  }\n  async function loadDAVFiles() {\n    if (promise.value) {\n      promise.value.cancel();\n    }\n    isLoading.value = true;\n    if (currentView.value === \"favorites\") {\n      promise.value = getFavoriteNodes(client, currentPath.value);\n    } else if (currentView.value === \"recent\") {\n      promise.value = getRecentNodes(client);\n    } else {\n      promise.value = getNodes(client, currentPath.value);\n    }\n    const content = await promise.value;\n    if (!content) {\n      return;\n    } else if (\"folder\" in content) {\n      folder.value = content.folder;\n      files.value = content.contents;\n    } else {\n      folder.value = null;\n      files.value = content;\n    }\n    promise.value = null;\n    isLoading.value = false;\n  }\n  watch([currentView, currentPath], () => loadDAVFiles());\n  onMounted(() => loadDAVFiles());\n  return {\n    isLoading,\n    files,\n    folder,\n    loadFiles: loadDAVFiles,\n    createDirectory\n  };\n}\nfunction useMimeFilter(allowedMIMETypes) {\n  const splittedTypes = computed(() => allowedMIMETypes.value.map((filter) => filter.split(\"/\")));\n  const isSupportedMimeType = (mime) => {\n    const mimeTypeArray = mime.split(\"/\");\n    return splittedTypes.value.some(([type, subtype]) => (\n      // check mime type matches or is wildcard\n      (mimeTypeArray[0] === type || type === \"*\") && (mimeTypeArray[1] === subtype || subtype === \"*\")\n    ));\n  };\n  return {\n    isSupportedMimeType\n  };\n}\nconst _hoisted_1 = { class: \"file-picker__main\" };\nconst _hoisted_2 = {\n  key: 1,\n  class: \"file-picker__view\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"FilePicker\",\n  props: {\n    buttons: {},\n    name: {},\n    allowPickDirectory: { type: Boolean, default: false },\n    noMenu: { type: Boolean, default: false },\n    disabledNavigation: { type: Boolean, default: false },\n    filterFn: { type: Function, default: void 0 },\n    canPickFn: { type: Function, default: void 0 },\n    mimetypeFilter: { default: () => [] },\n    multiselect: { type: Boolean, default: false },\n    path: { default: void 0 }\n  },\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit$1 = __emit;\n    const isOpen = ref(true);\n    const currentView = ref(\"files\");\n    const savedPath = ref(window?.sessionStorage.getItem(\"NC.FilePicker.LastPath\") || \"/\");\n    const navigatedPath = ref(\"\");\n    const currentPath = computed({\n      get: () => {\n        return currentView.value === \"files\" ? navigatedPath.value || props.path || savedPath.value : \"/\";\n      },\n      set: (path) => {\n        navigatedPath.value = path;\n      }\n    });\n    const selectedFiles = shallowRef([]);\n    const {\n      files,\n      folder: currentFolder,\n      isLoading,\n      loadFiles,\n      createDirectory\n    } = useDAVFiles(currentView, currentPath);\n    watch([navigatedPath], () => {\n      if (props.path === void 0 && navigatedPath.value) {\n        window.sessionStorage.setItem(\"NC.FilePicker.LastPath\", navigatedPath.value);\n      }\n      selectedFiles.value = [];\n    });\n    let isHandlingCallback = false;\n    const dialogButtons = computed(() => {\n      const nodes = selectedFiles.value.length === 0 && props.allowPickDirectory && currentFolder.value ? [currentFolder.value] : selectedFiles.value;\n      const buttons = typeof props.buttons === \"function\" ? props.buttons(nodes, currentPath.value, currentView.value) : props.buttons;\n      return buttons.map((button) => ({\n        ...button,\n        disabled: button.disabled || isLoading.value,\n        callback: () => {\n          isHandlingCallback = true;\n          handleButtonClick(button.callback, nodes);\n        }\n      }));\n    });\n    async function handleButtonClick(callback, nodes) {\n      await callback(nodes);\n      emit$1(\"close\", nodes);\n      isHandlingCallback = false;\n    }\n    const viewHeadline = computed(() => currentView.value === \"favorites\" ? t(\"Favorites\") : currentView.value === \"recent\" ? t(\"Recent\") : \"\");\n    const filterString = ref(\"\");\n    const { isSupportedMimeType } = useMimeFilter(toRef(props, \"mimetypeFilter\"));\n    onMounted(() => loadFiles());\n    const { showHiddenFiles } = useFilesSettings();\n    const filteredFiles = computed(() => {\n      let filtered = files.value;\n      if (!showHiddenFiles.value) {\n        filtered = filtered.filter((file) => !file.basename.startsWith(\".\"));\n      }\n      if (props.mimetypeFilter.length > 0) {\n        filtered = filtered.filter((file) => file.type === \"folder\" || file.mime && isSupportedMimeType(file.mime));\n      }\n      if (filterString.value) {\n        filtered = filtered.filter((file) => file.basename.toLowerCase().includes(filterString.value.toLowerCase()));\n      }\n      if (props.filterFn) {\n        filtered = filtered.filter((f) => props.filterFn(f));\n      }\n      return filtered;\n    });\n    const noFilesDescription = computed(() => {\n      if (currentView.value === \"files\") {\n        return t(\"Upload some content or sync with your devices!\");\n      } else if (currentView.value === \"recent\") {\n        return t(\"Files and folders you recently modified will show up here.\");\n      } else {\n        return t(\"Files and folders you mark as favorite will show up here.\");\n      }\n    });\n    async function onCreateFolder(name) {\n      try {\n        const folder = await createDirectory(name);\n        navigatedPath.value = folder.path;\n        emit(\"files:node:created\", files.value.filter((file) => file.basename === name)[0]);\n      } catch (error) {\n        logger.warn(\"Could not create new folder\", { name, error });\n        showError(t(\"Could not create the new folder\"));\n      }\n    }\n    function handleClose(open) {\n      if (!open && !isHandlingCallback) {\n        emit$1(\"close\");\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcDialog), {\n        open: isOpen.value,\n        \"onUpdate:open\": [\n          _cache[6] || (_cache[6] = ($event) => isOpen.value = $event),\n          handleClose\n        ],\n        buttons: dialogButtons.value,\n        name: __props.name,\n        size: \"large\",\n        \"content-classes\": \"file-picker__content\",\n        \"dialog-classes\": \"file-picker\",\n        \"navigation-classes\": \"file-picker__navigation\"\n      }, {\n        navigation: withCtx(({ isCollapsed }) => [\n          createVNode(FilePickerNavigation, {\n            \"current-view\": currentView.value,\n            \"onUpdate:currentView\": _cache[0] || (_cache[0] = ($event) => currentView.value = $event),\n            \"filter-string\": filterString.value,\n            \"onUpdate:filterString\": _cache[1] || (_cache[1] = ($event) => filterString.value = $event),\n            \"is-collapsed\": isCollapsed,\n            \"disabled-navigation\": __props.disabledNavigation\n          }, null, 8, [\"current-view\", \"filter-string\", \"is-collapsed\", \"disabled-navigation\"])\n        ]),\n        default: withCtx(() => [\n          createElementVNode(\"div\", _hoisted_1, [\n            currentView.value === \"files\" ? (openBlock(), createBlock(FilePickerBreadcrumbs, {\n              key: 0,\n              path: currentPath.value,\n              \"onUpdate:path\": _cache[2] || (_cache[2] = ($event) => currentPath.value = $event),\n              \"show-menu\": !__props.noMenu,\n              onCreateNode: onCreateFolder\n            }, null, 8, [\"path\", \"show-menu\"])) : (openBlock(), createElementBlock(\"div\", _hoisted_2, [\n              createElementVNode(\"h3\", null, toDisplayString(viewHeadline.value), 1)\n            ])),\n            unref(isLoading) || filteredFiles.value.length > 0 ? (openBlock(), createBlock(FileList, {\n              key: 2,\n              path: currentPath.value,\n              \"onUpdate:path\": [\n                _cache[3] || (_cache[3] = ($event) => currentPath.value = $event),\n                _cache[5] || (_cache[5] = ($event) => currentView.value = \"files\")\n              ],\n              \"selected-files\": selectedFiles.value,\n              \"onUpdate:selectedFiles\": _cache[4] || (_cache[4] = ($event) => selectedFiles.value = $event),\n              \"allow-pick-directory\": __props.allowPickDirectory,\n              \"current-view\": currentView.value,\n              files: filteredFiles.value,\n              multiselect: __props.multiselect,\n              loading: unref(isLoading),\n              name: viewHeadline.value,\n              \"can-pick\": __props.canPickFn\n            }, null, 8, [\"path\", \"selected-files\", \"allow-pick-directory\", \"current-view\", \"files\", \"multiselect\", \"loading\", \"name\", \"can-pick\"])) : filterString.value ? (openBlock(), createBlock(unref(NcEmptyContent), {\n              key: 3,\n              name: unref(t)(\"No matching files\"),\n              description: unref(t)(\"No files matching your filter were found.\")\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconFile)\n              ]),\n              _: 1\n            }, 8, [\"name\", \"description\"])) : (openBlock(), createBlock(unref(NcEmptyContent), {\n              key: 4,\n              name: unref(t)(\"No files in here\"),\n              description: noFilesDescription.value\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconFile)\n              ]),\n              _: 1\n            }, 8, [\"name\", \"description\"]))\n          ])\n        ]),\n        _: 1\n      }, 8, [\"open\", \"buttons\", \"name\"]);\n    };\n  }\n});\nconst FilePicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-303416d3\"]]);\nexport {\n  FilePicker as default\n};\n//# sourceMappingURL=FilePicker-W-IYpVkn.mjs.map\n"],"names":["_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_sfc_main","defineComponent","__props","nameId","createElementId","_ctx","_cache","openBlock","createElementBlock","unref","renderSlot","createCommentVNode","createTextVNode","toDisplayString","NcEmptyContent","_export_sfc","_sfc_main$1","_hoisted_1$1","_sfc_render$1","$props","$setup","$data","$options","mergeProps","$event","createElementVNode","ChevronRight","NcActions","NcButton","crumbId","open","_sfc_render","_component_NcButton","resolveComponent","_component_NcActions","_component_ChevronRight","normalizeClass","withModifiers","args","createBlock","createSlots","withCtx","createVNode","NcBreadcrumb","IconFolder","crumbClass","NcActionButton","NcActionRouter","NcActionLink","debounce","subscribe","unsubscribe","nrCrumbs","hiddenIndices","availableWidth","totalWidth","overflow","i","startIndex","currentIndex","a","b","width","crumb","index","el","isLast","hide","w","path","disabled","crumbs","target","vnode","breadcrumbs","Fragment","child","cloneVNode","breadcrumbsRefs","crumb2","h","to","href","disableDrop","name","propsToForward","element","folderIcon","wrapper","isSlotPopulated","NcBreadcrumbs","_defineProperty","obj","key","value","_classPrivateFieldInitSpec","privateMap","_checkPrivateRedeclaration","privateCollection","_classPrivateFieldGet","receiver","descriptor","_classExtractFieldDescriptor","_classApplyDescriptorGet","_classPrivateFieldSet","_classApplyDescriptorSet","action","toStringTag","_internals","_promise","CancelablePromiseInternal","_ref","executor","internals","defaultInternals","promise","resolve","reject","onCancel","onfulfilled","onrejected","makeCancelable","createCallback","onfinally","runWhenCanceled","callback","callbacks","err","CancelablePromise","iterable","makeAllCancelable","cancelable","reason","isCancelablePromise","onResult","arg","result","resolvable","logger","getLoggerBuilder","FileType","FileType2","Permission","Permission2","isDavResource","source","davService","validateData","data","service","join","NodeStatus","NodeStatus2","Node","e","prop","origin","encodePath","basename","displayname","extname","firstMatch","root","dirname","url","mime","mtime","size","permissions","status","destination","oldBasename","basename2","attributes","File","Folder","parsePermissions","permString","defaultDavProperties","defaultDavNamespaces","getDavProperties","getDavNameSpaces","ns","getDefaultPropfind","getFavoritesReport","getRecentSearch","lastModified","getCurrentUser","getRootPath","isPublicShare","getSharingToken","defaultRootPath","getRemoteURL","generateRemoteUrl","defaultRemoteURL","getClient","remoteURL","headers","client","createClient","setHeaders","token","onRequestTokenUpdate","getRequestToken","getPatcher","options","headers2","getFavoriteNodes","davClient","davRoot","controller","nodes","node","resultToNode","error","filesRoot","userId","props","owner","id","crtime","nodeData","debug_1","hasRequiredDebug","requireDebug","process","define_process_env_default","constants","hasRequiredConstants","requireConstants","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","re","hasRequiredRe","requireRe","module","exports","debug","re2","safeRe","src","safeSrc","t2","R","LETTERDASHNUMBER","safeRegexReplacements","makeSafeRegex","max","createToken","isGlobal","safe","parseOptions_1","hasRequiredParseOptions","requireParseOptions","looseOption","emptyOpts","identifiers","hasRequiredIdentifiers","requireIdentifiers","numeric","compareIdentifiers","a2","b2","anum","bnum","semver","hasRequiredSemver","requireSemver","parseOptions","SemVer","version","m2","num","other","i2","release","identifier","identifierBase","match","base","prerelease","major_1","hasRequiredMajor","requireMajor","loose","parse_1","hasRequiredParse","requireParse","throwErrors","er","valid_1","hasRequiredValid","requireValid","parse","v","sax$1","hasRequiredSax","requireSax","sax2","strict","opt","SAXParser","SAXStream","createStream","buffers","parser","clearBuffers","S","rootNS","emit2","o","F","newf","checkBufferLength","maxAllowed","maxActual","l2","len","closeText","emitNode","flushBuffers","end","write","Stream","streamWraps","ev","me","h2","Buffer","SD","require$$1","chunk","handler","CDATA","DOCTYPE","XML_NAMESPACE","XMLNS_NAMESPACE","nameStart","nameBody","entityStart","entityBody","isWhitespace","c2","isQuote","isAttribEnd","isMatch","regex","notMatch","e2","s3","s2","event","nodeType","textopts","text","strictFail","message","newTag","parent","tag","qname","attribute","qualName","prefix","local","attrib","qn","openTag","selfClosing","p2","nv","uri","closeTag","tagName","closeTo","close","x","n2","parseEntity","entity","entityLC","numStr","beginWhiteSpace","charAt","starti","pad","returnState","buffer","parsedEntity","stringFromCharCode","floor","fromCodePoint","MAX_SIZE","codeUnits","highSurrogate","lowSurrogate","length","codePoint","InvalidFilenameErrorReason","InvalidFilenameErrorReason2","InvalidFilenameError","validateFilename","filename","capabilities","getCapabilities","forbiddenCharacters","character","endOfBasename","forbiddenFilenameExtensions","extension","humanList","humanListBinary","formatFileSize","skipSmallSizes","binaryPrefixes","base1000","order","readableFormat","relativeSize","getCanonicalLocale","stringify","orderBy","collection","identifiers2","orders","sorting","_","collator","getLanguage","sortNodes","sortingOptions","queue","PQueue","preloadImage","image","getPreviewURL","previewUrl","generateUrl","usePreviewURL","previewURL","ref","previewLoaded","watchEffect","toValue","success","sfc","val","_sfc_main$e","_hoisted_1$c","_hoisted_2$b","_hoisted_3$a","_hoisted_4$a","_sfc_render$7","IconFile","_sfc_main$d","_hoisted_1$b","_hoisted_2$a","_hoisted_3$9","_hoisted_4$9","_sfc_render$6","IconSortDescending","_sfc_main$c","_hoisted_1$a","_hoisted_2$9","_hoisted_3$8","_hoisted_4$8","_sfc_render$5","IconSortAscending","_sfc_main$b","_hoisted_1$9","_hoisted_2$8","_hoisted_3$7","_hoisted_4$7","_sfc_render$4","fileListIconStyles","_sfc_main$a","fileListIconStyles$1","toRef","computed","isFile","folderDecorationIcon","mdiKey","mdiTagOutline","shareTypes","type","ShareType","mdiLink","mdiAccountPlus","mdiNetworkOutline","mdiAccountGroupOutline","normalizeStyle","NcIconSvgWrapper","_hoisted_1$8","_hoisted_2$7","_hoisted_3$6","_hoisted_4$6","_hoisted_5$1","_hoisted_6$1","_hoisted_7$1","_sfc_main$9","__emit","timestamp","fileExtension","displayName","isDirectory","isPickable","isNavigatable","toggleSelected","handleClick","handleKeyDown","toHandlers","NcCheckboxRadioSwitch","t","NcDateTime","FileListRow","_hoisted_1$7","_hoisted_2$6","_hoisted_3$5","_hoisted_4$5","_sfc_main$8","LoadingTableRow","useFilesSettings","filesUserState","loadState","showHiddenFiles","sortFavoritesFirst","cropImagePreviews","onMounted","axios","showError","useFilesViews","currentView","convertOrder","order2","filesViewsState","filesViewConfig","recentViewConfig","favoritesViewConfig","currentConfig","sortBy","_hoisted_1$6","_hoisted_2$5","_hoisted_3$4","_hoisted_4$4","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_sfc_main$7","mergeModels","useModel","selectedFiles","customSortingConfig","filesAppSorting","sortingConfig","sortByName","sortBySize","sortByModified","toggleSorting","sortedFiles","selectableFiles","file","allSelected","onSelectAll","onNodeSelected","f","onChangeDirectory","dir","skeletonNumber","fileContainer","resize","nextTick","height","onUnmounted","renderList","FileList","_sfc_main$6","_hoisted_1$5","_hoisted_2$4","_hoisted_3$3","_hoisted_4$3","_sfc_render$3","IconHome","_sfc_main$5","_hoisted_1$4","_hoisted_2$3","_hoisted_3$2","_hoisted_4$2","_sfc_render$2","IconPlus","_sfc_main$4","actionsOpen","newNodeName","nameInput","useTemplateRef","validateInput","input","validity","onSubmit","pathElements","elements","NcActionInput","FilePickerBreadcrumbs","_sfc_main$3","_hoisted_1$3","_hoisted_2$2","_hoisted_3$1","_hoisted_4$1","IconClose","_sfc_main$2","_hoisted_1$2","_hoisted_2$1","IconMagnify","useViews","isAnonymous","allViews","mdiFolder","mdiClock","mdiStar","availableViews","currentViewObject","updateFilterValue","NcTextField","NcSelect","view","FilePickerNavigation","getRecentNodes","lastTwoWeek","getNodes","directoryPath","getFile","useDAVFiles","currentPath","files","shallowRef","folder","isLoading","createDirectory","directory","loadDAVFiles","content","watch","useMimeFilter","allowedMIMETypes","splittedTypes","filter","mimeTypeArray","subtype","emit$1","isOpen","savedPath","navigatedPath","currentFolder","loadFiles","isHandlingCallback","dialogButtons","button","handleButtonClick","viewHeadline","filterString","isSupportedMimeType","filteredFiles","filtered","noFilesDescription","onCreateFolder","emit","handleClose","NcDialog","isCollapsed","FilePicker"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8]}