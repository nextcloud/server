{"version":3,"file":"files_sharing-collaboration.mjs","sources":["../apps/files_sharing/src/collaborationresourceshandler.js"],"sourcesContent":["/**\n * SPDX-FileCopyrightText: 2016 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nwindow.OCP.Collaboration.registerType('file', {\n\taction: () => {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tOC.dialogs.filepicker(t('files_sharing', 'Link to a file'), function(f) {\n\t\t\t\tconst client = OC.Files.getClient()\n\t\t\t\tclient.getFileInfo(f).then((status, fileInfo) => {\n\t\t\t\t\tresolve(fileInfo.id)\n\t\t\t\t}).fail(() => {\n\t\t\t\t\treject(new Error('Cannot get fileinfo'))\n\t\t\t\t})\n\t\t\t}, false, null, false, OC.dialogs.FILEPICKER_TYPE_CHOOSE, '', { allowDirectoryChooser: true })\n\t\t})\n\t},\n\ttypeString: t('files_sharing', 'Link to a file'),\n\ttypeIconClass: 'icon-files-dark',\n})\n"],"names":["resolve","reject","f","status","fileInfo"],"mappings":";AAKA,OAAO,IAAI,cAAc,aAAa,OAAQ,CAC7C,OAAQ,IACA,IAAI,QAAQ,CAACA,EAASC,IAAW,CACvC,GAAG,QAAQ,WAAW,EAAE,gBAAiB,gBAAgB,EAAG,SAASC,EAAG,CACxD,GAAG,MAAM,UAAW,EAC5B,YAAYA,CAAC,EAAE,KAAK,CAACC,EAAQC,IAAa,CAChDJ,EAAQI,EAAS,EAAE,CACxB,CAAK,EAAE,KAAK,IAAM,CACbH,EAAO,IAAI,MAAM,qBAAqB,CAAC,CAC5C,CAAK,CACD,EAAE,GAAO,KAAM,GAAO,GAAG,QAAQ,uBAAwB,GAAI,CAAE,sBAAuB,GAAM,CAChG,CAAG,EAEF,WAAY,EAAE,gBAAiB,gBAAgB,EAC/C,cAAe,iBAChB,CAAC"}