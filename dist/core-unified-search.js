(()=>{"use strict";var e,t={464(e,t,n){n.d(t,{A:()=>o});var r=n(71354),i=n.n(r),a=n(76314),s=n.n(a)()(i());s.push([e.id,"/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n/*\n* Ensure proper alignment of the vue material icons\n*/\n.material-design-icon[data-v-f1ee5a71] {\n  display: flex;\n  align-self: center;\n  justify-self: center;\n  align-items: center;\n  justify-content: center;\n}\n\n/*!\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n.header-menu[data-v-f1ee5a71] {\n  position: relative;\n  width: var(--header-height);\n  height: var(--header-height);\n}\n.header-menu .header-menu__trigger[data-v-f1ee5a71] {\n  --button-size: var(--header-height) !important;\n  height: var(--header-height);\n  opacity: 0.85;\n  filter: none !important;\n  color: var(--color-background-plain-text, var(--color-primary-text)) !important;\n}\n.header-menu .header-menu__trigger[data-v-f1ee5a71]:focus-visible {\n  outline: none !important;\n  box-shadow: none !important;\n}\n.header-menu .header-menu__trigger[data-v-f1ee5a71] .button-vue__icon svg,\n.header-menu .header-menu__trigger[data-v-f1ee5a71] .button-vue__icon:not(:has(svg)) {\n  mask: var(--header-menu-icon-mask, none);\n}\n.header-menu--opened .header-menu__trigger[data-v-f1ee5a71], .header-menu__trigger[data-v-f1ee5a71]:hover, .header-menu__trigger[data-v-f1ee5a71]:focus, .header-menu__trigger[data-v-f1ee5a71]:active {\n  opacity: 1;\n}\n@media only screen and (max-width: 512px) {\n.header-menu[data-v-f1ee5a71] {\n    width: var(--default-clickable-area);\n}\n.header-menu .header-menu__trigger[data-v-f1ee5a71] {\n    --button-size: var(--default-clickable-area) !important;\n}\n}","",{version:3,sources:["webpack://./node_modules/@nextcloud/vue/dist/assets/NcHeaderButton-DI-1Gsph.css"],names:[],mappings:"AAAA;;;EAGE;AACF;;;EAGE;AACF;;CAEC;AACD;EACE,aAAa;EACb,kBAAkB;EAClB,oBAAoB;EACpB,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;;;EAGE;AACF;EACE,kBAAkB;EAClB,2BAA2B;EAC3B,4BAA4B;AAC9B;AACA;EACE,8CAA8C;EAC9C,4BAA4B;EAC5B,aAAa;EACb,uBAAuB;EACvB,+EAA+E;AACjF;AACA;EACE,wBAAwB;EACxB,2BAA2B;AAC7B;AACA;;EAEE,wCAAwC;AAC1C;AACA;EACE,UAAU;AACZ;AACA;AACA;IACI,oCAAoC;AACxC;AACA;IACI,uDAAuD;AAC3D;AACA",sourcesContent:["/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n/*\n* Ensure proper alignment of the vue material icons\n*/\n.material-design-icon[data-v-f1ee5a71] {\n  display: flex;\n  align-self: center;\n  justify-self: center;\n  align-items: center;\n  justify-content: center;\n}\n\n/*!\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n.header-menu[data-v-f1ee5a71] {\n  position: relative;\n  width: var(--header-height);\n  height: var(--header-height);\n}\n.header-menu .header-menu__trigger[data-v-f1ee5a71] {\n  --button-size: var(--header-height) !important;\n  height: var(--header-height);\n  opacity: 0.85;\n  filter: none !important;\n  color: var(--color-background-plain-text, var(--color-primary-text)) !important;\n}\n.header-menu .header-menu__trigger[data-v-f1ee5a71]:focus-visible {\n  outline: none !important;\n  box-shadow: none !important;\n}\n.header-menu .header-menu__trigger[data-v-f1ee5a71] .button-vue__icon svg,\n.header-menu .header-menu__trigger[data-v-f1ee5a71] .button-vue__icon:not(:has(svg)) {\n  mask: var(--header-menu-icon-mask, none);\n}\n.header-menu--opened .header-menu__trigger[data-v-f1ee5a71], .header-menu__trigger[data-v-f1ee5a71]:hover, .header-menu__trigger[data-v-f1ee5a71]:focus, .header-menu__trigger[data-v-f1ee5a71]:active {\n  opacity: 1;\n}\n@media only screen and (max-width: 512px) {\n.header-menu[data-v-f1ee5a71] {\n    width: var(--default-clickable-area);\n}\n.header-menu .header-menu__trigger[data-v-f1ee5a71] {\n    --button-size: var(--default-clickable-area) !important;\n}\n}"],sourceRoot:""}]);const o=s},11121(e,t,n){n.d(t,{A:()=>o});var r=n(71354),i=n.n(r),a=n(76314),s=n.n(a)()(i());s.push([e.id,".result-item[data-v-ca416b22] a{border:2px solid rgba(0,0,0,0);border-radius:var(--border-radius-large) !important}.result-item[data-v-ca416b22] a:active,.result-item[data-v-ca416b22] a:hover,.result-item[data-v-ca416b22] a:focus{background-color:var(--color-background-hover);border:2px solid var(--color-border-maxcontrast)}.result-item[data-v-ca416b22] a *{cursor:pointer}.result-item__icon[data-v-ca416b22]{overflow:hidden;width:var(--default-clickable-area);height:var(--default-clickable-area);border-radius:var(--border-radius);background-repeat:no-repeat;background-position:center center;background-size:32px}.result-item__icon--rounded[data-v-ca416b22]{border-radius:calc(var(--default-clickable-area)/2)}.result-item__icon--no-preview[data-v-ca416b22]{background-size:32px}.result-item__icon--with-thumbnail[data-v-ca416b22]{background-size:cover}.result-item__icon--with-thumbnail[data-v-ca416b22]:not(.result-item__icon--rounded){border:1px solid var(--color-border);max-height:calc(var(--default-clickable-area) - 2px);max-width:calc(var(--default-clickable-area) - 2px)}.result-item__icon img[data-v-ca416b22]{width:100%;height:100%;object-fit:cover;object-position:center}","",{version:3,sources:["webpack://./core/src/components/UnifiedSearch/SearchResult.vue"],names:[],mappings:"AAEC,gCACC,8BAAA,CACA,mDAAA,CAEA,mHAGC,8CAAA,CACA,gDAAA,CAGD,kCACC,cAAA,CAIF,oCACC,eAAA,CACA,mCAAA,CACA,oCAAA,CACA,kCAAA,CACA,2BAAA,CACA,iCAAA,CACA,oBAAA,CAEA,6CACC,mDAAA,CAGD,gDACC,oBAAA,CAGD,oDACC,qBAAA,CAGD,qFACC,oCAAA,CAEA,oDAAA,CACA,mDAAA,CAGD,wCAEC,UAAA,CACA,WAAA,CAEA,gBAAA,CACA,sBAAA",sourcesContent:["\n.result-item {\n\t:deep(a) {\n\t\tborder: 2px solid transparent;\n\t\tborder-radius: var(--border-radius-large) !important;\n\n\t\t&:active,\n\t\t&:hover,\n\t\t&:focus {\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t\tborder: 2px solid var(--color-border-maxcontrast);\n\t\t}\n\n\t\t* {\n\t\t\tcursor: pointer;\n\t\t}\n\t}\n\n\t&__icon {\n\t\toverflow: hidden;\n\t\twidth: var(--default-clickable-area);\n\t\theight: var(--default-clickable-area);\n\t\tborder-radius: var(--border-radius);\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: center center;\n\t\tbackground-size: 32px;\n\n\t\t&--rounded {\n\t\t\tborder-radius: calc(var(--default-clickable-area) / 2);\n\t\t}\n\n\t\t&--no-preview {\n\t\t\tbackground-size: 32px;\n\t\t}\n\n\t\t&--with-thumbnail {\n\t\t\tbackground-size: cover;\n\t\t}\n\n\t\t&--with-thumbnail:not(#{&}--rounded) {\n\t\t\tborder: 1px solid var(--color-border);\n\t\t\t// compensate for border\n\t\t\tmax-height: calc(var(--default-clickable-area) - 2px);\n\t\t\tmax-width: calc(var(--default-clickable-area) - 2px);\n\t\t}\n\n\t\timg {\n\t\t\t// Make sure to keep ratio\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\n\t\t\tobject-fit: cover;\n\t\t\tobject-position: center;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const o=s},12667(e,t,n){n.d(t,{A:()=>o});var r=n(71354),i=n.n(r),a=n(76314),s=n.n(a)()(i());s.push([e.id,".unified-search-custom-date-modal[data-v-2907014b]{padding:10px 20px 10px 20px}.unified-search-custom-date-modal h1[data-v-2907014b]{font-size:16px;font-weight:bolder;line-height:2em}.unified-search-custom-date-modal__pickers[data-v-2907014b]{display:flex;flex-direction:column}.unified-search-custom-date-modal__footer[data-v-2907014b]{display:flex;justify-content:end}","",{version:3,sources:["webpack://./core/src/components/UnifiedSearch/CustomDateRangeModal.vue"],names:[],mappings:"AACA,mDACC,2BAAA,CAEA,sDACC,cAAA,CACA,kBAAA,CACA,eAAA,CAGD,4DACC,YAAA,CACA,qBAAA,CAGD,2DACC,YAAA,CACA,mBAAA",sourcesContent:["\n.unified-search-custom-date-modal {\n\tpadding: 10px 20px 10px 20px;\n\n\th1 {\n\t\tfont-size: 16px;\n\t\tfont-weight: bolder;\n\t\tline-height: 2em;\n\t}\n\n\t&__pickers {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t&__footer {\n\t\tdisplay: flex;\n\t\tjustify-content: end;\n\t}\n\n}\n"],sourceRoot:""}]);const o=s},42821(e,t,n){var r=n(21777),i=n(53334),a=n(35947),s=n(10810),o=n(85471),l=n(61338),c=n(97786),d=n(46855),u=n(85072),h=n.n(u),A=n(97825),p=n.n(A),f=n(77659),m=n.n(f),C=n(55056),v=n.n(C),g=n(10540),b=n.n(g),y=n(41113),_=n.n(y),x=n(464),k={};k.styleTagTransform=_(),k.setAttributes=v(),k.insert=m().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=b(),h()(x.A,k),x.A&&x.A.locals&&x.A.locals;var w=n(88751),S=n(94294),B=n(51431);const F={name:"NcHeaderButton",components:{NcButton:S.N},props:{id:{type:String,required:!0},ariaLabel:{type:String,required:!0},description:{type:String,default:null}},emits:["click"],data:()=>({descriptionId:(0,w.G)()})};var E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"header-menu",attrs:{id:e.id}},[t("NcButton",{staticClass:"header-menu__trigger",attrs:{"aria-label":e.ariaLabel,"aria-describedby":e.descriptionId,size:"large",variant:"tertiary-no-background"},on:{click:function(t){return t.preventDefault(),e.$emit("click",t)}},scopedSlots:e._u([{key:"icon",fn:function(){return[e._t("icon")]},proxy:!0}],null,!0)}),e.description?t("span",{staticClass:"header-menu__description hidden-visually",attrs:{id:e.descriptionId}},[e._v(" "+e._s(e.description)+" ")]):e._e()],1)},D=[];const I=(0,B.n)(F,E,D,!1,null,"f1ee5a71").exports;var L=n(6695),N=n(53429),P=n(74095),M=n(16879);const R=(0,o.pM)({__name:"UnifiedSearchLocalSearchBar",props:{query:null,open:{type:Boolean}},emits:["update:open","update:query","global-search"],setup(e,{emit:t}){const n=e;(0,o.$9)((e,t)=>({dfb017de:t.searchGlobalButtonCSSWidth}));const r=(0,o.KR)();(0,o.nT)(()=>{n.open&&r.value&&r.value.focus()});const a=(0,N.al)(),s=(0,o.KR)(),{width:l}=(0,c.Lhy)(s),d=(0,o.EW)(()=>l.value?`${l.value}px`:"var(--default-clickable-area)");return{__sfc:!0,props:n,emit:t,searchInput:r,isMobile:a,searchGlobalButton:s,searchGlobalButtonWidth:l,searchGlobalButtonCSSWidth:d,clearAndCloseSearch:function(){t("update:query",""),t("update:open",!1)},mdiClose:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",mdiCloudSearchOutline:"M21.86 12.5C21.1 11.63 20.15 11.13 19 11C19 9.05 18.32 7.4 16.96 6.04C15.6 4.68 13.95 4 12 4C10.42 4 9 4.47 7.75 5.43S5.67 7.62 5.25 9.15C4 9.43 2.96 10.08 2.17 11.1S1 13.28 1 14.58C1 16.09 1.54 17.38 2.61 18.43C3.69 19.5 5 20 6.5 20H18.5C19.75 20 20.81 19.56 21.69 18.69C22.56 17.81 23 16.75 23 15.5C23 14.35 22.62 13.35 21.86 12.5M20.27 17.27C19.79 17.76 19.2 18 18.5 18H6.5C5.53 18 4.71 17.66 4.03 17C3.34 16.29 3 15.47 3 14.5S3.34 12.71 4.03 12.03C4.71 11.34 5.53 11 6.5 11H7C7 9.62 7.5 8.44 8.46 7.46C9.44 6.5 10.62 6 12 6S14.56 6.5 15.54 7.46C16.5 8.44 17 9.62 17 11V13H18.5C19.2 13 19.79 13.24 20.27 13.73S21 14.8 21 15.5 20.76 16.79 20.27 17.27M16 12C16 9.79 14.21 8 12 8S8 9.79 8 12 9.79 16 12 16C12.74 16 13.43 15.79 14 15.43L16.57 18L18 16.57L15.43 14C15.79 13.43 16 12.74 16 12M12 14C10.9 14 10 13.11 10 12S10.9 10 12 10 14 10.9 14 12 13.11 14 12 14Z",t:i.Tl,NcButton:P.A,NcIconSvgWrapper:L.A,NcInputField:M.A}}});var H=n(89226),T={};T.styleTagTransform=_(),T.setAttributes=v(),T.insert=m().bind(null,"head"),T.domAPI=p(),T.insertStyleElement=b(),h()(H.A,T),H.A&&H.A.locals&&H.A.locals;var U=n(14486);const z=(0,U.A)(R,function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("Transition",[e.open?t("div",{staticClass:"local-unified-search animated-width",class:{"local-unified-search--open":e.open}},[t(n.NcInputField,{ref:"searchInput",staticClass:"local-unified-search__input animated-width",attrs:{"aria-label":n.t("core","Search in current app"),placeholder:n.t("core","Search in current app"),"show-trailing-button":"","trailing-button-label":n.t("core","Clear search"),"model-value":e.query},on:{"update:value":function(t){return e.$emit("update:query",t)},"trailing-button-click":n.clearAndCloseSearch},scopedSlots:e._u([{key:"trailing-button-icon",fn:function(){return[t(n.NcIconSvgWrapper,{attrs:{path:n.mdiClose}})]},proxy:!0}],null,!1,3585538455)}),e._v(" "),t(n.NcButton,{ref:"searchGlobalButton",staticClass:"local-unified-search__global-search",attrs:{"aria-label":n.t("core","Search everywhere"),title:n.t("core","Search everywhere"),variant:"tertiary-no-background"},on:{click:function(t){return e.$emit("global-search")}},scopedSlots:e._u([n.isMobile?null:{key:"default",fn:function(){return[e._v("\n\t\t\t\t"+e._s(n.t("core","Search everywhere"))+"\n\t\t\t")]},proxy:!0},{key:"icon",fn:function(){return[t(n.NcIconSvgWrapper,{attrs:{path:n.mdiCloudSearchOutline}})]},proxy:!0}],null,!0)})],1):e._e()])},[],!1,null,"2b577e50",null).exports;var V=n(81222),q=n(57505),G=n(24764),O=n(41944),Q=n(32073),$=n(94219),Y=n(42507),j=n(31922),W=n(33691);const K={name:"CalendarRangeOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},X=(0,U.A)(K,function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon calendar-range-outline-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M7 11H9V13H7V11M21 5V19C21 20.11 20.11 21 19 21H5C3.89 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H6V1H8V3H16V1H18V3H19C20.11 3 21 3.9 21 5M5 7H19V5H5V7M19 19V9H5V19H19M15 13H17V11H15V13M11 13H13V11H11V13Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},[],!1,null,null,null).exports;var Z=n(26690);const J={name:"FilterIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ee=(0,U.A)(J,function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon filter-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},[],!1,null,null,null).exports,te={name:"ListBoxIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ne=(0,U.A)(te,function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon list-box-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M7 7H9V9H7V7M7 11H9V13H7V11M7 15H9V17H7V15M17 17H11V15H17V17M17 13H11V11H17V13M17 9H11V7H17V9Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},[],!1,null,null,null).exports,re={name:"MagnifyIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ie=(0,U.A)(re,function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon magnify-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},[],!1,null,null,null).exports;var ae=n(48198),se=n(42486);const oe={name:"CalendarRangeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},le=(0,U.A)(oe,function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon calendar-range-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M9,10H7V12H9V10M13,10H11V12H13V10M17,10H15V12H17V10M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V8H19V19Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},[],!1,null,null,null).exports,ce={name:"CustomDateRangeModal",components:{NcButton:P.A,NcModal:se.A,CalendarRangeIcon:le,NcDateTimePicker:ae.A},props:{isOpen:{type:Boolean,required:!0}},data:()=>({dateFilter:{startFrom:null,endAt:null}}),computed:{isModalOpen:{get(){return this.isOpen},set(e){this.$emit("update:is-open",e)}}},methods:{closeModal(){this.isModalOpen=!1},applyCustomRange(){this.$emit("set:custom-date-range",this.dateFilter),this.closeModal()}}};var de=n(12667),ue={};ue.styleTagTransform=_(),ue.setAttributes=v(),ue.insert=m().bind(null,"head"),ue.domAPI=p(),ue.insertStyleElement=b(),h()(de.A,ue),de.A&&de.A.locals&&de.A.locals;const he=(0,U.A)(ce,function(){var e=this,t=e._self._c;return e.isModalOpen?t("NcModal",{attrs:{id:"unified-search",name:e.t("core","Custom date range"),show:e.isModalOpen,size:"small","clear-view-delay":0,title:e.t("core","Custom date range")},on:{"update:show":function(t){e.isModalOpen=t},close:e.closeModal}},[t("div",{staticClass:"unified-search-custom-date-modal"},[t("h1",[e._v(e._s(e.t("core","Custom date range")))]),e._v(" "),t("div",{staticClass:"unified-search-custom-date-modal__pickers"},[t("NcDateTimePicker",{attrs:{id:"unifiedsearch-custom-date-range-start",label:e.t("core","Pick start date"),type:"date"},model:{value:e.dateFilter.startFrom,callback:function(t){e.$set(e.dateFilter,"startFrom",t)},expression:"dateFilter.startFrom"}}),e._v(" "),t("NcDateTimePicker",{attrs:{id:"unifiedsearch-custom-date-range-end",label:e.t("core","Pick end date"),type:"date"},model:{value:e.dateFilter.endAt,callback:function(t){e.$set(e.dateFilter,"endAt",t)},expression:"dateFilter.endAt"}})],1),e._v(" "),t("div",{staticClass:"unified-search-custom-date-modal__footer"},[t("NcButton",{on:{click:e.applyCustomRange},scopedSlots:e._u([{key:"icon",fn:function(){return[t("CalendarRangeIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,3084610734)},[e._v("\n\t\t\t\t"+e._s(e.t("core","Search in date range"))+"\n\t\t\t\t")])],1)])]):e._e()},[],!1,null,"2907014b",null).exports;var Ae=n(60451),pe=n(82182);const fe={name:"SearchableList",components:{IconMagnify:ie,IconAlertCircleOutline:n(57578).A,NcAvatar:O.A,NcButton:P.A,NcEmptyContent:Y.A,NcPopover:Ae.N,NcTextField:pe.A},props:{labelText:{type:String,default:"this is a label"},searchList:{type:Array,required:!0},emptyContentText:{type:String,required:!0}},data:()=>({opened:!1,error:!1,searchTerm:""}),computed:{filteredList(){return this.searchList.filter(e=>!this.searchTerm.toLowerCase().length||["displayName"].some(t=>e[t].toLowerCase().includes(this.searchTerm.toLowerCase())))}},methods:{clearSearch(){this.searchTerm=""},itemSelected(e){this.$emit("item-selected",e),this.clearSearch(),this.opened=!1},searchTermChanged(e){this.$emit("search-term-change",e)}}};var me=n(85618),Ce={};Ce.styleTagTransform=_(),Ce.setAttributes=v(),Ce.insert=m().bind(null,"head"),Ce.domAPI=p(),Ce.insertStyleElement=b(),h()(me.A,Ce),me.A&&me.A.locals&&me.A.locals;const ve=(0,U.A)(fe,function(){var e=this,t=e._self._c;return t("NcPopover",{attrs:{shown:e.opened},on:{show:function(t){e.opened=!0},hide:function(t){e.opened=!1}},scopedSlots:e._u([{key:"trigger",fn:function(){return[e._t("trigger")]},proxy:!0}],null,!0)},[e._v(" "),t("div",{staticClass:"searchable-list__wrapper"},[t("NcTextField",{attrs:{label:e.labelText,"trailing-button-icon":"close","show-trailing-button":""!==e.searchTerm},on:{"update:value":e.searchTermChanged,"trailing-button-click":e.clearSearch},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}},[t("IconMagnify",{attrs:{size:20}})],1),e._v(" "),e.filteredList.length>0?t("ul",{staticClass:"searchable-list__list"},e._l(e.filteredList,function(n){return t("li",{key:n.id,attrs:{title:n.displayName,role:"button"}},[t("NcButton",{attrs:{alignment:"start",variant:"tertiary",wide:!0},on:{click:function(t){return e.itemSelected(n)}},scopedSlots:e._u([{key:"icon",fn:function(){return[n.isUser?t("NcAvatar",{attrs:{user:n.user,"hide-user-status":""}}):t("NcAvatar",{attrs:{"is-no-user":!0,"display-name":n.displayName,"hide-user-status":""}})]},proxy:!0}],null,!0)},[e._v("\n\t\t\t\t\t"+e._s(n.displayName)+"\n\t\t\t\t")])],1)}),0):t("div",{staticClass:"searchable-list__empty-content"},[t("NcEmptyContent",{attrs:{name:e.emptyContentText},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconAlertCircleOutline")]},proxy:!0}])})],1)],1)])},[],!1,null,"37b50471",null).exports,ge={name:"SearchFilterChip",components:{CloseIcon:n(66001).A},props:{text:{type:String,required:!0},pretext:{type:String,required:!0}},methods:{deleteChip(){this.$emit("delete",this.filter)}}};var be=n(62247),ye={};ye.styleTagTransform=_(),ye.setAttributes=v(),ye.insert=m().bind(null,"head"),ye.domAPI=p(),ye.insertStyleElement=b(),h()(be.A,ye),be.A&&be.A.locals&&be.A.locals;const _e=(0,U.A)(ge,function(){var e=this,t=e._self._c;return t("div",{staticClass:"chip"},[t("span",{staticClass:"icon"},[e._t("icon"),e._v(" "),e.pretext.length?t("span",[e._v(" "+e._s(e.pretext)+" : ")]):e._e()],2),e._v(" "),t("span",{staticClass:"text"},[e._v(e._s(e.text))]),e._v(" "),t("span",{staticClass:"close-icon",on:{click:e.deleteChip}},[t("CloseIcon",{attrs:{size:18}})],1)])},[],!1,null,"60a863d2",null).exports,xe={name:"SearchResult",components:{NcListItem:n(1522).A},props:{thumbnailUrl:{type:String,default:null},title:{type:String,required:!0},subline:{type:String,default:null},resourceUrl:{type:String,default:null},icon:{type:String,default:""},rounded:{type:Boolean,default:!1},query:{type:String,default:""},focused:{type:Boolean,default:!1}},data:()=>({thumbnailHasError:!1}),watch:{thumbnailUrl(){this.thumbnailHasError=!1}},methods:{isValidIconOrPreviewUrl:e=>/^https?:\/\//.test(e)||e.startsWith("/"),thumbnailErrorHandler(){this.thumbnailHasError=!0}}};var ke=n(11121),we={};we.styleTagTransform=_(),we.setAttributes=v(),we.insert=m().bind(null,"head"),we.domAPI=p(),we.insertStyleElement=b(),h()(ke.A,we),ke.A&&ke.A.locals&&ke.A.locals;const Se=(0,U.A)(xe,function(){var e=this,t=e._self._c;return t("NcListItem",{staticClass:"result-item",attrs:{name:e.title,bold:!1,href:e.resourceUrl,target:"_self"},scopedSlots:e._u([{key:"icon",fn:function(){return[t("div",{staticClass:"result-item__icon",class:{"result-item__icon--rounded":e.rounded,"result-item__icon--no-preview":!e.isValidIconOrPreviewUrl(e.thumbnailUrl),"result-item__icon--with-thumbnail":e.isValidIconOrPreviewUrl(e.thumbnailUrl),[e.icon]:!e.isValidIconOrPreviewUrl(e.icon)},style:{backgroundImage:e.isValidIconOrPreviewUrl(e.icon)?`url(${e.icon})`:""},attrs:{"aria-hidden":"true"}},[e.isValidIconOrPreviewUrl(e.thumbnailUrl)&&!e.thumbnailHasError?t("img",{attrs:{src:e.thumbnailUrl},on:{error:e.thumbnailErrorHandler}}):e._e()])]},proxy:!0},{key:"subname",fn:function(){return[e._v("\n\t\t"+e._s(e.subline)+"\n\t")]},proxy:!0}])})},[],!1,null,"ca416b22",null).exports,Be=null===(Fe=(0,r.HW)())?(0,a.YK)().setApp("core").build():(0,a.YK)().setApp("core").setUid(Fe.uid).build();var Fe;const Ee=(0,a.YK)().setApp("unified-search").detectUser().build();var De=n(19051),Ie=n(63814);async function Le(){try{const{data:e}=await De.Ay.get((0,Ie.KT)("search/providers"),{params:{from:window.location.pathname.replace("/index.php","")+window.location.search}});if("ocs"in e&&"data"in e.ocs&&Array.isArray(e.ocs.data)&&e.ocs.data.length>0)return e.ocs.data}catch(e){Be.error(e)}return[]}async function Ne({searchTerm:e}){const{data:{contacts:t}}=await De.Ay.post((0,Ie.Jv)("/contactsmenu/contacts"),{filter:e});if(!e){let e=(0,r.HW)();return e={id:e.uid,fullName:e.displayName,emailAddresses:[]},t.unshift(e),t}return t}const Pe=(0,s.nY)("search",{state:()=>({externalFilters:[]}),actions:{registerExternalFilter({id:e,appId:t,searchFrom:n,label:r,callback:i,icon:a}){this.externalFilters.push({id:e,appId:t,searchFrom:n,name:r,callback:i,icon:a,isPluginFilter:!0})}}}),Me=(0,o.pM)({name:"UnifiedSearchModal",components:{IconArrowRight:W.A,IconAccountGroup:j.A,IconCalendarRange:X,IconDotsHorizontal:Z.A,IconFilter:ee,IconListBox:ne,IconMagnify:ie,CustomDateRangeModal:he,FilterChip:_e,NcActions:G.A,NcActionButton:q.A,NcAvatar:O.A,NcButton:P.A,NcEmptyContent:Y.A,NcDialog:$.A,NcInputField:M.A,NcCheckboxRadioSwitch:Q.A,SearchableList:ve,SearchResult:Se},props:{open:{type:Boolean,required:!0},query:{type:String,default:""},localSearch:{type:Boolean,default:!1}},emits:["update:open","update:query"],setup(){const e=(0,c.ZDG)(),t=Pe();return{t:i.t,currentLocation:e,externalFilters:t.externalFilters}},data(){return{providers:[],providerActionMenuIsOpen:!1,dateActionMenuIsOpen:!1,providerResultLimit:5,dateFilter:{id:"date",type:"date",text:"",startFrom:null,endAt:null},personFilter:{id:"person",type:"person",name:""},filteredProviders:[],searching:!1,searchQuery:"",lastSearchQuery:"",placessearchTerm:"",dateTimeFilter:null,filters:[],results:[],contacts:[],showDateRangeModal:!1,internalIsVisible:this.open,initialized:!1,searchExternalResources:!1,minSearchLength:(0,V.C)("unified-search","min-search-length",1)}},computed:{isEmptySearch(){return 0===this.searchQuery.length},hasNoResults(){return!this.isEmptySearch&&0===this.results.length},isSearchQueryTooShort(){return this.searchQuery.length<this.minSearchLength},showEmptyContentInfo(){return this.isEmptySearch||this.hasNoResults},emptyContentMessage(){return this.searching&&this.hasNoResults?(0,i.t)("core","Searching …"):this.isSearchQueryTooShort?1===this.minSearchLength?(0,i.t)("core","Start typing to search"):(0,i.t)("core","Minimum search length is {minSearchLength} characters",{minSearchLength:this.minSearchLength}):(0,i.t)("core","No matching results")},userContacts(){return this.contacts},debouncedFind(){return(0,d.A)(this.find,300)},debouncedFilterContacts(){return(0,d.A)(this.filterContacts,300)},hasExternalResources(){return this.providers.some(e=>e.isExternalProvider)},hasContentFilters(){return this.filters.some(e=>"date"===e.type||"person"===e.type)},filteredResults(){const e=e=>{if("in-folder"!==e.id)return!1;const t=e.extraParams?.path;return!t||"/"===t||""===t};return this.hasContentFilters?this.results.filter(t=>!0===t.supportsActiveFilters&&!e(t)):this.results.filter(t=>!e(t))},filteredResultUrls(){const e=new Set;return this.filteredResults.forEach(t=>{t.results.forEach(t=>{t.resourceUrl&&e.add(t.resourceUrl)})}),e},unfilteredResults(){return this.hasContentFilters?this.results.filter(e=>!1===e.supportsActiveFilters).map(e=>({...e,results:e.results.filter(e=>!this.filteredResultUrls.has(e.resourceUrl))})).filter(e=>e.results.length>0):[]}},watch:{open(){this.open&&(this.focusInput(),this.initialized||Promise.all([Le(),Ne({searchTerm:""})]).then(([e,t])=>{this.providers=this.groupProvidersByApp([...e,...this.externalFilters]),this.contacts=this.mapContacts(t),Ee.debug("Search providers and contacts initialized:",{providers:this.providers,contacts:this.contacts}),this.initialized=!0}).catch(e=>{Ee.error(e)}),this.searchQuery&&this.find(this.searchQuery))},query:{immediate:!0,handler(){this.searchQuery=this.query}},searchQuery:{handler(){this.$emit("update:query",this.searchQuery)}},searchExternalResources(){this.searchQuery&&this.find(this.searchQuery)}},mounted(){(0,l.B1)("nextcloud:unified-search:add-filter",this.handlePluginFilter)},methods:{onUpdateOpen(e){e||(this.$emit("update:open",!1),this.$emit("update:query",""))},searchLocally(){this.$emit("update:query",this.searchQuery),this.$emit("update:open",!1)},focusInput(){this.$nextTick(()=>{this.$refs.searchInput?.focus()})},find(e,t=null){if(this.isSearchQueryTooShort)return this.results=[],void(this.searching=!1);e!==this.lastSearchQuery&&(this.providerResultLimit=5),this.lastSearchQuery=e,this.searching=!0;const n=[];(t||(this.filteredProviders.length>0?this.filteredProviders:this.providers)).forEach(t=>{const r={type:t.searchFrom??t.id,query:e,cursor:null,extraQueries:t.extraParams},i=this.filters.filter(e=>"provider"!==e.type).map(e=>e.type),a=0===i.length||i.every(e=>this.providerIsCompatibleWithFilters(t,[e])),s=t.searchFrom?this.providers.find(e=>e.id===t.searchFrom)??t:t;this.filters.filter(e=>"provider"!==e.type&&this.providerIsCompatibleWithFilters(t,[e.type])).forEach(e=>{switch(e.type){case"date":s.filters?.since&&s.filters?.until&&(r.since=this.dateFilter.startFrom,r.until=this.dateFilter.endAt);break;case"person":s.filters?.person&&(r.person=this.personFilter.user)}}),this.providerResultLimit>5&&(r.limit=this.providerResultLimit,Ee.debug("Limiting search to",r.limit));const o=!this.searchExternalResources&&t.isExternalProvider,l=this.filteredProviders.some(e=>e.id===t.id);!o||l?(0,function({type:e,query:t,cursor:n,since:r,until:i,limit:a,person:s,extraQueries:o={}}){const l=De.Ay.CancelToken.source();return{request:async()=>De.Ay.get((0,Ie.KT)("search/providers/{type}/search",{type:e}),{cancelToken:l.token,params:{term:t,cursor:n,since:r,until:i,limit:a,person:s,from:window.location.pathname.replace("/index.php","")+window.location.search,...o}}),cancel:l.cancel}}(r).request)().then(e=>{n.push({...t,results:e.data.ocs.data.entries,limit:r.limit??5,supportsActiveFilters:a}),Ee.debug("Unified search results:",{results:this.results,newResults:n}),this.updateResults(n),this.searching=!1}):this.searching=!1})},updateResults(e){let t=[...this.results];this.filters.length>0&&(t=t.filter(e=>this.filters.some(t=>t.id===e.id))),e.forEach(e=>{const n=t.findIndex(t=>t.id===e.id);-1!==n?0===e.results.length?t.splice(n,1):t.splice(n,1,e):e.results.length>0&&t.push(e)});const n=t.slice(0);n.sort((e,t)=>{const n=this.providers.find(t=>t.id===e.id),r=this.providers.find(e=>e.id===t.id);return(n?n.order:0)-(r?r.order:0)}),this.results=n},mapContacts:e=>e.map(e=>({displayName:e.fullName,isNoUser:!1,subname:e.emailAddresses[0]?e.emailAddresses[0]:"",icon:"",user:e.id,isUser:e.isUser})),filterContacts(e){Ne({searchTerm:e}).then(t=>{this.contacts=this.mapContacts(t),Ee.debug(`Contacts filtered by ${e}`,{contacts:this.contacts})})},applyPersonFilter(e){const t=this.filters.findIndex(t=>t.id===e.id);-1===t?(this.personFilter.id=e.id,this.personFilter.user=e.user,this.personFilter.name=e.displayName,this.filters.push(this.personFilter)):(this.filters[t].id=e.id,this.filters[t].user=e.user,this.filters[t].name=e.displayName),this.debouncedFind(this.searchQuery),Ee.debug("Person filter applied",{person:e})},async loadMoreResultsForProvider(e){this.providerResultLimit+=5,this.find(this.searchQuery,[e])},addProviderFilter(e,t=!1){if(Ee.debug("Applying provider filter",{providerFilter:e,loadMoreResultsForProvider:t}),!e.id)return;if(e.isPluginFilter){const t=this.filteredProviders.some(t=>t.id===e.id);e.callback(!t)}this.providerResultLimit=t?this.providerResultLimit:5,this.providerActionMenuIsOpen=!1;const n=this.filteredProviders.findIndex(t=>t.id===e.id);n>-1&&(this.filteredProviders.splice(n,1),this.filters=this.syncProviderFilters(this.filters,this.filteredProviders)),this.filteredProviders.push({...e,type:e.type||"provider",isPluginFilter:e.isPluginFilter||!1}),this.filters=this.syncProviderFilters(this.filters,this.filteredProviders),Ee.debug("Search filters (newly added)",{filters:this.filters}),this.debouncedFind(this.searchQuery)},removeFilter(e){if("provider"===e.type){for(let t=0;t<this.filteredProviders.length;t++)if(this.filteredProviders[t].id===e.id){this.filteredProviders.splice(t,1);break}this.filters=this.syncProviderFilters(this.filters,this.filteredProviders),Ee.debug("Search filters (recently removed)",{filters:this.filters})}else for(let t=0;t<this.filters.length;t++)if(this.filters[t].id===e.id){this.filters.splice(t,1);break}this.debouncedFind(this.searchQuery)},syncProviderFilters(e,t){const n=e.slice();return n.forEach((e,r)=>{const i=e.id;"provider"===e.type&&(t.some(e=>e.id===i)||n.splice(r,1))}),t.forEach(e=>{const t=e.id;"provider"===e.type&&(n.some(e=>e.id===t)||n.push(e))}),n},updateDateFilter(){const e=this.filters.findIndex(e=>"date"===e.id);-1!==e?this.filters[e]=this.dateFilter:this.filters.push(this.dateFilter),this.debouncedFind(this.searchQuery)},applyQuickDateRange(e){this.dateActionMenuIsOpen=!1;const t=new Date;let n,r;switch(e){case"today":n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999),this.dateFilter.text=(0,i.t)("core","Today");break;case"7days":n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-6,0,0,0,0),this.dateFilter.text=(0,i.t)("core","Last 7 days");break;case"30days":n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-29,0,0,0,0),this.dateFilter.text=(0,i.t)("core","Last 30 days");break;case"thisyear":n=new Date(t.getFullYear(),0,1,0,0,0,0),r=new Date(t.getFullYear(),11,31,23,59,59,999),this.dateFilter.text=(0,i.t)("core","This year");break;case"lastyear":n=new Date(t.getFullYear()-1,0,1,0,0,0,0),r=new Date(t.getFullYear()-1,11,31,23,59,59,999),this.dateFilter.text=(0,i.t)("core","Last year");break;case"custom":return void(this.showDateRangeModal=!0);default:return}this.dateFilter.startFrom=n,this.dateFilter.endAt=r,this.updateDateFilter()},setCustomDateRange(e){Ee.debug("Custom date range",{range:e}),this.dateFilter.startFrom=e.startFrom,this.dateFilter.endAt=e.endAt,this.dateFilter.text=(0,i.t)("core","Between {startDate} and {endDate}",{startDate:this.dateFilter.startFrom.toLocaleDateString([(0,i.lO)()]),endDate:this.dateFilter.endAt.toLocaleDateString([(0,i.lO)()])}),this.updateDateFilter()},handlePluginFilter(e){Ee.debug("Handling plugin filter",{addFilterEvent:e});for(let t=0;t<this.filteredProviders.length;t++){const n=this.filteredProviders[t];if(n.id===e.id){n.name=e.filterUpdateText;const r=this.providers.findIndex(t=>t.id===e.id);r>-1&&(n.extraParams=e.filterParams,this.filteredProviders[t]=n);break}}this.debouncedFind(this.searchQuery)},groupProvidersByApp(e){const t={};e.forEach(e=>{const n=e.appId?e.appId:"general";t[n]||(t[n]=[]),t[n].push(e)});const n=[];return Object.values(t).forEach(e=>{n.push(...e)}),n},providerIsCompatibleWithFilters(e,t){const n=e.searchFrom?this.providers.find(t=>t.id===e.searchFrom)??e:e;return t.every(e=>{switch(e){case"date":return void 0!==n.filters?.since&&void 0!==n.filters?.until;case"person":return void 0!==n.filters?.person;default:return void 0!==n.filters?.[e]}})},async enableAllProviders(){this.providers.forEach(async(e,t)=>{this.providers[t].disabled=!1})}}});var Re=n(91445),He={};He.styleTagTransform=_(),He.setAttributes=v(),He.insert=m().bind(null,"head"),He.domAPI=p(),He.insertStyleElement=b(),h()(Re.A,He),Re.A&&Re.A.locals&&Re.A.locals;const Te=(0,U.A)(Me,function(){var e=this,t=e._self._c;return e._self._setupProxy,t("NcDialog",{ref:"unifiedSearchModal",staticClass:"unified-search-modal-root",attrs:{id:"unified-search","content-classes":"unified-search-modal__content","dialog-classes":"unified-search-modal",name:e.t("core","Unified search"),open:e.open,size:"normal"},on:{"update:open":e.onUpdateOpen}},[t("CustomDateRangeModal",{staticClass:"unified-search__date-range",attrs:{"is-open":e.showDateRangeModal},on:{"set:custom-date-range":e.setCustomDateRange,"update:is-open":function(t){e.showDateRangeModal=t}}}),e._v(" "),t("div",{staticClass:"unified-search-modal__header"},[t("NcInputField",{ref:"searchInput",attrs:{"data-cy-unified-search-input":"",type:"text",label:e.t("core","Search apps, files, tags, messages")+"..."},on:{"update:value":e.debouncedFind},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),e._v(" "),t("div",{staticClass:"unified-search-modal__filters",attrs:{"data-cy-unified-search-filters":""}},[t("NcActions",{attrs:{open:e.providerActionMenuIsOpen,"menu-name":e.t("core","Places"),"data-cy-unified-search-filter":"places"},on:{"update:open":function(t){e.providerActionMenuIsOpen=t}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconListBox",{attrs:{size:20}})]},proxy:!0}])},[e._v(" "),e._l(e.providers,function(n){return t("NcActionButton",{key:`${n.id}-${n.name.replace(/\s/g,"")}`,attrs:{disabled:n.disabled},on:{click:function(t){return e.addProviderFilter(n)}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("img",{staticClass:"filter-button__icon",attrs:{src:n.icon,alt:""}})]},proxy:!0}],null,!0)},[e._v("\n\t\t\t\t\t"+e._s(n.name)+"\n\t\t\t\t")])})],2),e._v(" "),t("NcActions",{attrs:{open:e.dateActionMenuIsOpen,"menu-name":e.t("core","Date"),"data-cy-unified-search-filter":"date"},on:{"update:open":function(t){e.dateActionMenuIsOpen=t}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconCalendarRange",{attrs:{size:20}})]},proxy:!0}])},[e._v(" "),t("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(t){return e.applyQuickDateRange("today")}}},[e._v("\n\t\t\t\t\t"+e._s(e.t("core","Today"))+"\n\t\t\t\t")]),e._v(" "),t("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(t){return e.applyQuickDateRange("7days")}}},[e._v("\n\t\t\t\t\t"+e._s(e.t("core","Last 7 days"))+"\n\t\t\t\t")]),e._v(" "),t("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(t){return e.applyQuickDateRange("30days")}}},[e._v("\n\t\t\t\t\t"+e._s(e.t("core","Last 30 days"))+"\n\t\t\t\t")]),e._v(" "),t("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(t){return e.applyQuickDateRange("thisyear")}}},[e._v("\n\t\t\t\t\t"+e._s(e.t("core","This year"))+"\n\t\t\t\t")]),e._v(" "),t("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(t){return e.applyQuickDateRange("lastyear")}}},[e._v("\n\t\t\t\t\t"+e._s(e.t("core","Last year"))+"\n\t\t\t\t")]),e._v(" "),t("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(t){return e.applyQuickDateRange("custom")}}},[e._v("\n\t\t\t\t\t"+e._s(e.t("core","Custom date range"))+"\n\t\t\t\t")])],1),e._v(" "),t("SearchableList",{attrs:{"label-text":e.t("core","Search people"),"search-list":e.userContacts,"empty-content-text":e.t("core","Not found"),"data-cy-unified-search-filter":"people"},on:{"search-term-change":e.debouncedFilterContacts,"item-selected":e.applyPersonFilter},scopedSlots:e._u([{key:"trigger",fn:function(){return[t("NcButton",{scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconAccountGroup",{attrs:{size:20}})]},proxy:!0}])},[e._v("\n\t\t\t\t\t\t"+e._s(e.t("core","People"))+"\n\t\t\t\t\t")])]},proxy:!0}])}),e._v(" "),e.localSearch?t("NcButton",{attrs:{"data-cy-unified-search-filter":"current-view"},on:{click:e.searchLocally},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconFilter",{attrs:{size:20}})]},proxy:!0}],null,!1,4275912387)},[e._v("\n\t\t\t\t"+e._s(e.t("core","Filter in current view"))+"\n\t\t\t\t")]):e._e(),e._v(" "),e.hasExternalResources?t("NcCheckboxRadioSwitch",{staticClass:"unified-search-modal__search-external-resources",class:{"unified-search-modal__search-external-resources--aligned":e.localSearch},attrs:{type:"switch"},model:{value:e.searchExternalResources,callback:function(t){e.searchExternalResources=t},expression:"searchExternalResources"}},[e._v("\n\t\t\t\t"+e._s(e.t("core","Search connected services"))+"\n\t\t\t")]):e._e()],1),e._v(" "),t("div",{staticClass:"unified-search-modal__filters-applied"},e._l(e.filters,function(n){return t("FilterChip",{key:n.id,attrs:{text:n.name??n.text,pretext:""},on:{delete:function(t){return e.removeFilter(n)}},scopedSlots:e._u([{key:"icon",fn:function(){return["person"===n.type?t("NcAvatar",{attrs:{user:n.user,size:24,"disable-menu":"","hide-user-status":"","hide-favorite":!1}}):"date"===n.type?t("IconCalendarRange"):t("img",{attrs:{src:n.icon,alt:""}})]},proxy:!0}],null,!0)})}),1)],1),e._v(" "),e.showEmptyContentInfo?t("div",{staticClass:"unified-search-modal__no-content"},[t("NcEmptyContent",{attrs:{name:e.emptyContentMessage},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconMagnify",{attrs:{size:64}})]},proxy:!0}],null,!1,125778896)})],1):t("div",{staticClass:"unified-search-modal__results"},[t("h3",{staticClass:"hidden-visually"},[e._v("\n\t\t\t"+e._s(e.t("core","Results"))+"\n\t\t")]),e._v(" "),e._l(e.filteredResults,function(n){return t("div",{key:n.id,staticClass:"result"},[t("h4",{staticClass:"result-title",attrs:{id:`unified-search-result-${n.id}`}},[e._v("\n\t\t\t\t"+e._s(n.name)+"\n\t\t\t")]),e._v(" "),t("ul",{staticClass:"result-items",attrs:{"aria-labelledby":`unified-search-result-${n.id}`}},e._l(n.results,function(n,r){return t("SearchResult",e._b({key:r},"SearchResult",n,!1))}),1),e._v(" "),t("div",{staticClass:"result-footer"},[n.results.length===n.limit?t("NcButton",{attrs:{variant:"tertiary-no-background"},on:{click:function(t){return e.loadMoreResultsForProvider(n)}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconDotsHorizontal",{attrs:{size:20}})]},proxy:!0}],null,!0)},[e._v("\n\t\t\t\t\t"+e._s(e.t("core","Load more results"))+"\n\t\t\t\t\t")]):e._e(),e._v(" "),n.inAppSearch?t("NcButton",{attrs:{alignment:"end-reverse",variant:"tertiary-no-background"},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconArrowRight",{attrs:{size:20}})]},proxy:!0}],null,!0)},[e._v("\n\t\t\t\t\t"+e._s(e.t("core","Search in"))+" "+e._s(n.name)+"\n\t\t\t\t\t")]):e._e()],1)])}),e._v(" "),e.unfilteredResults.length>0?[t("div",{staticClass:"unified-search-modal__unfiltered-header"},[t("span",{staticClass:"unified-search-modal__unfiltered-label"},[e._v(e._s(e.t("core","Partial matches")))])]),e._v(" "),e._l(e.unfilteredResults,function(n){return t("div",{key:`unfiltered-${n.id}`,staticClass:"result result--unfiltered"},[t("h4",{staticClass:"result-title",attrs:{id:`unified-search-result-unfiltered-${n.id}`}},[e._v("\n\t\t\t\t\t"+e._s(n.name)+"\n\t\t\t\t")]),e._v(" "),t("ul",{staticClass:"result-items",attrs:{"aria-labelledby":`unified-search-result-unfiltered-${n.id}`}},e._l(n.results,function(n,r){return t("SearchResult",e._b({key:r},"SearchResult",n,!1))}),1),e._v(" "),t("div",{staticClass:"result-footer"},[n.results.length===n.limit?t("NcButton",{attrs:{variant:"tertiary-no-background"},on:{click:function(t){return e.loadMoreResultsForProvider(n)}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconDotsHorizontal",{attrs:{size:20}})]},proxy:!0}],null,!0)},[e._v("\n\t\t\t\t\t\t"+e._s(e.t("core","Load more results"))+"\n\t\t\t\t\t\t")]):e._e(),e._v(" "),n.inAppSearch?t("NcButton",{attrs:{alignment:"end-reverse",variant:"tertiary-no-background"},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconArrowRight",{attrs:{size:20}})]},proxy:!0}],null,!0)},[e._v("\n\t\t\t\t\t\t"+e._s(e.t("core","Search in"))+" "+e._s(n.name)+"\n\t\t\t\t\t\t")]):e._e()],1)])})]:e._e()],2)],1)},[],!1,null,"e675c164",null).exports,Ue=(0,o.pM)({name:"UnifiedSearch",components:{NcHeaderButton:I,NcIconSvgWrapper:L.A,UnifiedSearchModal:Te,UnifiedSearchLocalSearchBar:z},setup:()=>({currentLocation:(0,c.ZDG)(),mdiMagnify:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",t:i.t}),data:()=>({queryText:"",showUnifiedSearch:!1,showLocalSearch:!1}),computed:{debouncedQueryUpdate(){return(0,d.A)(this.emitUpdatedQuery,250)},supportsLocalSearch(){return["/settings/users","/apps/deck","/settings/apps"].some(e=>this.currentLocation.pathname?.includes?.(e))}},watch:{queryText(){this.debouncedQueryUpdate()}},mounted(){!1===window.OCP.Accessibility.disableKeyboardShortcuts()&&window.addEventListener("keydown",this.onKeyDown),(0,l.B1)("nextcloud:unified-search:reset",()=>{this.showLocalSearch=!1,this.queryText=""}),(0,l.B1)("nextcloud:unified-search:reset",()=>{(0,l.Ic)("nextcloud:unified-search.reset",{query:""})}),(0,l.B1)("nextcloud:unified-search:search",({query:e})=>{(0,l.Ic)("nextcloud:unified-search.search",{query:e})}),Be.debug("Unified search initialized!")},beforeDestroy(){window.removeEventListener("keydown",this.onKeyDown)},methods:{onKeyDown(e){e.ctrlKey&&"f"===e.key&&(this.showLocalSearch||this.showUnifiedSearch||e.preventDefault(),this.toggleUnifiedSearch())},toggleUnifiedSearch(){this.supportsLocalSearch?this.showLocalSearch=!this.showLocalSearch:(this.showUnifiedSearch=!this.showUnifiedSearch,this.showLocalSearch=!1)},openModal(){this.showUnifiedSearch=!0,this.showLocalSearch=!1},emitUpdatedQuery(){""===this.queryText?(0,l.Ic)("nextcloud:unified-search:reset"):(0,l.Ic)("nextcloud:unified-search:search",{query:this.queryText})}}});var ze=n(45140),Ve={};Ve.styleTagTransform=_(),Ve.setAttributes=v(),Ve.insert=m().bind(null,"head"),Ve.domAPI=p(),Ve.insertStyleElement=b(),h()(ze.A,Ve),ze.A&&ze.A.locals&&ze.A.locals;const qe=(0,U.A)(Ue,function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"unified-search-menu"},[t("NcHeaderButton",{directives:[{name:"show",rawName:"v-show",value:!e.showLocalSearch,expression:"!showLocalSearch"}],attrs:{id:"unified-search","aria-label":e.t("core","Unified search")},on:{click:e.toggleUnifiedSearch},scopedSlots:e._u([{key:"icon",fn:function(){return[t("NcIconSvgWrapper",{attrs:{path:e.mdiMagnify}})]},proxy:!0}])}),e._v(" "),e.supportsLocalSearch?t("UnifiedSearchLocalSearchBar",{attrs:{open:e.showLocalSearch,query:e.queryText},on:{"update:open":function(t){e.showLocalSearch=t},"update:query":function(t){e.queryText=t},"global-search":e.openModal}}):e._e(),e._v(" "),t("UnifiedSearchModal",{attrs:{"local-search":e.supportsLocalSearch,query:e.queryText,open:e.showUnifiedSearch},on:{"update:query":function(t){e.queryText=t},"update:open":function(t){e.showUnifiedSearch=t}}})],1)},[],!1,null,"bd38cb24",null).exports;n.nc=(0,r.aV)();const Ge=(0,a.YK)().setApp("unified-search").detectUser().build();o.Ay.mixin({data:()=>({logger:Ge}),methods:{t:i.Tl,n:i.zw}}),window.OCA=window.OCA||{},window.OCA.UnifiedSearch={registerFilterAction:({id:e,appId:t,searchFrom:n,label:r,callback:i,icon:a})=>{Pe().registerExternalFilter({id:e,appId:t,searchFrom:n,label:r,callback:i,icon:a})}},o.Ay.use(s.R2);const Oe=(0,s.Ey)();new o.Ay({el:"#unified-search",pinia:Oe,name:"UnifiedSearchRoot",render:e=>e(qe)})},45140(e,t,n){n.d(t,{A:()=>o});var r=n(71354),i=n.n(r),a=n(76314),s=n.n(a)()(i());s.push([e.id,".unified-search-menu[data-v-bd38cb24]{display:flex;align-items:center;justify-content:center}","",{version:3,sources:["webpack://./core/src/views/UnifiedSearch.vue"],names:[],mappings:"AAEA,sCACC,YAAA,CACA,kBAAA,CACA,sBAAA",sourcesContent:["\n// this is needed to allow us overriding component styles (focus-visible)\n.unified-search-menu {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n"],sourceRoot:""}]);const o=s},62247(e,t,n){n.d(t,{A:()=>o});var r=n(71354),i=n.n(r),a=n(76314),s=n.n(a)()(i());s.push([e.id,".chip[data-v-60a863d2]{display:flex;align-items:center;padding:2px 4px;border:1px solid var(--color-primary-element-light);border-radius:20px;background-color:var(--color-primary-element-light);margin:2px}.chip .icon[data-v-60a863d2]{display:flex;align-items:center;padding-inline-end:5px}.chip .icon img[data-v-60a863d2]{width:20px;padding:2px;border-radius:20px;filter:var(--background-invert-if-bright)}.chip .text[data-v-60a863d2]{margin:0 2px}.chip .close-icon[data-v-60a863d2]{cursor:pointer}.chip .close-icon[data-v-60a863d2] :hover{filter:invert(20%)}","",{version:3,sources:["webpack://./core/src/components/UnifiedSearch/SearchFilterChip.vue"],names:[],mappings:"AACA,uBACI,YAAA,CACA,kBAAA,CACA,eAAA,CACA,mDAAA,CACA,kBAAA,CACA,mDAAA,CACA,UAAA,CAEA,6BACI,YAAA,CACA,kBAAA,CACA,sBAAA,CAEA,iCACI,UAAA,CACA,WAAA,CACA,kBAAA,CACA,yCAAA,CAIR,6BACI,YAAA,CAGJ,mCACI,cAAA,CAEA,0CACI,kBAAA",sourcesContent:["\n.chip {\n    display: flex;\n    align-items: center;\n    padding: 2px 4px;\n    border: 1px solid var(--color-primary-element-light);\n    border-radius: 20px;\n    background-color: var(--color-primary-element-light);\n    margin: 2px;\n\n    .icon {\n        display: flex;\n        align-items: center;\n        padding-inline-end: 5px;\n\n        img {\n            width: 20px;\n            padding: 2px;\n            border-radius: 20px;\n            filter: var(--background-invert-if-bright);\n        }\n    }\n\n    .text {\n        margin: 0 2px;\n    }\n\n    .close-icon {\n        cursor: pointer ;\n\n        :hover {\n            filter: invert(20%);\n        }\n    }\n}\n"],sourceRoot:""}]);const o=s},85618(e,t,n){n.d(t,{A:()=>o});var r=n(71354),i=n.n(r),a=n(76314),s=n.n(a)()(i());s.push([e.id,".searchable-list__wrapper[data-v-37b50471]{padding:calc(var(--default-grid-baseline)*3);display:flex;flex-direction:column;align-items:center;width:250px}.searchable-list__list[data-v-37b50471]{width:100%;max-height:284px;overflow-y:auto;margin-top:var(--default-grid-baseline);padding:var(--default-grid-baseline)}.searchable-list__list[data-v-37b50471] .button-vue{border-radius:var(--border-radius-large) !important}.searchable-list__list[data-v-37b50471] .button-vue span{font-weight:initial}.searchable-list__empty-content[data-v-37b50471]{margin-top:calc(var(--default-grid-baseline)*3)}","",{version:3,sources:["webpack://./core/src/components/UnifiedSearch/SearchableList.vue"],names:[],mappings:"AAEC,2CACC,4CAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,WAAA,CAGD,wCACC,UAAA,CACA,gBAAA,CACA,eAAA,CACA,uCAAA,CACA,oCAAA,CAEA,oDACC,mDAAA,CACA,yDACC,mBAAA,CAKH,iDACC,+CAAA",sourcesContent:["\n.searchable-list {\n\t&__wrapper {\n\t\tpadding: calc(var(--default-grid-baseline) * 3);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\twidth: 250px;\n\t}\n\n\t&__list {\n\t\twidth: 100%;\n\t\tmax-height: 284px;\n\t\toverflow-y: auto;\n\t\tmargin-top: var(--default-grid-baseline);\n\t\tpadding: var(--default-grid-baseline);\n\n\t\t:deep(.button-vue) {\n\t\t\tborder-radius: var(--border-radius-large) !important;\n\t\t\tspan {\n\t\t\t\tfont-weight: initial;\n\t\t\t}\n\t\t}\n\t}\n\n\t&__empty-content {\n\t\tmargin-top: calc(var(--default-grid-baseline) * 3);\n\t}\n}\n"],sourceRoot:""}]);const o=s},89226(e,t,n){n.d(t,{A:()=>o});var r=n(71354),i=n.n(r),a=n(76314),s=n.n(a)()(i());s.push([e.id,".local-unified-search[data-v-2b577e50]{--local-search-width: min(calc(250px + var(--dfb017de)), 95vw);box-sizing:border-box;position:relative;height:var(--header-height);width:var(--local-search-width);display:flex;align-items:center;z-index:10;padding-inline:var(--border-width-input-focused);overflow:hidden;inset-inline-end:0}.local-unified-search .local-unified-search__global-search[data-v-2b577e50]{position:absolute;inset-inline-end:var(--default-clickable-area)}.local-unified-search .local-unified-search__input[data-v-2b577e50]{box-sizing:border-box;margin:0;width:var(--local-search-width)}.local-unified-search .local-unified-search__input[data-v-2b577e50] input{padding-inline-end:calc(var(--dfb017de) + var(--default-clickable-area))}.animated-width[data-v-2b577e50]{transition:width var(--animation-quick) linear}.v-leave-active[data-v-2b577e50]{position:absolute !important}.v-enter.local-unified-search[data-v-2b577e50],.v-leave-to.local-unified-search[data-v-2b577e50]{--local-search-width: var(--clickable-area-large)}@media screen and (max-width: 500px){.local-unified-search.local-unified-search--open[data-v-2b577e50]{--local-search-width: 100vw;padding-inline:var(--default-grid-baseline)}.unified-search-menu:has(.local-unified-search--open){position:absolute !important;inset-inline:0}.header-end:has(.local-unified-search--open) > :not(.unified-search-menu){display:none}}","",{version:3,sources:["webpack://./core/src/components/UnifiedSearch/UnifiedSearchLocalSearchBar.vue"],names:[],mappings:"AACA,uCACC,8DAAA,CACA,qBAAA,CACA,iBAAA,CACA,2BAAA,CACA,+BAAA,CACA,YAAA,CACA,kBAAA,CAEA,UAAA,CAEA,gDAAA,CAEA,eAAA,CAEA,kBAAA,CAEA,4EACC,iBAAA,CACA,8CAAA,CAGD,oEACC,qBAAA,CAEA,QAAA,CACA,+BAAA,CAIA,0EAEC,wEAAA,CAKH,iCACC,8CAAA,CAKD,iCACC,4BAAA,CAKA,iGAEC,iDAAA,CAIF,qCACC,kEAEC,2BAAA,CACA,2CAAA,CAID,sDACC,4BAAA,CACA,cAAA,CAGD,0EACC,YAAA,CAAA",sourcesContent:['\n.local-unified-search {\n\t--local-search-width: min(calc(250px + v-bind(\'searchGlobalButtonCSSWidth\')), 95vw);\n\tbox-sizing: border-box;\n\tposition: relative;\n\theight: var(--header-height);\n\twidth: var(--local-search-width);\n\tdisplay: flex;\n\talign-items: center;\n\t// Ensure it overlays the other entries\n\tz-index: 10;\n\t// add some padding for the focus visible outline\n\tpadding-inline: var(--border-width-input-focused);\n\t// hide the overflow - needed for the transition\n\toverflow: hidden;\n\t// Ensure the position is fixed also during "position: absolut" (transition)\n\tinset-inline-end: 0;\n\n\t#{&} &__global-search {\n\t\tposition: absolute;\n\t\tinset-inline-end: var(--default-clickable-area);\n\t}\n\n\t#{&} &__input {\n\t\tbox-sizing: border-box;\n\t\t// override some nextcloud-vue styles\n\t\tmargin: 0;\n\t\twidth: var(--local-search-width);\n\n\t\t// Fixup the spacing so we can fit in the "search globally" button\n\t\t// this can break at any time the component library changes\n\t\t:deep(input) {\n\t\t\t// search global width + close button width\n\t\t\tpadding-inline-end: calc(v-bind(\'searchGlobalButtonCSSWidth\') + var(--default-clickable-area));\n\t\t}\n\t}\n}\n\n.animated-width {\n\ttransition: width var(--animation-quick) linear;\n}\n\n// Make the position absolute during the transition\n// this is needed to "hide" the button behind it\n.v-leave-active {\n\tposition: absolute !important;\n}\n\n.v-enter,\n.v-leave-to {\n\t&.local-unified-search {\n\t\t// Start with only the overlay button\n\t\t--local-search-width: var(--clickable-area-large);\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.local-unified-search.local-unified-search--open {\n\t\t// 100% but still show the menu toggle on the very right\n\t\t--local-search-width: 100vw;\n\t\tpadding-inline: var(--default-grid-baseline);\n\t}\n\n\t// when open we need to position it absolute to allow overlay the full bar\n\t:global(.unified-search-menu:has(.local-unified-search--open)) {\n\t\tposition: absolute !important;\n\t\tinset-inline: 0;\n\t}\n\t// Hide all other entries, especially the user menu as it might leak pixels\n\t:global(.header-end:has(.local-unified-search--open) > :not(.unified-search-menu)) {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);const o=s},91445(e,t,n){n.d(t,{A:()=>o});var r=n(71354),i=n.n(r),a=n(76314),s=n.n(a)()(i());s.push([e.id,".unified-search-modal-root[data-v-e675c164] .modal-container{box-sizing:border-box;height:min(80vh,800px)}[data-v-e675c164] .unified-search-modal .unified-search-modal__content{display:flex;flex-direction:column;padding-inline:0}.unified-search-modal__header[data-v-e675c164]{background-color:var(--color-main-background);padding-inline-end:12px;padding-block-end:12px;position:sticky;top:6px}.unified-search-modal__filters[data-v-e675c164]{display:flex;flex-wrap:wrap;gap:4px;justify-content:start;padding-top:4px}.unified-search-modal__search-external-resources[data-v-e675c164] span.checkbox-content{padding-top:0;padding-bottom:0}.unified-search-modal__search-external-resources[data-v-e675c164] .checkbox-content__icon{margin:auto !important}.unified-search-modal__search-external-resources--aligned[data-v-e675c164]{margin-inline-start:auto}.unified-search-modal__filters-applied[data-v-e675c164]{padding-top:4px;display:flex;flex-wrap:wrap}.unified-search-modal__no-content[data-v-e675c164]{display:flex;align-items:center;margin-top:.5em;height:70%}.unified-search-modal__results[data-v-e675c164]{overflow:hidden scroll;padding-inline:0 12px;padding-block:0 12px}.unified-search-modal__results .result-title[data-v-e675c164]{color:var(--color-primary-element);font-size:16px;margin-block:8px 4px}.unified-search-modal__results .result-footer[data-v-e675c164]{justify-content:space-between;align-items:center;display:flex}.unified-search-modal__results .result--unfiltered[data-v-e675c164]{opacity:.7}.unified-search-modal__unfiltered-header[data-v-e675c164]{display:flex;flex-direction:column;gap:2px;margin-block:16px 8px;padding-block:12px 0;border-top:1px solid var(--color-border)}.unified-search-modal__unfiltered-label[data-v-e675c164]{font-weight:bold;color:var(--color-text-maxcontrast)}.filter-button__icon[data-v-e675c164]{height:20px;width:20px;object-fit:contain;filter:var(--background-invert-if-bright);padding:11px}@media only screen and (max-height: 400px){.unified-search-modal__results[data-v-e675c164]{overflow:unset}}","",{version:3,sources:["webpack://./core/src/components/UnifiedSearch/UnifiedSearchModal.vue"],names:[],mappings:"AACA,6DACC,qBAAA,CACA,sBAAA,CAGD,uEACC,YAAA,CACA,qBAAA,CAEA,gBAAA,CAIA,+CAEC,6CAAA,CAEA,uBAAA,CAEA,sBAAA,CAEA,eAAA,CACA,OAAA,CAGD,gDACC,YAAA,CACA,cAAA,CACA,OAAA,CACA,qBAAA,CACA,eAAA,CAIA,wFACC,aAAA,CACA,gBAAA,CAGD,0FACC,sBAAA,CAGD,2EACC,wBAAA,CAIF,wDACC,eAAA,CACA,YAAA,CACA,cAAA,CAGD,mDACC,YAAA,CACA,kBAAA,CACA,eAAA,CACA,UAAA,CAGD,gDACC,sBAAA,CAEA,qBAAA,CACA,oBAAA,CAGC,8DACC,kCAAA,CACA,cAAA,CACA,oBAAA,CAGD,+DACC,6BAAA,CACA,kBAAA,CACA,YAAA,CAGD,oEACC,UAAA,CAMH,0DACC,YAAA,CACA,qBAAA,CACA,OAAA,CACA,qBAAA,CACA,oBAAA,CACA,wCAAA,CAGD,yDACC,gBAAA,CACA,mCAAA,CAIF,sCACC,WAAA,CACA,UAAA,CACA,kBAAA,CACA,yCAAA,CACA,YAAA,CAID,2CACC,gDACC,cAAA,CAAA",sourcesContent:["\n.unified-search-modal-root :deep(.modal-container) {\n\tbox-sizing: border-box;\n\theight: min(80vh, 800px);\n}\n\n:deep(.unified-search-modal .unified-search-modal__content) {\n\tdisplay: flex;\n\tflex-direction: column;\n\t// No padding to prevent scrollbar misplacement\n\tpadding-inline: 0;\n}\n\n.unified-search-modal {\n\t&__header {\n\t\t// Add background to prevent leaking scrolled content (because of sticky position)\n\t\tbackground-color: var(--color-main-background);\n\t\t// Fix padding to have the input centered\n\t\tpadding-inline-end: 12px;\n\t\t// Some padding to make elements scrolled under sticky position look nicer\n\t\tpadding-block-end: 12px;\n\t\t// Make it sticky with the input margin for the label\n\t\tposition: sticky;\n\t\ttop: 6px;\n\t}\n\n\t&__filters {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 4px;\n\t\tjustify-content: start;\n\t\tpadding-top: 4px;\n\t}\n\n\t&__search-external-resources {\n\t\t:deep(span.checkbox-content) {\n\t\t\tpadding-top: 0;\n\t\t\tpadding-bottom: 0;\n\t\t}\n\n\t\t:deep(.checkbox-content__icon) {\n\t\t\tmargin: auto !important;\n\t\t}\n\n\t\t&--aligned {\n\t\t\tmargin-inline-start: auto;\n\t\t}\n\t}\n\n\t&__filters-applied {\n\t\tpadding-top: 4px;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t}\n\n\t&__no-content {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-top: 0.5em;\n\t\theight: 70%;\n\t}\n\n\t&__results {\n\t\toverflow: hidden scroll;\n\t\t// Adjust padding to match container but keep the scrollbar on the very end\n\t\tpadding-inline: 0 12px;\n\t\tpadding-block: 0 12px;\n\n\t\t.result {\n\t\t\t&-title {\n\t\t\t\tcolor: var(--color-primary-element);\n\t\t\t\tfont-size: 16px;\n\t\t\t\tmargin-block: 8px 4px;\n\t\t\t}\n\n\t\t\t&-footer {\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\n\t\t\t&--unfiltered {\n\t\t\t\topacity: 0.7;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t&__unfiltered-header {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 2px;\n\t\tmargin-block: 16px 8px;\n\t\tpadding-block: 12px 0;\n\t\tborder-top: 1px solid var(--color-border);\n\t}\n\n\t&__unfiltered-label {\n\t\tfont-weight: bold;\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n}\n\n.filter-button__icon {\n\theight: 20px;\n\twidth: 20px;\n\tobject-fit: contain;\n\tfilter: var(--background-invert-if-bright);\n\tpadding: 11px; // align with text to fit at least 44px\n}\n\n// Ensure modal is accessible on small devices\n@media only screen and (max-height: 400px) {\n\t.unified-search-modal__results {\n\t\toverflow: unset;\n\t}\n}\n"],sourceRoot:""}]);const o=s}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=t,e=[],r.O=(t,n,i,a)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,i,a]=e[d],o=!0,l=0;l<n.length;l++)(!1&a||s>=a)&&Object.keys(r.O).every(e=>r.O[e](n[l]))?n.splice(l--,1):(o=!1,a<s&&(s=a));if(o){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,i,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.e=()=>Promise.resolve(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=6776,(()=>{var e={6776:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var i,a,[s,o,l]=n,c=0;if(s.some(t=>0!==e[t])){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(l)var d=l(r)}for(t&&t(n);c<s.length;c++)a=s[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},n=globalThis.webpackChunknextcloud_ui_legacy=globalThis.webpackChunknextcloud_ui_legacy||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var i=r.O(void 0,[4208],()=>r(42821));i=r.O(i)})();
//# sourceMappingURL=core-unified-search.js.map?v=f778afeda24c7c722ae1