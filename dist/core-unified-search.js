/*! For license information please see core-unified-search.js.LICENSE.txt */
(()=>{"use strict";var e,i,r,n={27514:t=>{t.exports="data:image/svg+xml,%3c%21--%20-%20SPDX-FileCopyrightText:%202020%20Google%20Inc.%20-%20SPDX-License-Identifier:%20Apache-2.0%20--%3e%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M18.4%207.4L17%206l-6%206%206%206%201.4-1.4-4.6-4.6%204.6-4.6m-6%200L11%206l-6%206%206%206%201.4-1.4L7.8%2012l4.6-4.6z%27/%3e%3c/svg%3e"},27518:t=>{t.exports="data:image/svg+xml,%3c%21--%20-%20SPDX-FileCopyrightText:%202020%20Google%20Inc.%20-%20SPDX-License-Identifier:%20Apache-2.0%20--%3e%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M15.4%2016.6L10.8%2012l4.6-4.6L14%206l-6%206%206%206%201.4-1.4z%27/%3e%3c/svg%3e"},32091:(e,i,r)=>{var n=r(35947),s=r(21777),a=r(53334),o=r(65899),l=r(85471),c=r(97012),d=r(61443),u=r(33691),A=r(43261);const p={name:"CalendarRangeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var h=r(14486);const f=(0,h.A)(p,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon calendar-range-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M9,10H7V12H9V10M13,10H11V12H13V10M17,10H15V12H17V10M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V8H19V19Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports;var m=r(48046),g=r(75257);const v={name:"CustomDateRangeModal",components:{NcButton:c.A,NcModal:g.A,CalendarRangeIcon:f,NcDateTimePicker:m.A},props:{isOpen:{type:Boolean,required:!0}},data:()=>({dateFilter:{startFrom:null,endAt:null}}),computed:{isModalOpen:{get(){return this.isOpen},set(t){this.$emit("update:is-open",t)}}},methods:{closeModal(){this.isModalOpen=!1},applyCustomRange(){this.$emit("set:custom-date-range",this.dateFilter),this.closeModal()}}};var C=r(85072),b=r.n(C),y=r(97825),_=r.n(y),x=r(77659),w=r.n(x),k=r(55056),N=r.n(k),F=r(10540),I=r.n(F),S=r(41113),D=r.n(S),B=r(63571),P={};P.styleTagTransform=D(),P.setAttributes=N(),P.insert=w().bind(null,"head"),P.domAPI=_(),P.insertStyleElement=I(),b()(B.A,P),B.A&&B.A.locals&&B.A.locals;const M=(0,h.A)(v,(function(){var t=this,e=t._self._c;return t.isModalOpen?e("NcModal",{attrs:{id:"unified-search",name:t.t("core","Custom date range"),show:t.isModalOpen,size:"small","clear-view-delay":0,title:t.t("core","Custom date range")},on:{"update:show":function(e){t.isModalOpen=e},close:t.closeModal}},[e("div",{staticClass:"unified-search-custom-date-modal"},[e("h1",[t._v(t._s(t.t("core","Custom date range")))]),t._v(" "),e("div",{staticClass:"unified-search-custom-date-modal__pickers"},[e("NcDateTimePicker",{attrs:{id:"unifiedsearch-custom-date-range-start",label:t.t("core","Pick start date"),type:"date"},model:{value:t.dateFilter.startFrom,callback:function(e){t.$set(t.dateFilter,"startFrom",e)},expression:"dateFilter.startFrom"}}),t._v(" "),e("NcDateTimePicker",{attrs:{id:"unifiedsearch-custom-date-range-end",label:t.t("core","Pick end date"),type:"date"},model:{value:t.dateFilter.endAt,callback:function(e){t.$set(t.dateFilter,"endAt",e)},expression:"dateFilter.endAt"}})],1),t._v(" "),e("div",{staticClass:"unified-search-custom-date-modal__footer"},[e("NcButton",{on:{click:t.applyCustomRange},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CalendarRangeIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,3084610734)},[t._v("\n\t\t\t\t"+t._s(t.t("core","Search in date range"))+"\n\t\t\t\t")])],1)])]):t._e()}),[],!1,null,"99abc4fc",null).exports,T={name:"DotsHorizontalIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},E=(0,h.A)(T,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon dots-horizontal-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports,R={name:"FilterIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},L=(0,h.A)(R,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon filter-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports,U={name:"SearchFilterChip",components:{CloseIcon:r(66001).A},props:{text:{type:String,required:!0},pretext:{type:String,required:!0}},methods:{deleteChip(){this.$emit("delete",this.filter)}}};var V=r(68179),z={};z.styleTagTransform=D(),z.setAttributes=N(),z.insert=w().bind(null,"head"),z.domAPI=_(),z.insertStyleElement=I(),b()(V.A,z),V.A&&V.A.locals&&V.A.locals;const O=(0,h.A)(U,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"chip"},[e("span",{staticClass:"icon"},[t._t("icon"),t._v(" "),t.pretext.length?e("span",[t._v(" "+t._s(t.pretext)+" : ")]):t._e()],2),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.text))]),t._v(" "),e("span",{staticClass:"close-icon",on:{click:t.deleteChip}},[e("CloseIcon",{attrs:{size:18}})],1)])}),[],!1,null,"5dc4d462",null).exports,H={name:"ListBoxIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},$=(0,h.A)(H,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon list-box-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M7 7H9V9H7V7M7 11H9V13H7V11M7 15H9V17H7V15M17 17H11V15H17V17M17 13H11V11H17V13M17 9H11V7H17V9Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports;var G=r(24764),j=r(57505),q=r(41944),Y=r(35779),Q=r(16879),W=r(15800),J=r(6375),X=r(61744),K=r(97691),Z=r(71116),tt=r(74479),et=r(73346),it=r(26873),rt=r(39092),nt=r(15502),st=r(71418),at=r(51005),ot=r(74407),lt=r(47611),ct=r(10363),dt=r(11906),ut=r(14363),At=r(25535),pt=r(95063),ht=r(27345),ft=r(85865),mt=r(85474),gt=r(94174),vt=r(13463),Ct=r(542),bt=r(24784),yt=r(14727),_t=r(11041),xt=r(18608),wt=r(57718),kt=r(59553),Nt=r(69048),Ft=r(24761),It=r(13368),St=r(83125),Dt=r(21590),Bt=r(4798),Pt=r(75971),Mt=r(2738),Tt=r(54463),Et=r(44228),Rt=r(30040),Lt=r(52045),Ut=r(20802),Vt=r(25521),zt=r(25285),Ot=r(94427),Ht=r(27403),$t=r(48679),Gt=r(26517),jt=r(5260),qt=r(56849),Yt=r(51310),Qt=r(28240),Wt=r(59892),Jt=r(40083),Xt=r(18722),Kt=r(99316),Zt=r(74484),te=r(997),ee=r(23573),ie=r(20028),re=r(97705),ne=(r(58322),r(65692),r(65043)),se=r(30872),ae=r(59890),oe=r(61338),le=r(94632),ce=r(11712),de=r(38769),ue=r(68147),Ae=r(36432),pe=r(42535),he=r(30709),fe=r(36926),me=r(23982),ge=r(51725),ve=r(23610),Ce=(r(23020),r(53429),r(94205),r(95462),r(23739),r(16343),r(29928),r(64660),r(63352),r(42892)),be=r(15074),ye=(r(59656),r(75105),r(92471),r(16406),r(2508));W.N,J.N,X.A,K.N,Z.N,tt.A,et.N,it.A,nt.A,st.A,at.N,rt.N,ot.N,lt.A,ct.A,dt.N,ut.N,At.A,pt.N,ht.A,ft.A,mt.N,gt.N,vt.N,Ct.A,bt.N,yt.A,_t.N,xt.A,ie.N,wt.N,kt.N,Nt.N,Ft.N,c.A,It.N,St.N,Dt.N,Bt.N,Pt.N,Mt.N,Tt.N,Et.N,Rt.A,m.A,Lt.N,Ut.N,Vt.A,zt.N,Y.A,Ot.A,Ht.A,$t.N,Gt.N,jt.N,qt.N,Yt.N,Qt.N,Wt.A,ee.N,g.A,Jt.A,Xt.N,Kt.N,Zt.N,te.N,ie.a,re.N,le.N,se.N,ce.N,de.N,ue.N,Ae.N,pe.N,he.N,ae.N,fe.N,me.N,ge.N,ve.A,Symbol.toStringTag,Ce.u,be.u,ye.yw,Symbol.toStringTag;var _e=r(57578);const xe={name:"SearchableList",components:{NcPopover:Kt.N,NcTextField:ae.N,Magnify:d.A,AlertCircleOutline:_e.A,NcAvatar:wt.N,NcEmptyContent:Y.A,NcButton:c.A},props:{labelText:{type:String,default:"this is a label"},searchList:{type:Array,required:!0},emptyContentText:{type:String,required:!0}},data:()=>({opened:!1,error:!1,searchTerm:""}),computed:{filteredList(){return this.searchList.filter((t=>!this.searchTerm.toLowerCase().length||["displayName"].some((e=>t[e].toLowerCase().includes(this.searchTerm.toLowerCase())))))}},methods:{clearSearch(){this.searchTerm=""},itemSelected(t){this.$emit("item-selected",t),this.clearSearch(),this.opened=!1},searchTermChanged(t){this.$emit("search-term-change",t)}}};var we=r(53992),ke={};ke.styleTagTransform=D(),ke.setAttributes=N(),ke.insert=w().bind(null,"head"),ke.domAPI=_(),ke.insertStyleElement=I(),b()(we.A,ke),we.A&&we.A.locals&&we.A.locals;const Ne=(0,h.A)(xe,(function(){var t=this,e=t._self._c;return e("NcPopover",{attrs:{shown:t.opened},on:{show:function(e){t.opened=!0},hide:function(e){t.opened=!1}},scopedSlots:t._u([{key:"trigger",fn:function(){return[t._t("trigger")]},proxy:!0}],null,!0)},[t._v(" "),e("div",{staticClass:"searchable-list__wrapper"},[e("NcTextField",{attrs:{value:t.searchTerm,label:t.labelText,"trailing-button-icon":"close","show-trailing-button":""!==t.searchTerm},on:{"update:value":[function(e){t.searchTerm=e},t.searchTermChanged],"trailing-button-click":t.clearSearch}},[e("Magnify",{attrs:{size:20}})],1),t._v(" "),t.filteredList.length>0?e("ul",{staticClass:"searchable-list__list"},t._l(t.filteredList,(function(i){return e("li",{key:i.id,attrs:{title:i.displayName,role:"button"}},[e("NcButton",{attrs:{alignment:"start",type:"tertiary",wide:!0},on:{click:function(e){return t.itemSelected(i)}},scopedSlots:t._u([{key:"icon",fn:function(){return[i.isUser?e("NcAvatar",{attrs:{user:i.user,"show-user-status":!1}}):e("NcAvatar",{attrs:{"is-no-user":!0,"display-name":i.displayName,"show-user-status":!1}})]},proxy:!0}],null,!0)},[t._v("\n\t\t\t\t\t"+t._s(i.displayName)+"\n\t\t\t\t")])],1)})),0):e("div",{staticClass:"searchable-list__empty-content"},[e("NcEmptyContent",{attrs:{name:t.emptyContentText},scopedSlots:t._u([{key:"icon",fn:function(){return[e("AlertCircleOutline")]},proxy:!0}])})],1)],1)])}),[],!1,null,"eadbbf10",null).exports,Fe={name:"SearchResult",components:{NcListItem:Yt.N},props:{thumbnailUrl:{type:String,default:null},title:{type:String,required:!0},subline:{type:String,default:null},resourceUrl:{type:String,default:null},icon:{type:String,default:""},rounded:{type:Boolean,default:!1},query:{type:String,default:""},focused:{type:Boolean,default:!1}},data:()=>({thumbnailHasError:!1}),watch:{thumbnailUrl(){this.thumbnailHasError=!1}},methods:{isValidIconOrPreviewUrl:t=>/^https?:\/\//.test(t)||t.startsWith("/"),thumbnailErrorHandler(){this.thumbnailHasError=!0}}};var Ie=r(84359),Se={};Se.styleTagTransform=D(),Se.setAttributes=N(),Se.insert=w().bind(null,"head"),Se.domAPI=_(),Se.insertStyleElement=I(),b()(Ie.A,Se),Ie.A&&Ie.A.locals&&Ie.A.locals;const De=(0,h.A)(Fe,(function(){var t=this,e=t._self._c;return e("NcListItem",{staticClass:"result-items__item",attrs:{name:t.title,bold:!1,href:t.resourceUrl,target:"_self"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("div",{staticClass:"result-items__item-icon",class:{"result-items__item-icon--rounded":t.rounded,"result-items__item-icon--no-preview":!t.isValidIconOrPreviewUrl(t.thumbnailUrl),"result-items__item-icon--with-thumbnail":t.isValidIconOrPreviewUrl(t.thumbnailUrl),[t.icon]:!t.isValidIconOrPreviewUrl(t.icon)},style:{backgroundImage:t.isValidIconOrPreviewUrl(t.icon)?`url(${t.icon})`:""},attrs:{"aria-hidden":"true"}},[t.isValidIconOrPreviewUrl(t.thumbnailUrl)&&!t.thumbnailHasError?e("img",{attrs:{src:t.thumbnailUrl},on:{error:t.thumbnailErrorHandler}}):t._e()])]},proxy:!0},{key:"subname",fn:function(){return[t._v("\n\t\t"+t._s(t.subline)+"\n\t")]},proxy:!0}])})}),[],!1,null,"67d9a3cf",null).exports;var Be=r(17334),Pe=r.n(Be),Me=r(13073),Te=r(63814);async function Ee(t){let{searchTerm:e}=t;const{data:{contacts:i}}=await ne.Ay.post((0,Te.Jv)("/contactsmenu/contacts"),{filter:e});if(!e){let t=(0,s.HW)();return t={id:t.uid,fullName:t.displayName,emailAddresses:[]},i.unshift(t),i}return i}const Re=(0,o.nY)({id:"search",state:()=>({externalFilters:[]}),actions:{registerExternalFilter(t){let{id:e,appId:i,label:r,callback:n,icon:s}=t;this.externalFilters.push({id:e,appId:i,name:r,callback:n,icon:s,isPluginFilter:!0})}}}),Le={name:"UnifiedSearchModal",components:{ArrowRight:u.A,AccountGroup:A.A,CalendarRangeIcon:f,CustomDateRangeModal:M,DotsHorizontalIcon:E,FilterIcon:L,FilterChip:O,ListBox:$,NcActions:G.A,NcActionButton:j.A,NcAvatar:q.A,NcButton:c.A,NcEmptyContent:Y.A,NcModal:g.A,NcInputField:Q.A,MagnifyIcon:d.A,SearchableList:Ne,SearchResult:De},props:{isVisible:{type:Boolean,required:!0}},setup:()=>({currentLocation:(0,Me.ZDG)(),externalFilters:Re().externalFilters}),data(){return{providers:[],providerActionMenuIsOpen:!1,dateActionMenuIsOpen:!1,providerResultLimit:5,dateFilter:{id:"date",type:"date",text:"",startFrom:null,endAt:null},personFilter:{id:"person",type:"person",name:""},dateFilterIsApplied:!1,personFilterIsApplied:!1,filteredProviders:[],searching:!1,searchQuery:"",placessearchTerm:"",dateTimeFilter:null,filters:[],results:[],contacts:[],debouncedFind:Pe()(this.find,300),debouncedFilterContacts:Pe()(this.filterContacts,300),showDateRangeModal:!1,internalIsVisible:!1}},computed:{userContacts(){return this.contacts},noContentInfo(){const e=0===this.searchQuery.length,i=this.searchQuery.length>0&&0===this.results.length;return{show:e||i,text:this.searching&&i?t("core","Searching â€¦"):e?t("core","Start typing to search"):t("core","No matching results"),icon:d.A}},supportFiltering(){return["/settings/users","/apps/files","/apps/deck"].some((t=>this.currentLocation.pathname?.includes?.(t)))}},watch:{isVisible(t){t&&(0,oe.Ic)("nextcloud:unified-search.reset",{query:""}),this.internalIsVisible=t},internalIsVisible(t){this.$emit("update:isVisible",t),this.$nextTick((()=>{t&&this.focusInput()}))}},mounted(){(0,oe.B1)("nextcloud:unified-search:add-filter",this.handlePluginFilter),async function(){try{const{data:t}=await ne.Ay.get((0,Te.KT)("search/providers"),{params:{from:window.location.pathname.replace("/index.php","")+window.location.search}});if("ocs"in t&&"data"in t.ocs&&Array.isArray(t.ocs.data)&&t.ocs.data.length>0)return t.ocs.data}catch(t){console.error(t)}return[]}().then((t=>{this.providers=t,this.externalFilters.forEach((t=>{this.providers.push(t)})),this.providers=this.groupProvidersByApp(this.providers),console.debug("Search providers",this.providers)})),Ee({searchTerm:""}).then((t=>{this.contacts=this.mapContacts(t),console.debug("Contacts",this.contacts)}))},methods:{find(t){if(this.searching=!0,0===t.length)return this.results=[],this.searching=!1,void(0,oe.Ic)("nextcloud:unified-search.reset",{query:t});(0,oe.Ic)("nextcloud:unified-search.search",{query:t});const e=[],i=this.filteredProviders.length>0?this.filteredProviders:this.providers,r=(i,r)=>{const n={type:i.id,query:t,cursor:null,extraQueries:i.extraParams};r.dateFilterIsApplied&&i.filters.since&&i.filters.until&&(n.since=this.dateFilter.startFrom,n.until=this.dateFilter.endAt),r.personFilterIsApplied&&i.filters.person&&(n.person=this.personFilter.user),this.providerResultLimit>5&&(n.limit=this.providerResultLimit),(0,function(t){let{type:e,query:i,cursor:r,since:n,until:s,limit:a,person:o,extraQueries:l={}}=t;const c=ne.Ay.CancelToken.source();return{request:async()=>ne.Ay.get((0,Te.KT)("search/providers/{type}/search",{type:e}),{cancelToken:c.token,params:{term:i,cursor:r,since:n,until:s,limit:a,person:o,from:window.location.pathname.replace("/index.php","")+window.location.search,...l}}),cancel:c.cancel}}(n).request)().then((t=>{e.push({id:i.id,provider:i.name,inAppSearch:i.inAppSearch,results:t.data.ocs.data.entries}),console.debug("New results",e),console.debug("Unified search results:",this.results),this.updateResults(e),this.searching=!1}))};i.forEach((t=>{const e=this.dateFilterIsApplied,i=this.personFilterIsApplied;r(t,{dateFilterIsApplied:e,personFilterIsApplied:i})}))},updateResults(t){let e=[...this.results];this.filters.length>0&&(e=e.filter((t=>this.filters.some((e=>e.id===t.id))))),t.forEach((t=>{const i=e.findIndex((e=>e.id===t.id));-1!==i?0===t.results.length?e.splice(i,1):e.splice(i,1,t):t.results.length>0&&e.push(t)}));const i=e.slice(0);i.sort(((t,e)=>{const i=this.providers.find((e=>e.id===t.id)),r=this.providers.find((t=>t.id===e.id));return(i?i.order:0)-(r?r.order:0)})),this.results=i},mapContacts:t=>t.map((t=>({displayName:t.fullName,isNoUser:!1,subname:t.emailAddresses[0]?t.emailAddresses[0]:"",icon:"",user:t.id,isUser:t.isUser}))),filterContacts(t){Ee({searchTerm:t}).then((e=>{this.contacts=this.mapContacts(e),console.debug(`Contacts filtered by ${t}`,this.contacts)}))},applyPersonFilter(t){this.personFilterIsApplied=!0;const e=this.filters.findIndex((e=>e.id===t.id));-1===e?(this.personFilter.id=t.id,this.personFilter.user=t.user,this.personFilter.name=t.displayName,this.filters.push(this.personFilter)):(this.filters[e].id=t.id,this.filters[e].user=t.user,this.filters[e].name=t.displayName),this.providers.forEach((async(t,e)=>{this.providers[e].disabled=!await this.providerIsCompatibleWithFilters(t,["person"])})),this.debouncedFind(this.searchQuery),console.debug("Person filter applied",t)},loadMoreResultsForProvider(t){this.providerResultLimit+=5,this.filters=this.filters.filter((t=>"provider"!==t.type));const e=this.providers.find((e=>e.id===t));this.addProviderFilter(e,!0)},addProviderFilter(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.id)return;t.isPluginFilter&&t.callback(),this.providerResultLimit=e?this.providerResultLimit:5,this.providerActionMenuIsOpen=!1;const i=this.filteredProviders.findIndex((e=>e.id===t.id));i>-1&&(this.filteredProviders.splice(i,1),this.filters=this.syncProviderFilters(this.filters,this.filteredProviders)),this.filteredProviders.push({id:t.id,name:t.name,icon:t.icon,type:t.type||"provider",filters:t.filters,isPluginFilter:t.isPluginFilter||!1}),this.filters=this.syncProviderFilters(this.filters,this.filteredProviders),console.debug("Search filters (newly added)",this.filters),this.debouncedFind(this.searchQuery)},removeFilter(t){if("provider"===t.type){for(let e=0;e<this.filteredProviders.length;e++)if(this.filteredProviders[e].id===t.id){this.filteredProviders.splice(e,1);break}this.filters=this.syncProviderFilters(this.filters,this.filteredProviders),console.debug("Search filters (recently removed)",this.filters)}else for(let e=0;e<this.filters.length;e++)if("date"===this.filters[e].id||this.filters[e].id===t.id){this.dateFilterIsApplied=!1,this.filters.splice(e,1),"person"===t.type&&(this.personFilterIsApplied=!1),this.enableAllProviders();break}this.debouncedFind(this.searchQuery)},syncProviderFilters(t,e){const i=t.slice();return i.forEach(((t,r)=>{const n=t.id;"provider"===t.type&&(e.some((t=>t.id===n))||i.splice(r,1))})),e.forEach((t=>{const e=t.id;"provider"===t.type&&(i.some((t=>t.id===e))||i.push(t))})),i},updateDateFilter(){const t=this.filters.findIndex((t=>"date"===t.id));-1!==t?this.filters[t]=this.dateFilter:this.filters.push(this.dateFilter),this.dateFilterIsApplied=!0,this.providers.forEach((async(t,e)=>{this.providers[e].disabled=!await this.providerIsCompatibleWithFilters(t,["since","until"])})),this.debouncedFind(this.searchQuery)},applyQuickDateRange(e){this.dateActionMenuIsOpen=!1;const i=new Date;let r,n;switch(e){case"today":r=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),n=new Date(i.getFullYear(),i.getMonth(),i.getDate(),23,59,59,999),this.dateFilter.text=t("core","Today");break;case"7days":r=new Date(i.getFullYear(),i.getMonth(),i.getDate()-6,0,0,0,0),this.dateFilter.text=t("core","Last 7 days");break;case"30days":r=new Date(i.getFullYear(),i.getMonth(),i.getDate()-29,0,0,0,0),this.dateFilter.text=t("core","Last 30 days");break;case"thisyear":r=new Date(i.getFullYear(),0,1,0,0,0,0),n=new Date(i.getFullYear(),11,31,23,59,59,999),this.dateFilter.text=t("core","This year");break;case"lastyear":r=new Date(i.getFullYear()-1,0,1,0,0,0,0),n=new Date(i.getFullYear()-1,11,31,23,59,59,999),this.dateFilter.text=t("core","Last year");break;case"custom":return void(this.showDateRangeModal=!0);default:return}this.dateFilter.startFrom=r,this.dateFilter.endAt=n,this.updateDateFilter()},setCustomDateRange(e){console.debug("Custom date range",e),this.dateFilter.startFrom=e.startFrom,this.dateFilter.endAt=e.endAt,this.dateFilter.text=t("core",`Between ${this.dateFilter.startFrom.toLocaleDateString()} and ${this.dateFilter.endAt.toLocaleDateString()}`),this.updateDateFilter()},handlePluginFilter(t){for(let e=0;e<this.filteredProviders.length;e++){const i=this.filteredProviders[e];if(i.id===t.id){i.name=t.filterUpdateText;const r=this.providers.findIndex((e=>e.id===t.id));r>-1&&(i.extraParams=t.filterParams,this.filteredProviders[e]=i);break}}this.debouncedFind(this.searchQuery)},groupProvidersByApp(t){const e={};t.forEach((t=>{const i=t.appId?t.appId:"general";e[i]||(e[i]=[]),e[i].push(t)}));const i=[];return Object.values(e).forEach((t=>{i.push(...t)})),i},providerIsCompatibleWithFilters:async(t,e)=>e.every((e=>void 0!==t.filters?.[e])),async enableAllProviders(){this.providers.forEach((async(t,e)=>{this.providers[e].disabled=!1}))},focusInput(){this.$refs.searchInput.$el.children[0].children[0].focus()},closeModal(){this.internalIsVisible=!1,this.searchQuery=""}}};var Ue=r(51877),Ve={};Ve.styleTagTransform=D(),Ve.setAttributes=N(),Ve.insert=w().bind(null,"head"),Ve.domAPI=_(),Ve.insertStyleElement=I(),b()(Ue.A,Ve),Ue.A&&Ue.A.locals&&Ue.A.locals;const ze=(0,h.A)(Le,(function(){var t=this,e=t._self._c;return e("NcModal",{ref:"unifiedSearchModal",attrs:{id:"unified-search",show:t.internalIsVisible,"clear-view-delay":0},on:{"update:show":function(e){t.internalIsVisible=e},close:t.closeModal}},[e("CustomDateRangeModal",{staticClass:"unified-search__date-range",attrs:{"is-open":t.showDateRangeModal},on:{"set:custom-date-range":t.setCustomDateRange,"update:is-open":function(e){t.showDateRangeModal=e}}}),t._v(" "),e("div",{ref:"unifiedSearch",staticClass:"unified-search-modal"},[e("div",{staticClass:"unified-search-modal__header"},[e("h2",[t._v(t._s(t.t("core","Unified search")))]),t._v(" "),e("NcInputField",{ref:"searchInput",attrs:{"data-cy-unified-search-input":"",value:t.searchQuery,type:"text",label:t.t("core","Search apps, files, tags, messages")+"..."},on:{"update:value":[function(e){t.searchQuery=e},t.debouncedFind]}}),t._v(" "),e("div",{staticClass:"unified-search-modal__filters",attrs:{"data-cy-unified-search-filters":""}},[e("NcActions",{attrs:{"menu-name":t.t("core","Places"),open:t.providerActionMenuIsOpen,"data-cy-unified-search-filter":"places"},on:{"update:open":function(e){t.providerActionMenuIsOpen=e}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ListBox",{attrs:{size:20}})]},proxy:!0}])},[t._v(" "),t._l(t.providers,(function(i){return e("NcActionButton",{key:`${i.id}-${i.name.replace(/\s/g,"")}`,attrs:{disabled:i.disabled},on:{click:function(e){return t.addProviderFilter(i)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("img",{staticClass:"filter-button__icon",attrs:{src:i.icon,alt:""}})]},proxy:!0}],null,!0)},[t._v("\n\t\t\t\t\t\t"+t._s(i.name)+"\n\t\t\t\t\t")])}))],2),t._v(" "),e("NcActions",{attrs:{"menu-name":t.t("core","Date"),open:t.dateActionMenuIsOpen,"data-cy-unified-search-filter":"date"},on:{"update:open":function(e){t.dateActionMenuIsOpen=e}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CalendarRangeIcon",{attrs:{size:20}})]},proxy:!0}])},[t._v(" "),e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){return t.applyQuickDateRange("today")}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("core","Today"))+"\n\t\t\t\t\t")]),t._v(" "),e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){return t.applyQuickDateRange("7days")}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("core","Last 7 days"))+"\n\t\t\t\t\t")]),t._v(" "),e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){return t.applyQuickDateRange("30days")}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("core","Last 30 days"))+"\n\t\t\t\t\t")]),t._v(" "),e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){return t.applyQuickDateRange("thisyear")}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("core","This year"))+"\n\t\t\t\t\t")]),t._v(" "),e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){return t.applyQuickDateRange("lastyear")}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("core","Last year"))+"\n\t\t\t\t\t")]),t._v(" "),e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){return t.applyQuickDateRange("custom")}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("core","Custom date range"))+"\n\t\t\t\t\t")])],1),t._v(" "),e("SearchableList",{attrs:{"label-text":t.t("core","Search people"),"search-list":t.userContacts,"empty-content-text":t.t("core","Not found"),"data-cy-unified-search-filter":"people"},on:{"search-term-change":t.debouncedFilterContacts,"item-selected":t.applyPersonFilter},scopedSlots:t._u([{key:"trigger",fn:function(){return[e("NcButton",{scopedSlots:t._u([{key:"icon",fn:function(){return[e("AccountGroup",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.t("core","People"))+"\n\t\t\t\t\t\t")])]},proxy:!0}])}),t._v(" "),t.supportFiltering?e("NcButton",{attrs:{"data-cy-unified-search-filter":"current-view"},on:{click:t.closeModal},scopedSlots:t._u([{key:"icon",fn:function(){return[e("FilterIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,2021673347)},[t._v("\n\t\t\t\t\t"+t._s(t.t("core","Filter in current view"))+"\n\t\t\t\t\t")]):t._e()],1),t._v(" "),e("div",{staticClass:"unified-search-modal__filters-applied"},t._l(t.filters,(function(i){return e("FilterChip",{key:i.id,attrs:{text:i.name??i.text,pretext:""},on:{delete:function(e){return t.removeFilter(i)}},scopedSlots:t._u([{key:"icon",fn:function(){return["person"===i.type?e("NcAvatar",{attrs:{user:i.user,size:24,"disable-menu":!0,"show-user-status":!1,"hide-favorite":!1}}):"date"===i.type?e("CalendarRangeIcon"):e("img",{attrs:{src:i.icon,alt:""}})]},proxy:!0}],null,!0)})})),1)],1),t._v(" "),t.noContentInfo.show?e("div",{staticClass:"unified-search-modal__no-content"},[e("NcEmptyContent",{attrs:{name:t.noContentInfo.text},scopedSlots:t._u([{key:"icon",fn:function(){return[e(t.noContentInfo.icon,{tag:"component"})]},proxy:!0}],null,!1,604901229)})],1):e("div",{staticClass:"unified-search-modal__results"},t._l(t.results,(function(i){return e("div",{key:i.id,staticClass:"result"},[e("div",{staticClass:"result-title"},[e("span",[t._v(t._s(i.provider))])]),t._v(" "),e("ul",{staticClass:"result-items"},t._l(i.results,(function(i,r){return e("SearchResult",t._b({key:r},"SearchResult",i,!1))})),1),t._v(" "),e("div",{staticClass:"result-footer"},[e("NcButton",{attrs:{type:"tertiary-no-background"},on:{click:function(e){return t.loadMoreResultsForProvider(i.id)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("DotsHorizontalIcon",{attrs:{size:20}})]},proxy:!0}],null,!0)},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("core","Load more results"))+"\n\t\t\t\t\t\t")]),t._v(" "),i.inAppSearch?e("NcButton",{attrs:{alignment:"end-reverse",type:"tertiary-no-background"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ArrowRight",{attrs:{size:20}})]},proxy:!0}],null,!0)},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("core","Search in"))+" "+t._s(i.provider)+"\n\t\t\t\t\t\t")]):t._e()],1)])})),0)])],1)}),[],!1,null,"1e8473b8",null).exports,Oe={name:"UnifiedSearch",components:{NcButton:c.A,Magnify:d.A,UnifiedSearchModal:ze},data:()=>({showUnifiedSearch:!1}),mounted(){console.debug("Unified search initialized!")},methods:{toggleUnifiedSearch(){this.showUnifiedSearch=!this.showUnifiedSearch},handleModalVisibilityChange(t){this.showUnifiedSearch=t}}};var He=r(42256),$e={};$e.styleTagTransform=D(),$e.setAttributes=N(),$e.insert=w().bind(null,"head"),$e.domAPI=_(),$e.insertStyleElement=I(),b()(He.A,$e),He.A&&He.A.locals&&He.A.locals;const Ge=(0,h.A)(Oe,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-menu unified-search-menu"},[e("NcButton",{staticClass:"header-menu__trigger",attrs:{"aria-label":t.t("core","Unified search"),type:"tertiary-no-background"},on:{click:t.toggleUnifiedSearch},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Magnify",{staticClass:"header-menu__trigger-icon",attrs:{size:20}})]},proxy:!0}])}),t._v(" "),e("UnifiedSearchModal",{attrs:{"is-visible":t.showUnifiedSearch},on:{"update:isVisible":t.handleModalVisibilityChange}})],1)}),[],!1,null,"4621f4fc",null).exports;r.nc=btoa((0,s.do)());const je=(0,n.YK)().setApp("unified-search").detectUser().build();l.Ay.mixin({data:()=>({logger:je}),methods:{t:a.Tl,n:a.zw}}),window.OCA=window.OCA||{},window.OCA.UnifiedSearch={registerFilterAction:t=>{let{id:e,appId:i,label:r,callback:n,icon:s}=t;Re().registerExternalFilter({id:e,appId:i,label:r,callback:n,icon:s})}},l.Ay.use(o.R2);const qe=(0,o.Ey)();new l.Ay({el:"#unified-search",pinia:qe,name:"UnifiedSearchRoot",render:t=>t(Ge)})},42256:(t,e,i)=>{i.d(e,{A:()=>o});var r=i(71354),n=i.n(r),s=i(76314),a=i.n(s)()(n());a.push([t.id,"#header .header-menu[data-v-4621f4fc]{display:flex;align-items:center;justify-content:center}#header .header-menu__trigger[data-v-4621f4fc]{height:var(--header-height);width:var(--header-height) !important}#header .header-menu__trigger[data-v-4621f4fc]:focus-visible{outline:none !important;box-shadow:none !important}#header .header-menu__trigger[data-v-4621f4fc]:not(:hover,:focus,:focus-visible){opacity:.85}#header .header-menu__trigger-icon[data-v-4621f4fc]{color:var(--color-primary-text) !important}","",{version:3,sources:["webpack://./core/src/views/UnifiedSearch.vue"],names:[],mappings:"AAGC,sCACC,YAAA,CACA,kBAAA,CACA,sBAAA,CAEA,+CACC,2BAAA,CACA,qCAAA,CAEA,6DAEC,uBAAA,CACA,0BAAA,CAGD,iFACC,WAAA,CAGD,oDAEC,0CAAA",sourcesContent:["\n// this is needed to allow us overriding component styles (focus-visible)\n#header {\n\t.header-menu {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\t&__trigger {\n\t\t\theight: var(--header-height);\n\t\t\twidth: var(--header-height) !important;\n\n\t\t\t&:focus-visible {\n\t\t\t\t// align with other header menu entries\n\t\t\t\toutline: none !important;\n\t\t\t\tbox-shadow: none !important;\n\t\t\t}\n\n\t\t\t&:not(:hover,:focus,:focus-visible) {\n\t\t\t\topacity: .85;\n\t\t\t}\n\n\t\t\t&-icon {\n\t\t\t\t// ensure the icon has the correct color\n\t\t\t\tcolor: var(--color-primary-text) !important;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const o=a},51877:(t,e,i)=>{i.d(e,{A:()=>o});var r=i(71354),n=i.n(r),s=i(76314),a=i.n(s)()(n());a.push([t.id,".unified-search-modal[data-v-1e8473b8]{box-sizing:border-box;height:100%;min-height:80vh;display:flex;flex-direction:column;padding-block:10px 0}.unified-search-modal>*[data-v-1e8473b8]{padding-inline:20px}.unified-search-modal__header[data-v-1e8473b8]{padding-block-end:8px}.unified-search-modal__heading[data-v-1e8473b8]{font-size:16px;font-weight:bolder;line-height:2em;margin-bottom:0}.unified-search-modal__filters[data-v-1e8473b8]{display:flex;flex-wrap:wrap;gap:4px;justify-content:start;padding-top:4px}.unified-search-modal__filters-applied[data-v-1e8473b8]{padding-top:4px;display:flex;flex-wrap:wrap}.unified-search-modal__no-content[data-v-1e8473b8]{display:flex;align-items:center;height:100%}.unified-search-modal__results[data-v-1e8473b8]{overflow:hidden scroll;padding-block:0 10px}.unified-search-modal__results .result-title span[data-v-1e8473b8]{color:var(--color-primary-element);font-weight:bolder;font-size:16px}.unified-search-modal__results .result-footer[data-v-1e8473b8]{justify-content:space-between;align-items:center;display:flex}.filter-button__icon[data-v-1e8473b8]{height:20px;width:20px;object-fit:contain;filter:var(--background-invert-if-bright);padding:11px}@media only screen and (max-height: 400px){.unified-search-modal__results[data-v-1e8473b8]{overflow:unset}}","",{version:3,sources:["webpack://./core/src/views/UnifiedSearchModal.vue"],names:[],mappings:"AACA,uCACC,qBAAA,CACA,WAAA,CACA,eAAA,CAEA,YAAA,CACA,qBAAA,CACA,oBAAA,CAGA,yCACC,mBAAA,CAGD,+CACC,qBAAA,CAGD,gDACC,cAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CAGD,gDACC,YAAA,CACA,cAAA,CACA,OAAA,CACA,qBAAA,CACA,eAAA,CAGD,wDACC,eAAA,CACA,YAAA,CACA,cAAA,CAGD,mDACC,YAAA,CACA,kBAAA,CACA,WAAA,CAGD,gDACC,sBAAA,CACA,oBAAA,CAIE,mEACC,kCAAA,CACA,kBAAA,CACA,cAAA,CAIF,+DACC,6BAAA,CACA,kBAAA,CACA,YAAA,CAOJ,sCACC,WAAA,CACA,UAAA,CACA,kBAAA,CACA,yCAAA,CACA,YAAA,CAID,2CACC,gDACC,cAAA,CAAA",sourcesContent:["\n.unified-search-modal {\n\tbox-sizing: border-box;\n\theight: 100%;\n\tmin-height: 80vh;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding-block: 10px 0;\n\n\t// inline padding on direct children to make sure the scrollbar is on the modal container\n\t>* {\n\t\tpadding-inline: 20px;\n\t}\n\n\t&__header {\n\t\tpadding-block-end: 8px;\n\t}\n\n\t&__heading {\n\t\tfont-size: 16px;\n\t\tfont-weight: bolder;\n\t\tline-height: 2em;\n\t\tmargin-bottom: 0;\n\t}\n\n\t&__filters {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 4px;\n\t\tjustify-content: start;\n\t\tpadding-top: 4px;\n\t}\n\n\t&__filters-applied {\n\t\tpadding-top: 4px;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t}\n\n\t&__no-content {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\theight: 100%;\n\t}\n\n\t&__results {\n\t\toverflow: hidden scroll;\n\t\tpadding-block: 0 10px;\n\n\t\t.result {\n\t\t\t&-title {\n\t\t\t\tspan {\n\t\t\t\t\tcolor: var(--color-primary-element);\n\t\t\t\t\tfont-weight: bolder;\n\t\t\t\t\tfont-size: 16px;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&-footer {\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t}\n\n\t}\n}\n\n.filter-button__icon {\n\theight: 20px;\n\twidth: 20px;\n\tobject-fit: contain;\n\tfilter: var(--background-invert-if-bright);\n\tpadding: 11px; // align with text to fit at least 44px\n}\n\n// Ensure modal is accessible on small devices\n@media only screen and (max-height: 400px) {\n\t.unified-search-modal__results {\n\t\toverflow: unset;\n\t}\n}\n"],sourceRoot:""}]);const o=a},53992:(t,e,i)=>{i.d(e,{A:()=>o});var r=i(71354),n=i.n(r),s=i(76314),a=i.n(s)()(n());a.push([t.id,".searchable-list__wrapper[data-v-eadbbf10]{padding:calc(var(--default-grid-baseline)*3);display:flex;flex-direction:column;align-items:center;width:250px}.searchable-list__list[data-v-eadbbf10]{width:100%;max-height:284px;overflow-y:auto;margin-top:var(--default-grid-baseline);padding:var(--default-grid-baseline)}.searchable-list__list[data-v-eadbbf10] .button-vue{border-radius:var(--border-radius-large) !important}.searchable-list__list[data-v-eadbbf10] .button-vue span{font-weight:initial}.searchable-list__empty-content[data-v-eadbbf10]{margin-top:calc(var(--default-grid-baseline)*3)}","",{version:3,sources:["webpack://./core/src/components/UnifiedSearch/SearchableList.vue"],names:[],mappings:"AAEC,2CACC,4CAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,WAAA,CAGD,wCACC,UAAA,CACA,gBAAA,CACA,eAAA,CACA,uCAAA,CACA,oCAAA,CAEA,oDACC,mDAAA,CACA,yDACC,mBAAA,CAKH,iDACC,+CAAA",sourcesContent:["\n.searchable-list {\n\t&__wrapper {\n\t\tpadding: calc(var(--default-grid-baseline) * 3);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\twidth: 250px;\n\t}\n\n\t&__list {\n\t\twidth: 100%;\n\t\tmax-height: 284px;\n\t\toverflow-y: auto;\n\t\tmargin-top: var(--default-grid-baseline);\n\t\tpadding: var(--default-grid-baseline);\n\n\t\t:deep(.button-vue) {\n\t\t\tborder-radius: var(--border-radius-large) !important;\n\t\t\tspan {\n\t\t\t\tfont-weight: initial;\n\t\t\t}\n\t\t}\n\t}\n\n\t&__empty-content {\n\t\tmargin-top: calc(var(--default-grid-baseline) * 3);\n\t}\n}\n"],sourceRoot:""}]);const o=a},63571:(t,e,i)=>{i.d(e,{A:()=>o});var r=i(71354),n=i.n(r),s=i(76314),a=i.n(s)()(n());a.push([t.id,".unified-search-custom-date-modal[data-v-99abc4fc]{padding:10px 20px 10px 20px}.unified-search-custom-date-modal h1[data-v-99abc4fc]{font-size:16px;font-weight:bolder;line-height:2em}.unified-search-custom-date-modal__pickers[data-v-99abc4fc]{display:flex;flex-direction:column}.unified-search-custom-date-modal__footer[data-v-99abc4fc]{display:flex;justify-content:end}","",{version:3,sources:["webpack://./core/src/components/UnifiedSearch/CustomDateRangeModal.vue"],names:[],mappings:"AACA,mDACC,2BAAA,CAEA,sDACC,cAAA,CACA,kBAAA,CACA,eAAA,CAGD,4DACC,YAAA,CACA,qBAAA,CAGD,2DACC,YAAA,CACA,mBAAA",sourcesContent:["\n.unified-search-custom-date-modal {\n\tpadding: 10px 20px 10px 20px;\n\n\th1 {\n\t\tfont-size: 16px;\n\t\tfont-weight: bolder;\n\t\tline-height: 2em;\n\t}\n\n\t&__pickers {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t&__footer {\n\t\tdisplay: flex;\n\t\tjustify-content: end;\n\t}\n\n}\n"],sourceRoot:""}]);const o=a},68179:(t,e,i)=>{i.d(e,{A:()=>o});var r=i(71354),n=i.n(r),s=i(76314),a=i.n(s)()(n());a.push([t.id,".chip[data-v-5dc4d462]{display:flex;align-items:center;padding:2px 4px;border:1px solid var(--color-primary-element-light);border-radius:20px;background-color:var(--color-primary-element-light);margin:2px}.chip .icon[data-v-5dc4d462]{display:flex;align-items:center;padding-right:5px}.chip .icon img[data-v-5dc4d462]{width:20px;padding:2px;border-radius:20px;filter:var(--background-invert-if-bright)}.chip .text[data-v-5dc4d462]{margin:0 2px}.chip .close-icon[data-v-5dc4d462]{cursor:pointer}.chip .close-icon[data-v-5dc4d462] :hover{filter:invert(20%)}","",{version:3,sources:["webpack://./core/src/components/UnifiedSearch/SearchFilterChip.vue"],names:[],mappings:"AACA,uBACI,YAAA,CACA,kBAAA,CACA,eAAA,CACA,mDAAA,CACA,kBAAA,CACA,mDAAA,CACA,UAAA,CAEA,6BACI,YAAA,CACA,kBAAA,CACA,iBAAA,CAEA,iCACI,UAAA,CACA,WAAA,CACA,kBAAA,CACA,yCAAA,CAIR,6BACI,YAAA,CAGJ,mCACI,cAAA,CAEA,0CACI,kBAAA",sourcesContent:["\n.chip {\n    display: flex;\n    align-items: center;\n    padding: 2px 4px;\n    border: 1px solid var(--color-primary-element-light);\n    border-radius: 20px;\n    background-color: var(--color-primary-element-light);\n    margin: 2px;\n\n    .icon {\n        display: flex;\n        align-items: center;\n        padding-right: 5px;\n\n        img {\n            width: 20px;\n            padding: 2px;\n            border-radius: 20px;\n            filter: var(--background-invert-if-bright);\n        }\n    }\n\n    .text {\n        margin: 0 2px;\n    }\n\n    .close-icon {\n        cursor: pointer ;\n\n        :hover {\n            filter: invert(20%);\n        }\n    }\n}\n"],sourceRoot:""}]);const o=a},79722:t=>{t.exports="data:image/svg+xml,%3c%21--%20-%20SPDX-FileCopyrightText:%202020%20Google%20Inc.%20-%20SPDX-License-Identifier:%20Apache-2.0%20--%3e%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M5.6%207.4L7%206l6%206-6%206-1.4-1.4%204.6-4.6-4.6-4.6m6%200L13%206l6%206-6%206-1.4-1.4%204.6-4.6-4.6-4.6z%27/%3e%3c/svg%3e"},84359:(t,e,i)=>{i.d(e,{A:()=>o});var r=i(71354),n=i.n(r),s=i(76314),a=i.n(s)()(n());a.push([t.id,".result-items__item[data-v-67d9a3cf] a{border-radius:12px;border:2px solid rgba(0,0,0,0);border-radius:var(--border-radius-large) !important}.result-items__item[data-v-67d9a3cf] a--focused{background-color:var(--color-background-hover)}.result-items__item[data-v-67d9a3cf] a:active,.result-items__item[data-v-67d9a3cf] a:hover,.result-items__item[data-v-67d9a3cf] a:focus{background-color:var(--color-background-hover);border:2px solid var(--color-border-maxcontrast)}.result-items__item[data-v-67d9a3cf] a *{cursor:pointer}.result-items__item-icon[data-v-67d9a3cf]{overflow:hidden;width:44px;height:44px;border-radius:var(--border-radius);background-repeat:no-repeat;background-position:center center;background-size:32px}.result-items__item-icon--rounded[data-v-67d9a3cf]{border-radius:22px}.result-items__item-icon--no-preview[data-v-67d9a3cf]{background-size:32px}.result-items__item-icon--with-thumbnail[data-v-67d9a3cf]{background-size:cover}.result-items__item-icon--with-thumbnail[data-v-67d9a3cf]:not(.result-items__item-icon--rounded){max-width:42px;max-height:42px;border:1px solid var(--color-border)}.result-items__item-icon img[data-v-67d9a3cf]{width:100%;height:100%;object-fit:cover;object-position:center}","",{version:3,sources:["webpack://./core/src/components/UnifiedSearch/SearchResult.vue"],names:[],mappings:"AAQI,uCACQ,kBAAA,CACA,8BAAA,CACA,mDAAA,CAEA,gDACI,8CAAA,CAGJ,wIAGI,8CAAA,CACA,gDAAA,CAGJ,yCACI,cAAA,CAKR,0CACI,eAAA,CACA,UA9BK,CA+BL,WA/BK,CAgCL,kCAAA,CACA,2BAAA,CACA,iCAAA,CACA,oBAAA,CAEA,mDACI,kBAAA,CAGJ,sDACI,oBAAA,CAGJ,0DACI,qBAAA,CAGJ,iGAEI,cAAA,CACA,eAAA,CACA,oCAAA,CAGJ,8CAEI,UAAA,CACA,WAAA,CAEA,gBAAA,CACA,sBAAA",sourcesContent:['\n@use "sass:math";\n$clickable-area: 44px;\n$margin: 10px;\n\n.result-items {\n    &__item {\n\n    ::v-deep a {\n            border-radius: 12px;\n            border: 2px solid transparent;\n            border-radius: var(--border-radius-large) !important;\n\n            &--focused {\n                background-color: var(--color-background-hover);\n            }\n\n            &:active,\n            &:hover,\n            &:focus {\n                background-color: var(--color-background-hover);\n                border: 2px solid var(--color-border-maxcontrast);\n            }\n\n            * {\n                cursor: pointer;\n            }\n\n        }\n\n        &-icon {\n            overflow: hidden;\n            width: $clickable-area;\n            height: $clickable-area;\n            border-radius: var(--border-radius);\n            background-repeat: no-repeat;\n            background-position: center center;\n            background-size: 32px;\n\n            &--rounded {\n                border-radius: math.div($clickable-area, 2);\n            }\n\n            &--no-preview {\n                background-size: 32px;\n            }\n\n            &--with-thumbnail {\n                background-size: cover;\n            }\n\n            &--with-thumbnail:not(&--rounded) {\n                // compensate for border\n                max-width: $clickable-area - 2px;\n                max-height: $clickable-area - 2px;\n                border: 1px solid var(--color-border);\n            }\n\n            img {\n                // Make sure to keep ratio\n                width: 100%;\n                height: 100%;\n\n                object-fit: cover;\n                object-position: center;\n            }\n        }\n\n    }\n}\n'],sourceRoot:""}]);const o=a},86886:t=>{t.exports="data:image/svg+xml,%3c%21--%20-%20SPDX-FileCopyrightText:%202020%20Google%20Inc.%20-%20SPDX-License-Identifier:%20Apache-2.0%20--%3e%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M8.6%2016.6l4.6-4.6-4.6-4.6L10%206l6%206-6%206-1.4-1.4z%27/%3e%3c/svg%3e"}},s={};function a(t){var e=s[t];if(void 0!==e)return e.exports;var i=s[t]={id:t,loaded:!1,exports:{}};return n[t].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=n,e=[],a.O=(t,i,r,n)=>{if(!i){var s=1/0;for(d=0;d<e.length;d++){i=e[d][0],r=e[d][1],n=e[d][2];for(var o=!0,l=0;l<i.length;l++)(!1&n||s>=n)&&Object.keys(a.O).every((t=>a.O[t](i[l])))?i.splice(l--,1):(o=!1,n<s&&(s=n));if(o){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,r,n]},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce(((e,i)=>(a.f[i](t,e),e)),[])),a.u=t=>t+"-"+t+".js?v=18c97d281a8207f0ce8d",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i={},r="nextcloud:",a.l=(t,e,n,s)=>{if(i[t])i[t].push(e);else{var o,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==r+n){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",r+n),o.src=t),i[t]=[e];var A=(e,r)=>{o.onerror=o.onload=null,clearTimeout(p);var n=i[t];if(delete i[t],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((t=>t(r))),e)return e(r)},p=setTimeout(A.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=A.bind(null,o.onerror),o.onload=A.bind(null,o.onload),l&&document.head.appendChild(o)}},a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),a.j=6776,(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=i[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),(()=>{a.b=document.baseURI||self.location.href;var t={6776:0};a.f.j=(e,i)=>{var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var n=new Promise(((i,n)=>r=t[e]=[i,n]));i.push(r[2]=n);var s=a.p+a.u(e),o=new Error;a.l(s,(i=>{if(a.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var n=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",o.name="ChunkLoadError",o.type=n,o.request=s,r[1](o)}}),"chunk-"+e,e)}},a.O.j=e=>0===t[e];var e=(e,i)=>{var r,n,s=i[0],o=i[1],l=i[2],c=0;if(s.some((e=>0!==t[e]))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var d=l(a)}for(e&&e(i);c<s.length;c++)n=s[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(d)},i=self.webpackChunknextcloud=self.webpackChunknextcloud||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),a.nc=void 0;var o=a.O(void 0,[4208],(()=>a(32091)));o=a.O(o)})();
//# sourceMappingURL=core-unified-search.js.map?v=debd20a2886a19731ace