{"version":3,"file":"comments-comments-tab.js?v=d324f86b283fbc4cd8f3","mappings":"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","sources":["webpack:///nextcloud/webpack/runtime/chunk loaded","webpack:///nextcloud/webpack/runtime/load script","webpack:///nextcloud/node_modules/@nextcloud/files/dist/index.mjs","webpack:///nextcloud/apps/comments/src/comments-activity-tab.ts","webpack:///nextcloud/apps/comments/src/files-sidebar.ts","webpack:///nextcloud/node_modules/webdav/dist/node/tools/quota.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/getDAVCompliance.js","webpack:///nextcloud/node_modules/https-browserify/index.js","webpack:///nextcloud/node_modules/stream-http/index.js","webpack:///nextcloud/apps/comments/src/utils/davUtils.js","webpack:///nextcloud/node_modules/layerr/dist/layerr.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/getFileContents.js","webpack:///nextcloud/node_modules/webdav/dist/node/auth/basic.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/xml.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/createDirectory.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/putFileContents.js","webpack:///nextcloud/apps/comments/src/services/DavClient.js","webpack:///nextcloud/apps/comments/src/services/GetComments.ts","webpack:///nextcloud/node_modules/webdav/dist/node/auth/index.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/body.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/lock.js","webpack:///nextcloud/node_modules/webdav/dist/node/compat/arrayBuffer.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/copyFile.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/encode.js","webpack:///nextcloud/node_modules/url-parse/index.js","webpack:///nextcloud/node_modules/byte-length/dist/index.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/createStream.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/size.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/directoryContents.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/exists.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/customRequest.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/moveFile.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/deleteFile.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/search.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/partialUpdateFileContents.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/stat.js","webpack:///nextcloud/node_modules/webdav/dist/node/factory.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/url.js","webpack:///nextcloud/node_modules/base-64/base64.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/getQuota.js","webpack:///nextcloud/node_modules/webdav/dist/node/request.js","webpack:///nextcloud/node_modules/webdav/dist/node/auth/digest.js","webpack:///nextcloud/apps/comments/src/logger.js","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/ensure chunk","webpack:///nextcloud/webpack/runtime/get javascript chunk filename","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/webpack/runtime/make namespace object","webpack:///nextcloud/webpack/runtime/node module decorator","webpack:///nextcloud/webpack/runtime/runtimeId","webpack:///nextcloud/webpack/runtime/publicPath","webpack:///nextcloud/webpack/runtime/jsonp chunk loading","webpack:///nextcloud/webpack/runtime/nonce","webpack:///nextcloud/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"nextcloud-ui-legacy:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import { l as logger, F as FileType } from \"./chunks/folder-CeyZUHai.mjs\";\nimport { a, b, N, c, P } from \"./chunks/folder-CeyZUHai.mjs\";\nimport { TypedEventTarget } from \"typescript-event-target\";\nimport isSvg from \"is-svg\";\nimport { getCapabilities } from \"@nextcloud/capabilities\";\nimport { extname, basename } from \"@nextcloud/paths\";\nimport { getCanonicalLocale, getLanguage } from \"@nextcloud/l10n\";\nconst DefaultType = Object.freeze({\n  DEFAULT: \"default\",\n  HIDDEN: \"hidden\"\n});\nclass FileAction {\n  _action;\n  constructor(action) {\n    this.validateAction(action);\n    this._action = action;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get title() {\n    return this._action.title;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  get execBatch() {\n    return this._action.execBatch;\n  }\n  get hotkey() {\n    return this._action.hotkey;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get parent() {\n    return this._action.parent;\n  }\n  get default() {\n    return this._action.default;\n  }\n  get destructive() {\n    return this._action.destructive;\n  }\n  get inline() {\n    return this._action.inline;\n  }\n  get renderInline() {\n    return this._action.renderInline;\n  }\n  validateAction(action) {\n    if (!action.id || typeof action.id !== \"string\") {\n      throw new Error(\"Invalid id\");\n    }\n    if (!action.displayName || typeof action.displayName !== \"function\") {\n      throw new Error(\"Invalid displayName function\");\n    }\n    if (\"title\" in action && typeof action.title !== \"function\") {\n      throw new Error(\"Invalid title function\");\n    }\n    if (!action.iconSvgInline || typeof action.iconSvgInline !== \"function\") {\n      throw new Error(\"Invalid iconSvgInline function\");\n    }\n    if (!action.exec || typeof action.exec !== \"function\") {\n      throw new Error(\"Invalid exec function\");\n    }\n    if (\"enabled\" in action && typeof action.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled function\");\n    }\n    if (\"execBatch\" in action && typeof action.execBatch !== \"function\") {\n      throw new Error(\"Invalid execBatch function\");\n    }\n    if (\"order\" in action && typeof action.order !== \"number\") {\n      throw new Error(\"Invalid order\");\n    }\n    if (action.destructive !== void 0 && typeof action.destructive !== \"boolean\") {\n      throw new Error(\"Invalid destructive flag\");\n    }\n    if (\"parent\" in action && typeof action.parent !== \"string\") {\n      throw new Error(\"Invalid parent\");\n    }\n    if (action.default && !Object.values(DefaultType).includes(action.default)) {\n      throw new Error(\"Invalid default\");\n    }\n    if (\"inline\" in action && typeof action.inline !== \"function\") {\n      throw new Error(\"Invalid inline function\");\n    }\n    if (\"renderInline\" in action && typeof action.renderInline !== \"function\") {\n      throw new Error(\"Invalid renderInline function\");\n    }\n    if (\"hotkey\" in action && action.hotkey !== void 0) {\n      if (typeof action.hotkey !== \"object\") {\n        throw new Error(\"Invalid hotkey configuration\");\n      }\n      if (typeof action.hotkey.key !== \"string\" || !action.hotkey.key) {\n        throw new Error(\"Missing or invalid hotkey key\");\n      }\n      if (typeof action.hotkey.description !== \"string\" || !action.hotkey.description) {\n        throw new Error(\"Missing or invalid hotkey description\");\n      }\n    }\n  }\n}\nfunction registerFileAction(action) {\n  if (typeof window._nc_fileactions === \"undefined\") {\n    window._nc_fileactions = [];\n    logger.debug(\"FileActions initialized\");\n  }\n  if (window._nc_fileactions.find((search) => search.id === action.id)) {\n    logger.error(`FileAction ${action.id} already registered`, { action });\n    return;\n  }\n  window._nc_fileactions.push(action);\n}\nfunction getFileActions() {\n  if (typeof window._nc_fileactions === \"undefined\") {\n    window._nc_fileactions = [];\n    logger.debug(\"FileActions initialized\");\n  }\n  return window._nc_fileactions;\n}\nclass FileListAction {\n  _action;\n  constructor(action) {\n    this.validateAction(action);\n    this._action = action;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  validateAction(action) {\n    if (!action.id || typeof action.id !== \"string\") {\n      throw new Error(\"Invalid id\");\n    }\n    if (!action.displayName || typeof action.displayName !== \"function\") {\n      throw new Error(\"Invalid displayName function\");\n    }\n    if (\"iconSvgInline\" in action && typeof action.iconSvgInline !== \"function\") {\n      throw new Error(\"Invalid iconSvgInline function\");\n    }\n    if (\"order\" in action && typeof action.order !== \"number\") {\n      throw new Error(\"Invalid order\");\n    }\n    if (\"enabled\" in action && typeof action.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled function\");\n    }\n    if (!action.exec || typeof action.exec !== \"function\") {\n      throw new Error(\"Invalid exec function\");\n    }\n  }\n}\nfunction registerFileListAction(action) {\n  if (typeof window._nc_filelistactions === \"undefined\") {\n    window._nc_filelistactions = [];\n  }\n  if (window._nc_filelistactions.find((listAction) => listAction.id === action.id)) {\n    logger.error(`FileListAction with id \"${action.id}\" is already registered`, { action });\n    return;\n  }\n  window._nc_filelistactions.push(action);\n}\nfunction getFileListActions() {\n  if (typeof window._nc_filelistactions === \"undefined\") {\n    window._nc_filelistactions = [];\n  }\n  return window._nc_filelistactions;\n}\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nvar debug_1;\nvar hasRequiredDebug;\nfunction requireDebug() {\n  if (hasRequiredDebug) return debug_1;\n  hasRequiredDebug = 1;\n  const debug = typeof process === \"object\" && process.env && process.env.NODE_DEBUG && /\\bsemver\\b/i.test(process.env.NODE_DEBUG) ? (...args) => console.error(\"SEMVER\", ...args) : () => {\n  };\n  debug_1 = debug;\n  return debug_1;\n}\nvar constants;\nvar hasRequiredConstants;\nfunction requireConstants() {\n  if (hasRequiredConstants) return constants;\n  hasRequiredConstants = 1;\n  const SEMVER_SPEC_VERSION = \"2.0.0\";\n  const MAX_LENGTH = 256;\n  const MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || /* istanbul ignore next */\n  9007199254740991;\n  const MAX_SAFE_COMPONENT_LENGTH = 16;\n  const MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6;\n  const RELEASE_TYPES = [\n    \"major\",\n    \"premajor\",\n    \"minor\",\n    \"preminor\",\n    \"patch\",\n    \"prepatch\",\n    \"prerelease\"\n  ];\n  constants = {\n    MAX_LENGTH,\n    MAX_SAFE_COMPONENT_LENGTH,\n    MAX_SAFE_BUILD_LENGTH,\n    MAX_SAFE_INTEGER,\n    RELEASE_TYPES,\n    SEMVER_SPEC_VERSION,\n    FLAG_INCLUDE_PRERELEASE: 1,\n    FLAG_LOOSE: 2\n  };\n  return constants;\n}\nvar re = { exports: {} };\nvar hasRequiredRe;\nfunction requireRe() {\n  if (hasRequiredRe) return re.exports;\n  hasRequiredRe = 1;\n  (function(module, exports) {\n    const {\n      MAX_SAFE_COMPONENT_LENGTH,\n      MAX_SAFE_BUILD_LENGTH,\n      MAX_LENGTH\n    } = requireConstants();\n    const debug = requireDebug();\n    exports = module.exports = {};\n    const re2 = exports.re = [];\n    const safeRe = exports.safeRe = [];\n    const src = exports.src = [];\n    const safeSrc = exports.safeSrc = [];\n    const t = exports.t = {};\n    let R = 0;\n    const LETTERDASHNUMBER = \"[a-zA-Z0-9-]\";\n    const safeRegexReplacements = [\n      [\"\\\\s\", 1],\n      [\"\\\\d\", MAX_LENGTH],\n      [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH]\n    ];\n    const makeSafeRegex = (value) => {\n      for (const [token, max] of safeRegexReplacements) {\n        value = value.split(`${token}*`).join(`${token}{0,${max}}`).split(`${token}+`).join(`${token}{1,${max}}`);\n      }\n      return value;\n    };\n    const createToken = (name, value, isGlobal) => {\n      const safe = makeSafeRegex(value);\n      const index = R++;\n      debug(name, index, value);\n      t[name] = index;\n      src[index] = value;\n      safeSrc[index] = safe;\n      re2[index] = new RegExp(value, isGlobal ? \"g\" : void 0);\n      safeRe[index] = new RegExp(safe, isGlobal ? \"g\" : void 0);\n    };\n    createToken(\"NUMERICIDENTIFIER\", \"0|[1-9]\\\\d*\");\n    createToken(\"NUMERICIDENTIFIERLOOSE\", \"\\\\d+\");\n    createToken(\"NONNUMERICIDENTIFIER\", `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`);\n    createToken(\"MAINVERSION\", `(${src[t.NUMERICIDENTIFIER]})\\\\.(${src[t.NUMERICIDENTIFIER]})\\\\.(${src[t.NUMERICIDENTIFIER]})`);\n    createToken(\"MAINVERSIONLOOSE\", `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.(${src[t.NUMERICIDENTIFIERLOOSE]})`);\n    createToken(\"PRERELEASEIDENTIFIER\", `(?:${src[t.NONNUMERICIDENTIFIER]}|${src[t.NUMERICIDENTIFIER]})`);\n    createToken(\"PRERELEASEIDENTIFIERLOOSE\", `(?:${src[t.NONNUMERICIDENTIFIER]}|${src[t.NUMERICIDENTIFIERLOOSE]})`);\n    createToken(\"PRERELEASE\", `(?:-(${src[t.PRERELEASEIDENTIFIER]}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`);\n    createToken(\"PRERELEASELOOSE\", `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`);\n    createToken(\"BUILDIDENTIFIER\", `${LETTERDASHNUMBER}+`);\n    createToken(\"BUILD\", `(?:\\\\+(${src[t.BUILDIDENTIFIER]}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`);\n    createToken(\"FULLPLAIN\", `v?${src[t.MAINVERSION]}${src[t.PRERELEASE]}?${src[t.BUILD]}?`);\n    createToken(\"FULL\", `^${src[t.FULLPLAIN]}$`);\n    createToken(\"LOOSEPLAIN\", `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]}${src[t.PRERELEASELOOSE]}?${src[t.BUILD]}?`);\n    createToken(\"LOOSE\", `^${src[t.LOOSEPLAIN]}$`);\n    createToken(\"GTLT\", \"((?:<|>)?=?)\");\n    createToken(\"XRANGEIDENTIFIERLOOSE\", `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`);\n    createToken(\"XRANGEIDENTIFIER\", `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`);\n    createToken(\"XRANGEPLAIN\", `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})(?:\\\\.(${src[t.XRANGEIDENTIFIER]})(?:\\\\.(${src[t.XRANGEIDENTIFIER]})(?:${src[t.PRERELEASE]})?${src[t.BUILD]}?)?)?`);\n    createToken(\"XRANGEPLAINLOOSE\", `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})(?:${src[t.PRERELEASELOOSE]})?${src[t.BUILD]}?)?)?`);\n    createToken(\"XRANGE\", `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`);\n    createToken(\"XRANGELOOSE\", `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`);\n    createToken(\"COERCEPLAIN\", `${\"(^|[^\\\\d])(\\\\d{1,\"}${MAX_SAFE_COMPONENT_LENGTH}})(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`);\n    createToken(\"COERCE\", `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`);\n    createToken(\"COERCEFULL\", src[t.COERCEPLAIN] + `(?:${src[t.PRERELEASE]})?(?:${src[t.BUILD]})?(?:$|[^\\\\d])`);\n    createToken(\"COERCERTL\", src[t.COERCE], true);\n    createToken(\"COERCERTLFULL\", src[t.COERCEFULL], true);\n    createToken(\"LONETILDE\", \"(?:~>?)\");\n    createToken(\"TILDETRIM\", `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true);\n    exports.tildeTrimReplace = \"$1~\";\n    createToken(\"TILDE\", `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);\n    createToken(\"TILDELOOSE\", `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`);\n    createToken(\"LONECARET\", \"(?:\\\\^)\");\n    createToken(\"CARETTRIM\", `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true);\n    exports.caretTrimReplace = \"$1^\";\n    createToken(\"CARET\", `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);\n    createToken(\"CARETLOOSE\", `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`);\n    createToken(\"COMPARATORLOOSE\", `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`);\n    createToken(\"COMPARATOR\", `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`);\n    createToken(\"COMPARATORTRIM\", `(\\\\s*)${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true);\n    exports.comparatorTrimReplace = \"$1$2$3\";\n    createToken(\"HYPHENRANGE\", `^\\\\s*(${src[t.XRANGEPLAIN]})\\\\s+-\\\\s+(${src[t.XRANGEPLAIN]})\\\\s*$`);\n    createToken(\"HYPHENRANGELOOSE\", `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})\\\\s+-\\\\s+(${src[t.XRANGEPLAINLOOSE]})\\\\s*$`);\n    createToken(\"STAR\", \"(<|>)?=?\\\\s*\\\\*\");\n    createToken(\"GTE0\", \"^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$\");\n    createToken(\"GTE0PRE\", \"^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$\");\n  })(re, re.exports);\n  return re.exports;\n}\nvar parseOptions_1;\nvar hasRequiredParseOptions;\nfunction requireParseOptions() {\n  if (hasRequiredParseOptions) return parseOptions_1;\n  hasRequiredParseOptions = 1;\n  const looseOption = Object.freeze({ loose: true });\n  const emptyOpts = Object.freeze({});\n  const parseOptions = (options) => {\n    if (!options) {\n      return emptyOpts;\n    }\n    if (typeof options !== \"object\") {\n      return looseOption;\n    }\n    return options;\n  };\n  parseOptions_1 = parseOptions;\n  return parseOptions_1;\n}\nvar identifiers;\nvar hasRequiredIdentifiers;\nfunction requireIdentifiers() {\n  if (hasRequiredIdentifiers) return identifiers;\n  hasRequiredIdentifiers = 1;\n  const numeric = /^[0-9]+$/;\n  const compareIdentifiers = (a2, b2) => {\n    if (typeof a2 === \"number\" && typeof b2 === \"number\") {\n      return a2 === b2 ? 0 : a2 < b2 ? -1 : 1;\n    }\n    const anum = numeric.test(a2);\n    const bnum = numeric.test(b2);\n    if (anum && bnum) {\n      a2 = +a2;\n      b2 = +b2;\n    }\n    return a2 === b2 ? 0 : anum && !bnum ? -1 : bnum && !anum ? 1 : a2 < b2 ? -1 : 1;\n  };\n  const rcompareIdentifiers = (a2, b2) => compareIdentifiers(b2, a2);\n  identifiers = {\n    compareIdentifiers,\n    rcompareIdentifiers\n  };\n  return identifiers;\n}\nvar semver;\nvar hasRequiredSemver;\nfunction requireSemver() {\n  if (hasRequiredSemver) return semver;\n  hasRequiredSemver = 1;\n  const debug = requireDebug();\n  const { MAX_LENGTH, MAX_SAFE_INTEGER } = requireConstants();\n  const { safeRe: re2, t } = requireRe();\n  const parseOptions = requireParseOptions();\n  const { compareIdentifiers } = requireIdentifiers();\n  class SemVer {\n    constructor(version, options) {\n      options = parseOptions(options);\n      if (version instanceof SemVer) {\n        if (version.loose === !!options.loose && version.includePrerelease === !!options.includePrerelease) {\n          return version;\n        } else {\n          version = version.version;\n        }\n      } else if (typeof version !== \"string\") {\n        throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`);\n      }\n      if (version.length > MAX_LENGTH) {\n        throw new TypeError(\n          `version is longer than ${MAX_LENGTH} characters`\n        );\n      }\n      debug(\"SemVer\", version, options);\n      this.options = options;\n      this.loose = !!options.loose;\n      this.includePrerelease = !!options.includePrerelease;\n      const m = version.trim().match(options.loose ? re2[t.LOOSE] : re2[t.FULL]);\n      if (!m) {\n        throw new TypeError(`Invalid Version: ${version}`);\n      }\n      this.raw = version;\n      this.major = +m[1];\n      this.minor = +m[2];\n      this.patch = +m[3];\n      if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n        throw new TypeError(\"Invalid major version\");\n      }\n      if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n        throw new TypeError(\"Invalid minor version\");\n      }\n      if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n        throw new TypeError(\"Invalid patch version\");\n      }\n      if (!m[4]) {\n        this.prerelease = [];\n      } else {\n        this.prerelease = m[4].split(\".\").map((id) => {\n          if (/^[0-9]+$/.test(id)) {\n            const num = +id;\n            if (num >= 0 && num < MAX_SAFE_INTEGER) {\n              return num;\n            }\n          }\n          return id;\n        });\n      }\n      this.build = m[5] ? m[5].split(\".\") : [];\n      this.format();\n    }\n    format() {\n      this.version = `${this.major}.${this.minor}.${this.patch}`;\n      if (this.prerelease.length) {\n        this.version += `-${this.prerelease.join(\".\")}`;\n      }\n      return this.version;\n    }\n    toString() {\n      return this.version;\n    }\n    compare(other) {\n      debug(\"SemVer.compare\", this.version, this.options, other);\n      if (!(other instanceof SemVer)) {\n        if (typeof other === \"string\" && other === this.version) {\n          return 0;\n        }\n        other = new SemVer(other, this.options);\n      }\n      if (other.version === this.version) {\n        return 0;\n      }\n      return this.compareMain(other) || this.comparePre(other);\n    }\n    compareMain(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      if (this.major < other.major) {\n        return -1;\n      }\n      if (this.major > other.major) {\n        return 1;\n      }\n      if (this.minor < other.minor) {\n        return -1;\n      }\n      if (this.minor > other.minor) {\n        return 1;\n      }\n      if (this.patch < other.patch) {\n        return -1;\n      }\n      if (this.patch > other.patch) {\n        return 1;\n      }\n      return 0;\n    }\n    comparePre(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      if (this.prerelease.length && !other.prerelease.length) {\n        return -1;\n      } else if (!this.prerelease.length && other.prerelease.length) {\n        return 1;\n      } else if (!this.prerelease.length && !other.prerelease.length) {\n        return 0;\n      }\n      let i = 0;\n      do {\n        const a2 = this.prerelease[i];\n        const b2 = other.prerelease[i];\n        debug(\"prerelease compare\", i, a2, b2);\n        if (a2 === void 0 && b2 === void 0) {\n          return 0;\n        } else if (b2 === void 0) {\n          return 1;\n        } else if (a2 === void 0) {\n          return -1;\n        } else if (a2 === b2) {\n          continue;\n        } else {\n          return compareIdentifiers(a2, b2);\n        }\n      } while (++i);\n    }\n    compareBuild(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      let i = 0;\n      do {\n        const a2 = this.build[i];\n        const b2 = other.build[i];\n        debug(\"build compare\", i, a2, b2);\n        if (a2 === void 0 && b2 === void 0) {\n          return 0;\n        } else if (b2 === void 0) {\n          return 1;\n        } else if (a2 === void 0) {\n          return -1;\n        } else if (a2 === b2) {\n          continue;\n        } else {\n          return compareIdentifiers(a2, b2);\n        }\n      } while (++i);\n    }\n    // preminor will bump the version up to the next minor release, and immediately\n    // down to pre-release. premajor and prepatch work the same way.\n    inc(release, identifier, identifierBase) {\n      if (release.startsWith(\"pre\")) {\n        if (!identifier && identifierBase === false) {\n          throw new Error(\"invalid increment argument: identifier is empty\");\n        }\n        if (identifier) {\n          const match = `-${identifier}`.match(this.options.loose ? re2[t.PRERELEASELOOSE] : re2[t.PRERELEASE]);\n          if (!match || match[1] !== identifier) {\n            throw new Error(`invalid identifier: ${identifier}`);\n          }\n        }\n      }\n      switch (release) {\n        case \"premajor\":\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor = 0;\n          this.major++;\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"preminor\":\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor++;\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"prepatch\":\n          this.prerelease.length = 0;\n          this.inc(\"patch\", identifier, identifierBase);\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        // If the input is a non-prerelease version, this acts the same as\n        // prepatch.\n        case \"prerelease\":\n          if (this.prerelease.length === 0) {\n            this.inc(\"patch\", identifier, identifierBase);\n          }\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"release\":\n          if (this.prerelease.length === 0) {\n            throw new Error(`version ${this.raw} is not a prerelease`);\n          }\n          this.prerelease.length = 0;\n          break;\n        case \"major\":\n          if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0) {\n            this.major++;\n          }\n          this.minor = 0;\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n        case \"minor\":\n          if (this.patch !== 0 || this.prerelease.length === 0) {\n            this.minor++;\n          }\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n        case \"patch\":\n          if (this.prerelease.length === 0) {\n            this.patch++;\n          }\n          this.prerelease = [];\n          break;\n        // This probably shouldn't be used publicly.\n        // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n        case \"pre\": {\n          const base = Number(identifierBase) ? 1 : 0;\n          if (this.prerelease.length === 0) {\n            this.prerelease = [base];\n          } else {\n            let i = this.prerelease.length;\n            while (--i >= 0) {\n              if (typeof this.prerelease[i] === \"number\") {\n                this.prerelease[i]++;\n                i = -2;\n              }\n            }\n            if (i === -1) {\n              if (identifier === this.prerelease.join(\".\") && identifierBase === false) {\n                throw new Error(\"invalid increment argument: identifier already exists\");\n              }\n              this.prerelease.push(base);\n            }\n          }\n          if (identifier) {\n            let prerelease = [identifier, base];\n            if (identifierBase === false) {\n              prerelease = [identifier];\n            }\n            if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n              if (isNaN(this.prerelease[1])) {\n                this.prerelease = prerelease;\n              }\n            } else {\n              this.prerelease = prerelease;\n            }\n          }\n          break;\n        }\n        default:\n          throw new Error(`invalid increment argument: ${release}`);\n      }\n      this.raw = this.format();\n      if (this.build.length) {\n        this.raw += `+${this.build.join(\".\")}`;\n      }\n      return this;\n    }\n  }\n  semver = SemVer;\n  return semver;\n}\nvar major_1;\nvar hasRequiredMajor;\nfunction requireMajor() {\n  if (hasRequiredMajor) return major_1;\n  hasRequiredMajor = 1;\n  const SemVer = requireSemver();\n  const major2 = (a2, loose) => new SemVer(a2, loose).major;\n  major_1 = major2;\n  return major_1;\n}\nvar majorExports = requireMajor();\nconst major = /* @__PURE__ */ getDefaultExportFromCjs(majorExports);\nvar parse_1;\nvar hasRequiredParse;\nfunction requireParse() {\n  if (hasRequiredParse) return parse_1;\n  hasRequiredParse = 1;\n  const SemVer = requireSemver();\n  const parse = (version, options, throwErrors = false) => {\n    if (version instanceof SemVer) {\n      return version;\n    }\n    try {\n      return new SemVer(version, options);\n    } catch (er) {\n      if (!throwErrors) {\n        return null;\n      }\n      throw er;\n    }\n  };\n  parse_1 = parse;\n  return parse_1;\n}\nvar valid_1;\nvar hasRequiredValid;\nfunction requireValid() {\n  if (hasRequiredValid) return valid_1;\n  hasRequiredValid = 1;\n  const parse = requireParse();\n  const valid2 = (version, options) => {\n    const v = parse(version, options);\n    return v ? v.version : null;\n  };\n  valid_1 = valid2;\n  return valid_1;\n}\nvar validExports = requireValid();\nconst valid = /* @__PURE__ */ getDefaultExportFromCjs(validExports);\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nclass ProxyBus {\n  bus;\n  constructor(bus2) {\n    if (typeof bus2.getVersion !== \"function\" || !valid(bus2.getVersion())) {\n      console.warn(\"Proxying an event bus with an unknown or invalid version\");\n    } else if (major(bus2.getVersion()) !== major(this.getVersion())) {\n      console.warn(\n        \"Proxying an event bus of version \" + bus2.getVersion() + \" with \" + this.getVersion()\n      );\n    }\n    this.bus = bus2;\n  }\n  getVersion() {\n    return \"3.3.3\";\n  }\n  subscribe(name, handler) {\n    this.bus.subscribe(name, handler);\n  }\n  unsubscribe(name, handler) {\n    this.bus.unsubscribe(name, handler);\n  }\n  emit(name, ...event) {\n    this.bus.emit(name, ...event);\n  }\n}\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nclass SimpleBus {\n  handlers = /* @__PURE__ */ new Map();\n  getVersion() {\n    return \"3.3.3\";\n  }\n  subscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).concat(\n        handler\n      )\n    );\n  }\n  unsubscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).filter((h) => h !== handler)\n    );\n  }\n  emit(name, ...event) {\n    const handlers = this.handlers.get(name) || [];\n    handlers.forEach((h) => {\n      try {\n        ;\n        h(event[0]);\n      } catch (e) {\n        console.error(\"could not invoke event listener\", e);\n      }\n    });\n  }\n}\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nlet bus = null;\nfunction getBus() {\n  if (bus !== null) {\n    return bus;\n  }\n  if (typeof window === \"undefined\") {\n    return new Proxy({}, {\n      get: () => {\n        return () => console.error(\n          \"Window not available, EventBus can not be established!\"\n        );\n      }\n    });\n  }\n  if (window.OC?._eventBus && typeof window._nc_event_bus === \"undefined\") {\n    console.warn(\n      \"found old event bus instance at OC._eventBus. Update your version!\"\n    );\n    window._nc_event_bus = window.OC._eventBus;\n  }\n  if (typeof window?._nc_event_bus !== \"undefined\") {\n    bus = new ProxyBus(window._nc_event_bus);\n  } else {\n    bus = window._nc_event_bus = new SimpleBus();\n  }\n  return bus;\n}\nfunction emit(name, ...event) {\n  getBus().emit(name, ...event);\n}\n/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nclass FileListFilter extends TypedEventTarget {\n  id;\n  order;\n  constructor(id, order = 100) {\n    super();\n    this.id = id;\n    this.order = order;\n  }\n  filter(nodes) {\n    throw new Error(\"Not implemented\");\n  }\n  updateChips(chips) {\n    this.dispatchTypedEvent(\"update:chips\", new CustomEvent(\"update:chips\", { detail: chips }));\n  }\n  filterUpdated() {\n    this.dispatchTypedEvent(\"update:filter\", new CustomEvent(\"update:filter\"));\n  }\n}\nfunction registerFileListFilter(filter) {\n  if (!window._nc_filelist_filters) {\n    window._nc_filelist_filters = /* @__PURE__ */ new Map();\n  }\n  if (window._nc_filelist_filters.has(filter.id)) {\n    throw new Error(`File list filter \"${filter.id}\" already registered`);\n  }\n  window._nc_filelist_filters.set(filter.id, filter);\n  emit(\"files:filter:added\", filter);\n}\nfunction unregisterFileListFilter(filterId) {\n  if (window._nc_filelist_filters && window._nc_filelist_filters.has(filterId)) {\n    window._nc_filelist_filters.delete(filterId);\n    emit(\"files:filter:removed\", filterId);\n  }\n}\nfunction getFileListFilters() {\n  if (!window._nc_filelist_filters) {\n    return [];\n  }\n  return [...window._nc_filelist_filters.values()];\n}\nclass Header {\n  _header;\n  constructor(header) {\n    this.validateHeader(header);\n    this._header = header;\n  }\n  get id() {\n    return this._header.id;\n  }\n  get order() {\n    return this._header.order;\n  }\n  get enabled() {\n    return this._header.enabled;\n  }\n  get render() {\n    return this._header.render;\n  }\n  get updated() {\n    return this._header.updated;\n  }\n  validateHeader(header) {\n    if (!header.id || !header.render || !header.updated) {\n      throw new Error(\"Invalid header: id, render and updated are required\");\n    }\n    if (typeof header.id !== \"string\") {\n      throw new Error(\"Invalid id property\");\n    }\n    if (header.enabled !== void 0 && typeof header.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled property\");\n    }\n    if (header.render && typeof header.render !== \"function\") {\n      throw new Error(\"Invalid render property\");\n    }\n    if (header.updated && typeof header.updated !== \"function\") {\n      throw new Error(\"Invalid updated property\");\n    }\n  }\n}\nfunction registerFileListHeaders(header) {\n  if (typeof window._nc_filelistheader === \"undefined\") {\n    window._nc_filelistheader = [];\n    logger.debug(\"FileListHeaders initialized\");\n  }\n  if (window._nc_filelistheader.find((search) => search.id === header.id)) {\n    logger.error(`Header ${header.id} already registered`, { header });\n    return;\n  }\n  window._nc_filelistheader.push(header);\n}\nfunction getFileListHeaders() {\n  if (typeof window._nc_filelistheader === \"undefined\") {\n    window._nc_filelistheader = [];\n    logger.debug(\"FileListHeaders initialized\");\n  }\n  return window._nc_filelistheader;\n}\nfunction checkOptionalProperty(obj, property, type) {\n  if (typeof obj[property] !== \"undefined\") {\n    if (type === \"array\") {\n      if (!Array.isArray(obj[property])) {\n        throw new Error(`View ${property} must be an array`);\n      }\n    } else if (typeof obj[property] !== type) {\n      throw new Error(`View ${property} must be a ${type}`);\n    } else if (type === \"object\" && (obj[property] === null || Array.isArray(obj[property]))) {\n      throw new Error(`View ${property} must be an object`);\n    }\n  }\n}\nclass Column {\n  _column;\n  constructor(column) {\n    validateColumn(column);\n    this._column = column;\n  }\n  get id() {\n    return this._column.id;\n  }\n  get title() {\n    return this._column.title;\n  }\n  get render() {\n    return this._column.render;\n  }\n  get sort() {\n    return this._column.sort;\n  }\n  get summary() {\n    return this._column.summary;\n  }\n}\nfunction validateColumn(column) {\n  if (typeof column !== \"object\" || column === null) {\n    throw new Error(\"View column must be an object\");\n  }\n  if (!column.id || typeof column.id !== \"string\") {\n    throw new Error(\"A column id is required\");\n  }\n  if (!column.title || typeof column.title !== \"string\") {\n    throw new Error(\"A column title is required\");\n  }\n  if (!column.render || typeof column.render !== \"function\") {\n    throw new Error(\"A render function is required\");\n  }\n  checkOptionalProperty(column, \"sort\", \"function\");\n  checkOptionalProperty(column, \"summary\", \"function\");\n}\nclass View {\n  _view;\n  constructor(view) {\n    validateView(view);\n    this._view = view;\n  }\n  get id() {\n    return this._view.id;\n  }\n  get name() {\n    return this._view.name;\n  }\n  get caption() {\n    return this._view.caption;\n  }\n  get emptyTitle() {\n    return this._view.emptyTitle;\n  }\n  get emptyCaption() {\n    return this._view.emptyCaption;\n  }\n  get getContents() {\n    return this._view.getContents;\n  }\n  get hidden() {\n    return this._view.hidden;\n  }\n  get icon() {\n    return this._view.icon;\n  }\n  set icon(icon) {\n    this._view.icon = icon;\n  }\n  get order() {\n    return this._view.order;\n  }\n  set order(order) {\n    this._view.order = order;\n  }\n  get params() {\n    return this._view.params;\n  }\n  set params(params) {\n    this._view.params = params;\n  }\n  get columns() {\n    return this._view.columns;\n  }\n  get emptyView() {\n    return this._view.emptyView;\n  }\n  get parent() {\n    return this._view.parent;\n  }\n  get sticky() {\n    return this._view.sticky;\n  }\n  get expanded() {\n    return this._view.expanded;\n  }\n  set expanded(expanded) {\n    this._view.expanded = expanded;\n  }\n  get defaultSortKey() {\n    return this._view.defaultSortKey;\n  }\n  get loadChildViews() {\n    return this._view.loadChildViews;\n  }\n}\nfunction validateView(view) {\n  if (!view.icon || typeof view.icon !== \"string\" || !isSvg(view.icon)) {\n    throw new Error(\"View icon is required and must be a valid svg string\");\n  }\n  if (!view.id || typeof view.id !== \"string\") {\n    throw new Error(\"View id is required and must be a string\");\n  }\n  if (!view.getContents || typeof view.getContents !== \"function\") {\n    throw new Error(\"View getContents is required and must be a function\");\n  }\n  if (!view.name || typeof view.name !== \"string\") {\n    throw new Error(\"View name is required and must be a string\");\n  }\n  checkOptionalProperty(view, \"caption\", \"string\");\n  checkOptionalProperty(view, \"columns\", \"array\");\n  checkOptionalProperty(view, \"defaultSortKey\", \"string\");\n  checkOptionalProperty(view, \"emptyCaption\", \"string\");\n  checkOptionalProperty(view, \"emptyTitle\", \"string\");\n  checkOptionalProperty(view, \"emptyView\", \"function\");\n  checkOptionalProperty(view, \"expanded\", \"boolean\");\n  checkOptionalProperty(view, \"hidden\", \"boolean\");\n  checkOptionalProperty(view, \"loadChildViews\", \"function\");\n  checkOptionalProperty(view, \"order\", \"number\");\n  checkOptionalProperty(view, \"params\", \"object\");\n  checkOptionalProperty(view, \"parent\", \"string\");\n  checkOptionalProperty(view, \"sticky\", \"boolean\");\n  if (view.columns) {\n    view.columns.forEach(validateColumn);\n    const columnIds = view.columns.reduce((set, column) => set.add(column.id), /* @__PURE__ */ new Set());\n    if (columnIds.size !== view.columns.length) {\n      throw new Error(\"View columns must have unique ids\");\n    }\n  }\n}\nclass Navigation extends TypedEventTarget {\n  _views = [];\n  _currentView = null;\n  /**\n   * Register a new view on the navigation\n   *\n   * @param view The view to register\n   * @throws {Error} if a view with the same id is already registered\n   * @throws {Error} if the registered view is invalid\n   */\n  register(view) {\n    if (this._views.find((search) => search.id === view.id)) {\n      throw new Error(`IView id ${view.id} is already registered`);\n    }\n    validateView(view);\n    this._views.push(view);\n    this.dispatchTypedEvent(\"update\", new CustomEvent(\"update\"));\n  }\n  /**\n   * Remove a registered view\n   *\n   * @param id The id of the view to remove\n   */\n  remove(id) {\n    const index = this._views.findIndex((view) => view.id === id);\n    if (index !== -1) {\n      this._views.splice(index, 1);\n      this.dispatchTypedEvent(\"update\", new CustomEvent(\"update\"));\n    }\n  }\n  /**\n   * Set the currently active view\n   *\n   * @param id - The id of the view to set as active\n   * @throws {Error} If no view with the given id was registered\n   * @fires UpdateActiveViewEvent\n   */\n  setActive(id) {\n    if (id === null) {\n      this._currentView = null;\n    } else {\n      const view = this._views.find(({ id: viewId }) => viewId === id);\n      if (!view) {\n        throw new Error(`No view with ${id} registered`);\n      }\n      this._currentView = view;\n    }\n    const event = new CustomEvent(\"updateActive\", { detail: this._currentView });\n    this.dispatchTypedEvent(\"updateActive\", event);\n  }\n  /**\n   * The currently active files view\n   */\n  get active() {\n    return this._currentView;\n  }\n  /**\n   * All registered views\n   */\n  get views() {\n    return this._views;\n  }\n}\nfunction getNavigation() {\n  if (typeof window._nc_navigation === \"undefined\") {\n    window._nc_navigation = new Navigation();\n    logger.debug(\"Navigation service initialized\");\n  }\n  return window._nc_navigation;\n}\nconst NewMenuEntryCategory = Object.freeze({\n  /**\n   * For actions where the user is intended to upload from their device\n   */\n  UploadFromDevice: 0,\n  /**\n   * For actions that create new nodes on the server without uploading\n   */\n  CreateNew: 1,\n  /**\n   * For everything not matching the other categories\n   */\n  Other: 2\n});\nclass NewMenu {\n  _entries = [];\n  registerEntry(entry) {\n    this.validateEntry(entry);\n    entry.category = entry.category ?? NewMenuEntryCategory.CreateNew;\n    this._entries.push(entry);\n  }\n  unregisterEntry(entry) {\n    const entryIndex = typeof entry === \"string\" ? this.getEntryIndex(entry) : this.getEntryIndex(entry.id);\n    if (entryIndex === -1) {\n      logger.warn(\"Entry not found, nothing removed\", { entry, entries: this.getEntries() });\n      return;\n    }\n    this._entries.splice(entryIndex, 1);\n  }\n  /**\n   * Get the list of registered entries\n   *\n   * @param context - The creation context. Usually the current folder\n   */\n  getEntries(context) {\n    if (context) {\n      return this._entries.filter((entry) => typeof entry.enabled === \"function\" ? entry.enabled(context) : true);\n    }\n    return this._entries;\n  }\n  getEntryIndex(id) {\n    return this._entries.findIndex((entry) => entry.id === id);\n  }\n  validateEntry(entry) {\n    if (!entry.id || !entry.displayName || !entry.iconSvgInline || !entry.handler) {\n      throw new Error(\"Invalid entry\");\n    }\n    if (typeof entry.id !== \"string\" || typeof entry.displayName !== \"string\") {\n      throw new Error(\"Invalid id or displayName property\");\n    }\n    if (entry.iconSvgInline && typeof entry.iconSvgInline !== \"string\") {\n      throw new Error(\"Invalid icon provided\");\n    }\n    if (entry.enabled !== void 0 && typeof entry.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled property\");\n    }\n    if (typeof entry.handler !== \"function\") {\n      throw new Error(\"Invalid handler property\");\n    }\n    if (\"order\" in entry && typeof entry.order !== \"number\") {\n      throw new Error(\"Invalid order property\");\n    }\n    if (this.getEntryIndex(entry.id) !== -1) {\n      throw new Error(\"Duplicate entry\");\n    }\n  }\n}\nfunction getNewFileMenu() {\n  if (typeof window._nc_newfilemenu === \"undefined\") {\n    window._nc_newfilemenu = new NewMenu();\n    logger.debug(\"NewFileMenu initialized\");\n  }\n  return window._nc_newfilemenu;\n}\nfunction addNewFileMenuEntry(entry) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.registerEntry(entry);\n}\nfunction removeNewFileMenuEntry(entry) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.unregisterEntry(entry);\n}\nfunction getNewFileMenuEntries(context) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.getEntries(context).sort((a2, b2) => {\n    if (a2.order !== void 0 && b2.order !== void 0 && a2.order !== b2.order) {\n      return a2.order - b2.order;\n    }\n    return a2.displayName.localeCompare(b2.displayName, void 0, { numeric: true, sensitivity: \"base\" });\n  });\n}\nfunction registerSidebarAction(action) {\n  validateSidebarAction(action);\n  window._nc_files_sidebar_actions ??= /* @__PURE__ */ new Map();\n  if (window._nc_files_sidebar_actions.has(action.id)) {\n    logger.warn(`Sidebar action with id \"${action.id}\" already registered. Skipping.`);\n    return;\n  }\n  window._nc_files_sidebar_actions.set(action.id, action);\n  logger.debug(`New sidebar action with id \"${action.id}\" registered.`);\n}\nfunction getSidebarActions() {\n  if (window._nc_files_sidebar_actions) {\n    return [...window._nc_files_sidebar_actions.values()];\n  }\n  return [];\n}\nfunction validateSidebarAction(action) {\n  if (typeof action !== \"object\") {\n    throw new Error(\"Sidebar action is not an object\");\n  }\n  if (!action.id || typeof action.id !== \"string\" || action.id !== CSS.escape(action.id)) {\n    throw new Error(\"Sidebar actions need to have an id conforming to the HTML id attribute specifications\");\n  }\n  if (!action.displayName || typeof action.displayName !== \"function\") {\n    throw new Error(\"Sidebar actions need to have a displayName function\");\n  }\n  if (!action.iconSvgInline || typeof action.iconSvgInline !== \"function\") {\n    throw new Error(\"Sidebar actions need to have a iconSvgInline function\");\n  }\n  if (!action.enabled || typeof action.enabled !== \"function\") {\n    throw new Error(\"Sidebar actions need to have an enabled function\");\n  }\n  if (!action.onClick || typeof action.onClick !== \"function\") {\n    throw new Error(\"Sidebar actions need to have an onClick function\");\n  }\n}\nfunction registerSidebarTab(tab) {\n  validateSidebarTab(tab);\n  window._nc_files_sidebar_tabs ??= /* @__PURE__ */ new Map();\n  if (window._nc_files_sidebar_tabs.has(tab.id)) {\n    logger.warn(`Sidebar tab with id \"${tab.id}\" already registered. Skipping.`);\n    return;\n  }\n  window._nc_files_sidebar_tabs.set(tab.id, tab);\n  logger.debug(`New sidebar tab with id \"${tab.id}\" registered.`);\n}\nfunction getSidebarTabs() {\n  if (window._nc_files_sidebar_tabs) {\n    return [...window._nc_files_sidebar_tabs.values()];\n  }\n  return [];\n}\nfunction validateSidebarTab(tab) {\n  if (typeof tab !== \"object\") {\n    throw new Error(\"Sidebar tab is not an object\");\n  }\n  if (!tab.id || typeof tab.id !== \"string\" || tab.id !== CSS.escape(tab.id)) {\n    throw new Error(\"Sidebar tabs need to have an id conforming to the HTML id attribute specifications\");\n  }\n  if (!tab.tagName || typeof tab.tagName !== \"string\") {\n    throw new Error(\"Sidebar tabs need to have the tagName name set\");\n  }\n  if (!tab.tagName.match(/^[a-z][a-z0-9-_]+$/)) {\n    throw new Error('Sidebar tab \"tagName\" is invalid');\n  }\n  if (!tab.displayName || typeof tab.displayName !== \"string\") {\n    throw new Error(\"Sidebar tabs need to have a name set\");\n  }\n  if (typeof tab.iconSvgInline !== \"string\" || !isSvg(tab.iconSvgInline)) {\n    throw new Error(\"Sidebar tabs need to have an valid SVG icon\");\n  }\n  if (typeof tab.order !== \"number\") {\n    throw new Error(\"Sidebar tabs need to have a numeric order set\");\n  }\n  if (tab.enabled && typeof tab.enabled !== \"function\") {\n    throw new Error('Sidebar tab \"enabled\" is not a function');\n  }\n  if (tab.onInit && typeof tab.onInit !== \"function\") {\n    throw new Error('Sidebar tab \"onInit\" is not a function');\n  }\n}\nclass SidebarProxy {\n  get #impl() {\n    return window.OCA?.Files?._sidebar?.();\n  }\n  get available() {\n    return !!this.#impl;\n  }\n  get isOpen() {\n    return this.#impl?.isOpen ?? false;\n  }\n  get activeTab() {\n    return this.#impl?.activeTab;\n  }\n  get node() {\n    return this.#impl?.node;\n  }\n  open(node, tab) {\n    this.#impl?.open(node, tab);\n  }\n  close() {\n    this.#impl?.close();\n  }\n  setActiveTab(tabId) {\n    this.#impl?.setActiveTab(tabId);\n  }\n  registerTab(tab) {\n    registerSidebarTab(tab);\n  }\n  getTabs(context) {\n    return this.#impl?.getTabs(context) ?? [];\n  }\n  getActions(context) {\n    return this.#impl?.getActions(context) ?? [];\n  }\n  registerAction(action) {\n    registerSidebarAction(action);\n  }\n}\nfunction getSidebar() {\n  return new SidebarProxy();\n}\nconst InvalidFilenameErrorReason = Object.freeze({\n  ReservedName: \"reserved name\",\n  Character: \"character\",\n  Extension: \"extension\"\n});\nclass InvalidFilenameError extends Error {\n  constructor(options) {\n    super(`Invalid ${options.reason} '${options.segment}' in filename '${options.filename}'`, { cause: options });\n  }\n  /**\n   * The filename that was validated\n   */\n  get filename() {\n    return this.cause.filename;\n  }\n  /**\n   * Reason why the validation failed\n   */\n  get reason() {\n    return this.cause.reason;\n  }\n  /**\n   * Part of the filename that caused this error\n   */\n  get segment() {\n    return this.cause.segment;\n  }\n}\nfunction validateFilename(filename) {\n  const capabilities = getCapabilities().files;\n  const forbiddenCharacters = capabilities.forbidden_filename_characters ?? [\"/\", \"\\\\\"];\n  for (const character of forbiddenCharacters) {\n    if (filename.includes(character)) {\n      throw new InvalidFilenameError({ segment: character, reason: InvalidFilenameErrorReason.Character, filename });\n    }\n  }\n  filename = filename.toLocaleLowerCase();\n  const forbiddenFilenames = capabilities.forbidden_filenames ?? [\".htaccess\"];\n  if (forbiddenFilenames.includes(filename)) {\n    throw new InvalidFilenameError({ filename, segment: filename, reason: InvalidFilenameErrorReason.ReservedName });\n  }\n  const endOfBasename = filename.indexOf(\".\", 1);\n  const basename2 = filename.substring(0, endOfBasename === -1 ? void 0 : endOfBasename);\n  const forbiddenFilenameBasenames = capabilities.forbidden_filename_basenames ?? [];\n  if (forbiddenFilenameBasenames.includes(basename2)) {\n    throw new InvalidFilenameError({ filename, segment: basename2, reason: InvalidFilenameErrorReason.ReservedName });\n  }\n  const forbiddenFilenameExtensions = capabilities.forbidden_filename_extensions ?? [];\n  for (const extension of forbiddenFilenameExtensions) {\n    if (filename.length > extension.length && filename.endsWith(extension)) {\n      throw new InvalidFilenameError({ segment: extension, reason: InvalidFilenameErrorReason.Extension, filename });\n    }\n  }\n}\nfunction isFilenameValid(filename) {\n  try {\n    validateFilename(filename);\n    return true;\n  } catch (error) {\n    if (error instanceof InvalidFilenameError) {\n      return false;\n    }\n    throw error;\n  }\n}\nfunction getUniqueName(name, otherNames, options) {\n  const opts = {\n    suffix: (n) => `(${n})`,\n    ignoreFileExtension: false,\n    ...options\n  };\n  let newName = name;\n  let i = 1;\n  while (otherNames.includes(newName)) {\n    const ext = opts.ignoreFileExtension ? \"\" : extname(name);\n    const base = basename(name, ext);\n    newName = `${base} ${opts.suffix(i++)}${ext}`;\n  }\n  return newName;\n}\nconst humanList = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\"];\nconst humanListBinary = [\"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\"];\nfunction formatFileSize(size, skipSmallSizes = false, binaryPrefixes = false, base1000 = false) {\n  binaryPrefixes = binaryPrefixes && !base1000;\n  if (typeof size === \"string\") {\n    size = Number(size);\n  }\n  let order = size > 0 ? Math.floor(Math.log(size) / Math.log(base1000 ? 1e3 : 1024)) : 0;\n  order = Math.min((binaryPrefixes ? humanListBinary.length : humanList.length) - 1, order);\n  const readableFormat = binaryPrefixes ? humanListBinary[order] : humanList[order];\n  let relativeSize = (size / Math.pow(base1000 ? 1e3 : 1024, order)).toFixed(1);\n  if (skipSmallSizes === true && order === 0) {\n    return (relativeSize !== \"0.0\" ? \"< 1 \" : \"0 \") + (binaryPrefixes ? humanListBinary[1] : humanList[1]);\n  }\n  if (order < 2) {\n    relativeSize = parseFloat(relativeSize).toFixed(0);\n  } else {\n    relativeSize = parseFloat(relativeSize).toLocaleString(getCanonicalLocale());\n  }\n  return relativeSize + \" \" + readableFormat;\n}\nfunction parseFileSize(value, forceBinary = false) {\n  try {\n    value = `${value}`.toLocaleLowerCase().replaceAll(/\\s+/g, \"\").replaceAll(\",\", \".\");\n  } catch {\n    return null;\n  }\n  const match = value.match(/^([0-9]*(\\.[0-9]*)?)([kmgtp]?)(i?)b?$/);\n  if (match === null || match[1] === \".\" || match[1] === \"\") {\n    return null;\n  }\n  const bytesArray = {\n    \"\": 0,\n    k: 1,\n    m: 2,\n    g: 3,\n    t: 4,\n    p: 5,\n    e: 6\n  };\n  const decimalString = `${match[1]}`;\n  const base = match[4] === \"i\" || forceBinary ? 1024 : 1e3;\n  return Math.round(Number.parseFloat(decimalString) * base ** bytesArray[match[3]]);\n}\nfunction stringify(value) {\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n  return String(value);\n}\nfunction orderBy(collection, identifiers2, orders) {\n  identifiers2 = identifiers2 ?? [(value) => value];\n  orders = orders ?? [];\n  const sorting = identifiers2.map((_, index) => (orders[index] ?? \"asc\") === \"asc\" ? 1 : -1);\n  const collator = Intl.Collator(\n    [getLanguage(), getCanonicalLocale()],\n    {\n      // handle 10 as ten and not as one-zero\n      numeric: true,\n      usage: \"sort\"\n    }\n  );\n  return [...collection].sort((a2, b2) => {\n    for (const [index, identifier] of identifiers2.entries()) {\n      const value = collator.compare(stringify(identifier(a2)), stringify(identifier(b2)));\n      if (value !== 0) {\n        return value * sorting[index];\n      }\n    }\n    return 0;\n  });\n}\nconst FilesSortingMode = Object.freeze({\n  Name: \"basename\",\n  Modified: \"mtime\",\n  Size: \"size\"\n});\nfunction sortNodes(nodes, options = {}) {\n  const sortingOptions = {\n    // Default to sort by name\n    sortingMode: FilesSortingMode.Name,\n    // Default to sort ascending\n    sortingOrder: \"asc\",\n    ...options\n  };\n  function basename2(node) {\n    const name = node.displayname || node.attributes?.displayname || node.basename || \"\";\n    if (node.type === FileType.Folder) {\n      return name;\n    }\n    return name.lastIndexOf(\".\") > 0 ? name.slice(0, name.lastIndexOf(\".\")) : name;\n  }\n  const identifiers2 = [\n    // 1: Sort favorites first if enabled\n    ...sortingOptions.sortFavoritesFirst ? [(v) => v.attributes?.favorite !== 1] : [],\n    // 2: Sort folders first if sorting by name\n    ...sortingOptions.sortFoldersFirst ? [(v) => v.type !== \"folder\"] : [],\n    // 3: Use sorting mode if NOT basename (to be able to use display name too)\n    ...sortingOptions.sortingMode !== FilesSortingMode.Name ? [(v) => v[sortingOptions.sortingMode] ?? v.attributes[sortingOptions.sortingMode]] : [],\n    // 4: Use display name if available, fallback to name\n    (v) => basename2(v),\n    // 5: Finally, use basename if all previous sorting methods failed\n    (v) => v.basename\n  ];\n  const orders = [\n    // (for 1): always sort favorites before normal files\n    ...sortingOptions.sortFavoritesFirst ? [\"asc\"] : [],\n    // (for 2): always sort folders before files\n    ...sortingOptions.sortFoldersFirst ? [\"asc\"] : [],\n    // (for 3): Reverse if sorting by mtime as mtime higher means edited more recent -> lower\n    ...sortingOptions.sortingMode === FilesSortingMode.Modified ? [sortingOptions.sortingOrder === \"asc\" ? \"desc\" : \"asc\"] : [],\n    // (also for 3 so make sure not to conflict with 2 and 3)\n    ...sortingOptions.sortingMode !== FilesSortingMode.Modified && sortingOptions.sortingMode !== FilesSortingMode.Name ? [sortingOptions.sortingOrder] : [],\n    // for 4: use configured sorting direction\n    sortingOptions.sortingOrder,\n    // for 5: use configured sorting direction\n    sortingOptions.sortingOrder\n  ];\n  return orderBy(nodes, identifiers2, orders);\n}\nexport {\n  Column,\n  DefaultType,\n  a as File,\n  FileAction,\n  FileListAction,\n  FileListFilter,\n  FileType,\n  FilesSortingMode,\n  b as Folder,\n  Header,\n  InvalidFilenameError,\n  InvalidFilenameErrorReason,\n  Navigation,\n  NewMenuEntryCategory,\n  N as Node,\n  c as NodeStatus,\n  P as Permission,\n  View,\n  addNewFileMenuEntry,\n  formatFileSize,\n  getFileActions,\n  getFileListActions,\n  getFileListFilters,\n  getFileListHeaders,\n  getNavigation,\n  getNewFileMenu,\n  getNewFileMenuEntries,\n  getSidebar,\n  getSidebarActions,\n  getSidebarTabs,\n  getUniqueName,\n  isFilenameValid,\n  orderBy,\n  parseFileSize,\n  registerFileAction,\n  registerFileListAction,\n  registerFileListFilter,\n  registerFileListHeaders,\n  registerSidebarAction,\n  registerSidebarTab,\n  removeNewFileMenuEntry,\n  sortNodes,\n  unregisterFileListFilter,\n  validateColumn,\n  validateFilename,\n  validateView\n};\n//# sourceMappingURL=index.mjs.map\n","/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport moment from '@nextcloud/moment';\nimport { createPinia, PiniaVuePlugin } from 'pinia';\nimport Vue, {} from 'vue';\nimport logger from './logger.js';\nimport { getComments } from './services/GetComments.js';\nVue.use(PiniaVuePlugin);\nlet ActivityTabPluginView;\nlet ActivityTabPluginInstance;\n/**\n * Register the comments plugins for the Activity sidebar\n */\nexport function registerCommentsPlugins() {\n    window.OCA.Activity.registerSidebarAction({\n        mount: async (el, { node, reload }) => {\n            const pinia = createPinia();\n            if (!ActivityTabPluginView) {\n                const { default: ActivityCommentAction } = await import('./views/ActivityCommentAction.vue');\n                // @ts-expect-error Types are broken for Vue2\n                ActivityTabPluginView = Vue.extend(ActivityCommentAction);\n            }\n            ActivityTabPluginInstance = new ActivityTabPluginView({\n                el,\n                pinia,\n                propsData: {\n                    reloadCallback: reload,\n                    resourceId: node.fileid,\n                },\n            });\n            logger.info('Comments plugin mounted in Activity sidebar action', { node });\n        },\n        unmount: () => {\n            // destroy previous instance if available\n            if (ActivityTabPluginInstance) {\n                ActivityTabPluginInstance.$destroy();\n            }\n        },\n    });\n    window.OCA.Activity.registerSidebarEntries(async ({ node, limit, offset }) => {\n        const { data: comments } = await getComments({ resourceType: 'files', resourceId: node.fileid }, {\n            limit,\n            offset: offset ?? 0,\n        });\n        logger.debug('Loaded comments', { node, comments });\n        const { default: CommentView } = await import('./views/ActivityCommentEntry.vue');\n        // @ts-expect-error Types are broken for Vue2\n        const CommentsViewObject = Vue.extend(CommentView);\n        return comments.map((comment) => ({\n            _CommentsViewInstance: undefined,\n            timestamp: moment(comment.props?.creationDateTime).toDate().getTime(),\n            mount(element, { reload }) {\n                this._CommentsViewInstance = new CommentsViewObject({\n                    el: element,\n                    propsData: {\n                        comment,\n                        resourceId: node.fileid,\n                        reloadCallback: reload,\n                    },\n                });\n            },\n            unmount() {\n                this._CommentsViewInstance?.$destroy();\n            },\n        }));\n    });\n    window.OCA.Activity.registerSidebarFilter((activity) => activity.type !== 'comments');\n    logger.info('Comments plugin registered for Activity sidebar action');\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport MessageReplyText from '@mdi/svg/svg/message-reply-text.svg?raw';\nimport { getCSPNonce } from '@nextcloud/auth';\nimport { registerSidebarTab } from '@nextcloud/files';\nimport { loadState } from '@nextcloud/initial-state';\nimport { t } from '@nextcloud/l10n';\nimport wrap from '@vue/web-component-wrapper';\nimport { createPinia, PiniaVuePlugin } from 'pinia';\nimport Vue from 'vue';\nimport { registerCommentsPlugins } from './comments-activity-tab.ts';\n__webpack_nonce__ = getCSPNonce();\nconst tagName = 'comments_files-sidebar-tab';\nif (loadState('comments', 'activityEnabled', false) && OCA?.Activity?.registerSidebarAction !== undefined) {\n    // Do not mount own tab but mount into activity\n    window.addEventListener('DOMContentLoaded', function () {\n        registerCommentsPlugins();\n    });\n}\nelse {\n    registerSidebarTab({\n        id: 'comments',\n        displayName: t('comments', 'Comments'),\n        iconSvgInline: MessageReplyText,\n        order: 50,\n        tagName,\n        async onInit() {\n            const { default: FilesSidebarTab } = await import('./views/FilesSidebarTab.vue');\n            Vue.use(PiniaVuePlugin);\n            Vue.mixin({ pinia: createPinia() });\n            const webComponent = wrap(Vue, FilesSidebarTab);\n            // In Vue 2, wrap doesn't support disabling shadow. Disable with a hack\n            Object.defineProperty(webComponent.prototype, 'attachShadow', {\n                value() { return this; },\n            });\n            Object.defineProperty(webComponent.prototype, 'shadowRoot', {\n                get() { return this; },\n            });\n            window.customElements.define(tagName, webComponent);\n        },\n    });\n}\n","import { translateDiskSpace } from \"./dav.js\";\nexport function parseQuota(result) {\n    try {\n        const [responseItem] = result.multistatus.response;\n        const { propstat: { prop: { \"quota-used-bytes\": quotaUsed, \"quota-available-bytes\": quotaAvail } } } = responseItem;\n        return typeof quotaUsed !== \"undefined\" && typeof quotaAvail !== \"undefined\"\n            ? {\n                // As it could be both a string or a number ensure we are working with a number\n                used: parseInt(String(quotaUsed), 10),\n                available: translateDiskSpace(quotaAvail)\n            }\n            : null;\n    }\n    catch (err) {\n        /* ignore */\n    }\n    return null;\n}\n","import { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nexport async function getDAVCompliance(context, filePath, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"OPTIONS\"\n    }, context, options);\n    const response = await request(requestOptions, context);\n    try {\n        handleResponseCode(context, response);\n    }\n    catch (err) {\n        const error = err;\n        throw error;\n    }\n    const davHeader = response.headers.get(\"DAV\") ?? \"\";\n    const compliance = davHeader.split(\",\").map(item => item.trim());\n    const server = response.headers.get(\"Server\") ?? \"\";\n    return {\n        compliance,\n        server\n    };\n}\n","var http = require('http')\nvar url = require('url')\n\nvar https = module.exports\n\nfor (var key in http) {\n  if (http.hasOwnProperty(key)) https[key] = http[key]\n}\n\nhttps.request = function (params, cb) {\n  params = validateParams(params)\n  return http.request.call(this, params, cb)\n}\n\nhttps.get = function (params, cb) {\n  params = validateParams(params)\n  return http.get.call(this, params, cb)\n}\n\nfunction validateParams (params) {\n  if (typeof params === 'string') {\n    params = url.parse(params)\n  }\n  if (!params.protocol) {\n    params.protocol = 'https:'\n  }\n  if (params.protocol !== 'https:') {\n    throw new Error('Protocol \"' + params.protocol + '\" not supported. Expected \"https:\"')\n  }\n  return params\n}\n","var ClientRequest = require('./lib/request')\nvar response = require('./lib/response')\nvar extend = require('xtend')\nvar statusCodes = require('builtin-status-codes')\nvar url = require('url')\n\nvar http = exports\n\nhttp.request = function (opts, cb) {\n\tif (typeof opts === 'string')\n\t\topts = url.parse(opts)\n\telse\n\t\topts = extend(opts)\n\n\t// Normally, the page is loaded from http or https, so not specifying a protocol\n\t// will result in a (valid) protocol-relative url. However, this won't work if\n\t// the protocol is something else, like 'file:'\n\tvar defaultProtocol = global.location.protocol.search(/^https?:$/) === -1 ? 'http:' : ''\n\n\tvar protocol = opts.protocol || defaultProtocol\n\tvar host = opts.hostname || opts.host\n\tvar port = opts.port\n\tvar path = opts.path || '/'\n\n\t// Necessary for IPv6 addresses\n\tif (host && host.indexOf(':') !== -1)\n\t\thost = '[' + host + ']'\n\n\t// This may be a relative url. The browser should always be able to interpret it correctly.\n\topts.url = (host ? (protocol + '//' + host) : '') + (port ? ':' + port : '') + path\n\topts.method = (opts.method || 'GET').toUpperCase()\n\topts.headers = opts.headers || {}\n\n\t// Also valid opts.auth, opts.mode\n\n\tvar req = new ClientRequest(opts)\n\tif (cb)\n\t\treq.on('response', cb)\n\treturn req\n}\n\nhttp.get = function get (opts, cb) {\n\tvar req = http.request(opts, cb)\n\treq.end()\n\treturn req\n}\n\nhttp.ClientRequest = ClientRequest\nhttp.IncomingMessage = response.IncomingMessage\n\nhttp.Agent = function () {}\nhttp.Agent.defaultMaxSockets = 4\n\nhttp.globalAgent = new http.Agent()\n\nhttp.STATUS_CODES = statusCodes\n\nhttp.METHODS = [\n\t'CHECKOUT',\n\t'CONNECT',\n\t'COPY',\n\t'DELETE',\n\t'GET',\n\t'HEAD',\n\t'LOCK',\n\t'M-SEARCH',\n\t'MERGE',\n\t'MKACTIVITY',\n\t'MKCOL',\n\t'MOVE',\n\t'NOTIFY',\n\t'OPTIONS',\n\t'PATCH',\n\t'POST',\n\t'PROPFIND',\n\t'PROPPATCH',\n\t'PURGE',\n\t'PUT',\n\t'REPORT',\n\t'SEARCH',\n\t'SUBSCRIBE',\n\t'TRACE',\n\t'UNLOCK',\n\t'UNSUBSCRIBE'\n]","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { generateRemoteUrl } from '@nextcloud/router'\n\n/**\n *\n */\nfunction getRootPath() {\n\treturn generateRemoteUrl('dav/comments')\n}\n\nexport { getRootPath }\n","import { assertError, isError } from \"./error.js\";\nimport { getGlobalName } from \"./global.js\";\nimport { parseArguments } from \"./tools.js\";\nexport class Layerr extends Error {\n    constructor(errorOptionsOrMessage, messageText) {\n        const args = [...arguments];\n        const { options, shortMessage } = parseArguments(args);\n        let message = shortMessage;\n        if (options.cause) {\n            message = `${message}: ${options.cause.message}`;\n        }\n        super(message);\n        this.message = message;\n        if (options.name && typeof options.name === \"string\") {\n            this.name = options.name;\n        }\n        else {\n            this.name = getGlobalName();\n        }\n        if (options.cause) {\n            Object.defineProperty(this, \"_cause\", { value: options.cause });\n        }\n        Object.defineProperty(this, \"_info\", { value: {} });\n        if (options.info && typeof options.info === \"object\") {\n            Object.assign(this._info, options.info);\n        }\n        if (Error.captureStackTrace) {\n            const ctor = options.constructorOpt || this.constructor;\n            Error.captureStackTrace(this, ctor);\n        }\n    }\n    static cause(err) {\n        assertError(err);\n        if (!err._cause)\n            return null;\n        return isError(err._cause)\n            ? err._cause\n            : null;\n    }\n    static fullStack(err) {\n        assertError(err);\n        const cause = Layerr.cause(err);\n        if (cause) {\n            return `${err.stack}\\ncaused by: ${Layerr.fullStack(cause)}`;\n        }\n        return err.stack ?? \"\";\n    }\n    static info(err) {\n        assertError(err);\n        const output = {};\n        const cause = Layerr.cause(err);\n        if (cause) {\n            Object.assign(output, Layerr.info(cause));\n        }\n        if (err._info) {\n            Object.assign(output, err._info);\n        }\n        return output;\n    }\n    toString() {\n        let output = this.name ||\n            this.constructor.name ||\n            this.constructor.prototype.name;\n        if (this.message) {\n            output = `${output}: ${this.message}`;\n        }\n        return output;\n    }\n}\n","import { Layerr } from \"layerr\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { fromBase64 } from \"../tools/encode.js\";\nimport { isReactNative, isWeb } from \"../compat/env.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode, processResponsePayload } from \"../response.js\";\nimport { AuthType, ErrorCode } from \"../types.js\";\nconst TRANSFORM_RETAIN_FORMAT = (v) => v;\nexport async function getFileContents(context, filePath, options = {}) {\n    const { format = \"binary\" } = options;\n    if (format !== \"binary\" && format !== \"text\") {\n        throw new Layerr({\n            info: {\n                code: ErrorCode.InvalidOutputFormat\n            }\n        }, `Invalid output format: ${format}`);\n    }\n    return format === \"text\"\n        ? getFileContentsString(context, filePath, options)\n        : getFileContentsBuffer(context, filePath, options);\n}\nasync function getFileContentsBuffer(context, filePath, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"GET\"\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    let body;\n    if (isWeb() || isReactNative()) {\n        body = await response.arrayBuffer();\n    }\n    else {\n        body = Buffer.from(await response.arrayBuffer());\n    }\n    return processResponsePayload(response, body, options.details);\n}\nasync function getFileContentsString(context, filePath, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"GET\",\n        headers: {\n            Accept: \"text/plain\"\n        },\n        transformResponse: [TRANSFORM_RETAIN_FORMAT]\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    const body = await response.text();\n    return processResponsePayload(response, body, options.details);\n}\nexport function getFileDownloadLink(context, filePath) {\n    let url = joinURL(context.remoteURL, encodePath(filePath));\n    const protocol = /^https:/i.test(url) ? \"https\" : \"http\";\n    switch (context.authType) {\n        case AuthType.None:\n            // Do nothing\n            break;\n        case AuthType.Password: {\n            const authPart = context.headers.Authorization.replace(/^Basic /i, \"\").trim();\n            const authContents = fromBase64(authPart);\n            url = url.replace(/^https?:\\/\\//, `${protocol}://${authContents}@`);\n            break;\n        }\n        default:\n            throw new Layerr({\n                info: {\n                    code: ErrorCode.LinkUnsupportedAuthType\n                }\n            }, `Unsupported auth type for file link: ${context.authType}`);\n    }\n    return url;\n}\n","import { toBase64 } from \"../tools/encode.js\";\nexport function generateBasicAuthHeader(username, password) {\n    const encoded = toBase64(`${username}:${password}`);\n    return `Basic ${encoded}`;\n}\n","import { XMLParser, XMLBuilder } from \"fast-xml-parser\";\nexport function generateLockXML(ownerHREF) {\n    return getBuilder().build(namespace({\n        lockinfo: {\n            \"@_xmlns:d\": \"DAV:\",\n            lockscope: {\n                exclusive: {}\n            },\n            locktype: {\n                write: {}\n            },\n            owner: {\n                href: ownerHREF\n            }\n        }\n    }, \"d\"));\n}\nfunction getBuilder() {\n    return new XMLBuilder({\n        attributeNamePrefix: \"@_\",\n        format: true,\n        ignoreAttributes: false,\n        suppressEmptyNode: true\n    });\n}\nfunction getParser() {\n    return new XMLParser({\n        removeNSPrefix: true,\n        parseAttributeValue: true,\n        parseTagValue: true\n    });\n}\nfunction namespace(obj, ns) {\n    const copy = { ...obj };\n    for (const key in copy) {\n        if (!copy.hasOwnProperty(key)) {\n            continue;\n        }\n        if (copy[key] && typeof copy[key] === \"object\" && key.indexOf(\":\") === -1) {\n            copy[`${ns}:${key}`] = namespace(copy[key], ns);\n            delete copy[key];\n        }\n        else if (/^@_/.test(key) === false) {\n            copy[`${ns}:${key}`] = copy[key];\n            delete copy[key];\n        }\n    }\n    return copy;\n}\nexport function parseGenericResponse(xml) {\n    return getParser().parse(xml);\n}\n","import { joinURL } from \"../tools/url.js\";\nimport { encodePath, getAllDirectories, normalisePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nimport { getStat } from \"./stat.js\";\nexport async function createDirectory(context, dirPath, options = {}) {\n    if (options.recursive === true)\n        return createDirectoryRecursively(context, dirPath, options);\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, ensureCollectionPath(encodePath(dirPath))),\n        method: \"MKCOL\"\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n}\n/**\n * Ensure the path is a proper \"collection\" path by ensuring it has a trailing \"/\".\n * The proper format of collection according to the specification does contain the trailing slash.\n * http://www.webdav.org/specs/rfc4918.html#rfc.section.5.2\n * @param path Path of the collection\n * @return string Path of the collection with appended trailing \"/\" in case the `path` does not have it.\n */\nfunction ensureCollectionPath(path) {\n    if (!path.endsWith(\"/\")) {\n        return path + \"/\";\n    }\n    return path;\n}\nasync function createDirectoryRecursively(context, dirPath, options = {}) {\n    const paths = getAllDirectories(normalisePath(dirPath));\n    paths.sort((a, b) => {\n        if (a.length > b.length) {\n            return 1;\n        }\n        else if (b.length > a.length) {\n            return -1;\n        }\n        return 0;\n    });\n    let creating = false;\n    for (const testPath of paths) {\n        if (creating) {\n            await createDirectory(context, testPath, {\n                ...options,\n                recursive: false\n            });\n            continue;\n        }\n        try {\n            const testStat = (await getStat(context, testPath));\n            if (testStat.type !== \"directory\") {\n                throw new Error(`Path includes a file: ${dirPath}`);\n            }\n        }\n        catch (err) {\n            const error = err;\n            if (error.status === 404) {\n                creating = true;\n                await createDirectory(context, testPath, {\n                    ...options,\n                    recursive: false\n                });\n            }\n            else {\n                throw err;\n            }\n        }\n    }\n}\n","import { Layerr } from \"layerr\";\nimport Stream from \"stream\";\nimport { fromBase64 } from \"../tools/encode.js\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { calculateDataLength } from \"../tools/size.js\";\nimport { isReactNative, isWeb } from \"../compat/env.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nimport { AuthType, ErrorCode } from \"../types.js\";\nexport async function putFileContents(context, filePath, data, options = {}) {\n    const { contentLength = true, overwrite = true } = options;\n    const headers = {\n        \"Content-Type\": \"application/octet-stream\"\n    };\n    if (!isWeb() &&\n        !isReactNative() &&\n        typeof Stream !== \"undefined\" &&\n        typeof Stream?.Readable !== \"undefined\" &&\n        data instanceof Stream.Readable) {\n        // Skip, no content-length\n    }\n    else if (contentLength === false) {\n        // Skip, disabled\n    }\n    else if (typeof contentLength === \"number\") {\n        headers[\"Content-Length\"] = `${contentLength}`;\n    }\n    else {\n        headers[\"Content-Length\"] = `${calculateDataLength(data)}`;\n    }\n    if (!overwrite) {\n        headers[\"If-None-Match\"] = \"*\";\n    }\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"PUT\",\n        headers,\n        data\n    }, context, options);\n    const response = await request(requestOptions, context);\n    try {\n        handleResponseCode(context, response);\n    }\n    catch (err) {\n        const error = err;\n        if (error.status === 412 && !overwrite) {\n            return false;\n        }\n        else {\n            throw error;\n        }\n    }\n    return true;\n}\nexport function getFileUploadLink(context, filePath) {\n    let url = `${joinURL(context.remoteURL, encodePath(filePath))}?Content-Type=application/octet-stream`;\n    const protocol = /^https:/i.test(url) ? \"https\" : \"http\";\n    switch (context.authType) {\n        case AuthType.None:\n            // Do nothing\n            break;\n        case AuthType.Password: {\n            const authPart = context.headers.Authorization.replace(/^Basic /i, \"\").trim();\n            const authContents = fromBase64(authPart);\n            url = url.replace(/^https?:\\/\\//, `${protocol}://${authContents}@`);\n            break;\n        }\n        default:\n            throw new Layerr({\n                info: {\n                    code: ErrorCode.LinkUnsupportedAuthType\n                }\n            }, `Unsupported auth type for file link: ${context.authType}`);\n    }\n    return url;\n}\n","/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { getRequestToken, onRequestTokenUpdate } from '@nextcloud/auth'\nimport { createClient } from 'webdav'\nimport { getRootPath } from '../utils/davUtils.js'\n\n// init webdav client\nconst client = createClient(getRootPath())\n\n// set CSRF token header\n/**\n * @param token\n */\nfunction setHeaders(token) {\n\tclient.setHeaders({\n\t\t// Add this so the server knows it is an request from the browser\n\t\t'X-Requested-With': 'XMLHttpRequest',\n\t\t// Inject user auth\n\t\trequesttoken: token ?? '',\n\t})\n}\n\n// refresh headers when request token changes\nonRequestTokenUpdate(setHeaders)\nsetHeaders(getRequestToken())\n\nexport default client\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { parseXML } from 'webdav';\nimport { processResponsePayload } from 'webdav/dist/node/response.js';\nimport { prepareFileFromProps } from 'webdav/dist/node/tools/dav.js';\nimport client from './DavClient.js';\nexport const DEFAULT_LIMIT = 20;\n/**\n * Retrieve the comments list\n *\n * @param data destructuring object\n * @param data.resourceType the resource type\n * @param data.resourceId the resource ID\n * @param [options] optional options for axios\n * @param [options.offset] the pagination offset\n * @param [options.limit] the pagination limit, defaults to 20\n * @param [options.datetime] optional date to query\n * @return the comments list\n */\nexport async function getComments({ resourceType, resourceId }, options) {\n    const resourcePath = ['', resourceType, resourceId].join('/');\n    const datetime = options.datetime ? `<oc:datetime>${options.datetime.toISOString()}</oc:datetime>` : '';\n    const response = await client.customRequest(resourcePath, {\n        method: 'REPORT',\n        data: `<?xml version=\"1.0\"?>\n\t\t\t<oc:filter-comments\n\t\t\t\txmlns:d=\"DAV:\"\n\t\t\t\txmlns:oc=\"http://owncloud.org/ns\"\n\t\t\t\txmlns:nc=\"http://nextcloud.org/ns\"\n\t\t\t\txmlns:ocs=\"http://open-collaboration-services.org/ns\">\n\t\t\t\t<oc:limit>${options.limit ?? DEFAULT_LIMIT}</oc:limit>\n\t\t\t\t<oc:offset>${options.offset || 0}</oc:offset>\n\t\t\t\t${datetime}\n\t\t\t</oc:filter-comments>`,\n        ...options,\n    });\n    const responseData = await response.text();\n    const result = await parseXML(responseData);\n    const stat = getDirectoryFiles(result, true);\n    // https://github.com/perry-mitchell/webdav-client/issues/339\n    return processResponsePayload(response, stat, true);\n}\n/**\n * https://github.com/perry-mitchell/webdav-client/blob/8d9694613c978ce7404e26a401c39a41f125f87f/source/operations/directoryContents.ts\n *\n * @param result\n * @param isDetailed\n */\nfunction getDirectoryFiles(result, isDetailed = false) {\n    // Extract the response items (directory contents)\n    const { multistatus: { response: responseItems }, } = result;\n    // Map all items to a consistent output structure (results)\n    return responseItems.map((item) => {\n        // Each item should contain a stat object\n        const props = item.propstat.prop;\n        return prepareFileFromProps(props, props.id.toString(), isDetailed);\n    });\n}\n","import { Layerr } from \"layerr\";\nimport { createDigestContext } from \"./digest.js\";\nimport { generateBasicAuthHeader } from \"./basic.js\";\nimport { generateTokenAuthHeader } from \"./oauth.js\";\nimport { AuthType, ErrorCode } from \"../types.js\";\nexport function setupAuth(context, username, password, oauthToken, ha1) {\n    switch (context.authType) {\n        case AuthType.Auto:\n            if (username && password) {\n                context.headers.Authorization = generateBasicAuthHeader(username, password);\n            }\n            break;\n        case AuthType.Digest:\n            context.digest = createDigestContext(username, password, ha1);\n            break;\n        case AuthType.None:\n            // Do nothing\n            break;\n        case AuthType.Password:\n            context.headers.Authorization = generateBasicAuthHeader(username, password);\n            break;\n        case AuthType.Token:\n            context.headers.Authorization = generateTokenAuthHeader(oauthToken);\n            break;\n        default:\n            throw new Layerr({\n                info: {\n                    code: ErrorCode.InvalidAuthType\n                }\n            }, `Invalid auth type: ${context.authType}`);\n    }\n}\n","import Stream from \"stream\";\nimport { isArrayBuffer } from \"../compat/arrayBuffer.js\";\nimport { isBuffer } from \"../compat/buffer.js\";\nimport { isReactNative, isWeb } from \"../compat/env.js\";\nexport function requestDataToFetchBody(data) {\n    if (!isWeb() && !isReactNative() && data instanceof Stream.Readable) {\n        // @ts-ignore\n        return [data, {}];\n    }\n    if (typeof data === \"string\") {\n        return [data, {}];\n    }\n    else if (isBuffer(data)) {\n        return [data, {}];\n    }\n    else if (isArrayBuffer(data)) {\n        return [data, {}];\n    }\n    else if (data && typeof data === \"object\") {\n        return [\n            JSON.stringify(data),\n            {\n                \"content-type\": \"application/json\"\n            }\n        ];\n    }\n    throw new Error(`Unable to convert request body: Unexpected body type: ${typeof data}`);\n}\n","import nestedProp from \"nested-property\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { generateLockXML, parseGenericResponse } from \"../tools/xml.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { createErrorFromResponse, handleResponseCode } from \"../response.js\";\nconst DEFAULT_TIMEOUT = \"Infinite, Second-4100000000\";\nexport async function lock(context, path, options = {}) {\n    const { refreshToken, timeout = DEFAULT_TIMEOUT } = options;\n    const headers = {\n        Accept: \"text/plain,application/xml\",\n        Timeout: timeout\n    };\n    if (refreshToken) {\n        headers.If = refreshToken;\n    }\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(path)),\n        method: \"LOCK\",\n        headers,\n        data: generateLockXML(context.contactHref)\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    const responseData = await response.text();\n    const lockPayload = parseGenericResponse(responseData);\n    const token = nestedProp.get(lockPayload, \"prop.lockdiscovery.activelock.locktoken.href\");\n    const serverTimeout = nestedProp.get(lockPayload, \"prop.lockdiscovery.activelock.timeout\");\n    if (!token) {\n        const err = createErrorFromResponse(response, \"No lock token received: \");\n        throw err;\n    }\n    return {\n        token,\n        serverTimeout\n    };\n}\nexport async function unlock(context, path, token, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(path)),\n        method: \"UNLOCK\",\n        headers: {\n            \"Lock-Token\": token\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    if (response.status !== 204 && response.status !== 200) {\n        const err = createErrorFromResponse(response);\n        throw err;\n    }\n}\n","const hasArrayBuffer = typeof ArrayBuffer === \"function\";\nconst { toString: objToString } = Object.prototype;\n// Taken from: https://github.com/fengyuanchen/is-array-buffer/blob/master/src/index.js\nexport function isArrayBuffer(value) {\n    return (hasArrayBuffer &&\n        (value instanceof ArrayBuffer || objToString.call(value) === \"[object ArrayBuffer]\"));\n}\n","import { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nexport async function copyFile(context, filename, destination, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filename)),\n        method: \"COPY\",\n        headers: {\n            Destination: joinURL(context.remoteURL, encodePath(destination)),\n            /**\n             * From RFC4918 section 10.6: If the overwrite header is not included in a COPY or MOVE request,\n             * then the resource MUST treat the request as if it has an overwrite header of value \"T\".\n             *\n             * Meaning the overwrite header is always set to \"T\" EXCEPT the option is explicitly set to false.\n             */\n            Overwrite: options.overwrite === false ? \"F\" : \"T\",\n            /**\n             * From RFC4918 section 9.8.3: A client may submit a Depth header on a COPY on a collection with a value of \"0\"\n             * or \"infinity\". The COPY method on a collection without a Depth header MUST act as if\n             * a Depth header with value \"infinity\" was included.\n             */\n            Depth: options.shallow ? \"0\" : \"infinity\"\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n}\n","import base64 from \"base-64\";\nimport { decodeHTML } from \"entities\";\nimport { isWeb } from \"../compat/env.js\";\nexport function decodeHTMLEntities(text) {\n    if (isWeb()) {\n        const txt = document.createElement(\"textarea\");\n        txt.innerHTML = text;\n        return txt.value;\n    }\n    return decodeHTML(text);\n}\nexport function fromBase64(text) {\n    return base64.decode(text);\n}\nexport function toBase64(text) {\n    return base64.encode(text);\n}\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , controlOrWhitespace = /^[\\x00-\\x20\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/\n  , CRHTLF = /[\\n\\r\\t]/g\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , port = /:\\d+$/\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/;\n\n/**\n * Remove control characters and whitespace from the beginning of a string.\n *\n * @param {Object|String} str String to trim.\n * @returns {String} A new string representing `str` stripped of control\n *     characters and whitespace from its beginning.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(controlOrWhitespace, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d*)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      index = parse === '@'\n        ? address.lastIndexOf(parse)\n        : address.indexOf(parse);\n\n      if (~index) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n\n  if (url.auth) {\n    index = url.auth.indexOf(':');\n\n    if (~index) {\n      url.username = url.auth.slice(0, index);\n      url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n      url.password = url.auth.slice(index + 1);\n      url.password = encodeURIComponent(decodeURIComponent(url.password))\n    } else {\n      url.username = encodeURIComponent(decodeURIComponent(url.auth));\n    }\n\n    url.auth = url.password ? url.username +':'+ url.password : url.username;\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (port.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var index = value.indexOf(':');\n\n      if (~index) {\n        url.username = value.slice(0, index);\n        url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n        url.password = value.slice(index + 1);\n        url.password = encodeURIComponent(decodeURIComponent(url.password));\n      } else {\n        url.username = encodeURIComponent(decodeURIComponent(value));\n      }\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , host = url.host\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  } else if (\n    url.protocol !== 'file:' &&\n    isSpecial(url.protocol) &&\n    !host &&\n    url.pathname !== '/'\n  ) {\n    //\n    // Add back the empty userinfo, otherwise the original invalid URL\n    // might be transformed into a valid one with `url.pathname` as host.\n    //\n    result += '@';\n  }\n\n  //\n  // Trailing colon is removed from `url.host` when it is parsed. If it still\n  // ends with a colon, then add back the trailing colon that was removed. This\n  // prevents an invalid URL from being transformed into a valid one.\n  //\n  if (host[host.length - 1] === ':' || (port.test(url.hostname) && !url.port)) {\n    host += ':';\n  }\n\n  result += host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Calculate the byte lengths for utf8 encoded strings.\n */\nfunction byteLength(str) {\n    if (!str) {\n        return 0;\n    }\n    str = str.toString();\n    var len = str.length;\n    for (var i = str.length; i--;) {\n        var code = str.charCodeAt(i);\n        if (0xdc00 <= code && code <= 0xdfff) {\n            i--;\n        }\n        if (0x7f < code && code <= 0x7ff) {\n            len++;\n        }\n        else if (0x7ff < code && code <= 0xffff) {\n            len += 2;\n        }\n    }\n    return len;\n}\nexports.byteLength = byteLength;\n//# sourceMappingURL=index.js.map","import Stream from \"stream\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nconst NOOP = () => { };\nexport function createReadStream(context, filePath, options = {}) {\n    const PassThroughStream = Stream.PassThrough;\n    const outStream = new PassThroughStream();\n    getFileStream(context, filePath, options)\n        .then(stream => {\n        stream.pipe(outStream);\n    })\n        .catch(err => {\n        outStream.emit(\"error\", err);\n    });\n    return outStream;\n}\nexport function createWriteStream(context, filePath, options = {}, callback = NOOP) {\n    const PassThroughStream = Stream.PassThrough;\n    const writeStream = new PassThroughStream();\n    const headers = {};\n    if (options.overwrite === false) {\n        headers[\"If-None-Match\"] = \"*\";\n    }\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"PUT\",\n        headers,\n        data: writeStream,\n        maxRedirects: 0\n    }, context, options);\n    request(requestOptions, context)\n        .then(response => handleResponseCode(context, response))\n        .then(response => {\n        // Fire callback asynchronously to avoid errors\n        setTimeout(() => {\n            callback(response);\n        }, 0);\n    })\n        .catch(err => {\n        writeStream.emit(\"error\", err);\n    });\n    return writeStream;\n}\nasync function getFileStream(context, filePath, options = {}) {\n    const headers = {};\n    if (typeof options.range === \"object\" && typeof options.range.start === \"number\") {\n        let rangeHeader = `bytes=${options.range.start}-`;\n        if (typeof options.range.end === \"number\") {\n            rangeHeader = `${rangeHeader}${options.range.end}`;\n        }\n        headers.Range = rangeHeader;\n    }\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"GET\",\n        headers\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    if (headers.Range && response.status !== 206) {\n        const responseError = new Error(`Invalid response code for partial request: ${response.status}`);\n        responseError.status = response.status;\n        throw responseError;\n    }\n    if (options.callback) {\n        setTimeout(() => {\n            options.callback(response);\n        }, 0);\n    }\n    // @ts-ignore\n    return response.body;\n}\n","import { Layerr } from \"layerr\";\nimport { byteLength } from \"byte-length\";\nimport { isArrayBuffer } from \"../compat/arrayBuffer.js\";\nimport { isBuffer } from \"../compat/buffer.js\";\nimport { ErrorCode } from \"../types.js\";\nexport function calculateDataLength(data) {\n    if (isArrayBuffer(data)) {\n        return data.byteLength;\n    }\n    else if (isBuffer(data)) {\n        return data.length;\n    }\n    else if (typeof data === \"string\") {\n        return byteLength(data);\n    }\n    throw new Layerr({\n        info: {\n            code: ErrorCode.DataTypeNoLength\n        }\n    }, \"Cannot calculate data length: Invalid type\");\n}\n","import pathPosix from \"path-posix\";\nimport { joinURL, normaliseHREF } from \"../tools/url.js\";\nimport { encodePath, makePathAbsolute, normalisePath } from \"../tools/path.js\";\nimport { parseXML, prepareFileFromProps } from \"../tools/dav.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode, processGlobFilter, processResponsePayload } from \"../response.js\";\nexport async function getDirectoryContents(context, remotePath, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(remotePath), \"/\"),\n        method: \"PROPFIND\",\n        headers: {\n            Accept: \"text/plain,application/xml\",\n            Depth: options.deep ? \"infinity\" : \"1\"\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    const responseData = await response.text();\n    if (!responseData) {\n        throw new Error(\"Failed parsing directory contents: Empty response\");\n    }\n    const davResp = await parseXML(responseData);\n    const _remotePath = makePathAbsolute(remotePath);\n    const remoteBasePath = makePathAbsolute(context.remoteBasePath || context.remotePath);\n    let files = getDirectoryFiles(davResp, remoteBasePath, _remotePath, options.details, options.includeSelf);\n    if (options.glob) {\n        files = processGlobFilter(files, options.glob);\n    }\n    return processResponsePayload(response, files, options.details);\n}\nfunction getDirectoryFiles(result, serverremoteBasePath, requestPath, isDetailed = false, includeSelf = false) {\n    const serverBase = pathPosix.join(serverremoteBasePath, \"/\");\n    // Extract the response items (directory contents)\n    const { multistatus: { response: responseItems } } = result;\n    // Map all items to a consistent output structure (results)\n    const nodes = responseItems.map(item => {\n        // HREF is the file path (in full) - The href is already XML entities decoded (e.g. foo&amp;bar is reverted to foo&bar)\n        const href = normaliseHREF(item.href);\n        // Each item should contain a stat object\n        const { propstat: { prop: props } } = item;\n        // Process the true full filename (minus the base server path)\n        const filename = serverBase === \"/\"\n            ? decodeURIComponent(normalisePath(href))\n            : normalisePath(pathPosix.relative(decodeURIComponent(serverBase), decodeURIComponent(href)));\n        return prepareFileFromProps(props, filename, isDetailed);\n    });\n    // If specified, also return the current directory\n    if (includeSelf) {\n        return nodes;\n    }\n    // Else, filter out the item pointing to the current directory (not needed)\n    return nodes.filter(item => item.basename &&\n        (item.type === \"file\" || item.filename !== requestPath.replace(/\\/$/, \"\")));\n}\n","import { getStat } from \"./stat.js\";\nexport async function exists(context, remotePath, options = {}) {\n    try {\n        await getStat(context, remotePath, options);\n        return true;\n    }\n    catch (err) {\n        if (err.status === 404) {\n            return false;\n        }\n        throw err;\n    }\n}\n","import { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nexport async function customRequest(context, remotePath, requestOptions) {\n    if (!requestOptions.url) {\n        requestOptions.url = joinURL(context.remoteURL, encodePath(remotePath));\n    }\n    const finalOptions = prepareRequestOptions(requestOptions, context, {});\n    const response = await request(finalOptions, context);\n    handleResponseCode(context, response);\n    return response;\n}\n","import { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nexport async function moveFile(context, filename, destination, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filename)),\n        method: \"MOVE\",\n        headers: {\n            Destination: joinURL(context.remoteURL, encodePath(destination)),\n            /**\n             * From RFC4918 section 10.6: If the overwrite header is not included in a COPY or MOVE request,\n             * then the resource MUST treat the request as if it has an overwrite header of value \"T\".\n             *\n             * Meaning the overwrite header is always set to \"T\" EXCEPT the option is explicitly set to false.\n             */\n            Overwrite: options.overwrite === false ? \"F\" : \"T\"\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n}\n","import { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nexport async function deleteFile(context, filename, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filename)),\n        method: \"DELETE\"\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n}\n","import { parseSearch, parseXML } from \"../tools/dav.js\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode, processResponsePayload } from \"../response.js\";\nexport async function getSearch(context, searchArbiter, options = {}) {\n    const { details: isDetailed = false } = options;\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(searchArbiter)),\n        method: \"SEARCH\",\n        headers: {\n            Accept: \"text/plain,application/xml\",\n            // Ensure a Content-Type header is set was this is required by e.g. sabre/dav\n            \"Content-Type\": context.headers[\"Content-Type\"] || \"application/xml; charset=utf-8\"\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    const responseText = await response.text();\n    const responseData = await parseXML(responseText);\n    const results = parseSearch(responseData, searchArbiter, isDetailed);\n    return processResponsePayload(response, results, isDetailed);\n}\n","import { Layerr } from \"layerr\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nimport { getDAVCompliance } from \"./getDAVCompliance.js\";\nimport { ErrorCode } from \"../types.js\";\nexport async function partialUpdateFileContents(context, filePath, start, end, data, options = {}) {\n    const compliance = await getDAVCompliance(context, filePath, options);\n    if (compliance.compliance.includes(\"sabredav-partialupdate\")) {\n        return await partialUpdateFileContentsSabredav(context, filePath, start, end, data, options);\n    }\n    if (compliance.server.includes(\"Apache\") &&\n        compliance.compliance.includes(\"<http://apache.org/dav/propset/fs/1>\")) {\n        return await partialUpdateFileContentsApache(context, filePath, start, end, data, options);\n    }\n    throw new Layerr({\n        info: {\n            code: ErrorCode.NotSupported\n        }\n    }, \"Not supported\");\n}\nasync function partialUpdateFileContentsSabredav(context, filePath, start, end, data, options = {}) {\n    if (start > end || start < 0) {\n        // Actually, SabreDAV support negative start value,\n        // Do not support here for compatibility with Apache-style way\n        throw new Layerr({\n            info: {\n                code: ErrorCode.InvalidUpdateRange\n            }\n        }, `Invalid update range ${start} for partial update`);\n    }\n    const headers = {\n        \"Content-Type\": \"application/x-sabredav-partialupdate\",\n        \"Content-Length\": `${end - start + 1}`,\n        \"X-Update-Range\": `bytes=${start}-${end}`\n    };\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"PATCH\",\n        headers,\n        data\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n}\nasync function partialUpdateFileContentsApache(context, filePath, start, end, data, options = {}) {\n    if (start > end || start < 0) {\n        throw new Layerr({\n            info: {\n                code: ErrorCode.InvalidUpdateRange\n            }\n        }, `Invalid update range ${start} for partial update`);\n    }\n    const headers = {\n        \"Content-Type\": \"application/octet-stream\",\n        \"Content-Length\": `${end - start + 1}`,\n        \"Content-Range\": `bytes ${start}-${end}/*`\n    };\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"PUT\",\n        headers,\n        data\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n}\n","import { parseStat, parseXML } from \"../tools/dav.js\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode, processResponsePayload } from \"../response.js\";\nexport async function getStat(context, filename, options = {}) {\n    const { details: isDetailed = false } = options;\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filename)),\n        method: \"PROPFIND\",\n        headers: {\n            Accept: \"text/plain,application/xml\",\n            Depth: \"0\"\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    const responseData = await response.text();\n    const result = await parseXML(responseData);\n    const stat = parseStat(result, filename, isDetailed);\n    return processResponsePayload(response, stat, isDetailed);\n}\n","import { extractURLPath } from \"./tools/url.js\";\nimport { setupAuth } from \"./auth/index.js\";\nimport { copyFile } from \"./operations/copyFile.js\";\nimport { createDirectory } from \"./operations/createDirectory.js\";\nimport { createReadStream, createWriteStream } from \"./operations/createStream.js\";\nimport { customRequest } from \"./operations/customRequest.js\";\nimport { deleteFile } from \"./operations/deleteFile.js\";\nimport { exists } from \"./operations/exists.js\";\nimport { getDirectoryContents } from \"./operations/directoryContents.js\";\nimport { getFileContents, getFileDownloadLink } from \"./operations/getFileContents.js\";\nimport { lock, unlock } from \"./operations/lock.js\";\nimport { getQuota } from \"./operations/getQuota.js\";\nimport { getStat } from \"./operations/stat.js\";\nimport { getSearch } from \"./operations/search.js\";\nimport { moveFile } from \"./operations/moveFile.js\";\nimport { getFileUploadLink, putFileContents } from \"./operations/putFileContents.js\";\nimport { partialUpdateFileContents } from \"./operations/partialUpdateFileContents.js\";\nimport { getDAVCompliance } from \"./operations/getDAVCompliance.js\";\nimport { AuthType } from \"./types.js\";\nconst DEFAULT_CONTACT_HREF = \"https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md\";\nexport function createClient(remoteURL, options = {}) {\n    const { authType: authTypeRaw = null, remoteBasePath, contactHref = DEFAULT_CONTACT_HREF, ha1, headers = {}, httpAgent, httpsAgent, password, token, username, withCredentials } = options;\n    let authType = authTypeRaw;\n    if (!authType) {\n        authType = username || password ? AuthType.Password : AuthType.None;\n    }\n    const context = {\n        authType,\n        remoteBasePath,\n        contactHref,\n        ha1,\n        headers: Object.assign({}, headers),\n        httpAgent,\n        httpsAgent,\n        password,\n        remotePath: extractURLPath(remoteURL),\n        remoteURL,\n        token,\n        username,\n        withCredentials\n    };\n    setupAuth(context, username, password, token, ha1);\n    return {\n        copyFile: (filename, destination, options) => copyFile(context, filename, destination, options),\n        createDirectory: (path, options) => createDirectory(context, path, options),\n        createReadStream: (filename, options) => createReadStream(context, filename, options),\n        createWriteStream: (filename, options, callback) => createWriteStream(context, filename, options, callback),\n        customRequest: (path, requestOptions) => customRequest(context, path, requestOptions),\n        deleteFile: (filename, options) => deleteFile(context, filename, options),\n        exists: (path, options) => exists(context, path, options),\n        getDirectoryContents: (path, options) => getDirectoryContents(context, path, options),\n        getFileContents: (filename, options) => getFileContents(context, filename, options),\n        getFileDownloadLink: (filename) => getFileDownloadLink(context, filename),\n        getFileUploadLink: (filename) => getFileUploadLink(context, filename),\n        getHeaders: () => Object.assign({}, context.headers),\n        getQuota: (options) => getQuota(context, options),\n        lock: (path, options) => lock(context, path, options),\n        moveFile: (filename, destinationFilename, options) => moveFile(context, filename, destinationFilename, options),\n        putFileContents: (filename, data, options) => putFileContents(context, filename, data, options),\n        partialUpdateFileContents: (filePath, start, end, data, options) => partialUpdateFileContents(context, filePath, start, end, data, options),\n        getDAVCompliance: (path) => getDAVCompliance(context, path),\n        search: (path, options) => getSearch(context, path, options),\n        setHeaders: (headers) => {\n            context.headers = Object.assign({}, headers);\n        },\n        stat: (path, options) => getStat(context, path, options),\n        unlock: (path, token, options) => unlock(context, path, token, options)\n    };\n}\n","import URL from \"url-parse\";\nimport { Layerr } from \"layerr\";\nimport _joinURL from \"url-join\";\nimport { normalisePath } from \"./path.js\";\nexport function extractURLPath(fullURL) {\n    const url = new URL(fullURL);\n    let urlPath = url.pathname;\n    if (urlPath.length <= 0) {\n        urlPath = \"/\";\n    }\n    return normalisePath(urlPath);\n}\nexport function joinURL(...parts) {\n    return _joinURL(parts.reduce((output, nextPart, partIndex) => {\n        if (partIndex === 0 ||\n            nextPart !== \"/\" ||\n            (nextPart === \"/\" && output[output.length - 1] !== \"/\")) {\n            output.push(nextPart);\n        }\n        return output;\n    }, []));\n}\nexport function normaliseHREF(href) {\n    try {\n        const normalisedHref = href.replace(/^https?:\\/\\/[^\\/]+/, \"\");\n        return normalisedHref;\n    }\n    catch (err) {\n        throw new Layerr(err, \"Failed normalising HREF\");\n    }\n}\n","/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atks excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '1.0.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n","import { prepareRequestOptions, request } from \"../request.js\";\nimport { handleResponseCode, processResponsePayload } from \"../response.js\";\nimport { parseXML } from \"../tools/dav.js\";\nimport { joinURL } from \"../tools/url.js\";\nimport { parseQuota } from \"../tools/quota.js\";\nexport async function getQuota(context, options = {}) {\n    const path = options.path || \"/\";\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, path),\n        method: \"PROPFIND\",\n        headers: {\n            Accept: \"text/plain,application/xml\",\n            Depth: \"0\"\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    const responseData = await response.text();\n    const result = await parseXML(responseData);\n    const quota = parseQuota(result);\n    return processResponsePayload(response, quota, options.details);\n}\n","import { Agent as HTTPAgent } from \"http\";\nimport { Agent as HTTPSAgent } from \"https\";\nimport { fetch } from \"@buttercup/fetch\";\nimport { getPatcher } from \"./compat/patcher.js\";\nimport { isReactNative, isWeb } from \"./compat/env.js\";\nimport { generateDigestAuthHeader, parseDigestAuth, responseIndicatesDigestAuth } from \"./auth/digest.js\";\nimport { cloneShallow, merge } from \"./tools/merge.js\";\nimport { mergeHeaders } from \"./tools/headers.js\";\nimport { requestDataToFetchBody } from \"./tools/body.js\";\nimport { AuthType } from \"./types.js\";\nimport { setupAuth } from \"./auth/index.js\";\nfunction getFetchOptions(requestOptions) {\n    let headers = {};\n    // Handle standard options\n    const opts = {\n        method: requestOptions.method\n    };\n    if (requestOptions.headers) {\n        headers = mergeHeaders(headers, requestOptions.headers);\n    }\n    if (typeof requestOptions.data !== \"undefined\") {\n        const [body, newHeaders] = requestDataToFetchBody(requestOptions.data);\n        opts.body = body;\n        headers = mergeHeaders(headers, newHeaders);\n    }\n    if (requestOptions.signal) {\n        opts.signal = requestOptions.signal;\n    }\n    if (requestOptions.withCredentials) {\n        opts.credentials = \"include\";\n    }\n    // Check for node-specific options\n    if (!isWeb() && !isReactNative()) {\n        if (requestOptions.httpAgent || requestOptions.httpsAgent) {\n            opts.agent = (parsedURL) => {\n                if (parsedURL.protocol === \"http:\") {\n                    return requestOptions.httpAgent || new HTTPAgent();\n                }\n                return requestOptions.httpsAgent || new HTTPSAgent();\n            };\n        }\n    }\n    // Attach headers\n    opts.headers = headers;\n    return opts;\n}\nexport function prepareRequestOptions(requestOptions, context, userOptions) {\n    const finalOptions = cloneShallow(requestOptions);\n    finalOptions.headers = mergeHeaders(context.headers, finalOptions.headers || {}, userOptions.headers || {});\n    if (typeof userOptions.data !== \"undefined\") {\n        finalOptions.data = userOptions.data;\n    }\n    if (userOptions.signal) {\n        finalOptions.signal = userOptions.signal;\n    }\n    if (context.httpAgent) {\n        finalOptions.httpAgent = context.httpAgent;\n    }\n    if (context.httpsAgent) {\n        finalOptions.httpsAgent = context.httpsAgent;\n    }\n    if (context.digest) {\n        finalOptions._digest = context.digest;\n    }\n    if (typeof context.withCredentials === \"boolean\") {\n        finalOptions.withCredentials = context.withCredentials;\n    }\n    return finalOptions;\n}\nexport async function request(requestOptions, context) {\n    if (context.authType === AuthType.Auto) {\n        return requestAuto(requestOptions, context);\n    }\n    if (requestOptions._digest) {\n        return requestDigest(requestOptions);\n    }\n    return requestStandard(requestOptions);\n}\nasync function requestAuto(requestOptions, context) {\n    const response = await requestStandard(requestOptions);\n    if (response.ok) {\n        context.authType = AuthType.Password;\n        return response;\n    }\n    if (response.status == 401 && responseIndicatesDigestAuth(response)) {\n        context.authType = AuthType.Digest;\n        setupAuth(context, context.username, context.password, undefined, undefined);\n        requestOptions._digest = context.digest;\n        return requestDigest(requestOptions);\n    }\n    return response;\n}\nasync function requestDigest(requestOptions) {\n    // Remove client's digest authentication object from request options\n    const _digest = requestOptions._digest;\n    delete requestOptions._digest;\n    // If client is already using digest authentication, include the digest authorization header\n    if (_digest.hasDigestAuth) {\n        requestOptions = merge(requestOptions, {\n            headers: {\n                Authorization: generateDigestAuthHeader(requestOptions, _digest)\n            }\n        });\n    }\n    // Perform digest request + check\n    const response = await requestStandard(requestOptions);\n    if (response.status == 401) {\n        _digest.hasDigestAuth = parseDigestAuth(response, _digest);\n        if (_digest.hasDigestAuth) {\n            requestOptions = merge(requestOptions, {\n                headers: {\n                    Authorization: generateDigestAuthHeader(requestOptions, _digest)\n                }\n            });\n            const response2 = await requestStandard(requestOptions);\n            if (response2.status == 401) {\n                _digest.hasDigestAuth = false;\n            }\n            else {\n                _digest.nc++;\n            }\n            return response2;\n        }\n    }\n    else {\n        _digest.nc++;\n    }\n    return response;\n}\nfunction requestStandard(requestOptions) {\n    const patcher = getPatcher();\n    return patcher.patchInline(\"request\", (options) => patcher.patchInline(\"fetch\", fetch, options.url, getFetchOptions(options)), requestOptions);\n}\n","import md5 from \"md5\";\nimport { ha1Compute } from \"../tools/crypto.js\";\nconst NONCE_CHARS = \"abcdef0123456789\";\nconst NONCE_SIZE = 32;\nexport function createDigestContext(username, password, ha1) {\n    return { username, password, ha1, nc: 0, algorithm: \"md5\", hasDigestAuth: false };\n}\nexport function generateDigestAuthHeader(options, digest) {\n    const url = options.url.replace(\"//\", \"\");\n    const uri = url.indexOf(\"/\") == -1 ? \"/\" : url.slice(url.indexOf(\"/\"));\n    const method = options.method ? options.method.toUpperCase() : \"GET\";\n    const qop = /(^|,)\\s*auth\\s*($|,)/.test(digest.qop) ? \"auth\" : false;\n    const ncString = `00000000${digest.nc}`.slice(-8);\n    const ha1 = ha1Compute(digest.algorithm, digest.username, digest.realm, digest.password, digest.nonce, digest.cnonce, digest.ha1);\n    const ha2 = md5(`${method}:${uri}`);\n    const digestResponse = qop\n        ? md5(`${ha1}:${digest.nonce}:${ncString}:${digest.cnonce}:${qop}:${ha2}`)\n        : md5(`${ha1}:${digest.nonce}:${ha2}`);\n    const authValues = {\n        username: digest.username,\n        realm: digest.realm,\n        nonce: digest.nonce,\n        uri,\n        qop,\n        response: digestResponse,\n        nc: ncString,\n        cnonce: digest.cnonce,\n        algorithm: digest.algorithm,\n        opaque: digest.opaque\n    };\n    const authHeader = [];\n    for (const k in authValues) {\n        if (authValues[k]) {\n            if (k === \"qop\" || k === \"nc\" || k === \"algorithm\") {\n                authHeader.push(`${k}=${authValues[k]}`);\n            }\n            else {\n                authHeader.push(`${k}=\"${authValues[k]}\"`);\n            }\n        }\n    }\n    return `Digest ${authHeader.join(\", \")}`;\n}\nfunction makeNonce() {\n    let uid = \"\";\n    for (let i = 0; i < NONCE_SIZE; ++i) {\n        uid = `${uid}${NONCE_CHARS[Math.floor(Math.random() * NONCE_CHARS.length)]}`;\n    }\n    return uid;\n}\nexport function parseDigestAuth(response, _digest) {\n    const isDigest = responseIndicatesDigestAuth(response);\n    if (!isDigest) {\n        return false;\n    }\n    const re = /([a-z0-9_-]+)=(?:\"([^\"]+)\"|([a-z0-9_-]+))/gi;\n    for (;;) {\n        const authHeader = (response.headers && response.headers.get(\"www-authenticate\")) || \"\";\n        const match = re.exec(authHeader);\n        if (!match) {\n            break;\n        }\n        _digest[match[1]] = match[2] || match[3];\n    }\n    _digest.nc += 1;\n    _digest.cnonce = makeNonce();\n    return true;\n}\nexport function responseIndicatesDigestAuth(response) {\n    const authHeader = (response.headers && response.headers.get(\"www-authenticate\")) || \"\";\n    return authHeader.split(/\\s/)[0].toLowerCase() === \"digest\";\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { getLoggerBuilder } from '@nextcloud/logger'\n\nexport default getLoggerBuilder()\n\t.setApp('comments')\n\t.detectUser()\n\t.build()\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \"-\" + chunkId + \".js?v=\" + {\"2251\":\"c244f4edade97b4257eb\",\"2710\":\"0c2e26891ac1c05900e0\",\"3556\":\"920f98152ec7950e8055\",\"4471\":\"9b3c8620f038b7593241\",\"4508\":\"c6a3c65fcdfeb529b236\",\"4906\":\"494ff510a1379d42d106\",\"5528\":\"650daf404ceec1fec7cd\",\"5862\":\"580b9c2e231a9169a12f\",\"7004\":\"da5a822695a273d4d2eb\",\"7039\":\"9800c2c4f93af8d9465e\",\"7394\":\"5b773f16893ed80e0246\",\"7859\":\"cd6f48c919ca307639eb\",\"8124\":\"7273b44251b9ce503f49\",\"8453\":\"0ad2c9a35eee895d5980\"}[chunkId] + \"\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 2122;","var scriptUrl;\nif (globalThis.importScripts) scriptUrl = globalThis.location + \"\";\nvar document = globalThis.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = (typeof document !== 'undefined' && document.baseURI) || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t2122: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunknextcloud_ui_legacy\"] = globalThis[\"webpackChunknextcloud_ui_legacy\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [4208], () => (__webpack_require__(5428)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","inProgress","dataWebpackPrefix","debug_1","hasRequiredDebug","constants","hasRequiredConstants","requireDebug","debug","process","env","NODE_DEBUG","test","args","console","error","requireConstants","MAX_SAFE_INTEGER","Number","MAX_LENGTH","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","RELEASE_TYPES","SEMVER_SPEC_VERSION","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","Object","freeze","DEFAULT","HIDDEN","hasRequiredRe","parseOptions_1","hasRequiredParseOptions","identifiers","hasRequiredIdentifiers","semver","hasRequiredSemver","major_1","hasRequiredMajor","parse_1","hasRequiredParse","valid_1","hasRequiredValid","re","exports","requireSemver","safeRe","re2","t","module","src","safeSrc","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","name","value","isGlobal","safe","token","max","split","join","makeSafeRegex","index","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","COERCE","COERCEFULL","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","parseOptions","looseOption","loose","emptyOpts","options","requireParseOptions","compareIdentifiers","numeric","a2","b2","anum","bnum","rcompareIdentifiers","requireIdentifiers","SemVer","constructor","version","includePrerelease","TypeError","length","this","m","trim","match","LOOSE","FULL","raw","major","minor","patch","prerelease","map","id","num","build","format","toString","compare","other","compareMain","comparePre","i","compareBuild","inc","release","identifier","identifierBase","startsWith","Error","base","push","isNaN","requireMajor","parse","throwErrors","er","requireParse","v","requireValid","UploadFromDevice","CreateNew","Other","ReservedName","Character","Extension","Name","Modified","Size","ActivityTabPluginView","ActivityTabPluginInstance","Vue","use","PiniaVuePlugin","__webpack_nonce__","getCSPNonce","tagName","tab","loadState","undefined","OCA","Activity","registerSidebarAction","window","addEventListener","mount","async","el","node","reload","pinia","createPinia","default","ActivityCommentAction","extend","propsData","reloadCallback","resourceId","fileid","logger","info","unmount","$destroy","registerSidebarEntries","limit","offset","data","comments","getComments","resourceType","CommentView","CommentsViewObject","comment","_CommentsViewInstance","timestamp","moment","props","creationDateTime","toDate","getTime","element","registerSidebarFilter","activity","type","CSS","escape","displayName","iconSvgInline","order","enabled","onInit","validateSidebarTab","FilesSidebarTab","mixin","webComponent","wrap","defineProperty","prototype","get","customElements","define","_nc_files_sidebar_tabs","Map","has","l","warn","set","parseQuota","result","responseItem","multistatus","response","propstat","prop","quotaUsed","quotaAvail","used","parseInt","String","available","err","getDAVCompliance","context","filePath","requestOptions","url","remoteURL","method","compliance","headers","item","server","http","https","key","hasOwnProperty","validateParams","params","protocol","request","cb","call","ClientRequest","statusCodes","opts","defaultProtocol","location","search","host","hostname","port","path","indexOf","toUpperCase","req","on","end","IncomingMessage","Agent","defaultMaxSockets","globalAgent","STATUS_CODES","METHODS","getRootPath","generateRemoteUrl","Layerr","errorOptionsOrMessage","messageText","arguments","shortMessage","message","cause","super","assign","_info","captureStackTrace","ctor","constructorOpt","_cause","fullStack","stack","output","TRANSFORM_RETAIN_FORMAT","getFileContents","code","InvalidOutputFormat","Accept","transformResponse","body","text","details","getFileContentsString","arrayBuffer","Buffer","from","getFileContentsBuffer","getFileDownloadLink","authType","None","Password","authPart","Authorization","replace","authContents","LinkUnsupportedAuthType","generateBasicAuthHeader","username","password","generateLockXML","ownerHREF","XMLBuilder","attributeNamePrefix","ignoreAttributes","suppressEmptyNode","namespace","lockinfo","lockscope","exclusive","locktype","write","owner","href","obj","ns","copy","parseGenericResponse","xml","XMLParser","removeNSPrefix","parseAttributeValue","parseTagValue","createDirectory","dirPath","recursive","paths","sort","a","b","creating","testPath","status","createDirectoryRecursively","endsWith","putFileContents","contentLength","overwrite","Readable","getFileUploadLink","client","createClient","setHeaders","requesttoken","onRequestTokenUpdate","getRequestToken","DEFAULT_LIMIT","resourcePath","datetime","toISOString","customRequest","responseData","stat","isDetailed","responseItems","prepareFileFromProps","getDirectoryFiles","parseXML","processResponsePayload","setupAuth","oauthToken","ha1","Auto","Digest","digest","Token","InvalidAuthType","requestDataToFetchBody","JSON","stringify","DEFAULT_TIMEOUT","lock","refreshToken","timeout","Timeout","If","contactHref","lockPayload","serverTimeout","unlock","hasArrayBuffer","ArrayBuffer","objToString","isArrayBuffer","copyFile","filename","destination","Destination","Overwrite","Depth","shallow","fromBase64","toBase64","required","qs","controlOrWhitespace","CRHTLF","slashes","protocolre","windowsDriveLetter","trimLeft","str","rules","address","isSpecial","NaN","ignore","hash","query","lolcation","loc","self","finaldestination","Url","unescape","pathname","scheme","extractProtocol","rest","exec","toLowerCase","forwardSlashes","otherSlashes","slashesCount","slice","parser","relative","extracted","instruction","instructions","lastIndexOf","charAt","concat","last","unshift","up","splice","resolve","auth","encodeURIComponent","decodeURIComponent","origin","part","fn","pop","char","ins","len","charCodeAt","NOOP","createReadStream","outStream","PassThroughStream","range","start","rangeHeader","Range","responseError","callback","setTimeout","getFileStream","then","stream","pipe","catch","emit","createWriteStream","writeStream","maxRedirects","calculateDataLength","byteLength","DataTypeNoLength","getDirectoryContents","remotePath","deep","davResp","_remotePath","files","serverremoteBasePath","requestPath","includeSelf","serverBase","nodes","filter","basename","remoteBasePath","glob","exists","finalOptions","moveFile","deleteFile","getSearch","searchArbiter","responseText","results","partialUpdateFileContents","includes","InvalidUpdateRange","partialUpdateFileContentsSabredav","partialUpdateFileContentsApache","NotSupported","getStat","DEFAULT_CONTACT_HREF","authTypeRaw","httpAgent","httpsAgent","withCredentials","c","getHeaders","getQuota","destinationFilename","extractURLPath","fullURL","urlPath","joinURL","parts","reduce","nextPart","partIndex","normaliseHREF","freeGlobal","global","InvalidCharacterError","TABLE","REGEX_SPACE_CHARACTERS","base64","input","buffer","padding","position","bitStorage","bitCounter","fromCharCode","quota","prepareRequestOptions","userOptions","signal","_digest","requestStandard","ok","requestDigest","requestAuto","hasDigestAuth","response2","nc","patcher","patchInline","newHeaders","credentials","agent","parsedURL","getFetchOptions","createDigestContext","algorithm","generateDigestAuthHeader","uri","qop","ncString","realm","nonce","cnonce","ha2","digestResponse","authValues","opaque","authHeader","k","parseDigestAuth","responseIndicatesDigestAuth","uid","Math","floor","NONCE_CHARS","random","makeNonce","getLoggerBuilder","setApp","detectUser","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","keys","every","r","n","getter","__esModule","d","definition","o","enumerable","f","e","chunkId","Promise","all","promises","u","done","script","needAttach","scripts","document","getElementsByTagName","s","getAttribute","createElement","charset","setAttribute","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","forEach","bind","target","head","appendChild","Symbol","toStringTag","nmd","children","scriptUrl","globalThis","importScripts","currentScript","p","baseURI","installedChunks","installedChunkData","promise","reject","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}