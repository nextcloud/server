{"version":3,"file":"comments-comments-tab.js?v=36fd1625db4285a5dba8","mappings":"UAAIA,ECAAC,EACAC,E,2BC0DW,SAASC,IAStB,OApEF,SAAoBC,GAClB,IAAIC,EAAc,GAClB,GAAwB,IAApBD,EAASE,OAAgB,MAAO,GAEpC,GAA2B,iBAAhBF,EAAS,GAClB,MAAM,IAAIG,UAAU,kCAAoCH,EAAS,IAInE,GAAIA,EAAS,GAAGI,MAAM,iBAAmBJ,EAASE,OAAS,EAAG,CAC5D,IAAIG,EAAQL,EAASM,QACrBN,EAAS,GAAKK,EAAQL,EAAS,EACjC,CAGIA,EAAS,GAAGI,MAAM,gBACpBJ,EAAS,GAAKA,EAAS,GAAGO,QAAQ,gBAAiB,UAEnDP,EAAS,GAAKA,EAAS,GAAGO,QAAQ,gBAAiB,SAGrD,IAAK,IAAIC,EAAI,EAAGA,EAAIR,EAASE,OAAQM,IAAK,CACxC,IAAIC,EAAYT,EAASQ,GAEzB,GAAyB,iBAAdC,EACT,MAAM,IAAIN,UAAU,kCAAoCM,GAGxC,KAAdA,IAEAD,EAAI,IAENC,EAAYA,EAAUF,QAAQ,SAAU,KAIxCE,EAFED,EAAIR,EAASE,OAAS,EAEZO,EAAUF,QAAQ,SAAU,IAG5BE,EAAUF,QAAQ,SAAU,KAG1CN,EAAYS,KAAKD,GAEnB,CAEA,IAAIE,EAAMV,EAAYW,KAAK,KAOvBC,GAHJF,EAAMA,EAAIJ,QAAQ,kBAAmB,OAGrBO,MAAM,KAGtB,OAFMD,EAAMP,SAAWO,EAAMX,OAAS,EAAI,IAAK,IAAMW,EAAMD,KAAK,IAGlE,CAWSG,CANqB,iBAAjBC,UAAU,GACXA,UAAU,GAEV,GAAGC,MAAMC,KAAKF,WAI1B,C,0CCnEA,IAAIG,EAAa,EAAQ,OACrBC,EAAU,EAAQ,OAClBC,EAAqB,EAAQ,OAC7BC,EAAoB,EAAQ,OAG5BC,EAFwB,EAAQ,QAEOD,GAAqBD,EAGhEG,EAAOC,QAAU,WAGmB,IAAIC,EAGnCC,EAAU,CACbC,OAAQ,SAAUC,GACjB,IAAKF,EAAQG,IAAID,GAChB,MAAM,IAAIV,EAAW,iCAAmCC,EAAQS,GAElE,EACA,OAAU,SAAUA,GACnB,QAASH,GAAgBA,EAAqB,OAAEG,EACjD,EACAE,IAAK,SAAUF,GACd,OAAOH,GAAgBA,EAAaK,IAAIF,EACzC,EACAC,IAAK,SAAUD,GACd,QAASH,GAAgBA,EAAaI,IAAID,EAC3C,EACAG,IAAK,SAAUH,EAAKI,GACdP,IACJA,EAAeH,KAGhBG,EAAaM,IAAIH,EAAKI,EACvB,GAGD,OAAON,CACR,C,uBCvCA,MAAMO,EAAsD,YAAc,EAAa,YAGvFV,EAAOC,QAAU,IAAMS,C,uBCkBvBV,EAAOC,QAtBP,MACE,WAAAU,CAAYC,GACVC,KAAKD,QAAUA,EACfC,KAAKC,MAAQ,GACbD,KAAK,MAAQ,CAAC,CAChB,CACA,GAAAE,CAAIV,EAAIW,GAEK,cAARX,IAAqBA,EAAM,cAC9BQ,KAAKC,MAAM5B,KAAM,CAAC,CAACmB,GAAMW,GAC3B,CACA,QAAAC,CAASC,GACa,cAAjBA,EAAKN,UAAyBM,EAAKN,QAAU,cAC7CM,EAAK,OAASC,OAAOC,KAAKF,EAAK,OAAOxC,OAAS,EAChDmC,KAAKC,MAAM5B,KAAM,CAAE,CAACgC,EAAKN,SAAUM,EAAKJ,MAAO,KAAQI,EAAK,QAE5DL,KAAKC,MAAM5B,KAAM,CAAE,CAACgC,EAAKN,SAAUM,EAAKJ,OAE5C,E,2BClBF,MAAMO,EAAqB,EAAQ,OAC7BC,EAAwB,EAAQ,OAEhCC,EAAiB,CACrBC,oBAAqB,KACrBC,qBAAqB,EACrBC,aAAc,QACdC,kBAAkB,EAClBC,eAAe,EACfC,QAAQ,EACRC,SAAU,KACVC,mBAAmB,EACnBC,sBAAsB,EACtBC,2BAA2B,EAC3BC,kBAAmB,SAAS7B,EAAK8B,GAC/B,OAAOA,CACT,EACAC,wBAAyB,SAASC,EAAUF,GAC1C,OAAOA,CACT,EACAG,eAAe,EACfC,iBAAiB,EACjBC,aAAc,GACdC,SAAU,CACR,CAAEC,MAAO,IAAIC,OAAO,IAAK,KAAM3B,IAAK,SACpC,CAAE0B,MAAO,IAAIC,OAAO,IAAK,KAAM3B,IAAK,QACpC,CAAE0B,MAAO,IAAIC,OAAO,IAAK,KAAM3B,IAAK,QACpC,CAAE0B,MAAO,IAAIC,OAAO,IAAM,KAAM3B,IAAK,UACrC,CAAE0B,MAAO,IAAIC,OAAO,IAAM,KAAM3B,IAAK,WAEvC4B,iBAAiB,EACjBC,UAAW,GAGXC,cAAc,GAGhB,SAASC,EAAQC,GACfnC,KAAKmC,QAAU7B,OAAO8B,OAAO,CAAC,EAAG1B,EAAgByB,IACX,IAAlCnC,KAAKmC,QAAQrB,kBAA6Bd,KAAKmC,QAAQvB,oBACzDZ,KAAKqC,YAAc,WACjB,OAAO,CACT,GAEArC,KAAKsC,mBAAqB7B,EAAsBT,KAAKmC,QAAQrB,kBAC7Dd,KAAKuC,cAAgBvC,KAAKmC,QAAQxB,oBAAoB9C,OACtDmC,KAAKqC,YAAcA,GAGrBrC,KAAKwC,qBAAuBA,EAExBxC,KAAKmC,QAAQnB,QACfhB,KAAKyC,UAAYA,EACjBzC,KAAK0C,WAAa,MAClB1C,KAAK2C,QAAU,OAEf3C,KAAKyC,UAAY,WACf,MAAO,EACT,EACAzC,KAAK0C,WAAa,IAClB1C,KAAK2C,QAAU,GAEnB,CAmHA,SAASH,EAAsBI,EAAQpD,EAAKqD,EAAOC,GACjD,MAAMC,EAAS/C,KAAKgD,IAAIJ,EAAQC,EAAQ,EAAGC,EAAOG,OAAOzD,IACzD,YAA0C0D,IAAtCN,EAAO5C,KAAKmC,QAAQtB,eAA8D,IAA/BP,OAAOC,KAAKqC,GAAQ/E,OAClEmC,KAAKmD,iBAAiBP,EAAO5C,KAAKmC,QAAQtB,cAAerB,EAAKuD,EAAOK,QAASP,GAE9E7C,KAAKqD,gBAAgBN,EAAO5C,IAAKX,EAAKuD,EAAOK,QAASP,EAEjE,CAuFA,SAASJ,EAAUI,GACjB,OAAO7C,KAAKmC,QAAQlB,SAASqC,OAAOT,EACtC,CAEA,SAASR,EAAYkB,GACnB,SAAIA,EAAKC,WAAWxD,KAAKmC,QAAQxB,sBAAwB4C,IAASvD,KAAKmC,QAAQtB,eACtE0C,EAAKE,OAAOzD,KAAKuC,cAI5B,CAzNAL,EAAQwB,UAAUC,MAAQ,SAASC,GACjC,OAAG5D,KAAKmC,QAAQV,cACPjB,EAAmBoD,EAAM5D,KAAKmC,UAElC0B,MAAMC,QAAQF,IAAS5D,KAAKmC,QAAQ4B,eAAiB/D,KAAKmC,QAAQ4B,cAAclG,OAAS,IAC1F+F,EAAO,CACL,CAAC5D,KAAKmC,QAAQ4B,eAAiBH,IAG5B5D,KAAKgD,IAAIY,EAAM,EAAG,IAAIzD,IAEjC,EAEA+B,EAAQwB,UAAUV,IAAM,SAASY,EAAMf,EAAOC,GAC5C,IAAIM,EAAU,GACVjD,EAAM,GACV,MAAM6D,EAAQlB,EAAOvE,KAAK,KAC1B,IAAK,IAAIiB,KAAOoE,EACd,GAAItD,OAAOoD,UAAUO,eAAepF,KAAK+E,EAAMpE,GAC/C,QAAyB,IAAdoE,EAAKpE,GAEVQ,KAAKqC,YAAY7C,KACnBW,GAAO,SAEJ,GAAkB,OAAdyD,EAAKpE,GAEVQ,KAAKqC,YAAY7C,IAEVA,IAAQQ,KAAKmC,QAAQpB,cAD9BZ,GAAO,GAGa,MAAXX,EAAI,GACbW,GAAOH,KAAKyC,UAAUI,GAAS,IAAMrD,EAAM,IAAMQ,KAAK0C,WAEtDvC,GAAOH,KAAKyC,UAAUI,GAAS,IAAMrD,EAAM,IAAMQ,KAAK0C,gBAGnD,GAAIkB,EAAKpE,aAAgB0E,KAC9B/D,GAAOH,KAAKmD,iBAAiBS,EAAKpE,GAAMA,EAAK,GAAIqD,QAC5C,GAAyB,iBAAde,EAAKpE,GAAmB,CAExC,MAAM2E,EAAOnE,KAAKqC,YAAY7C,GAC9B,GAAI2E,IAASnE,KAAKsC,mBAAmB6B,EAAMH,GACzCZ,GAAWpD,KAAKoE,iBAAiBD,EAAM,GAAKP,EAAKpE,SAC5C,IAAK2E,EAEV,GAAI3E,IAAQQ,KAAKmC,QAAQtB,aAAc,CACrC,IAAIwD,EAASrE,KAAKmC,QAAQd,kBAAkB7B,EAAK,GAAKoE,EAAKpE,IAC3DW,GAAOH,KAAKsE,qBAAqBD,EACnC,MACElE,GAAOH,KAAKmD,iBAAiBS,EAAKpE,GAAMA,EAAK,GAAIqD,EAGvD,MAAO,GAAIgB,MAAMC,QAAQF,EAAKpE,IAAO,CAEnC,MAAM+E,EAASX,EAAKpE,GAAK3B,OACzB,IAAI2G,EAAa,GACbC,EAAc,GAClB,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAQG,IAAK,CAC/B,MAAMC,EAAOf,EAAKpE,GAAKkF,GACvB,QAAoB,IAATC,QAEJ,GAAa,OAATA,EACK,MAAXnF,EAAI,GAAYW,GAAOH,KAAKyC,UAAUI,GAAS,IAAMrD,EAAM,IAAMQ,KAAK0C,WACpEvC,GAAOH,KAAKyC,UAAUI,GAAS,IAAMrD,EAAM,IAAMQ,KAAK0C,gBAEtD,GAAoB,iBAATiC,EAChB,GAAG3E,KAAKmC,QAAQF,aAAa,CAC3B,MAAMc,EAAS/C,KAAKgD,IAAI2B,EAAM9B,EAAQ,EAAGC,EAAOG,OAAOzD,IACvDgF,GAAczB,EAAO5C,IACjBH,KAAKmC,QAAQvB,qBAAuB+D,EAAKV,eAAejE,KAAKmC,QAAQvB,uBACvE6D,GAAe1B,EAAOK,QAE1B,MACEoB,GAAcxE,KAAKwC,qBAAqBmC,EAAMnF,EAAKqD,EAAOC,QAG5D,GAAI9C,KAAKmC,QAAQF,aAAc,CAC7B,IAAI2C,EAAY5E,KAAKmC,QAAQd,kBAAkB7B,EAAKmF,GACpDC,EAAY5E,KAAKsE,qBAAqBM,GACtCJ,GAAcI,CAChB,MACEJ,GAAcxE,KAAKmD,iBAAiBwB,EAAMnF,EAAK,GAAIqD,EAGzD,CACG7C,KAAKmC,QAAQF,eACduC,EAAaxE,KAAKqD,gBAAgBmB,EAAYhF,EAAKiF,EAAa5B,IAElE1C,GAAOqE,CACT,MAEE,GAAIxE,KAAKmC,QAAQvB,qBAAuBpB,IAAQQ,KAAKmC,QAAQvB,oBAAqB,CAChF,MAAMiE,EAAKvE,OAAOC,KAAKqD,EAAKpE,IACtBsF,EAAID,EAAGhH,OACb,IAAK,IAAI6G,EAAI,EAAGA,EAAII,EAAGJ,IACrBtB,GAAWpD,KAAKoE,iBAAiBS,EAAGH,GAAI,GAAKd,EAAKpE,GAAKqF,EAAGH,IAE9D,MACEvE,GAAOH,KAAKwC,qBAAqBoB,EAAKpE,GAAMA,EAAKqD,EAAOC,GAI9D,MAAO,CAACM,QAASA,EAASjD,IAAKA,EACjC,EAEA+B,EAAQwB,UAAUU,iBAAmB,SAAS5C,EAAUrB,GAGtD,OAFAA,EAAMH,KAAKmC,QAAQZ,wBAAwBC,EAAU,GAAKrB,GAC1DA,EAAMH,KAAKsE,qBAAqBnE,GAC5BH,KAAKmC,QAAQf,2BAAqC,SAARjB,EACrC,IAAMqB,EACD,IAAMA,EAAW,KAAOrB,EAAM,GAC9C,EAWA+B,EAAQwB,UAAUL,gBAAkB,SAASlD,EAAKX,EAAK4D,EAASP,GAC9D,GAAW,KAAR1C,EACD,MAAc,MAAXX,EAAI,GAAoBQ,KAAKyC,UAAUI,GAAS,IAAMrD,EAAM4D,EAAS,IAAMpD,KAAK0C,WAE1E1C,KAAKyC,UAAUI,GAAS,IAAMrD,EAAM4D,EAAUpD,KAAK+E,SAASvF,GAAOQ,KAAK0C,WAE9E,CAEH,IAAIsC,EAAY,KAAOxF,EAAMQ,KAAK0C,WAC9BuC,EAAgB,GAQpB,MANc,MAAXzF,EAAI,KACLyF,EAAgB,IAChBD,EAAY,KAIT5B,GAAuB,KAAZA,IAAyC,IAAtBjD,EAAI+E,QAAQ,MAEH,IAAjClF,KAAKmC,QAAQT,iBAA6BlC,IAAQQ,KAAKmC,QAAQT,iBAA4C,IAAzBuD,EAAcpH,OAClGmC,KAAKyC,UAAUI,GAAS,UAAO1C,UAAWH,KAAK2C,QAGpD3C,KAAKyC,UAAUI,GAAS,IAAMrD,EAAM4D,EAAU6B,EAAgBjF,KAAK0C,WACnEvC,EACAH,KAAKyC,UAAUI,GAASmC,EAPjBhF,KAAKyC,UAAUI,GAAS,IAAOrD,EAAM4D,EAAU6B,EAAgB,IAAM9E,EAAM6E,CASxF,CACF,EAEA9C,EAAQwB,UAAUqB,SAAW,SAASvF,GACpC,IAAIuF,EAAW,GAQf,OAP+C,IAA5C/E,KAAKmC,QAAQR,aAAauD,QAAQ1F,GAC/BQ,KAAKmC,QAAQhB,uBAAsB4D,EAAW,KAElDA,EADO/E,KAAKmC,QAAQjB,kBACT,IAEA,MAAM1B,IAEZuF,CACT,EAcA7C,EAAQwB,UAAUP,iBAAmB,SAAShD,EAAKX,EAAK4D,EAASP,GAC/D,IAAmC,IAA/B7C,KAAKmC,QAAQpB,eAA2BvB,IAAQQ,KAAKmC,QAAQpB,cAC/D,OAAOf,KAAKyC,UAAUI,GAAS,YAAY1C,OAAYH,KAAK2C,QACxD,IAAqC,IAAjC3C,KAAKmC,QAAQT,iBAA6BlC,IAAQQ,KAAKmC,QAAQT,gBACvE,OAAO1B,KAAKyC,UAAUI,GAAS,UAAO1C,UAAYH,KAAK2C,QACnD,GAAc,MAAXnD,EAAI,GACX,OAAQQ,KAAKyC,UAAUI,GAAS,IAAMrD,EAAM4D,EAAS,IAAMpD,KAAK0C,WAC7D,CACH,IAAIkC,EAAY5E,KAAKmC,QAAQd,kBAAkB7B,EAAKW,GAGpD,OAFAyE,EAAY5E,KAAKsE,qBAAqBM,GAEpB,KAAdA,EACK5E,KAAKyC,UAAUI,GAAS,IAAMrD,EAAM4D,EAAUpD,KAAK+E,SAASvF,GAAOQ,KAAK0C,WAExE1C,KAAKyC,UAAUI,GAAS,IAAMrD,EAAM4D,EAAU,IAClDwB,EACD,KAAOpF,EAAMQ,KAAK0C,UAExB,CACF,EAEAR,EAAQwB,UAAUY,qBAAuB,SAASM,GAChD,GAAGA,GAAaA,EAAU/G,OAAS,GAAKmC,KAAKmC,QAAQJ,gBACnD,IAAK,IAAI5D,EAAE,EAAGA,EAAE6B,KAAKmC,QAAQP,SAAS/D,OAAQM,IAAK,CACjD,MAAMgH,EAASnF,KAAKmC,QAAQP,SAASzD,GACrCyG,EAAYA,EAAU1G,QAAQiH,EAAOtD,MAAOsD,EAAOhF,IACrD,CAEF,OAAOyE,CACT,EAcAzF,EAAOC,QAAU8C,C,iGC3RV,SAASkD,EAAwBC,EAAUC,EAAS,IACvD,MAAMC,EAAM,IAAIC,MAAM,GAAGF,sBAA2BD,EAASI,UAAUJ,EAASK,cAGhF,OAFAH,EAAIE,OAASJ,EAASI,OACtBF,EAAIF,SAAWA,EACRE,CACX,CACO,SAASI,EAAmBC,EAASP,GACxC,MAAM,OAAEI,GAAWJ,EACnB,GAAe,MAAXI,GAAkBG,EAAQC,OAC1B,OAAOR,EACX,GAAII,GAAU,IAEV,MADYL,EAAwBC,GAGxC,OAAOA,CACX,CACO,SAASS,EAAkBC,EAAOC,GACrC,OAAOD,EAAME,OAAOC,IAAQ,QAAUA,EAAKC,SAAUH,EAAM,CAAEI,WAAW,IAC5E,CAYO,SAASC,EAAuBhB,EAAUiB,EAAMC,GAAa,GAChE,OAAOA,EACD,CACED,OACAE,QAASnB,EAASmB,SAAU,OAAuBnB,EAASmB,SAAW,CAAC,EACxEf,OAAQJ,EAASI,OACjBC,WAAYL,EAASK,YAEvBY,CACV,C,+BCyJIG,EACAC,EASAC,EACAC,E,gEATJ,SAASC,IACP,GAAIH,EAAkB,OAAOD,EAC7BC,EAAmB,EACnB,MAAMI,EAA2B,iBAAZC,GAAwBA,EAAQC,KAAOD,EAAQC,IAAIC,YAAc,cAAcC,KAAKH,EAAQC,IAAIC,YAAc,IAAIE,IAASC,QAAQC,MAAM,YAAaF,GAAQ,OAGnL,OADAV,EAAUK,CAEZ,CAGA,SAASQ,IACP,GAAIV,EAAsB,OAAOD,EACjCC,EAAuB,EACvB,MAEMW,EAAmBC,OAAOD,kBAChC,iBAsBA,OAVAZ,EAAY,CACVc,WAfiB,IAgBjBC,0BAbgC,GAchCC,sBAb4BF,IAc5BF,mBACAK,cAdoB,CACpB,QACA,WACA,QACA,WACA,QACA,WACA,cAQAC,oBArB0B,QAsB1BC,wBAAyB,EACzBC,WAAY,EAGhB,CApOoBzH,OAAO0H,OAAO,CAChCC,QAAS,UACTC,OAAQ,WAmOV,IACIC,EAyFAC,EACAC,EAkBAC,EACAC,EAwBAC,EACAC,EAsRAC,EACAC,EAWAC,EACAC,EAqBAC,EACAC,EAhcAC,EAAK,CAAE5J,QAAS,CAAC,GAwIrB,SAAS6J,IACP,GAAIR,EAAmB,OAAOD,EAC9BC,EAAoB,EACpB,MAAM3B,EAAQD,KACR,WAAEY,EAAU,iBAAEF,GAAqBD,KACjC4B,OAAQC,EAAG,EAAEC,IA1IjBjB,IACJA,EAAgB,EAChB,SAAUhJ,EAAQC,GAChB,MAAM,0BACJsI,EAAyB,sBACzBC,EAAqB,WACrBF,GACEH,IACER,EAAQD,IAERsC,GADN/J,EAAUD,EAAOC,QAAU,CAAC,GACR4J,GAAK,GACnBE,EAAS9J,EAAQ8J,OAAS,GAC1BG,EAAMjK,EAAQiK,IAAM,GACpBC,EAAUlK,EAAQkK,QAAU,GAC5BF,EAAIhK,EAAQgK,EAAI,CAAC,EACvB,IAAIG,EAAI,EACR,MAAMC,EAAmB,eACnBC,EAAwB,CAC5B,CAAC,MAAO,GACR,CAAC,MAAOhC,GACR,CAAC+B,EAAkB7B,IAQf+B,EAAc,CAACnG,EAAM3D,EAAO+J,KAChC,MAAMC,EAPc,CAAChK,IACrB,IAAK,MAAOiK,EAAOC,KAAQL,EACzB7J,EAAQA,EAAMnB,MAAM,GAAGoL,MAAUtL,KAAK,GAAGsL,OAAWC,MAAQrL,MAAM,GAAGoL,MAAUtL,KAAK,GAAGsL,OAAWC,MAEpG,OAAOlK,GAGMmK,CAAcnK,GACrBoK,EAAQT,IACdzC,EAAMvD,EAAMyG,EAAOpK,GACnBwJ,EAAE7F,GAAQyG,EACVX,EAAIW,GAASpK,EACb0J,EAAQU,GAASJ,EACjBT,EAAIa,GAAS,IAAIlI,OAAOlC,EAAO+J,EAAW,SAAM,GAChDT,EAAOc,GAAS,IAAIlI,OAAO8H,EAAMD,EAAW,SAAM,IAEpDD,EAAY,oBAAqB,eACjCA,EAAY,yBAA0B,QACtCA,EAAY,uBAAwB,gBAAgBF,MACpDE,EAAY,cAAe,IAAIL,EAAID,EAAEa,0BAA0BZ,EAAID,EAAEa,0BAA0BZ,EAAID,EAAEa,uBACrGP,EAAY,mBAAoB,IAAIL,EAAID,EAAEc,+BAA+Bb,EAAID,EAAEc,+BAA+Bb,EAAID,EAAEc,4BACpHR,EAAY,uBAAwB,MAAML,EAAID,EAAEe,yBAAyBd,EAAID,EAAEa,uBAC/EP,EAAY,4BAA6B,MAAML,EAAID,EAAEe,yBAAyBd,EAAID,EAAEc,4BACpFR,EAAY,aAAc,QAAQL,EAAID,EAAEgB,8BAA8Bf,EAAID,EAAEgB,6BAC5EV,EAAY,kBAAmB,SAASL,EAAID,EAAEiB,mCAAmChB,EAAID,EAAEiB,kCACvFX,EAAY,kBAAmB,GAAGF,MAClCE,EAAY,QAAS,UAAUL,EAAID,EAAEkB,yBAAyBjB,EAAID,EAAEkB,wBACpEZ,EAAY,YAAa,KAAKL,EAAID,EAAEmB,eAAelB,EAAID,EAAEoB,eAAenB,EAAID,EAAEqB,WAC9Ef,EAAY,OAAQ,IAAIL,EAAID,EAAEsB,eAC9BhB,EAAY,aAAc,WAAWL,EAAID,EAAEuB,oBAAoBtB,EAAID,EAAEwB,oBAAoBvB,EAAID,EAAEqB,WAC/Ff,EAAY,QAAS,IAAIL,EAAID,EAAEyB,gBAC/BnB,EAAY,OAAQ,gBACpBA,EAAY,wBAAyB,GAAGL,EAAID,EAAEc,mCAC9CR,EAAY,mBAAoB,GAAGL,EAAID,EAAEa,8BACzCP,EAAY,cAAe,YAAYL,EAAID,EAAE0B,4BAA4BzB,EAAID,EAAE0B,4BAA4BzB,EAAID,EAAE0B,wBAAwBzB,EAAID,EAAEoB,gBAAgBnB,EAAID,EAAEqB,eACrKf,EAAY,mBAAoB,YAAYL,EAAID,EAAE2B,iCAAiC1B,EAAID,EAAE2B,iCAAiC1B,EAAID,EAAE2B,6BAA6B1B,EAAID,EAAEwB,qBAAqBvB,EAAID,EAAEqB,eAC9Lf,EAAY,SAAU,IAAIL,EAAID,EAAE4B,YAAY3B,EAAID,EAAE6B,iBAClDvB,EAAY,cAAe,IAAIL,EAAID,EAAE4B,YAAY3B,EAAID,EAAE8B,sBACvDxB,EAAY,cAAe,oBAAyBhC,mBAA2CA,qBAA6CA,SAC5IgC,EAAY,SAAU,GAAGL,EAAID,EAAE+B,4BAC/BzB,EAAY,aAAcL,EAAID,EAAE+B,aAAe,MAAM9B,EAAID,EAAEoB,mBAAmBnB,EAAID,EAAEqB,wBACpFf,EAAY,YAAaL,EAAID,EAAEgC,SAAS,GACxC1B,EAAY,gBAAiBL,EAAID,EAAEiC,aAAa,GAChD3B,EAAY,YAAa,WACzBA,EAAY,YAAa,SAASL,EAAID,EAAEkC,kBAAkB,GAC1DlM,EAAQmM,iBAAmB,MAC3B7B,EAAY,QAAS,IAAIL,EAAID,EAAEkC,aAAajC,EAAID,EAAE6B,iBAClDvB,EAAY,aAAc,IAAIL,EAAID,EAAEkC,aAAajC,EAAID,EAAE8B,sBACvDxB,EAAY,YAAa,WACzBA,EAAY,YAAa,SAASL,EAAID,EAAEoC,kBAAkB,GAC1DpM,EAAQqM,iBAAmB,MAC3B/B,EAAY,QAAS,IAAIL,EAAID,EAAEoC,aAAanC,EAAID,EAAE6B,iBAClDvB,EAAY,aAAc,IAAIL,EAAID,EAAEoC,aAAanC,EAAID,EAAE8B,sBACvDxB,EAAY,kBAAmB,IAAIL,EAAID,EAAE4B,aAAa3B,EAAID,EAAEyB,oBAC5DnB,EAAY,aAAc,IAAIL,EAAID,EAAE4B,aAAa3B,EAAID,EAAEsB,mBACvDhB,EAAY,iBAAkB,SAASL,EAAID,EAAE4B,aAAa3B,EAAID,EAAEyB,eAAexB,EAAID,EAAE6B,iBAAiB,GACtG7L,EAAQsM,sBAAwB,SAChChC,EAAY,cAAe,SAASL,EAAID,EAAE6B,0BAA0B5B,EAAID,EAAE6B,sBAC1EvB,EAAY,mBAAoB,SAASL,EAAID,EAAE8B,+BAA+B7B,EAAID,EAAE8B,2BACpFxB,EAAY,OAAQ,mBACpBA,EAAY,OAAQ,6BACpBA,EAAY,UAAW,8BACxB,CAlFD,CAkFGV,EAAIA,EAAG5J,UApFgB4J,EAAG5J,SA2IvBuM,EAlDR,WACE,GAAItD,EAAyB,OAAOD,EACpCC,EAA0B,EAC1B,MAAMuD,EAActL,OAAO0H,OAAO,CAAE6D,OAAO,IACrCC,EAAYxL,OAAO0H,OAAO,CAAC,GAWjC,OADAI,EATsBjG,GACfA,EAGkB,iBAAZA,EACFyJ,EAEFzJ,EALE2J,CASb,CAkCuBC,IACf,mBAAEC,GAhCV,WACE,GAAIzD,EAAwB,OAAOD,EACnCC,EAAyB,EACzB,MAAM0D,EAAU,WACVD,EAAqB,CAACE,EAAIC,KAC9B,GAAkB,iBAAPD,GAAiC,iBAAPC,EACnC,OAAOD,IAAOC,EAAK,EAAID,EAAKC,GAAM,EAAI,EAExC,MAAMC,EAAOH,EAAQ/E,KAAKgF,GACpBG,EAAOJ,EAAQ/E,KAAKiF,GAK1B,OAJIC,GAAQC,IACVH,GAAMA,EACNC,GAAMA,GAEDD,IAAOC,EAAK,EAAIC,IAASC,GAAQ,EAAIA,IAASD,EAAO,EAAIF,EAAKC,GAAM,EAAI,GAOjF,OAJA7D,EAAc,CACZ0D,qBACAM,oBAH0B,CAACJ,EAAIC,IAAOH,EAAmBG,EAAID,GAMjE,CAUiCK,GAC/B,MAAMC,EACJ,WAAA1M,CAAY2M,EAAStK,GAEnB,GADAA,EAAUwJ,EAAaxJ,GACnBsK,aAAmBD,EAAQ,CAC7B,GAAIC,EAAQZ,UAAY1J,EAAQ0J,OAASY,EAAQC,sBAAwBvK,EAAQuK,kBAC/E,OAAOD,EAEPA,EAAUA,EAAQA,OAEtB,MAAO,GAAuB,iBAAZA,EAChB,MAAM,IAAI3O,UAAU,uDAAuD2O,OAE7E,GAAIA,EAAQ5O,OAAS4J,EACnB,MAAM,IAAI3J,UACR,0BAA0B2J,gBAG9BX,EAAM,SAAU2F,EAAStK,GACzBnC,KAAKmC,QAAUA,EACfnC,KAAK6L,QAAU1J,EAAQ0J,MACvB7L,KAAK0M,oBAAsBvK,EAAQuK,kBACnC,MAAMC,EAAIF,EAAQG,OAAO7O,MAAMoE,EAAQ0J,MAAQ1C,EAAIC,EAAEyD,OAAS1D,EAAIC,EAAE0D,OACpE,IAAKH,EACH,MAAM,IAAI7O,UAAU,oBAAoB2O,KAM1C,GAJAzM,KAAK+M,IAAMN,EACXzM,KAAKgN,OAASL,EAAE,GAChB3M,KAAKiN,OAASN,EAAE,GAChB3M,KAAKkN,OAASP,EAAE,GACZ3M,KAAKgN,MAAQzF,GAAoBvH,KAAKgN,MAAQ,EAChD,MAAM,IAAIlP,UAAU,yBAEtB,GAAIkC,KAAKiN,MAAQ1F,GAAoBvH,KAAKiN,MAAQ,EAChD,MAAM,IAAInP,UAAU,yBAEtB,GAAIkC,KAAKkN,MAAQ3F,GAAoBvH,KAAKkN,MAAQ,EAChD,MAAM,IAAIpP,UAAU,yBAEjB6O,EAAE,GAGL3M,KAAKmN,WAAaR,EAAE,GAAGlO,MAAM,KAAK2O,IAAKC,IACrC,GAAI,WAAWnG,KAAKmG,GAAK,CACvB,MAAMC,GAAOD,EACb,GAAIC,GAAO,GAAKA,EAAM/F,EACpB,OAAO+F,CAEX,CACA,OAAOD,IATTrN,KAAKmN,WAAa,GAYpBnN,KAAK2D,MAAQgJ,EAAE,GAAKA,EAAE,GAAGlO,MAAM,KAAO,GACtCuB,KAAKgB,QACP,CACA,MAAAA,GAKE,OAJAhB,KAAKyM,QAAU,GAAGzM,KAAKgN,SAAShN,KAAKiN,SAASjN,KAAKkN,QAC/ClN,KAAKmN,WAAWtP,SAClBmC,KAAKyM,SAAW,IAAIzM,KAAKmN,WAAW5O,KAAK,QAEpCyB,KAAKyM,OACd,CACA,QAAAc,GACE,OAAOvN,KAAKyM,OACd,CACA,OAAAe,CAAQC,GAEN,GADA3G,EAAM,iBAAkB9G,KAAKyM,QAASzM,KAAKmC,QAASsL,KAC9CA,aAAiBjB,GAAS,CAC9B,GAAqB,iBAAViB,GAAsBA,IAAUzN,KAAKyM,QAC9C,OAAO,EAETgB,EAAQ,IAAIjB,EAAOiB,EAAOzN,KAAKmC,QACjC,CACA,OAAIsL,EAAMhB,UAAYzM,KAAKyM,QAClB,EAEFzM,KAAK0N,YAAYD,IAAUzN,KAAK2N,WAAWF,EACpD,CACA,WAAAC,CAAYD,GAIV,OAHMA,aAAiBjB,IACrBiB,EAAQ,IAAIjB,EAAOiB,EAAOzN,KAAKmC,UAE7BnC,KAAKgN,MAAQS,EAAMT,OACb,EAENhN,KAAKgN,MAAQS,EAAMT,MACd,EAELhN,KAAKiN,MAAQQ,EAAMR,OACb,EAENjN,KAAKiN,MAAQQ,EAAMR,MACd,EAELjN,KAAKkN,MAAQO,EAAMP,OACb,EAENlN,KAAKkN,MAAQO,EAAMP,MACd,EAEF,CACT,CACA,UAAAS,CAAWF,GAIT,GAHMA,aAAiBjB,IACrBiB,EAAQ,IAAIjB,EAAOiB,EAAOzN,KAAKmC,UAE7BnC,KAAKmN,WAAWtP,SAAW4P,EAAMN,WAAWtP,OAC9C,OAAQ,EACH,IAAKmC,KAAKmN,WAAWtP,QAAU4P,EAAMN,WAAWtP,OACrD,OAAO,EACF,IAAKmC,KAAKmN,WAAWtP,SAAW4P,EAAMN,WAAWtP,OACtD,OAAO,EAET,IAAIM,EAAI,EACR,EAAG,CACD,MAAM+N,EAAKlM,KAAKmN,WAAWhP,GACrBgO,EAAKsB,EAAMN,WAAWhP,GAE5B,GADA2I,EAAM,qBAAsB3I,EAAG+N,EAAIC,QACxB,IAAPD,QAAwB,IAAPC,EACnB,OAAO,EACF,QAAW,IAAPA,EACT,OAAO,EACF,QAAW,IAAPD,EACT,OAAQ,EACH,GAAIA,IAAOC,EAGhB,OAAOH,EAAmBE,EAAIC,EAElC,SAAWhO,EACb,CACA,YAAAyP,CAAaH,GACLA,aAAiBjB,IACrBiB,EAAQ,IAAIjB,EAAOiB,EAAOzN,KAAKmC,UAEjC,IAAIhE,EAAI,EACR,EAAG,CACD,MAAM+N,EAAKlM,KAAK2D,MAAMxF,GAChBgO,EAAKsB,EAAM9J,MAAMxF,GAEvB,GADA2I,EAAM,gBAAiB3I,EAAG+N,EAAIC,QACnB,IAAPD,QAAwB,IAAPC,EACnB,OAAO,EACF,QAAW,IAAPA,EACT,OAAO,EACF,QAAW,IAAPD,EACT,OAAQ,EACH,GAAIA,IAAOC,EAGhB,OAAOH,EAAmBE,EAAIC,EAElC,SAAWhO,EACb,CAGA,GAAA0P,CAAIC,EAASC,EAAYC,GACvB,GAAIF,EAAQtK,WAAW,OAAQ,CAC7B,IAAKuK,IAAiC,IAAnBC,EACjB,MAAM,IAAIxI,MAAM,mDAElB,GAAIuI,EAAY,CACd,MAAMhQ,EAAQ,IAAIgQ,IAAahQ,MAAMiC,KAAKmC,QAAQ0J,MAAQ1C,EAAIC,EAAEwB,iBAAmBzB,EAAIC,EAAEoB,aACzF,IAAKzM,GAASA,EAAM,KAAOgQ,EACzB,MAAM,IAAIvI,MAAM,uBAAuBuI,IAE3C,CACF,CACA,OAAQD,GACN,IAAK,WACH9N,KAAKmN,WAAWtP,OAAS,EACzBmC,KAAKkN,MAAQ,EACblN,KAAKiN,MAAQ,EACbjN,KAAKgN,QACLhN,KAAK6N,IAAI,MAAOE,EAAYC,GAC5B,MACF,IAAK,WACHhO,KAAKmN,WAAWtP,OAAS,EACzBmC,KAAKkN,MAAQ,EACblN,KAAKiN,QACLjN,KAAK6N,IAAI,MAAOE,EAAYC,GAC5B,MACF,IAAK,WACHhO,KAAKmN,WAAWtP,OAAS,EACzBmC,KAAK6N,IAAI,QAASE,EAAYC,GAC9BhO,KAAK6N,IAAI,MAAOE,EAAYC,GAC5B,MAGF,IAAK,aAC4B,IAA3BhO,KAAKmN,WAAWtP,QAClBmC,KAAK6N,IAAI,QAASE,EAAYC,GAEhChO,KAAK6N,IAAI,MAAOE,EAAYC,GAC5B,MACF,IAAK,UACH,GAA+B,IAA3BhO,KAAKmN,WAAWtP,OAClB,MAAM,IAAI2H,MAAM,WAAWxF,KAAK+M,2BAElC/M,KAAKmN,WAAWtP,OAAS,EACzB,MACF,IAAK,QACgB,IAAfmC,KAAKiN,OAA8B,IAAfjN,KAAKkN,OAA0C,IAA3BlN,KAAKmN,WAAWtP,QAC1DmC,KAAKgN,QAEPhN,KAAKiN,MAAQ,EACbjN,KAAKkN,MAAQ,EACblN,KAAKmN,WAAa,GAClB,MACF,IAAK,QACgB,IAAfnN,KAAKkN,OAA0C,IAA3BlN,KAAKmN,WAAWtP,QACtCmC,KAAKiN,QAEPjN,KAAKkN,MAAQ,EACblN,KAAKmN,WAAa,GAClB,MACF,IAAK,QAC4B,IAA3BnN,KAAKmN,WAAWtP,QAClBmC,KAAKkN,QAEPlN,KAAKmN,WAAa,GAClB,MAGF,IAAK,MAAO,CACV,MAAMc,EAAOzG,OAAOwG,GAAkB,EAAI,EAC1C,GAA+B,IAA3BhO,KAAKmN,WAAWtP,OAClBmC,KAAKmN,WAAa,CAACc,OACd,CACL,IAAI9P,EAAI6B,KAAKmN,WAAWtP,OACxB,OAASM,GAAK,GACsB,iBAAvB6B,KAAKmN,WAAWhP,KACzB6B,KAAKmN,WAAWhP,KAChBA,GAAK,GAGT,IAAW,IAAPA,EAAU,CACZ,GAAI4P,IAAe/N,KAAKmN,WAAW5O,KAAK,OAA2B,IAAnByP,EAC9C,MAAM,IAAIxI,MAAM,yDAElBxF,KAAKmN,WAAW9O,KAAK4P,EACvB,CACF,CACA,GAAIF,EAAY,CACd,IAAIZ,EAAa,CAACY,EAAYE,IACP,IAAnBD,IACFb,EAAa,CAACY,IAE2C,IAAvD/B,EAAmBhM,KAAKmN,WAAW,GAAIY,GACrCG,MAAMlO,KAAKmN,WAAW,MACxBnN,KAAKmN,WAAaA,GAGpBnN,KAAKmN,WAAaA,CAEtB,CACA,KACF,CACA,QACE,MAAM,IAAI3H,MAAM,+BAA+BsI,KAMnD,OAJA9N,KAAK+M,IAAM/M,KAAKgB,SACZhB,KAAK2D,MAAM9F,SACbmC,KAAK+M,KAAO,IAAI/M,KAAK2D,MAAMpF,KAAK,QAE3ByB,IACT,EAGF,OADAwI,EAASgE,CAEX,EAGA,WACE,GAAI7D,EAAkB,OAAOD,EAC7BC,EAAmB,EACnB,MAAM6D,EAASvD,IAEfP,EADe,CAACwD,EAAIL,IAAU,IAAIW,EAAON,EAAIL,GAAOmB,KAGtD,CACmBmB,GA0BnB,WACE,GAAIpF,EAAkB,OAAOD,EAC7BC,EAAmB,EACnB,MAAMqF,EAzBR,WACE,GAAIvF,EAAkB,OAAOD,EAC7BC,EAAmB,EACnB,MAAM2D,EAASvD,IAef,OADAL,EAbc,CAAC6D,EAAStK,EAASkM,GAAc,KAC7C,GAAI5B,aAAmBD,EACrB,OAAOC,EAET,IACE,OAAO,IAAID,EAAOC,EAAStK,EAC7B,CAAE,MAAOmM,GACP,IAAKD,EACH,OAAO,KAET,MAAMC,CACR,EAIJ,CAMgBC,GAKdzF,EAJe,CAAC2D,EAAStK,KACvB,MAAMqM,EAAIJ,EAAM3B,EAAStK,GACzB,OAAOqM,EAAIA,EAAE/B,QAAU,KAI3B,CACmBgC,GAwGU,IAkUAnO,OAAO0H,OAAO,CAIzC0G,iBAAkB,EAIlBC,UAAW,EAIXC,MAAO,IAyM0BtO,OAAO0H,OAAO,CAC/C6G,aAAc,gBACdC,UAAW,YACXC,UAAW,cAEsBvJ,MAmJVlF,OAAO0H,OAAO,CACrCgH,KAAM,WACNC,SAAU,QACVC,KAAM,S,iFCx8CR,IAAIC,EACAC,EAFJC,EAAAA,GAAIC,IAAIC,EAAAA,ICIRC,EAAAA,IAAoBC,EAAAA,EAAAA,MACpB,MAAMC,EAAU,6BFmtChB,IAA4BC,GEltCxBC,EAAAA,EAAAA,GAAU,WAAY,mBAAmB,SAAmD1M,IAAzC2M,KAAKC,UAAUC,sBAElEC,OAAOC,iBAAiB,mBAAoB,WDD5CD,OAAOH,IAAIC,SAASC,sBAAsB,CACtCG,MAAOC,MAAOC,GAAM/P,OAAMgQ,aACtB,MAAMC,GAAQC,EAAAA,EAAAA,MACd,IAAKpB,EAAuB,CACxB,MAAQqB,QAASC,SAAgC,mEAEjDtB,EAAwBE,EAAAA,GAAIqB,OAAOD,EACvC,CACArB,EAA4B,IAAID,EAAsB,CAClDiB,KACAE,QACAK,UAAW,CACPC,eAAgBP,EAChBQ,WAAYxQ,EAAKyQ,UAGzBC,EAAAA,EAAOC,KAAK,qDAAsD,CAAE3Q,UAExE4Q,QAASA,KAED7B,GACAA,EAA0B8B,cAItClB,OAAOH,IAAIC,SAASqB,uBAAuBhB,OAAS9P,OAAM+Q,QAAOC,aAC7D,MAAQ/K,KAAMgL,SAAmBC,EAAAA,EAAAA,GAAY,CAAEC,aAAc,QAASX,WAAYxQ,EAAKyQ,QAAU,CAC7FM,QACAC,OAAQA,GAAU,IAEtBN,EAAAA,EAAOjK,MAAM,kBAAmB,CAAEzG,OAAMiR,aACxC,MAAQd,QAASiB,SAAsB,mEAEjCC,EAAqBrC,EAAAA,GAAIqB,OAAOe,GACtC,OAAOH,EAASlE,IAAKuE,IAAO,CACxBC,2BAAuB1O,EACvB2O,WAAWC,EAAAA,EAAAA,GAAOH,EAAQI,OAAOC,kBAAkBC,SAASC,UAC5DhC,KAAAA,CAAMiC,GAAS,OAAE9B,IACbrQ,KAAK4R,sBAAwB,IAAIF,EAAmB,CAChDtB,GAAI+B,EACJxB,UAAW,CACPgB,UACAd,WAAYxQ,EAAKyQ,OACjBF,eAAgBP,IAG5B,EACAY,OAAAA,GACIjR,KAAK4R,uBAAuBV,UAChC,OAGRlB,OAAOH,IAAIC,SAASsC,sBAAuBC,GAA+B,aAAlBA,EAASC,MACjEvB,EAAAA,EAAOC,KAAK,yDClDZ,IF8tCJ,SAA4BrB,GAC1B,GAAmB,iBAARA,EACT,MAAM,IAAInK,MAAM,gCAElB,IAAKmK,EAAItC,IAAwB,iBAAXsC,EAAItC,IAAmBsC,EAAItC,KAAOkF,IAAIC,OAAO7C,EAAItC,IACrE,MAAM,IAAI7H,MAAM,sFAElB,IAAKmK,EAAID,SAAkC,iBAAhBC,EAAID,QAC7B,MAAM,IAAIlK,MAAM,kDAElB,IAAKmK,EAAID,QAAQ3R,MAAM,sBACrB,MAAM,IAAIyH,MAAM,oCAElB,IAAKmK,EAAI8C,aAA0C,iBAApB9C,EAAI8C,YACjC,MAAM,IAAIjN,MAAM,wCAElB,GAAiC,iBAAtBmK,EAAI+C,iBAA+B,OAAM/C,EAAI+C,eACtD,MAAM,IAAIlN,MAAM,+CAElB,GAAyB,iBAAdmK,EAAIgD,MACb,MAAM,IAAInN,MAAM,iDAElB,GAAImK,EAAIiD,SAAkC,mBAAhBjD,EAAIiD,QAC5B,MAAM,IAAIpN,MAAM,2CAElB,GAAImK,EAAIkD,QAAgC,mBAAflD,EAAIkD,OAC3B,MAAM,IAAIrN,MAAM,yCAEpB,CA3CEsN,CAD0BnD,EE3sCL,CACftC,GAAI,WACJoF,aAAarJ,EAAAA,EAAAA,GAAE,WAAY,YAC3BsJ,c,+NACAC,MAAO,GACPjD,UACA,YAAMmD,GACF,MAAQrC,QAASuC,SAA0B,mEAC3C1D,EAAAA,GAAIC,IAAIC,EAAAA,IACRF,EAAAA,GAAI2D,MAAM,CAAE1C,OAAOC,EAAAA,EAAAA,QACnB,MAAM0C,GAAeC,EAAAA,EAAAA,GAAK7D,EAAAA,GAAK0D,GAE/BzS,OAAO6S,eAAeF,EAAavP,UAAW,eAAgB,CAC1D9D,KAAAA,GAAU,OAAOI,IAAM,IAE3BM,OAAO6S,eAAeF,EAAavP,UAAW,aAAc,CACxDhE,GAAAA,GAAQ,OAAOM,IAAM,IAEzBgQ,OAAOoD,eAAeC,OAAO3D,EAASuD,EAC1C,IF0rCNjD,OAAOsD,yBAA2C,IAAIC,IAClDvD,OAAOsD,uBAAuB7T,IAAIkQ,EAAItC,IACxC,EAAAmG,EAAOC,KAAK,wBAAwB9D,EAAItC,sCAG1C2C,OAAOsD,uBAAuB3T,IAAIgQ,EAAItC,GAAIsC,GAC1C,EAAA6D,EAAO1M,MAAM,4BAA4B6I,EAAItC,oB,cGzuC/C,MAAM,aAAEqG,GAAgB,EAAQ,OAC1BC,EAAmB,EAAQ,QAC3B,SAAEC,GAAY,EAAQ,OACtBC,EAAY,EAAQ,OAsD1B1U,EAAOC,QApDP,MAEI,WAAAU,CAAYqC,GACRnC,KAAK8T,iBAAmB,CAAC,EACzB9T,KAAKmC,QAAUuR,EAAavR,EAEhC,CAMA,KAAAiM,CAAM2F,EAAQC,GACV,GAAsB,iBAAZD,OACJ,KAAIA,EAAQxG,SAGd,MAAM,IAAI/H,MAAM,mDAFhBuO,EAAUA,EAAQxG,UAGtB,CACA,GAAIyG,EAAiB,EACO,IAArBA,IAA2BA,EAAmB,CAAC,GAElD,MAAMjR,EAAS8Q,EAAUI,SAASF,EAASC,GAC3C,IAAe,IAAXjR,EACF,MAAMyC,MAAO,GAAGzC,EAAOwC,IAAI2O,OAAOnR,EAAOwC,IAAI4O,QAAQpR,EAAOwC,IAAI6O,MAEpE,CACF,MAAMC,EAAmB,IAAIV,EAAiB3T,KAAKmC,SACnDkS,EAAiBC,oBAAoBtU,KAAK8T,kBAC1C,MAAMS,EAAgBF,EAAiBG,SAAST,GAChD,OAAG/T,KAAKmC,QAAQV,oBAAmCyB,IAAlBqR,EAAoCA,EACzDX,EAASW,EAAevU,KAAKmC,QAC7C,CAOA,SAAAsS,CAAUjV,EAAKI,GACX,IAA2B,IAAxBA,EAAMsF,QAAQ,KACb,MAAM,IAAIM,MAAM,+BACd,IAAyB,IAAtBhG,EAAI0F,QAAQ,OAAqC,IAAtB1F,EAAI0F,QAAQ,KAC5C,MAAM,IAAIM,MAAM,wEACd,GAAa,MAAV5F,EACL,MAAM,IAAI4F,MAAM,6CAEhBxF,KAAK8T,iBAAiBtU,GAAOI,CAErC,E,UCtDJT,EAAOC,QAAU,WACf,MAAM,IAAIoG,MAAM,gDAClB,C,YCOA,IAAIkP,EACJ,SAASC,IAER,QAAYzR,IAARwR,EAAmB,OAAOA,EAE9B,GAAI,WAAOE,eAAgB,CAC1BF,EAAM,IAAI,WAAOE,eAIjB,IACCF,EAAIG,KAAK,MAAO,WAAOC,eAAiB,IAAM,sBAC/C,CAAE,MAAMC,GACPL,EAAM,IACP,CACD,MAECA,EAAM,KAEP,OAAOA,CACR,CAEA,SAASM,EAAkB1C,GAC1B,IAAIoC,EAAMC,IACV,IAAKD,EAAK,OAAO,EACjB,IAEC,OADAA,EAAIO,aAAe3C,EACZoC,EAAIO,eAAiB3C,CAC7B,CAAE,MAAOyC,GAAI,CACb,OAAO,CACR,CAeA,SAASG,EAAYtV,GACpB,MAAwB,mBAAVA,CACf,CAxDAR,EAAQ+V,MAAQD,EAAW,WAAOC,QAAUD,EAAW,WAAOE,gBAE9DhW,EAAQiW,eAAiBH,EAAW,WAAOI,gBAE3ClW,EAAQmW,gBAAkBL,EAAW,WAAOM,iBAuC5CpW,EAAQqW,YAAcrW,EAAQ+V,OAASH,EAAiB,eAIxD5V,EAAQsW,UAAYtW,EAAQ+V,OAASH,EAAiB,aACtD5V,EAAQuW,uBAAyBvW,EAAQ+V,OAASH,EAAiB,2BAInE5V,EAAQwW,iBAAmBxW,EAAQ+V,SAAUR,KAAWO,EAAWP,IAASiB,kBAM5ElB,EAAM,I,2CC1DFmB,EAAa,EAAQ,MACrBC,EAAW,EAAQ,OACnBC,EAAS,EAAQ,OAEjBC,EAAU5W,EAAQ6W,YAAc,CACnCC,OAAQ,EACRC,OAAQ,EACRC,iBAAkB,EAClBC,QAAS,EACTC,KAAM,GAGHC,EAAkBnX,EAAQmX,gBAAkB,SAAU7B,EAAKrP,EAAUmR,EAAMC,GAC9E,IAAIC,EAAO1W,KAiBX,GAhBA+V,EAAOY,SAAS9X,KAAK6X,GAErBA,EAAKE,MAAQJ,EACbE,EAAKlQ,QAAU,CAAC,EAChBkQ,EAAKG,WAAa,GAClBH,EAAKI,SAAW,CAAC,EACjBJ,EAAKK,YAAc,GAGnBL,EAAKM,GAAG,MAAO,WAEdjQ,EAAQkQ,SAAS,WAChBP,EAAKQ,KAAK,QACX,EACD,GAEa,UAATV,EAAkB,CAYrB,GAXAE,EAAKS,eAAiB9R,EAEtBqR,EAAKU,IAAM/R,EAAS+R,IACpBV,EAAKW,WAAahS,EAASI,OAC3BiR,EAAKY,cAAgBjS,EAASK,WAE9BL,EAASmB,QAAQ+Q,QAAQ,SAAUC,EAAQhY,GAC1CkX,EAAKlQ,QAAQhH,EAAIiY,eAAiBD,EAClCd,EAAKG,WAAWxY,KAAKmB,EAAKgY,EAC3B,GAEI3B,EAAWR,eAAgB,CAC9B,IAAIqC,EAAW,IAAIpC,eAAe,CACjCqC,MAAO,SAAUC,GAEhB,OADAnB,GAAY,GACL,IAAIoB,QAAQ,SAAUC,EAASC,GACjCrB,EAAKsB,WACRD,IACSrB,EAAKrY,KAAK4Z,EAAOC,KAAKN,IAC/BE,IAEApB,EAAKyB,aAAeL,CAEtB,EACD,EACAM,MAAO,WACN3B,GAAY,GACPC,EAAKsB,YACTtB,EAAKrY,KAAK,KACZ,EACAga,MAAO,SAAU9S,GAChBkR,GAAY,GACPC,EAAKsB,YACTtB,EAAKQ,KAAK,QAAS3R,EACrB,IAGD,IAMC,YALAF,EAASiT,KAAKC,OAAOb,GAAUc,MAAM,SAAUjT,GAC9CkR,GAAY,GACPC,EAAKsB,YACTtB,EAAKQ,KAAK,QAAS3R,EACrB,EAED,CAAE,MAAOwP,GAAI,CACd,CAEA,IAAI0D,EAASpT,EAASiT,KAAKI,aAC3B,SAASC,IACRF,EAAOE,OAAOC,KAAK,SAAU7V,GACxB2T,EAAKsB,aAETvB,EAAY1T,EAAO8V,MACf9V,EAAO8V,KACVnC,EAAKrY,KAAK,OAGXqY,EAAKrY,KAAK4Z,EAAOC,KAAKnV,EAAOnD,QAC7B+Y,KACD,GAAGH,MAAM,SAAUjT,GAClBkR,GAAY,GACPC,EAAKsB,YACTtB,EAAKQ,KAAK,QAAS3R,EACrB,EACD,CACAoT,EACD,MA2BC,GA1BAjC,EAAKoC,KAAOpE,EACZgC,EAAKqC,KAAO,EAEZrC,EAAKU,IAAM1C,EAAIsE,YACftC,EAAKW,WAAa3C,EAAIjP,OACtBiR,EAAKY,cAAgB5C,EAAIhP,WACXgP,EAAIuE,wBAAwBxa,MAAM,SACxC8Y,QAAQ,SAAUC,GACzB,IAAI0B,EAAU1B,EAAOzZ,MAAM,oBAC3B,GAAImb,EAAS,CACZ,IAAI1Z,EAAM0Z,EAAQ,GAAGzB,cACT,eAARjY,QACuB0D,IAAtBwT,EAAKlQ,QAAQhH,KAChBkX,EAAKlQ,QAAQhH,GAAO,IAErBkX,EAAKlQ,QAAQhH,GAAKnB,KAAK6a,EAAQ,UACChW,IAAtBwT,EAAKlQ,QAAQhH,GACvBkX,EAAKlQ,QAAQhH,IAAQ,KAAO0Z,EAAQ,GAEpCxC,EAAKlQ,QAAQhH,GAAO0Z,EAAQ,GAE7BxC,EAAKG,WAAWxY,KAAK6a,EAAQ,GAAIA,EAAQ,GAC1C,CACD,GAEAxC,EAAKyC,SAAW,kBACXtD,EAAWD,iBAAkB,CACjC,IAAIwD,EAAW1C,EAAKG,WAAW,aAC/B,GAAIuC,EAAU,CACb,IAAIC,EAAeD,EAASrb,MAAM,2BAC9Bsb,IACH3C,EAAKyC,SAAWE,EAAa,GAAG5B,cAElC,CACKf,EAAKyC,WACTzC,EAAKyC,SAAW,QAClB,CAEF,EAEArD,EAASS,EAAiBR,EAAOY,UAEjCJ,EAAgB7S,UAAU4V,MAAQ,WACjC,IAEIxB,EAFO9X,KAEQmY,aACfL,IAHO9X,KAILmY,aAAe,KACpBL,IAEF,EAEAvB,EAAgB7S,UAAU6V,eAAiB,SAAU9C,GACpD,IAAIC,EAAO1W,KAEP0U,EAAMgC,EAAKoC,KAEXzT,EAAW,KACf,OAAQqR,EAAKE,OACZ,IAAK,OAEJ,IADAvR,EAAWqP,EAAI8E,cACF3b,OAAS6Y,EAAKqC,KAAM,CAChC,IAAIU,EAAUpU,EAAS5B,OAAOiT,EAAKqC,MACnC,GAAsB,mBAAlBrC,EAAKyC,SAA+B,CAEvC,IADA,IAAIO,EAASzB,EAAO0B,MAAMF,EAAQ5b,QACzBM,EAAI,EAAGA,EAAIsb,EAAQ5b,OAAQM,IACnCub,EAAOvb,GAA6B,IAAxBsb,EAAQG,WAAWzb,GAEhCuY,EAAKrY,KAAKqb,EACX,MACChD,EAAKrY,KAAKob,EAAS/C,EAAKyC,UAEzBzC,EAAKqC,KAAO1T,EAASxH,MACtB,CACA,MACD,IAAK,cACJ,GAAI6W,EAAImF,aAAe7D,EAAQM,OAAS5B,EAAIrP,SAC3C,MACDA,EAAWqP,EAAIrP,SACfqR,EAAKrY,KAAK4Z,EAAOC,KAAK,IAAI4B,WAAWzU,KACrC,MACD,IAAK,0BAEJ,GADAA,EAAWqP,EAAIrP,SACXqP,EAAImF,aAAe7D,EAAQK,UAAYhR,EAC1C,MACDqR,EAAKrY,KAAK4Z,EAAOC,KAAK,IAAI4B,WAAWzU,KACrC,MACD,IAAK,YAEJ,GADAA,EAAWqP,EAAIrP,SACXqP,EAAImF,aAAe7D,EAAQK,QAC9B,MACD,IAAIoC,EAAS,IAAI,WAAOsB,eACxBtB,EAAOuB,WAAa,WACfvB,EAAO1V,OAAOkX,WAAavD,EAAKqC,OACnCrC,EAAKrY,KAAK4Z,EAAOC,KAAK,IAAI4B,WAAWrB,EAAO1V,OAAOnE,MAAM8X,EAAKqC,SAC9DrC,EAAKqC,KAAON,EAAO1V,OAAOkX,WAE5B,EACAxB,EAAOyB,OAAS,WACfzD,GAAY,GACZC,EAAKrY,KAAK,KACX,EAEAoa,EAAO0B,kBAAkB9U,GAKvBqR,EAAKoC,KAAKe,aAAe7D,EAAQM,MAAuB,cAAfI,EAAKE,QACjDH,GAAY,GACZC,EAAKrY,KAAK,MAEZ,C,2DCjNO,SAAS+b,EAAWrX,GACvB,IACI,MAAOsX,GAAgBtX,EAAOuX,YAAYjV,UAClCkV,UAAYC,MAAQ,mBAAoBC,EAAW,wBAAyBC,KAAmBL,EACvG,YAA4B,IAAdI,QAAmD,IAAfC,EAC5C,CAEEC,KAAMC,SAASC,OAAOJ,GAAY,IAClCK,WAAW,QAAmBJ,IAEhC,IACV,CACA,MAAOnV,GAEP,CACA,OAAO,IACX,C,uBCfA,SAASwV,EAASzZ,EAAG0Z,EAAG1c,GAClBgD,aAAaQ,SAAQR,EAAI2Z,EAAW3Z,EAAGhD,IACvC0c,aAAalZ,SAAQkZ,EAAIC,EAAWD,EAAG1c,IAE3C,IAAI4c,EAAIC,EAAM7Z,EAAG0Z,EAAG1c,GAEpB,OAAO4c,GAAK,CACVE,MAAOF,EAAE,GACTG,IAAKH,EAAE,GACPI,IAAKhd,EAAIM,MAAM,EAAGsc,EAAE,IACpB5C,KAAMha,EAAIM,MAAMsc,EAAE,GAAK5Z,EAAEzD,OAAQqd,EAAE,IACnCK,KAAMjd,EAAIM,MAAMsc,EAAE,GAAKF,EAAEnd,QAE7B,CAEA,SAASod,EAAWO,EAAKld,GACvB,IAAIqO,EAAIrO,EAAIP,MAAMyd,GAClB,OAAO7O,EAAIA,EAAE,GAAK,IACpB,CAGA,SAASwO,EAAM7Z,EAAG0Z,EAAG1c,GACnB,IAAImd,EAAMC,EAAKC,EAAMC,EAAO7Y,EACxB8Y,EAAKvd,EAAI4G,QAAQ5D,GACjBwa,EAAKxd,EAAI4G,QAAQ8V,EAAGa,EAAK,GACzB1d,EAAI0d,EAER,GAAIA,GAAM,GAAKC,EAAK,EAAG,CACrB,GAAGxa,IAAI0Z,EACL,MAAO,CAACa,EAAIC,GAKd,IAHAL,EAAO,GACPE,EAAOrd,EAAIT,OAEJM,GAAK,IAAM4E,GACZ5E,GAAK0d,GACPJ,EAAKpd,KAAKF,GACV0d,EAAKvd,EAAI4G,QAAQ5D,EAAGnD,EAAI,IACA,GAAfsd,EAAK5d,OACdkF,EAAS,CAAE0Y,EAAKM,MAAOD,KAEvBJ,EAAMD,EAAKM,OACDJ,IACRA,EAAOD,EACPE,EAAQE,GAGVA,EAAKxd,EAAI4G,QAAQ8V,EAAG7c,EAAI,IAG1BA,EAAI0d,EAAKC,GAAMD,GAAM,EAAIA,EAAKC,EAG5BL,EAAK5d,SACPkF,EAAS,CAAE4Y,EAAMC,GAErB,CAEA,OAAO7Y,CACT,CA5DA5D,EAAOC,QAAU2b,EAqBjBA,EAASI,MAAQA,C,+BC4Bba,E,WAXJ,SAASC,EAAcC,GACrB,IAAIC,EAAQnc,KACZA,KAAKoc,KAAO,KACZpc,KAAKqc,MAAQ,KACbrc,KAAKsc,OAAS,YA6iBhB,SAAwBC,EAASL,GAC/B,IAAIG,EAAQE,EAAQF,MAEpB,IADAE,EAAQF,MAAQ,KACTA,GAAO,CACZ,IAAIG,EAAKH,EAAMI,SACfP,EAAMQ,YACNF,EAljBAG,WAmjBAN,EAAQA,EAAMD,IAChB,CAGAF,EAAMU,mBAAmBR,KAAOG,CAClC,CAxjBII,CAAeR,EAAOD,EACxB,CACF,CAnBA/c,EAAOC,QAAUyd,EA0BjBA,EAASC,cAAgBA,EAGzB,IA+JIC,EA/JAC,EAAe,CACjBC,UAAW,EAAQ,QAKjBC,EAAS,EAAQ,OAGjBjF,EAAS,eACTkF,GAAmC,oBAAX,WAAyB,WAA2B,oBAAXnN,OAAyBA,OAAyB,oBAAT0G,KAAuBA,KAAO,CAAC,GAAGoD,YAAc,WAAa,EAOvKsD,EAAc,EAAQ,OAExBC,EADa,EAAQ,OACOA,iBAC1BC,EAAiB,WACnBC,EAAuBD,EAAeC,qBACtCC,EAA6BF,EAAeE,2BAC5CC,EAAwBH,EAAeG,sBACvCC,EAAyBJ,EAAeI,uBACxCC,EAAuBL,EAAeK,qBACtCC,EAAyBN,EAAeM,uBACxCC,EAA6BP,EAAeO,2BAC5CC,EAAuBR,EAAeQ,qBACpCC,EAAiBX,EAAYW,eAEjC,SAASC,IAAO,CAChB,SAASlB,EAAc3a,EAAS4T,EAAQkI,GACtCjC,EAASA,GAAU,EAAQ,OAC3B7Z,EAAUA,GAAW,CAAC,EAOE,kBAAb8b,IAAwBA,EAAWlI,aAAkBiG,GAIhEhc,KAAKke,aAAe/b,EAAQ+b,WACxBD,IAAUje,KAAKke,WAAale,KAAKke,cAAgB/b,EAAQgc,oBAK7Dne,KAAKoe,cAAgBf,EAAiBrd,KAAMmC,EAAS,wBAAyB8b,GAG9Eje,KAAKqe,aAAc,EAGnBre,KAAKse,WAAY,EAEjBte,KAAKue,QAAS,EAEdve,KAAKwe,OAAQ,EAEbxe,KAAKye,UAAW,EAGhBze,KAAK0e,WAAY,EAKjB,IAAIC,GAAqC,IAA1Bxc,EAAQyc,cACvB5e,KAAK4e,eAAiBD,EAKtB3e,KAAK6e,gBAAkB1c,EAAQ0c,iBAAmB,OAKlD7e,KAAKnC,OAAS,EAGdmC,KAAK8e,SAAU,EAGf9e,KAAK+e,OAAS,EAMd/e,KAAKgf,MAAO,EAKZhf,KAAKif,kBAAmB,EAGxBjf,KAAKkf,QAAU,SAAU5Q,IAsQ3B,SAAiByH,EAAQzH,GACvB,IAAI4N,EAAQnG,EAAOoJ,eACfH,EAAO9C,EAAM8C,KACbxC,EAAKN,EAAMkD,QACf,GAAkB,mBAAP5C,EAAmB,MAAM,IAAIiB,EAExC,GAZF,SAA4BvB,GAC1BA,EAAM4C,SAAU,EAChB5C,EAAMkD,QAAU,KAChBlD,EAAMre,QAAUqe,EAAMmD,SACtBnD,EAAMmD,SAAW,CACnB,CAMEC,CAAmBpD,GACf5N,GAlCN,SAAsByH,EAAQmG,EAAO8C,EAAM1Q,EAAIkO,KAC3CN,EAAMQ,UACJsC,GAGFjY,EAAQkQ,SAASuF,EAAIlO,GAGrBvH,EAAQkQ,SAASsI,EAAaxJ,EAAQmG,GACtCnG,EAAOoJ,eAAeK,cAAe,EACrCzB,EAAehI,EAAQzH,KAIvBkO,EAAGlO,GACHyH,EAAOoJ,eAAeK,cAAe,EACrCzB,EAAehI,EAAQzH,GAGvBiR,EAAYxJ,EAAQmG,GAExB,CAaUuD,CAAa1J,EAAQmG,EAAO8C,EAAM1Q,EAAIkO,OAAS,CAErD,IAAIiC,EAAWiB,EAAWxD,IAAUnG,EAAO2I,UACtCD,GAAavC,EAAM6C,QAAW7C,EAAM+C,mBAAoB/C,EAAMyD,iBACjEC,EAAY7J,EAAQmG,GAElB8C,EACFjY,EAAQkQ,SAAS4I,EAAY9J,EAAQmG,EAAOuC,EAAUjC,GAEtDqD,EAAW9J,EAAQmG,EAAOuC,EAAUjC,EAExC,CACF,CAvRI0C,CAAQnJ,EAAQzH,EAClB,EAGAtO,KAAKof,QAAU,KAGfpf,KAAKqf,SAAW,EAChBrf,KAAK2f,gBAAkB,KACvB3f,KAAK8f,oBAAsB,KAI3B9f,KAAK0c,UAAY,EAIjB1c,KAAK+f,aAAc,EAGnB/f,KAAKwf,cAAe,EAGpBxf,KAAKggB,WAAkC,IAAtB7d,EAAQ6d,UAGzBhgB,KAAKigB,cAAgB9d,EAAQ8d,YAG7BjgB,KAAKkgB,qBAAuB,EAI5BlgB,KAAK4c,mBAAqB,IAAIX,EAAcjc,KAC9C,CAqCA,SAAS6c,EAAS1a,GAahB,IAAI8b,EAAWje,gBAZfgc,EAASA,GAAU,EAAQ,QAa3B,IAAKiC,IAAalB,EAAgBle,KAAKge,EAAU7c,MAAO,OAAO,IAAI6c,EAAS1a,GAC5EnC,KAAKmf,eAAiB,IAAIrC,EAAc3a,EAASnC,KAAMie,GAGvDje,KAAK0X,UAAW,EACZvV,IAC2B,mBAAlBA,EAAQwV,QAAsB3X,KAAKmgB,OAAShe,EAAQwV,OACjC,mBAAnBxV,EAAQie,SAAuBpgB,KAAKqgB,QAAUle,EAAQie,QAClC,mBAApBje,EAAQme,UAAwBtgB,KAAKugB,SAAWpe,EAAQme,SACtC,mBAAlBne,EAAQqe,QAAsBxgB,KAAKygB,OAASte,EAAQqe,QAEjEtD,EAAOre,KAAKmB,KACd,CAgIA,SAAS0gB,EAAQ3K,EAAQmG,EAAOkE,EAAQO,EAAK/I,EAAOgJ,EAAUpE,GAC5DN,EAAMmD,SAAWsB,EACjBzE,EAAMkD,QAAU5C,EAChBN,EAAM4C,SAAU,EAChB5C,EAAM8C,MAAO,EACT9C,EAAMwC,UAAWxC,EAAMgD,QAAQ,IAAIvB,EAAqB,UAAmByC,EAAQrK,EAAOsK,QAAQzI,EAAOsE,EAAMgD,SAAcnJ,EAAOoK,OAAOvI,EAAOgJ,EAAU1E,EAAMgD,SACtKhD,EAAM8C,MAAO,CACf,CAgDA,SAASa,EAAW9J,EAAQmG,EAAOuC,EAAUjC,GACtCiC,GASP,SAAsB1I,EAAQmG,GACP,IAAjBA,EAAMre,QAAgBqe,EAAMoC,YAC9BpC,EAAMoC,WAAY,EAClBvI,EAAOmB,KAAK,SAEhB,CAdiB2J,CAAa9K,EAAQmG,GACpCA,EAAMQ,YACNF,IACA+C,EAAYxJ,EAAQmG,EACtB,CAaA,SAAS0D,EAAY7J,EAAQmG,GAC3BA,EAAM+C,kBAAmB,EACzB,IAAI5C,EAAQH,EAAMyD,gBAClB,GAAI5J,EAAOsK,SAAWhE,GAASA,EAAMD,KAAM,CAEzC,IAAI5I,EAAI0I,EAAMgE,qBACVxG,EAAS,IAAI7V,MAAM2P,GACnBsN,EAAS5E,EAAMU,mBACnBkE,EAAOzE,MAAQA,EAGf,IAFA,IAAI0E,EAAQ,EACRC,GAAa,EACV3E,GACL3C,EAAOqH,GAAS1E,EACXA,EAAM4E,QAAOD,GAAa,GAC/B3E,EAAQA,EAAMD,KACd2E,GAAS,EAEXrH,EAAOsH,WAAaA,EACpBN,EAAQ3K,EAAQmG,GAAO,EAAMA,EAAMre,OAAQ6b,EAAQ,GAAIoH,EAAOxE,QAI9DJ,EAAMQ,YACNR,EAAM4D,oBAAsB,KACxBgB,EAAO1E,MACTF,EAAMU,mBAAqBkE,EAAO1E,KAClC0E,EAAO1E,KAAO,MAEdF,EAAMU,mBAAqB,IAAIX,EAAcC,GAE/CA,EAAMgE,qBAAuB,CAC/B,KAAO,CAEL,KAAO7D,GAAO,CACZ,IAAIzE,EAAQyE,EAAMzE,MACdgJ,EAAWvE,EAAMuE,SACjBpE,EAAKH,EAAMI,SASf,GAPAiE,EAAQ3K,EAAQmG,GAAO,EADbA,EAAMgC,WAAa,EAAItG,EAAM/Z,OACJ+Z,EAAOgJ,EAAUpE,GACpDH,EAAQA,EAAMD,KACdF,EAAMgE,uBAKFhE,EAAM4C,QACR,KAEJ,CACc,OAAVzC,IAAgBH,EAAM4D,oBAAsB,KAClD,CACA5D,EAAMyD,gBAAkBtD,EACxBH,EAAM+C,kBAAmB,CAC3B,CAoCA,SAASS,EAAWxD,GAClB,OAAOA,EAAMqC,QAA2B,IAAjBrC,EAAMre,QAA0C,OAA1Bqe,EAAMyD,kBAA6BzD,EAAMuC,WAAavC,EAAM4C,OAC3G,CACA,SAASoC,EAAUnL,EAAQmG,GACzBnG,EAAO0K,OAAO,SAAUlb,GACtB2W,EAAMQ,YACFnX,GACFwY,EAAehI,EAAQxQ,GAEzB2W,EAAM6D,aAAc,EACpBhK,EAAOmB,KAAK,aACZqI,EAAYxJ,EAAQmG,EACtB,EACF,CAaA,SAASqD,EAAYxJ,EAAQmG,GAC3B,IAAIiF,EAAOzB,EAAWxD,GACtB,GAAIiF,IAdN,SAAmBpL,EAAQmG,GACpBA,EAAM6D,aAAgB7D,EAAMmC,cACF,mBAAlBtI,EAAO0K,QAA0BvE,EAAMwC,WAKhDxC,EAAM6D,aAAc,EACpBhK,EAAOmB,KAAK,eALZgF,EAAMQ,YACNR,EAAMmC,aAAc,EACpBtX,EAAQkQ,SAASiK,EAAWnL,EAAQmG,IAM1C,CAIIkF,CAAUrL,EAAQmG,GACM,IAApBA,EAAMQ,YACRR,EAAMuC,UAAW,EACjB1I,EAAOmB,KAAK,UACRgF,EAAM+D,cAAa,CAGrB,IAAIoB,EAAStL,EAAOuL,iBACfD,GAAUA,EAAOpB,aAAeoB,EAAOE,aAC1CxL,EAAOuK,SAEX,CAGJ,OAAOa,CACT,CAxfA,EAAQ,MAAR,CAAoBtE,EAAUK,GA4G9BJ,EAAcpZ,UAAU8d,UAAY,WAGlC,IAFA,IAAIC,EAAUzhB,KAAK2f,gBACf+B,EAAM,GACHD,GACLC,EAAIrjB,KAAKojB,GACTA,EAAUA,EAAQrF,KAEpB,OAAOsF,CACT,EACA,WACE,IACEphB,OAAO6S,eAAe2J,EAAcpZ,UAAW,SAAU,CACvDhE,IAAKsd,EAAaC,UAAU,WAC1B,OAAOjd,KAAKwhB,WACd,EAAG,6EAAmF,YAE1F,CAAE,MAAOG,GAAI,CACd,CARD,GAasB,mBAAXC,QAAyBA,OAAOC,aAAiE,mBAA3CC,SAASpe,UAAUke,OAAOC,cACzF9E,EAAkB+E,SAASpe,UAAUke,OAAOC,aAC5CvhB,OAAO6S,eAAe0J,EAAU+E,OAAOC,YAAa,CAClDjiB,MAAO,SAAegD,GACpB,QAAIma,EAAgBle,KAAKmB,KAAM4C,IAC3B5C,OAAS6c,GACNja,GAAUA,EAAOuc,0BAA0BrC,CACpD,KAGFC,EAAkB,SAAyBna,GACzC,OAAOA,aAAkB5C,IAC3B,EA+BF6c,EAASnZ,UAAUqe,KAAO,WACxBhE,EAAe/d,KAAM,IAAI0d,EAC3B,EAyBAb,EAASnZ,UAAUiU,MAAQ,SAAUC,EAAOgJ,EAAUpE,GACpD,IAzNqBwF,EAyNjB9F,EAAQlc,KAAKmf,eACb8C,GAAM,EACNhB,GAAS/E,EAAMgC,aA3NE8D,EA2N0BpK,EA1NxCK,EAAOiK,SAASF,IAAQA,aAAe7E,GAwO9C,OAbI8D,IAAUhJ,EAAOiK,SAAStK,KAC5BA,EAhOJ,SAA6BA,GAC3B,OAAOK,EAAOC,KAAKN,EACrB,CA8NYuK,CAAoBvK,IAEN,mBAAbgJ,IACTpE,EAAKoE,EACLA,EAAW,MAETK,EAAOL,EAAW,SAAmBA,IAAUA,EAAW1E,EAAM2C,iBAClD,mBAAPrC,IAAmBA,EAAKwB,GAC/B9B,EAAMqC,OArCZ,SAAuBxI,EAAQyG,GAC7B,IAAIlO,EAAK,IAAIuP,EAEbE,EAAehI,EAAQzH,GACvBvH,EAAQkQ,SAASuF,EAAIlO,EACvB,CAgCoB8T,CAAcpiB,KAAMwc,IAAayE,GA3BrD,SAAoBlL,EAAQmG,EAAOtE,EAAO4E,GACxC,IAAIlO,EAMJ,OALc,OAAVsJ,EACFtJ,EAAK,IAAIsP,EACiB,iBAAVhG,GAAuBsE,EAAMgC,aAC7C5P,EAAK,IAAIiP,EAAqB,QAAS,CAAC,SAAU,UAAW3F,KAE3DtJ,IACFyP,EAAehI,EAAQzH,GACvBvH,EAAQkQ,SAASuF,EAAIlO,IACd,EAGX,CAc8D+T,CAAWriB,KAAMkc,EAAOtE,EAAO4E,MACzFN,EAAMQ,YACNuF,EAiDJ,SAAuBlM,EAAQmG,EAAO+E,EAAOrJ,EAAOgJ,EAAUpE,GAC5D,IAAKyE,EAAO,CACV,IAAIqB,EArBR,SAAqBpG,EAAOtE,EAAOgJ,GAIjC,OAHK1E,EAAMgC,aAAsC,IAAxBhC,EAAM0C,eAA4C,iBAAVhH,IAC/DA,EAAQK,EAAOC,KAAKN,EAAOgJ,IAEtBhJ,CACT,CAgBmB2K,CAAYrG,EAAOtE,EAAOgJ,GACrChJ,IAAU0K,IACZrB,GAAQ,EACRL,EAAW,SACXhJ,EAAQ0K,EAEZ,CACA,IAAI3B,EAAMzE,EAAMgC,WAAa,EAAItG,EAAM/Z,OACvCqe,EAAMre,QAAU8iB,EAChB,IAAIsB,EAAM/F,EAAMre,OAASqe,EAAMkC,cAG/B,GADK6D,IAAK/F,EAAMoC,WAAY,GACxBpC,EAAM4C,SAAW5C,EAAM6C,OAAQ,CACjC,IAAIyD,EAAOtG,EAAM4D,oBACjB5D,EAAM4D,oBAAsB,CAC1BlI,MAAOA,EACPgJ,SAAUA,EACVK,MAAOA,EACPxE,SAAUD,EACVJ,KAAM,MAEJoG,EACFA,EAAKpG,KAAOF,EAAM4D,oBAElB5D,EAAMyD,gBAAkBzD,EAAM4D,oBAEhC5D,EAAMgE,sBAAwB,CAChC,MACEQ,EAAQ3K,EAAQmG,GAAO,EAAOyE,EAAK/I,EAAOgJ,EAAUpE,GAEtD,OAAOyF,CACT,CAlFUQ,CAAcziB,KAAMkc,EAAO+E,EAAOrJ,EAAOgJ,EAAUpE,IAEpDyF,CACT,EACApF,EAASnZ,UAAUgf,KAAO,WACxB1iB,KAAKmf,eAAeJ,QACtB,EACAlC,EAASnZ,UAAUif,OAAS,WAC1B,IAAIzG,EAAQlc,KAAKmf,eACbjD,EAAM6C,SACR7C,EAAM6C,SACD7C,EAAM4C,SAAY5C,EAAM6C,QAAW7C,EAAM+C,mBAAoB/C,EAAMyD,iBAAiBC,EAAY5f,KAAMkc,GAE/G,EACAW,EAASnZ,UAAUkf,mBAAqB,SAA4BhC,GAGlE,GADwB,iBAAbA,IAAuBA,EAAWA,EAASnJ,iBAChD,CAAC,MAAO,OAAQ,QAAS,QAAS,SAAU,SAAU,OAAQ,QAAS,UAAW,WAAY,OAAOvS,SAAS0b,EAAW,IAAInJ,gBAAkB,GAAI,MAAM,IAAIqG,EAAqB8C,GAExL,OADA5gB,KAAKmf,eAAeN,gBAAkB+B,EAC/B5gB,IACT,EACAM,OAAO6S,eAAe0J,EAASnZ,UAAW,iBAAkB,CAI1Dmf,YAAY,EACZnjB,IAAK,WACH,OAAOM,KAAKmf,gBAAkBnf,KAAKmf,eAAeqC,WACpD,IAQFlhB,OAAO6S,eAAe0J,EAASnZ,UAAW,wBAAyB,CAIjEmf,YAAY,EACZnjB,IAAK,WACH,OAAOM,KAAKmf,eAAef,aAC7B,IAuKFvB,EAASnZ,UAAUyc,OAAS,SAAUvI,EAAOgJ,EAAUpE,GACrDA,EAAG,IAAIgB,EAA2B,YACpC,EACAX,EAASnZ,UAAU2c,QAAU,KAC7BxD,EAASnZ,UAAU2X,IAAM,SAAUzD,EAAOgJ,EAAUpE,GAClD,IAAIN,EAAQlc,KAAKmf,eAmBjB,MAlBqB,mBAAVvH,GACT4E,EAAK5E,EACLA,EAAQ,KACRgJ,EAAW,MACkB,mBAAbA,IAChBpE,EAAKoE,EACLA,EAAW,MAEThJ,SAAuC5X,KAAK2X,MAAMC,EAAOgJ,GAGzD1E,EAAM6C,SACR7C,EAAM6C,OAAS,EACf/e,KAAK2iB,UAIFzG,EAAMqC,QAyDb,SAAqBxI,EAAQmG,EAAOM,GAClCN,EAAMqC,QAAS,EACfgB,EAAYxJ,EAAQmG,GAChBM,IACEN,EAAMuC,SAAU1X,EAAQkQ,SAASuF,GAASzG,EAAO+M,KAAK,SAAUtG,IAEtEN,EAAMsC,OAAQ,EACdzI,EAAO2B,UAAW,CACpB,CAjEqBqL,CAAY/iB,KAAMkc,EAAOM,GACrCxc,IACT,EACAM,OAAO6S,eAAe0J,EAASnZ,UAAW,iBAAkB,CAI1Dmf,YAAY,EACZnjB,IAAK,WACH,OAAOM,KAAKmf,eAAethB,MAC7B,IAqEFyC,OAAO6S,eAAe0J,EAASnZ,UAAW,YAAa,CAIrDmf,YAAY,EACZnjB,IAAK,WACH,YAA4BwD,IAAxBlD,KAAKmf,gBAGFnf,KAAKmf,eAAeT,SAC7B,EACA/e,IAAK,SAAaC,GAGXI,KAAKmf,iBAMVnf,KAAKmf,eAAeT,UAAY9e,EAClC,IAEFid,EAASnZ,UAAU4c,QAAUlD,EAAYkD,QACzCzD,EAASnZ,UAAUsf,WAAa5F,EAAY6F,UAC5CpG,EAASnZ,UAAU6c,SAAW,SAAUhb,EAAKiX,GAC3CA,EAAGjX,EACL,C,cChoBA,M,WACE,WAG+CnG,GAC9CA,EAAQ8jB,SACoC/jB,GAC5CA,EAAO+jB,SAHT,IAIIC,EAA8B,iBAAV,YAAsB,WAE7CA,EAAWC,SAAWD,GACtBA,EAAWnT,SAAWmT,GACtBA,EAAWzM,KAUZ,IAAI2M,EAGJC,EAAS,WAGTrV,EAAO,GAUPsV,EAAgB,QAChBC,EAAgB,eAChBC,EAAkB,4BAGlBC,EAAS,CACR,SAAY,kDACZ,YAAa,iDACb,gBAAiB,iBAKlBC,EAAQC,KAAKD,MACbE,EAAqBhJ,OAAOiJ,aAa5B,SAASzc,EAAMiL,GACd,MAAM,IAAIyR,WAAWL,EAAOpR,GAC7B,CAUA,SAASlF,EAAI4W,EAAOC,GAGnB,IAFA,IAAIpmB,EAASmmB,EAAMnmB,OACfkF,EAAS,GACNlF,KACNkF,EAAOlF,GAAUomB,EAAGD,EAAMnmB,IAE3B,OAAOkF,CACR,CAYA,SAASmhB,EAAUC,EAAQF,GAC1B,IAAIzlB,EAAQ2lB,EAAO1lB,MAAM,KACrBsE,EAAS,GAWb,OAVIvE,EAAMX,OAAS,IAGlBkF,EAASvE,EAAM,GAAK,IACpB2lB,EAAS3lB,EAAM,IAMTuE,EADOqK,GAFd+W,EAASA,EAAOjmB,QAAQulB,EAAiB,MACrBhlB,MAAM,KACAwlB,GAAI1lB,KAAK,IAEpC,CAeA,SAAS6lB,EAAWD,GAMnB,IALA,IAGIvkB,EACAykB,EAJAC,EAAS,GACTC,EAAU,EACV1mB,EAASsmB,EAAOtmB,OAGb0mB,EAAU1mB,IAChB+B,EAAQukB,EAAOvK,WAAW2K,OACb,OAAU3kB,GAAS,OAAU2kB,EAAU1mB,EAG3B,QAAX,OADbwmB,EAAQF,EAAOvK,WAAW2K,OAEzBD,EAAOjmB,OAAe,KAARuB,IAAkB,KAAe,KAARykB,GAAiB,QAIxDC,EAAOjmB,KAAKuB,GACZ2kB,KAGDD,EAAOjmB,KAAKuB,GAGd,OAAO0kB,CACR,CAUA,SAASE,EAAWR,GACnB,OAAO5W,EAAI4W,EAAO,SAASpkB,GAC1B,IAAI0kB,EAAS,GAOb,OANI1kB,EAAQ,QAEX0kB,GAAUT,GADVjkB,GAAS,SAC8B,GAAK,KAAQ,OACpDA,EAAQ,MAAiB,KAARA,GAElB0kB,EAAUT,EAAmBjkB,EAE9B,GAAGrB,KAAK,GACT,CAWA,SAASkmB,EAAaC,GACrB,OAAIA,EAAY,GAAK,GACbA,EAAY,GAEhBA,EAAY,GAAK,GACbA,EAAY,GAEhBA,EAAY,GAAK,GACbA,EAAY,GAEbzW,CACR,CAaA,SAAS0W,EAAaC,EAAOC,GAG5B,OAAOD,EAAQ,GAAK,IAAMA,EAAQ,MAAgB,GAARC,IAAc,EACzD,CAOA,SAASC,EAAMC,EAAOC,EAAWC,GAChC,IAAIC,EAAI,EAGR,IAFAH,EAAQE,EAAYtB,EAAMoB,EA1LpB,KA0LoCA,GAAS,EACnDA,GAASpB,EAAMoB,EAAQC,GACOD,EAAQI,IAA2BD,GAAKjX,EACrE8W,EAAQpB,EAAMoB,EA3KA9W,IA6Kf,OAAO0V,EAAMuB,EAAI,GAAsBH,GAASA,EAhM1C,IAiMP,CASA,SAASK,EAAOC,GAEf,IAEI3D,EAIA4D,EACA5gB,EACAsF,EACAub,EACAC,EACAN,EACAN,EACAxb,EAEAqc,EAfAnB,EAAS,GACToB,EAAcL,EAAMxnB,OAEpBM,EAAI,EACJwnB,EA7MM,IA8MNC,EA/MS,GAoOb,KALAN,EAAQD,EAAMQ,YA7NH,MA8NC,IACXP,EAAQ,GAGJ5gB,EAAI,EAAGA,EAAI4gB,IAAS5gB,EAEpB2gB,EAAMzL,WAAWlV,IAAM,KAC1B2C,EAAM,aAEPid,EAAOjmB,KAAKgnB,EAAMzL,WAAWlV,IAM9B,IAAKsF,EAAQsb,EAAQ,EAAIA,EAAQ,EAAI,EAAGtb,EAAQ0b,GAAwC,CAOvF,IAAKH,EAAOpnB,EAAGqnB,EAAI,EAAGN,EAAIjX,EAErBjE,GAAS0b,GACZre,EAAM,mBAGPud,EAAQH,EAAaY,EAAMzL,WAAW5P,QAEzBiE,GAAQ2W,EAAQjB,GAAOL,EAASnlB,GAAKqnB,KACjDne,EAAM,YAGPlJ,GAAKymB,EAAQY,IAGTZ,GAFJxb,EAAI8b,GAAKU,EAvQL,EAuQoBV,GAAKU,EAtQzB,MAsQ8CV,EAAIU,IAbHV,GAAKjX,EAoBpDuX,EAAI7B,EAAML,GADdmC,EAAaxX,EAAO7E,KAEnB/B,EAAM,YAGPme,GAAKC,EAKNG,EAAOd,EAAM3mB,EAAIonB,EADjB7D,EAAM4C,EAAOzmB,OAAS,EACc,GAAR0nB,GAIxB5B,EAAMxlB,EAAIujB,GAAO4B,EAASqC,GAC7Bte,EAAM,YAGPse,GAAKhC,EAAMxlB,EAAIujB,GACfvjB,GAAKujB,EAGL4C,EAAOwB,OAAO3nB,IAAK,EAAGwnB,EAEvB,CAEA,OAAOnB,EAAWF,EACnB,CASA,SAASyB,EAAOV,GACf,IAAIM,EACAZ,EACAiB,EACAC,EACAL,EACAlhB,EACAiI,EACAuZ,EACAhB,EACA9b,EACA+c,EAGAT,EAEAU,EACAX,EACAY,EANA/B,EAAS,GAoBb,IARAoB,GAHAL,EAAQjB,EAAWiB,IAGCxnB,OAGpB8nB,EAvUU,IAwUVZ,EAAQ,EACRa,EA1Ua,GA6URlhB,EAAI,EAAGA,EAAIghB,IAAehhB,GAC9ByhB,EAAed,EAAM3gB,IACF,KAClB4f,EAAOjmB,KAAKwlB,EAAmBsC,IAejC,IAXAH,EAAiBC,EAAc3B,EAAOzmB,OAMlCooB,GACH3B,EAAOjmB,KAzVG,KA6VJ2nB,EAAiBN,GAAa,CAIpC,IAAK/Y,EAAI2W,EAAQ5e,EAAI,EAAGA,EAAIghB,IAAehhB,GAC1CyhB,EAAed,EAAM3gB,KACDihB,GAAKQ,EAAexZ,IACvCA,EAAIwZ,GAcN,IAPIxZ,EAAIgZ,EAAIhC,GAAOL,EAASyB,IAD5BqB,EAAwBJ,EAAiB,KAExC3e,EAAM,YAGP0d,IAAUpY,EAAIgZ,GAAKS,EACnBT,EAAIhZ,EAECjI,EAAI,EAAGA,EAAIghB,IAAehhB,EAO9B,IANAyhB,EAAed,EAAM3gB,IAEFihB,KAAOZ,EAAQzB,GACjCjc,EAAM,YAGH8e,GAAgBR,EAAG,CAEtB,IAAKO,EAAInB,EAAOG,EAAIjX,IAEfiY,GADJ9c,EAAI8b,GAAKU,EAlYP,EAkYsBV,GAAKU,EAjY3B,MAiYgDV,EAAIU,IADTV,GAAKjX,EAKlDoY,EAAUH,EAAI9c,EACdqc,EAAaxX,EAAO7E,EACpBkb,EAAOjmB,KACNwlB,EAAmBc,EAAavb,EAAIid,EAAUZ,EAAY,KAE3DS,EAAIvC,EAAM0C,EAAUZ,GAGrBnB,EAAOjmB,KAAKwlB,EAAmBc,EAAauB,EAAG,KAC/CN,EAAOd,EAAMC,EAAOqB,EAAuBJ,GAAkBC,GAC7DlB,EAAQ,IACNiB,CACH,GAGCjB,IACAY,CAEH,CACA,OAAOrB,EAAO/lB,KAAK,GACpB,CA2CA8kB,EAAW,CAMV,QAAW,QAQX,KAAQ,CACP,OAAUe,EACV,OAAUI,GAEX,OAAUY,EACV,OAAUW,EACV,QA/BD,SAAiBV,GAChB,OAAOnB,EAAUmB,EAAO,SAASlB,GAChC,OAAOX,EAActc,KAAKid,GACvB,OAAS4B,EAAO5B,GAChBA,CACJ,EACD,EA0BC,UAnDD,SAAmBkB,GAClB,OAAOnB,EAAUmB,EAAO,SAASlB,GAChC,OAAOZ,EAAcrc,KAAKid,GACvBiB,EAAOjB,EAAOvlB,MAAM,GAAG6Y,eACvB0M,CACJ,EACD,QA0DE,KAFD,aACC,OAAOd,CACP,+BAgBH,CAnhBC,E,4BCCD,SAASiD,EAAQ1jB,EAAQ2jB,GAAkB,IAAIhmB,EAAOD,OAAOC,KAAKqC,GAAS,GAAItC,OAAOkmB,sBAAuB,CAAE,IAAIC,EAAUnmB,OAAOkmB,sBAAsB5jB,GAAS2jB,IAAmBE,EAAUA,EAAQxgB,OAAO,SAAUygB,GAAO,OAAOpmB,OAAOqmB,yBAAyB/jB,EAAQ8jB,GAAK7D,UAAY,IAAKtiB,EAAKlC,KAAKuoB,MAAMrmB,EAAMkmB,EAAU,CAAE,OAAOlmB,CAAM,CACpV,SAASsmB,EAAcC,GAAU,IAAK,IAAI3oB,EAAI,EAAGA,EAAIQ,UAAUd,OAAQM,IAAK,CAAE,IAAI4oB,EAAS,MAAQpoB,UAAUR,GAAKQ,UAAUR,GAAK,CAAC,EAAGA,EAAI,EAAImoB,EAAQhmB,OAAOymB,IAAS,GAAIxP,QAAQ,SAAU/X,GAAOwnB,EAAgBF,EAAQtnB,EAAKunB,EAAOvnB,GAAO,GAAKc,OAAO2mB,0BAA4B3mB,OAAO4mB,iBAAiBJ,EAAQxmB,OAAO2mB,0BAA0BF,IAAWT,EAAQhmB,OAAOymB,IAASxP,QAAQ,SAAU/X,GAAOc,OAAO6S,eAAe2T,EAAQtnB,EAAKc,OAAOqmB,yBAAyBI,EAAQvnB,GAAO,EAAI,CAAE,OAAOsnB,CAAQ,CACzf,SAASE,EAAgBhF,EAAKxiB,EAAKI,GAA4L,OAAnLJ,EAAM2nB,EAAe3nB,MAAiBwiB,EAAO1hB,OAAO6S,eAAe6O,EAAKxiB,EAAK,CAAEI,MAAOA,EAAOijB,YAAY,EAAMuE,cAAc,EAAM1P,UAAU,IAAkBsK,EAAIxiB,GAAOI,EAAgBoiB,CAAK,CAE3O,SAASqF,EAAkBP,EAAQ/U,GAAS,IAAK,IAAI5T,EAAI,EAAGA,EAAI4T,EAAMlU,OAAQM,IAAK,CAAE,IAAImpB,EAAavV,EAAM5T,GAAImpB,EAAWzE,WAAayE,EAAWzE,aAAc,EAAOyE,EAAWF,cAAe,EAAU,UAAWE,IAAYA,EAAW5P,UAAW,GAAMpX,OAAO6S,eAAe2T,EAAQK,EAAeG,EAAW9nB,KAAM8nB,EAAa,CAAE,CAE5U,SAASH,EAAeI,GAAO,IAAI/nB,EACnC,SAAsB6lB,GAAe,GAAqB,iBAAVA,GAAgC,OAAVA,EAAgB,OAAOA,EAAO,IAAImC,EAAOnC,EAAMzD,OAAO6F,aAAc,QAAavkB,IAATskB,EAAoB,CAAE,IAAIE,EAAMF,EAAK3oB,KAAKwmB,EAAOsC,UAAoB,GAAmB,iBAARD,EAAkB,OAAOA,EAAK,MAAM,IAAI5pB,UAAU,+CAAiD,CAAE,OAA4B+c,OAAiBwK,EAAQ,CAD/UuC,CAAaL,GAAgB,MAAsB,iBAAR/nB,EAAmBA,EAAMqb,OAAOrb,EAAM,CAE1H,IACEyY,EADa,EAAQ,MACHA,OAElBlZ,EADc,EAAQ,OACFA,QAClB8oB,EAAS9oB,GAAWA,EAAQ8oB,QAAU,UAC1C,SAASC,EAAWze,EAAKyd,EAAQzV,GAC/B4G,EAAOvU,UAAUqkB,KAAKlpB,KAAKwK,EAAKyd,EAAQzV,EAC1C,CACAlS,EAAOC,QAAuB,WAC5B,SAAS4oB,KAdX,SAAyBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIpqB,UAAU,oCAAwC,CAepJqqB,CAAgBnoB,KAAMgoB,GACtBhoB,KAAKooB,KAAO,KACZpoB,KAAKqoB,KAAO,KACZroB,KAAKnC,OAAS,CAChB,CAjBF,IAAsBqqB,EAAaI,EA8KjC,OA9KoBJ,EAkBPF,GAlBoBM,EAkBR,CAAC,CACxB9oB,IAAK,OACLI,MAAO,SAAc4O,GACnB,IAAI6N,EAAQ,CACV/V,KAAMkI,EACN4N,KAAM,MAEJpc,KAAKnC,OAAS,EAAGmC,KAAKqoB,KAAKjM,KAAOC,EAAWrc,KAAKooB,KAAO/L,EAC7Drc,KAAKqoB,KAAOhM,IACVrc,KAAKnC,MACT,GACC,CACD2B,IAAK,UACLI,MAAO,SAAiB4O,GACtB,IAAI6N,EAAQ,CACV/V,KAAMkI,EACN4N,KAAMpc,KAAKooB,MAEO,IAAhBpoB,KAAKnC,SAAcmC,KAAKqoB,KAAOhM,GACnCrc,KAAKooB,KAAO/L,IACVrc,KAAKnC,MACT,GACC,CACD2B,IAAK,QACLI,MAAO,WACL,GAAoB,IAAhBI,KAAKnC,OAAT,CACA,IAAIokB,EAAMjiB,KAAKooB,KAAK9hB,KAGpB,OAFoB,IAAhBtG,KAAKnC,OAAcmC,KAAKooB,KAAOpoB,KAAKqoB,KAAO,KAAUroB,KAAKooB,KAAOpoB,KAAKooB,KAAKhM,OAC7Epc,KAAKnC,OACAokB,CAJsB,CAK/B,GACC,CACDziB,IAAK,QACLI,MAAO,WACLI,KAAKooB,KAAOpoB,KAAKqoB,KAAO,KACxBroB,KAAKnC,OAAS,CAChB,GACC,CACD2B,IAAK,OACLI,MAAO,SAAc2oB,GACnB,GAAoB,IAAhBvoB,KAAKnC,OAAc,MAAO,GAG9B,IAFA,IAAI2qB,EAAIxoB,KAAKooB,KACTnG,EAAM,GAAKuG,EAAEliB,KACVkiB,EAAIA,EAAEpM,MAAM6F,GAAOsG,EAAIC,EAAEliB,KAChC,OAAO2b,CACT,GACC,CACDziB,IAAK,SACLI,MAAO,SAAgB+lB,GACrB,GAAoB,IAAhB3lB,KAAKnC,OAAc,OAAOoa,EAAO0B,MAAM,GAI3C,IAHA,IAAIsI,EAAMhK,EAAOwQ,YAAY9C,IAAM,GAC/B6C,EAAIxoB,KAAKooB,KACTjqB,EAAI,EACDqqB,GACLV,EAAWU,EAAEliB,KAAM2b,EAAK9jB,GACxBA,GAAKqqB,EAAEliB,KAAKzI,OACZ2qB,EAAIA,EAAEpM,KAER,OAAO6F,CACT,GAGC,CACDziB,IAAK,UACLI,MAAO,SAAiB+lB,EAAG+C,GACzB,IAAIzG,EAYJ,OAXI0D,EAAI3lB,KAAKooB,KAAK9hB,KAAKzI,QAErBokB,EAAMjiB,KAAKooB,KAAK9hB,KAAK1H,MAAM,EAAG+mB,GAC9B3lB,KAAKooB,KAAK9hB,KAAOtG,KAAKooB,KAAK9hB,KAAK1H,MAAM+mB,IAGtC1D,EAFS0D,IAAM3lB,KAAKooB,KAAK9hB,KAAKzI,OAExBmC,KAAK/B,QAGLyqB,EAAa1oB,KAAK2oB,WAAWhD,GAAK3lB,KAAK4oB,WAAWjD,GAEnD1D,CACT,GACC,CACDziB,IAAK,QACLI,MAAO,WACL,OAAOI,KAAKooB,KAAK9hB,IACnB,GAGC,CACD9G,IAAK,aACLI,MAAO,SAAoB+lB,GACzB,IAAI6C,EAAIxoB,KAAKooB,KACTS,EAAI,EACJ5G,EAAMuG,EAAEliB,KAEZ,IADAqf,GAAK1D,EAAIpkB,OACF2qB,EAAIA,EAAEpM,MAAM,CACjB,IAAI9d,EAAMkqB,EAAEliB,KACRwiB,EAAKnD,EAAIrnB,EAAIT,OAASS,EAAIT,OAAS8nB,EAGvC,GAFImD,IAAOxqB,EAAIT,OAAQokB,GAAO3jB,EAAS2jB,GAAO3jB,EAAIM,MAAM,EAAG+mB,GAEjD,KADVA,GAAKmD,GACQ,CACPA,IAAOxqB,EAAIT,UACXgrB,EACEL,EAAEpM,KAAMpc,KAAKooB,KAAOI,EAAEpM,KAAUpc,KAAKooB,KAAOpoB,KAAKqoB,KAAO,OAE5DroB,KAAKooB,KAAOI,EACZA,EAAEliB,KAAOhI,EAAIM,MAAMkqB,IAErB,KACF,GACED,CACJ,CAEA,OADA7oB,KAAKnC,QAAUgrB,EACR5G,CACT,GAGC,CACDziB,IAAK,aACLI,MAAO,SAAoB+lB,GACzB,IAAI1D,EAAMhK,EAAOwQ,YAAY9C,GACzB6C,EAAIxoB,KAAKooB,KACTS,EAAI,EAGR,IAFAL,EAAEliB,KAAKyhB,KAAK9F,GACZ0D,GAAK6C,EAAEliB,KAAKzI,OACL2qB,EAAIA,EAAEpM,MAAM,CACjB,IAAI2M,EAAMP,EAAEliB,KACRwiB,EAAKnD,EAAIoD,EAAIlrB,OAASkrB,EAAIlrB,OAAS8nB,EAGvC,GAFAoD,EAAIhB,KAAK9F,EAAKA,EAAIpkB,OAAS8nB,EAAG,EAAGmD,GAEvB,KADVnD,GAAKmD,GACQ,CACPA,IAAOC,EAAIlrB,UACXgrB,EACEL,EAAEpM,KAAMpc,KAAKooB,KAAOI,EAAEpM,KAAUpc,KAAKooB,KAAOpoB,KAAKqoB,KAAO,OAE5DroB,KAAKooB,KAAOI,EACZA,EAAEliB,KAAOyiB,EAAInqB,MAAMkqB,IAErB,KACF,GACED,CACJ,CAEA,OADA7oB,KAAKnC,QAAUgrB,EACR5G,CACT,GAGC,CACDziB,IAAKqoB,EACLjoB,MAAO,SAAe+hB,EAAGxf,GACvB,OAAOpD,EAAQiB,KAAM6mB,EAAcA,EAAc,CAAC,EAAG1kB,GAAU,CAAC,EAAG,CAEjE6mB,MAAO,EAEPC,eAAe,IAEnB,MA5K0E5B,EAAkBa,EAAYxkB,UAAW4kB,GAA2EhoB,OAAO6S,eAAe+U,EAAa,YAAa,CAAExQ,UAAU,IA8KrPsQ,CACT,CApK8B,E,2FCdvB7X,eAAe+Y,EAAiBtjB,EAASujB,EAAUhnB,EAAU,CAAC,GACjE,MAAMinB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWF,IAC3CG,OAAQ,WACT1jB,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,GAC/C,KACI,QAAmBA,EAASP,EAChC,CACA,MAAOE,GAEH,MADcA,CAElB,CAIA,MAAO,CACHgkB,YAJclkB,EAASmB,QAAQ9G,IAAI,QAAU,IACpBjB,MAAM,KAAK2O,IAAIzI,GAAQA,EAAKiI,QAIrD4c,OAHWnkB,EAASmB,QAAQ9G,IAAI,WAAa,GAKrD,C,eCxBA,IAAI+pB,EAAO,EAAQ,OACfrS,EAAM,EAAQ,OAEdsS,EAAQvqB,EAAOC,QAEnB,IAAK,IAAII,KAAOiqB,EACVA,EAAKxlB,eAAezE,KAAMkqB,EAAMlqB,GAAOiqB,EAAKjqB,IAalD,SAASmqB,EAAgBC,GAOvB,GANsB,iBAAXA,IACTA,EAASxS,EAAIhJ,MAAMwb,IAEhBA,EAAOC,WACVD,EAAOC,SAAW,UAEI,WAApBD,EAAOC,SACT,MAAM,IAAIrkB,MAAM,aAAeokB,EAAOC,SAAW,sCAEnD,OAAOD,CACT,CArBAF,EAAMI,QAAU,SAAUF,EAAQpN,GAEhC,OADAoN,EAASD,EAAeC,GACjBH,EAAKK,QAAQjrB,KAAKmB,KAAM4pB,EAAQpN,EACzC,EAEAkN,EAAMhqB,IAAM,SAAUkqB,EAAQpN,GAE5B,OADAoN,EAASD,EAAeC,GACjBH,EAAK/pB,IAAIb,KAAKmB,KAAM4pB,EAAQpN,EACrC,C,6CCfO,SAASuN,IACZ,MAHS,QAIb,C,eCJA,IAAIC,EAAgB,EAAQ,OACxB3kB,EAAW,EAAQ,MACnBqL,EAAS,EAAQ,OACjBuZ,EAAc,EAAQ,OACtB7S,EAAM,EAAQ,OAEdqS,EAAOrqB,EAEXqqB,EAAKK,QAAU,SAAUI,EAAM1N,GAE7B0N,EADmB,iBAATA,EACH9S,EAAIhJ,MAAM8b,GAEVxZ,EAAOwZ,GAKf,IAAIC,GAAoE,IAAlD,WAAOC,SAASP,SAASQ,OAAO,aAAsB,QAAU,GAElFR,EAAWK,EAAKL,UAAYM,EAC5BG,EAAOJ,EAAKK,UAAYL,EAAKI,KAC7BE,EAAON,EAAKM,KACZC,EAAOP,EAAKO,MAAQ,IAGpBH,IAA+B,IAAvBA,EAAKplB,QAAQ,OACxBolB,EAAO,IAAMA,EAAO,KAGrBJ,EAAK9S,KAAOkT,EAAQT,EAAW,KAAOS,EAAQ,KAAOE,EAAO,IAAMA,EAAO,IAAMC,EAC/EP,EAAKZ,QAAUY,EAAKZ,QAAU,OAAOoB,cACrCR,EAAK1jB,QAAU0jB,EAAK1jB,SAAW,CAAC,EAIhC,IAAImkB,EAAM,IAAIX,EAAcE,GAG5B,OAFI1N,GACHmO,EAAI3T,GAAG,WAAYwF,GACbmO,CACR,EAEAlB,EAAK/pB,IAAM,SAAcwqB,EAAM1N,GAC9B,IAAImO,EAAMlB,EAAKK,QAAQI,EAAM1N,GAE7B,OADAmO,EAAItP,MACGsP,CACR,EAEAlB,EAAKO,cAAgBA,EACrBP,EAAKlT,gBAAkBlR,EAASkR,gBAEhCkT,EAAKmB,MAAQ,WAAa,EAC1BnB,EAAKmB,MAAMC,kBAAoB,EAE/BpB,EAAKqB,YAAc,IAAIrB,EAAKmB,MAE5BnB,EAAKsB,aAAed,EAEpBR,EAAKuB,QAAU,CACd,WACA,UACA,OACA,SACA,MACA,OACA,OACA,WACA,QACA,aACA,QACA,OACA,SACA,UACA,QACA,OACA,WACA,YACA,QACA,MACA,SACA,SACA,YACA,QACA,SACA,c,4BCjFD,IAAIC,EAAwB,WAAiCA,sBAiB7D9rB,EAAOC,QAAU,CACfie,iBAdF,SAA0BnB,EAAO/Z,EAAS+oB,EAAWjN,GACnD,IAAIkN,EAJN,SAA2BhpB,EAAS8b,EAAUiN,GAC5C,OAAgC,MAAzB/oB,EAAQic,cAAwBjc,EAAQic,cAAgBH,EAAW9b,EAAQ+oB,GAAa,IACjG,CAEYE,CAAkBjpB,EAAS8b,EAAUiN,GAC/C,GAAW,MAAPC,EAAa,CACf,IAAME,SAASF,IAAQvH,KAAKD,MAAMwH,KAASA,GAAQA,EAAM,EAEvD,MAAM,IAAIF,EADChN,EAAWiN,EAAY,gBACIC,GAExC,OAAOvH,KAAKD,MAAMwH,EACpB,CAGA,OAAOjP,EAAMgC,WAAa,GAAK,KACjC,E,2CCIIoN,EAAO,EAAQ,OACfC,EAAW,SAAUC,GACvB,MAAoB,iBAANA,CAChB,EAOA,SAASC,EAAejtB,EAAOktB,GAE7B,IADA,IAAIhE,EAAM,GACDvpB,EAAI,EAAGA,EAAIK,EAAMX,OAAQM,IAAK,CACrC,IAAIqqB,EAAIhqB,EAAML,GAGTqqB,GAAW,MAANA,IAGA,OAANA,EACEd,EAAI7pB,QAAkC,OAAxB6pB,EAAIA,EAAI7pB,OAAS,GACjC6pB,EAAI3L,MACK2P,GACThE,EAAIrpB,KAAK,MAGXqpB,EAAIrpB,KAAKmqB,GAEb,CAEA,OAAOd,CACT,CAIA,IAAIiE,EACA,gEACAC,EAAQ,CAAC,EAGb,SAASC,EAAe1lB,GACtB,OAAOwlB,EAAYG,KAAK3lB,GAAUvH,MAAM,EAC1C,CAKAgtB,EAAM9T,QAAU,WAId,IAHA,IAAIiU,EAAe,GACfC,GAAmB,EAEd7tB,EAAIQ,UAAUd,OAAS,EAAGM,IAAM,IAAM6tB,EAAkB7tB,IAAK,CACpE,IAAIssB,EAAQtsB,GAAK,EAAKQ,UAAUR,GAAK4I,EAAQklB,MAG7C,IAAKV,EAASd,GACZ,MAAM,IAAI3sB,UAAU,6CACV2sB,IAIZsB,EAAetB,EAAO,IAAMsB,EAC5BC,EAAsC,MAAnBvB,EAAKyB,OAAO,GACjC,CASA,OAASF,EAAmB,IAAM,KAHlCD,EAAeN,EAAeM,EAAattB,MAAM,MAClButB,GAAkBztB,KAAK,OAEG,GAC3D,EAIAqtB,EAAMltB,UAAY,SAAS+rB,GACzB,IAAI0B,EAAaP,EAAMO,WAAW1B,GAC9B2B,EAAoC,MAApB3B,EAAKhnB,QAAQ,GAYjC,OATAgnB,EAAOgB,EAAehB,EAAKhsB,MAAM,MAAO0tB,GAAY5tB,KAAK,OAE3C4tB,IACZ1B,EAAO,KAELA,GAAQ2B,IACV3B,GAAQ,MAGF0B,EAAa,IAAM,IAAM1B,CACnC,EAGAmB,EAAMO,WAAa,SAAS1B,GAC1B,MAA0B,MAAnBA,EAAKyB,OAAO,EACrB,EAGAN,EAAMrtB,KAAO,WAEX,IADA,IAAIksB,EAAO,GACFtsB,EAAI,EAAGA,EAAIQ,UAAUd,OAAQM,IAAK,CACzC,IAAIkuB,EAAU1tB,UAAUR,GACxB,IAAKotB,EAASc,GACZ,MAAM,IAAIvuB,UAAU,0CAElBuuB,IAIA5B,GAHGA,EAGK,IAAM4B,EAFNA,EAKd,CACA,OAAOT,EAAMltB,UAAU+rB,EACzB,EAKAmB,EAAMU,SAAW,SAASpU,EAAMqU,GAI9B,SAAS3f,EAAK4f,GAEZ,IADA,IAAIpR,EAAQ,EACLA,EAAQoR,EAAI3uB,QACE,KAAf2uB,EAAIpR,GADiBA,KAK3B,IADA,IAAIC,EAAMmR,EAAI3uB,OAAS,EAChBwd,GAAO,GACK,KAAbmR,EAAInR,GADOA,KAIjB,OAAID,EAAQC,EAAY,GACjBmR,EAAI5tB,MAAMwc,EAAOC,EAAM,EAChC,CAhBAnD,EAAO0T,EAAM9T,QAAQI,GAAMzU,OAAO,GAClC8oB,EAAKX,EAAM9T,QAAQyU,GAAI9oB,OAAO,GAsB9B,IALA,IAAIgpB,EAAY7f,EAAKsL,EAAKzZ,MAAM,MAC5BiuB,EAAU9f,EAAK2f,EAAG9tB,MAAM,MAExBZ,EAAS+lB,KAAK+I,IAAIF,EAAU5uB,OAAQ6uB,EAAQ7uB,QAC5C+uB,EAAkB/uB,EACbM,EAAI,EAAGA,EAAIN,EAAQM,IAC1B,GAAIsuB,EAAUtuB,KAAOuuB,EAAQvuB,GAAI,CAC/ByuB,EAAkBzuB,EAClB,KACF,CAGF,IAAI0uB,EAAc,GAClB,IAAS1uB,EAAIyuB,EAAiBzuB,EAAIsuB,EAAU5uB,OAAQM,IAClD0uB,EAAYxuB,KAAK,MAKnB,OAFAwuB,EAAcA,EAAY5pB,OAAOypB,EAAQ9tB,MAAMguB,KAE5BruB,KAAK,IAC1B,EAGAqtB,EAAMkB,UAAY,SAASrC,GACzB,OAAOA,CACT,EAGAmB,EAAMmB,QAAU,SAAStC,GACvB,IAAI1nB,EAAS8oB,EAAepB,GACxBuC,EAAOjqB,EAAO,GACdkqB,EAAMlqB,EAAO,GAEjB,OAAKiqB,GAASC,GAKVA,IAEFA,EAAMA,EAAIxpB,OAAO,EAAGwpB,EAAIpvB,OAAS,IAG5BmvB,EAAOC,GARL,GASX,EAGArB,EAAMsB,SAAW,SAASzC,EAAM0C,GAC9B,IAAIC,EAAIvB,EAAepB,GAAM,GAK7B,OAHI0C,GAAOC,EAAE3pB,QAAQ,EAAI0pB,EAAItvB,UAAYsvB,IACvCC,EAAIA,EAAE3pB,OAAO,EAAG2pB,EAAEvvB,OAASsvB,EAAItvB,SAE1BuvB,CACT,EAGAxB,EAAMyB,QAAU,SAAS5C,GACvB,OAAOoB,EAAepB,GAAM,EAC9B,EAGAmB,EAAM5qB,OAAS,SAASssB,GACtB,IAAKhC,EAAKiC,SAASD,GACjB,MAAM,IAAIxvB,UACN,wDAA0DwvB,GAIhE,IAAIN,EAAOM,EAAWN,MAAQ,GAE9B,IAAKzB,EAASyB,GACZ,MAAM,IAAIlvB,UACN,+DACOwvB,EAAWN,MAMxB,OAFUM,EAAWL,IAAMK,EAAWL,IAAMrB,EAAM4B,IAAM,KAC7CF,EAAWrf,MAAQ,GAEhC,EAGA2d,EAAMxd,MAAQ,SAASqf,GACrB,IAAKlC,EAASkC,GACZ,MAAM,IAAI3vB,UACN,uDAAyD2vB,GAG/D,IAAIC,EAAW7B,EAAe4B,GAC9B,IAAKC,GAAgC,IAApBA,EAAS7vB,OACxB,MAAM,IAAIC,UAAU,iBAAmB2vB,EAAa,KAMtD,OAJAC,EAAS,GAAKA,EAAS,IAAM,GAC7BA,EAAS,GAAKA,EAAS,IAAM,GAC7BA,EAAS,GAAKA,EAAS,IAAM,GAEtB,CACLV,KAAMU,EAAS,GACfT,IAAKS,EAAS,GAAKA,EAAS,GAAG9uB,MAAM,EAAG8uB,EAAS,GAAG7vB,OAAS,GAC7DoQ,KAAMyf,EAAS,GACfP,IAAKO,EAAS,GACdnqB,KAAMmqB,EAAS,GAAG9uB,MAAM,EAAG8uB,EAAS,GAAG7vB,OAAS6vB,EAAS,GAAG7vB,QAEhE,EAGA+tB,EAAM4B,IAAM,IACZ5B,EAAM+B,UAAY,IAEhBxuB,EAAOC,QAAUwsB,C,yEC/QnB,IAMI3H,EANA2J,EAAY,EAAQ,OACpBC,EAAiB,EAAQ,MAAR,GACjBC,EAAS,EAAQ,MACjBC,EAAO,EAAQ,OAKnB,GAAIF,EAAgB,CAEnB,IAAIG,EAAQJ,EAAU,yBAElBK,EAAgB,CAAC,EAEjBC,EAAmB,WACtB,MAAMD,CACP,EAEIE,EAAiB,CACpB5gB,SAAU2gB,EACVE,QAASF,GAGwB,iBAAvBtM,OAAO6F,cACjB0G,EAAevM,OAAO6F,aAAeyG,GAMtCjK,EAAK,SAAiBrkB,GACrB,IAAKA,GAA0B,iBAAVA,EACpB,OAAO,EAIR,IAAI0nB,EAAqD,EAA8C,EAAS,aAEhH,IAD+BA,IAAcwG,EAAOxG,EAAY,SAE/D,OAAO,EAGR,IAEC0G,EAAMpuB,EAA6B,EACpC,CAAE,MAAOmV,GACR,OAAOA,IAAMkZ,CACd,CACD,CACD,KAAO,CAEN,IAAII,EAAYT,EAAU,6BAK1B3J,EAAK,SAAiBrkB,GAErB,SAAKA,GAA2B,iBAAVA,GAAuC,mBAAVA,IALnC,oBASTyuB,EAAUzuB,EAClB,CACD,CAEAT,EAAOC,QAAU6kB,C,4BClEjB,MAAMpQ,EAAY,EAAQ,OACpBya,EAAY,EAAQ,MACpBC,EAAa,EAAQ,MAE3BpvB,EAAOC,QAAU,CACfkvB,UAAWA,EACXE,aAAc3a,EACd0a,WAAYA,E,4BCPd,IAAIxvB,EAAU,EAAQ,OAElBD,EAAa,EAAQ,OAUrB2vB,EAAc,SAAUC,EAAMlvB,EAAKmvB,GAMtC,IAJA,IAEIC,EAFAC,EAAOH,EAIkB,OAArBE,EAAOC,EAAKzS,MAAeyS,EAAOD,EACzC,GAAIA,EAAKpvB,MAAQA,EAOhB,OANAqvB,EAAKzS,KAAOwS,EAAKxS,KACZuS,IAEJC,EAAKxS,KAAqDsS,EAAS,KACnEA,EAAKtS,KAAOwS,GAENA,CAGV,EAwCAzvB,EAAOC,QAAU,WAKgD,IAAI0vB,EAGhExvB,EAAU,CACbC,OAAQ,SAAUC,GACjB,IAAKF,EAAQG,IAAID,GAChB,MAAM,IAAIV,EAAW,iCAAmCC,EAAQS,GAElE,EACA,OAAU,SAAUA,GACnB,IAAIwtB,EAAO8B,GAAMA,EAAG1S,KAChB2S,EAvBU,SAAUC,EAASxvB,GACnC,GAAIwvB,EACH,OAAOP,EAAYO,EAASxvB,GAAK,EAEnC,CAmBqByvB,CAAWH,EAAItvB,GAIjC,OAHIuvB,GAAe/B,GAAQA,IAAS+B,IACnCD,OAAK,KAEGC,CACV,EACArvB,IAAK,SAAUF,GACd,OA5DW,SAAUwvB,EAASxvB,GAChC,GAAKwvB,EAAL,CAGA,IAAI3uB,EAAOouB,EAAYO,EAASxvB,GAChC,OAAOa,GAAQA,EAAKT,KAFpB,CAGD,CAsDUsvB,CAAQJ,EAAItvB,EACpB,EACAC,IAAK,SAAUD,GACd,OAzCW,SAAUwvB,EAASxvB,GAChC,QAAKwvB,KAGIP,EAAYO,EAASxvB,EAC/B,CAoCU2vB,CAAQL,EAAItvB,EACpB,EACAG,IAAK,SAAUH,EAAKI,GACdkvB,IAEJA,EAAK,CACJ1S,UAAM,IA7DG,SAAU4S,EAASxvB,EAAKI,GACrC,IAAIS,EAAOouB,EAAYO,EAASxvB,GAC5Ba,EACHA,EAAKT,MAAQA,EAGbovB,EAAQ5S,KAA+E,CACtF5c,IAAKA,EACL4c,KAAM4S,EAAQ5S,KACdxc,MAAOA,EAGV,CAqDGwvB,CAA8C,EAAM5vB,EAAKI,EAC1D,GAGD,OAAON,CACR,C,gCC5GW+vB,EAOAC,E,2BANX,SAAWD,GAEPA,EAAYA,EAAiB,IAAI,GAAK,MAEtCA,EAAYA,EAAkB,KAAI,GAAK,MAC1C,CALD,CAKGA,IAAgBA,EAAc,CAAC,IAElC,SAAWC,GAKPA,EAAaA,EAAmB,KAAI,GAAK,OAMzCA,EAAaA,EAAoB,MAAI,GAAK,QAK1CA,EAAaA,EAAwB,UAAI,GAAK,YAK9CA,EAAaA,EAAwB,UAAI,GAAK,YAK9CA,EAAaA,EAAmB,KAAI,GAAK,MAC5C,CA3BD,CA2BGA,IAAiBA,EAAe,CAAC,G,2CCYpC,SAASC,EAAoB7Y,EAAMnR,GACjCiqB,EAAY9Y,EAAMnR,GAClBkqB,EAAY/Y,EACd,CACA,SAAS+Y,EAAY/Y,GACfA,EAAKyI,iBAAmBzI,EAAKyI,eAAea,WAC5CtJ,EAAK4K,iBAAmB5K,EAAK4K,eAAetB,WAChDtJ,EAAKQ,KAAK,QACZ,CAkBA,SAASsY,EAAY9Y,EAAMnR,GACzBmR,EAAKQ,KAAK,QAAS3R,EACrB,CAYApG,EAAOC,QAAU,CACfkhB,QAzFF,SAAiB/a,EAAKiX,GACpB,IAAIL,EAAQnc,KACR0vB,EAAoB1vB,KAAKshB,gBAAkBthB,KAAKshB,eAAe5C,UAC/DiR,EAAoB3vB,KAAKmf,gBAAkBnf,KAAKmf,eAAeT,UACnE,OAAIgR,GAAqBC,GACnBnT,EACFA,EAAGjX,GACMA,IACJvF,KAAKmf,eAEEnf,KAAKmf,eAAeK,eAC9Bxf,KAAKmf,eAAeK,cAAe,EACnCzY,EAAQkQ,SAASuY,EAAaxvB,KAAMuF,IAHpCwB,EAAQkQ,SAASuY,EAAaxvB,KAAMuF,IAMjCvF,OAMLA,KAAKshB,iBACPthB,KAAKshB,eAAe5C,WAAY,GAI9B1e,KAAKmf,iBACPnf,KAAKmf,eAAeT,WAAY,GAElC1e,KAAKugB,SAAShb,GAAO,KAAM,SAAUA,IAC9BiX,GAAMjX,EACJ4W,EAAMgD,eAEChD,EAAMgD,eAAeK,aAI/BzY,EAAQkQ,SAASwY,EAAatT,IAH9BA,EAAMgD,eAAeK,cAAe,EACpCzY,EAAQkQ,SAASsY,EAAqBpT,EAAO5W,IAH7CwB,EAAQkQ,SAASsY,EAAqBpT,EAAO5W,GAOtCiX,GACTzV,EAAQkQ,SAASwY,EAAatT,GAC9BK,EAAGjX,IAEHwB,EAAQkQ,SAASwY,EAAatT,EAElC,GACOnc,KACT,EA2CEijB,UAjCF,WACMjjB,KAAKshB,iBACPthB,KAAKshB,eAAe5C,WAAY,EAChC1e,KAAKshB,eAAesO,SAAU,EAC9B5vB,KAAKshB,eAAe9C,OAAQ,EAC5Bxe,KAAKshB,eAAeC,YAAa,GAE/BvhB,KAAKmf,iBACPnf,KAAKmf,eAAeT,WAAY,EAChC1e,KAAKmf,eAAeX,OAAQ,EAC5Bxe,KAAKmf,eAAeZ,QAAS,EAC7Bve,KAAKmf,eAAed,aAAc,EAClCre,KAAKmf,eAAeY,aAAc,EAClC/f,KAAKmf,eAAeV,UAAW,EAC/Bze,KAAKmf,eAAeK,cAAe,EAEvC,EAkBEzB,eAdF,SAAwBhI,EAAQxQ,GAO9B,IAAI8b,EAAStL,EAAOuL,eAChBuO,EAAS9Z,EAAOoJ,eAChBkC,GAAUA,EAAOpB,aAAe4P,GAAUA,EAAO5P,YAAalK,EAAOuK,QAAQ/a,GAAUwQ,EAAOmB,KAAK,QAAS3R,EAClH,E,4DChFA,SAASuqB,IACR,OAAOC,EAAAA,EAAAA,IAAkB,eAC1B,C,gCCVIC,E,WACJ,SAAShJ,EAAgBhF,EAAKxiB,EAAKI,GAA4L,OAAnLJ,EAC5C,SAAwB+nB,GAAO,IAAI/nB,EACnC,SAAsB6lB,GAAe,GAAqB,iBAAVA,GAAgC,OAAVA,EAAgB,OAAOA,EAAO,IAAImC,EAAOnC,EAAMzD,OAAO6F,aAAc,QAAavkB,IAATskB,EAAoB,CAAE,IAAIE,EAAMF,EAAK3oB,KAAKwmB,EAAOsC,UAAoB,GAAmB,iBAARD,EAAkB,OAAOA,EAAK,MAAM,IAAI5pB,UAAU,+CAAiD,CAAE,OAA4B+c,OAAiBwK,EAAQ,CAD/UuC,CAAaL,GAAgB,MAAsB,iBAAR/nB,EAAmBA,EAAMqb,OAAOrb,EAAM,CADxE2nB,CAAe3nB,MAAiBwiB,EAAO1hB,OAAO6S,eAAe6O,EAAKxiB,EAAK,CAAEI,MAAOA,EAAOijB,YAAY,EAAMuE,cAAc,EAAM1P,UAAU,IAAkBsK,EAAIxiB,GAAOI,EAAgBoiB,CAAK,CAG3O,IAAIvD,EAAW,EAAQ,OACnBwR,EAAerO,OAAO,eACtBsO,EAActO,OAAO,cACrBuO,EAASvO,OAAO,SAChBwO,EAASxO,OAAO,SAChByO,EAAezO,OAAO,eACtB0O,EAAiB1O,OAAO,iBACxB2O,EAAU3O,OAAO,UACrB,SAAS4O,EAAiB5wB,EAAOiZ,GAC/B,MAAO,CACLjZ,MAAOA,EACPiZ,KAAMA,EAEV,CACA,SAAS4X,EAAeC,GACtB,IAAI5Y,EAAU4Y,EAAKT,GACnB,GAAgB,OAAZnY,EAAkB,CACpB,IAAIxR,EAAOoqB,EAAKH,GAAS5X,OAIZ,OAATrS,IACFoqB,EAAKL,GAAgB,KACrBK,EAAKT,GAAgB,KACrBS,EAAKR,GAAe,KACpBpY,EAAQ0Y,EAAiBlqB,GAAM,IAEnC,CACF,CACA,SAASqqB,EAAWD,GAGlB3pB,EAAQkQ,SAASwZ,EAAgBC,EACnC,CAYA,IAAIE,EAAyBtwB,OAAOuwB,eAAe,WAAa,GAC5DC,EAAuCxwB,OAAOywB,gBAmD/C/J,EAnD+DgJ,EAAwB,CACxF,UAAIja,GACF,OAAO/V,KAAKuwB,EACd,EACAnU,KAAM,WACJ,IAAID,EAAQnc,KAGRqH,EAAQrH,KAAKmwB,GACjB,GAAc,OAAV9oB,EACF,OAAOwQ,QAAQE,OAAO1Q,GAExB,GAAIrH,KAAKowB,GACP,OAAOvY,QAAQC,QAAQ0Y,OAAiBttB,GAAW,IAErD,GAAIlD,KAAKuwB,GAAS7R,UAKhB,OAAO,IAAI7G,QAAQ,SAAUC,EAASC,GACpChR,EAAQkQ,SAAS,WACXkF,EAAMgU,GACRpY,EAAOoE,EAAMgU,IAEbrY,EAAQ0Y,OAAiBttB,GAAW,GAExC,EACF,GAOF,IACI8tB,EADAC,EAAcjxB,KAAKqwB,GAEvB,GAAIY,EACFD,EAAU,IAAInZ,QAlDpB,SAAqBoZ,EAAaP,GAChC,OAAO,SAAU5Y,EAASC,GACxBkZ,EAAYrY,KAAK,WACX8X,EAAKN,GACPtY,EAAQ0Y,OAAiBttB,GAAW,IAGtCwtB,EAAKJ,GAAgBxY,EAASC,EAChC,EAAGA,EACL,CACF,CAwC4BmZ,CAAYD,EAAajxB,WAC1C,CAGL,IAAIsG,EAAOtG,KAAKuwB,GAAS5X,OACzB,GAAa,OAATrS,EACF,OAAOuR,QAAQC,QAAQ0Y,EAAiBlqB,GAAM,IAEhD0qB,EAAU,IAAInZ,QAAQ7X,KAAKswB,GAC7B,CAEA,OADAtwB,KAAKqwB,GAAgBW,EACdA,CACT,GACwCpP,OAAOuP,cAAe,WAC9D,OAAOnxB,IACT,GAAIgnB,EAAgBgJ,EAAuB,SAAU,WACnD,IAAIoB,EAASpxB,KAIb,OAAO,IAAI6X,QAAQ,SAAUC,EAASC,GACpCqZ,EAAOb,GAASjQ,QAAQ,KAAM,SAAU/a,GAClCA,EACFwS,EAAOxS,GAGTuS,EAAQ0Y,OAAiBttB,GAAW,GACtC,EACF,EACF,GAAI8sB,GAAwBY,GA4D5BzxB,EAAOC,QA3DiC,SAA2C2W,GACjF,IAAIsb,EACAC,EAAWhxB,OAAOixB,OAAOT,GAA4D9J,EAArBqK,EAAiB,CAAC,EAAmCd,EAAS,CAChI3wB,MAAOmW,EACP2B,UAAU,IACRsP,EAAgBqK,EAAgBpB,EAAc,CAChDrwB,MAAO,KACP8X,UAAU,IACRsP,EAAgBqK,EAAgBnB,EAAa,CAC/CtwB,MAAO,KACP8X,UAAU,IACRsP,EAAgBqK,EAAgBlB,EAAQ,CAC1CvwB,MAAO,KACP8X,UAAU,IACRsP,EAAgBqK,EAAgBjB,EAAQ,CAC1CxwB,MAAOmW,EAAOuL,eAAeC,WAC7B7J,UAAU,IACRsP,EAAgBqK,EAAgBf,EAAgB,CAClD1wB,MAAO,SAAekY,EAASC,GAC7B,IAAIzR,EAAOgrB,EAASf,GAAS5X,OACzBrS,GACFgrB,EAASjB,GAAgB,KACzBiB,EAASrB,GAAgB,KACzBqB,EAASpB,GAAe,KACxBpY,EAAQ0Y,EAAiBlqB,GAAM,MAE/BgrB,EAASrB,GAAgBnY,EACzBwZ,EAASpB,GAAenY,EAE5B,EACAL,UAAU,IACR2Z,IA0BJ,OAzBAC,EAASjB,GAAgB,KACzB5R,EAAS1I,EAAQ,SAAUxQ,GACzB,GAAIA,GAAoB,+BAAbA,EAAIisB,KAAuC,CACpD,IAAIzZ,EAASuZ,EAASpB,GAUtB,OAPe,OAAXnY,IACFuZ,EAASjB,GAAgB,KACzBiB,EAASrB,GAAgB,KACzBqB,EAASpB,GAAe,KACxBnY,EAAOxS,SAET+rB,EAASnB,GAAU5qB,EAErB,CACA,IAAIuS,EAAUwZ,EAASrB,GACP,OAAZnY,IACFwZ,EAASjB,GAAgB,KACzBiB,EAASrB,GAAgB,KACzBqB,EAASpB,GAAe,KACxBpY,EAAQ0Y,OAAiBttB,GAAW,KAEtCouB,EAASlB,IAAU,CACrB,GACAra,EAAOiB,GAAG,WAAY2Z,EAAWc,KAAK,KAAMH,IACrCA,CACT,C,kFC/KO,MAAMI,UAAelsB,MACxB,WAAA1F,CAAY6xB,EAAuBC,GAC/B,MAAMzqB,EAAO,IAAIxI,YACX,QAAEwD,EAAO,aAAE0vB,IAAiB,OAAe1qB,GACjD,IAAI2qB,EAAUD,EAmBd,GAlBI1vB,EAAQ4vB,QACRD,EAAU,GAAGA,MAAY3vB,EAAQ4vB,MAAMD,WAE3CE,MAAMF,GACN9xB,KAAK8xB,QAAUA,EACX3vB,EAAQoB,MAAgC,iBAAjBpB,EAAQoB,KAC/BvD,KAAKuD,KAAOpB,EAAQoB,KAGpBvD,KAAKuD,MAAO,SAEZpB,EAAQ4vB,OACRzxB,OAAO6S,eAAenT,KAAM,SAAU,CAAEJ,MAAOuC,EAAQ4vB,QAE3DzxB,OAAO6S,eAAenT,KAAM,QAAS,CAAEJ,MAAO,CAAC,IAC3CuC,EAAQ6O,MAAgC,iBAAjB7O,EAAQ6O,MAC/B1Q,OAAO8B,OAAOpC,KAAKiyB,MAAO9vB,EAAQ6O,MAElCxL,MAAM0sB,kBAAmB,CACzB,MAAMC,EAAOhwB,EAAQiwB,gBAAkBpyB,KAAKF,YAC5C0F,MAAM0sB,kBAAkBlyB,KAAMmyB,EAClC,CACJ,CACA,YAAOJ,CAAMxsB,GAET,OADA,OAAYA,GACPA,EAAI8sB,SAEF,OAAQ9sB,EAAI8sB,QACb9sB,EAAI8sB,OAFC,IAIf,CACA,gBAAOC,CAAU/sB,IACb,OAAYA,GACZ,MAAMwsB,EAAQL,EAAOK,MAAMxsB,GAC3B,OAAIwsB,EACO,GAAGxsB,EAAIgtB,qBAAqBb,EAAOY,UAAUP,KAEjDxsB,EAAIgtB,OAAS,EACxB,CACA,WAAOvhB,CAAKzL,IACR,OAAYA,GACZ,MAAM+e,EAAS,CAAC,EACVyN,EAAQL,EAAOK,MAAMxsB,GAO3B,OANIwsB,GACAzxB,OAAO8B,OAAOkiB,EAAQoN,EAAO1gB,KAAK+gB,IAElCxsB,EAAI0sB,OACJ3xB,OAAO8B,OAAOkiB,EAAQ/e,EAAI0sB,OAEvB3N,CACX,CACA,QAAA/W,GACI,IAAI+W,EAAStkB,KAAKuD,MACdvD,KAAKF,YAAYyD,MACjBvD,KAAKF,YAAY4D,UAAUH,KAI/B,OAHIvD,KAAK8xB,UACLxN,EAAS,GAAGA,MAAWtkB,KAAK8xB,WAEzBxN,CACX,E,6JC3DJ,MAAMkO,EAA2BhkB,GAAMA,EAChC2B,eAAesiB,EAAgB7sB,EAASujB,EAAUhnB,EAAU,CAAC,GAChE,MAAM,OAAEnB,EAAS,UAAamB,EAC9B,GAAe,WAAXnB,GAAkC,SAAXA,EACvB,MAAM,IAAI,KAAO,CACbgQ,KAAM,CACFwgB,KAAM,KAAUkB,sBAErB,0BAA0B1xB,KAEjC,MAAkB,SAAXA,EAoBXmP,eAAqCvK,EAASujB,EAAUhnB,EAAU,CAAC,GAC/D,MAAMinB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWF,IAC3CG,OAAQ,MACR9iB,QAAS,CACLmsB,OAAQ,cAEZC,kBAAmB,CAACJ,IACrB5sB,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,IAC/C,QAAmBA,EAASP,GAC5B,MAAMiT,QAAajT,EAASwtB,OAC5B,OAAO,QAAuBxtB,EAAUiT,EAAMnW,EAAQ2wB,QAC1D,CAhCUC,CAAsBntB,EAASujB,EAAUhnB,GAGnDgO,eAAqCvK,EAASujB,EAAUhnB,EAAU,CAAC,GAC/D,MAAMinB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWF,IAC3CG,OAAQ,OACT1jB,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,GAE/C,IAAI0S,EAOJ,OARA,QAAmB1S,EAASP,GAGxBiT,GADA,YAAW,gBACEjT,EAAS2tB,cAGf/a,EAAOC,WAAW7S,EAAS2tB,gBAE/B,QAAuB3tB,EAAUiT,EAAMnW,EAAQ2wB,QAC1D,CAjBUG,CAAsBrtB,EAASujB,EAAUhnB,EACnD,CA+BO,SAAS+wB,EAAoBttB,EAASujB,GACzC,IAAI/R,GAAM,QAAQxR,EAAQyjB,WAAW,QAAWF,IAChD,MAAMU,EAAW,WAAW3iB,KAAKkQ,GAAO,QAAU,OAClD,OAAQxR,EAAQutB,UACZ,KAAK,KAASC,KAEV,MACJ,KAAK,KAASC,SAAU,CACpB,MAAMC,EAAW1tB,EAAQY,QAAQ+sB,cAAcr1B,QAAQ,WAAY,IAAI0O,OACjE4mB,GAAe,QAAWF,GAChClc,EAAMA,EAAIlZ,QAAQ,eAAgB,GAAG2rB,OAAc2J,MACnD,KACJ,CACA,QACI,MAAM,IAAI,KAAO,CACbxiB,KAAM,CACFwgB,KAAM,KAAUiC,0BAErB,wCAAwC7tB,EAAQutB,YAE3D,OAAO/b,CACX,C,uECtEA,MAAMsc,EAAQ,IAAIC,IAAI,CAAC,IAAK,IAAK,IAAK,IAAK,MACrCC,EAAiB/K,GAAM6K,EAAMj0B,IAAIopB,GAMjCgL,EAAa,UAIbC,EAAkB,IAAIH,IAAI,CAAC,IAAK,MAEhCI,EAAW,IAAIJ,IAAI,CAAC,KAAM,MAC1BK,EAAa,IAAIL,IAAI,mBACrBM,EAAgB1L,GAAMA,EAAErqB,QAAQ,2BAA4B,QAE5Dg2B,EAAQ,OAERC,EAAOD,EAAQ,KAGfE,EAAcF,EAAQ,KAGrB,MAAMG,EACT/hB,KACA,GACA,GACA,IAAS,EACT,GAAS,GACT,GACA,GACA,GACA,IAAc,EACd,GACA,GAGA,IAAY,EACZ,WAAAxS,CAAYwS,EAAMgiB,EAAQnyB,EAAU,CAAC,GACjCnC,KAAKsS,KAAOA,EAERA,IACAtS,MAAK,GAAY,GACrBA,MAAK,EAAUs0B,EACft0B,MAAK,EAAQA,MAAK,EAAUA,MAAK,GAAQ,EAAQA,KACjDA,MAAK,EAAWA,MAAK,IAAUA,KAAOmC,EAAUnC,MAAK,GAAM,EAC3DA,MAAK,EAAQA,MAAK,IAAUA,KAAO,GAAKA,MAAK,GAAM,EACtC,MAATsS,GAAiBtS,MAAK,GAAM,GAC5BA,MAAK,EAAM3B,KAAK2B,MACpBA,MAAK,EAAeA,MAAK,EAAUA,MAAK,GAAQ,EAAOnC,OAAS,CACpE,CACA,YAAI02B,GAEA,QAAuBrxB,IAAnBlD,MAAK,EACL,OAAOA,MAAK,EAEhB,IAAK,MAAMwoB,KAAKxoB,MAAK,EACjB,GAAiB,iBAANwoB,IAEPA,EAAElW,MAAQkW,EAAE+L,UACZ,OAAQv0B,MAAK,GAAY,EAGjC,OAAOA,MAAK,CAChB,CAEA,QAAAuN,GACI,YAAuBrK,IAAnBlD,MAAK,EACEA,MAAK,EACXA,KAAKsS,KAIEtS,MAAK,EACTA,KAAKsS,KAAO,IAAMtS,MAAK,EAAOoN,IAAIob,GAAK3N,OAAO2N,IAAIjqB,KAAK,KAAO,IAJ1DyB,MAAK,EAAYA,MAAK,EAAOoN,IAAIob,GAAK3N,OAAO2N,IAAIjqB,KAAK,GAMtE,CACA,KAEI,GAAIyB,OAASA,MAAK,EACd,MAAM,IAAIwF,MAAM,4BACpB,GAAIxF,MAAK,EACL,OAAOA,KAKX,IAAI2lB,EACJ,IAHA3lB,KAAKuN,WACLvN,MAAK,GAAc,EAEX2lB,EAAI3lB,MAAK,EAAM+b,OAAQ,CAC3B,GAAe,MAAX4J,EAAErT,KACF,SAEJ,IAAIkW,EAAI7C,EACJ6O,EAAKhM,GAAE,EACX,KAAOgM,GAAI,CACP,IAAK,IAAIr2B,EAAIqqB,GAAE,EAAe,GAAIgM,EAAGliB,MAAQnU,EAAIq2B,GAAG,EAAO32B,OAAQM,IAC/D,IAAK,MAAMs2B,KAAQ9O,GAAE,EAAQ,CAEzB,GAAoB,iBAAT8O,EACP,MAAM,IAAIjvB,MAAM,gCAGpBivB,EAAKC,OAAOF,GAAG,EAAOr2B,GAC1B,CAEJqqB,EAAIgM,EACJA,EAAKhM,GAAE,CACX,CACJ,CACA,OAAOxoB,IACX,CACA,IAAA3B,IAAQG,GACJ,IAAK,MAAMgqB,KAAKhqB,EACZ,GAAU,KAANgqB,EAAJ,CAGA,GAAiB,iBAANA,KAAoBA,aAAa6L,GAAO7L,GAAE,IAAYxoB,MAC7D,MAAM,IAAIwF,MAAM,iBAAmBgjB,GAGvCxoB,MAAK,EAAO3B,KAAKmqB,EANL,CAQpB,CACA,MAAAmM,GACI,MAAM1S,EAAoB,OAAdjiB,KAAKsS,KACXtS,MAAK,EAAOpB,QAAQwO,IAAIob,GAAmB,iBAANA,EAAiBA,EAAIA,EAAEmM,UAC5D,CAAC30B,KAAKsS,QAAStS,MAAK,EAAOoN,IAAIob,GAAKA,EAAEmM,WAQ5C,OAPI30B,KAAK40B,YAAc50B,KAAKsS,MACxB2P,EAAI4S,QAAQ,IACZ70B,KAAK80B,UACJ90B,OAASA,MAAK,GACVA,MAAK,GAAM,GAAsC,MAAvBA,MAAK,GAASsS,OAC7C2P,EAAI5jB,KAAK,CAAC,GAEP4jB,CACX,CACA,OAAA2S,GACI,GAAI50B,MAAK,IAAUA,KACf,OAAO,EAEX,IAAKA,MAAK,GAAS40B,UACf,OAAO,EACX,GAA0B,IAAtB50B,MAAK,EACL,OAAO,EAEX,MAAMwoB,EAAIxoB,MAAK,EACf,IAAK,IAAI7B,EAAI,EAAGA,EAAI6B,MAAK,EAAc7B,IAAK,CACxC,MAAMq2B,EAAKhM,GAAE,EAAOrqB,GACpB,KAAMq2B,aAAcH,GAAmB,MAAZG,EAAGliB,MAC1B,OAAO,CAEf,CACA,OAAO,CACX,CACA,KAAAwiB,GACI,GAAI90B,MAAK,IAAUA,KACf,OAAO,EACX,GAA2B,MAAvBA,MAAK,GAASsS,KACd,OAAO,EACX,IAAKtS,MAAK,GAAS80B,QACf,OAAO,EACX,IAAK90B,KAAKsS,KACN,OAAOtS,MAAK,GAAS80B,QAGzB,MAAMC,EAAK/0B,MAAK,EAAUA,MAAK,GAAQ,EAAOnC,OAAS,EAEvD,OAAOmC,MAAK,IAAiB+0B,EAAK,CACtC,CACA,MAAAL,CAAOD,GACiB,iBAATA,EACPz0B,KAAK3B,KAAKo2B,GAEVz0B,KAAK3B,KAAKo2B,EAAKO,MAAMh1B,MAC7B,CACA,KAAAg1B,CAAMV,GACF,MAAMzL,EAAI,IAAIwL,EAAIr0B,KAAKsS,KAAMgiB,GAC7B,IAAK,MAAM9L,KAAKxoB,MAAK,EACjB6oB,EAAE6L,OAAOlM,GAEb,OAAOK,CACX,CACA,QAAO,CAAUvqB,EAAK22B,EAAKC,EAAKC,GAC5B,IAAIC,GAAW,EACXC,GAAU,EACVC,GAAc,EACdC,GAAW,EACf,GAAiB,OAAbN,EAAI3iB,KAAe,CAEnB,IAAInU,EAAI+2B,EACJM,EAAM,GACV,KAAOr3B,EAAIG,EAAIT,QAAQ,CACnB,MAAMgrB,EAAIvqB,EAAI4tB,OAAO/tB,KAGrB,GAAIi3B,GAAkB,OAANvM,EACZuM,GAAYA,EACZI,GAAO3M,OAGX,GAAIwM,EACIl3B,IAAMm3B,EAAa,EACT,MAANzM,GAAmB,MAANA,IACb0M,GAAW,GAGJ,MAAN1M,GAAe1qB,IAAMm3B,EAAa,GAAKC,IAC5CF,GAAU,GAEdG,GAAO3M,OAGN,GAAU,MAANA,EAAJ,CAOL,IAAKsM,EAAIM,OAAS7B,EAAc/K,IAAwB,MAAlBvqB,EAAI4tB,OAAO/tB,GAAY,CACzD82B,EAAI52B,KAAKm3B,GACTA,EAAM,GACN,MAAMrI,EAAM,IAAIkH,EAAIxL,EAAGoM,GACvB92B,EAAIk2B,GAAI,EAAU/1B,EAAK6uB,EAAKhvB,EAAGg3B,GAC/BF,EAAI52B,KAAK8uB,GACT,QACJ,CACAqI,GAAO3M,CATP,MALIwM,GAAU,EACVC,EAAan3B,EACbo3B,GAAW,EACXC,GAAO3M,CAYf,CAEA,OADAoM,EAAI52B,KAAKm3B,GACFr3B,CACX,CAGA,IAAIA,EAAI+2B,EAAM,EACVT,EAAO,IAAIJ,EAAI,KAAMY,GACzB,MAAMz2B,EAAQ,GACd,IAAIg3B,EAAM,GACV,KAAOr3B,EAAIG,EAAIT,QAAQ,CACnB,MAAMgrB,EAAIvqB,EAAI4tB,OAAO/tB,KAGrB,GAAIi3B,GAAkB,OAANvM,EACZuM,GAAYA,EACZI,GAAO3M,OAGX,GAAIwM,EACIl3B,IAAMm3B,EAAa,EACT,MAANzM,GAAmB,MAANA,IACb0M,GAAW,GAGJ,MAAN1M,GAAe1qB,IAAMm3B,EAAa,GAAKC,IAC5CF,GAAU,GAEdG,GAAO3M,OAGN,GAAU,MAANA,EAAJ,CAOL,GAAI+K,EAAc/K,IAAwB,MAAlBvqB,EAAI4tB,OAAO/tB,GAAY,CAC3Cs2B,EAAKp2B,KAAKm3B,GACVA,EAAM,GACN,MAAMrI,EAAM,IAAIkH,EAAIxL,EAAG4L,GACvBA,EAAKp2B,KAAK8uB,GACVhvB,EAAIk2B,GAAI,EAAU/1B,EAAK6uB,EAAKhvB,EAAGg3B,GAC/B,QACJ,CACA,GAAU,MAANtM,EAAJ,CAOA,GAAU,MAANA,EAOA,MANY,KAAR2M,GAAoC,IAAtBP,GAAI,EAAOp3B,SACzBo3B,GAAI,GAAY,GAEpBR,EAAKp2B,KAAKm3B,GACVA,EAAM,GACNP,EAAI52B,QAAQG,EAAOi2B,GACZt2B,EAEXq3B,GAAO3M,CAVP,MALI4L,EAAKp2B,KAAKm3B,GACVA,EAAM,GACNh3B,EAAMH,KAAKo2B,GACXA,EAAO,IAAIJ,EAAI,KAAMY,EAbzB,MALII,GAAU,EACVC,EAAan3B,EACbo3B,GAAW,EACXC,GAAO3M,CA4Bf,CAOA,OAHAoM,EAAI3iB,KAAO,KACX2iB,GAAI,OAAY/xB,EAChB+xB,GAAI,EAAS,CAAC32B,EAAIo3B,UAAUR,EAAM,IAC3B/2B,CACX,CACA,eAAOw3B,CAASC,EAASzzB,EAAU,CAAC,GAChC,MAAM8yB,EAAM,IAAIZ,EAAI,UAAMnxB,EAAWf,GAErC,OADAkyB,GAAI,EAAUuB,EAASX,EAAK,EAAG9yB,GACxB8yB,CACX,CAGA,WAAAY,GAGI,GAAI71B,OAASA,MAAK,EACd,OAAOA,MAAK,EAAM61B,cAEtB,MAAM7vB,EAAOhG,KAAKuN,YACXvE,EAAIsP,EAAMic,EAAUuB,GAAS91B,KAAK+1B,iBASzC,KALiBxB,GACbv0B,MAAK,GACJA,MAAK,EAASg2B,SACVh2B,MAAK,EAASi2B,iBACfjwB,EAAK0kB,gBAAkB1kB,EAAKyR,eAEhC,OAAOa,EAEX,MAAM4d,GAASl2B,MAAK,EAASg2B,OAAS,IAAM,KAAOF,EAAQ,IAAM,IACjE,OAAOx1B,OAAO8B,OAAO,IAAIN,OAAO,IAAIkH,KAAOktB,GAAQ,CAC/CC,KAAMntB,EACNotB,MAAOpwB,GAEf,CACA,WAAI7D,GACA,OAAOnC,MAAK,CAChB,CAsEA,cAAA+1B,CAAeM,GACX,MAAMC,EAAMD,KAAcr2B,MAAK,EAASs2B,IAGxC,GAFIt2B,MAAK,IAAUA,MACfA,MAAK,KACJA,KAAKsS,KAAM,CACZ,MAAMikB,EAAUv2B,KAAK40B,WAAa50B,KAAK80B,QACjCzrB,EAAMrJ,MAAK,EACZoN,IAAIob,IACL,MAAOxf,EAAI2Y,EAAG4S,EAAUuB,GAAsB,iBAANtN,EAClC6L,GAAI,EAAW7L,EAAGxoB,MAAK,EAAWu2B,GAClC/N,EAAEuN,eAAeM,GAGvB,OAFAr2B,MAAK,EAAYA,MAAK,GAAau0B,EACnCv0B,MAAK,EAASA,MAAK,GAAU81B,EACtB9sB,IAENzK,KAAK,IACV,IAAI6c,EAAQ,GACZ,GAAIpb,KAAK40B,WACyB,iBAAnB50B,MAAK,EAAO,KAK2B,IAAvBA,MAAK,EAAOnC,SAAgBk2B,EAASt0B,IAAIO,MAAK,EAAO,KACvD,CACjB,MAAMw2B,EAAM1C,EAGN2C,EAELH,GAAOE,EAAI/2B,IAAI4J,EAAI6iB,OAAO,KAEtB7iB,EAAI7F,WAAW,QAAUgzB,EAAI/2B,IAAI4J,EAAI6iB,OAAO,KAE5C7iB,EAAI7F,WAAW,WAAagzB,EAAI/2B,IAAI4J,EAAI6iB,OAAO,IAG9CwK,GAAaJ,IAAQD,GAAYG,EAAI/2B,IAAI4J,EAAI6iB,OAAO,IAC1D9Q,EAAQqb,EAtbP,4BAsbuCC,EAAY7C,EAAa,EACrE,CAIR,IAAIxY,EAAM,GAOV,OANIrb,KAAK80B,SACL90B,MAAK,GAAM,GACY,MAAvBA,MAAK,GAASsS,OACd+I,EAAM,aAGH,CADOD,EAAQ/R,EAAMgS,GAGxB,OAAShS,GACRrJ,MAAK,IAAcA,MAAK,EACzBA,MAAK,EAEb,CAIA,MAAM22B,EAAyB,MAAd32B,KAAKsS,MAA8B,MAAdtS,KAAKsS,KAErC8I,EAAsB,MAAdpb,KAAKsS,KAAe,YAAc,MAChD,IAAIgG,EAAOtY,MAAK,EAAes2B,GAC/B,GAAIt2B,KAAK40B,WAAa50B,KAAK80B,UAAYxc,GAAsB,MAAdtY,KAAKsS,KAAc,CAG9D,MAAMiW,EAAIvoB,KAAKuN,WAIf,OAHAvN,MAAK,EAAS,CAACuoB,GACfvoB,KAAKsS,KAAO,KACZtS,MAAK,OAAYkD,EACV,CAACqlB,GAAG,OAASvoB,KAAKuN,aAAa,GAAO,EACjD,CAEA,IAAIqpB,GAAkBD,GAAYN,GAAYC,EACxC,GACAt2B,MAAK,GAAe,GACtB42B,IAAmBte,IACnBse,EAAiB,IAEjBA,IACAte,EAAO,MAAMA,QAAWse,QAG5B,IAAIpW,EAAQ,GAsBZ,OApBIA,EADc,MAAdxgB,KAAKsS,MAAgBtS,MAAK,GACjBA,KAAK40B,YAAc0B,EAAMzC,EAAa,IAAMO,EAkB7ChZ,EAAQ9C,GAfY,MAAdtY,KAAKsS,KAEX,OACKtS,KAAK40B,WAAc0B,GAAQD,EAAwB,GAAbxC,GACvCM,EACA,IACQ,MAAdn0B,KAAKsS,KACD,IACc,MAAdtS,KAAKsS,KACD,KACc,MAAdtS,KAAKsS,MAAgBskB,EACjB,IACc,MAAd52B,KAAKsS,MAAgBskB,EACjB,KACA,IAAI52B,KAAKsS,QAG5B,CACHkO,GACA,OAASlI,GACRtY,MAAK,IAAcA,MAAK,EACzBA,MAAK,EAEb,CACA,GAAes2B,GACX,OAAOt2B,MAAK,EACPoN,IAAIob,IAGL,GAAiB,iBAANA,EACP,MAAM,IAAIhjB,MAAM,gCAIpB,MAAOwD,EAAI2Y,EAAGkV,EAAWf,GAAStN,EAAEuN,eAAeO,GAEnD,OADAt2B,MAAK,EAASA,MAAK,GAAU81B,EACtB9sB,IAEN/C,OAAOuiB,KAAOxoB,KAAK40B,WAAa50B,KAAK80B,UAActM,IACnDjqB,KAAK,IACd,CACA,QAAO,CAAWyH,EAAMuuB,EAAUgC,GAAU,GACxC,IAAInB,GAAW,EACXpsB,EAAK,GACL8sB,GAAQ,EACZ,IAAK,IAAI33B,EAAI,EAAGA,EAAI6H,EAAKnI,OAAQM,IAAK,CAClC,MAAM0qB,EAAI7iB,EAAKkmB,OAAO/tB,GACtB,GAAIi3B,EACAA,GAAW,EACXpsB,IAAOgrB,EAAWv0B,IAAIopB,GAAK,KAAO,IAAMA,OAG5C,GAAU,OAANA,EAAJ,CASA,GAAU,MAANA,EAAW,CACX,MAAOxf,EAAKytB,EAAWC,EAAUC,IAAS,OAAWhxB,EAAM7H,GAC3D,GAAI44B,EAAU,CACV/tB,GAAMK,EACNysB,EAAQA,GAASgB,EACjB34B,GAAK44B,EAAW,EAChBxC,EAAWA,GAAYyC,EACvB,QACJ,CACJ,CACU,MAANnO,EAQM,MAANA,EAKJ7f,GAAMirB,EAAapL,IAJf7f,GAAMkrB,EACNK,GAAW,IARPvrB,GADAutB,GAAoB,MAATvwB,EACLouB,EAEAD,EACVI,GAAW,EAhBf,MAPQp2B,IAAM6H,EAAKnI,OAAS,EACpBmL,GAAM,OAGNosB,GAAW,CA4BvB,CACA,MAAO,CAACpsB,GAAI,OAAShD,KAASuuB,EAAUuB,EAC5C,E,4DCxkBG,SAASmB,EAAwBC,EAAUC,GAE9C,MAAO,UADS,QAAS,GAAGD,KAAYC,MAE5C,C,4DCHA,MAAMC,EAAmB,eACnBC,EAAO,OACb,SAASC,EAAchO,GACnB,MAAO,CACHiO,SAAUjO,EACVkO,QAAS,CAAClO,GACV9I,OAAO,EAEf,CAIO,MAAMiX,EACT,WAAA33B,GACIE,KAAK03B,eAAiB,CAClBC,SAAU,CAAC,EACXC,eAAgB,QAEpB53B,KAAK63B,SAAWT,CACpB,CAKA,iBAAIU,GACA,OAAO93B,KAAK03B,cAChB,CAKA,kBAAIE,GACA,OAAO53B,KAAK83B,cAAcF,cAC9B,CACA,kBAAIA,CAAeG,GACf/3B,KAAK83B,cAAcF,eAAiBG,CACxC,CAUA,OAAAC,CAAQlR,EAAQmR,GAAuB,GACnC,IAAKnR,GAAUA,EAAO+Q,WAAaT,EAC/B,MAAM,IAAI5xB,MAAM,+EAapB,OAXAlF,OAAOC,KAAKumB,EAAOgR,cAAcH,UAAUpgB,QAAQ2gB,IAC3Cl4B,KAAK83B,cAAcH,SAAS1zB,eAAei0B,GACvCD,IACAj4B,KAAK83B,cAAcH,SAASO,GAAc53B,OAAO8B,OAAO,CAAC,EAAG0kB,EAAOgR,cAAcH,SAASO,KAI9Fl4B,KAAK83B,cAAcH,SAASO,GAAc53B,OAAO8B,OAAO,CAAC,EAAG0kB,EAAOgR,cAAcH,SAASO,MAGlGpR,EAAO4Q,eAAiB13B,KAAK83B,cACtB93B,IACX,CAQA,OAAAm4B,CAAQ34B,KAAQ2H,GAEZ,OADenH,KAAKN,IAAIF,IAAQ63B,MACflwB,EACrB,CAUA,GAAAzH,CAAIF,GACA,MAAMmF,EAAO3E,KAAK83B,cAAcH,SAASn4B,GACzC,IAAKmF,EACD,OAAQ3E,KAAK43B,gBACT,IAAK,OACD,OAAO,KACX,IAAK,QACD,MAAM,IAAIpyB,MAAM,oEAAoEhG,KACxF,QACI,MAAM,IAAIgG,MAAM,8FAA8FxF,KAAK43B,kBAG/H,OAAO,UAAYjzB,EAAK6yB,QAC5B,CAMA,SAAAY,CAAU54B,GACN,QAASQ,KAAK83B,cAAcH,SAASn4B,EACzC,CAQA,KAAA0N,CAAM1N,EAAK8pB,EAAQY,EAAO,CAAC,GACvB,MAAM,MAAEmO,GAAQ,GAAUnO,EAC1B,GAAIlqB,KAAK83B,cAAcH,SAASn4B,IAAQQ,KAAK83B,cAAcH,SAASn4B,GAAKghB,MACrE,MAAM,IAAIhb,MAAM,oBAAoBhG,oCAExC,GAAsB,mBAAX8pB,EACP,MAAM,IAAI9jB,MAAM,oBAAoBhG,yCAExC,GAAI64B,EAEKr4B,KAAK83B,cAAcH,SAASn4B,GAM7BQ,KAAK83B,cAAcH,SAASn4B,GAAKg4B,QAAQn5B,KAAKirB,GAJ9CtpB,KAAK83B,cAAcH,SAASn4B,GAAO83B,EAAchO,QASrD,GAAItpB,KAAKo4B,UAAU54B,GAAM,CACrB,MAAM,SAAE+3B,GAAav3B,KAAK83B,cAAcH,SAASn4B,GACjDQ,KAAK83B,cAAcH,SAASn4B,GAAOc,OAAO8B,OAAOk1B,EAAchO,GAAS,CACpEiO,YAER,MAEIv3B,KAAK83B,cAAcH,SAASn4B,GAAO83B,EAAchO,GAGzD,OAAOtpB,IACX,CAkBA,WAAAs4B,CAAY94B,EAAK8pB,KAAWniB,GAIxB,OAHKnH,KAAKo4B,UAAU54B,IAChBQ,KAAKkN,MAAM1N,EAAK8pB,GAEbtpB,KAAKm4B,QAAQ34B,KAAQ2H,EAChC,CASA,MAAAoxB,CAAO/4B,KAAQg4B,GAIX,OAHAA,EAAQjgB,QAAQ+R,IACZtpB,KAAKkN,MAAM1N,EAAK8pB,EAAQ,CAAE+O,OAAO,MAE9Br4B,IACX,CAMA,OAAAw4B,CAAQh5B,GACJ,IAAKQ,KAAKo4B,UAAU54B,GAChB,MAAM,IAAIgG,MAAM,uDAAuDhG,KAEtE,GAAyD,mBAA9CQ,KAAK83B,cAAcH,SAASn4B,GAAK+3B,SAC7C,MAAM,IAAI/xB,MAAM,kFAAkFhG,KAGtG,OADAQ,KAAK83B,cAAcH,SAASn4B,GAAKg4B,QAAU,CAACx3B,KAAK83B,cAAcH,SAASn4B,GAAK+3B,UACtEv3B,IACX,CAQA,QAAAy4B,CAASj5B,GACL,IAAKQ,KAAK83B,cAAcH,SAAS1zB,eAAezE,GAC5C,MAAM,IAAIgG,MAAM,mBAAmBhG,wCAGvC,OADAQ,KAAK83B,cAAcH,SAASn4B,GAAKghB,OAAQ,EAClCxgB,IACX,E,4BC9MJ,IAAI04B,EAA6B,WAAiCA,2BAYlE,SAASC,IAAQ,CAoEjBx5B,EAAOC,QAhEP,SAASw5B,EAAI7iB,EAAQmU,EAAMzN,GACzB,GAAoB,mBAATyN,EAAqB,OAAO0O,EAAI7iB,EAAQ,KAAMmU,GACpDA,IAAMA,EAAO,CAAC,GACnBzN,EAlBF,SAAcA,GACZ,IAAIoc,GAAS,EACb,OAAO,WACL,IAAIA,EAAJ,CACAA,GAAS,EACT,IAAK,IAAIC,EAAOn6B,UAAUd,OAAQsJ,EAAO,IAAItD,MAAMi1B,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E5xB,EAAK4xB,GAAQp6B,UAAUo6B,GAEzBtc,EAASmK,MAAM5mB,KAAMmH,EALH,CAMpB,CACF,CAQa2b,CAAKrG,GAAYkc,GAC5B,IAAIK,EAAW9O,EAAK8O,WAA8B,IAAlB9O,EAAK8O,UAAsBjjB,EAAOijB,SAC9DthB,EAAWwS,EAAKxS,WAA8B,IAAlBwS,EAAKxS,UAAsB3B,EAAO2B,SAC9DuhB,EAAiB,WACdljB,EAAO2B,UAAUwhB,GACxB,EACIC,EAAgBpjB,EAAOoJ,gBAAkBpJ,EAAOoJ,eAAeV,SAC/Dya,EAAW,WACbxhB,GAAW,EACXyhB,GAAgB,EACXH,GAAUvc,EAAS5d,KAAKkX,EAC/B,EACIqjB,EAAgBrjB,EAAOuL,gBAAkBvL,EAAOuL,eAAeC,WAC/D8X,EAAQ,WACVL,GAAW,EACXI,GAAgB,EACX1hB,GAAU+E,EAAS5d,KAAKkX,EAC/B,EACIujB,EAAU,SAAiB/zB,GAC7BkX,EAAS5d,KAAKkX,EAAQxQ,EACxB,EACIg0B,EAAU,WACZ,IAAIh0B,EACJ,OAAIyzB,IAAaI,GACVrjB,EAAOuL,gBAAmBvL,EAAOuL,eAAe9C,QAAOjZ,EAAM,IAAImzB,GAC/Djc,EAAS5d,KAAKkX,EAAQxQ,IAE3BmS,IAAayhB,GACVpjB,EAAOoJ,gBAAmBpJ,EAAOoJ,eAAeX,QAAOjZ,EAAM,IAAImzB,GAC/Djc,EAAS5d,KAAKkX,EAAQxQ,SAF/B,CAIF,EACIi0B,EAAY,WACdzjB,EAAO4U,IAAI3T,GAAG,SAAUkiB,EAC1B,EAcA,OAtDF,SAAmBnjB,GACjB,OAAOA,EAAO0jB,WAAqC,mBAAjB1jB,EAAOsC,KAC3C,CAuCMqhB,CAAU3jB,IACZA,EAAOiB,GAAG,WAAYkiB,GACtBnjB,EAAOiB,GAAG,QAASuiB,GACfxjB,EAAO4U,IAAK6O,IAAiBzjB,EAAOiB,GAAG,UAAWwiB,IAC7C9hB,IAAa3B,EAAOoJ,iBAE7BpJ,EAAOiB,GAAG,MAAOiiB,GACjBljB,EAAOiB,GAAG,QAASiiB,IAErBljB,EAAOiB,GAAG,MAAOqiB,GACjBtjB,EAAOiB,GAAG,SAAUkiB,IACD,IAAfhP,EAAK7iB,OAAiB0O,EAAOiB,GAAG,QAASsiB,GAC7CvjB,EAAOiB,GAAG,QAASuiB,GACZ,WACLxjB,EAAO4jB,eAAe,WAAYT,GAClCnjB,EAAO4jB,eAAe,QAASJ,GAC/BxjB,EAAO4jB,eAAe,UAAWH,GAC7BzjB,EAAO4U,KAAK5U,EAAO4U,IAAIgP,eAAe,SAAUT,GACpDnjB,EAAO4jB,eAAe,MAAOV,GAC7BljB,EAAO4jB,eAAe,QAASV,GAC/BljB,EAAO4jB,eAAe,SAAUT,GAChCnjB,EAAO4jB,eAAe,MAAON,GAC7BtjB,EAAO4jB,eAAe,QAASL,GAC/BvjB,EAAO4jB,eAAe,QAASJ,EACjC,CACF,C,4BCpFO,SAASK,KAAYpC,GACxB,GAAuB,IAAnBA,EAAQ35B,OACR,MAAM,IAAI2H,MAAM,mDAEpB,OAAO,YAA8B2B,GACjC,IAAIpE,EAASoE,EACb,MAAMgV,EAAQnc,KACd,KAAOw3B,EAAQ35B,OAAS,GAEpBkF,EAAS,CADMy0B,EAAQv5B,QACN2oB,MAAMzK,EAAOpZ,IAElC,OAAOA,EAAO,EAClB,CACJ,C,4CCPO,SAAS82B,IACZ,MAAyB,iBAAXC,QAAkC,iBAAXA,MACzC,CACO,SAASC,IACZ,MAAyB,iBAAXD,QAAkC,QAAXA,MACzC,C,uECGO,MAAME,EAAW,CAACzR,GAAK0R,wBAAuB,GAAW,CAAC,IACtDA,EACD1R,EAAErqB,QAAQ,iBAAkB,MAC5BqqB,EAAErqB,QAAQ,4BAA6B,QAAQA,QAAQ,aAAc,K,6CCRxE,MAAMsU,EAAS,CAAC+V,GAAK0R,wBAAuB,GAAW,CAAC,IAIpDA,EACD1R,EAAErqB,QAAQ,aAAc,QACxBqqB,EAAErqB,QAAQ,eAAgB,O,gCCZhCg8B,EAiBOC,EA2BPC,EAQOC,E,2BAnDX,SAAWH,GACPA,EAAUA,EAAe,IAAI,IAAM,MACnCA,EAAUA,EAAgB,KAAI,IAAM,OACpCA,EAAUA,EAAkB,OAAI,IAAM,SACtCA,EAAUA,EAAgB,KAAI,IAAM,OACpCA,EAAUA,EAAgB,KAAI,IAAM,OACpCA,EAAUA,EAAmB,QAAI,IAAM,UACvCA,EAAUA,EAAmB,QAAI,KAAO,UACxCA,EAAUA,EAAmB,QAAI,KAAO,UACxCA,EAAUA,EAAmB,QAAI,KAAO,UACxCA,EAAUA,EAAmB,QAAI,IAAM,UACvCA,EAAUA,EAAmB,QAAI,IAAM,UACvCA,EAAUA,EAAmB,QAAI,IAAM,SAC1C,CAbD,CAaGA,IAAcA,EAAY,CAAC,IAI9B,SAAWC,GACPA,EAAaA,EAA2B,aAAI,OAAS,eACrDA,EAAaA,EAA4B,cAAI,OAAS,gBACtDA,EAAaA,EAAyB,WAAI,KAAO,YACpD,CAJD,CAIGA,IAAiBA,EAAe,CAAC,IAuBpC,SAAWC,GACPA,EAAmBA,EAAgC,YAAI,GAAK,cAC5DA,EAAmBA,EAAiC,aAAI,GAAK,eAC7DA,EAAmBA,EAAmC,eAAI,GAAK,iBAC/DA,EAAmBA,EAA+B,WAAI,GAAK,aAC3DA,EAAmBA,EAAgC,YAAI,GAAK,aAC/D,CAND,CAMGA,IAAuBA,EAAqB,CAAC,IAEhD,SAAWC,GAEPA,EAAaA,EAAqB,OAAI,GAAK,SAE3CA,EAAaA,EAAqB,OAAI,GAAK,SAE3CA,EAAaA,EAAwB,UAAI,GAAK,WACjD,CAPD,CAOGA,IAAiBA,EAAe,CAAC,G,wBCtDpC,SAASC,EAAQtY,GAAmV,OAAtOsY,EAArD,mBAAX1Y,QAAoD,iBAApBA,OAAO0P,SAAmC,SAAiBtP,GAAO,cAAcA,CAAK,EAAsB,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXJ,QAAyBI,EAAIliB,cAAgB8hB,QAAUI,IAAQJ,OAAOle,UAAY,gBAAkBse,CAAK,EAAYsY,EAAQtY,EAAM,CAUzX,SAASuY,EAAiBC,GAAS,IAAIC,EAAwB,mBAARlnB,IAAqB,IAAIA,SAAQrQ,EAA8nB,OAAnnBq3B,EAAmB,SAA0BC,GAAS,GAAc,OAAVA,IAMlIvW,EANuKuW,GAMjG,IAAzD1Y,SAASvU,SAAS1O,KAAKolB,GAAI/e,QAAQ,kBAN+H,OAAOs1B,EAMjN,IAA2BvW,EAN6L,GAAqB,mBAAVuW,EAAwB,MAAM,IAAI18B,UAAU,sDAAyD,QAAsB,IAAX28B,EAAwB,CAAE,GAAIA,EAAOh7B,IAAI+6B,GAAQ,OAAOC,EAAO/6B,IAAI86B,GAAQC,EAAO96B,IAAI66B,EAAOE,EAAU,CAAE,SAASA,IAAY,OAAOC,EAAWH,EAAO77B,UAAWi8B,EAAgB56B,MAAMF,YAAc,CAAkJ,OAAhJ46B,EAAQh3B,UAAYpD,OAAOixB,OAAOiJ,EAAM92B,UAAW,CAAE5D,YAAa,CAAEF,MAAO86B,EAAS7X,YAAY,EAAOnL,UAAU,EAAM0P,cAAc,KAAkByT,EAAgBH,EAASF,EAAQ,EAAUD,EAAiBC,EAAQ,CAEtvB,SAASG,EAAWG,EAAQ3zB,EAAMqzB,GAAqV,OAAhQG,EAEvH,WAAuC,GAAuB,oBAAZI,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3Eh3B,KAAKR,UAAU6J,SAAS1O,KAAKk8B,QAAQC,UAAU92B,KAAM,GAAI,WAAa,KAAY,CAAM,CAAE,MAAO6Q,GAAK,OAAO,CAAO,CAAE,CAFpRomB,GAA4CJ,QAAQC,UAAiC,SAAoBF,EAAQ3zB,EAAMqzB,GAAS,IAAIl5B,EAAI,CAAC,MAAOA,EAAEjD,KAAKuoB,MAAMtlB,EAAG6F,GAAO,IAAsD8gB,EAAW,IAA/CnG,SAAS2P,KAAK7K,MAAMkU,EAAQx5B,IAA6F,OAAnDk5B,GAAOK,EAAgB5S,EAAUuS,EAAM92B,WAAmBukB,CAAU,EAAY0S,EAAW/T,MAAM,KAAMjoB,UAAY,CAMja,SAASk8B,EAAgBO,EAAG5S,GAA+G,OAA1GqS,EAAkBv6B,OAAOywB,gBAAkB,SAAyBqK,EAAG5S,GAAsB,OAAjB4S,EAAEC,UAAY7S,EAAU4S,CAAG,EAAUP,EAAgBO,EAAG5S,EAAI,CAEzK,SAASoS,EAAgBQ,GAAwJ,OAAnJR,EAAkBt6B,OAAOywB,eAAiBzwB,OAAOuwB,eAAiB,SAAyBuK,GAAK,OAAOA,EAAEC,WAAa/6B,OAAOuwB,eAAeuK,EAAI,EAAUR,EAAgBQ,EAAI,CAE5M,IAGIE,EAA4C,SAAUC,GAGxD,SAASD,EAA6B1R,GACpC,IAAIzN,EAMJ,OAjCJ,SAAyB8L,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIpqB,UAAU,oCAAwC,CA6BpJqqB,CAAgBnoB,KAAMs7B,IAEtBnf,EA7BJ,SAAoCzF,EAAM7X,GAAQ,OAAIA,GAA2B,WAAlBy7B,EAAQz7B,IAAsC,mBAATA,EAEpG,SAAgC6X,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAI8kB,eAAe,6DAAgE,OAAO9kB,CAAM,CAFnB+kB,CAAuB/kB,GAAtC7X,CAA6C,CA6BpK68B,CAA2B17B,KAAM46B,EAAgBU,GAA8Bz8B,KAAKmB,KAAM4pB,KAC5FrmB,KAAO,+BACN4Y,CACT,CAEA,OA9BF,SAAmBwf,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI99B,UAAU,sDAAyD69B,EAASj4B,UAAYpD,OAAOixB,OAAOqK,GAAcA,EAAWl4B,UAAW,CAAE5D,YAAa,CAAEF,MAAO+7B,EAAUjkB,UAAU,EAAM0P,cAAc,KAAewU,GAAYf,EAAgBc,EAAUC,EAAa,CAkB9XC,CAAUP,EAA8BC,GAYjCD,CACT,CAdgD,CAc9Cf,EAAiB/0B,QA6LnB,SAASs2B,EAASl5B,EAAQ6nB,GAoCxB,IAnCA,IAAIhO,EAAW9d,UAAUd,OAAS,QAAsBqF,IAAjBvE,UAAU,GAAmBA,UAAU,GAAK,WAAa,EAC5Fo9B,EAAWtR,EAAKhsB,MA/MD,KAgNfZ,EAASk+B,EAASl+B,OAElBm+B,EAAQ,SAAeC,GACzB,IAAIC,EAAiBH,EAASE,GAE9B,IAAKr5B,EACH,MAAO,CACL4L,OAAG,GAIP,GA5NiB,MA4Nb0tB,EAAmC,CACrC,GAAIr4B,MAAMC,QAAQlB,GAChB,MAAO,CACL4L,EAAG5L,EAAOwK,IAAI,SAAUxN,EAAOoK,GAC7B,IAAImyB,EAAoBJ,EAASn9B,MAAMq9B,EAAM,GAE7C,OAAIE,EAAkBt+B,OAAS,EACtBi+B,EAASl8B,EAAOu8B,EAAkB59B,KAlOlC,KAkOwDke,GAExDA,EAAS7Z,EAAQoH,EAAO+xB,EAAUE,EAE7C,IAGF,IAAIG,EAAaL,EAASn9B,MAAM,EAAGq9B,GAAK19B,KAzO3B,KA0Ob,MAAM,IAAIiH,MAAM,uBAAuBvC,OAAOm5B,EAAY,qBAE9D,CACEx5B,EAAS6Z,EAAS7Z,EAAQs5B,EAAgBH,EAAUE,EAExD,EAESA,EAAM,EAAGA,EAAMp+B,EAAQo+B,IAAO,CACrC,IAAII,EAAOL,EAAMC,GAEjB,GAAsB,WAAlB3B,EAAQ+B,GAAoB,OAAOA,EAAK7tB,CAC9C,CAEA,OAAO5L,CACT,CAEA,SAAS05B,EAAcP,EAAU/xB,GAC/B,OAAO+xB,EAASl+B,SAAWmM,EAAQ,CACrC,CA1OA7K,EAAOC,QAAU,CACfO,IAkGF,SAA2BiD,EAAQ25B,EAAU38B,GAC3C,GAAuB,UAAnB06B,EAAQ13B,IAAkC,OAAXA,EACjC,OAAOA,EAGT,QAAuB,IAAZ25B,EACT,OAAO35B,EAGT,GAAuB,iBAAZ25B,EAET,OADA35B,EAAO25B,GAAY38B,EACZgD,EAAO25B,GAGhB,IACE,OAAOT,EAASl5B,EAAQ25B,EAAU,SAA4BC,EAAeC,EAAiBV,EAAU/xB,GACtG,GAAIwyB,IAAkBzB,QAAQlK,eAAe,CAAC,GAC5C,MAAM,IAAIyK,EAA6B,yCAGzC,IAAKkB,EAAcC,GAAkB,CACnC,IAAIC,EAAmBl1B,OAAOm1B,UAAUn1B,OAAOu0B,EAAS/xB,EAAQ,KAC5D4yB,EA5IS,MA4IiBb,EAAS/xB,EAAQ,GAG7CwyB,EAAcC,GADZC,GAAoBE,EACW,GAEA,CAAC,CAEtC,CAMA,OAJIN,EAAcP,EAAU/xB,KAC1BwyB,EAAcC,GAAmB78B,GAG5B48B,EAAcC,EACvB,EACF,CAAE,MAAOl3B,GACP,GAAIA,aAAe+1B,EAEjB,MAAM/1B,EAEN,OAAO3C,CAEX,CACF,EA9IElD,IAqBF,SAA2BkD,EAAQ25B,GACjC,GAAuB,UAAnBjC,EAAQ13B,IAAkC,OAAXA,EACjC,OAAOA,EAGT,QAAuB,IAAZ25B,EACT,OAAO35B,EAGT,GAAuB,iBAAZ25B,EACT,OAAO35B,EAAO25B,GAGhB,IACE,OAAOT,EAASl5B,EAAQ25B,EAAU,SAA4BC,EAAeC,GAC3E,OAAOD,EAAcC,EACvB,EACF,CAAE,MAAOl3B,GACP,OAAO3C,CACT,CACF,EAxCEnD,IAqDF,SAA2BmD,EAAQ25B,GACjC,IAAIp6B,EAAUxD,UAAUd,OAAS,QAAsBqF,IAAjBvE,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAEnF,GAAuB,UAAnB27B,EAAQ13B,IAAkC,OAAXA,EACjC,OAAO,EAGT,QAAuB,IAAZ25B,EACT,OAAO,EAGT,GAAuB,iBAAZA,EACT,OAAOA,KAAY35B,EAGrB,IACE,IAAInD,GAAM,EAYV,OAXAq8B,EAASl5B,EAAQ25B,EAAU,SAA4BC,EAAeC,EAAiBV,EAAU/xB,GAC/F,IAAIsyB,EAAcP,EAAU/xB,GAO1B,OAAOwyB,GAAiBA,EAAcC,GALpCh9B,EADE0C,EAAQ06B,IACJL,EAAcv4B,eAAew4B,GAE7BA,KAAmBD,CAK/B,GACO/8B,CACT,CAAE,MAAO8F,GACP,OAAO,CACT,CACF,EApFEuoB,OAAQ,SAAgBlrB,EAAQ25B,EAAUp6B,GACxC,OAAOnC,KAAKP,IAAImD,EAAQ25B,EAAUp6B,GAAW,CAC3C06B,KAAK,GAET,EACAC,KAoJF,SAA4Bl6B,EAAQ25B,EAAUQ,GAC5C,IAAI56B,EAAUxD,UAAUd,OAAS,QAAsBqF,IAAjBvE,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAEnF,GAAuB,UAAnB27B,EAAQ13B,IAAkC,OAAXA,EACjC,OAAO,EAGT,QAAuB,IAAZ25B,EACT,OAAO,EAGT,IACE,IAAIO,GAAO,EACPE,GAAa,EAOjB,OANAlB,EAASl5B,EAAQ25B,EAAU,SAA6BC,EAAeC,EAAiBV,EAAU/xB,GAGhG,OAFA8yB,EAAOA,GAAQN,IAAkBO,KAAkBP,GAAiBA,EAAcC,KAAqBM,EACvGC,EAAaV,EAAcP,EAAU/xB,IAAqC,WAA3BswB,EAAQkC,IAA+BC,KAAmBD,EAClGA,GAAiBA,EAAcC,EACxC,GAEIt6B,EAAQ86B,UACHH,GAAQE,EAERF,CAEX,CAAE,MAAOv3B,GACP,OAAO,CACT,CACF,EA/KE+1B,6BAA8BA,E,4BC1Dd,IAAI/nB,IAAI,CACtB,CAAC,EAAG,OAEJ,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,KACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,KACN,CAAC,IAAK,MACN,CAAC,IAAK,KACN,CAAC,IAAK,MACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,KACN,CAAC,IAAK,MACN,CAAC,IAAK,KACN,CAAC,IAAK,MACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,OAOJsH,OAAOqiB,a,oECrCN,SAASC,EAAgBC,GAC5B,OAgBO,IAAI,EAAA7O,WAAW,CAClB5tB,oBAAqB,KACrBK,QAAQ,EACRF,kBAAkB,EAClBI,mBAAmB,IApBHyC,MAAM05B,EAAU,CAChCC,SAAU,CACN,YAAa,OACbC,UAAW,CACPC,UAAW,CAAC,GAEhBC,SAAU,CACN9lB,MAAO,CAAC,GAEZ+lB,MAAO,CACHC,KAAMP,KAGf,KACP,CAgBA,SAASC,EAAUrb,EAAK4b,GACpB,MAAM7V,EAAO,IAAK/F,GAClB,IAAK,MAAMxiB,KAAOuoB,EACTA,EAAK9jB,eAAezE,KAGrBuoB,EAAKvoB,IAA6B,iBAAduoB,EAAKvoB,KAA2C,IAAtBA,EAAI0F,QAAQ,MAC1D6iB,EAAK,GAAG6V,KAAMp+B,KAAS69B,EAAUtV,EAAKvoB,GAAMo+B,UACrC7V,EAAKvoB,KAEa,IAApB,MAAM0H,KAAK1H,KAChBuoB,EAAK,GAAG6V,KAAMp+B,KAASuoB,EAAKvoB,UACrBuoB,EAAKvoB,KAGpB,OAAOuoB,CACX,CACO,SAAS8V,EAAqBC,GACjC,OAxBO,IAAI,EAAAxP,UAAU,CACjByP,gBAAgB,EAChBC,qBAAqB,EACrBC,eAAe,IAqBA7vB,MAAM0vB,EAC7B,C,sGC9CO3tB,eAAe+tB,EAAgBt4B,EAASu4B,EAASh8B,EAAU,CAAC,GAC/D,IAA0B,IAAtBA,EAAQi8B,UACR,OAqBRjuB,eAA0CvK,EAASu4B,EAASh8B,EAAU,CAAC,GACnE,MAAMk8B,GAAQ,SAAkB,QAAcF,IAC9CE,EAAMC,KAAK,CAACh9B,EAAG0Z,IACP1Z,EAAEzD,OAASmd,EAAEnd,OACN,EAEFmd,EAAEnd,OAASyD,EAAEzD,QACV,EAEL,GAEX,IAAI0gC,GAAW,EACf,IAAK,MAAMC,KAAYH,EACnB,GAAIE,QACML,EAAgBt4B,EAAS44B,EAAU,IAClCr8B,EACHi8B,WAAW,SAInB,IAEI,GAAsB,qBADE,OAAQx4B,EAAS44B,IAC5BlsB,KACT,MAAM,IAAI9M,MAAM,yBAAyB24B,IAEjD,CACA,MAAO54B,GAEH,GAAqB,MADPA,EACJE,OAQN,MAAMF,EAPNg5B,GAAW,QACLL,EAAgBt4B,EAAS44B,EAAU,IAClCr8B,EACHi8B,WAAW,GAMvB,CAER,CA7DeK,CAA2B74B,EAASu4B,EAASh8B,GACxD,MAAMinB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAaCoB,GAb+B,QAAW0T,GAc/D1T,EAAKiU,SAAS,KAGZjU,EAFIA,EAAO,MAddnB,OAAQ,SACT1jB,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,GAUnD,IAA8B6kB,GAT1B,QAAmB7kB,EAASP,EAChC,C,qKCJO8K,eAAewuB,EAAgB/4B,EAASujB,EAAU7iB,EAAMnE,EAAU,CAAC,GACtE,MAAM,cAAEy8B,GAAgB,EAAI,UAAEC,GAAY,GAAS18B,EAC7CqE,EAAU,CACZ,eAAgB,8BAEf,aACA,gBACiB,IAAX,QACqB,IAArB,GAAQmQ,UACfrQ,aAAgB,aAGO,IAAlBs4B,IAILp4B,EAAQ,kBADsB,iBAAlBo4B,EACgB,GAAGA,IAGH,IAAG,OAAoBt4B,MAElDu4B,IACDr4B,EAAQ,iBAAmB,KAE/B,MAAM4iB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWF,IAC3CG,OAAQ,MACR9iB,UACAF,QACDV,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,GAC/C,KACI,QAAmBA,EAASP,EAChC,CACA,MAAOE,GACH,MAAM8B,EAAQ9B,EACd,GAAqB,MAAjB8B,EAAM5B,QAAmBo5B,EAIzB,MAAMx3B,EAHN,OAAO,CAKf,CACA,OAAO,CACX,CACO,SAASy3B,EAAkBl5B,EAASujB,GACvC,IAAI/R,EAAM,IAAG,QAAQxR,EAAQyjB,WAAW,QAAWF,4CACnD,MAAMU,EAAW,WAAW3iB,KAAKkQ,GAAO,QAAU,OAClD,OAAQxR,EAAQutB,UACZ,KAAK,KAASC,KAEV,MACJ,KAAK,KAASC,SAAU,CACpB,MAAMC,EAAW1tB,EAAQY,QAAQ+sB,cAAcr1B,QAAQ,WAAY,IAAI0O,OACjE4mB,GAAe,QAAWF,GAChClc,EAAMA,EAAIlZ,QAAQ,eAAgB,GAAG2rB,OAAc2J,MACnD,KACJ,CACA,QACI,MAAM,IAAI,KAAO,CACbxiB,KAAM,CACFwgB,KAAM,KAAUiC,0BAErB,wCAAwC7tB,EAAQutB,YAE3D,OAAO/b,CACX,C,kFClEA,MAAM2nB,GAASC,EAAAA,EAAAA,KAAalP,EAAAA,EAAAA,MAM5B,SAASmP,EAAWp1B,GACnBk1B,EAAOE,WAAW,CAEjB,mBAAoB,iBAEpBC,aAAcr1B,GAAS,IAEzB,EAGAs1B,EAAAA,EAAAA,IAAqBF,GACrBA,GAAWG,EAAAA,EAAAA,OAEX,S,4DC5BO,SAASC,EAAWC,EAAWC,EAAMC,EAAOC,EAAMC,EAAOC,EAAQC,GACpE,MAAMC,EAAUD,GAAO,EAAI,GAAGL,KAAQC,KAASC,KAC/C,OAAIH,GAAyC,aAA5BA,EAAU7nB,cAChB,EAAI,GAAGooB,KAAWH,KAASC,KAE/BE,CACX,C,mGCCO,MAAMC,EAAgB,GAatB3vB,eAAeoB,GAAY,aAAEC,EAAY,WAAEX,GAAc1O,GAC5D,MAAM49B,EAAe,CAAC,GAAIvuB,EAAcX,GAAYtS,KAAK,KACnDyhC,EAAW79B,EAAQ69B,SAAW,gBAAgB79B,EAAQ69B,SAASC,8BAAgC,GAC/F56B,QAAiB05B,EAAAA,EAAOmB,cAAcH,EAAc,CACtDzW,OAAQ,SACRhjB,KAAM,sPAMEnE,EAAQiP,OAAS0uB,oCAChB39B,EAAQkP,QAAU,0BAC7B2uB,oCAEK79B,IAEDg+B,QAAqB96B,EAASwtB,OAE9BuN,EAUV,SAA2Br9B,EAAQwD,GAAa,GAE5C,MAAQ+T,aAAejV,SAAUg7B,IAAqBt9B,EAEtD,OAAOs9B,EAAcjzB,IAAKzI,IAEtB,MAAMoN,EAAQpN,EAAK4V,SAASC,KAC5B,OAAO8lB,EAAAA,EAAAA,IAAqBvuB,EAAOA,EAAM1E,GAAGE,WAAYhH,IAEhE,CAnBiBg6B,OADQC,EAAAA,EAAAA,IAASL,IACS,GAEvC,OAAO95B,EAAAA,EAAAA,IAAuBhB,EAAU+6B,GAAM,EAClD,C,mGCzCA,MAAMK,EAAiB,2BACjBC,EAAmB,6BAClB,SAASC,EAAWxX,GACvB,IACI,MAAMyX,EAAWzX,EAASjrB,QAAQ,MAAOuiC,GAAgBviC,QAAQ,QAASwiC,GAE1E,OADkBG,mBAAmBD,GACpBniC,MAAMiiC,GAAkBniC,KAAK,QAAQE,MAAMgiC,GAAgBliC,KAAK,IACrF,CACA,MAAOgH,GACH,MAAM,IAAI,KAAOA,EAAK,uBAC1B,CACJ,CACO,SAASu7B,EAAkBC,GAC9B,IAAKA,GAA2B,MAAdA,EACd,MAAO,GACX,IAAIC,EAAcD,EAClB,MAAMzc,EAAS,GACf,GACIA,EAAOjmB,KAAK2iC,GACZA,EAAc,UAAaA,SACtBA,GAA+B,MAAhBA,GACxB,OAAO1c,CACX,CACO,SAAS2c,EAAiBC,GAC7B,OAAOA,EAAQ19B,WAAW,KAAO09B,EAAU,IAAMA,CACrD,CACO,SAASC,EAAcD,GAC1B,IAAIE,EAAiBF,EAOrB,MAN0B,MAAtBE,EAAe,KACfA,EAAiB,IAAMA,GAEvB,SAASl6B,KAAKk6B,KACdA,EAAiBA,EAAe39B,OAAO,EAAG29B,EAAevjC,OAAS,IAE/DujC,CACX,C,wGChCO,SAASC,EAAUz7B,EAASsxB,EAAUC,EAAUmK,EAAY1B,GAC/D,OAAQh6B,EAAQutB,UACZ,KAAK,KAASoO,KACNrK,GAAYC,IACZvxB,EAAQY,QAAQ+sB,eAAgB,OAAwB2D,EAAUC,IAEtE,MACJ,KAAK,KAASqK,OACV57B,EAAQC,QAAS,QAAoBqxB,EAAUC,EAAUyI,GACzD,MACJ,KAAK,KAASxM,KAEV,MACJ,KAAK,KAASC,SACVztB,EAAQY,QAAQ+sB,eAAgB,OAAwB2D,EAAUC,GAClE,MACJ,KAAK,KAASsK,MACV77B,EAAQY,QAAQ+sB,eAAgB,OAAwB+N,GACxD,MACJ,QACI,MAAM,IAAI,KAAO,CACbtwB,KAAM,CACFwgB,KAAM,KAAUkQ,kBAErB,sBAAsB97B,EAAQutB,YAE7C,C,4BC1BA,IAAIyF,EASAtb,EAAiB,WACnBqkB,EAAmBrkB,EAAeqkB,iBAClChkB,EAAuBL,EAAeK,qBACxC,SAASgb,EAAKpzB,GAEZ,GAAIA,EAAK,MAAMA,CACjB,CA+BA,SAAS1G,EAAKolB,GACZA,GACF,CACA,SAASlC,EAAK7J,EAAMqU,GAClB,OAAOrU,EAAK6J,KAAKwK,EACnB,CA6BAptB,EAAOC,QAvBP,WACE,IAAK,IAAI05B,EAAOn6B,UAAUd,OAAQ+jC,EAAU,IAAI/9B,MAAMi1B,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAClF6I,EAAQ7I,GAAQp6B,UAAUo6B,GAE5B,IAKI1xB,EALAoV,EATN,SAAqBmlB,GACnB,OAAKA,EAAQ/jC,OAC8B,mBAAhC+jC,EAAQA,EAAQ/jC,OAAS,GAA0B86B,EACvDiJ,EAAQ7lB,MAFa4c,CAG9B,CAKiBkJ,CAAYD,GAE3B,GADI/9B,MAAMC,QAAQ89B,EAAQ,MAAKA,EAAUA,EAAQ,IAC7CA,EAAQ/jC,OAAS,EACnB,MAAM,IAAI8jC,EAAiB,WAG7B,IAAIG,EAAWF,EAAQx0B,IAAI,SAAU2I,EAAQ5X,GAC3C,IAAIyxB,EAAUzxB,EAAIyjC,EAAQ/jC,OAAS,EAEnC,OAnDJ,SAAmBkY,EAAQ6Z,EAAS9Q,EAASrC,GAC3CA,EAnBF,SAAcA,GACZ,IAAIoc,GAAS,EACb,OAAO,WACDA,IACJA,GAAS,EACTpc,EAASmK,WAAM,EAAQjoB,WACzB,CACF,CAYamkB,CAAKrG,GAChB,IAAIslB,GAAS,EACbhsB,EAAOiB,GAAG,QAAS,WACjB+qB,GAAS,CACX,QACY7+B,IAAR01B,IAAmBA,EAAM,EAAQ,QACrCA,EAAI7iB,EAAQ,CACVijB,SAAUpJ,EACVlY,SAAUoH,GACT,SAAUvZ,GACX,GAAIA,EAAK,OAAOkX,EAASlX,GACzBw8B,GAAS,EACTtlB,GACF,GACA,IAAIiC,GAAY,EAChB,OAAO,SAAUnZ,GACf,IAAIw8B,IACArjB,EAIJ,OAHAA,GAAY,EAtBhB,SAAmB3I,GACjB,OAAOA,EAAO0jB,WAAqC,mBAAjB1jB,EAAOsC,KAC3C,CAuBQqhB,CAAU3jB,GAAgBA,EAAOsC,QACP,mBAAnBtC,EAAOuK,QAA+BvK,EAAOuK,eACxD7D,EAASlX,GAAO,IAAIoY,EAAqB,QAC3C,CACF,CAyBWqkB,CAAUjsB,EAAQ6Z,EADXzxB,EAAI,EACyB,SAAUoH,GAC9C8B,IAAOA,EAAQ9B,GAChBA,GAAKu8B,EAASvqB,QAAQ1Y,GACtB+wB,IACJkS,EAASvqB,QAAQ1Y,GACjB4d,EAASpV,GACX,EACF,GACA,OAAOu6B,EAAQK,OAAOlgB,EACxB,C,4BClFA,IAAImgB,EAAU,EAAQ,OAClBC,EAAiB,EAAQ,KAEzB1iC,EAAMa,OAAOoD,UAAUO,eACvBH,EAAUD,MAAMC,QAIhBs+B,EAAkBD,IAElBE,EAAe,SAAsBrgB,EAAKsgB,GAE1C,OADAF,EAAgBziC,IAAIqiB,EAAKsgB,GAClBtgB,CACX,EAEIugB,EAAa,SAAoBvgB,GACjC,OAAOogB,EAAgB3iC,IAAIuiB,EAC/B,EAEIwgB,EAAc,SAAqBxgB,GACnC,OAAOogB,EAAgB1iC,IAAIsiB,EAC/B,EAEIygB,EAAc,SAAqBzgB,EAAKsgB,GACxCF,EAAgBziC,IAAIqiB,EAAKsgB,EAC7B,EAEII,EAAY,WAEZ,IADA,IAAI1e,EAAQ,GACH7lB,EAAI,EAAGA,EAAI,MAAOA,EACvB6lB,EAAM3lB,KAAK,MAAQF,EAAI,GAAK,IAAM,IAAMA,EAAEoP,SAAS,KAAKmd,eAG5D,OAAO1G,CACX,CAPe,GA4BX2e,EAAgB,SAAuB5b,EAAQ5kB,GAE/C,IADA,IAAI6f,EAAM7f,GAAWA,EAAQygC,aAAe,CAAEvH,UAAW,MAAS,CAAC,EAC1Dl9B,EAAI,EAAGA,EAAI4oB,EAAOlpB,SAAUM,OACR,IAAd4oB,EAAO5oB,KACd6jB,EAAI7jB,GAAK4oB,EAAO5oB,IAIxB,OAAO6jB,CACX,EAoGI5Q,EAAQ,KA6IZjS,EAAOC,QAAU,CACbujC,cAAeA,EACfvgC,OApKS,SAA4B0kB,EAAQC,GAC7C,OAAOzmB,OAAOC,KAAKwmB,GAAQkb,OAAO,SAAUzM,EAAKh2B,GAE7C,OADAg2B,EAAIh2B,GAAOunB,EAAOvnB,GACXg2B,CACX,EAAG1O,EACP,EAgKI+b,QA9BU,SAAiBvhC,EAAG0Z,EAAG8nB,EAAYF,GAE7C,GAAIL,EAAWjhC,GAAI,CACf,IAAIyhC,EAAWP,EAAYlhC,GAAK,EAGhC,OAFAA,EAAEyhC,GAAY/nB,EACdynB,EAAYnhC,EAAGyhC,GACRzhC,CACX,CAEA,IAAIyB,EAAS,GAAGE,OAAO3B,EAAG0Z,GAC1B,OAAIjY,EAAOlF,OAASilC,EACTT,EAAaM,EAAc5/B,EAAQ,CAAE6/B,aAAcA,IAAiB7/B,EAAOlF,OAAS,GAExFkF,CACX,EAiBIigC,QAnEU,SAAiBpjC,GAI3B,IAHA,IAAIqjC,EAAQ,CAAC,CAAEjhB,IAAK,CAAEoZ,EAAGx7B,GAAS4a,KAAM,MACpC0oB,EAAO,GAEF/kC,EAAI,EAAGA,EAAI8kC,EAAMplC,SAAUM,EAKhC,IAJA,IAAIwG,EAAOs+B,EAAM9kC,GACb6jB,EAAMrd,EAAKqd,IAAIrd,EAAK6V,MAEpBja,EAAOD,OAAOC,KAAKyhB,GACdtd,EAAI,EAAGA,EAAInE,EAAK1C,SAAU6G,EAAG,CAClC,IAAIlF,EAAMe,EAAKmE,GACXvE,EAAM6hB,EAAIxiB,GACK,iBAARW,GAA4B,OAARA,IAAuC,IAAvB+iC,EAAKh+B,QAAQ/E,KACxD8iC,EAAM5kC,KAAK,CAAE2jB,IAAKA,EAAKxH,KAAMhb,IAC7B0jC,EAAK7kC,KAAK8B,GAElB,CAKJ,OAnOe,SAAsB8iC,GACrC,KAAOA,EAAMplC,OAAS,GAAG,CACrB,IAAI8G,EAAOs+B,EAAMlnB,MACbiG,EAAMrd,EAAKqd,IAAIrd,EAAK6V,MAExB,GAAI1W,EAAQke,GAAM,CAGd,IAFA,IAAImhB,EAAY,GAEPz+B,EAAI,EAAGA,EAAIsd,EAAInkB,SAAU6G,OACR,IAAXsd,EAAItd,IACXy+B,EAAU9kC,KAAK2jB,EAAItd,IAI3BC,EAAKqd,IAAIrd,EAAK6V,MAAQ2oB,CAC1B,CACJ,CACJ,CAgNIC,CAAaH,GAENrjC,CACX,EA8CIwlB,OAhKS,SAAU9mB,EAAK+kC,EAAgBC,GACxC,IAAIC,EAAiBjlC,EAAIJ,QAAQ,MAAO,KACxC,GAAgB,eAAZolC,EAEA,OAAOC,EAAerlC,QAAQ,iBAAkB87B,UAGpD,IACI,OAAOwJ,mBAAmBD,EAC9B,CAAE,MAAOxuB,GACL,OAAOwuB,CACX,CACJ,EAqJIxd,OA/IS,SAAgBznB,EAAKmlC,EAAgBH,EAASI,EAAM1iC,GAG7D,GAAmB,IAAf1C,EAAIT,OACJ,OAAOS,EAGX,IAAI6lB,EAAS7lB,EAOb,GANmB,iBAARA,EACP6lB,EAASvC,OAAOle,UAAU6J,SAAS1O,KAAKP,GAClB,iBAARA,IACd6lB,EAAStJ,OAAOvc,IAGJ,eAAZglC,EACA,OAAO9wB,OAAO2R,GAAQjmB,QAAQ,kBAAmB,SAAUylC,GACvD,MAAO,SAAW/oB,SAAS+oB,EAAG/kC,MAAM,GAAI,IAAM,KAClD,GAIJ,IADA,IAAI8iB,EAAM,GACDhd,EAAI,EAAGA,EAAIyf,EAAOtmB,OAAQ6G,GAAK0M,EAAO,CAI3C,IAHA,IAAIib,EAAUlI,EAAOtmB,QAAUuT,EAAQ+S,EAAOvlB,MAAM8F,EAAGA,EAAI0M,GAAS+S,EAChEqI,EAAM,GAEDruB,EAAI,EAAGA,EAAIkuB,EAAQxuB,SAAUM,EAAG,CACrC,IAAI0qB,EAAIwD,EAAQzS,WAAWzb,GAEjB,KAAN0qB,GACS,KAANA,GACM,KAANA,GACM,MAANA,GACCA,GAAK,IAAQA,GAAK,IAClBA,GAAK,IAAQA,GAAK,IAClBA,GAAK,IAAQA,GAAK,KAClB7nB,IAAWkhC,EAAQ0B,UAAkB,KAAN/a,GAAoB,KAANA,GAEjD2D,EAAIA,EAAI3uB,QAAUwuB,EAAQH,OAAO/tB,GAIjC0qB,EAAI,IACJ2D,EAAIA,EAAI3uB,QAAU6kC,EAAS7Z,GAI3BA,EAAI,KACJ2D,EAAIA,EAAI3uB,QAAU6kC,EAAS,IAAQ7Z,GAAK,GAClC6Z,EAAS,IAAY,GAAJ7Z,GAIvBA,EAAI,OAAUA,GAAK,MACnB2D,EAAIA,EAAI3uB,QAAU6kC,EAAS,IAAQ7Z,GAAK,IAClC6Z,EAAS,IAAS7Z,GAAK,EAAK,IAC5B6Z,EAAS,IAAY,GAAJ7Z,IAI3B1qB,GAAK,EACL0qB,EAAI,QAAiB,KAAJA,IAAc,GAA+B,KAAxBwD,EAAQzS,WAAWzb,IAEzDquB,EAAIA,EAAI3uB,QAAU6kC,EAAS,IAAQ7Z,GAAK,IAClC6Z,EAAS,IAAS7Z,GAAK,GAAM,IAC7B6Z,EAAS,IAAS7Z,GAAK,EAAK,IAC5B6Z,EAAS,IAAY,GAAJ7Z,GAC3B,CAEAnH,GAAO8K,EAAIjuB,KAAK,GACpB,CAEA,OAAOmjB,CACX,EAwEIQ,SA1CW,SAAkBF,GAC7B,SAAKA,GAAsB,iBAARA,KAITA,EAAIliB,aAAekiB,EAAIliB,YAAYoiB,UAAYF,EAAIliB,YAAYoiB,SAASF,IACtF,EAqCIugB,WAAYA,EACZsB,SAhDW,SAAkB7hB,GAC7B,MAA+C,oBAAxC1hB,OAAOoD,UAAU6J,SAAS1O,KAAKmjB,EAC1C,EA+CI8hB,SArBW,SAAkB3jC,EAAK8jB,GAClC,GAAIngB,EAAQ3D,GAAM,CAEd,IADA,IAAI4jC,EAAS,GACJ5lC,EAAI,EAAGA,EAAIgC,EAAItC,OAAQM,GAAK,EACjC4lC,EAAO1lC,KAAK4lB,EAAG9jB,EAAIhC,KAEvB,OAAO4lC,CACX,CACA,OAAO9f,EAAG9jB,EACd,EAaI6jC,MA1PQ,SAASA,EAAMld,EAAQC,EAAQ5kB,GAEvC,IAAK4kB,EACD,OAAOD,EAGX,GAAsB,iBAAXC,GAAyC,mBAAXA,EAAuB,CAC5D,GAAIjjB,EAAQgjB,GACRA,EAAOzoB,KAAK0oB,OACT,KAAID,GAA4B,iBAAXA,EAaxB,MAAO,CAACA,EAAQC,GAZhB,GAAIwb,EAAWzb,GAAS,CAEpB,IAAIic,EAAWP,EAAY1b,GAAU,EACrCA,EAAOic,GAAYhc,EACnB0b,EAAY3b,EAAQic,EACxB,MACK5gC,IAAYA,EAAQygC,cAAgBzgC,EAAQ8hC,mBACzCxkC,EAAIZ,KAAKyB,OAAOoD,UAAWqjB,MAE/BD,EAAOC,IAAU,EAIzB,CAEA,OAAOD,CACX,CAEA,IAAKA,GAA4B,iBAAXA,EAAqB,CACvC,GAAIyb,EAAWxb,GAAS,CAMpB,IAJA,IAAImd,EAAa5jC,OAAOC,KAAKwmB,GACzBhkB,EAASZ,GAAWA,EAAQygC,aAC1B,CAAEvH,UAAW,KAAM,EAAGvU,GACtB,CAAE,EAAGA,GACFna,EAAI,EAAGA,EAAIu3B,EAAWrmC,OAAQ8O,IAEnC5J,EADa6X,SAASspB,EAAWv3B,GAAI,IACrB,GAAKoa,EAAOmd,EAAWv3B,IAE3C,OAAO01B,EAAat/B,EAAQy/B,EAAYzb,GAAU,EACtD,CACA,MAAO,CAACD,GAAQ7jB,OAAO8jB,EAC3B,CAEA,IAAIod,EAAcrd,EAKlB,OAJIhjB,EAAQgjB,KAAYhjB,EAAQijB,KAC5Bod,EAAcxB,EAAc7b,EAAQ3kB,IAGpC2B,EAAQgjB,IAAWhjB,EAAQijB,IAC3BA,EAAOxP,QAAQ,SAAU5S,EAAMxG,GAC3B,GAAIsB,EAAIZ,KAAKioB,EAAQ3oB,GAAI,CACrB,IAAIimC,EAAatd,EAAO3oB,GACpBimC,GAAoC,iBAAfA,GAA2Bz/B,GAAwB,iBAATA,EAC/DmiB,EAAO3oB,GAAK6lC,EAAMI,EAAYz/B,EAAMxC,GAEpC2kB,EAAOzoB,KAAKsG,EAEpB,MACImiB,EAAO3oB,GAAKwG,CAEpB,GACOmiB,GAGJxmB,OAAOC,KAAKwmB,GAAQkb,OAAO,SAAUzM,EAAKh2B,GAC7C,IAAII,EAAQmnB,EAAOvnB,GAOnB,OALIC,EAAIZ,KAAK22B,EAAKh2B,GACdg2B,EAAIh2B,GAAOwkC,EAAMxO,EAAIh2B,GAAMI,EAAOuC,GAElCqzB,EAAIh2B,GAAOI,EAER41B,CACX,EAAG2O,EACP,E,gCC9IWE,EAQAC,E,oCAPX,SAAWD,GACPA,EAAe,KAAI,OACnBA,EAAiB,OAAI,SACrBA,EAAe,KAAI,OACnBA,EAAmB,SAAI,WACvBA,EAAgB,MAAI,OACvB,CAND,CAMGA,IAAaA,EAAW,CAAC,IAE5B,SAAWC,GACPA,EAA4B,iBAAI,sBAChCA,EAA2B,gBAAI,oBAC/BA,EAA+B,oBAAI,wBACnCA,EAAmC,wBAAI,wBACvCA,EAA8B,mBAAI,uBAClCA,EAAwB,aAAI,eAC/B,CAPD,CAOGA,IAAcA,EAAY,CAAC,G,6FCbvB,SAASC,EAAuBj+B,GACnC,KAAK,aAAY,WAAmBA,aAAgB,WAEhD,MAAO,CAACA,EAAM,CAAC,GAEnB,GAAoB,iBAATA,EACP,MAAO,CAACA,EAAM,CAAC,GAEd,IAAI,OAASA,GACd,MAAO,CAACA,EAAM,CAAC,GAEd,IAAI,OAAcA,GACnB,MAAO,CAACA,EAAM,CAAC,GAEd,GAAIA,GAAwB,iBAATA,EACpB,MAAO,CACHk+B,KAAKC,UAAUn+B,GACf,CACI,eAAgB,qBAI5B,MAAM,IAAId,MAAM,gEAAgEc,EACpF,C,yHCrBA,MAAMo+B,EAAkB,8BACjBv0B,eAAew0B,EAAK/+B,EAAS6kB,EAAMtoB,EAAU,CAAC,GACjD,MAAM,aAAEyiC,EAAY,QAAEC,EAAUH,GAAoBviC,EAC9CqE,EAAU,CACZmsB,OAAQ,6BACRmS,QAASD,GAETD,IACAp+B,EAAQu+B,GAAKH,GAEjB,MAAMxb,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWoB,IAC3CnB,OAAQ,OACR9iB,UACAF,MAAM,OAAgBV,EAAQo/B,cAC/Bp/B,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,IAC/C,QAAmBA,EAASP,GAC5B,MAAM86B,QAAqB96B,EAASwtB,OAC9BoS,GAAc,OAAqB9E,GACnCt2B,EAAQ,MAAeo7B,EAAa,gDACpCC,EAAgB,MAAeD,EAAa,yCAClD,IAAKp7B,EAED,MADY,QAAwBxE,EAAU,4BAGlD,MAAO,CACHwE,QACAq7B,gBAER,CACO/0B,eAAeg1B,EAAOv/B,EAAS6kB,EAAM5gB,EAAO1H,EAAU,CAAC,GAC1D,MAAMinB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWoB,IAC3CnB,OAAQ,SACR9iB,QAAS,CACL,aAAcqD,IAEnBjE,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,GAE/C,IADA,QAAmBA,EAASP,GACJ,MAApBA,EAASI,QAAsC,MAApBJ,EAASI,OAEpC,MADY,QAAwBJ,EAG5C,C,4BClDmB,IAAIkO,IAAI,CACvB,CAAC,GAAI,UACL,CAAC,GAAI,SACL,CAAC,GAAI,UACL,CAAC,GAAI,QACL,CAAC,GAAI,UAKTsH,OAAOnX,UAAU0hC,YAwFyB,IAAI7xB,IAAI,CAC9C,CAAC,GAAI,UACL,CAAC,GAAI,SACL,CAAC,IAAK,YAQ2D,IAAIA,IAAI,CACzE,CAAC,GAAI,SACL,CAAC,GAAI,QACL,CAAC,GAAI,QACL,CAAC,IAAK,W,8BC7FN0T,EAA4B3mB,OAAO2mB,2BACrC,SAAmCjF,GAGjC,IAFA,IAAIzhB,EAAOD,OAAOC,KAAKyhB,GACnBqjB,EAAc,CAAC,EACVlnC,EAAI,EAAGA,EAAIoC,EAAK1C,OAAQM,IAC/BknC,EAAY9kC,EAAKpC,IAAMmC,OAAOqmB,yBAAyB3E,EAAKzhB,EAAKpC,IAEnE,OAAOknC,CACT,EAEEC,EAAe,WACnBlmC,EAAQ4B,OAAS,SAASosB,GACxB,IAAK7B,EAAS6B,GAAI,CAEhB,IADA,IAAI4B,EAAU,GACL7wB,EAAI,EAAGA,EAAIQ,UAAUd,OAAQM,IACpC6wB,EAAQ3wB,KAAKU,EAAQJ,UAAUR,KAEjC,OAAO6wB,EAAQzwB,KAAK,IACtB,CAEIJ,EAAI,EAmBR,IAnBA,IACIgJ,EAAOxI,UACPgiB,EAAMxZ,EAAKtJ,OACXS,EAAMuc,OAAOuS,GAAGlvB,QAAQonC,EAAc,SAAS9Z,GACjD,GAAU,OAANA,EAAY,MAAO,IACvB,GAAIrtB,GAAKwiB,EAAK,OAAO6K,EACrB,OAAQA,GACN,IAAK,KAAM,OAAO3Q,OAAO1T,EAAKhJ,MAC9B,IAAK,KAAM,OAAOqJ,OAAOL,EAAKhJ,MAC9B,IAAK,KACH,IACE,OAAOqmC,KAAKC,UAAUt9B,EAAKhJ,KAC7B,CAAE,MAAOwjB,GACP,MAAO,YACT,CACF,QACE,OAAO6J,EAEb,GACSA,EAAIrkB,EAAKhJ,GAAIA,EAAIwiB,EAAK6K,EAAIrkB,IAAOhJ,GACpConC,EAAO/Z,KAAO+B,EAAS/B,GACzBltB,GAAO,IAAMktB,EAEbltB,GAAO,IAAMS,EAAQysB,GAGzB,OAAOltB,CACT,EAMAc,EAAQ6d,UAAY,SAASgH,EAAI/P,GAC/B,QAAuB,IAAZnN,IAAqD,IAA1BA,EAAQy+B,cAC5C,OAAOvhB,EAIT,QAAuB,IAAZld,EACT,OAAO,WACL,OAAO3H,EAAQ6d,UAAUgH,EAAI/P,GAAK0S,MAAM5mB,KAAMrB,UAChD,EAGF,IAAI8mC,GAAS,EAeb,OAdA,WACE,IAAKA,EAAQ,CACX,GAAI1+B,EAAQ2+B,iBACV,MAAM,IAAIlgC,MAAM0O,GACPnN,EAAQ4+B,iBACjBv+B,QAAQw+B,MAAM1xB,GAEd9M,QAAQC,MAAM6M,GAEhBuxB,GAAS,CACX,CACA,OAAOxhB,EAAG2C,MAAM5mB,KAAMrB,UACxB,CAGF,EAGA,IAAIknC,EAAS,CAAC,EACVC,EAAgB,KAEpB,GAAI/+B,EAAQC,IAAIC,WAAY,CAC1B,IAAI8+B,EAAWh/B,EAAQC,IAAIC,WAC3B8+B,EAAWA,EAAS7nC,QAAQ,qBAAsB,QAC/CA,QAAQ,MAAO,MACfA,QAAQ,KAAM,OACdwsB,cACHob,EAAgB,IAAIhkC,OAAO,IAAMikC,EAAW,IAAK,IACnD,CA0BA,SAAShnC,EAAQijB,EAAKkI,GAEpB,IAAI8b,EAAM,CACRC,KAAM,GACNC,QAASC,GAkBX,OAfIxnC,UAAUd,QAAU,IAAGmoC,EAAIhd,MAAQrqB,UAAU,IAC7CA,UAAUd,QAAU,IAAGmoC,EAAII,OAASznC,UAAU,IAC9C0nC,EAAUnc,GAEZ8b,EAAIM,WAAapc,EACRA,GAET9qB,EAAQmnC,QAAQP,EAAK9b,GAGnBsc,EAAYR,EAAIM,cAAaN,EAAIM,YAAa,GAC9CE,EAAYR,EAAIhd,SAAQgd,EAAIhd,MAAQ,GACpCwd,EAAYR,EAAII,UAASJ,EAAII,QAAS,GACtCI,EAAYR,EAAI/c,iBAAgB+c,EAAI/c,eAAgB,GACpD+c,EAAII,SAAQJ,EAAIE,QAAUO,GACvBC,EAAYV,EAAKhkB,EAAKgkB,EAAIhd,MACnC,CAmCA,SAASyd,EAAiBnoC,EAAKqoC,GAC7B,IAAIC,EAAQ7nC,EAAQ8nC,OAAOF,GAE3B,OAAIC,EACK,KAAY7nC,EAAQqnC,OAAOQ,GAAO,GAAK,IAAMtoC,EAC7C,KAAYS,EAAQqnC,OAAOQ,GAAO,GAAK,IAEvCtoC,CAEX,CAGA,SAAS6nC,EAAe7nC,EAAKqoC,GAC3B,OAAOroC,CACT,CAcA,SAASooC,EAAYV,EAAKpmC,EAAOknC,GAG/B,GAAId,EAAI/c,eACJrpB,GACAsV,EAAWtV,EAAMb,UAEjBa,EAAMb,UAAYK,EAAQL,WAExBa,EAAME,aAAeF,EAAME,YAAY4D,YAAc9D,GAAQ,CACjE,IAAIqiB,EAAMriB,EAAMb,QAAQ+nC,EAAcd,GAItC,OAHKza,EAAStJ,KACZA,EAAMykB,EAAYV,EAAK/jB,EAAK6kB,IAEvB7kB,CACT,CAGA,IAAI8kB,EA+FN,SAAyBf,EAAKpmC,GAC5B,GAAI4mC,EAAY5mC,GACd,OAAOomC,EAAIE,QAAQ,YAAa,aAClC,GAAI3a,EAAS3rB,GAAQ,CACnB,IAAIonC,EAAS,IAAOxC,KAAKC,UAAU7kC,GAAO1B,QAAQ,SAAU,IAClBA,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAAO,IACjE,OAAO8nC,EAAIE,QAAQc,EAAQ,SAC7B,CACA,OAAIC,EAASrnC,GACJomC,EAAIE,QAAQ,GAAKtmC,EAAO,UAC7BymC,EAAUzmC,GACLomC,EAAIE,QAAQ,GAAKtmC,EAAO,WAE7B2lC,EAAO3lC,GACFomC,EAAIE,QAAQ,OAAQ,aAD7B,CAEF,CA/GkBgB,CAAgBlB,EAAKpmC,GACrC,GAAImnC,EACF,OAAOA,EAIT,IAAIxmC,EAAOD,OAAOC,KAAKX,GACnBunC,EApCN,SAAqBnjB,GACnB,IAAIojB,EAAO,CAAC,EAMZ,OAJApjB,EAAMzM,QAAQ,SAASpX,EAAK87B,GAC1BmL,EAAKjnC,IAAO,CACd,GAEOinC,CACT,CA4BoBC,CAAY9mC,GAQ9B,GANIylC,EAAIM,aACN/lC,EAAOD,OAAOgnC,oBAAoB1nC,IAKhC2nC,EAAQ3nC,KACJW,EAAK2E,QAAQ,YAAc,GAAK3E,EAAK2E,QAAQ,gBAAkB,GACrE,OAAOsiC,EAAY5nC,GAIrB,GAAoB,IAAhBW,EAAK1C,OAAc,CACrB,GAAIqX,EAAWtV,GAAQ,CACrB,IAAI2D,EAAO3D,EAAM2D,KAAO,KAAO3D,EAAM2D,KAAO,GAC5C,OAAOyiC,EAAIE,QAAQ,YAAc3iC,EAAO,IAAK,UAC/C,CACA,GAAIsgC,EAASjkC,GACX,OAAOomC,EAAIE,QAAQpkC,OAAO4B,UAAU6J,SAAS1O,KAAKe,GAAQ,UAE5D,GAAI6nC,EAAO7nC,GACT,OAAOomC,EAAIE,QAAQhiC,KAAKR,UAAU6J,SAAS1O,KAAKe,GAAQ,QAE1D,GAAI2nC,EAAQ3nC,GACV,OAAO4nC,EAAY5nC,EAEvB,CAEA,IA2CI0kB,EA3CArW,EAAO,GAAI+V,GAAQ,EAAO0jB,EAAS,CAAC,IAAK,KA6B7C,OA1BI5jC,EAAQlE,KACVokB,GAAQ,EACR0jB,EAAS,CAAC,IAAK,MAIbxyB,EAAWtV,KAEbqO,EAAO,cADCrO,EAAM2D,KAAO,KAAO3D,EAAM2D,KAAO,IACf,KAIxBsgC,EAASjkC,KACXqO,EAAO,IAAMnM,OAAO4B,UAAU6J,SAAS1O,KAAKe,IAI1C6nC,EAAO7nC,KACTqO,EAAO,IAAM/J,KAAKR,UAAUikC,YAAY9oC,KAAKe,IAI3C2nC,EAAQ3nC,KACVqO,EAAO,IAAMu5B,EAAY5nC,IAGP,IAAhBW,EAAK1C,QAAkBmmB,GAAyB,GAAhBpkB,EAAM/B,OAItCipC,EAAe,EACbjD,EAASjkC,GACJomC,EAAIE,QAAQpkC,OAAO4B,UAAU6J,SAAS1O,KAAKe,GAAQ,UAEnDomC,EAAIE,QAAQ,WAAY,YAInCF,EAAIC,KAAK5nC,KAAKuB,GAIZ0kB,EADEN,EAsCN,SAAqBgiB,EAAKpmC,EAAOknC,EAAcK,EAAa5mC,GAE1D,IADA,IAAI+jB,EAAS,GACJnmB,EAAI,EAAGqV,EAAI5T,EAAM/B,OAAQM,EAAIqV,IAAKrV,EACrC8F,EAAerE,EAAOib,OAAO1c,IAC/BmmB,EAAOjmB,KAAKupC,EAAe5B,EAAKpmC,EAAOknC,EAAcK,EACjDtsB,OAAO1c,IAAI,IAEfmmB,EAAOjmB,KAAK,IAShB,OANAkC,EAAKgX,QAAQ,SAAS/X,GACfA,EAAIzB,MAAM,UACbumB,EAAOjmB,KAAKupC,EAAe5B,EAAKpmC,EAAOknC,EAAcK,EACjD3nC,GAAK,GAEb,GACO8kB,CACT,CAtDaujB,CAAY7B,EAAKpmC,EAAOknC,EAAcK,EAAa5mC,GAEnDA,EAAK6M,IAAI,SAAS5N,GACzB,OAAOooC,EAAe5B,EAAKpmC,EAAOknC,EAAcK,EAAa3nC,EAAKwkB,EACpE,GAGFgiB,EAAIC,KAAKlqB,MA6GX,SAA8BuI,EAAQrW,EAAMy5B,GAQ1C,OANapjB,EAAO2d,OAAO,SAASpT,EAAMiZ,GAGxC,OADIA,EAAI5iC,QAAQ,MACT2pB,EAAOiZ,EAAI5pC,QAAQ,kBAAmB,IAAIL,OAAS,CAC5D,EAAG,GAEU,GACJ6pC,EAAO,IACG,KAATz5B,EAAc,GAAKA,EAAO,OAC3B,IACAqW,EAAO/lB,KAAK,SACZ,IACAmpC,EAAO,GAGTA,EAAO,GAAKz5B,EAAO,IAAMqW,EAAO/lB,KAAK,MAAQ,IAAMmpC,EAAO,EACnE,CA7HSK,CAAqBzjB,EAAQrW,EAAMy5B,IAxBjCA,EAAO,GAAKz5B,EAAOy5B,EAAO,EAyBrC,CAsBA,SAASF,EAAY5nC,GACnB,MAAO,IAAM4F,MAAM9B,UAAU6J,SAAS1O,KAAKe,GAAS,GACtD,CAuBA,SAASgoC,EAAe5B,EAAKpmC,EAAOknC,EAAcK,EAAa3nC,EAAKwkB,GAClE,IAAIzgB,EAAMjF,EAAK0pC,EAsCf,IArCAA,EAAO1nC,OAAOqmB,yBAAyB/mB,EAAOJ,IAAQ,CAAEI,MAAOA,EAAMJ,KAC5DE,IAELpB,EADE0pC,EAAKroC,IACDqmC,EAAIE,QAAQ,kBAAmB,WAE/BF,EAAIE,QAAQ,WAAY,WAG5B8B,EAAKroC,MACPrB,EAAM0nC,EAAIE,QAAQ,WAAY,YAG7BjiC,EAAekjC,EAAa3nC,KAC/B+D,EAAO,IAAM/D,EAAM,KAEhBlB,IACC0nC,EAAIC,KAAK/gC,QAAQ8iC,EAAKpoC,OAAS,GAE/BtB,EADEinC,EAAOuB,GACHJ,EAAYV,EAAKgC,EAAKpoC,MAAO,MAE7B8mC,EAAYV,EAAKgC,EAAKpoC,MAAOknC,EAAe,IAE5C5hC,QAAQ,OAAS,IAErB5G,EADE0lB,EACI1lB,EAAIG,MAAM,MAAM2O,IAAI,SAAS+G,GACjC,MAAO,KAAOA,CAChB,GAAG5V,KAAK,MAAMK,MAAM,GAEd,KAAON,EAAIG,MAAM,MAAM2O,IAAI,SAAS+G,GACxC,MAAO,MAAQA,CACjB,GAAG5V,KAAK,OAIZD,EAAM0nC,EAAIE,QAAQ,aAAc,YAGhCM,EAAYjjC,GAAO,CACrB,GAAIygB,GAASxkB,EAAIzB,MAAM,SACrB,OAAOO,GAETiF,EAAOihC,KAAKC,UAAU,GAAKjlC,IAClBzB,MAAM,iCACbwF,EAAOA,EAAK3E,MAAM,GAAI,GACtB2E,EAAOyiC,EAAIE,QAAQ3iC,EAAM,UAEzBA,EAAOA,EAAKrF,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAChBA,QAAQ,WAAY,KAChCqF,EAAOyiC,EAAIE,QAAQ3iC,EAAM,UAE7B,CAEA,OAAOA,EAAO,KAAOjF,CACvB,CA4BA,SAASwF,EAAQmkC,GACf,OAAOpkC,MAAMC,QAAQmkC,EACvB,CAGA,SAAS5B,EAAU9e,GACjB,MAAsB,kBAARA,CAChB,CAGA,SAASge,EAAOhe,GACd,OAAe,OAARA,CACT,CAQA,SAAS0f,EAAS1f,GAChB,MAAsB,iBAARA,CAChB,CAGA,SAASgE,EAAShE,GAChB,MAAsB,iBAARA,CAChB,CAQA,SAASif,EAAYjf,GACnB,YAAe,IAARA,CACT,CAGA,SAASsc,EAAS76B,GAChB,OAAOukB,EAASvkB,IAA8B,oBAAvBk/B,EAAel/B,EACxC,CAIA,SAASukB,EAAShG,GAChB,MAAsB,iBAARA,GAA4B,OAARA,CACpC,CAGA,SAASkgB,EAAOU,GACd,OAAO5a,EAAS4a,IAA4B,kBAAtBD,EAAeC,EACvC,CAIA,SAASZ,EAAQxyB,GACf,OAAOwY,EAASxY,KACW,mBAAtBmzB,EAAenzB,IAA2BA,aAAavP,MAC9D,CAIA,SAAS0P,EAAWqS,GAClB,MAAsB,mBAARA,CAChB,CAeA,SAAS2gB,EAAe9M,GACtB,OAAO96B,OAAOoD,UAAU6J,SAAS1O,KAAKu8B,EACxC,CAGA,SAASgN,EAAIziB,GACX,OAAOA,EAAI,GAAK,IAAMA,EAAEpY,SAAS,IAAMoY,EAAEpY,SAAS,GACpD,CAxbAnO,EAAQipC,SAAW,SAAS1oC,GAE1B,GADAA,EAAMA,EAAI+qB,eACLmb,EAAOlmC,GACV,GAAImmC,EAAc5+B,KAAKvH,GAAM,CAC3B,IAAI2oC,EAAMvhC,EAAQuhC,IAClBzC,EAAOlmC,GAAO,WACZ,IAAIuU,EAAM9U,EAAQ4B,OAAO4lB,MAAMxnB,EAAST,WACxCyI,QAAQC,MAAM,YAAa1H,EAAK2oC,EAAKp0B,EACvC,CACF,MACE2xB,EAAOlmC,GAAO,WAAY,EAG9B,OAAOkmC,EAAOlmC,EAChB,EAmCAP,EAAQL,QAAUA,EAIlBA,EAAQqnC,OAAS,CACf,KAAS,CAAC,EAAG,IACb,OAAW,CAAC,EAAG,IACf,UAAc,CAAC,EAAG,IAClB,QAAY,CAAC,EAAG,IAChB,MAAU,CAAC,GAAI,IACf,KAAS,CAAC,GAAI,IACd,MAAU,CAAC,GAAI,IACf,KAAS,CAAC,GAAI,IACd,KAAS,CAAC,GAAI,IACd,MAAU,CAAC,GAAI,IACf,QAAY,CAAC,GAAI,IACjB,IAAQ,CAAC,GAAI,IACb,OAAW,CAAC,GAAI,KAIlBrnC,EAAQ8nC,OAAS,CACf,QAAW,OACX,OAAU,SACV,QAAW,SACX,UAAa,OACb,KAAQ,OACR,OAAU,QACV,KAAQ,UAER,OAAU,OA+QZznC,EAAQs0B,MAAQ,EAAhB,OAKAt0B,EAAQ0E,QAAUA,EAKlB1E,EAAQinC,UAAYA,EAKpBjnC,EAAQmmC,OAASA,EAKjBnmC,EAAQmpC,kBAHR,SAA2BhhB,GACzB,OAAc,MAAPA,CACT,EAMAnoB,EAAQ6nC,SAAWA,EAKnB7nC,EAAQmsB,SAAWA,EAKnBnsB,EAAQopC,SAHR,SAAkBjhB,GAChB,MAAsB,iBAARA,CAChB,EAMAnoB,EAAQonC,YAAcA,EAKtBpnC,EAAQykC,SAAWA,EACnBzkC,EAAQs0B,MAAMmQ,SAAWA,EAKzBzkC,EAAQmuB,SAAWA,EAKnBnuB,EAAQqoC,OAASA,EACjBroC,EAAQs0B,MAAM+T,OAASA,EAMvBroC,EAAQmoC,QAAUA,EAClBnoC,EAAQs0B,MAAM+U,cAAgBlB,EAK9BnoC,EAAQ8V,WAAaA,EAUrB9V,EAAQspC,YARR,SAAqBnhB,GACnB,OAAe,OAARA,GACe,kBAARA,GACQ,iBAARA,GACQ,iBAARA,GACQ,iBAARA,QACQ,IAARA,CAChB,EAGAnoB,EAAQ8iB,SAAW,EAAnB,OAYA,IAAIymB,EAAS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACxD,MAAO,MAAO,OA6C5B,SAAS1kC,EAAe+d,EAAKxH,GAC3B,OAAOla,OAAOoD,UAAUO,eAAepF,KAAKmjB,EAAKxH,EACnD,CAlCApb,EAAQwpC,IAAM,WAVd,IACMT,EACAU,EASJzhC,QAAQwhC,IAAI,WATRC,EAAO,CAACT,GADRD,EAAI,IAAIjkC,MACM4kC,YACNV,EAAID,EAAEY,cACNX,EAAID,EAAEa,eAAezqC,KAAK,KAC/B,CAAC4pC,EAAEc,UAAWN,EAAOR,EAAEe,YAAaL,GAAMtqC,KAAK,MAMlBa,EAAQ4B,OAAO4lB,MAAMxnB,EAAST,WACpE,EAgBAS,EAAQ0W,SAAW,EAAnB,OAEA1W,EAAQmnC,QAAU,SAAS4C,EAAQjpC,GAEjC,IAAKA,IAAQqtB,EAASrtB,GAAM,OAAOipC,EAInC,IAFA,IAAI5oC,EAAOD,OAAOC,KAAKL,GACnB/B,EAAIoC,EAAK1C,OACNM,KACLgrC,EAAO5oC,EAAKpC,IAAM+B,EAAIK,EAAKpC,IAE7B,OAAOgrC,CACT,EAMA,IAAIC,EAA6C,oBAAXxnB,OAAyBA,OAAO,8BAA2B1e,EA0DjG,SAASmmC,EAAsBC,EAAQ9sB,GAKrC,IAAK8sB,EAAQ,CACX,IAAIC,EAAY,IAAI/jC,MAAM,2CAC1B+jC,EAAUD,OAASA,EACnBA,EAASC,CACX,CACA,OAAO/sB,EAAG8sB,EACZ,CAnEAlqC,EAAQoqC,UAAY,SAAmBjS,GACrC,GAAwB,mBAAbA,EACT,MAAM,IAAIz5B,UAAU,oDAEtB,GAAIsrC,GAA4B7R,EAAS6R,GAA2B,CAClE,IAAInlB,EACJ,GAAkB,mBADdA,EAAKsT,EAAS6R,IAEhB,MAAM,IAAItrC,UAAU,iEAKtB,OAHAwC,OAAO6S,eAAe8Q,EAAImlB,EAA0B,CAClDxpC,MAAOqkB,EAAIpB,YAAY,EAAOnL,UAAU,EAAO0P,cAAc,IAExDnD,CACT,CAEA,SAASA,IAQP,IAPA,IAAIwlB,EAAgBC,EAChB1Y,EAAU,IAAInZ,QAAQ,SAAUC,EAASC,GAC3C0xB,EAAiB3xB,EACjB4xB,EAAgB3xB,CAClB,GAEI5Q,EAAO,GACFhJ,EAAI,EAAGA,EAAIQ,UAAUd,OAAQM,IACpCgJ,EAAK9I,KAAKM,UAAUR,IAEtBgJ,EAAK9I,KAAK,SAAUkH,EAAK3F,GACnB2F,EACFmkC,EAAcnkC,GAEdkkC,EAAe7pC,EAEnB,GAEA,IACE23B,EAAS3Q,MAAM5mB,KAAMmH,EACvB,CAAE,MAAO5B,GACPmkC,EAAcnkC,EAChB,CAEA,OAAOyrB,CACT,CAOA,OALA1wB,OAAOywB,eAAe9M,EAAI3jB,OAAOuwB,eAAe0G,IAE5C6R,GAA0B9oC,OAAO6S,eAAe8Q,EAAImlB,EAA0B,CAChFxpC,MAAOqkB,EAAIpB,YAAY,EAAOnL,UAAU,EAAO0P,cAAc,IAExD9mB,OAAO4mB,iBACZjD,EACAgD,EAA0BsQ,GAE9B,EAEAn4B,EAAQoqC,UAAU3hB,OAASuhB,EAiD3BhqC,EAAQuqC,YAlCR,SAAqBpS,GACnB,GAAwB,mBAAbA,EACT,MAAM,IAAIz5B,UAAU,oDAMtB,SAAS8rC,IAEP,IADA,IAAIziC,EAAO,GACFhJ,EAAI,EAAGA,EAAIQ,UAAUd,OAAQM,IACpCgJ,EAAK9I,KAAKM,UAAUR,IAGtB,IAAI0rC,EAAU1iC,EAAK4U,MACnB,GAAuB,mBAAZ8tB,EACT,MAAM,IAAI/rC,UAAU,8CAEtB,IAAI4Y,EAAO1W,KACPwc,EAAK,WACP,OAAOqtB,EAAQjjB,MAAMlQ,EAAM/X,UAC7B,EAGA44B,EAAS3Q,MAAM5mB,KAAMmH,GAClByR,KAAK,SAASqJ,GAAOlb,EAAQkQ,SAASuF,EAAGiV,KAAK,KAAM,KAAMxP,GAAM,EAC3D,SAAS6nB,GAAO/iC,EAAQkQ,SAASoyB,EAAsB5X,KAAK,KAAMqY,EAAKttB,GAAK,EACtF,CAKA,OAHAlc,OAAOywB,eAAe6Y,EAAetpC,OAAOuwB,eAAe0G,IAC3Dj3B,OAAO4mB,iBAAiB0iB,EACA3iB,EAA0BsQ,IAC3CqS,CACT,C,mFCtrBAzqC,EAAOC,QAnBP,SAA+B0B,GAC3B,MAAgC,mBAArBA,EACAA,EAEP+C,MAAMC,QAAQhD,GACNU,IACJ,IAAK,MAAMo0B,KAAW90B,EAAkB,CACpC,GAAuB,iBAAZ80B,GAAwBp0B,IAAao0B,EAC5C,OAAO,EAEX,GAAIA,aAAmB9zB,QAAU8zB,EAAQ1uB,KAAK1F,GAC1C,OAAO,CAEf,GAGD,KAAM,CACjB,C,oHCZO,MAAMuoC,EAAY,CAACvhB,EAAGoN,EAASzzB,EAAU,CAAC,MAC7C,OAAmByzB,MAEdzzB,EAAQ6nC,WAAmC,MAAtBpU,EAAQ1J,OAAO,KAGlC,IAAI+d,EAAUrU,EAASzzB,GAASpE,MAAMyqB,IAG3C0hB,EAAe,wBACfC,EAAkBhd,GAASC,IAAOA,EAAE5pB,WAAW,MAAQ4pB,EAAEsR,SAASvR,GAClEid,EAAqBjd,GAASC,GAAMA,EAAEsR,SAASvR,GAC/Ckd,EAAwBld,IAC1BA,EAAMA,EAAI1V,cACF2V,IAAOA,EAAE5pB,WAAW,MAAQ4pB,EAAE3V,cAAcinB,SAASvR,IAE3Dmd,EAA2Bnd,IAC7BA,EAAMA,EAAI1V,cACF2V,GAAMA,EAAE3V,cAAcinB,SAASvR,IAErCod,EAAgB,aAChBC,EAAmBpd,IAAOA,EAAE5pB,WAAW,MAAQ4pB,EAAEqd,SAAS,KAC1DC,EAAsBtd,GAAY,MAANA,GAAmB,OAANA,GAAcA,EAAEqd,SAAS,KAClEE,EAAY,UACZC,EAAexd,GAAY,MAANA,GAAmB,OAANA,GAAcA,EAAE5pB,WAAW,KAC7DqnC,EAAS,QACTC,EAAY1d,GAAmB,IAAbA,EAAEvvB,SAAiBuvB,EAAE5pB,WAAW,KAClDunC,EAAe3d,GAAmB,IAAbA,EAAEvvB,QAAsB,MAANuvB,GAAmB,OAANA,EACpD4d,EAAW,yBACXC,EAAmB,EAAEtH,EAAIxW,EAAM,OACjC,MAAMsI,EAAQyV,EAAgB,CAACvH,IAC/B,OAAKxW,GAELA,EAAMA,EAAI1V,cACF2V,GAAMqI,EAAMrI,IAAMA,EAAE3V,cAAcinB,SAASvR,IAFxCsI,GAIT0V,EAAsB,EAAExH,EAAIxW,EAAM,OACpC,MAAMsI,EAAQ2V,EAAmB,CAACzH,IAClC,OAAKxW,GAELA,EAAMA,EAAI1V,cACF2V,GAAMqI,EAAMrI,IAAMA,EAAE3V,cAAcinB,SAASvR,IAFxCsI,GAIT4V,EAAgB,EAAE1H,EAAIxW,EAAM,OAC9B,MAAMsI,EAAQ2V,EAAmB,CAACzH,IAClC,OAAQxW,EAAeC,GAAMqI,EAAMrI,IAAMA,EAAEsR,SAASvR,GAAtCsI,GAEZ6V,EAAa,EAAE3H,EAAIxW,EAAM,OAC3B,MAAMsI,EAAQyV,EAAgB,CAACvH,IAC/B,OAAQxW,EAAeC,GAAMqI,EAAMrI,IAAMA,EAAEsR,SAASvR,GAAtCsI,GAEZyV,EAAkB,EAAEvH,MACtB,MAAMhjB,EAAMgjB,EAAG9lC,OACf,OAAQuvB,GAAMA,EAAEvvB,SAAW8iB,IAAQyM,EAAE5pB,WAAW,MAE9C4nC,EAAqB,EAAEzH,MACzB,MAAMhjB,EAAMgjB,EAAG9lC,OACf,OAAQuvB,GAAMA,EAAEvvB,SAAW8iB,GAAa,MAANyM,GAAmB,OAANA,GAG7Cme,EAAsC,iBAAZxkC,GAAwBA,EAC1B,iBAAhBA,EAAQC,KACdD,EAAQC,KACRD,EAAQC,IAAIwkC,gCACZzkC,EAAQ0kC,SACV,QAMOje,EAA0B,UAApB+d,EAJD,KACA,IAIlBxB,EAAUvc,IAAMA,EACT,MAAMke,EAAW9pB,OAAO,eAC/BmoB,EAAU2B,SAAWA,EAcrB3B,EAAU9jC,OADY,CAAC2vB,EAASzzB,EAAU,CAAC,IAAOqmB,GAAMuhB,EAAUvhB,EAAGoN,EAASzzB,GAE9E,MAAMgrB,EAAM,CAAC7rB,EAAG0Z,EAAI,CAAC,IAAM1a,OAAO8B,OAAO,CAAC,EAAGd,EAAG0Z,GAqChD+uB,EAAU4B,SApCeC,IACrB,IAAKA,GAAsB,iBAARA,IAAqBtrC,OAAOC,KAAKqrC,GAAK/tC,OACrD,OAAOksC,EAEX,MAAM8B,EAAO9B,EAEb,OAAOzpC,OAAO8B,OADJ,CAAComB,EAAGoN,EAASzzB,EAAU,CAAC,IAAM0pC,EAAKrjB,EAAGoN,EAASzI,EAAIye,EAAKzpC,IAC1C,CACpB8nC,UAAW,cAAwB4B,EAAK5B,UACpC,WAAAnqC,CAAY81B,EAASzzB,EAAU,CAAC,GAC5B6vB,MAAM4D,EAASzI,EAAIye,EAAKzpC,GAC5B,CACA,eAAOwpC,CAASxpC,GACZ,OAAO0pC,EAAKF,SAASxe,EAAIye,EAAKzpC,IAAU8nC,SAC5C,GAEJ5V,IAAK,cAAkBwX,EAAKxX,IAExB,WAAAv0B,CAAYwS,EAAMgiB,EAAQnyB,EAAU,CAAC,GACjC6vB,MAAM1f,EAAMgiB,EAAQnH,EAAIye,EAAKzpC,GACjC,CAEA,eAAOwzB,CAASC,EAASzzB,EAAU,CAAC,GAChC,OAAO0pC,EAAKxX,IAAIsB,SAASC,EAASzI,EAAIye,EAAKzpC,GAC/C,GAEJ63B,SAAU,CAACzR,EAAGpmB,EAAU,CAAC,IAAM0pC,EAAK7R,SAASzR,EAAG4E,EAAIye,EAAKzpC,IACzDqQ,OAAQ,CAAC+V,EAAGpmB,EAAU,CAAC,IAAM0pC,EAAKr5B,OAAO+V,EAAG4E,EAAIye,EAAKzpC,IACrD8D,OAAQ,CAAC2vB,EAASzzB,EAAU,CAAC,IAAM0pC,EAAK5lC,OAAO2vB,EAASzI,EAAIye,EAAKzpC,IACjEwpC,SAAWxpC,GAAY0pC,EAAKF,SAASxe,EAAIye,EAAKzpC,IAC9C2pC,OAAQ,CAAClW,EAASzzB,EAAU,CAAC,IAAM0pC,EAAKC,OAAOlW,EAASzI,EAAIye,EAAKzpC,IACjE4pC,YAAa,CAACnW,EAASzzB,EAAU,CAAC,IAAM0pC,EAAKE,YAAYnW,EAASzI,EAAIye,EAAKzpC,IAC3EpE,MAAO,CAAC2wB,EAAMkH,EAASzzB,EAAU,CAAC,IAAM0pC,EAAK9tC,MAAM2wB,EAAMkH,EAASzI,EAAIye,EAAKzpC,IAC3EqrB,IAAKqe,EAAKre,IACVke,SAAUA,KAcX,MAAMK,EAAc,CAACnW,EAASzzB,EAAU,CAAC,MAC5C,OAAmByzB,GAGfzzB,EAAQ6pC,UAAY,mBAAmB9kC,KAAK0uB,GAErC,CAACA,GAEL,EAAOA,IAElBmU,EAAUgC,YAAcA,EAaxBhC,EAAU+B,OADY,CAAClW,EAASzzB,EAAU,CAAC,IAAM,IAAI8nC,EAAUrU,EAASzzB,GAAS2pC,SAUjF/B,EAAUhsC,MARW,CAAC2wB,EAAMkH,EAASzzB,EAAU,CAAC,KAC5C,MAAM8pC,EAAK,IAAIhC,EAAUrU,EAASzzB,GAKlC,OAJAusB,EAAOA,EAAKzoB,OAAOmnB,GAAK6e,EAAGluC,MAAMqvB,IAC7B6e,EAAG9pC,QAAQ+pC,SAAWxd,EAAK7wB,QAC3B6wB,EAAKrwB,KAAKu3B,GAEPlH,GAIX,MAAMyd,EAAY,0BAEX,MAAMlC,EACT9nC,QACAxC,IACAi2B,QACAqE,qBACAmS,SACAC,OACA16B,QACA26B,MACAC,wBACAC,QACAC,QACAC,UACA1W,OACA2W,UACAlB,SACAmB,mBACAC,OACA,WAAA/sC,CAAY81B,EAASzzB,EAAU,CAAC,IAC5B,OAAmByzB,GACnBzzB,EAAUA,GAAW,CAAC,EACtBnC,KAAKmC,QAAUA,EACfnC,KAAK41B,QAAUA,EACf51B,KAAKyrC,SAAWtpC,EAAQspC,UAAYF,EACpCvrC,KAAK2sC,UAA8B,UAAlB3sC,KAAKyrC,SACtBzrC,KAAKi6B,uBACC93B,EAAQ83B,uBAAuD,IAA/B93B,EAAQ2qC,mBAC1C9sC,KAAKi6B,uBACLj6B,KAAK41B,QAAU51B,KAAK41B,QAAQ13B,QAAQ,MAAO,MAE/C8B,KAAKusC,0BAA4BpqC,EAAQoqC,wBACzCvsC,KAAK6sC,OAAS,KACd7sC,KAAKqsC,QAAS,EACdrsC,KAAKosC,WAAajqC,EAAQiqC,SAC1BpsC,KAAK2R,SAAU,EACf3R,KAAKssC,OAAQ,EACbtsC,KAAKwsC,UAAYrqC,EAAQqqC,QACzBxsC,KAAKg2B,SAAWh2B,KAAKmC,QAAQ6zB,OAC7Bh2B,KAAK4sC,wBAC8B1pC,IAA/Bf,EAAQyqC,mBACFzqC,EAAQyqC,sBACL5sC,KAAK2sC,YAAa3sC,KAAKg2B,QACpCh2B,KAAKysC,QAAU,GACfzsC,KAAK0sC,UAAY,GACjB1sC,KAAKL,IAAM,GAEXK,KAAK+sC,MACT,CACA,QAAAxY,GACI,GAAIv0B,KAAKmC,QAAQ6qC,eAAiBhtC,KAAKL,IAAI9B,OAAS,EAChD,OAAO,EAEX,IAAK,MAAM+3B,KAAW51B,KAAKL,IACvB,IAAK,MAAM80B,KAAQmB,EACf,GAAoB,iBAATnB,EACP,OAAO,EAGnB,OAAO,CACX,CACA,KAAA3tB,IAAS6a,GAAK,CACd,IAAAorB,GACI,MAAMnX,EAAU51B,KAAK41B,QACfzzB,EAAUnC,KAAKmC,QAErB,IAAKA,EAAQ6nC,WAAmC,MAAtBpU,EAAQ1J,OAAO,GAErC,YADAlsB,KAAK2R,SAAU,GAGnB,IAAKikB,EAED,YADA51B,KAAKssC,OAAQ,GAIjBtsC,KAAKitC,cAELjtC,KAAKysC,QAAU,IAAI,IAAI9Y,IAAI3zB,KAAK+rC,gBAC5B5pC,EAAQ2E,QACR9G,KAAK8G,MAAQ,IAAIK,IAASC,QAAQC,SAASF,IAE/CnH,KAAK8G,MAAM9G,KAAK41B,QAAS51B,KAAKysC,SAU9B,MAAMS,EAAeltC,KAAKysC,QAAQr/B,IAAImb,GAAKvoB,KAAKmtC,WAAW5kB,IAC3DvoB,KAAK0sC,UAAY1sC,KAAKotC,WAAWF,GACjCltC,KAAK8G,MAAM9G,KAAK41B,QAAS51B,KAAK0sC,WAE9B,IAAI/sC,EAAMK,KAAK0sC,UAAUt/B,IAAI,CAACmb,EAAG5G,EAAG0rB,KAChC,GAAIrtC,KAAK2sC,WAAa3sC,KAAK4sC,mBAAoB,CAE3C,MAAMU,IAAiB,KAAT/kB,EAAE,IACH,KAATA,EAAE,IACQ,MAATA,EAAE,IAAe4jB,EAAUjlC,KAAKqhB,EAAE,KAClC4jB,EAAUjlC,KAAKqhB,EAAE,KAChBglB,EAAU,WAAWrmC,KAAKqhB,EAAE,IAClC,GAAI+kB,EACA,MAAO,IAAI/kB,EAAE3pB,MAAM,EAAG,MAAO2pB,EAAE3pB,MAAM,GAAGwO,IAAIogC,GAAMxtC,KAAKoO,MAAMo/B,KAE5D,GAAID,EACL,MAAO,CAAChlB,EAAE,MAAOA,EAAE3pB,MAAM,GAAGwO,IAAIogC,GAAMxtC,KAAKoO,MAAMo/B,IAEzD,CACA,OAAOjlB,EAAEnb,IAAIogC,GAAMxtC,KAAKoO,MAAMo/B,MAMlC,GAJAxtC,KAAK8G,MAAM9G,KAAK41B,QAASj2B,GAEzBK,KAAKL,IAAMA,EAAIsG,OAAOsiB,IAA2B,IAAtBA,EAAErjB,SAAQ,IAEjClF,KAAK2sC,UACL,IAAK,IAAIxuC,EAAI,EAAGA,EAAI6B,KAAKL,IAAI9B,OAAQM,IAAK,CACtC,MAAMqqB,EAAIxoB,KAAKL,IAAIxB,GACN,KAATqqB,EAAE,IACO,KAATA,EAAE,IACuB,MAAzBxoB,KAAK0sC,UAAUvuC,GAAG,IACF,iBAATqqB,EAAE,IACT,YAAYthB,KAAKshB,EAAE,MACnBA,EAAE,GAAK,IAEf,CAEJxoB,KAAK8G,MAAM9G,KAAK41B,QAAS51B,KAAKL,IAClC,CAMA,UAAAytC,CAAWV,GAEP,GAAI1sC,KAAKmC,QAAQsrC,WACb,IAAK,IAAItvC,EAAI,EAAGA,EAAIuuC,EAAU7uC,OAAQM,IAClC,IAAK,IAAIuG,EAAI,EAAGA,EAAIgoC,EAAUvuC,GAAGN,OAAQ6G,IACb,OAApBgoC,EAAUvuC,GAAGuG,KACbgoC,EAAUvuC,GAAGuG,GAAK,KAKlC,MAAM,kBAAEgpC,EAAoB,GAAM1tC,KAAKmC,QAcvC,OAbIurC,GAAqB,GAErBhB,EAAY1sC,KAAK2tC,qBAAqBjB,GACtCA,EAAY1sC,KAAK4tC,sBAAsBlB,IAIvCA,EAFKgB,GAAqB,EAEd1tC,KAAK6tC,iBAAiBnB,GAItB1sC,KAAK8tC,0BAA0BpB,GAExCA,CACX,CAEA,yBAAAoB,CAA0BpB,GACtB,OAAOA,EAAUt/B,IAAI5O,IACjB,IAAIuvC,GAAM,EACV,MAAQ,KAAOA,EAAKvvC,EAAM0G,QAAQ,KAAM6oC,EAAK,KAAK,CAC9C,IAAI5vC,EAAI4vC,EACR,KAAwB,OAAjBvvC,EAAML,EAAI,IACbA,IAEAA,IAAM4vC,GACNvvC,EAAMsnB,OAAOioB,EAAI5vC,EAAI4vC,EAE7B,CACA,OAAOvvC,GAEf,CAEA,gBAAAqvC,CAAiBnB,GACb,OAAOA,EAAUt/B,IAAI5O,GAeO,KAdxBA,EAAQA,EAAMyjC,OAAO,CAACtiC,EAAK80B,KACvB,MAAM5F,EAAOlvB,EAAIA,EAAI9B,OAAS,GAC9B,MAAa,OAAT42B,GAA0B,OAAT5F,EACVlvB,EAEE,OAAT80B,GACI5F,GAAiB,OAATA,GAA0B,MAATA,GAAyB,OAATA,GACzClvB,EAAIoc,MACGpc,IAGfA,EAAItB,KAAKo2B,GACF90B,IACR,KACU9B,OAAe,CAAC,IAAMW,EAE3C,CACA,oBAAAwvC,CAAqBxvC,GACZqF,MAAMC,QAAQtF,KACfA,EAAQwB,KAAKmtC,WAAW3uC,IAE5B,IAAIyvC,GAAe,EACnB,EAAG,CAGC,GAFAA,GAAe,GAEVjuC,KAAKusC,wBAAyB,CAC/B,IAAK,IAAIpuC,EAAI,EAAGA,EAAIK,EAAMX,OAAS,EAAGM,IAAK,CACvC,MAAMqqB,EAAIhqB,EAAML,GAEN,IAANA,GAAiB,KAANqqB,GAAyB,KAAbhqB,EAAM,IAEvB,MAANgqB,GAAmB,KAANA,IACbylB,GAAe,EACfzvC,EAAMsnB,OAAO3nB,EAAG,GAChBA,IAER,CACiB,MAAbK,EAAM,IACW,IAAjBA,EAAMX,QACQ,MAAbW,EAAM,IAA2B,KAAbA,EAAM,KAC3ByvC,GAAe,EACfzvC,EAAMud,MAEd,CAEA,IAAImyB,EAAK,EACT,MAAQ,KAAOA,EAAK1vC,EAAM0G,QAAQ,KAAMgpC,EAAK,KAAK,CAC9C,MAAM1lB,EAAIhqB,EAAM0vC,EAAK,GACjB1lB,GAAW,MAANA,GAAmB,OAANA,GAAoB,OAANA,IAChCylB,GAAe,EACfzvC,EAAMsnB,OAAOooB,EAAK,EAAG,GACrBA,GAAM,EAEd,CACJ,OAASD,GACT,OAAwB,IAAjBzvC,EAAMX,OAAe,CAAC,IAAMW,CACvC,CAmBA,oBAAAmvC,CAAqBjB,GACjB,IAAIuB,GAAe,EACnB,EAAG,CACCA,GAAe,EAEf,IAAK,IAAIzvC,KAASkuC,EAAW,CACzB,IAAIqB,GAAM,EACV,MAAQ,KAAOA,EAAKvvC,EAAM0G,QAAQ,KAAM6oC,EAAK,KAAK,CAC9C,IAAII,EAAMJ,EACV,KAA0B,OAAnBvvC,EAAM2vC,EAAM,IAEfA,IAIAA,EAAMJ,GACNvvC,EAAMsnB,OAAOioB,EAAK,EAAGI,EAAMJ,GAE/B,IAAI3xB,EAAO5d,EAAMuvC,EAAK,GACtB,MAAMvlB,EAAIhqB,EAAMuvC,EAAK,GACfK,EAAK5vC,EAAMuvC,EAAK,GACtB,GAAa,OAAT3xB,EACA,SACJ,IAAKoM,GACK,MAANA,GACM,OAANA,IACC4lB,GACM,MAAPA,GACO,OAAPA,EACA,SAEJH,GAAe,EAEfzvC,EAAMsnB,OAAOioB,EAAI,GACjB,MAAMtgC,EAAQjP,EAAMI,MAAM,GAC1B6O,EAAMsgC,GAAM,KACZrB,EAAUruC,KAAKoP,GACfsgC,GACJ,CAEA,IAAK/tC,KAAKusC,wBAAyB,CAC/B,IAAK,IAAIpuC,EAAI,EAAGA,EAAIK,EAAMX,OAAS,EAAGM,IAAK,CACvC,MAAMqqB,EAAIhqB,EAAML,GAEN,IAANA,GAAiB,KAANqqB,GAAyB,KAAbhqB,EAAM,IAEvB,MAANgqB,GAAmB,KAANA,IACbylB,GAAe,EACfzvC,EAAMsnB,OAAO3nB,EAAG,GAChBA,IAER,CACiB,MAAbK,EAAM,IACW,IAAjBA,EAAMX,QACQ,MAAbW,EAAM,IAA2B,KAAbA,EAAM,KAC3ByvC,GAAe,EACfzvC,EAAMud,MAEd,CAEA,IAAImyB,EAAK,EACT,MAAQ,KAAOA,EAAK1vC,EAAM0G,QAAQ,KAAMgpC,EAAK,KAAK,CAC9C,MAAM1lB,EAAIhqB,EAAM0vC,EAAK,GACrB,GAAI1lB,GAAW,MAANA,GAAmB,OAANA,GAAoB,OAANA,EAAY,CAC5CylB,GAAe,EACf,MACMI,EADiB,IAAPH,GAA8B,OAAlB1vC,EAAM0vC,EAAK,GACf,CAAC,KAAO,GAChC1vC,EAAMsnB,OAAOooB,EAAK,EAAG,KAAMG,GACN,IAAjB7vC,EAAMX,QACNW,EAAMH,KAAK,IACf6vC,GAAM,CACV,CACJ,CACJ,CACJ,OAASD,GACT,OAAOvB,CACX,CAQA,qBAAAkB,CAAsBlB,GAClB,IAAK,IAAIvuC,EAAI,EAAGA,EAAIuuC,EAAU7uC,OAAS,EAAGM,IACtC,IAAK,IAAIuG,EAAIvG,EAAI,EAAGuG,EAAIgoC,EAAU7uC,OAAQ6G,IAAK,CAC3C,MAAM4pC,EAAUtuC,KAAKuuC,WAAW7B,EAAUvuC,GAAIuuC,EAAUhoC,IAAK1E,KAAKusC,yBAClE,GAAI+B,EAAS,CACT5B,EAAUvuC,GAAK,GACfuuC,EAAUhoC,GAAK4pC,EACf,KACJ,CACJ,CAEJ,OAAO5B,EAAUzmC,OAAO8nC,GAAMA,EAAGlwC,OACrC,CACA,UAAA0wC,CAAWjtC,EAAG0Z,EAAGwzB,GAAe,GAC5B,IAAI3yB,EAAK,EACLC,EAAK,EACL/Y,EAAS,GACT0rC,EAAQ,GACZ,KAAO5yB,EAAKva,EAAEzD,QAAUie,EAAKd,EAAEnd,QAC3B,GAAIyD,EAAEua,KAAQb,EAAEc,GACZ/Y,EAAO1E,KAAe,MAAVowC,EAAgBzzB,EAAEc,GAAMxa,EAAEua,IACtCA,IACAC,SAEC,GAAI0yB,GAA0B,OAAVltC,EAAEua,IAAgBb,EAAEc,KAAQxa,EAAEua,EAAK,GACxD9Y,EAAO1E,KAAKiD,EAAEua,IACdA,SAEC,GAAI2yB,GAA0B,OAAVxzB,EAAEc,IAAgBxa,EAAEua,KAAQb,EAAEc,EAAK,GACxD/Y,EAAO1E,KAAK2c,EAAEc,IACdA,SAEC,GAAc,MAAVxa,EAAEua,KACPb,EAAEc,KACD9b,KAAKmC,QAAQm0B,KAAQtb,EAAEc,GAAItY,WAAW,MAC7B,OAAVwX,EAAEc,GAQD,IAAc,MAAVd,EAAEc,KACPxa,EAAEua,KACD7b,KAAKmC,QAAQm0B,KAAQh1B,EAAEua,GAAIrY,WAAW,MAC7B,OAAVlC,EAAEua,GASF,OAAO,EARP,GAAc,MAAV4yB,EACA,OAAO,EACXA,EAAQ,IACR1rC,EAAO1E,KAAK2c,EAAEc,IACdD,IACAC,GAIJ,KArBoB,CAChB,GAAc,MAAV2yB,EACA,OAAO,EACXA,EAAQ,IACR1rC,EAAO1E,KAAKiD,EAAEua,IACdA,IACAC,GACJ,CAkBJ,OAAOxa,EAAEzD,SAAWmd,EAAEnd,QAAUkF,CACpC,CACA,WAAAkqC,GACI,GAAIjtC,KAAKosC,SACL,OACJ,MAAMxW,EAAU51B,KAAK41B,QACrB,IAAIyW,GAAS,EACTqC,EAAe,EACnB,IAAK,IAAIvwC,EAAI,EAAGA,EAAIy3B,EAAQ/3B,QAAgC,MAAtB+3B,EAAQ1J,OAAO/tB,GAAYA,IAC7DkuC,GAAUA,EACVqC,IAEAA,IACA1uC,KAAK41B,QAAUA,EAAQh3B,MAAM8vC,IACjC1uC,KAAKqsC,OAASA,CAClB,CAMA,QAAAsC,CAASzoC,EAAM0vB,EAAS4W,GAAU,GAC9B,MAAMrqC,EAAUnC,KAAKmC,QAIrB,GAAInC,KAAK2sC,UAAW,CAChB,MAAMiC,EAA+B,iBAAZ1oC,EAAK,IAAmB,YAAYgB,KAAKhB,EAAK,IACjE2oC,GAAWD,GACD,KAAZ1oC,EAAK,IACO,KAAZA,EAAK,IACO,MAAZA,EAAK,IACL,YAAYgB,KAAKhB,EAAK,IACpB4oC,EAAqC,iBAAflZ,EAAQ,IAAmB,YAAY1uB,KAAK0uB,EAAQ,IAO1EmZ,EAAMF,EAAU,EAAID,EAAY,OAAI1rC,EACpC8rC,GAPcF,GACD,KAAflZ,EAAQ,IACO,KAAfA,EAAQ,IACO,MAAfA,EAAQ,IACc,iBAAfA,EAAQ,IACf,YAAY1uB,KAAK0uB,EAAQ,IAEJ,EAAIkZ,EAAe,OAAI5rC,EAChD,GAAmB,iBAAR6rC,GAAmC,iBAARC,EAAkB,CACpD,MAAOC,EAAIC,GAAM,CAAChpC,EAAK6oC,GAAMnZ,EAAQoZ,IACjCC,EAAGx3B,gBAAkBy3B,EAAGz3B,gBACxBme,EAAQoZ,GAAOC,EACXD,EAAMD,EACNnZ,EAAUA,EAAQh3B,MAAMowC,GAEnBD,EAAMC,IACX9oC,EAAOA,EAAKtH,MAAMmwC,IAG9B,CACJ,CAGA,MAAM,kBAAErB,EAAoB,GAAM1tC,KAAKmC,QACnCurC,GAAqB,IACrBxnC,EAAOlG,KAAKguC,qBAAqB9nC,IAErClG,KAAK8G,MAAM,WAAY9G,KAAM,CAAEkG,OAAM0vB,YACrC51B,KAAK8G,MAAM,WAAYZ,EAAKrI,OAAQ+3B,EAAQ/3B,QAC5C,IAAK,IAAIsxC,EAAK,EAAGC,EAAK,EAAGC,EAAKnpC,EAAKrI,OAAQk3B,EAAKa,EAAQ/3B,OAAQsxC,EAAKE,GAAMD,EAAKra,EAAIoa,IAAMC,IAAM,CAC5FpvC,KAAK8G,MAAM,iBACX,IAAI0hB,EAAIoN,EAAQwZ,GACZhiB,EAAIlnB,EAAKipC,GAKb,GAJAnvC,KAAK8G,MAAM8uB,EAASpN,EAAG4E,IAIb,IAAN5E,EACA,OAAO,EAGX,GAAIA,IAAMkjB,EAAU,CAChB1rC,KAAK8G,MAAM,WAAY,CAAC8uB,EAASpN,EAAG4E,IAuBpC,IAAIkiB,EAAKH,EACLI,EAAKH,EAAK,EACd,GAAIG,IAAOxa,EAAI,CAQX,IAPA/0B,KAAK8G,MAAM,iBAOJqoC,EAAKE,EAAIF,IACZ,GAAiB,MAAbjpC,EAAKipC,IACQ,OAAbjpC,EAAKipC,KACHhtC,EAAQm0B,KAA8B,MAAvBpwB,EAAKipC,GAAIjjB,OAAO,GACjC,OAAO,EAEf,OAAO,CACX,CAEA,KAAOojB,EAAKD,GAAI,CACZ,IAAIG,EAAYtpC,EAAKopC,GAGrB,GAFAtvC,KAAK8G,MAAM,mBAAoBZ,EAAMopC,EAAI1Z,EAAS2Z,EAAIC,GAElDxvC,KAAK2uC,SAASzoC,EAAKtH,MAAM0wC,GAAK1Z,EAAQh3B,MAAM2wC,GAAK/C,GAGjD,OAFAxsC,KAAK8G,MAAM,wBAAyBwoC,EAAID,EAAIG,IAErC,EAKP,GAAkB,MAAdA,GACc,OAAdA,IACErtC,EAAQm0B,KAA+B,MAAxBkZ,EAAUtjB,OAAO,GAAa,CAC/ClsB,KAAK8G,MAAM,gBAAiBZ,EAAMopC,EAAI1Z,EAAS2Z,GAC/C,KACJ,CAEAvvC,KAAK8G,MAAM,4CACXwoC,GAER,CAIA,SAAI9C,IAEAxsC,KAAK8G,MAAM,2BAA4BZ,EAAMopC,EAAI1Z,EAAS2Z,GACtDD,IAAOD,GAMnB,CAIA,IAAII,EASJ,GARiB,iBAANjnB,GACPinB,EAAMriB,IAAM5E,EACZxoB,KAAK8G,MAAM,eAAgB0hB,EAAG4E,EAAGqiB,KAGjCA,EAAMjnB,EAAEthB,KAAKkmB,GACbptB,KAAK8G,MAAM,gBAAiB0hB,EAAG4E,EAAGqiB,KAEjCA,EACD,OAAO,CACf,CAYA,GAAIN,IAAOE,GAAMD,IAAOra,EAGpB,OAAO,EAEN,GAAIoa,IAAOE,EAIZ,OAAO7C,EAEN,GAAI4C,IAAOra,EAKZ,OAAOoa,IAAOE,EAAK,GAAkB,KAAbnpC,EAAKipC,GAK7B,MAAM,IAAI3pC,MAAM,OAGxB,CACA,WAAAumC,GACI,OAAOA,EAAY/rC,KAAK41B,QAAS51B,KAAKmC,QAC1C,CACA,KAAAiM,CAAMwnB,IACF,OAAmBA,GACnB,MAAMzzB,EAAUnC,KAAKmC,QAErB,GAAgB,OAAZyzB,EACA,OAAO8V,EACX,GAAgB,KAAZ9V,EACA,MAAO,GAGX,IAAIjpB,EACA+iC,EAAW,MACV/iC,EAAIipB,EAAQ73B,MAAM8sC,IACnB6E,EAAWvtC,EAAQm0B,IAAMyU,EAAcD,GAEjCn+B,EAAIipB,EAAQ73B,MAAMmsC,IACxBwF,GAAYvtC,EAAQ6zB,OACd7zB,EAAQm0B,IACJgU,EACAD,EACJloC,EAAQm0B,IACJ8T,EACAD,GAAgBx9B,EAAE,KAEtBA,EAAIipB,EAAQ73B,MAAMitC,IACxB0E,GAAYvtC,EAAQ6zB,OACd7zB,EAAQm0B,IACJ6U,EACAF,EACJ9oC,EAAQm0B,IACJ+U,EACAC,GAAY3+B,IAEhBA,EAAIipB,EAAQ73B,MAAMwsC,IACxBmF,EAAWvtC,EAAQm0B,IAAMoU,EAAqBF,GAExC79B,EAAIipB,EAAQ73B,MAAM4sC,MACxB+E,EAAW9E,GAEf,MAAM5hC,EAAK,IAAI2sB,SAASC,EAAS51B,KAAKmC,SAAS0zB,cAK/C,OAJI6Z,GAA0B,iBAAP1mC,GAEnB+xB,QAAQ5nB,eAAenK,EAAI,OAAQ,CAAEpJ,MAAO8vC,IAEzC1mC,CACX,CACA,MAAA8iC,GACI,GAAI9rC,KAAK6sC,SAA0B,IAAhB7sC,KAAK6sC,OACpB,OAAO7sC,KAAK6sC,OAOhB,MAAMltC,EAAMK,KAAKL,IACjB,IAAKA,EAAI9B,OAEL,OADAmC,KAAK6sC,QAAS,EACP7sC,KAAK6sC,OAEhB,MAAM1qC,EAAUnC,KAAKmC,QACfwtC,EAAUxtC,EAAQsrC,WA1vBnBvZ,SA4vBC/xB,EAAQm0B,IAxvBH,0CAGE,0BAwvBPJ,EAAQ,IAAIvC,IAAIxxB,EAAQ6zB,OAAS,CAAC,KAAO,IAO/C,IAAIhtB,EAAKrJ,EACJyN,IAAIwoB,IACL,MAAMpB,EAAKoB,EAAQxoB,IAAIob,IACnB,GAAIA,aAAa1mB,OACb,IAAK,MAAMsrB,KAAK5E,EAAE0N,MAAMz3B,MAAM,IAC1By3B,EAAMh2B,IAAIktB,GAElB,MAAoB,iBAAN5E,EACKA,EAjrBLtqB,QAAQ,2BAA4B,QAkrB5CsqB,IAAMkjB,EACFA,EACAljB,EAAE2N,OAwBhB,OAtBA3B,EAAGjd,QAAQ,CAACiR,EAAGrqB,KACX,MAAMie,EAAOoY,EAAGr2B,EAAI,GACd0wB,EAAO2F,EAAGr2B,EAAI,GAChBqqB,IAAMkjB,GAAY7c,IAAS6c,SAGlBxoC,IAAT2rB,OACa3rB,IAATkZ,GAAsBA,IAASsvB,EAC/BlX,EAAGr2B,EAAI,GAAK,UAAYwxC,EAAU,QAAUvzB,EAG5CoY,EAAGr2B,GAAKwxC,OAGEzsC,IAATkZ,EACLoY,EAAGr2B,EAAI,GAAK0wB,EAAO,UAAY8gB,EAAU,KAEpCvzB,IAASsvB,IACdlX,EAAGr2B,EAAI,GAAK0wB,EAAO,aAAe8gB,EAAU,OAASvzB,EACrDoY,EAAGr2B,EAAI,GAAKutC,MAGblX,EAAGvuB,OAAOuiB,GAAKA,IAAMkjB,GAAUntC,KAAK,OAE1CA,KAAK,KAGV,MAAOsW,EAAMuD,GAASzY,EAAI9B,OAAS,EAAI,CAAC,MAAO,KAAO,CAAC,GAAI,IAG3DmL,EAAK,IAAM6L,EAAO7L,EAAKoP,EAAQ,IAE3BpY,KAAKqsC,SACLrjC,EAAK,OAASA,EAAK,QACvB,IACIhJ,KAAK6sC,OAAS,IAAI/qC,OAAOkH,EAAI,IAAIktB,GAAO33B,KAAK,IAEjD,CACA,MAAOqxC,GAEH5vC,KAAK6sC,QAAS,CAClB,CAEA,OAAO7sC,KAAK6sC,MAChB,CACA,UAAAM,CAAW3kB,GAKP,OAAIxoB,KAAKusC,wBACE/jB,EAAE/pB,MAAM,KAEVuB,KAAK2sC,WAAa,cAAczlC,KAAKshB,GAEnC,CAAC,MAAOA,EAAE/pB,MAAM,QAGhB+pB,EAAE/pB,MAAM,MAEvB,CACA,KAAAV,CAAMqvB,EAAGof,EAAUxsC,KAAKwsC,SAIpB,GAHAxsC,KAAK8G,MAAM,QAASsmB,EAAGptB,KAAK41B,SAGxB51B,KAAK2R,QACL,OAAO,EAEX,GAAI3R,KAAKssC,MACL,MAAa,KAANlf,EAEX,GAAU,MAANA,GAAaof,EACb,OAAO,EAEX,MAAMrqC,EAAUnC,KAAKmC,QAEjBnC,KAAK2sC,YACLvf,EAAIA,EAAE3uB,MAAM,MAAMF,KAAK,MAG3B,MAAMsxC,EAAK7vC,KAAKmtC,WAAW/f,GAC3BptB,KAAK8G,MAAM9G,KAAK41B,QAAS,QAASia,GAKlC,MAAMlwC,EAAMK,KAAKL,IACjBK,KAAK8G,MAAM9G,KAAK41B,QAAS,MAAOj2B,GAEhC,IAAIwG,EAAW0pC,EAAGA,EAAGhyC,OAAS,GAC9B,IAAKsI,EACD,IAAK,IAAIhI,EAAI0xC,EAAGhyC,OAAS,GAAIsI,GAAYhI,GAAK,EAAGA,IAC7CgI,EAAW0pC,EAAG1xC,GAGtB,IAAK,IAAIA,EAAI,EAAGA,EAAIwB,EAAI9B,OAAQM,IAAK,CACjC,MAAMy3B,EAAUj2B,EAAIxB,GACpB,IAAI+H,EAAO2pC,EAKX,GAJI1tC,EAAQiE,WAAgC,IAAnBwvB,EAAQ/3B,SAC7BqI,EAAO,CAACC,IAEAnG,KAAK2uC,SAASzoC,EAAM0vB,EAAS4W,GAErC,QAAIrqC,EAAQ2tC,aAGJ9vC,KAAKqsC,MAErB,CAGA,OAAIlqC,EAAQ2tC,YAGL9vC,KAAKqsC,MAChB,CACA,eAAOV,CAASC,GACZ,OAAO7B,EAAU4B,SAASC,GAAK3B,SACnC,EAOJF,EAAU1V,IAAM,IAChB0V,EAAUE,UAAYA,EACtBF,EAAUv3B,OAAS,IACnBu3B,EAAU/P,SAAW,G,WCv+BrB,MAAM+V,EAAW,wBACXC,EAAW,qCAKXC,EAAW,CACbC,KAAO,EAEPC,cAAc,EACdC,aAAc,IACdC,WAAW,GAmGflxC,EAAOC,QA/FP,SAAkBd,EAAK6D,EAAU,CAAC,GAE9B,GADAA,EAAU7B,OAAO8B,OAAO,CAAC,EAAG6tC,EAAU9tC,IAClC7D,GAAsB,iBAARA,EAAmB,OAAOA,EAE5C,IAAIgyC,EAAchyC,EAAIsO,OAEtB,QAAwB1J,IAArBf,EAAQouC,UAA0BpuC,EAAQouC,SAASrpC,KAAKopC,GAAa,OAAOhyC,EAC1E,GAAS,MAANA,EAAW,OAAO,EACrB,GAAI6D,EAAQ+tC,KAAOH,EAAS7oC,KAAKopC,GAClC,OA8ER,SAAmBE,GAEf,GAAG51B,SAAU,OAAOA,SAAS41B,EAhFI,IAiF5B,GAAGhpC,OAAOoT,SAAU,OAAOpT,OAAOoT,SAAS41B,EAjFf,IAkF5B,GAAGxgC,QAAUA,OAAO4K,SAAU,OAAO5K,OAAO4K,SAAS41B,EAlFzB,IAmF5B,MAAM,IAAIhrC,MAAM,+DACzB,CApFeirC,CAAUH,GAGf,IAAkC,IAA9BA,EAAWjmB,OAAO,QAAe,CACvC,MAAMqmB,EAAWJ,EAAWvyC,MAAM,qDAElC,GAAG2yC,EAAS,CAER,GAAGvuC,EAAQguC,aACPG,GAAcI,EAAS,IAAM,IAAMA,EAAS,QAE5C,GAAmB,MAAhBA,EAAS,IAAgC,MAAlBA,EAAS,GAAG,GAElC,OAAOpyC,EAGf,OAAO6D,EAAQkuC,UAAY7oC,OAAO8oC,GAAchyC,CACpD,CACI,OAAOA,CAIf,CAAK,CAED,MAAMP,EAAQiyC,EAASlkB,KAAKwkB,GAE5B,GAAGvyC,EAAM,CACL,MAAM4yC,EAAO5yC,EAAM,GACboyC,EAAepyC,EAAM,GAC3B,IAAI6yC,GAsCGJ,EAtC2BzyC,EAAM,MAuCV,IAAzByyC,EAAOtrC,QAAQ,MAEV,OADdsrC,EAASA,EAAOtyC,QAAQ,MAAO,KACXsyC,EAAS,IACP,MAAdA,EAAO,GAAaA,EAAS,IAAIA,EACL,MAA5BA,EAAOA,EAAO3yC,OAAO,KAAa2yC,EAASA,EAAO/sC,OAAO,EAAE+sC,EAAO3yC,OAAO,IAC1E2yC,GAEJA,EA3CC,IAAIruC,EAAQguC,cAAgBA,EAAatyC,OAAS,GAAK8yC,GAA0B,MAAlBL,EAAW,GAAY,OAAOhyC,EACxF,IAAI6D,EAAQguC,cAAgBA,EAAatyC,OAAS,IAAM8yC,GAA0B,MAAlBL,EAAW,GAAY,OAAOhyC,EAC9F,GAAG6D,EAAQguC,cAAgBA,IAAe7xC,EAAK,OAAO,EAEvD,CACA,MAAMgP,EAAM9F,OAAO8oC,GACbE,EAAS,GAAKljC,EAEpB,OAA8B,IAA3BkjC,EAAOnmB,OAAO,QACVloB,EAAQkuC,UAAkB/iC,EACjBhP,GACsB,IAA7BgyC,EAAWprC,QAAQ,KACV,MAAXsrC,GAAyC,KAAtBI,GACdJ,IAAWI,GACVD,GAAQH,IAAW,IAAII,EAFyBtjC,EAG7ChP,EAGb6xC,EACSS,IAAsBJ,GAAYG,EAAKC,IAAsBJ,EAAUljC,EAAMhP,EAE7EgyC,IAAeE,GAAYF,IAAeK,EAAKH,EAAUljC,EAAMhP,CAE/E,CACJ,CACI,OAAOA,CAEf,CAQJ,IAAmBkyC,CAPnB,C,4BClFA,IAAI3iB,EAAiB,EAAQ,MAAR,GAGjBQ,EAFY,EAAQ,MAERT,CAAU,6BAGtBijB,EAAsB,SAAqBjxC,GAC9C,QACCiuB,GACGjuB,GACiB,iBAAVA,GACPgiB,OAAOkvB,eAAelxC,IAIE,uBAArByuB,EAAUzuB,EAClB,EAGImxC,EAAoB,SAAqBnxC,GAC5C,QAAIixC,EAAoBjxC,IAGP,OAAVA,GACc,iBAAVA,GACP,WAAYA,GACY,iBAAjBA,EAAM/B,QACb+B,EAAM/B,QAAU,GACK,mBAArBwwB,EAAUzuB,IACV,WAAYA,GACgB,sBAA5ByuB,EAAUzuB,EAAMoxC,OACrB,EAEIC,EAA6B,WAChC,OAAOJ,EAAoBlyC,UAC5B,CAFgC,GAKhCkyC,EAAoBE,kBAAoBA,EAGxC5xC,EAAOC,QAAU6xC,EAA4BJ,EAAsBE,C,6CC3CnE,MAAMG,EAAwC,mBAAhBC,aACtB5jC,SAAU6jC,GAAgB9wC,OAAOoD,UAElC,SAAS2tC,EAAczxC,GAC1B,OAAQsxC,IACHtxC,aAAiBuxC,aAA2C,yBAA5BC,EAAYvyC,KAAKe,GAC1D,C,4BCJA,IAAIguB,EAAY,EAAQ,OAEpB0jB,EADgB,EAAQ,MACZC,CAAc,uBAC1B1jB,EAAiB,EAAQ,MAAR,GACjB2jB,EAAW,EAAQ,OAEnBC,EAAQ7jB,EAAU,6BAClB8jB,EAAU9jB,EAAU,+BAEpB+jB,EAAuB,EAAQ,MAGnCxyC,EAAOC,QAAU,SAA6B6kB,GAC7C,GAAkB,mBAAPA,EACV,OAAO,EAER,GAAIqtB,EAAUI,EAAQztB,IACrB,OAAO,EAER,IAAK4J,EAEJ,MAAe,+BADL4jB,EAAMxtB,GAGjB,IAAKutB,EACJ,OAAO,EAER,IAAII,EAAoBD,IACxB,OAAOC,GAAqBJ,EAASvtB,KAAQ2tB,EAAkBluC,SAChE,C,4BCzBA,IAAImuC,EAAoB,EAAQ,OAC5BC,EAAsB,EAAQ,OAC9BC,EAAkB,EAAQ,OAC1BC,EAAe,EAAQ,OAE3B,SAASC,EAAY7kB,GACnB,OAAOA,EAAEvuB,KAAK4yB,KAAKrE,EACrB,CAEA,IAAI8kB,EAAoC,oBAAXC,OACzBC,EAAoC,oBAAXxwB,OAEzBywB,EAAiBJ,EAAY3xC,OAAOoD,UAAU6J,UAE9C+kC,EAAcL,EAAYzqC,OAAO9D,UAAU0qB,SAC3CmkB,EAAcN,EAAYp3B,OAAOnX,UAAU0qB,SAC3CokB,EAAeP,EAAYQ,QAAQ/uC,UAAU0qB,SAEjD,GAAI8jB,EACF,IAAIQ,EAAcT,EAAYE,OAAOzuC,UAAU0qB,SAGjD,GAAIgkB,EACF,IAAIO,EAAcV,EAAYrwB,OAAOle,UAAU0qB,SAGjD,SAASwkB,EAAoBhzC,EAAOizC,GAClC,GAAqB,iBAAVjzC,EACT,OAAO,EAET,IAEE,OADAizC,EAAiBjzC,IACV,CACT,CAAE,MAAMmV,GACN,OAAO,CACT,CACF,CA4FA,SAAS+9B,EAAclzC,GACrB,MAAiC,iBAA1ByyC,EAAezyC,EACxB,CAiBA,SAASmzC,EAAcnzC,GACrB,MAAiC,iBAA1ByyC,EAAezyC,EACxB,CAgBA,SAASozC,EAAkBpzC,GACzB,MAAiC,qBAA1ByyC,EAAezyC,EACxB,CAgBA,SAASqzC,EAAkBrzC,GACzB,MAAiC,qBAA1ByyC,EAAezyC,EACxB,CAUA,SAASszC,EAAsBtzC,GAC7B,MAAiC,yBAA1ByyC,EAAezyC,EACxB,CAKA,SAASyxC,EAAczxC,GACrB,MAA2B,oBAAhBuxC,cAIJ+B,EAAsBC,QACzBD,EAAsBtzC,GACtBA,aAAiBuxC,YACvB,CAGA,SAASiC,EAAmBxzC,GAC1B,MAAiC,sBAA1ByyC,EAAezyC,EACxB,CAMA,SAASyzC,EAAWzzC,GAClB,MAAwB,oBAAb0zC,WAIJF,EAAmBD,QACtBC,EAAmBxzC,GACnBA,aAAiB0zC,SACvB,CA/LAl0C,EAAQyyC,kBAAoBA,EAC5BzyC,EAAQ0yC,oBAAsBA,EAC9B1yC,EAAQ4yC,aAAeA,EAkBvB5yC,EAAQm0C,UAdR,SAAmBluB,GAClB,MAEqB,oBAAZxN,SACPwN,aAAiBxN,SAGP,OAAVwN,GACiB,iBAAVA,GACe,mBAAfA,EAAMzM,MACU,mBAAhByM,EAAM7M,KAGhB,EAaApZ,EAAQo0C,kBAVR,SAA2B5zC,GACzB,MAA2B,oBAAhBuxC,aAA+BA,YAAYsC,OAC7CtC,YAAYsC,OAAO7zC,GAI1BoyC,EAAapyC,IACbyzC,EAAWzzC,EAEf,EAOAR,EAAQs0C,aAHR,SAAsB9zC,GACpB,MAAkC,eAA3BmyC,EAAgBnyC,EACzB,EAMAR,EAAQu0C,oBAHR,SAA6B/zC,GAC3B,MAAkC,sBAA3BmyC,EAAgBnyC,EACzB,EAMAR,EAAQw0C,cAHR,SAAuBh0C,GACrB,MAAkC,gBAA3BmyC,EAAgBnyC,EACzB,EAMAR,EAAQy0C,cAHR,SAAuBj0C,GACrB,MAAkC,gBAA3BmyC,EAAgBnyC,EACzB,EAMAR,EAAQ00C,YAHR,SAAqBl0C,GACnB,MAAkC,cAA3BmyC,EAAgBnyC,EACzB,EAMAR,EAAQ20C,aAHR,SAAsBn0C,GACpB,MAAkC,eAA3BmyC,EAAgBnyC,EACzB,EAMAR,EAAQ40C,aAHR,SAAsBp0C,GACpB,MAAkC,eAA3BmyC,EAAgBnyC,EACzB,EAMAR,EAAQ60C,eAHR,SAAwBr0C,GACtB,MAAkC,iBAA3BmyC,EAAgBnyC,EACzB,EAMAR,EAAQ80C,eAHR,SAAwBt0C,GACtB,MAAkC,iBAA3BmyC,EAAgBnyC,EACzB,EAMAR,EAAQ+0C,gBAHR,SAAyBv0C,GACvB,MAAkC,kBAA3BmyC,EAAgBnyC,EACzB,EAMAR,EAAQg1C,iBAHR,SAA0Bx0C,GACxB,MAAkC,mBAA3BmyC,EAAgBnyC,EACzB,EAMAkzC,EAAcK,QACG,oBAAR5/B,KACPu/B,EAAc,IAAIv/B,KAYpBnU,EAAQi1C,MATR,SAAez0C,GACb,MAAmB,oBAAR2T,MAIJu/B,EAAcK,QACjBL,EAAclzC,GACdA,aAAiB2T,IACvB,EAMAw/B,EAAcI,QACG,oBAARxf,KACPof,EAAc,IAAIpf,KAWpBv0B,EAAQk1C,MATR,SAAe10C,GACb,MAAmB,oBAAR+zB,MAIJof,EAAcI,QACjBJ,EAAcnzC,GACdA,aAAiB+zB,IACvB,EAMAqf,EAAkBG,QACG,oBAAZoB,SACPvB,EAAkB,IAAIuB,SAWxBn1C,EAAQo1C,UATR,SAAmB50C,GACjB,MAAuB,oBAAZ20C,UAIJvB,EAAkBG,QACrBH,EAAkBpzC,GAClBA,aAAiB20C,QACvB,EAMAtB,EAAkBE,QACG,oBAAZsB,SACPxB,EAAkB,IAAIwB,SAKxBr1C,EAAQs1C,UAHR,SAAmB90C,GACjB,OAAOqzC,EAAkBrzC,EAC3B,EAMAszC,EAAsBC,QACG,oBAAhBhC,aACP+B,EAAsB,IAAI/B,aAW5B/xC,EAAQiyC,cAAgBA,EAKxB+B,EAAmBD,QACM,oBAAhBhC,aACa,oBAAbmC,UACPF,EAAmB,IAAIE,SAAS,IAAInC,YAAY,GAAI,EAAG,IAWzD/xC,EAAQi0C,WAAaA,EAGrB,IAAIsB,EAAqD,oBAAtBC,kBAAoCA,uBAAoB1xC,EAC3F,SAAS2xC,EAA4Bj1C,GACnC,MAAiC,+BAA1ByyC,EAAezyC,EACxB,CACA,SAASk1C,EAAoBl1C,GAC3B,YAAqC,IAA1B+0C,SAIwC,IAAxCE,EAA4B1B,UACrC0B,EAA4B1B,QAAU0B,EAA4B,IAAIF,IAGjEE,EAA4B1B,QAC/B0B,EAA4Bj1C,GAC5BA,aAAiB+0C,EACvB,CA4BA,SAASI,EAAen1C,GACtB,OAAOgzC,EAAoBhzC,EAAO0yC,EACpC,CAGA,SAAS0C,EAAep1C,GACtB,OAAOgzC,EAAoBhzC,EAAO2yC,EACpC,CAGA,SAAS0C,EAAgBr1C,GACvB,OAAOgzC,EAAoBhzC,EAAO4yC,EACpC,CAGA,SAAS0C,EAAet1C,GACtB,OAAOsyC,GAAmBU,EAAoBhzC,EAAO8yC,EACvD,CAGA,SAASyC,EAAev1C,GACtB,OAAOwyC,GAAmBQ,EAAoBhzC,EAAO+yC,EACvD,CAjDAvzC,EAAQ01C,oBAAsBA,EAK9B11C,EAAQg2C,gBAHR,SAAyBx1C,GACvB,MAAiC,2BAA1ByyC,EAAezyC,EACxB,EAMAR,EAAQi2C,cAHR,SAAuBz1C,GACrB,MAAiC,0BAA1ByyC,EAAezyC,EACxB,EAMAR,EAAQk2C,cAHR,SAAuB11C,GACrB,MAAiC,0BAA1ByyC,EAAezyC,EACxB,EAMAR,EAAQm2C,kBAHR,SAA2B31C,GACzB,MAAiC,uBAA1ByyC,EAAezyC,EACxB,EAMAR,EAAQo2C,4BAHR,SAAqC51C,GACnC,MAAiC,gCAA1ByyC,EAAezyC,EACxB,EAMAR,EAAQ21C,eAAiBA,EAKzB31C,EAAQ41C,eAAiBA,EAKzB51C,EAAQ61C,gBAAkBA,EAK1B71C,EAAQ81C,eAAiBA,EAKzB91C,EAAQ+1C,eAAiBA,EAWzB/1C,EAAQq2C,iBATR,SAA0B71C,GACxB,OACEm1C,EAAen1C,IACfo1C,EAAep1C,IACfq1C,EAAgBr1C,IAChBs1C,EAAet1C,IACfu1C,EAAev1C,EAEnB,EASAR,EAAQs2C,iBANR,SAA0B91C,GACxB,MAA6B,oBAAfka,aACZu3B,EAAczxC,IACdk1C,EAAoBl1C,GAExB,EAGA,CAAC,UAAW,aAAc,2BAA2B2X,QAAQ,SAAS+R,GACpEhpB,OAAO6S,eAAe/T,EAASkqB,EAAQ,CACrCzG,YAAY,EACZjjB,MAAO,WACL,MAAM,IAAI4F,MAAM8jB,EAAS,gCAC3B,GAEJ,E,2FCzUOnZ,eAAewlC,EAAS/vC,EAASO,EAAUyvC,EAAazzC,EAAU,CAAC,GACtE,MAAMinB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWljB,IAC3CmjB,OAAQ,OACR9iB,QAAS,CACLqvC,aAAa,QAAQjwC,EAAQyjB,WAAW,QAAWusB,IAOnDE,WAAiC,IAAtB3zC,EAAQ08B,UAAsB,IAAM,IAM/CkX,MAAO5zC,EAAQ6zC,QAAU,IAAM,aAEpCpwC,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,IAC/C,QAAmBA,EAASP,EAChC,C,4BCxBA,MAAMimB,EAAO,EAAQ,OACf2qB,EAAU,EAAQ,MAClBC,EAAc,EAAQ,OACtBC,EAAW,EAAQ,OACnB11C,EAAwB,EAAQ,OAsDtC,SAAS6T,EAAoBR,GAC3B,MAAMsiC,EAAU91C,OAAOC,KAAKuT,GAC5B,IAAK,IAAI3V,EAAI,EAAGA,EAAIi4C,EAAQv4C,OAAQM,IAAK,CACvC,MAAMk4C,EAAMD,EAAQj4C,GACpB6B,KAAKs2C,aAAaD,GAAO,CACtBx0C,MAAO,IAAIC,OAAO,IAAIu0C,EAAI,IAAI,KAC9Bl2C,IAAM2T,EAAiBuiC,GAE5B,CACF,CAWA,SAASE,EAAcp2C,EAAKuP,EAAS1L,EAAOwyC,EAAUC,EAAeC,EAAYC,GAC/E,QAAYzzC,IAAR/C,IACEH,KAAKmC,QAAQy0C,aAAeJ,IAC9Br2C,EAAMA,EAAIyM,QAETzM,EAAItC,OAAS,GAAE,CACZ84C,IAAgBx2C,EAAMH,KAAKsE,qBAAqBnE,IAEpD,MAAMkE,EAASrE,KAAKmC,QAAQd,kBAAkBqO,EAASvP,EAAK6D,EAAOyyC,EAAeC,GAClF,OAAGryC,QAEMlE,SACOkE,UAAkBlE,GAAOkE,IAAWlE,EAE3CkE,EACArE,KAAKmC,QAAQy0C,YAGDz2C,EAAIyM,SACLzM,EAHX02C,EAAW12C,EAAKH,KAAKmC,QAAQ87B,cAAej+B,KAAKmC,QAAQ20C,oBAMvD32C,CAGb,CAEJ,CAEA,SAAS42C,EAAiBh3C,GACxB,GAAIC,KAAKmC,QAAQ47B,eAAgB,CAC/B,MAAMiZ,EAAOj3C,EAAQtB,MAAM,KACrB6G,EAA+B,MAAtBvF,EAAQmsB,OAAO,GAAa,IAAM,GACjD,GAAgB,UAAZ8qB,EAAK,GACP,MAAO,GAEW,IAAhBA,EAAKn5C,SACPkC,EAAUuF,EAAS0xC,EAAK,GAE5B,CACA,OAAOj3C,CACT,CAIA,MAAMk3C,EAAY,IAAIn1C,OAAO,+CAAgD,MAE7E,SAASo1C,EAAmB9zC,EAASY,EAAO0L,GAC1C,IAAsC,IAAlC1P,KAAKmC,QAAQrB,kBAAgD,iBAAZsC,EAAsB,CAIzE,MAAM8V,EAAUoS,EAAK6rB,cAAc/zC,EAAS6zC,GACtCt2B,EAAMzH,EAAQrb,OACdu5C,EAAQ,CAAC,EACf,IAAK,IAAIj5C,EAAI,EAAGA,EAAIwiB,EAAKxiB,IAAK,CAC5B,MAAMqD,EAAWxB,KAAK+2C,iBAAiB79B,EAAQ/a,GAAG,IAClD,GAAI6B,KAAKsC,mBAAmBd,EAAUwC,GACpC,SAEF,IAAIqzC,EAASn+B,EAAQ/a,GAAG,GACpBm5C,EAAQt3C,KAAKmC,QAAQxB,oBAAsBa,EAC/C,GAAIA,EAAS3D,OAKX,GAJImC,KAAKmC,QAAQo1C,yBACfD,EAAQt3C,KAAKmC,QAAQo1C,uBAAuBD,IAEjC,cAAVA,IAAuBA,EAAS,mBACpBp0C,IAAXm0C,EAAsB,CACpBr3C,KAAKmC,QAAQy0C,aACfS,EAASA,EAAOzqC,QAElByqC,EAASr3C,KAAKsE,qBAAqB+yC,GACnC,MAAMG,EAASx3C,KAAKmC,QAAQZ,wBAAwBC,EAAU61C,EAAQrzC,GAGpEozC,EAAME,GAFLE,QAEcH,SACDG,UAAkBH,GAAUG,IAAWH,EAEtCG,EAGAX,EACbQ,EACAr3C,KAAKmC,QAAQ67B,oBACbh+B,KAAKmC,QAAQ20C,mBAGnB,MAAW92C,KAAKmC,QAAQs1C,yBACtBL,EAAME,IAAS,EAGrB,CACA,IAAKh3C,OAAOC,KAAK62C,GAAOv5C,OACtB,OAEF,GAAImC,KAAKmC,QAAQvB,oBAAqB,CACpC,MAAM82C,EAAiB,CAAC,EAExB,OADAA,EAAe13C,KAAKmC,QAAQvB,qBAAuBw2C,EAC5CM,CACT,CACA,OAAON,CACT,CACF,CAEA,MAAM5iC,EAAW,SAAST,GACxBA,EAAUA,EAAQ7V,QAAQ,SAAU,MACpC,MAAMy5C,EAAS,IAAI1B,EAAQ,QAC3B,IAAI2B,EAAcD,EACdE,EAAW,GACX7zC,EAAQ,GACZ,IAAI,IAAI7F,EAAE,EAAGA,EAAG4V,EAAQlW,OAAQM,IAE9B,GAAU,MADC4V,EAAQ5V,GAIjB,GAAqB,MAAjB4V,EAAQ5V,EAAE,GAAY,CACxB,MAAM25C,EAAaC,EAAiBhkC,EAAS,IAAK5V,EAAG,8BACrD,IAAIuR,EAAUqE,EAAQ2hB,UAAUv3B,EAAE,EAAE25C,GAAYlrC,OAEhD,GAAG5M,KAAKmC,QAAQ47B,eAAe,CAC7B,MAAMia,EAAatoC,EAAQxK,QAAQ,MAChB,IAAhB8yC,IACDtoC,EAAUA,EAAQjM,OAAOu0C,EAAW,GAExC,CAEGh4C,KAAKmC,QAAQ81C,mBACdvoC,EAAU1P,KAAKmC,QAAQ81C,iBAAiBvoC,IAGvCkoC,IACDC,EAAW73C,KAAKk4C,oBAAoBL,EAAUD,EAAa5zC,IAI7D,MAAMm0C,EAAcn0C,EAAM0xB,UAAU1xB,EAAM6hB,YAAY,KAAK,GAC3D,GAAGnW,IAA2D,IAAhD1P,KAAKmC,QAAQR,aAAauD,QAAQwK,GAC9C,MAAM,IAAIlK,MAAM,kDAAkDkK,MAEpE,IAAI0oC,EAAY,EACbD,IAAmE,IAApDn4C,KAAKmC,QAAQR,aAAauD,QAAQizC,IAClDC,EAAYp0C,EAAM6hB,YAAY,IAAK7hB,EAAM6hB,YAAY,KAAK,GAC1D7lB,KAAKq4C,cAAct8B,OAEnBq8B,EAAYp0C,EAAM6hB,YAAY,KAEhC7hB,EAAQA,EAAM0xB,UAAU,EAAG0iB,GAE3BR,EAAc53C,KAAKq4C,cAAct8B,MACjC87B,EAAW,GACX15C,EAAI25C,CACN,MAAO,GAAqB,MAAjB/jC,EAAQ5V,EAAE,GAAY,CAE/B,IAAIm6C,EAAUC,EAAWxkC,EAAQ5V,GAAG,EAAO,MAC3C,IAAIm6C,EAAS,MAAM,IAAI9yC,MAAM,yBAG7B,GADAqyC,EAAW73C,KAAKk4C,oBAAoBL,EAAUD,EAAa5zC,GACtDhE,KAAKmC,QAAQq2C,mBAAyC,SAApBF,EAAQ5oC,SAAuB1P,KAAKmC,QAAQs2C,kBAE9E,CAEH,MAAMC,EAAY,IAAIzC,EAAQqC,EAAQ5oC,SACtCgpC,EAAUx4C,IAAIF,KAAKmC,QAAQtB,aAAc,IAEtCy3C,EAAQ5oC,UAAY4oC,EAAQK,QAAUL,EAAQM,iBAC/CF,EAAU,MAAQ14C,KAAKk3C,mBAAmBoB,EAAQK,OAAQ30C,EAAOs0C,EAAQ5oC,UAE3E1P,KAAKI,SAASw3C,EAAac,EAAW10C,EAExC,CAGA7F,EAAIm6C,EAAQR,WAAa,CAC3B,MAAO,GAAgC,QAA7B/jC,EAAQtQ,OAAOtF,EAAI,EAAG,GAAc,CAC5C,MAAM06C,EAAWd,EAAiBhkC,EAAS,SAAO5V,EAAE,EAAG,0BACvD,GAAG6B,KAAKmC,QAAQT,gBAAgB,CAC9B,MAAMiQ,EAAUoC,EAAQ2hB,UAAUv3B,EAAI,EAAG06C,EAAW,GAEpDhB,EAAW73C,KAAKk4C,oBAAoBL,EAAUD,EAAa5zC,GAE3D4zC,EAAY13C,IAAIF,KAAKmC,QAAQT,gBAAiB,CAAE,CAAE,CAAC1B,KAAKmC,QAAQtB,cAAgB8Q,IAClF,CACAxT,EAAI06C,CACN,MAAO,GAAiC,OAA7B9kC,EAAQtQ,OAAOtF,EAAI,EAAG,GAAa,CAC5C,MAAM4E,EAASmzC,EAAYniC,EAAS5V,GACpC6B,KAAK84C,gBAAkB/1C,EAAOnB,SAC9BzD,EAAI4E,EAAO5E,CACb,MAAM,GAAgC,OAA7B4V,EAAQtQ,OAAOtF,EAAI,EAAG,GAAa,CAC1C,MAAM25C,EAAaC,EAAiBhkC,EAAS,MAAO5V,EAAG,wBAA0B,EAC3Ew6C,EAAS5kC,EAAQ2hB,UAAUv3B,EAAI,EAAE25C,GAEvCD,EAAW73C,KAAKk4C,oBAAoBL,EAAUD,EAAa5zC,GAE3D,IAAI7D,EAAMH,KAAKu2C,cAAcoC,EAAQf,EAAY73C,QAASiE,GAAO,GAAM,GAAO,GAAM,GAC1Ed,MAAP/C,IAAkBA,EAAM,IAGxBH,KAAKmC,QAAQpB,cACd62C,EAAY13C,IAAIF,KAAKmC,QAAQpB,cAAe,CAAE,CAAE,CAACf,KAAKmC,QAAQtB,cAAgB83C,KAE9Ef,EAAY13C,IAAIF,KAAKmC,QAAQtB,aAAcV,GAG7ChC,EAAI25C,EAAa,CACnB,KAAM,CACJ,IAAI/0C,EAASw1C,EAAWxkC,EAAQ5V,EAAG6B,KAAKmC,QAAQ47B,gBAC5CruB,EAAS3M,EAAO2M,QACpB,MAAMqpC,EAAah2C,EAAOg2C,WAC1B,IAAIJ,EAAS51C,EAAO41C,OAChBC,EAAiB71C,EAAO61C,eACxBd,EAAa/0C,EAAO+0C,WAEpB93C,KAAKmC,QAAQ81C,mBACfvoC,EAAU1P,KAAKmC,QAAQ81C,iBAAiBvoC,IAItCkoC,GAAeC,GACU,SAAxBD,EAAY73C,UAEb83C,EAAW73C,KAAKk4C,oBAAoBL,EAAUD,EAAa5zC,GAAO,IAKtE,MAAMg1C,EAAUpB,EAQhB,GAPGoB,IAAmE,IAAxDh5C,KAAKmC,QAAQR,aAAauD,QAAQ8zC,EAAQj5C,WACtD63C,EAAc53C,KAAKq4C,cAAct8B,MACjC/X,EAAQA,EAAM0xB,UAAU,EAAG1xB,EAAM6hB,YAAY,OAE5CnW,IAAYioC,EAAO53C,UACpBiE,GAASA,EAAQ,IAAM0L,EAAUA,GAE/B1P,KAAKi5C,aAAaj5C,KAAKmC,QAAQH,UAAWgC,EAAO0L,GAAU,CAC7D,IAAIwpC,EAAa,GAEjB,GAAGP,EAAO96C,OAAS,GAAK86C,EAAO9yB,YAAY,OAAS8yB,EAAO96C,OAAS,EAC/B,MAAhC6R,EAAQA,EAAQ7R,OAAS,IAC1B6R,EAAUA,EAAQjM,OAAO,EAAGiM,EAAQ7R,OAAS,GAC7CmG,EAAQA,EAAMP,OAAO,EAAGO,EAAMnG,OAAS,GACvC86C,EAASjpC,GAETipC,EAASA,EAAOl1C,OAAO,EAAGk1C,EAAO96C,OAAS,GAE5CM,EAAI4E,EAAO+0C,gBAGR,IAAmD,IAAhD93C,KAAKmC,QAAQR,aAAauD,QAAQwK,GAExCvR,EAAI4E,EAAO+0C,eAGT,CAEF,MAAM/0C,EAAS/C,KAAKm5C,iBAAiBplC,EAASglC,EAAYjB,EAAa,GACvE,IAAI/0C,EAAQ,MAAM,IAAIyC,MAAM,qBAAqBuzC,KACjD56C,EAAI4E,EAAO5E,EACX+6C,EAAan2C,EAAOm2C,UACtB,CAEA,MAAMR,EAAY,IAAIzC,EAAQvmC,GAC3BA,IAAYipC,GAAUC,IACvBF,EAAU,MAAQ14C,KAAKk3C,mBAAmByB,EAAQ30C,EAAO0L,IAExDwpC,IACDA,EAAal5C,KAAKu2C,cAAc2C,EAAYxpC,EAAS1L,GAAO,EAAM40C,GAAgB,GAAM,IAG1F50C,EAAQA,EAAMP,OAAO,EAAGO,EAAM6hB,YAAY,MAC1C6yB,EAAUx4C,IAAIF,KAAKmC,QAAQtB,aAAcq4C,GAEzCl5C,KAAKI,SAASw3C,EAAac,EAAW10C,EACxC,KAAK,CAEH,GAAG20C,EAAO96C,OAAS,GAAK86C,EAAO9yB,YAAY,OAAS8yB,EAAO96C,OAAS,EAAE,CACjC,MAAhC6R,EAAQA,EAAQ7R,OAAS,IAC1B6R,EAAUA,EAAQjM,OAAO,EAAGiM,EAAQ7R,OAAS,GAC7CmG,EAAQA,EAAMP,OAAO,EAAGO,EAAMnG,OAAS,GACvC86C,EAASjpC,GAETipC,EAASA,EAAOl1C,OAAO,EAAGk1C,EAAO96C,OAAS,GAGzCmC,KAAKmC,QAAQ81C,mBACdvoC,EAAU1P,KAAKmC,QAAQ81C,iBAAiBvoC,IAG1C,MAAMgpC,EAAY,IAAIzC,EAAQvmC,GAC3BA,IAAYipC,GAAUC,IACvBF,EAAU,MAAQ14C,KAAKk3C,mBAAmByB,EAAQ30C,EAAO0L,IAE3D1P,KAAKI,SAASw3C,EAAac,EAAW10C,GACtCA,EAAQA,EAAMP,OAAO,EAAGO,EAAM6hB,YAAY,KAC5C,KAEI,CACF,MAAM6yB,EAAY,IAAIzC,EAASvmC,GAC/B1P,KAAKq4C,cAAch6C,KAAKu5C,GAErBloC,IAAYipC,GAAUC,IACvBF,EAAU,MAAQ14C,KAAKk3C,mBAAmByB,EAAQ30C,EAAO0L,IAE3D1P,KAAKI,SAASw3C,EAAac,EAAW10C,GACtC4zC,EAAcc,CAChB,CACAb,EAAW,GACX15C,EAAI25C,CACN,CACF,MAEAD,GAAY9jC,EAAQ5V,GAGxB,OAAOw5C,EAAO13C,KAChB,EAEA,SAASG,EAASw3C,EAAac,EAAW10C,GACxC,MAAMjB,EAAS/C,KAAKmC,QAAQi3C,UAAUV,EAAU34C,QAASiE,EAAO00C,EAAU,QAC5D,IAAX31C,IACwB,iBAAXA,GACd21C,EAAU34C,QAAUgD,EACpB60C,EAAYx3C,SAASs4C,IAErBd,EAAYx3C,SAASs4C,GAEzB,CAEA,MAAMp0C,EAAuB,SAASnE,GAEpC,GAAGH,KAAKmC,QAAQJ,gBAAgB,CAC9B,IAAI,IAAIs3C,KAAcr5C,KAAK84C,gBAAgB,CACzC,MAAM3zC,EAASnF,KAAK84C,gBAAgBO,GACpCl5C,EAAMA,EAAIjC,QAASiH,EAAOm0C,KAAMn0C,EAAOhF,IACzC,CACA,IAAI,IAAIk5C,KAAcr5C,KAAKs2C,aAAa,CACtC,MAAMnxC,EAASnF,KAAKs2C,aAAa+C,GACjCl5C,EAAMA,EAAIjC,QAASiH,EAAOtD,MAAOsD,EAAOhF,IAC1C,CACA,GAAGH,KAAKmC,QAAQo3C,aACd,IAAI,IAAIF,KAAcr5C,KAAKu5C,aAAa,CACtC,MAAMp0C,EAASnF,KAAKu5C,aAAaF,GACjCl5C,EAAMA,EAAIjC,QAASiH,EAAOtD,MAAOsD,EAAOhF,IAC1C,CAEFA,EAAMA,EAAIjC,QAAS8B,KAAKw5C,UAAU33C,MAAO7B,KAAKw5C,UAAUr5C,IAC1D,CACA,OAAOA,CACT,EACA,SAAS+3C,EAAoBL,EAAUD,EAAa5zC,EAAO0yC,GAezD,OAdImB,SACgB30C,IAAfwzC,IAA0BA,EAA0C,IAA7BkB,EAAY33C,MAAMpC,aAS3CqF,KAPjB20C,EAAW73C,KAAKu2C,cAAcsB,EAC5BD,EAAY73C,QACZiE,GACA,IACA4zC,EAAY,OAAkD,IAA1Ct3C,OAAOC,KAAKq3C,EAAY,OAAO/5C,OACnD64C,KAEyC,KAAbmB,GAC5BD,EAAY13C,IAAIF,KAAKmC,QAAQtB,aAAcg3C,GAC7CA,EAAW,IAENA,CACT,CASA,SAASoB,EAAaj3C,EAAWgC,EAAOy1C,GACtC,MAAMC,EAAc,KAAOD,EAC3B,IAAK,MAAME,KAAgB33C,EAAW,CACpC,MAAM43C,EAAc53C,EAAU23C,GAC9B,GAAID,IAAgBE,GAAe51C,IAAU41C,EAAe,OAAO,CACrE,CACA,OAAO,CACT,CAsCA,SAAS7B,EAAiBhkC,EAASzV,EAAKH,EAAG07C,GACzC,MAAMC,EAAe/lC,EAAQ7O,QAAQ5G,EAAKH,GAC1C,IAAqB,IAAlB27C,EACD,MAAM,IAAIt0C,MAAMq0C,GAEhB,OAAOC,EAAex7C,EAAIT,OAAS,CAEvC,CAEA,SAAS06C,EAAWxkC,EAAQ5V,EAAG4/B,EAAgBgc,EAAc,KAC3D,MAAMh3C,EAxCR,SAAgCgR,EAAS5V,EAAG47C,EAAc,KACxD,IAAIC,EACArB,EAAS,GACb,IAAK,IAAI3uC,EAAQ7L,EAAG6L,EAAQ+J,EAAQlW,OAAQmM,IAAS,CACnD,IAAIiwC,EAAKlmC,EAAQ/J,GACjB,GAAIgwC,EACIC,IAAOD,IAAcA,EAAe,SACrC,GAAW,MAAPC,GAAqB,MAAPA,EACrBD,EAAeC,OACZ,GAAIA,IAAOF,EAAY,GAAI,CAChC,IAAGA,EAAY,GAQb,MAAO,CACLzzC,KAAMqyC,EACN3uC,MAAOA,GATT,GAAG+J,EAAQ/J,EAAQ,KAAO+vC,EAAY,GACpC,MAAO,CACLzzC,KAAMqyC,EACN3uC,MAAOA,EASf,KAAkB,OAAPiwC,IACTA,EAAK,KAEPtB,GAAUsB,CACZ,CACF,CAYiBC,CAAuBnmC,EAAS5V,EAAE,EAAG47C,GACpD,IAAIh3C,EAAQ,OACZ,IAAI41C,EAAS51C,EAAOuD,KACpB,MAAMwxC,EAAa/0C,EAAOiH,MACpBmwC,EAAiBxB,EAAOtuB,OAAO,MACrC,IAAI3a,EAAUipC,EACVC,GAAiB,GACE,IAApBuB,IACDzqC,EAAUipC,EAAOjjB,UAAU,EAAGykB,GAC9BxB,EAASA,EAAOjjB,UAAUykB,EAAiB,GAAGC,aAGhD,MAAMrB,EAAarpC,EACnB,GAAGquB,EAAe,CAChB,MAAMia,EAAatoC,EAAQxK,QAAQ,MAChB,IAAhB8yC,IACDtoC,EAAUA,EAAQjM,OAAOu0C,EAAW,GACpCY,EAAiBlpC,IAAY3M,EAAOuD,KAAK7C,OAAOu0C,EAAa,GAEjE,CAEA,MAAO,CACLtoC,QAASA,EACTipC,OAAQA,EACRb,WAAYA,EACZc,eAAgBA,EAChBG,WAAYA,EAEhB,CAOA,SAASI,EAAiBplC,EAASrE,EAASvR,GAC1C,MAAMk8C,EAAal8C,EAEnB,IAAIm8C,EAAe,EAEnB,KAAOn8C,EAAI4V,EAAQlW,OAAQM,IACzB,GAAmB,MAAf4V,EAAQ5V,GACV,GAAqB,MAAjB4V,EAAQ5V,EAAE,GAAY,CACtB,MAAM25C,EAAaC,EAAiBhkC,EAAS,IAAK5V,EAAG,GAAGuR,mBAExD,GADmBqE,EAAQ2hB,UAAUv3B,EAAE,EAAE25C,GAAYlrC,SACjC8C,IAClB4qC,IACqB,IAAjBA,GACF,MAAO,CACLpB,WAAYnlC,EAAQ2hB,UAAU2kB,EAAYl8C,GAC1CA,GAINA,EAAE25C,CACJ,MAAO,GAAoB,MAAjB/jC,EAAQ5V,EAAE,GAElBA,EADmB45C,EAAiBhkC,EAAS,KAAM5V,EAAE,EAAG,gCAEnD,GAAgC,QAA7B4V,EAAQtQ,OAAOtF,EAAI,EAAG,GAE9BA,EADmB45C,EAAiBhkC,EAAS,SAAO5V,EAAE,EAAG,gCAEpD,GAAgC,OAA7B4V,EAAQtQ,OAAOtF,EAAI,EAAG,GAE9BA,EADmB45C,EAAiBhkC,EAAS,MAAO5V,EAAG,2BAA6B,MAE/E,CACL,MAAMm6C,EAAUC,EAAWxkC,EAAS5V,EAAG,KAEnCm6C,KACkBA,GAAWA,EAAQ5oC,WACnBA,GAAuD,MAA5C4oC,EAAQK,OAAOL,EAAQK,OAAO96C,OAAO,IAClEy8C,IAEFn8C,EAAEm6C,EAAQR,WAEd,CAGR,CAEA,SAASjB,EAAW12C,EAAKo6C,EAAap4C,GACpC,GAAIo4C,GAA8B,iBAARp6C,EAAkB,CAE1C,MAAMkE,EAASlE,EAAIyM,OACnB,MAAc,SAAXvI,GACgB,UAAXA,GACI8xC,EAASh2C,EAAKgC,EAC5B,CACE,OAAImpB,EAAKkvB,QAAQr6C,GACRA,EAEA,EAGb,CAGAhB,EAAOC,QA7kBP,MACE,WAAAU,CAAYqC,GACVnC,KAAKmC,QAAUA,EACfnC,KAAK43C,YAAc,KACnB53C,KAAKq4C,cAAgB,GACrBr4C,KAAK84C,gBAAkB,CAAC,EACxB94C,KAAKs2C,aAAe,CAClB,KAAS,CAAEz0C,MAAO,qBAAsB1B,IAAM,KAC9C,GAAO,CAAE0B,MAAO,mBAAoB1B,IAAM,KAC1C,GAAO,CAAE0B,MAAO,mBAAoB1B,IAAM,KAC1C,KAAS,CAAE0B,MAAO,qBAAsB1B,IAAM,MAEhDH,KAAKw5C,UAAY,CAAE33C,MAAO,oBAAqB1B,IAAM,KACrDH,KAAKu5C,aAAe,CAClB,MAAS,CAAE13C,MAAO,iBAAkB1B,IAAK,KAMzC,KAAS,CAAE0B,MAAO,iBAAkB1B,IAAK,KACzC,MAAU,CAAE0B,MAAO,kBAAmB1B,IAAK,KAC3C,IAAQ,CAAE0B,MAAO,gBAAiB1B,IAAK,KACvC,KAAS,CAAE0B,MAAO,kBAAmB1B,IAAK,KAC1C,UAAc,CAAE0B,MAAO,iBAAkB1B,IAAK,KAC9C,IAAQ,CAAE0B,MAAO,gBAAiB1B,IAAK,KACvC,IAAQ,CAAE0B,MAAO,iBAAkB1B,IAAK,KACxC,QAAW,CAAE0B,MAAO,mBAAoB1B,IAAM,CAACwhB,EAAGrjB,IAAQuc,OAAOiJ,aAAatc,OAAOoT,SAAStc,EAAK,MACnG,QAAW,CAAEuD,MAAO,0BAA2B1B,IAAM,CAACwhB,EAAGrjB,IAAQuc,OAAOiJ,aAAatc,OAAOoT,SAAStc,EAAK,OAE5G0B,KAAKsU,oBAAsBA,EAC3BtU,KAAKwU,SAAWA,EAChBxU,KAAKu2C,cAAgBA,EACrBv2C,KAAK+2C,iBAAmBA,EACxB/2C,KAAKk3C,mBAAqBA,EAC1Bl3C,KAAKi5C,aAAeA,EACpBj5C,KAAKsE,qBAAuBA,EAC5BtE,KAAKm5C,iBAAmBA,EACxBn5C,KAAKk4C,oBAAsBA,EAC3Bl4C,KAAKI,SAAWA,EAChBJ,KAAKsC,mBAAqB7B,EAAsBT,KAAKmC,QAAQrB,iBAC/D,E,gCC/BEkb,E,WAHJ7c,EAAOC,QAAUuX,EAMjBA,EAAS8jC,cAAgBA,EAGhB,sBAAT,IAqBI3zC,EApBA4zC,EAAkB,SAAyBC,EAASroC,GACtD,OAAOqoC,EAAQC,UAAUtoC,GAAMzU,MACjC,EAIIqf,EAAS,EAAQ,OAGjBjF,EAAS,eACTkF,GAAmC,oBAAX,WAAyB,WAA2B,oBAAXnN,OAAyBA,OAAyB,oBAAT0G,KAAuBA,KAAO,CAAC,GAAGoD,YAAc,WAAa,EASvK+gC,EAAY,EAAQ,OAGtB/zC,EADE+zC,GAAaA,EAAUxS,SACjBwS,EAAUxS,SAAS,UAEnB,WAAkB,EAI5B,IAWIyS,EACAC,EACA7iC,EAbA8P,EAAa,EAAQ,OACrB5K,EAAc,EAAQ,OAExBC,EADa,EAAQ,OACOA,iBAC1BC,EAAiB,WACnBC,EAAuBD,EAAeC,qBACtCy9B,EAA4B19B,EAAe09B,0BAC3Cx9B,EAA6BF,EAAeE,2BAC5Cy9B,EAAqC39B,EAAe29B,mCAMtD,EAAQ,MAAR,CAAoBtkC,EAAUuG,GAC9B,IAAIa,EAAiBX,EAAYW,eAC7Bm9B,EAAe,CAAC,QAAS,QAAS,UAAW,QAAS,UAY1D,SAAST,EAAct4C,EAAS4T,EAAQkI,GACtCjC,EAASA,GAAU,EAAQ,OAC3B7Z,EAAUA,GAAW,CAAC,EAOE,kBAAb8b,IAAwBA,EAAWlI,aAAkBiG,GAIhEhc,KAAKke,aAAe/b,EAAQ+b,WACxBD,IAAUje,KAAKke,WAAale,KAAKke,cAAgB/b,EAAQg5C,oBAI7Dn7C,KAAKoe,cAAgBf,EAAiBrd,KAAMmC,EAAS,wBAAyB8b,GAK9Eje,KAAK0Z,OAAS,IAAIsO,EAClBhoB,KAAKnC,OAAS,EACdmC,KAAKo7C,MAAQ,KACbp7C,KAAKq7C,WAAa,EAClBr7C,KAAKs7C,QAAU,KACft7C,KAAKwe,OAAQ,EACbxe,KAAKuhB,YAAa,EAClBvhB,KAAK4vB,SAAU,EAMf5vB,KAAKgf,MAAO,EAIZhf,KAAKu7C,cAAe,EACpBv7C,KAAKw7C,iBAAkB,EACvBx7C,KAAKy7C,mBAAoB,EACzBz7C,KAAK07C,iBAAkB,EACvB17C,KAAK27C,QAAS,EAGd37C,KAAKggB,WAAkC,IAAtB7d,EAAQ6d,UAGzBhgB,KAAKigB,cAAgB9d,EAAQ8d,YAG7BjgB,KAAK0e,WAAY,EAKjB1e,KAAK6e,gBAAkB1c,EAAQ0c,iBAAmB,OAGlD7e,KAAK47C,WAAa,EAGlB57C,KAAK67C,aAAc,EACnB77C,KAAK87C,QAAU,KACf97C,KAAK4gB,SAAW,KACZze,EAAQye,WACLk6B,IAAeA,EAAgB,YACpC96C,KAAK87C,QAAU,IAAIhB,EAAc34C,EAAQye,UACzC5gB,KAAK4gB,SAAWze,EAAQye,SAE5B,CACA,SAASjK,EAASxU,GAEhB,GADA6Z,EAASA,GAAU,EAAQ,SACrBhc,gBAAgB2W,GAAW,OAAO,IAAIA,EAASxU,GAIrD,IAAI8b,EAAWje,gBAAgBgc,EAC/Bhc,KAAKshB,eAAiB,IAAIm5B,EAAct4C,EAASnC,KAAMie,GAGvDje,KAAKg5B,UAAW,EACZ72B,IAC0B,mBAAjBA,EAAQwW,OAAqB3Y,KAAKsZ,MAAQnX,EAAQwW,MAC9B,mBAApBxW,EAAQme,UAAwBtgB,KAAKugB,SAAWpe,EAAQme,UAErEpD,EAAOre,KAAKmB,KACd,CAwDA,SAAS+7C,EAAiBhmC,EAAQ6B,EAAOgJ,EAAUo7B,EAAYC,GAC7Dn1C,EAAM,mBAAoB8Q,GAC1B,IAKMtJ,EALF4N,EAAQnG,EAAOuL,eACnB,GAAc,OAAV1J,EACFsE,EAAM0T,SAAU,EAuNpB,SAAoB7Z,EAAQmG,GAE1B,GADApV,EAAM,eACFoV,EAAMsC,MAAV,CACA,GAAItC,EAAM4/B,QAAS,CACjB,IAAIlkC,EAAQsE,EAAM4/B,QAAQzgC,MACtBzD,GAASA,EAAM/Z,SACjBqe,EAAMxC,OAAOrb,KAAKuZ,GAClBsE,EAAMre,QAAUqe,EAAMgC,WAAa,EAAItG,EAAM/Z,OAEjD,CACAqe,EAAMsC,OAAQ,EACVtC,EAAM8C,KAIRk9B,EAAanmC,IAGbmG,EAAMq/B,cAAe,EAChBr/B,EAAMs/B,kBACTt/B,EAAMs/B,iBAAkB,EACxBW,EAAcpmC,IAnBK,CAsBzB,CA9OIqmC,CAAWrmC,EAAQmG,QAInB,GADK+/B,IAAgB3tC,EA6CzB,SAAsB4N,EAAOtE,GAC3B,IAAItJ,EAjPiB0T,EAqPrB,OArPqBA,EAkPFpK,EAjPZK,EAAOiK,SAASF,IAAQA,aAAe7E,GAiPA,iBAAVvF,QAAgC1U,IAAV0U,GAAwBsE,EAAMgC,aACtF5P,EAAK,IAAIiP,EAAqB,QAAS,CAAC,SAAU,SAAU,cAAe3F,IAEtEtJ,CACT,CAnD8B+tC,CAAangC,EAAOtE,IAC1CtJ,EACFyP,EAAehI,EAAQzH,QAClB,GAAI4N,EAAMgC,YAActG,GAASA,EAAM/Z,OAAS,EAIrD,GAHqB,iBAAV+Z,GAAuBsE,EAAMgC,YAAc5d,OAAOuwB,eAAejZ,KAAWK,EAAOvU,YAC5FkU,EA3MR,SAA6BA,GAC3B,OAAOK,EAAOC,KAAKN,EACrB,CAyMgBuK,CAAoBvK,IAE1BokC,EACE9/B,EAAMqF,WAAYxD,EAAehI,EAAQ,IAAIklC,GAA2CqB,EAASvmC,EAAQmG,EAAOtE,GAAO,QACtH,GAAIsE,EAAMsC,MACfT,EAAehI,EAAQ,IAAIilC,OACtB,IAAI9+B,EAAMwC,UACf,OAAO,EAEPxC,EAAM0T,SAAU,EACZ1T,EAAM4/B,UAAYl7B,GACpBhJ,EAAQsE,EAAM4/B,QAAQnkC,MAAMC,GACxBsE,EAAMgC,YAA+B,IAAjBtG,EAAM/Z,OAAcy+C,EAASvmC,EAAQmG,EAAOtE,GAAO,GAAY2kC,EAAcxmC,EAAQmG,IAE7GogC,EAASvmC,EAAQmG,EAAOtE,GAAO,EAEnC,MACUokC,IACV9/B,EAAM0T,SAAU,EAChB2sB,EAAcxmC,EAAQmG,IAO1B,OAAQA,EAAMsC,QAAUtC,EAAMre,OAASqe,EAAMkC,eAAkC,IAAjBlC,EAAMre,OACtE,CACA,SAASy+C,EAASvmC,EAAQmG,EAAOtE,EAAOokC,GAClC9/B,EAAMo/B,SAA4B,IAAjBp/B,EAAMre,SAAiBqe,EAAM8C,MAChD9C,EAAM0/B,WAAa,EACnB7lC,EAAOmB,KAAK,OAAQU,KAGpBsE,EAAMre,QAAUqe,EAAMgC,WAAa,EAAItG,EAAM/Z,OACzCm+C,EAAY9/B,EAAMxC,OAAOmb,QAAQjd,GAAYsE,EAAMxC,OAAOrb,KAAKuZ,GAC/DsE,EAAMq/B,cAAcW,EAAanmC,IAEvCwmC,EAAcxmC,EAAQmG,EACxB,CA3GA5b,OAAO6S,eAAewD,EAASjT,UAAW,YAAa,CAIrDmf,YAAY,EACZnjB,IAAK,WACH,YAA4BwD,IAAxBlD,KAAKshB,gBAGFthB,KAAKshB,eAAe5C,SAC7B,EACA/e,IAAK,SAAaC,GAGXI,KAAKshB,iBAMVthB,KAAKshB,eAAe5C,UAAY9e,EAClC,IAEF+W,EAASjT,UAAU4c,QAAUlD,EAAYkD,QACzC3J,EAASjT,UAAUsf,WAAa5F,EAAY6F,UAC5CtM,EAASjT,UAAU6c,SAAW,SAAUhb,EAAKiX,GAC3CA,EAAGjX,EACL,EAMAoR,EAASjT,UAAUrF,KAAO,SAAUuZ,EAAOgJ,GACzC,IACIq7B,EADA//B,EAAQlc,KAAKshB,eAcjB,OAZKpF,EAAMgC,WAUT+9B,GAAiB,EATI,iBAAVrkC,KACTgJ,EAAWA,GAAY1E,EAAM2C,mBACZ3C,EAAM0E,WACrBhJ,EAAQK,EAAOC,KAAKN,EAAOgJ,GAC3BA,EAAW,IAEbq7B,GAAiB,GAKdF,EAAiB/7C,KAAM4X,EAAOgJ,GAAU,EAAOq7B,EACxD,EAGAtlC,EAASjT,UAAUmxB,QAAU,SAAUjd,GACrC,OAAOmkC,EAAiB/7C,KAAM4X,EAAO,MAAM,GAAM,EACnD,EA6DAjB,EAASjT,UAAU84C,SAAW,WAC5B,OAAuC,IAAhCx8C,KAAKshB,eAAeg6B,OAC7B,EAGA3kC,EAASjT,UAAU+4C,YAAc,SAAUC,GACpC5B,IAAeA,EAAgB,YACpC,IAAIgB,EAAU,IAAIhB,EAAc4B,GAChC18C,KAAKshB,eAAew6B,QAAUA,EAE9B97C,KAAKshB,eAAeV,SAAW5gB,KAAKshB,eAAew6B,QAAQl7B,SAK3D,IAFA,IAAI4H,EAAIxoB,KAAKshB,eAAe5H,OAAO0O,KAC/Bu0B,EAAU,GACD,OAANn0B,GACLm0B,GAAWb,EAAQnkC,MAAM6Q,EAAEliB,MAC3BkiB,EAAIA,EAAEpM,KAKR,OAHApc,KAAKshB,eAAe5H,OAAOkjC,QACX,KAAZD,GAAgB38C,KAAKshB,eAAe5H,OAAOrb,KAAKs+C,GACpD38C,KAAKshB,eAAezjB,OAAS8+C,EAAQ9+C,OAC9BmC,IACT,EAGA,IAAI68C,EAAU,WAqBd,SAASC,EAAcn3B,EAAGzJ,GACxB,OAAIyJ,GAAK,GAAsB,IAAjBzJ,EAAMre,QAAgBqe,EAAMsC,MAAc,EACpDtC,EAAMgC,WAAmB,EACzByH,GAAMA,EAEJzJ,EAAMo/B,SAAWp/B,EAAMre,OAAeqe,EAAMxC,OAAO0O,KAAK9hB,KAAKzI,OAAmBqe,EAAMre,QAGxF8nB,EAAIzJ,EAAMkC,gBAAelC,EAAMkC,cA5BrC,SAAiCuH,GAe/B,OAdIA,GAAKk3B,EAEPl3B,EAAIk3B,GAIJl3B,IACAA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,EACXA,GAAKA,IAAM,GACXA,KAEKA,CACT,CAYqDo3B,CAAwBp3B,IACvEA,GAAKzJ,EAAMre,OAAe8nB,EAEzBzJ,EAAMsC,MAIJtC,EAAMre,QAHXqe,EAAMq/B,cAAe,EACd,GAGX,CA6HA,SAASW,EAAanmC,GACpB,IAAImG,EAAQnG,EAAOuL,eACnBxa,EAAM,eAAgBoV,EAAMq/B,aAAcr/B,EAAMs/B,iBAChDt/B,EAAMq/B,cAAe,EAChBr/B,EAAMs/B,kBACT10C,EAAM,eAAgBoV,EAAMo/B,SAC5Bp/B,EAAMs/B,iBAAkB,EACxBz0C,EAAQkQ,SAASklC,EAAepmC,GAEpC,CACA,SAASomC,EAAcpmC,GACrB,IAAImG,EAAQnG,EAAOuL,eACnBxa,EAAM,gBAAiBoV,EAAMwC,UAAWxC,EAAMre,OAAQqe,EAAMsC,OACvDtC,EAAMwC,YAAcxC,EAAMre,SAAUqe,EAAMsC,QAC7CzI,EAAOmB,KAAK,YACZgF,EAAMs/B,iBAAkB,GAS1Bt/B,EAAMq/B,cAAgBr/B,EAAMo/B,UAAYp/B,EAAMsC,OAAStC,EAAMre,QAAUqe,EAAMkC,cAC7E4+B,EAAKjnC,EACP,CAQA,SAASwmC,EAAcxmC,EAAQmG,GACxBA,EAAM2/B,cACT3/B,EAAM2/B,aAAc,EACpB90C,EAAQkQ,SAASgmC,EAAgBlnC,EAAQmG,GAE7C,CACA,SAAS+gC,EAAelnC,EAAQmG,GAwB9B,MAAQA,EAAM0T,UAAY1T,EAAMsC,QAAUtC,EAAMre,OAASqe,EAAMkC,eAAiBlC,EAAMo/B,SAA4B,IAAjBp/B,EAAMre,SAAe,CACpH,IAAI8iB,EAAMzE,EAAMre,OAGhB,GAFAiJ,EAAM,wBACNiP,EAAO4C,KAAK,GACRgI,IAAQzE,EAAMre,OAEhB,KACJ,CACAqe,EAAM2/B,aAAc,CACtB,CAgPA,SAASqB,EAAwBxmC,GAC/B,IAAIwF,EAAQxF,EAAK4K,eACjBpF,EAAMu/B,kBAAoB/kC,EAAKymC,cAAc,YAAc,EACvDjhC,EAAMw/B,kBAAoBx/B,EAAMy/B,OAGlCz/B,EAAMo/B,SAAU,EAGP5kC,EAAKymC,cAAc,QAAU,GACtCzmC,EAAK0mC,QAET,CACA,SAASC,EAAiB3mC,GACxB5P,EAAM,4BACN4P,EAAKiC,KAAK,EACZ,CAuBA,SAAS2kC,EAAQvnC,EAAQmG,GACvBpV,EAAM,SAAUoV,EAAM0T,SACjB1T,EAAM0T,SACT7Z,EAAO4C,KAAK,GAEduD,EAAMw/B,iBAAkB,EACxB3lC,EAAOmB,KAAK,UACZ8lC,EAAKjnC,GACDmG,EAAMo/B,UAAYp/B,EAAM0T,SAAS7Z,EAAO4C,KAAK,EACnD,CAWA,SAASqkC,EAAKjnC,GACZ,IAAImG,EAAQnG,EAAOuL,eAEnB,IADAxa,EAAM,OAAQoV,EAAMo/B,SACbp/B,EAAMo/B,SAA6B,OAAlBvlC,EAAO4C,SACjC,CAmHA,SAAS4kC,EAAS53B,EAAGzJ,GAEnB,OAAqB,IAAjBA,EAAMre,OAAqB,MAE3Bqe,EAAMgC,WAAY+D,EAAM/F,EAAMxC,OAAOzb,SAAkB0nB,GAAKA,GAAKzJ,EAAMre,QAEtDokB,EAAf/F,EAAM4/B,QAAe5/B,EAAMxC,OAAOnb,KAAK,IAAqC,IAAxB2d,EAAMxC,OAAO7b,OAAoBqe,EAAMxC,OAAO1b,QAAmBke,EAAMxC,OAAOzW,OAAOiZ,EAAMre,QACnJqe,EAAMxC,OAAOkjC,SAGb36B,EAAM/F,EAAMxC,OAAO8jC,QAAQ73B,EAAGzJ,EAAM4/B,SAE/B75B,GATP,IAAIA,CAUN,CACA,SAASw7B,EAAY1nC,GACnB,IAAImG,EAAQnG,EAAOuL,eACnBxa,EAAM,cAAeoV,EAAMqF,YACtBrF,EAAMqF,aACTrF,EAAMsC,OAAQ,EACdzX,EAAQkQ,SAASymC,EAAexhC,EAAOnG,GAE3C,CACA,SAAS2nC,EAAcxhC,EAAOnG,GAI5B,GAHAjP,EAAM,gBAAiBoV,EAAMqF,WAAYrF,EAAMre,SAG1Cqe,EAAMqF,YAA+B,IAAjBrF,EAAMre,SAC7Bqe,EAAMqF,YAAa,EACnBxL,EAAOijB,UAAW,EAClBjjB,EAAOmB,KAAK,OACRgF,EAAM+D,aAAa,CAGrB,IAAI4P,EAAS9Z,EAAOoJ,iBACf0Q,GAAUA,EAAO5P,aAAe4P,EAAOpR,WAC1C1I,EAAOuK,SAEX,CAEJ,CASA,SAASpb,EAAQy4C,EAAInyB,GACnB,IAAK,IAAIrtB,EAAI,EAAGqV,EAAImqC,EAAG9/C,OAAQM,EAAIqV,EAAGrV,IACpC,GAAIw/C,EAAGx/C,KAAOqtB,EAAG,OAAOrtB,EAE1B,OAAQ,CACV,CA1pBAwY,EAASjT,UAAUiV,KAAO,SAAUgN,GAClC7e,EAAM,OAAQ6e,GACdA,EAAI/K,SAAS+K,EAAG,IAChB,IAAIzJ,EAAQlc,KAAKshB,eACbs8B,EAAQj4B,EAMZ,GALU,IAANA,IAASzJ,EAAMs/B,iBAAkB,GAK3B,IAAN71B,GAAWzJ,EAAMq/B,gBAA0C,IAAxBr/B,EAAMkC,cAAsBlC,EAAMre,QAAUqe,EAAMkC,cAAgBlC,EAAMre,OAAS,IAAMqe,EAAMsC,OAGlI,OAFA1X,EAAM,qBAAsBoV,EAAMre,OAAQqe,EAAMsC,OAC3B,IAAjBtC,EAAMre,QAAgBqe,EAAMsC,MAAOi/B,EAAYz9C,MAAWk8C,EAAal8C,MACpE,KAKT,GAAU,KAHV2lB,EAAIm3B,EAAcn3B,EAAGzJ,KAGNA,EAAMsC,MAEnB,OADqB,IAAjBtC,EAAMre,QAAc4/C,EAAYz9C,MAC7B,KA0BT,IA2BIiiB,EA3BA47B,EAAS3hC,EAAMq/B,aA6CnB,OA5CAz0C,EAAM,gBAAiB+2C,IAGF,IAAjB3hC,EAAMre,QAAgBqe,EAAMre,OAAS8nB,EAAIzJ,EAAMkC,gBAEjDtX,EAAM,6BADN+2C,GAAS,GAMP3hC,EAAMsC,OAAStC,EAAM0T,QAEvB9oB,EAAM,mBADN+2C,GAAS,GAEAA,IACT/2C,EAAM,WACNoV,EAAM0T,SAAU,EAChB1T,EAAM8C,MAAO,EAEQ,IAAjB9C,EAAMre,SAAcqe,EAAMq/B,cAAe,GAE7Cv7C,KAAKsZ,MAAM4C,EAAMkC,eACjBlC,EAAM8C,MAAO,EAGR9C,EAAM0T,UAASjK,EAAIm3B,EAAcc,EAAO1hC,KAInC,QADD+F,EAAP0D,EAAI,EAAS43B,EAAS53B,EAAGzJ,GAAkB,OAE7CA,EAAMq/B,aAAer/B,EAAMre,QAAUqe,EAAMkC,cAC3CuH,EAAI,IAEJzJ,EAAMre,QAAU8nB,EAChBzJ,EAAM0/B,WAAa,GAEA,IAAjB1/B,EAAMre,SAGHqe,EAAMsC,QAAOtC,EAAMq/B,cAAe,GAGnCqC,IAAUj4B,GAAKzJ,EAAMsC,OAAOi/B,EAAYz9C,OAElC,OAARiiB,GAAcjiB,KAAKkX,KAAK,OAAQ+K,GAC7BA,CACT,EA6GAtL,EAASjT,UAAU4V,MAAQ,SAAUqM,GACnC5H,EAAe/d,KAAM,IAAIwd,EAA2B,WACtD,EACA7G,EAASjT,UAAUqe,KAAO,SAAU+7B,EAAMC,GACxC,IAAI10C,EAAMrJ,KACNkc,EAAQlc,KAAKshB,eACjB,OAAQpF,EAAMm/B,YACZ,KAAK,EACHn/B,EAAMk/B,MAAQ0C,EACd,MACF,KAAK,EACH5hC,EAAMk/B,MAAQ,CAACl/B,EAAMk/B,MAAO0C,GAC5B,MACF,QACE5hC,EAAMk/B,MAAM/8C,KAAKy/C,GAGrB5hC,EAAMm/B,YAAc,EACpBv0C,EAAM,wBAAyBoV,EAAMm/B,WAAY0C,GACjD,IACIC,EADUD,IAA6B,IAAjBA,EAAS1iC,KAAkByiC,IAAS/2C,EAAQk3C,QAAUH,IAAS/2C,EAAQm3C,OACrEC,EAAR9kB,EAYpB,SAASA,IACPvyB,EAAM,SACNg3C,EAAKziC,KACP,CAdIa,EAAMqF,WAAYxa,EAAQkQ,SAAS+mC,GAAY30C,EAAIyZ,KAAK,MAAOk7B,GACnEF,EAAK9mC,GAAG,SACR,SAASonC,EAASplB,EAAUqlB,GAC1Bv3C,EAAM,YACFkyB,IAAa3vB,GACXg1C,IAAwC,IAA1BA,EAAWC,aAC3BD,EAAWC,YAAa,EAkB5Bx3C,EAAM,WAENg3C,EAAKnkB,eAAe,QAASJ,GAC7BukB,EAAKnkB,eAAe,SAAUT,GAC9B4kB,EAAKnkB,eAAe,QAAS4kB,GAC7BT,EAAKnkB,eAAe,QAASL,GAC7BwkB,EAAKnkB,eAAe,SAAUykB,GAC9B/0C,EAAIswB,eAAe,MAAON,GAC1BhwB,EAAIswB,eAAe,MAAOwkB,GAC1B90C,EAAIswB,eAAe,OAAQ6kB,GAC3BC,GAAY,GAORviC,EAAM0/B,YAAgBkC,EAAK3+B,iBAAkB2+B,EAAK3+B,eAAeb,WAAYigC,IA/BnF,GAUA,IAAIA,EAgFN,SAAqBl1C,GACnB,OAAO,WACL,IAAI6S,EAAQ7S,EAAIiY,eAChBxa,EAAM,cAAeoV,EAAM0/B,YACvB1/B,EAAM0/B,YAAY1/B,EAAM0/B,aACH,IAArB1/B,EAAM0/B,YAAoBlB,EAAgBrxC,EAAK,UACjD6S,EAAMo/B,SAAU,EAChB0B,EAAK3zC,GAET,CACF,CA1FgBq1C,CAAYr1C,GAC1By0C,EAAK9mC,GAAG,QAASunC,GACjB,IAAIE,GAAY,EAsBhB,SAASD,EAAO5mC,GACd9Q,EAAM,UACN,IAAImb,EAAM67B,EAAKnmC,MAAMC,GACrB9Q,EAAM,aAAcmb,IACR,IAARA,KAKwB,IAArB/F,EAAMm/B,YAAoBn/B,EAAMk/B,QAAU0C,GAAQ5hC,EAAMm/B,WAAa,IAAqC,IAAhCn2C,EAAQgX,EAAMk/B,MAAO0C,MAAkBW,IACpH33C,EAAM,8BAA+BoV,EAAM0/B,YAC3C1/B,EAAM0/B,cAERvyC,EAAIs1C,QAER,CAIA,SAASrlB,EAAQhrB,GACfxH,EAAM,UAAWwH,GACjB6vC,IACAL,EAAKnkB,eAAe,QAASL,GACU,IAAnCohB,EAAgBoD,EAAM,UAAgB//B,EAAe+/B,EAAMxvC,EACjE,CAMA,SAASirB,IACPukB,EAAKnkB,eAAe,SAAUT,GAC9BilB,GACF,CAEA,SAASjlB,IACPpyB,EAAM,YACNg3C,EAAKnkB,eAAe,QAASJ,GAC7B4kB,GACF,CAEA,SAASA,IACPr3C,EAAM,UACNuC,EAAI80C,OAAOL,EACb,CAUA,OAvDAz0C,EAAI2N,GAAG,OAAQwnC,GAniBjB,SAAyB7D,EAASiE,EAAO36B,GAGvC,GAAuC,mBAA5B02B,EAAQkE,gBAAgC,OAAOlE,EAAQkE,gBAAgBD,EAAO36B,GAMpF02B,EAAQmE,SAAYnE,EAAQmE,QAAQF,GAAuC/6C,MAAMC,QAAQ62C,EAAQmE,QAAQF,IAASjE,EAAQmE,QAAQF,GAAO/pB,QAAQ5Q,GAAS02B,EAAQmE,QAAQF,GAAS,CAAC36B,EAAI02B,EAAQmE,QAAQF,IAA5JjE,EAAQ3jC,GAAG4nC,EAAO36B,EACrE,CAqjBE46B,CAAgBf,EAAM,QAASxkB,GAO/BwkB,EAAKh7B,KAAK,QAASyW,GAMnBukB,EAAKh7B,KAAK,SAAUoW,GAOpB4kB,EAAK5mC,KAAK,OAAQ7N,GAGb6S,EAAMo/B,UACTx0C,EAAM,eACNuC,EAAI+zC,UAECU,CACT,EAYAnnC,EAASjT,UAAUy6C,OAAS,SAAUL,GACpC,IAAI5hC,EAAQlc,KAAKshB,eACb+8B,EAAa,CACfC,YAAY,GAId,GAAyB,IAArBpiC,EAAMm/B,WAAkB,OAAOr7C,KAGnC,GAAyB,IAArBkc,EAAMm/B,WAER,OAAIyC,GAAQA,IAAS5hC,EAAMk/B,QACtB0C,IAAMA,EAAO5hC,EAAMk/B,OAGxBl/B,EAAMk/B,MAAQ,KACdl/B,EAAMm/B,WAAa,EACnBn/B,EAAMo/B,SAAU,EACZwC,GAAMA,EAAK5mC,KAAK,SAAUlX,KAAMq+C,IAPKr+C,KAa3C,IAAK89C,EAAM,CAET,IAAIiB,EAAQ7iC,EAAMk/B,MACdz6B,EAAMzE,EAAMm/B,WAChBn/B,EAAMk/B,MAAQ,KACdl/B,EAAMm/B,WAAa,EACnBn/B,EAAMo/B,SAAU,EAChB,IAAK,IAAIn9C,EAAI,EAAGA,EAAIwiB,EAAKxiB,IAAK4gD,EAAM5gD,GAAG+Y,KAAK,SAAUlX,KAAM,CAC1Ds+C,YAAY,IAEd,OAAOt+C,IACT,CAGA,IAAIgK,EAAQ9E,EAAQgX,EAAMk/B,MAAO0C,GACjC,OAAe,IAAX9zC,IACJkS,EAAMk/B,MAAMt1B,OAAO9b,EAAO,GAC1BkS,EAAMm/B,YAAc,EACK,IAArBn/B,EAAMm/B,aAAkBn/B,EAAMk/B,MAAQl/B,EAAMk/B,MAAM,IACtD0C,EAAK5mC,KAAK,SAAUlX,KAAMq+C,IAJDr+C,IAM3B,EAIA2W,EAASjT,UAAUsT,GAAK,SAAUgoC,EAAI/6B,GACpC,IAAIyD,EAAMxK,EAAOxZ,UAAUsT,GAAGnY,KAAKmB,KAAMg/C,EAAI/6B,GACzC/H,EAAQlc,KAAKshB,eAqBjB,MApBW,SAAP09B,GAGF9iC,EAAMu/B,kBAAoBz7C,KAAKm9C,cAAc,YAAc,GAGrC,IAAlBjhC,EAAMo/B,SAAmBt7C,KAAKo9C,UAClB,aAAP4B,IACJ9iC,EAAMqF,YAAerF,EAAMu/B,oBAC9Bv/B,EAAMu/B,kBAAoBv/B,EAAMq/B,cAAe,EAC/Cr/B,EAAMo/B,SAAU,EAChBp/B,EAAMs/B,iBAAkB,EACxB10C,EAAM,cAAeoV,EAAMre,OAAQqe,EAAM0T,SACrC1T,EAAMre,OACRq+C,EAAal8C,MACHkc,EAAM0T,SAChB7oB,EAAQkQ,SAASomC,EAAkBr9C,QAIlC0nB,CACT,EACA/Q,EAASjT,UAAUu7C,YAActoC,EAASjT,UAAUsT,GACpDL,EAASjT,UAAUi2B,eAAiB,SAAUqlB,EAAI/6B,GAChD,IAAIyD,EAAMxK,EAAOxZ,UAAUi2B,eAAe96B,KAAKmB,KAAMg/C,EAAI/6B,GAUzD,MATW,aAAP+6B,GAOFj4C,EAAQkQ,SAASimC,EAAyBl9C,MAErC0nB,CACT,EACA/Q,EAASjT,UAAUw7C,mBAAqB,SAAUF,GAChD,IAAIt3B,EAAMxK,EAAOxZ,UAAUw7C,mBAAmBt4B,MAAM5mB,KAAMrB,WAU1D,MATW,aAAPqgD,QAA4B97C,IAAP87C,GAOvBj4C,EAAQkQ,SAASimC,EAAyBl9C,MAErC0nB,CACT,EAqBA/Q,EAASjT,UAAU05C,OAAS,WAC1B,IAAIlhC,EAAQlc,KAAKshB,eAUjB,OATKpF,EAAMo/B,UACTx0C,EAAM,UAINoV,EAAMo/B,SAAWp/B,EAAMu/B,kBAM3B,SAAgB1lC,EAAQmG,GACjBA,EAAMw/B,kBACTx/B,EAAMw/B,iBAAkB,EACxB30C,EAAQkQ,SAASqmC,EAASvnC,EAAQmG,GAEtC,CAVIkhC,CAAOp9C,KAAMkc,IAEfA,EAAMy/B,QAAS,EACR37C,IACT,EAiBA2W,EAASjT,UAAUi7C,MAAQ,WAQzB,OAPA73C,EAAM,wBAAyB9G,KAAKshB,eAAeg6B,UACf,IAAhCt7C,KAAKshB,eAAeg6B,UACtBx0C,EAAM,SACN9G,KAAKshB,eAAeg6B,SAAU,EAC9Bt7C,KAAKkX,KAAK,UAEZlX,KAAKshB,eAAeq6B,QAAS,EACtB37C,IACT,EAUA2W,EAASjT,UAAUwP,KAAO,SAAU6C,GAClC,IAAIoG,EAAQnc,KACRkc,EAAQlc,KAAKshB,eACbq6B,GAAS,EAwBb,IAAK,IAAIx9C,KAvBT4X,EAAOiB,GAAG,MAAO,WAEf,GADAlQ,EAAM,eACFoV,EAAM4/B,UAAY5/B,EAAMsC,MAAO,CACjC,IAAI5G,EAAQsE,EAAM4/B,QAAQzgC,MACtBzD,GAASA,EAAM/Z,QAAQse,EAAM9d,KAAKuZ,EACxC,CACAuE,EAAM9d,KAAK,KACb,GACA0X,EAAOiB,GAAG,OAAQ,SAAUY,GAC1B9Q,EAAM,gBACFoV,EAAM4/B,UAASlkC,EAAQsE,EAAM4/B,QAAQnkC,MAAMC,IAG3CsE,EAAMgC,YAAc,MAACtG,IAAyDsE,EAAMgC,YAAgBtG,GAAUA,EAAM/Z,UAC9Gse,EAAM9d,KAAKuZ,KAEnB+jC,GAAS,EACT5lC,EAAO4oC,SAEX,GAIc5oC,OACI7S,IAAZlD,KAAK7B,IAAyC,mBAAd4X,EAAO5X,KACzC6B,KAAK7B,GAAK,SAAoBmrB,GAC5B,OAAO,WACL,OAAOvT,EAAOuT,GAAQ1C,MAAM7Q,EAAQpX,UACtC,CACF,CAJU,CAIRR,IAKN,IAAK,IAAIwnB,EAAI,EAAGA,EAAIu1B,EAAar9C,OAAQ8nB,IACvC5P,EAAOiB,GAAGkkC,EAAav1B,GAAI3lB,KAAKkX,KAAKua,KAAKzxB,KAAMk7C,EAAav1B,KAY/D,OAPA3lB,KAAKsZ,MAAQ,SAAUqM,GACrB7e,EAAM,gBAAiB6e,GACnBg2B,IACFA,GAAS,EACT5lC,EAAOqnC,SAEX,EACOp9C,IACT,EACsB,mBAAX4hB,SACTjL,EAASjT,UAAUke,OAAOuP,eAAiB,WAIzC,YAH0CjuB,IAAtC63C,IACFA,EAAoC,EAAQ,QAEvCA,EAAkC/6C,KAC3C,GAEFM,OAAO6S,eAAewD,EAASjT,UAAW,wBAAyB,CAIjEmf,YAAY,EACZnjB,IAAK,WACH,OAAOM,KAAKshB,eAAelD,aAC7B,IAEF9d,OAAO6S,eAAewD,EAASjT,UAAW,iBAAkB,CAI1Dmf,YAAY,EACZnjB,IAAK,WACH,OAAOM,KAAKshB,gBAAkBthB,KAAKshB,eAAe5H,MACpD,IAEFpZ,OAAO6S,eAAewD,EAASjT,UAAW,kBAAmB,CAI3Dmf,YAAY,EACZnjB,IAAK,WACH,OAAOM,KAAKshB,eAAeg6B,OAC7B,EACA37C,IAAK,SAAauc,GACZlc,KAAKshB,iBACPthB,KAAKshB,eAAeg6B,QAAUp/B,EAElC,IAIFvF,EAASwoC,UAAY5B,EACrBj9C,OAAO6S,eAAewD,EAASjT,UAAW,iBAAkB,CAI1Dmf,YAAY,EACZnjB,IAAK,WACH,OAAOM,KAAKshB,eAAezjB,MAC7B,IA+CoB,mBAAX+jB,SACTjL,EAASuB,KAAO,SAAUknC,EAAUl1B,GAIlC,YAHahnB,IAATgV,IACFA,EAAO,EAAQ,OAEVA,EAAKvB,EAAUyoC,EAAUl1B,EAClC,E,4BC3/BK,SAAShI,EAAStiB,GACrB,OAAiB,MAATA,GACiB,MAArBA,EAAME,aACgC,mBAA/BF,EAAME,YAAYoiB,UACzBtiB,EAAME,YAAYoiB,SAAStiB,EACnC,C,+BCLA,MAAM0rB,EAAO,EAAQ,OAgErB,SAAS+zB,EAActrC,EAAQ5V,GAW3B,IAAIk7C,EAAa,GACjB,KAAOl7C,EAAI4V,EAAQlW,QAA0B,MAAfkW,EAAQ5V,IAA6B,MAAf4V,EAAQ5V,GAAcA,IAGtEk7C,GAActlC,EAAQ5V,GAG1B,GADAk7C,EAAaA,EAAWzsC,QACQ,IAA7BysC,EAAWn0C,QAAQ,KAAa,MAAM,IAAIM,MAAM,sCAGnD,MAAM85C,EAAYvrC,EAAQ5V,KAC1B,IAAIgC,EAAM,GACV,KAAOhC,EAAI4V,EAAQlW,QAAUkW,EAAQ5V,KAAOmhD,EAAYnhD,IACpDgC,GAAO4T,EAAQ5V,GAEnB,MAAO,CAACk7C,EAAYl5C,EAAKhC,EAC7B,CAEA,SAASohD,EAAUxrC,EAAS5V,GACxB,MAAoB,MAAjB4V,EAAQ5V,EAAE,IACI,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,EAEd,CACA,SAASqhD,EAASzrC,EAAS5V,GACvB,MAAoB,MAAjB4V,EAAQ5V,EAAE,IACI,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,EAEd,CACA,SAASshD,EAAU1rC,EAAS5V,GACxB,MAAoB,MAAjB4V,EAAQ5V,EAAE,IACI,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,EAEd,CAEA,SAASuhD,EAAU3rC,EAAS5V,GACxB,MAAoB,MAAjB4V,EAAQ5V,EAAE,IACI,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,EAEd,CACA,SAASwhD,EAAW5rC,EAAS5V,GACzB,MAAoB,MAAjB4V,EAAQ5V,EAAE,IACI,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,IACO,MAAjB4V,EAAQ5V,EAAE,EAEd,CAEA,SAASyhD,EAAmBr8C,GACxB,GAAI+nB,EAAKu0B,OAAOt8C,GACnB,OAAOA,EAEA,MAAM,IAAIiC,MAAM,uBAAuBjC,IAC/C,CAEApE,EAAOC,QArJP,SAAqB2U,EAAS5V,GAE1B,MAAMyD,EAAW,CAAC,EAClB,GAAuB,MAAnBmS,EAAQ5V,EAAI,IACQ,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,GAgDb,MAAM,IAAIqH,MAAM,kCA/CpB,CACIrH,GAAM,EACN,IAAI2hD,EAAqB,EACrBC,GAAU,EAAOpuC,GAAU,EAC3BquC,EAAM,GACV,KAAK7hD,EAAE4V,EAAQlW,OAAOM,IAClB,GAAmB,MAAf4V,EAAQ5V,IAAewT,EAmBpB,GAAmB,MAAfoC,EAAQ5V,IASf,GARGwT,EACwB,MAAnBoC,EAAQ5V,EAAI,IAAiC,MAAnB4V,EAAQ5V,EAAI,KACtCwT,GAAU,EACVmuC,KAGJA,IAEuB,IAAvBA,EACF,UAEmB,MAAf/rC,EAAQ5V,GACd4hD,GAAU,EAEVC,GAAOjsC,EAAQ5V,OAlCiB,CAChC,GAAI4hD,GAAWP,EAASzrC,EAAS5V,GAAG,CAEhC,IAAIk7C,EAAYl5C,EADhBhC,GAAK,GAEJk7C,EAAYl5C,EAAIhC,GAAKkhD,EAActrC,EAAQ5V,EAAE,IACrB,IAAtBgC,EAAI+E,QAAQ,OACXtD,EAAUg+C,EAAmBvG,IAAgB,CACzCC,KAAOx3C,OAAQ,IAAIu3C,KAAc,KACjCl5C,IAAKA,GAEjB,MACK,GAAI4/C,GAAWN,EAAU1rC,EAAS5V,GAAKA,GAAK,OAC5C,GAAI4hD,GAAWL,EAAU3rC,EAAS5V,GAAKA,GAAK,OAC5C,GAAI4hD,GAAWJ,EAAW5rC,EAAS5V,GAAIA,GAAK,MAC5C,KAAIohD,EACmC,MAAM,IAAI/5C,MAAM,mBADhBmM,GAAU,CACwB,CAE9EmuC,IACAE,EAAM,EACV,CAkBJ,GAA0B,IAAvBF,EACC,MAAM,IAAIt6C,MAAM,mBAExB,CAGA,MAAO,CAAC5D,WAAUzD,IACtB,C,4BC5DA,IAAIsmC,EAAY,EAAQ,OACpBr2B,EAAQ,EAAQ,OAChB8zB,EAAU,EAAQ,OAEtB/iC,EAAOC,QAAU,CACb8iC,QAASA,EACT9zB,MAAOA,EACPq2B,UAAWA,E,4CCTX5uB,EAAa,EAAQ,MACrBC,EAAW,EAAQ,OACnBzQ,EAAW,EAAQ,MACnB0Q,EAAS,EAAQ,OAEjBQ,EAAkBlR,EAASkR,gBAC3BP,EAAU3Q,EAAS4Q,YAgBnB+T,EAAgB7qB,EAAOC,QAAU,SAAU8qB,GAC9C,IAYI+1B,EAZAvpC,EAAO1W,KACX+V,EAAO8G,SAAShe,KAAK6X,GAErBA,EAAKwpC,MAAQh2B,EACbxT,EAAKypC,MAAQ,GACbzpC,EAAK0pC,SAAW,CAAC,EACbl2B,EAAKm2B,MACR3pC,EAAK+iB,UAAU,gBAAiB,SAAWxhB,EAAOC,KAAKgS,EAAKm2B,MAAM9yC,SAAS,WAC5EjN,OAAOC,KAAK2pB,EAAK1jB,SAAS+Q,QAAQ,SAAUhU,GAC3CmT,EAAK+iB,UAAUl2B,EAAM2mB,EAAK1jB,QAAQjD,GACnC,GAGA,IAAI+8C,GAAW,EACf,GAAkB,kBAAdp2B,EAAK1T,MAA6B,mBAAoB0T,IAASrU,EAAWN,gBAE7E+qC,GAAW,EACXL,GAAe,OACT,GAAkB,qBAAd/1B,EAAK1T,KAGfypC,GAAe,OACT,GAAkB,6BAAd/1B,EAAK1T,KAEfypC,GAAgBpqC,EAAWD,qBACrB,IAAKsU,EAAK1T,MAAsB,YAAd0T,EAAK1T,MAAoC,gBAAd0T,EAAK1T,KAIxD,MAAM,IAAIhR,MAAM,+BAFhBy6C,GAAe,CAGhB,CACAvpC,EAAKE,MA9CN,SAAqBqpC,EAAcK,GAClC,OAAIzqC,EAAWV,OAASmrC,EAChB,QACGzqC,EAAWF,sBACd,0BACGE,EAAWH,SACd,YACGG,EAAWJ,aAAewqC,EAC7B,cAEA,MAET,CAkCcM,CAAWN,EAAcK,GACtC5pC,EAAK8pC,YAAc,KACnB9pC,EAAK+pC,eAAiB,KACtB/pC,EAAKgqC,aAAe,KAEpBhqC,EAAKM,GAAG,SAAU,WACjBN,EAAKiqC,WACN,EACD,EAEA7qC,EAASkU,EAAejU,EAAO8G,UAE/BmN,EAActmB,UAAU+1B,UAAY,SAAUl2B,EAAM3D,GACnD,IACIghD,EAAYr9C,EAAKkU,eAIqB,IAAtCopC,EAAc37C,QAAQ07C,KALf5gD,KAQNogD,SAASQ,GAAa,CAC1Br9C,KAAMA,EACN3D,MAAOA,GAET,EAEAoqB,EAActmB,UAAUo9C,UAAY,SAAUv9C,GAC7C,IAAIiU,EAASxX,KAAKogD,SAAS78C,EAAKkU,eAChC,OAAID,EACIA,EAAO5X,MACR,IACR,EAEAoqB,EAActmB,UAAUq9C,aAAe,SAAUx9C,UACrCvD,KACCogD,SAAS78C,EAAKkU,cAC3B,EAEAuS,EAActmB,UAAUi9C,UAAY,WACnC,IAAIjqC,EAAO1W,KAEX,IAAI0W,EAAKsB,WAAT,CAEA,IAAIkS,EAAOxT,EAAKwpC,MAEZ,YAAah2B,GAAyB,IAAjBA,EAAK2a,SAC7BnuB,EAAKsqC,WAAW92B,EAAK2a,SAGtB,IAAIoc,EAAavqC,EAAK0pC,SAClB9nC,EAAO,KACS,QAAhB4R,EAAKZ,QAAoC,SAAhBY,EAAKZ,SAC3BhR,EAAO,IAAI4oC,KAAKxqC,EAAKypC,MAAO,CACxB7tC,MAAO2uC,EAAW,iBAAmB,CAAC,GAAGrhD,OAAS,MAK7D,IAAIuhD,EAAc,GAalB,GAZA7gD,OAAOC,KAAK0gD,GAAY1pC,QAAQ,SAAU6pC,GACzC,IAAI79C,EAAO09C,EAAWG,GAAS79C,KAC3B3D,EAAQqhD,EAAWG,GAASxhD,MAC5BiE,MAAMC,QAAQlE,GACjBA,EAAM2X,QAAQ,SAAU/I,GACvB2yC,EAAY9iD,KAAK,CAACkF,EAAMiL,GACzB,GAEA2yC,EAAY9iD,KAAK,CAACkF,EAAM3D,GAE1B,GAEmB,UAAf8W,EAAKE,MAAmB,CAC3B,IAAIyqC,EAAS,KACb,GAAIxrC,EAAWN,gBAAiB,CAC/B,IAAI+rC,EAAa,IAAI9rC,gBACrB6rC,EAASC,EAAWD,OACpB3qC,EAAK6qC,sBAAwBD,EAEzB,mBAAoBp3B,GAAgC,IAAxBA,EAAKs3B,iBACpC9qC,EAAK8pC,YAAc,WAAOQ,WAAW,WACpCtqC,EAAKQ,KAAK,kBACNR,EAAK6qC,uBACR7qC,EAAK6qC,sBAAsBlpC,OAC7B,EAAG6R,EAAKs3B,gBAEV,CAEA,WAAOrsC,MAAMuB,EAAKwpC,MAAM9oC,IAAK,CAC5BkS,OAAQ5S,EAAKwpC,MAAM52B,OACnB9iB,QAAS26C,EACT7oC,KAAMA,QAAQpV,EACdsT,KAAM,OACNirC,YAAav3B,EAAKw3B,gBAAkB,UAAY,cAChDL,OAAQA,IACNzoC,KAAK,SAAUvT,GACjBqR,EAAKS,eAAiB9R,EACtBqR,EAAKirC,cAAa,GAClBjrC,EAAKkrC,UACN,EAAG,SAAUtY,GACZ5yB,EAAKirC,cAAa,GACbjrC,EAAKsB,YACTtB,EAAKQ,KAAK,QAASoyB,EACrB,EACD,KAAO,CACN,IAAI50B,EAAMgC,EAAKoC,KAAO,IAAI,WAAOlE,eACjC,IACCF,EAAIG,KAAK6B,EAAKwpC,MAAM52B,OAAQ5S,EAAKwpC,MAAM9oC,KAAK,EAC7C,CAAE,MAAO7R,GAIR,YAHAwB,EAAQkQ,SAAS,WAChBP,EAAKQ,KAAK,QAAS3R,EACpB,EAED,CAGI,iBAAkBmP,IACrBA,EAAIO,aAAeyB,EAAKE,OAErB,oBAAqBlC,IACxBA,EAAIgtC,kBAAoBx3B,EAAKw3B,iBAEX,SAAfhrC,EAAKE,OAAoB,qBAAsBlC,GAClDA,EAAIkB,iBAAiB,sCAElB,mBAAoBsU,IACvBxV,EAAImwB,QAAU3a,EAAKs3B,eACnB9sC,EAAImtC,UAAY,WACfnrC,EAAKQ,KAAK,iBACX,GAGDiqC,EAAY5pC,QAAQ,SAAUC,GAC7B9C,EAAIotC,iBAAiBtqC,EAAO,GAAIA,EAAO,GACxC,GAEAd,EAAKqrC,UAAY,KACjBrtC,EAAIstC,mBAAqB,WACxB,OAAQttC,EAAImF,YACX,KAAK7D,EAAQK,QACb,KAAKL,EAAQM,KACZI,EAAK6C,iBAGR,EAGmB,4BAAf7C,EAAKE,QACRlC,EAAIsF,WAAa,WAChBtD,EAAK6C,gBACN,GAGD7E,EAAI4kB,QAAU,WACT5iB,EAAKsB,aAETtB,EAAKirC,cAAa,GAClBjrC,EAAKQ,KAAK,QAAS,IAAI1R,MAAM,cAC9B,EAEA,IACCkP,EAAIutC,KAAK3pC,EACV,CAAE,MAAO/S,GAIR,YAHAwB,EAAQkQ,SAAS,WAChBP,EAAKQ,KAAK,QAAS3R,EACpB,EAED,CACD,CA7HC,CA8HF,EAgBAykB,EAActmB,UAAU6V,eAAiB,WACxC,IAAI7C,EAAO1W,KAEX0W,EAAKirC,cAAa,GAZnB,SAAsBjtC,GACrB,IACC,IAAIjP,EAASiP,EAAIjP,OACjB,OAAmB,OAAXA,GAA8B,IAAXA,CAC5B,CAAE,MAAOsP,GACR,OAAO,CACR,CACD,CAOMmtC,CAAYxrC,EAAKoC,QAASpC,EAAKsB,aAG/BtB,EAAKqrC,WACTrrC,EAAKkrC,WAENlrC,EAAKqrC,UAAUxoC,eAAe7C,EAAKirC,aAAalwB,KAAK/a,IACtD,EAEAsT,EAActmB,UAAUk+C,SAAW,WAClC,IAAIlrC,EAAO1W,KAEP0W,EAAKsB,aAGTtB,EAAKqrC,UAAY,IAAIxrC,EAAgBG,EAAKoC,KAAMpC,EAAKS,eAAgBT,EAAKE,MAAOF,EAAKirC,aAAalwB,KAAK/a,IACxGA,EAAKqrC,UAAU/qC,GAAG,QAAS,SAASzR,GACnCmR,EAAKQ,KAAK,QAAS3R,EACpB,GAEAmR,EAAKQ,KAAK,WAAYR,EAAKqrC,WAC5B,EAEA/3B,EAActmB,UAAUyc,OAAS,SAAUvI,EAAOgJ,EAAUpE,GAChDxc,KAENmgD,MAAM9hD,KAAKuZ,GAChB4E,GACD,EAEAwN,EAActmB,UAAUi+C,aAAe,SAAU9oC,GAChD,IAAInC,EAAO1W,KAEX,WAAOmiD,aAAazrC,EAAKgqC,cACzBhqC,EAAKgqC,aAAe,KAEhB7nC,GACH,WAAOspC,aAAazrC,EAAK8pC,aACzB9pC,EAAK8pC,YAAc,MACT9pC,EAAK+pC,iBACf/pC,EAAKgqC,aAAe,WAAOM,WAAW,WACrCtqC,EAAKQ,KAAK,UACX,EAAGR,EAAK+pC,gBAEV,EAEAz2B,EAActmB,UAAU2U,MAAQ2R,EAActmB,UAAU4c,QAAU,SAAU/a,GAC3E,IAAImR,EAAO1W,KACX0W,EAAKsB,YAAa,EAClBtB,EAAKirC,cAAa,GACdjrC,EAAKqrC,YACRrrC,EAAKqrC,UAAU/pC,YAAa,GACzBtB,EAAKoC,KACRpC,EAAKoC,KAAKT,QACF3B,EAAK6qC,uBACb7qC,EAAK6qC,sBAAsBlpC,QAExB9S,GACHmR,EAAKQ,KAAK,QAAS3R,EACrB,EAEAykB,EAActmB,UAAU2X,IAAM,SAAU/U,EAAMsa,EAAUpE,GAEnC,mBAATlW,IACVkW,EAAKlW,EACLA,OAAOpD,GAGR6S,EAAO8G,SAASnZ,UAAU2X,IAAIxc,KANnBmB,KAM8BsG,EAAMsa,EAAUpE,EAC1D,EAEAwN,EAActmB,UAAUs9C,WAAa,SAAUnc,EAASroB,GACvD,IAAI9F,EAAO1W,KAEPwc,GACH9F,EAAKoM,KAAK,UAAWtG,GAEtB9F,EAAK+pC,eAAiB5b,EACtBnuB,EAAKirC,cAAa,EACnB,EAEA33B,EAActmB,UAAU0+C,aAAe,WAAa,EACpDp4B,EAActmB,UAAU2+C,WAAa,WAAa,EAClDr4B,EAActmB,UAAU4+C,mBAAqB,WAAa,EAG1D,IAAIzB,EAAgB,CACnB,iBACA,kBACA,iCACA,gCACA,aACA,iBACA,SACA,UACA,OACA,MACA,SACA,OACA,aACA,SACA,UACA,KACA,UACA,oBACA,UACA,M,WC9UD,SAAS0B,EAAS/1B,EAAKrqB,EAAS6B,EAAOw+C,GACnC,IAAIC,EAAS,GACTC,GAAuB,EAE3B,IAAK,IAAIvkD,EAAI,EAAGA,EAAIquB,EAAI3uB,OAAQM,IAAK,CACjC,MAAMwkD,EAASn2B,EAAIruB,GACbuR,EAAUkzC,EAASD,GACzB,QAAez/C,IAAZwM,EAAuB,SAE1B,IAAImzC,EAAW,GAIf,GAHwBA,EAAH,IAAjB7+C,EAAMnG,OAAyB6R,EACnB,GAAG1L,KAAS0L,IAExBA,IAAYvN,EAAQtB,aAAc,CAClC,IAAIiiD,EAAUH,EAAOjzC,GAChBqzC,EAAWF,EAAU1gD,KACtB2gD,EAAU3gD,EAAQd,kBAAkBqO,EAASozC,GAC7CA,EAAUx+C,EAAqBw+C,EAAS3gD,IAExCugD,IACAD,GAAUD,GAEdC,GAAUK,EACVJ,GAAuB,EACvB,QACJ,CAAO,GAAIhzC,IAAYvN,EAAQpB,cAAe,CACtC2hD,IACAD,GAAUD,GAEdC,GAAU,YAAYE,EAAOjzC,GAAS,GAAGvN,EAAQtB,mBACjD6hD,GAAuB,EACvB,QACJ,CAAO,GAAIhzC,IAAYvN,EAAQT,gBAAiB,CAC5C+gD,GAAUD,EAAc,UAAOG,EAAOjzC,GAAS,GAAGvN,EAAQtB,sBAC1D6hD,GAAuB,EACvB,QACJ,CAAO,GAAmB,MAAfhzC,EAAQ,GAAY,CAC3B,MAAMszC,EAASC,EAAYN,EAAO,MAAOxgD,GACnC+gD,EAAsB,SAAZxzC,EAAqB,GAAK8yC,EAC1C,IAAIW,EAAiBR,EAAOjzC,GAAS,GAAGvN,EAAQtB,cAChDsiD,EAA2C,IAA1BA,EAAetlD,OAAe,IAAMslD,EAAiB,GACtEV,GAAUS,EAAU,IAAIxzC,IAAUyzC,IAAiBH,MACnDN,GAAuB,EACvB,QACJ,CACA,IAAIU,EAAgBZ,EACE,KAAlBY,IACAA,GAAiBjhD,EAAQlB,UAE7B,MACMoiD,EAAWb,EAAc,IAAI9yC,IADpBuzC,EAAYN,EAAO,MAAOxgD,KAEnCmhD,EAAWf,EAASI,EAAOjzC,GAAUvN,EAAS0gD,EAAUO,IACf,IAA3CjhD,EAAQR,aAAauD,QAAQwK,GACzBvN,EAAQhB,qBAAsBshD,GAAUY,EAAW,IAClDZ,GAAUY,EAAW,KACjBC,GAAgC,IAApBA,EAASzlD,SAAiBsE,EAAQjB,kBAEhDoiD,GAAYA,EAAS5kB,SAAS,KACrC+jB,GAAUY,EAAW,IAAIC,IAAWd,MAAgB9yC,MAEpD+yC,GAAUY,EAAW,IACjBC,GAA4B,KAAhBd,IAAuBc,EAAS7Y,SAAS,OAAS6Y,EAAS7Y,SAAS,OAChFgY,GAAUD,EAAcrgD,EAAQlB,SAAWqiD,EAAWd,EAEtDC,GAAUa,EAEdb,GAAU,KAAK/yC,MAVf+yC,GAAUY,EAAW,KAYzBX,GAAuB,CAC3B,CAEA,OAAOD,CACX,CAEA,SAASG,EAAS5gC,GACd,MAAMzhB,EAAOD,OAAOC,KAAKyhB,GACzB,IAAK,IAAI7jB,EAAI,EAAGA,EAAIoC,EAAK1C,OAAQM,IAAK,CAClC,MAAMqB,EAAMe,EAAKpC,GACjB,GAAI6jB,EAAI/d,eAAezE,IACX,OAARA,EAAc,OAAOA,CAC7B,CACJ,CAEA,SAASyjD,EAAYM,EAASphD,GAC1B,IAAIiB,EAAU,GACd,GAAImgD,IAAYphD,EAAQrB,iBACpB,IAAK,IAAIqD,KAAQo/C,EAAS,CACtB,IAAIA,EAAQt/C,eAAeE,GAAO,SAClC,IAAIq/C,EAAUrhD,EAAQZ,wBAAwB4C,EAAMo/C,EAAQp/C,IAC5Dq/C,EAAUl/C,EAAqBk/C,EAASrhD,IACxB,IAAZqhD,GAAoBrhD,EAAQf,0BAC5BgC,GAAW,IAAIe,EAAKV,OAAOtB,EAAQxB,oBAAoB9C,UAEvDuF,GAAW,IAAIe,EAAKV,OAAOtB,EAAQxB,oBAAoB9C,YAAY2lD,IAE3E,CAEJ,OAAOpgD,CACX,CAEA,SAAS2/C,EAAW/+C,EAAO7B,GAEvB,IAAIuN,GADJ1L,EAAQA,EAAMP,OAAO,EAAGO,EAAMnG,OAASsE,EAAQtB,aAAahD,OAAS,IACjD4F,OAAOO,EAAM6hB,YAAY,KAAO,GACpD,IAAK,IAAI7b,KAAS7H,EAAQH,UACtB,GAAIG,EAAQH,UAAUgI,KAAWhG,GAAS7B,EAAQH,UAAUgI,KAAW,KAAO0F,EAAS,OAAO,EAElG,OAAO,CACX,CAEA,SAASpL,EAAqBM,EAAWzC,GACrC,GAAIyC,GAAaA,EAAU/G,OAAS,GAAKsE,EAAQJ,gBAC7C,IAAK,IAAI5D,EAAI,EAAGA,EAAIgE,EAAQP,SAAS/D,OAAQM,IAAK,CAC9C,MAAMgH,EAAShD,EAAQP,SAASzD,GAChCyG,EAAYA,EAAU1G,QAAQiH,EAAOtD,MAAOsD,EAAOhF,IACvD,CAEJ,OAAOyE,CACX,CACAzF,EAAOC,QA9HP,SAAeqkD,EAAQthD,GACnB,IAAIqgD,EAAc,GAIlB,OAHIrgD,EAAQnB,QAAUmB,EAAQlB,SAASpD,OAAS,IAC5C2kD,EAXI,MAaDD,EAASkB,EAAQthD,EAAS,GAAIqgD,EACzC,C,sECHO,SAASkB,EAAW7wB,GACvB,OAAO,SAAcA,EACzB,CACO,SAAS8wB,EAAS9wB,GACrB,OAAO,SAAcA,EACzB,C,mBChBA1zB,EAAOC,QAIP,WAGI,IAFA,IAAI0nB,EAAS,CAAC,EAEL3oB,EAAI,EAAGA,EAAIQ,UAAUd,OAAQM,IAAK,CACvC,IAAI4oB,EAASpoB,UAAUR,GAEvB,IAAK,IAAIqB,KAAOunB,EACR9iB,EAAepF,KAAKkoB,EAAQvnB,KAC5BsnB,EAAOtnB,GAAOunB,EAAOvnB,GAGjC,CAEA,OAAOsnB,CACX,EAhBA,IAAI7iB,EAAiB3D,OAAOoD,UAAUO,c,eCFtC,IAAI2/C,EAAwB,mBAARrwC,KAAsBA,IAAI7P,UAC1CmgD,EAAoBvjD,OAAOqmB,0BAA4Bi9B,EAAStjD,OAAOqmB,yBAAyBpT,IAAI7P,UAAW,QAAU,KACzHogD,EAAUF,GAAUC,GAAsD,mBAA1BA,EAAkBnkD,IAAqBmkD,EAAkBnkD,IAAM,KAC/GqkD,EAAaH,GAAUrwC,IAAI7P,UAAU6T,QACrCysC,EAAwB,mBAARrwB,KAAsBA,IAAIjwB,UAC1CugD,EAAoB3jD,OAAOqmB,0BAA4Bq9B,EAAS1jD,OAAOqmB,yBAAyBgN,IAAIjwB,UAAW,QAAU,KACzHwgD,EAAUF,GAAUC,GAAsD,mBAA1BA,EAAkBvkD,IAAqBukD,EAAkBvkD,IAAM,KAC/GykD,EAAaH,GAAUrwB,IAAIjwB,UAAU6T,QAErC6sC,EADgC,mBAAZ7P,SAA0BA,QAAQ7wC,UAC5B6wC,QAAQ7wC,UAAUjE,IAAM,KAElD4kD,EADgC,mBAAZ5P,SAA0BA,QAAQ/wC,UAC5B+wC,QAAQ/wC,UAAUjE,IAAM,KAElD6kD,EADgC,mBAAZC,SAA0BA,QAAQ7gD,UAC1B6gD,QAAQ7gD,UAAU8gD,MAAQ,KACtDC,EAAiBhS,QAAQ/uC,UAAU0qB,QACnC8Z,EAAiB5nC,OAAOoD,UAAU6J,SAClCm3C,EAAmB5iC,SAASpe,UAAU6J,SACtCo3C,EAAS9pC,OAAOnX,UAAU3F,MAC1B6mD,EAAS/pC,OAAOnX,UAAU9E,MAC1BimD,EAAWhqC,OAAOnX,UAAUxF,QAC5B4mD,EAAejqC,OAAOnX,UAAUgnB,YAChCq6B,EAAelqC,OAAOnX,UAAU+T,YAChCutC,EAAQljD,OAAO4B,UAAUwD,KACzB+9C,EAAUphD,MAAMH,UAAUT,OAC1BiiD,EAAQrhD,MAAMH,UAAUnF,KACxB4mD,EAAYthD,MAAMH,UAAU9E,MAC5BwmD,EAASxhC,KAAKD,MACd0hC,EAAkC,mBAAXlT,OAAwBA,OAAOzuC,UAAU0qB,QAAU,KAC1Ek3B,EAAOhlD,OAAOkmB,sBACd++B,EAAgC,mBAAX3jC,QAAoD,iBAApBA,OAAO0P,SAAwB1P,OAAOle,UAAU6J,SAAW,KAChHi4C,EAAsC,mBAAX5jC,QAAoD,iBAApBA,OAAO0P,SAElEwf,EAAgC,mBAAXlvB,QAAyBA,OAAOkvB,cAAuBlvB,OAAOkvB,YAAf,GAClElvB,OAAOkvB,YACP,KACF2U,EAAenlD,OAAOoD,UAAUgiD,qBAEhCC,GAA0B,mBAAZ5qB,QAAyBA,QAAQlK,eAAiBvwB,OAAOuwB,kBACvE,GAAGwK,YAAcx3B,MAAMH,UACjB,SAAUkiD,GACR,OAAOA,EAAEvqB,SACb,EACE,MAGV,SAASwqB,EAAoBv4C,EAAKhP,GAC9B,GACIgP,IAAQw4C,KACLx4C,KAAQ,KACRA,GAAQA,GACPA,GAAOA,GAAO,KAAQA,EAAM,KAC7B03C,EAAMnmD,KAAK,IAAKP,GAEnB,OAAOA,EAEX,IAAIynD,EAAW,mCACf,GAAmB,iBAARz4C,EAAkB,CACzB,IAAI04C,EAAM14C,EAAM,GAAK83C,GAAQ93C,GAAO83C,EAAO93C,GAC3C,GAAI04C,IAAQ14C,EAAK,CACb,IAAI24C,EAASprC,OAAOmrC,GAChBE,EAAMtB,EAAO/lD,KAAKP,EAAK2nD,EAAOpoD,OAAS,GAC3C,OAAOgnD,EAAShmD,KAAKonD,EAAQF,EAAU,OAAS,IAAMlB,EAAShmD,KAAKgmD,EAAShmD,KAAKqnD,EAAK,cAAe,OAAQ,KAAM,GACxH,CACJ,CACA,OAAOrB,EAAShmD,KAAKP,EAAKynD,EAAU,MACxC,CAEA,IAAII,EAAc,EAAQ,OACtBC,EAAgBD,EAAYt+B,OAC5Bw+B,EAAgB7d,EAAS4d,GAAiBA,EAAgB,KAE1DE,EAAS,CACTjrB,UAAW,KACX,OAAU,IACVkrB,OAAQ,KAERC,EAAW,CACXnrB,UAAW,KACX,OAAU,WACVkrB,OAAQ,YAwMZ,SAASE,EAAWl+B,EAAGm+B,EAAcx8B,GACjC,IAAI0c,EAAQ1c,EAAKy8B,YAAcD,EAC3BE,EAAYN,EAAO1f,GACvB,OAAOggB,EAAYr+B,EAAIq+B,CAC3B,CAEA,SAASC,EAAMt+B,GACX,OAAOs8B,EAAShmD,KAAKgc,OAAO0N,GAAI,KAAM,SAC1C,CAEA,SAASu+B,EAAiB9kC,GACtB,OAAQ8uB,KAAgC,iBAAR9uB,IAAqB8uB,KAAe9uB,QAAmC,IAArBA,EAAI8uB,IAC1F,CACA,SAAShtC,EAAQke,GAAO,MAAsB,mBAAfyvB,EAAMzvB,IAA6B8kC,EAAiB9kC,EAAM,CAEzF,SAAS6hB,EAAS7hB,GAAO,MAAsB,oBAAfyvB,EAAMzvB,IAA8B8kC,EAAiB9kC,EAAM,CAO3F,SAASwmB,EAASxmB,GACd,GAAIwjC,EACA,OAAOxjC,GAAsB,iBAARA,GAAoBA,aAAeJ,OAE5D,GAAmB,iBAARI,EACP,OAAO,EAEX,IAAKA,GAAsB,iBAARA,IAAqBujC,EACpC,OAAO,EAEX,IAEI,OADAA,EAAY1mD,KAAKmjB,IACV,CACX,CAAE,MAAOjN,GAAI,CACb,OAAO,CACX,CA1OA5V,EAAOC,QAAU,SAAS2nD,EAAS/kC,EAAK7f,EAAS6mB,EAAOid,GACpD,IAAI/b,EAAO/nB,GAAW,CAAC,EAEvB,GAAI1C,EAAIyqB,EAAM,gBAAkBzqB,EAAI6mD,EAAQp8B,EAAKy8B,YAC7C,MAAM,IAAI7oD,UAAU,oDAExB,GACI2B,EAAIyqB,EAAM,qBAAuD,iBAAzBA,EAAK88B,gBACvC98B,EAAK88B,gBAAkB,GAAK98B,EAAK88B,kBAAoBlB,IAC5B,OAAzB57B,EAAK88B,iBAGX,MAAM,IAAIlpD,UAAU,0FAExB,IAAImrB,GAAgBxpB,EAAIyqB,EAAM,kBAAmBA,EAAKjB,cACtD,GAA6B,kBAAlBA,GAAiD,WAAlBA,EACtC,MAAM,IAAInrB,UAAU,iFAGxB,GACI2B,EAAIyqB,EAAM,WACS,OAAhBA,EAAK+8B,QACW,OAAhB/8B,EAAK+8B,UACHrsC,SAASsP,EAAK+8B,OAAQ,MAAQ/8B,EAAK+8B,QAAU/8B,EAAK+8B,OAAS,GAEhE,MAAM,IAAInpD,UAAU,4DAExB,GAAI2B,EAAIyqB,EAAM,qBAAwD,kBAA1BA,EAAKg9B,iBAC7C,MAAM,IAAIppD,UAAU,qEAExB,IAAIopD,EAAmBh9B,EAAKg9B,iBAE5B,QAAmB,IAARllC,EACP,MAAO,YAEX,GAAY,OAARA,EACA,MAAO,OAEX,GAAmB,kBAARA,EACP,OAAOA,EAAM,OAAS,QAG1B,GAAmB,iBAARA,EACP,OAAOmlC,EAAcnlC,EAAKkI,GAE9B,GAAmB,iBAARlI,EAAkB,CACzB,GAAY,IAARA,EACA,OAAO8jC,IAAW9jC,EAAM,EAAI,IAAM,KAEtC,IAAI1jB,EAAMuc,OAAOmH,GACjB,OAAOklC,EAAmBrB,EAAoB7jC,EAAK1jB,GAAOA,CAC9D,CACA,GAAmB,iBAAR0jB,EAAkB,CACzB,IAAIolC,EAAYvsC,OAAOmH,GAAO,IAC9B,OAAOklC,EAAmBrB,EAAoB7jC,EAAKolC,GAAaA,CACpE,CAEA,IAAIC,OAAiC,IAAfn9B,EAAKlB,MAAwB,EAAIkB,EAAKlB,MAE5D,QADqB,IAAVA,IAAyBA,EAAQ,GACxCA,GAASq+B,GAAYA,EAAW,GAAoB,iBAARrlC,EAC5C,OAAOle,EAAQke,GAAO,UAAY,WAGtC,IA2RewJ,EA3RXy7B,EAmVR,SAAmB/8B,EAAMlB,GACrB,IAAIs+B,EACJ,GAAoB,OAAhBp9B,EAAK+8B,OACLK,EAAa,SACV,MAA2B,iBAAhBp9B,EAAK+8B,QAAuB/8B,EAAK+8B,OAAS,GAGxD,OAAO,KAFPK,EAAapC,EAAMrmD,KAAKgF,MAAMqmB,EAAK+8B,OAAS,GAAI,IAGpD,CACA,MAAO,CACHh5C,KAAMq5C,EACNz4B,KAAMq2B,EAAMrmD,KAAKgF,MAAMmlB,EAAQ,GAAIs+B,GAE3C,CAhWiBC,CAAUr9B,EAAMlB,GAE7B,QAAoB,IAATid,EACPA,EAAO,QACJ,GAAI/gC,EAAQ+gC,EAAMjkB,IAAQ,EAC7B,MAAO,aAGX,SAASjjB,EAAQa,EAAOsY,EAAMsvC,GAK1B,GAJItvC,IACA+tB,EAAOkf,EAAUtmD,KAAKonC,IACjB5nC,KAAK6Z,GAEVsvC,EAAU,CACV,IAAIC,EAAU,CACVz+B,MAAOkB,EAAKlB,OAKhB,OAHIvpB,EAAIyqB,EAAM,gBACVu9B,EAAQd,WAAaz8B,EAAKy8B,YAEvBI,EAASnnD,EAAO6nD,EAASz+B,EAAQ,EAAGid,EAC/C,CACA,OAAO8gB,EAASnnD,EAAOsqB,EAAMlB,EAAQ,EAAGid,EAC5C,CAEA,GAAmB,mBAARjkB,IAAuB6hB,EAAS7hB,GAAM,CAC7C,IAAIze,EAuKZ,SAAgB6pB,GACZ,GAAIA,EAAE7pB,KAAQ,OAAO6pB,EAAE7pB,KACvB,IAAIoJ,EAAIg4C,EAAO9lD,KAAK6lD,EAAiB7lD,KAAKuuB,GAAI,wBAC9C,OAAIzgB,EAAYA,EAAE,GACX,IACX,CA5KmB+6C,CAAO1lC,GACdzhB,EAAOonD,GAAW3lC,EAAKjjB,GAC3B,MAAO,aAAewE,EAAO,KAAOA,EAAO,gBAAkB,KAAOhD,EAAK1C,OAAS,EAAI,MAAQqnD,EAAMrmD,KAAK0B,EAAM,MAAQ,KAAO,GAClI,CACA,GAAIioC,EAASxmB,GAAM,CACf,IAAI4lC,GAAYpC,EAAoBX,EAAShmD,KAAKgc,OAAOmH,GAAM,yBAA0B,MAAQujC,EAAY1mD,KAAKmjB,GAClH,MAAsB,iBAARA,GAAqBwjC,EAA2CoC,GAAvBC,EAAUD,GACrE,CACA,IAyPep8B,EAzPDxJ,IA0PS,iBAANwJ,IACU,oBAAhBs8B,aAA+Bt8B,aAAas8B,aAG1B,iBAAft8B,EAAEu8B,UAAmD,mBAAnBv8B,EAAEw8B,cA9P9B,CAGhB,IAFA,IAAIz/B,GAAI,IAAMw8B,EAAalmD,KAAKgc,OAAOmH,EAAI+lC,WACvC3Q,GAAQp1B,EAAIimC,YAAc,GACrB9pD,GAAI,EAAGA,GAAIi5C,GAAMv5C,OAAQM,KAC9BoqB,IAAK,IAAM6uB,GAAMj5C,IAAGoF,KAAO,IAAMkjD,EAAWI,EAAMzP,GAAMj5C,IAAGyB,OAAQ,SAAUsqB,GAKjF,OAHA3B,IAAK,IACDvG,EAAIkmC,YAAclmC,EAAIkmC,WAAWrqD,SAAU0qB,IAAK,OACpDA,GAAK,KAAOw8B,EAAalmD,KAAKgc,OAAOmH,EAAI+lC,WAAa,GAE1D,CACA,GAAIjkD,EAAQke,GAAM,CACd,GAAmB,IAAfA,EAAInkB,OAAgB,MAAO,KAC/B,IAAI8/C,GAAKgK,GAAW3lC,EAAKjjB,GACzB,OAAIkoD,IA0RZ,SAA0BtJ,GACtB,IAAK,IAAIx/C,EAAI,EAAGA,EAAIw/C,EAAG9/C,OAAQM,IAC3B,GAAI+G,EAAQy4C,EAAGx/C,GAAI,OAAS,EACxB,OAAO,EAGf,OAAO,CACX,CAjSuBgqD,CAAiBxK,IACrB,IAAMyK,GAAazK,GAAIsJ,GAAU,IAErC,KAAO/B,EAAMrmD,KAAK8+C,GAAI,MAAQ,IACzC,CACA,GAiGJ,SAAiB37B,GAAO,MAAsB,mBAAfyvB,EAAMzvB,IAA6B8kC,EAAiB9kC,EAAM,CAjGjFulB,CAAQvlB,GAAM,CACd,IAAIxjB,GAAQmpD,GAAW3lC,EAAKjjB,GAC5B,MAAM,UAAWyG,MAAM9B,aAAc,UAAWse,IAAQyjC,EAAa5mD,KAAKmjB,EAAK,SAG1D,IAAjBxjB,GAAMX,OAAuB,IAAMgd,OAAOmH,GAAO,IAC9C,MAAQnH,OAAOmH,GAAO,KAAOkjC,EAAMrmD,KAAKL,GAAO,MAAQ,KAHnD,MAAQqc,OAAOmH,GAAO,KAAOkjC,EAAMrmD,KAAKomD,EAAQpmD,KAAK,YAAcE,EAAQijB,EAAI+P,OAAQvzB,IAAQ,MAAQ,IAItH,CACA,GAAmB,iBAARwjB,GAAoBiH,EAAe,CAC1C,GAAIo9B,GAA+C,mBAAvBrkC,EAAIqkC,IAAiCF,EAC7D,OAAOA,EAAYnkC,EAAK,CAAEgH,MAAOq+B,EAAWr+B,IACzC,GAAsB,WAAlBC,GAAqD,mBAAhBjH,EAAIjjB,QAChD,OAAOijB,EAAIjjB,SAEnB,CACA,GA4IJ,SAAeysB,GACX,IAAKs4B,IAAYt4B,GAAkB,iBAANA,EACzB,OAAO,EAEX,IACIs4B,EAAQjlD,KAAK2sB,GACb,IACI04B,EAAQrlD,KAAK2sB,EACjB,CAAE,MAAOjD,GACL,OAAO,CACX,CACA,OAAOiD,aAAajY,GACxB,CAAE,MAAOwB,GAAI,CACb,OAAO,CACX,CA1JQs/B,CAAMryB,GAAM,CACZ,IAAIqmC,GAAW,GAMf,OALItE,GACAA,EAAWllD,KAAKmjB,EAAK,SAAUpiB,EAAOJ,GAClC6oD,GAAShqD,KAAKU,EAAQS,EAAKwiB,GAAK,GAAQ,OAASjjB,EAAQa,EAAOoiB,GACpE,GAEGsmC,GAAa,MAAOxE,EAAQjlD,KAAKmjB,GAAMqmC,GAAUpB,EAC5D,CACA,GA8KJ,SAAez7B,GACX,IAAK04B,IAAY14B,GAAkB,iBAANA,EACzB,OAAO,EAEX,IACI04B,EAAQrlD,KAAK2sB,GACb,IACIs4B,EAAQjlD,KAAK2sB,EACjB,CAAE,MAAO7e,GACL,OAAO,CACX,CACA,OAAO6e,aAAamI,GACxB,CAAE,MAAO5e,GAAI,CACb,OAAO,CACX,CA5LQu/B,CAAMtyB,GAAM,CACZ,IAAIumC,GAAW,GAMf,OALIpE,GACAA,EAAWtlD,KAAKmjB,EAAK,SAAUpiB,GAC3B2oD,GAASlqD,KAAKU,EAAQa,EAAOoiB,GACjC,GAEGsmC,GAAa,MAAOpE,EAAQrlD,KAAKmjB,GAAMumC,GAAUtB,EAC5D,CACA,GA0IJ,SAAmBz7B,GACf,IAAK44B,IAAe54B,GAAkB,iBAANA,EAC5B,OAAO,EAEX,IACI44B,EAAWvlD,KAAK2sB,EAAG44B,GACnB,IACIC,EAAWxlD,KAAK2sB,EAAG64B,EACvB,CAAE,MAAO97B,GACL,OAAO,CACX,CACA,OAAOiD,aAAa+oB,OACxB,CAAE,MAAOx/B,GAAI,CACb,OAAO,CACX,CAxJQy/B,CAAUxyB,GACV,OAAOwmC,EAAiB,WAE5B,GAkLJ,SAAmBh9B,GACf,IAAK64B,IAAe74B,GAAkB,iBAANA,EAC5B,OAAO,EAEX,IACI64B,EAAWxlD,KAAK2sB,EAAG64B,GACnB,IACID,EAAWvlD,KAAK2sB,EAAG44B,EACvB,CAAE,MAAO77B,GACL,OAAO,CACX,CACA,OAAOiD,aAAaipB,OACxB,CAAE,MAAO1/B,GAAI,CACb,OAAO,CACX,CAhMQ2/B,CAAU1yB,GACV,OAAOwmC,EAAiB,WAE5B,GAoJJ,SAAmBh9B,GACf,IAAK84B,IAAiB94B,GAAkB,iBAANA,EAC9B,OAAO,EAEX,IAEI,OADA84B,EAAazlD,KAAK2sB,IACX,CACX,CAAE,MAAOzW,GAAI,CACb,OAAO,CACX,CA7JQ0zC,CAAUzmC,GACV,OAAOwmC,EAAiB,WAE5B,GAyDJ,SAAkBxmC,GAAO,MAAsB,oBAAfyvB,EAAMzvB,IAA8B8kC,EAAiB9kC,EAAM,CAzDnFilB,CAASjlB,GACT,OAAO6lC,EAAU9oD,EAAQyI,OAAOwa,KAEpC,GA2EJ,SAAkBA,GACd,IAAKA,GAAsB,iBAARA,IAAqBqjC,EACpC,OAAO,EAEX,IAEI,OADAA,EAAcxmD,KAAKmjB,IACZ,CACX,CAAE,MAAOjN,GAAI,CACb,OAAO,CACX,CApFQ2zC,CAAS1mC,GACT,OAAO6lC,EAAU9oD,EAAQsmD,EAAcxmD,KAAKmjB,KAEhD,GAoDJ,SAAmBA,GAAO,MAAsB,qBAAfyvB,EAAMzvB,IAA+B8kC,EAAiB9kC,EAAM,CApDrFqkB,CAAUrkB,GACV,OAAO6lC,EAAUpD,EAAe5lD,KAAKmjB,IAEzC,GA+CJ,SAAkBA,GAAO,MAAsB,oBAAfyvB,EAAMzvB,IAA8B8kC,EAAiB9kC,EAAM,CA/CnFuJ,CAASvJ,GACT,OAAO6lC,EAAU9oD,EAAQ8b,OAAOmH,KAIpC,GAAsB,oBAAXhS,QAA0BgS,IAAQhS,OACzC,MAAO,sBAEX,GAC2B,oBAAf24C,YAA8B3mC,IAAQ2mC,YACxB,oBAAX,YAA0B3mC,IAAQ,WAE7C,MAAO,0BAEX,IA8BJ,SAAgBA,GAAO,MAAsB,kBAAfyvB,EAAMzvB,IAA4B8kC,EAAiB9kC,EAAM,CA9B9EylB,CAAOzlB,KAAS6hB,EAAS7hB,GAAM,CAChC,IAAI4mC,GAAKjB,GAAW3lC,EAAKjjB,GACrB8pD,GAAgBlD,EAAMA,EAAI3jC,KAAS1hB,OAAOoD,UAAYse,aAAe1hB,QAAU0hB,EAAIliB,cAAgBQ,OACnGwoD,GAAW9mC,aAAe1hB,OAAS,GAAK,iBACxCyoD,IAAaF,IAAiB/X,GAAexwC,OAAO0hB,KAASA,GAAO8uB,KAAe9uB,EAAM4iC,EAAO/lD,KAAK4yC,EAAMzvB,GAAM,GAAI,GAAK8mC,GAAW,SAAW,GAEhJE,IADiBH,IAA4C,mBAApB7mC,EAAIliB,YAA6B,GAAKkiB,EAAIliB,YAAYyD,KAAOye,EAAIliB,YAAYyD,KAAO,IAAM,KAC3GwlD,IAAaD,GAAW,IAAM5D,EAAMrmD,KAAKomD,EAAQpmD,KAAK,GAAIkqD,IAAa,GAAID,IAAY,IAAK,MAAQ,KAAO,IACvI,OAAkB,IAAdF,GAAG/qD,OAAuBmrD,GAAM,KAChC/B,EACO+B,GAAM,IAAMZ,GAAaQ,GAAI3B,GAAU,IAE3C+B,GAAM,KAAO9D,EAAMrmD,KAAK+pD,GAAI,MAAQ,IAC/C,CACA,OAAO/tC,OAAOmH,EAClB,EAoDA,IAAI8L,EAASxtB,OAAOoD,UAAUO,gBAAkB,SAAUzE,GAAO,OAAOA,KAAOQ,IAAM,EACrF,SAASP,EAAIuiB,EAAKxiB,GACd,OAAOsuB,EAAOjvB,KAAKmjB,EAAKxiB,EAC5B,CAEA,SAASiyC,EAAMzvB,GACX,OAAOkmB,EAAerpC,KAAKmjB,EAC/B,CASA,SAAS9c,EAAQy4C,EAAInyB,GACjB,GAAImyB,EAAGz4C,QAAW,OAAOy4C,EAAGz4C,QAAQsmB,GACpC,IAAK,IAAIrtB,EAAI,EAAGqV,EAAImqC,EAAG9/C,OAAQM,EAAIqV,EAAGrV,IAClC,GAAIw/C,EAAGx/C,KAAOqtB,EAAK,OAAOrtB,EAE9B,OAAQ,CACZ,CAqFA,SAASgpD,EAAc7oD,EAAK4rB,GACxB,GAAI5rB,EAAIT,OAASqsB,EAAK88B,gBAAiB,CACnC,IAAIiC,EAAY3qD,EAAIT,OAASqsB,EAAK88B,gBAC9BkC,EAAU,OAASD,EAAY,mBAAqBA,EAAY,EAAI,IAAM,IAC9E,OAAO9B,EAAcvC,EAAO/lD,KAAKP,EAAK,EAAG4rB,EAAK88B,iBAAkB98B,GAAQg/B,CAC5E,CACA,IAAIC,EAAU3C,EAASt8B,EAAKy8B,YAAc,UAI1C,OAHAwC,EAAQC,UAAY,EAGb3C,EADC5B,EAAShmD,KAAKgmD,EAAShmD,KAAKP,EAAK6qD,EAAS,QAAS,eAAgBE,GACtD,SAAUn/B,EACnC,CAEA,SAASm/B,EAAQxgC,GACb,IAAIlD,EAAIkD,EAAEjP,WAAW,GACjB4R,EAAI,CACJ,EAAG,IACH,EAAG,IACH,GAAI,IACJ,GAAI,IACJ,GAAI,KACN7F,GACF,OAAI6F,EAAY,KAAOA,EAChB,OAAS7F,EAAI,GAAO,IAAM,IAAMm/B,EAAajmD,KAAK8mB,EAAEpY,SAAS,IACxE,CAEA,SAASs6C,EAAUvpD,GACf,MAAO,UAAYA,EAAM,GAC7B,CAEA,SAASkqD,EAAiBl2C,GACtB,OAAOA,EAAO,QAClB,CAEA,SAASg2C,GAAah2C,EAAMg3C,EAAMC,EAAStC,GAEvC,OAAO30C,EAAO,KAAOg3C,EAAO,OADRrC,EAASmB,GAAamB,EAAStC,GAAU/B,EAAMrmD,KAAK0qD,EAAS,OAC7B,GACxD,CA0BA,SAASnB,GAAazK,EAAIsJ,GACtB,GAAkB,IAAdtJ,EAAG9/C,OAAgB,MAAO,GAC9B,IAAI2rD,EAAa,KAAOvC,EAAOp4B,KAAOo4B,EAAOh5C,KAC7C,OAAOu7C,EAAatE,EAAMrmD,KAAK8+C,EAAI,IAAM6L,GAAc,KAAOvC,EAAOp4B,IACzE,CAEA,SAAS84B,GAAW3lC,EAAKjjB,GACrB,IAAI0qD,EAAQ3lD,EAAQke,GAChB27B,EAAK,GACT,GAAI8L,EAAO,CACP9L,EAAG9/C,OAASmkB,EAAInkB,OAChB,IAAK,IAAIM,EAAI,EAAGA,EAAI6jB,EAAInkB,OAAQM,IAC5Bw/C,EAAGx/C,GAAKsB,EAAIuiB,EAAK7jB,GAAKY,EAAQijB,EAAI7jB,GAAI6jB,GAAO,EAErD,CACA,IACI0nC,EADAC,EAAuB,mBAATrE,EAAsBA,EAAKtjC,GAAO,GAEpD,GAAIwjC,EAAmB,CACnBkE,EAAS,CAAC,EACV,IAAK,IAAIxkC,EAAI,EAAGA,EAAIykC,EAAK9rD,OAAQqnB,IAC7BwkC,EAAO,IAAMC,EAAKzkC,IAAMykC,EAAKzkC,EAErC,CAEA,IAAK,IAAI1lB,KAAOwiB,EACPviB,EAAIuiB,EAAKxiB,KACViqD,GAAS5uC,OAAOrT,OAAOhI,MAAUA,GAAOA,EAAMwiB,EAAInkB,QAClD2nD,GAAqBkE,EAAO,IAAMlqD,aAAgBoiB,SAG3CojC,EAAMnmD,KAAK,SAAUW,GAC5Bm+C,EAAGt/C,KAAKU,EAAQS,EAAKwiB,GAAO,KAAOjjB,EAAQijB,EAAIxiB,GAAMwiB,IAErD27B,EAAGt/C,KAAKmB,EAAM,KAAOT,EAAQijB,EAAIxiB,GAAMwiB,MAG/C,GAAoB,mBAATsjC,EACP,IAAK,IAAI5gD,EAAI,EAAGA,EAAIilD,EAAK9rD,OAAQ6G,IACzB+gD,EAAa5mD,KAAKmjB,EAAK2nC,EAAKjlD,KAC5Bi5C,EAAGt/C,KAAK,IAAMU,EAAQ4qD,EAAKjlD,IAAM,MAAQ3F,EAAQijB,EAAI2nC,EAAKjlD,IAAKsd,IAI3E,OAAO27B,CACX,C,sCC7hBA,IAAIiM,EAAW,EAAQ,OACnBC,EAAK,EAAQ,OACbC,EAAsB,6EACtBC,EAAS,YACTC,EAAU,gCACVx/B,EAAO,QACPy/B,EAAa,mDACbC,EAAqB,aAUzB,SAASC,EAAS7rD,GAChB,OAAQA,GAAY,IAAIiP,WAAWrP,QAAQ4rD,EAAqB,GAClE,CAcA,IAAIM,EAAQ,CACV,CAAC,IAAK,QACN,CAAC,IAAK,SACN,SAAkBC,EAASjzC,GACzB,OAAOkzC,EAAUlzC,EAAIyS,UAAYwgC,EAAQnsD,QAAQ,MAAO,KAAOmsD,CACjE,EACA,CAAC,IAAK,YACN,CAAC,IAAK,OAAQ,GACd,CAACE,IAAK,YAAQrnD,EAAW,EAAG,GAC5B,CAAC,UAAW,YAAQA,EAAW,GAC/B,CAACqnD,IAAK,gBAAYrnD,EAAW,EAAG,IAW9BsnD,EAAS,CAAEpjB,KAAM,EAAGqjB,MAAO,GAc/B,SAASC,EAAUC,GACjB,IAYInrD,EALA4qB,GALkB,oBAAXpa,OAAoCA,OACpB,oBAAX,WAAoC,WAC3B,oBAAT0G,KAAkCA,KACjC,CAAC,GAEO0T,UAAY,CAAC,EAGlCwgC,EAAmB,CAAC,EACpBt4C,SAHJq4C,EAAMA,GAAOvgC,GAMb,GAAI,UAAYugC,EAAI9gC,SAClB+gC,EAAmB,IAAIC,EAAI7wB,SAAS2wB,EAAIG,UAAW,CAAC,QAC/C,GAAI,WAAax4C,EAEtB,IAAK9S,KADLorD,EAAmB,IAAIC,EAAIF,EAAK,CAAC,GACrBH,SAAeI,EAAiBprD,QACvC,GAAI,WAAa8S,EAAM,CAC5B,IAAK9S,KAAOmrD,EACNnrD,KAAOgrD,IACXI,EAAiBprD,GAAOmrD,EAAInrD,SAGG0D,IAA7B0nD,EAAiBZ,UACnBY,EAAiBZ,QAAUA,EAAQ9iD,KAAKyjD,EAAIhtB,MAEhD,CAEA,OAAOitB,CACT,CASA,SAASN,EAAUS,GACjB,MACa,UAAXA,GACW,SAAXA,GACW,UAAXA,GACW,WAAXA,GACW,QAAXA,GACW,SAAXA,CAEJ,CAkBA,SAASC,EAAgBX,EAASjgC,GAEhCigC,GADAA,EAAUF,EAASE,IACDnsD,QAAQ6rD,EAAQ,IAClC3/B,EAAWA,GAAY,CAAC,EAExB,IAKI6gC,EALAltD,EAAQksD,EAAWn+B,KAAKu+B,GACxBxgC,EAAW9rB,EAAM,GAAKA,EAAM,GAAG0Z,cAAgB,GAC/CyzC,IAAmBntD,EAAM,GACzBotD,IAAiBptD,EAAM,GACvBqtD,EAAe,EAkCnB,OA/BIF,EACEC,GACFF,EAAOltD,EAAM,GAAKA,EAAM,GAAKA,EAAM,GACnCqtD,EAAertD,EAAM,GAAGF,OAASE,EAAM,GAAGF,SAE1CotD,EAAOltD,EAAM,GAAKA,EAAM,GACxBqtD,EAAertD,EAAM,GAAGF,QAGtBstD,GACFF,EAAOltD,EAAM,GAAKA,EAAM,GACxBqtD,EAAertD,EAAM,GAAGF,QAExBotD,EAAOltD,EAAM,GAIA,UAAb8rB,EACEuhC,GAAgB,IAClBH,EAAOA,EAAKrsD,MAAM,IAEX0rD,EAAUzgC,GACnBohC,EAAOltD,EAAM,GACJ8rB,EACLqhC,IACFD,EAAOA,EAAKrsD,MAAM,IAEXwsD,GAAgB,GAAKd,EAAUlgC,EAASP,YACjDohC,EAAOltD,EAAM,IAGR,CACL8rB,SAAUA,EACVmgC,QAASkB,GAAkBZ,EAAUzgC,GACrCuhC,aAAcA,EACdH,KAAMA,EAEV,CAoDA,SAASJ,EAAIR,EAASjgC,EAAUihC,GAI9B,GAFAhB,GADAA,EAAUF,EAASE,IACDnsD,QAAQ6rD,EAAQ,MAE5B/pD,gBAAgB6qD,GACpB,OAAO,IAAIA,EAAIR,EAASjgC,EAAUihC,GAGpC,IAAI/+B,EAAUg/B,EAAWl9C,EAAOm9C,EAAavhD,EAAOxK,EAChDgsD,EAAepB,EAAMxrD,QACrB0T,SAAc8X,EACdhT,EAAMpX,KACN7B,EAAI,EA8CR,IAjCI,WAAamU,GAAQ,WAAaA,IACpC+4C,EAASjhC,EACTA,EAAW,MAGTihC,GAAU,mBAAsBA,IAAQA,EAASxB,EAAGz7C,OAQxDke,IADAg/B,EAAYN,EAAgBX,GAAW,GALvCjgC,EAAWsgC,EAAUtgC,KAMCP,WAAayhC,EAAUtB,QAC7C5yC,EAAI4yC,QAAUsB,EAAUtB,SAAW19B,GAAYlC,EAAS4/B,QACxD5yC,EAAIyS,SAAWyhC,EAAUzhC,UAAYO,EAASP,UAAY,GAC1DwgC,EAAUiB,EAAUL,MAOK,UAAvBK,EAAUzhC,WACmB,IAA3ByhC,EAAUF,cAAsBlB,EAAmBhjD,KAAKmjD,MACxDiB,EAAUtB,UACTsB,EAAUzhC,UACTyhC,EAAUF,aAAe,IACxBd,EAAUlzC,EAAIyS,cAEnB2hC,EAAa,GAAK,CAAC,OAAQ,aAGtBrtD,EAAIqtD,EAAa3tD,OAAQM,IAGH,mBAF3BotD,EAAcC,EAAartD,KAO3BiQ,EAAQm9C,EAAY,GACpB/rD,EAAM+rD,EAAY,GAEdn9C,GAAUA,EACZgJ,EAAI5X,GAAO6qD,EACF,iBAAoBj8C,IAC7BpE,EAAkB,MAAVoE,EACJi8C,EAAQxkC,YAAYzX,GACpBi8C,EAAQnlD,QAAQkJ,MAGd,iBAAoBm9C,EAAY,IAClCn0C,EAAI5X,GAAO6qD,EAAQzrD,MAAM,EAAGoL,GAC5BqgD,EAAUA,EAAQzrD,MAAMoL,EAAQuhD,EAAY,MAE5Cn0C,EAAI5X,GAAO6qD,EAAQzrD,MAAMoL,GACzBqgD,EAAUA,EAAQzrD,MAAM,EAAGoL,MAGrBA,EAAQoE,EAAM0d,KAAKu+B,MAC7BjzC,EAAI5X,GAAOwK,EAAM,GACjBqgD,EAAUA,EAAQzrD,MAAM,EAAGoL,EAAMA,QAGnCoN,EAAI5X,GAAO4X,EAAI5X,IACb8sB,GAAYi/B,EAAY,IAAKnhC,EAAS5qB,IAAa,GAOjD+rD,EAAY,KAAIn0C,EAAI5X,GAAO4X,EAAI5X,GAAKiY,gBApCtC4yC,EAAUkB,EAAYlB,EAASjzC,GA4C/Bi0C,IAAQj0C,EAAIqzC,MAAQY,EAAOj0C,EAAIqzC,QAM/Bn+B,GACClC,EAAS4/B,SACkB,MAA3B5yC,EAAI0zC,SAAS5+B,OAAO,KACF,KAAjB9U,EAAI0zC,UAAyC,KAAtB1gC,EAAS0gC,YAEpC1zC,EAAI0zC,SA/JR,SAAiBx+B,EAAUre,GACzB,GAAiB,KAAbqe,EAAiB,OAAOre,EAQ5B,IANA,IAAIwc,GAAQxc,GAAQ,KAAKxP,MAAM,KAAKG,MAAM,GAAI,GAAGqE,OAAOqpB,EAAS7tB,MAAM,MACnEN,EAAIssB,EAAK5sB,OACT2kB,EAAOiI,EAAKtsB,EAAI,GAChB02B,GAAU,EACV42B,EAAK,EAEFttD,KACW,MAAZssB,EAAKtsB,GACPssB,EAAK3E,OAAO3nB,EAAG,GACM,OAAZssB,EAAKtsB,IACdssB,EAAK3E,OAAO3nB,EAAG,GACfstD,KACSA,IACC,IAANttD,IAAS02B,GAAU,GACvBpK,EAAK3E,OAAO3nB,EAAG,GACfstD,KAOJ,OAHI52B,GAASpK,EAAKoK,QAAQ,IACb,MAATrS,GAAyB,OAATA,GAAeiI,EAAKpsB,KAAK,IAEtCosB,EAAKlsB,KAAK,IACnB,CAqImBuZ,CAAQV,EAAI0zC,SAAU1gC,EAAS0gC,WAOjB,MAA3B1zC,EAAI0zC,SAAS5+B,OAAO,IAAco+B,EAAUlzC,EAAIyS,YAClDzS,EAAI0zC,SAAW,IAAM1zC,EAAI0zC,UAQtBlB,EAASxyC,EAAIoT,KAAMpT,EAAIyS,YAC1BzS,EAAIkT,KAAOlT,EAAImT,SACfnT,EAAIoT,KAAO,IAMbpT,EAAI8f,SAAW9f,EAAI+f,SAAW,GAE1B/f,EAAIipC,SACNr2C,EAAQoN,EAAIipC,KAAKn7C,QAAQ,OAGvBkS,EAAI8f,SAAW9f,EAAIipC,KAAKzhD,MAAM,EAAGoL,GACjCoN,EAAI8f,SAAW2J,mBAAmB2C,mBAAmBpsB,EAAI8f,WAEzD9f,EAAI+f,SAAW/f,EAAIipC,KAAKzhD,MAAMoL,EAAQ,GACtCoN,EAAI+f,SAAW0J,mBAAmB2C,mBAAmBpsB,EAAI+f,YAEzD/f,EAAI8f,SAAW2J,mBAAmB2C,mBAAmBpsB,EAAIipC,OAG3DjpC,EAAIipC,KAAOjpC,EAAI+f,SAAW/f,EAAI8f,SAAU,IAAK9f,EAAI+f,SAAW/f,EAAI8f,UAGlE9f,EAAI+xB,OAA0B,UAAjB/xB,EAAIyS,UAAwBygC,EAAUlzC,EAAIyS,WAAazS,EAAIkT,KACpElT,EAAIyS,SAAU,KAAMzS,EAAIkT,KACxB,OAKJlT,EAAIumB,KAAOvmB,EAAI7J,UACjB,CA2KAs9C,EAAInnD,UAAY,CAAE/D,IA5JlB,SAAa80B,EAAM70B,EAAOqkB,GACxB,IAAI7M,EAAMpX,KAEV,OAAQy0B,GACN,IAAK,QACC,iBAAoB70B,GAASA,EAAM/B,SACrC+B,GAASqkB,GAAM4lC,EAAGz7C,OAAOxO,IAG3BwX,EAAIqd,GAAQ70B,EACZ,MAEF,IAAK,OACHwX,EAAIqd,GAAQ70B,EAEPgqD,EAAShqD,EAAOwX,EAAIyS,UAGdjqB,IACTwX,EAAIkT,KAAOlT,EAAImT,SAAU,IAAK3qB,IAH9BwX,EAAIkT,KAAOlT,EAAImT,SACfnT,EAAIqd,GAAQ,IAKd,MAEF,IAAK,WACHrd,EAAIqd,GAAQ70B,EAERwX,EAAIoT,OAAM5qB,GAAS,IAAKwX,EAAIoT,MAChCpT,EAAIkT,KAAO1qB,EACX,MAEF,IAAK,OACHwX,EAAIqd,GAAQ70B,EAER4qB,EAAKtjB,KAAKtH,IACZA,EAAQA,EAAMnB,MAAM,KACpB2Y,EAAIoT,KAAO5qB,EAAMmc,MACjB3E,EAAImT,SAAW3qB,EAAMrB,KAAK,OAE1B6Y,EAAImT,SAAW3qB,EACfwX,EAAIoT,KAAO,IAGb,MAEF,IAAK,WACHpT,EAAIyS,SAAWjqB,EAAM6X,cACrBL,EAAI4yC,SAAW/lC,EACf,MAEF,IAAK,WACL,IAAK,OACH,GAAIrkB,EAAO,CACT,IAAI8rD,EAAgB,aAATj3B,EAAsB,IAAM,IACvCrd,EAAIqd,GAAQ70B,EAAMssB,OAAO,KAAOw/B,EAAOA,EAAO9rD,EAAQA,CACxD,MACEwX,EAAIqd,GAAQ70B,EAEd,MAEF,IAAK,WACL,IAAK,WACHwX,EAAIqd,GAAQoM,mBAAmBjhC,GAC/B,MAEF,IAAK,OACH,IAAIoK,EAAQpK,EAAMsF,QAAQ,MAErB8E,GACHoN,EAAI8f,SAAWt3B,EAAMhB,MAAM,EAAGoL,GAC9BoN,EAAI8f,SAAW2J,mBAAmB2C,mBAAmBpsB,EAAI8f,WAEzD9f,EAAI+f,SAAWv3B,EAAMhB,MAAMoL,EAAQ,GACnCoN,EAAI+f,SAAW0J,mBAAmB2C,mBAAmBpsB,EAAI+f,YAEzD/f,EAAI8f,SAAW2J,mBAAmB2C,mBAAmB5jC,IAI3D,IAAK,IAAIzB,EAAI,EAAGA,EAAIisD,EAAMvsD,OAAQM,IAAK,CACrC,IAAIwtD,EAAMvB,EAAMjsD,GAEZwtD,EAAI,KAAIv0C,EAAIu0C,EAAI,IAAMv0C,EAAIu0C,EAAI,IAAIl0C,cACxC,CAUA,OARAL,EAAIipC,KAAOjpC,EAAI+f,SAAW/f,EAAI8f,SAAU,IAAK9f,EAAI+f,SAAW/f,EAAI8f,SAEhE9f,EAAI+xB,OAA0B,UAAjB/xB,EAAIyS,UAAwBygC,EAAUlzC,EAAIyS,WAAazS,EAAIkT,KACpElT,EAAIyS,SAAU,KAAMzS,EAAIkT,KACxB,OAEJlT,EAAIumB,KAAOvmB,EAAI7J,WAER6J,CACT,EA8D4B7J,SArD5B,SAAkBk3B,GACXA,GAAa,mBAAsBA,IAAWA,EAAYolB,EAAGplB,WAElE,IAAIgmB,EACArzC,EAAMpX,KACNsqB,EAAOlT,EAAIkT,KACXT,EAAWzS,EAAIyS,SAEfA,GAAqD,MAAzCA,EAASqC,OAAOrC,EAAShsB,OAAS,KAAYgsB,GAAY,KAE1E,IAAI9mB,EACF8mB,GACEzS,EAAIyS,UAAYzS,EAAI4yC,SAAYM,EAAUlzC,EAAIyS,UAAY,KAAO,IAsCrE,OApCIzS,EAAI8f,UACNn0B,GAAUqU,EAAI8f,SACV9f,EAAI+f,WAAUp0B,GAAU,IAAKqU,EAAI+f,UACrCp0B,GAAU,KACDqU,EAAI+f,UACbp0B,GAAU,IAAKqU,EAAI+f,SACnBp0B,GAAU,KAEO,UAAjBqU,EAAIyS,UACJygC,EAAUlzC,EAAIyS,YACbS,GACgB,MAAjBlT,EAAI0zC,WAMJ/nD,GAAU,MAQkB,MAA1BunB,EAAKA,EAAKzsB,OAAS,IAAe2sB,EAAKtjB,KAAKkQ,EAAImT,YAAcnT,EAAIoT,QACpEF,GAAQ,KAGVvnB,GAAUunB,EAAOlT,EAAI0zC,UAErBL,EAAQ,iBAAoBrzC,EAAIqzC,MAAQhmB,EAAUrtB,EAAIqzC,OAASrzC,EAAIqzC,SACxD1nD,GAAU,MAAQ0nD,EAAMv+B,OAAO,GAAK,IAAKu+B,EAAQA,GAExDrzC,EAAIgwB,OAAMrkC,GAAUqU,EAAIgwB,MAErBrkC,CACT,GAQA8nD,EAAIG,gBAAkBA,EACtBH,EAAIzgC,SAAWsgC,EACfG,EAAIV,SAAWA,EACfU,EAAIhB,GAAKA,EAET1qD,EAAOC,QAAUyrD,C,4BC1kBjB,IAAIe,EAAQ,EAAQ,OAEhBnsD,EAAMa,OAAOoD,UAAUO,eACvBH,EAAUD,MAAMC,QAEhB6nC,EAAW,CACXkgB,WAAW,EACXC,kBAAkB,EAClB7nB,iBAAiB,EACjB8nB,aAAa,EACbjpB,WAAY,GACZQ,QAAS,QACT0oB,iBAAiB,EACjBC,OAAO,EACPC,iBAAiB,EACjBpQ,QAAS8P,EAAMxmC,OACfuI,UAAW,IACX3E,MAAO,EACPmjC,WAAY,UACZC,mBAAmB,EACnBC,0BAA0B,EAC1BC,eAAgB,IAChBC,aAAa,EACb3pB,cAAc,EACd4pB,aAAa,EACbC,oBAAoB,EACpBC,sBAAsB,GAGtBL,EAA2B,SAAU/tD,GACrC,OAAOA,EAAIJ,QAAQ,YAAa,SAAUylC,EAAIgpB,GAC1C,OAAO9xC,OAAOiJ,aAAalJ,SAAS+xC,EAAW,IACnD,EACJ,EAEIC,EAAkB,SAAUzsD,EAAKgC,EAAS0qD,GAC1C,GAAI1sD,GAAsB,iBAARA,GAAoBgC,EAAQ8pD,OAAS9rD,EAAI+E,QAAQ,MAAQ,EACvE,OAAO/E,EAAI1B,MAAM,KAGrB,GAAI0D,EAAQuqD,sBAAwBG,GAAsB1qD,EAAQ2gC,WAC9D,MAAM,IAAI/e,WAAW,8BAAgC5hB,EAAQ2gC,WAAa,YAAqC,IAAvB3gC,EAAQ2gC,WAAmB,GAAK,KAAO,yBAGnI,OAAO3iC,CACX,EAqNI2sD,EAAY,SAA8BC,EAAU5sD,EAAKgC,EAAS6qD,GAClE,GAAKD,EAAL,CAIA,IAAIxsD,EA7DmB,SAA8BwsD,EAAU5qD,GAC/D,IAAI3C,EAAM2C,EAAQ0pD,UAAYkB,EAAS7uD,QAAQ,cAAe,QAAU6uD,EAExE,GAAI5qD,EAAQ6mB,OAAS,EAAG,CACpB,IAAK7mB,EAAQygC,cAAgBnjC,EAAIZ,KAAKyB,OAAOoD,UAAWlE,KAC/C2C,EAAQ8hC,gBACT,OAIR,MAAO,CAACzkC,EACZ,CAEA,IACIS,EAAQ,gBAERosB,EAHW,eAGQP,KAAKtsB,GACxB80B,EAASjI,EAAU7sB,EAAIZ,MAAM,EAAGytB,EAAQriB,OAASxK,EAEjDe,EAAO,GAEX,GAAI+zB,EAAQ,CACR,IAAKnyB,EAAQygC,cAAgBnjC,EAAIZ,KAAKyB,OAAOoD,UAAW4wB,KAC/CnyB,EAAQ8hC,gBACT,OAIR1jC,EAAKlC,KAAKi2B,EACd,CAGA,IADA,IAAIn2B,EAAI,EAC+B,QAA/BkuB,EAAUpsB,EAAM6rB,KAAKtsB,KAAkBrB,EAAIgE,EAAQ6mB,OAAO,CAC9D7qB,GAAK,EAEL,IAAI8uD,EAAiB5gC,EAAQ,GAAGztB,MAAM,GAAI,GAC1C,IAAKuD,EAAQygC,cAAgBnjC,EAAIZ,KAAKyB,OAAOoD,UAAWupD,KAC/C9qD,EAAQ8hC,gBACT,OAIR1jC,EAAKlC,KAAKguB,EAAQ,GACtB,CAEA,GAAIA,EAAS,CACT,IAA4B,IAAxBlqB,EAAQqqD,YACR,MAAM,IAAIzoC,WAAW,wCAA0C5hB,EAAQ6mB,MAAQ,4BAGnFzoB,EAAKlC,KAAK,IAAMmB,EAAIZ,MAAMytB,EAAQriB,OAAS,IAC/C,CAEA,OAAOzJ,CACX,CAOe2sD,CAAqBH,EAAU5qD,GAE1C,GAAK5B,EAIL,OAzHc,SAAU83B,EAAOl4B,EAAKgC,EAAS6qD,GAC7C,IAAIH,EAAqB,EACzB,GAAIx0B,EAAMx6B,OAAS,GAAiC,OAA5Bw6B,EAAMA,EAAMx6B,OAAS,GAAa,CACtD,IAAIsvD,EAAY90B,EAAMz5B,MAAM,GAAI,GAAGL,KAAK,IACxCsuD,EAAqBhpD,MAAMC,QAAQ3D,IAAQA,EAAIgtD,GAAahtD,EAAIgtD,GAAWtvD,OAAS,CACxF,CAIA,IAFA,IAAIuvD,EAAOJ,EAAe7sD,EAAMysD,EAAgBzsD,EAAKgC,EAAS0qD,GAErD1uD,EAAIk6B,EAAMx6B,OAAS,EAAGM,GAAK,IAAKA,EAAG,CACxC,IAAI6jB,EACAgL,EAAOqL,EAAMl6B,GAEjB,GAAa,OAAT6uB,GAAiB7qB,EAAQoqD,YAGrBvqC,EAFA4pC,EAAMrpB,WAAW6qB,GAEXA,EAEAjrD,EAAQ2pD,mBAA8B,KAATsB,GAAgBjrD,EAAQsqD,oBAA+B,OAATW,GAC3E,GACAxB,EAAM/oB,QACJ,GACAuqB,EACAjrD,EAAQ2gC,WACR3gC,EAAQygC,kBAGjB,CACH5gB,EAAM7f,EAAQygC,aAAe,CAAEvH,UAAW,MAAS,CAAC,EACpD,IAAIgyB,EAA+B,MAAnBrgC,EAAKd,OAAO,IAA+C,MAAjCc,EAAKd,OAAOc,EAAKnvB,OAAS,GAAamvB,EAAKpuB,MAAM,GAAI,GAAKouB,EACjGsgC,EAAcnrD,EAAQ+pD,gBAAkBmB,EAAUnvD,QAAQ,OAAQ,KAAOmvD,EACzErjD,EAAQ4Q,SAAS0yC,EAAa,IAC7BnrD,EAAQoqD,aAA+B,KAAhBe,GAGvBp/C,MAAMlE,IACJgjB,IAASsgC,GACTzyC,OAAO7Q,KAAWsjD,GAClBtjD,GAAS,GACR7H,EAAQoqD,aAAeviD,GAAS7H,EAAQ2gC,YAE5C9gB,EAAM,IACFhY,GAASojD,EACU,cAAhBE,IACPtrC,EAAIsrC,GAAeF,GAXnBprC,EAAM,CAAE,EAAGorC,EAanB,CAEAA,EAAOprC,CACX,CAEA,OAAOorC,CACX,CAqEWG,CAAYhtD,EAAMJ,EAAKgC,EAAS6qD,EARvC,CASJ,EA+DA7tD,EAAOC,QAAU,SAAUd,EAAK4rB,GAC5B,IAAI/nB,EA9DoB,SAA+B+nB,GACvD,IAAKA,EACD,OAAOyhB,EAGX,QAAqC,IAA1BzhB,EAAK4hC,kBAAqE,kBAA1B5hC,EAAK4hC,iBAC5D,MAAM,IAAIhuD,UAAU,0EAGxB,QAAoC,IAAzBosB,EAAKgiC,iBAAmE,kBAAzBhiC,EAAKgiC,gBAC3D,MAAM,IAAIpuD,UAAU,yEAGxB,GAAqB,OAAjBosB,EAAK4xB,cAA4C,IAAjB5xB,EAAK4xB,SAAmD,mBAAjB5xB,EAAK4xB,QAC5E,MAAM,IAAIh+C,UAAU,iCAGxB,QAA4B,IAAjBosB,EAAKoZ,SAA4C,UAAjBpZ,EAAKoZ,SAAwC,eAAjBpZ,EAAKoZ,QACxE,MAAM,IAAIxlC,UAAU,qEAGxB,QAAyC,IAA9BosB,EAAKwiC,sBAA6E,kBAA9BxiC,EAAKwiC,qBAChE,MAAM,IAAI5uD,UAAU,mDAGxB,IAAIwlC,OAAkC,IAAjBpZ,EAAKoZ,QAA0BqI,EAASrI,QAAUpZ,EAAKoZ,QAExE6oB,OAAwC,IAApBjiC,EAAKiiC,WAA6BxgB,EAASwgB,WAAajiC,EAAKiiC,WAErF,GAAmB,YAAfA,GAA2C,UAAfA,GAAyC,SAAfA,EACtD,MAAM,IAAIruD,UAAU,gEAKxB,MAAO,CACH+tD,eAHsC,IAAnB3hC,EAAK2hC,WAAqD,IAAzB3hC,EAAKgiC,iBAAkCvgB,EAASkgB,YAAc3hC,EAAK2hC,UAIvHC,iBAAmD,kBAA1B5hC,EAAK4hC,mBAAmC5hC,EAAK4hC,iBAAmBngB,EAASmgB,iBAClG7nB,gBAAiD,kBAAzB/Z,EAAK+Z,gBAAgC/Z,EAAK+Z,gBAAkB0H,EAAS1H,gBAC7F8nB,YAAyC,kBAArB7hC,EAAK6hC,YAA4B7hC,EAAK6hC,YAAcpgB,EAASogB,YACjFjpB,WAAuC,iBAApB5Y,EAAK4Y,WAA0B5Y,EAAK4Y,WAAa6I,EAAS7I,WAC7EQ,QAASA,EACT0oB,gBAAiD,kBAAzB9hC,EAAK8hC,gBAAgC9hC,EAAK8hC,gBAAkBrgB,EAASqgB,gBAC7FC,MAA6B,kBAAf/hC,EAAK+hC,MAAsB/hC,EAAK+hC,MAAQtgB,EAASsgB,MAC/DC,gBAAiD,kBAAzBhiC,EAAKgiC,gBAAgChiC,EAAKgiC,gBAAkBvgB,EAASugB,gBAC7FpQ,QAAiC,mBAAjB5xB,EAAK4xB,QAAyB5xB,EAAK4xB,QAAUnQ,EAASmQ,QACtEnuB,UAAqC,iBAAnBzD,EAAKyD,WAA0Bi+B,EAAM/nB,SAAS3Z,EAAKyD,WAAazD,EAAKyD,UAAYge,EAAShe,UAE5G3E,MAA8B,iBAAfkB,EAAKlB,QAAqC,IAAfkB,EAAKlB,OAAoBkB,EAAKlB,MAAQ2iB,EAAS3iB,MACzFmjC,WAAYA,EACZC,mBAA8C,IAA3BliC,EAAKkiC,kBACxBC,yBAAmE,kBAAlCniC,EAAKmiC,yBAAyCniC,EAAKmiC,yBAA2B1gB,EAAS0gB,yBACxHC,eAA+C,iBAAxBpiC,EAAKoiC,eAA8BpiC,EAAKoiC,eAAiB3gB,EAAS2gB,eACzFC,aAAkC,IAArBriC,EAAKqiC,YAClB3pB,aAA2C,kBAAtB1Y,EAAK0Y,aAA6B1Y,EAAK0Y,aAAe+I,EAAS/I,aACpF4pB,YAAyC,kBAArBtiC,EAAKsiC,cAA8BtiC,EAAKsiC,YAAc7gB,EAAS6gB,YACnFC,mBAAuD,kBAA5BviC,EAAKuiC,mBAAmCviC,EAAKuiC,mBAAqB9gB,EAAS8gB,mBACtGC,qBAA2D,kBAA9BxiC,EAAKwiC,sBAAqCxiC,EAAKwiC,qBAEpF,CAGkBc,CAAsBtjC,GAEpC,GAAY,KAAR5rB,SAAcA,EACd,OAAO6D,EAAQygC,aAAe,CAAEvH,UAAW,MAAS,CAAC,EASzD,IANA,IAAIoyB,EAAyB,iBAARnvD,EA3RP,SAAgCA,EAAK6D,GACnD,IAAI6f,EAAM,CAAEqZ,UAAW,MAEnBqyB,EAAWvrD,EAAQiqD,kBAAoB9tD,EAAIJ,QAAQ,MAAO,IAAMI,EACpEovD,EAAWA,EAASxvD,QAAQ,QAAS,KAAKA,QAAQ,QAAS,KAE3D,IAAIkT,EAAQjP,EAAQmqD,iBAAmBxG,SAAW5iD,EAAYf,EAAQmqD,eAClE9tD,EAAQkvD,EAASjvD,MACjB0D,EAAQwrB,UACRxrB,EAAQuqD,qBAAuBt7C,EAAQ,EAAIA,GAG/C,GAAIjP,EAAQuqD,sBAAwBluD,EAAMX,OAASuT,EAC/C,MAAM,IAAI2S,WAAW,kCAAoC3S,EAAQ,cAA0B,IAAVA,EAAc,GAAK,KAAO,aAG/G,IACIjT,EADAwvD,GAAa,EAGbrqB,EAAUnhC,EAAQmhC,QACtB,GAAInhC,EAAQ6pD,gBACR,IAAK7tD,EAAI,EAAGA,EAAIK,EAAMX,SAAUM,EACM,IAA9BK,EAAML,GAAG+G,QAAQ,WAxBX,mBAyBF1G,EAAML,GACNmlC,EAAU,QA7BZ,wBA8BS9kC,EAAML,KACbmlC,EAAU,cAEdqqB,EAAYxvD,EACZA,EAAIK,EAAMX,QAKtB,IAAKM,EAAI,EAAGA,EAAIK,EAAMX,SAAUM,EAC5B,GAAIA,IAAMwvD,EAAV,CAGA,IAKInuD,EACAW,EANAs0B,EAAOj2B,EAAML,GAEbyvD,EAAmBn5B,EAAKvvB,QAAQ,MAChCgwB,GAA4B,IAAtB04B,EAA0Bn5B,EAAKvvB,QAAQ,KAAO0oD,EAAmB,EAgC3E,IA5Ba,IAAT14B,GACA11B,EAAM2C,EAAQ25C,QAAQrnB,EAAMkX,EAASmQ,QAASxY,EAAS,OACvDnjC,EAAMgC,EAAQsqD,mBAAqB,KAAO,IAI9B,QAFZjtD,EAAM2C,EAAQ25C,QAAQrnB,EAAK71B,MAAM,EAAGs2B,GAAMyW,EAASmQ,QAASxY,EAAS,UAGjEnjC,EAAMyrD,EAAM9nB,SACR8oB,EACIn4B,EAAK71B,MAAMs2B,EAAM,GACjB/yB,EACA2B,EAAQke,EAAIxiB,IAAQwiB,EAAIxiB,GAAK3B,OAAS,GAE1C,SAAUgwD,GACN,OAAO1rD,EAAQ25C,QAAQ+R,EAAYliB,EAASmQ,QAASxY,EAAS,QAClE,IAKRnjC,GAAOgC,EAAQkqD,0BAAwC,eAAZ/oB,IAC3CnjC,EAAMksD,EAAyBxxC,OAAO1a,KAGtCs0B,EAAKvvB,QAAQ,QAAU,IACvB/E,EAAM2D,EAAQ3D,GAAO,CAACA,GAAOA,GAGrB,OAARX,EAAc,CACd,IAAIsuD,EAAWruD,EAAIZ,KAAKmjB,EAAKxiB,GACzBsuD,GAAmC,YAAvB3rD,EAAQgqD,WACpBnqC,EAAIxiB,GAAOosD,EAAM/oB,QACb7gB,EAAIxiB,GACJW,EACAgC,EAAQ2gC,WACR3gC,EAAQygC,cAEJkrB,GAAmC,SAAvB3rD,EAAQgqD,aAC5BnqC,EAAIxiB,GAAOW,EAEnB,CAhDA,CAmDJ,OAAO6hB,CACX,CAkM4C+rC,CAAYzvD,EAAK6D,GAAW7D,EAChE0jB,EAAM7f,EAAQygC,aAAe,CAAEvH,UAAW,MAAS,CAAC,EAIpD96B,EAAOD,OAAOC,KAAKktD,GACdtvD,EAAI,EAAGA,EAAIoC,EAAK1C,SAAUM,EAAG,CAClC,IAAIqB,EAAMe,EAAKpC,GACX6vD,EAASlB,EAAUttD,EAAKiuD,EAAQjuD,GAAM2C,EAAwB,iBAAR7D,GAC1D0jB,EAAM4pC,EAAM5nB,MAAMhiB,EAAKgsC,EAAQ7rD,EACnC,CAEA,OAA4B,IAAxBA,EAAQ4pD,YACD/pC,EAGJ4pC,EAAM5oB,QAAQhhB,EACzB,C,gBCvWA5iB,EAAUD,EAAOC,QAAU,EAAjB,QACF8d,OAAS9d,EACjBA,EAAQuX,SAAWvX,EACnBA,EAAQyd,SAAW,EAAnB,MACAzd,EAAQ4c,OAAS,EAAjB,OACA5c,EAAQ6uD,UAAY,EAApB,OACA7uD,EAAQ8uD,YAAc,EAAtB,OACA9uD,EAAQqf,SAAW,EAAnB,OACArf,EAAQ+uD,SAAW,EAAnB,M,2CCqBIC,EAAa9tD,OAAOC,MAAQ,SAAUyhB,GACxC,IAAIzhB,EAAO,GACX,IAAK,IAAIf,KAAOwiB,EAAKzhB,EAAKlC,KAAKmB,GAC/B,OAAOe,CACT,EAGApB,EAAOC,QAAU4c,EACjB,IAAIrF,EAAW,EAAQ,OACnBkG,EAAW,EAAQ,MACvB,EAAQ,MAAR,CAAoBb,EAAQrF,GAI1B,IADA,IAAIpW,EAAO6tD,EAAWvxC,EAASnZ,WACtB8K,EAAI,EAAGA,EAAIjO,EAAK1C,OAAQ2Q,IAAK,CACpC,IAAI8a,EAAS/oB,EAAKiO,GACbwN,EAAOtY,UAAU4lB,KAAStN,EAAOtY,UAAU4lB,GAAUzM,EAASnZ,UAAU4lB,GAC/E,CAEF,SAAStN,EAAO7Z,GACd,KAAMnC,gBAAgBgc,GAAS,OAAO,IAAIA,EAAO7Z,GACjDwU,EAAS9X,KAAKmB,KAAMmC,GACpB0a,EAAShe,KAAKmB,KAAMmC,GACpBnC,KAAKquD,eAAgB,EACjBlsD,KACuB,IAArBA,EAAQ62B,WAAoBh5B,KAAKg5B,UAAW,IACvB,IAArB72B,EAAQuV,WAAoB1X,KAAK0X,UAAW,IAClB,IAA1BvV,EAAQksD,gBACVruD,KAAKquD,eAAgB,EACrBruD,KAAK8iB,KAAK,MAAOuW,IAGvB,CA8BA,SAASA,IAEHr5B,KAAKmf,eAAeX,OAIxBzX,EAAQkQ,SAASq3C,EAAStuD,KAC5B,CACA,SAASsuD,EAAQ53C,GACfA,EAAK2E,KACP,CAvCA/a,OAAO6S,eAAe6I,EAAOtY,UAAW,wBAAyB,CAI/Dmf,YAAY,EACZnjB,IAAK,WACH,OAAOM,KAAKmf,eAAef,aAC7B,IAEF9d,OAAO6S,eAAe6I,EAAOtY,UAAW,iBAAkB,CAIxDmf,YAAY,EACZnjB,IAAK,WACH,OAAOM,KAAKmf,gBAAkBnf,KAAKmf,eAAeqC,WACpD,IAEFlhB,OAAO6S,eAAe6I,EAAOtY,UAAW,iBAAkB,CAIxDmf,YAAY,EACZnjB,IAAK,WACH,OAAOM,KAAKmf,eAAethB,MAC7B,IAeFyC,OAAO6S,eAAe6I,EAAOtY,UAAW,YAAa,CAInDmf,YAAY,EACZnjB,IAAK,WACH,YAA4BwD,IAAxBlD,KAAKshB,qBAAwDpe,IAAxBlD,KAAKmf,gBAGvCnf,KAAKshB,eAAe5C,WAAa1e,KAAKmf,eAAeT,SAC9D,EACA/e,IAAK,SAAaC,QAGYsD,IAAxBlD,KAAKshB,qBAAwDpe,IAAxBlD,KAAKmf,iBAM9Cnf,KAAKshB,eAAe5C,UAAY9e,EAChCI,KAAKmf,eAAeT,UAAY9e,EAClC,G,oCCnGFR,EAAQ,EApBR,SAAoBd,GAChB,IAAKA,EACD,OAAO,EAIX,IADA,IAAIqiB,GADJriB,EAAMA,EAAIiP,YACI1P,OACLM,EAAIG,EAAIT,OAAQM,KAAM,CAC3B,IAAIqzB,EAAOlzB,EAAIsb,WAAWzb,GACtB,OAAUqzB,GAAQA,GAAQ,OAC1BrzB,IAEA,IAAOqzB,GAAQA,GAAQ,KACvB7Q,IAEK,KAAQ6Q,GAAQA,GAAQ,QAC7B7Q,GAAO,EAEf,CACA,OAAOA,CACX,C,8GCnBA,MAAM0W,EAAO,OACN,SAASk3B,EAAiB3oD,EAASujB,EAAUhnB,EAAU,CAAC,GAC3D,MACMqsD,EAAY,IAAIC,EADI,eAS1B,OA6BJt+C,eAA6BvK,EAASujB,EAAUhnB,EAAU,CAAC,GACvD,MAAMqE,EAAU,CAAC,EACjB,GAA6B,iBAAlBrE,EAAQgZ,OAAqD,iBAAxBhZ,EAAQgZ,MAAMC,MAAoB,CAC9E,IAAIszC,EAAc,SAASvsD,EAAQgZ,MAAMC,SACR,iBAAtBjZ,EAAQgZ,MAAME,MACrBqzC,EAAc,GAAGA,IAAcvsD,EAAQgZ,MAAME,OAEjD7U,EAAQmoD,MAAQD,CACpB,CACA,MAAMtlC,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWF,IAC3CG,OAAQ,MACR9iB,WACDZ,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,GAE/C,IADA,QAAmBA,EAASP,GACxBmB,EAAQmoD,OAA6B,MAApBtpD,EAASI,OAAgB,CAC1C,MAAMmpD,EAAgB,IAAIppD,MAAM,8CAA8CH,EAASI,UAEvF,MADAmpD,EAAcnpD,OAASJ,EAASI,OAC1BmpD,CACV,CAOA,OANIzsD,EAAQsa,UACRukC,WAAW,KACP7+C,EAAQsa,SAASpX,IAClB,GAGAA,EAASiT,IACpB,CAhEIu2C,CAAcjpD,EAASujB,EAAUhnB,GAC5ByW,KAAK7C,IACNA,EAAOgM,KAAKysC,KAEXh2C,MAAMjT,IACPipD,EAAUt3C,KAAK,QAAS3R,KAErBipD,CACX,CACO,SAASM,EAAkBlpD,EAASujB,EAAUhnB,EAAU,CAAC,EAAGsa,EAAW4a,GAC1E,MACM03B,EAAc,IAAIN,EADE,eAEpBjoD,EAAU,CAAC,GACS,IAAtBrE,EAAQ08B,YACRr4B,EAAQ,iBAAmB,KAE/B,MAAM4iB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWF,IAC3CG,OAAQ,MACR9iB,UACAF,KAAMyoD,EACNC,aAAc,GACfppD,EAASzD,GAYZ,OAXA,OAAQinB,EAAgBxjB,GACnBgT,KAAKvT,IAAY,QAAmBO,EAASP,IAC7CuT,KAAKvT,IAEN27C,WAAW,KACPvkC,EAASpX,IACV,KAEFmT,MAAMjT,IACPwpD,EAAY73C,KAAK,QAAS3R,KAEvBwpD,CACX,C,eC5CA,IAAIh0C,EAAW,EAAQ,MAEvB5b,EAAOC,QA6DP,SAAmBd,GACjB,OAAKA,GASoB,OAArBA,EAAImF,OAAO,EAAG,KAChBnF,EAAM,SAAWA,EAAImF,OAAO,IAGvBwrD,EA7DT,SAAsB3wD,GACpB,OAAOA,EAAIG,MAAM,QAAQF,KAAK2wD,GACnBzwD,MAAM,OAAOF,KAAK4wD,GAClB1wD,MAAM,OAAOF,KAAK6wD,GAClB3wD,MAAM,OAAOF,KAAK8wD,GAClB5wD,MAAM,OAAOF,KAAK+wD,EAC/B,CAuDgBC,CAAajxD,IAAM,GAAM8O,IAAIoiD,IAZlC,EAaX,EA1EA,IAAIN,EAAW,UAAUtrC,KAAK6rC,SAAS,KACnCN,EAAU,SAASvrC,KAAK6rC,SAAS,KACjCL,EAAW,UAAUxrC,KAAK6rC,SAAS,KACnCJ,EAAW,UAAUzrC,KAAK6rC,SAAS,KACnCH,EAAY,WAAW1rC,KAAK6rC,SAAS,KAEzC,SAASxjD,EAAQ3N,GACf,OAAOsc,SAAStc,EAAK,KAAOA,EACxBsc,SAAStc,EAAK,IACdA,EAAIsb,WAAW,EACrB,CAUA,SAAS41C,EAAelxD,GACtB,OAAOA,EAAIG,MAAMywD,GAAU3wD,KAAK,MACrBE,MAAM0wD,GAAS5wD,KAAK,KACpBE,MAAM2wD,GAAU7wD,KAAK,KACrBE,MAAM4wD,GAAU9wD,KAAK,KACrBE,MAAM6wD,GAAW/wD,KAAK,IACnC,CAMA,SAASmxD,EAAgBpxD,GACvB,IAAKA,EACH,MAAO,CAAC,IAEV,IAAIE,EAAQ,GACRmO,EAAIoO,EAAS,IAAK,IAAKzc,GAE3B,IAAKqO,EACH,OAAOrO,EAAIG,MAAM,KAEnB,IAAI6c,EAAM3O,EAAE2O,IACRhD,EAAO3L,EAAE2L,KACTiD,EAAO5O,EAAE4O,KACTiN,EAAIlN,EAAI7c,MAAM,KAElB+pB,EAAEA,EAAE3qB,OAAO,IAAM,IAAMya,EAAO,IAC9B,IAAIq3C,EAAYD,EAAgBn0C,GAQhC,OAPIA,EAAK1d,SACP2qB,EAAEA,EAAE3qB,OAAO,IAAM8xD,EAAU1xD,QAC3BuqB,EAAEnqB,KAAKuoB,MAAM4B,EAAGmnC,IAGlBnxD,EAAMH,KAAKuoB,MAAMpoB,EAAOgqB,GAEjBhqB,CACT,CAmBA,SAASoxD,EAAQtxD,GACf,MAAO,IAAMA,EAAM,GACrB,CACA,SAASuxD,EAASz/C,GAChB,MAAO,SAASlJ,KAAKkJ,EACvB,CAEA,SAAS0/C,EAAI3xD,EAAG4xD,GACd,OAAO5xD,GAAK4xD,CACd,CACA,SAASC,EAAI7xD,EAAG4xD,GACd,OAAO5xD,GAAK4xD,CACd,CAEA,SAASd,EAAO3wD,EAAK2xD,GACnB,IAAIC,EAAa,GAEbvjD,EAAIoO,EAAS,IAAK,IAAKzc,GAC3B,IAAKqO,EAAG,MAAO,CAACrO,GAGhB,IAAIgd,EAAM3O,EAAE2O,IACRC,EAAO5O,EAAE4O,KAAK1d,OACdoxD,EAAOtiD,EAAE4O,MAAM,GACf,CAAC,IAEL,GAAI,MAAMrU,KAAKyF,EAAE2O,KACf,IAAK,IAAI4J,EAAI,EAAGA,EAAI3J,EAAK1d,OAAQqnB,IAAK,CACpC,IAAIirC,EAAY70C,EAAK,IAAM3O,EAAE2L,KAAO,IAAMiD,EAAK2J,GAC/CgrC,EAAW7xD,KAAK8xD,EAClB,KACK,CACL,IAaIxqC,EAkBAyqC,EA/BAC,EAAoB,iCAAiCnpD,KAAKyF,EAAE2L,MAC5Dg4C,EAAkB,uCAAuCppD,KAAKyF,EAAE2L,MAChEi4C,EAAaF,GAAqBC,EAClCE,EAAY7jD,EAAE2L,KAAKpT,QAAQ,MAAQ,EACvC,IAAKqrD,IAAeC,EAElB,OAAI7jD,EAAE4O,KAAKxd,MAAM,cAERkxD,EADP3wD,EAAMqO,EAAE2O,IAAM,IAAM3O,EAAE2L,KAAO82C,EAAWziD,EAAE4O,MAGrC,CAACjd,GAIV,GAAIiyD,EACF5qC,EAAIhZ,EAAE2L,KAAK7Z,MAAM,aAGjB,GAAiB,KADjBknB,EAAI+pC,EAAgB/iD,EAAE2L,OAChBza,QAGa,KADjB8nB,EAAIspC,EAAOtpC,EAAE,IAAI,GAAOvY,IAAIwiD,IACtB/xD,OACJ,OAAO0d,EAAKnO,IAAI,SAASob,GACvB,OAAO7b,EAAE2O,IAAMqK,EAAE,GAAK6C,CACxB,GASN,GAAI+nC,EAAY,CACd,IAAI/kC,EAAIvf,EAAQ0Z,EAAE,IACdoqC,EAAI9jD,EAAQ0Z,EAAE,IACd8qC,EAAQ7sC,KAAK9Z,IAAI6b,EAAE,GAAG9nB,OAAQ8nB,EAAE,GAAG9nB,QACnC6yD,EAAmB,GAAZ/qC,EAAE9nB,OACT+lB,KAAK+sC,IAAI1kD,EAAQ0Z,EAAE,KACnB,EACAze,EAAO4oD,EACGC,EAAIvkC,IAEhBklC,IAAS,EACTxpD,EAAO8oD,GAET,IAAI5nB,EAAMziB,EAAEirC,KAAKf,GAEjBO,EAAI,GAEJ,IAAK,IAAIjyD,EAAIqtB,EAAGtkB,EAAK/I,EAAG4xD,GAAI5xD,GAAKuyD,EAAM,CACrC,IAAI7nC,EACJ,GAAIynC,EAEQ,QADVznC,EAAIhO,OAAOiJ,aAAa3lB,MAEtB0qB,EAAI,SAGN,GADAA,EAAIhO,OAAO1c,GACPiqC,EAAK,CACP,IAAIjnB,EAAOsvC,EAAQ5nC,EAAEhrB,OACrB,GAAIsjB,EAAO,EAAG,CACZ,IAAI0vC,EAAI,IAAIhtD,MAAMsd,EAAO,GAAG5iB,KAAK,KAE/BsqB,EADE1qB,EAAI,EACF,IAAM0yD,EAAIhoC,EAAEjqB,MAAM,GAElBiyD,EAAIhoC,CACZ,CACF,CAEFunC,EAAE/xD,KAAKwqB,EACT,CACF,KAAO,CACLunC,EAAI,GAEJ,IAAK,IAAI1rD,EAAI,EAAGA,EAAIihB,EAAE9nB,OAAQ6G,IAC5B0rD,EAAE/xD,KAAKuoB,MAAMwpC,EAAGnB,EAAOtpC,EAAEjhB,IAAI,GAEjC,CAEA,IAASA,EAAI,EAAGA,EAAI0rD,EAAEvyD,OAAQ6G,IAC5B,IAASwgB,EAAI,EAAGA,EAAI3J,EAAK1d,OAAQqnB,IAC3BirC,EAAY70C,EAAM80C,EAAE1rD,GAAK6W,EAAK2J,KAC7B+qC,GAASM,GAAcJ,IAC1BD,EAAW7xD,KAAK8xD,EAGxB,CAEA,OAAOD,CACT,C,wGCpMO,SAASY,EAAoBxqD,GAChC,IAAI,OAAcA,GACd,OAAOA,EAAK2T,WAEX,IAAI,OAAS3T,GACd,OAAOA,EAAKzI,OAEX,GAAoB,iBAATyI,EACZ,OAAO,OAAWA,GAEtB,MAAM,IAAI,KAAO,CACb0K,KAAM,CACFwgB,KAAM,KAAUu/B,mBAErB,6CACP,C,4BClBA,IAAIC,EAAe,EAAQ,OACvBpjC,EAAY,EAAQ,OACpB7uB,EAAU,EAAQ,OAClBE,EAAoB,EAAQ,OAE5BH,EAAa,EAAQ,OACrBmyD,EAAWD,EAAa,aAAa,GAGrCE,EAActjC,EAAU,yBAAyB,GAEjDujC,EAAcvjC,EAAU,yBAAyB,GAEjDwjC,EAAcxjC,EAAU,yBAAyB,GAEjDyjC,EAAiBzjC,EAAU,4BAA4B,GAG3DzuB,EAAOC,QAAU6xD,EAC6B,WAKM,IAAIK,EACfC,EAGnCjyD,EAAU,CACbC,OAAQ,SAAUC,GACjB,IAAKF,EAAQG,IAAID,GAChB,MAAM,IAAIV,EAAW,iCAAmCC,EAAQS,GAElE,EACA,OAAU,SAAUA,GACnB,GAAIyxD,GAAYzxD,IAAuB,iBAARA,GAAmC,mBAARA,IACzD,GAAI8xD,EACH,OAAOD,EAAeC,EAAK9xD,QAEtB,GAAIP,GACNsyD,EACH,OAAOA,EAAW,OAAE/xD,GAGtB,OAAO,CACR,EACAE,IAAK,SAAUF,GACd,OAAIyxD,GAAYzxD,IAAuB,iBAARA,GAAmC,mBAARA,IACrD8xD,EACIJ,EAAYI,EAAK9xD,GAGnB+xD,GAAMA,EAAG7xD,IAAIF,EACrB,EACAC,IAAK,SAAUD,GACd,OAAIyxD,GAAYzxD,IAAuB,iBAARA,GAAmC,mBAARA,IACrD8xD,EACIF,EAAYE,EAAK9xD,KAGjB+xD,GAAMA,EAAG9xD,IAAID,EACvB,EACAG,IAAK,SAAUH,EAAKI,GACfqxD,GAAYzxD,IAAuB,iBAARA,GAAmC,mBAARA,IACpD8xD,IACJA,EAAM,IAAIL,GAEXE,EAAYG,EAAK9xD,EAAKI,IACZX,IACLsyD,IACJA,EAAKtyD,KAGgC,EAAKU,IAAIH,EAAKI,GAEtD,GAID,OAAON,CACR,EACEL,C,wBC/EH,IAAIuyD,EAAQ,CAAC,EAEb,SAASC,EAAgBjgC,EAAMM,EAAS4/B,GACjCA,IACHA,EAAOlsD,OAWT,IAAImsD,EAEJ,SAAUC,GAnBZ,IAAwBj2B,EAAUC,EAsB9B,SAAS+1B,EAAUE,EAAMC,EAAMC,GAC7B,OAAOH,EAAM/yD,KAAKmB,KAdtB,SAAoB6xD,EAAMC,EAAMC,GAC9B,MAAuB,iBAAZjgC,EACFA,EAEAA,EAAQ+/B,EAAMC,EAAMC,EAE/B,CAQ4BC,CAAWH,EAAMC,EAAMC,KAAU/xD,IAC3D,CAEA,OA1B8B47B,EAoBJg2B,GApBNj2B,EAoBLg2B,GApBsCjuD,UAAYpD,OAAOixB,OAAOqK,EAAWl4B,WAAYi4B,EAASj4B,UAAU5D,YAAc67B,EAAUA,EAASN,UAAYO,EA0B/J+1B,CACT,CARA,CAQED,GAEFC,EAAUjuD,UAAUH,KAAOmuD,EAAKnuD,KAChCouD,EAAUjuD,UAAU8tB,KAAOA,EAC3BggC,EAAMhgC,GAAQmgC,CAChB,CAGA,SAASM,EAAMC,EAAUC,GACvB,GAAItuD,MAAMC,QAAQouD,GAAW,CAC3B,IAAIvxC,EAAMuxC,EAASr0D,OAKnB,OAJAq0D,EAAWA,EAAS9kD,IAAI,SAAUjP,GAChC,OAAO0c,OAAO1c,EAChB,GAEIwiB,EAAM,EACD,UAAU1d,OAAOkvD,EAAO,KAAKlvD,OAAOivD,EAAStzD,MAAM,EAAG+hB,EAAM,GAAGpiB,KAAK,MAAO,SAAW2zD,EAASvxC,EAAM,GAC3F,IAARA,EACF,UAAU1d,OAAOkvD,EAAO,KAAKlvD,OAAOivD,EAAS,GAAI,QAAQjvD,OAAOivD,EAAS,IAEzE,MAAMjvD,OAAOkvD,EAAO,KAAKlvD,OAAOivD,EAAS,GAEpD,CACE,MAAO,MAAMjvD,OAAOkvD,EAAO,KAAKlvD,OAAO4X,OAAOq3C,GAElD,CA6BAT,EAAgB,wBAAyB,SAAUluD,EAAM3D,GACvD,MAAO,cAAgBA,EAAQ,4BAA8B2D,EAAO,GACtE,EAAGzF,WACH2zD,EAAgB,uBAAwB,SAAUluD,EAAM2uD,EAAUE,GAEhE,IAAIC,EA/BmBhoC,EAwCnBnW,EA1BY5V,EAAa8c,EA4B7B,GATwB,iBAAb82C,IAjCY7nC,EAiCkC,OAAV6nC,EAhCpCzuD,OAAyB,EAAU4mB,KAAmBA,IAiC/DgoC,EAAa,cACbH,EAAWA,EAASh0D,QAAQ,QAAS,KAErCm0D,EAAa,UAhCjB,SAAkB/zD,EAAK+rB,EAAQioC,GAK7B,YAJiBpvD,IAAbovD,GAA0BA,EAAWh0D,EAAIT,UAC3Cy0D,EAAWh0D,EAAIT,QAGVS,EAAIo3B,UAAU48B,EAAWjoC,EAAeioC,KAAcjoC,CAC/D,CA+BMqU,CAASn7B,EAAM,aAEjB2Q,EAAM,OAAOjR,OAAOM,EAAM,KAAKN,OAAOovD,EAAY,KAAKpvD,OAAOgvD,EAAMC,EAAU,aACzE,CACL,IAAI5/C,GA/Be,iBAAV8I,IACTA,EAAQ,GAGNA,EAAQiP,GALI/rB,EAgCMiF,GA3BU1F,SAGS,IAAhCS,EAAI4G,QAwBe,IAxBCkW,GAwBmB,WAAb,YACjClH,EAAM,QAASjR,OAAOM,EAAM,MAAON,OAAOqP,EAAM,KAAKrP,OAAOovD,EAAY,KAAKpvD,OAAOgvD,EAAMC,EAAU,QACtG,CAGA,OADAh+C,EAAO,mBAAmBjR,cAAcmvD,EAE1C,EAAGt0D,WACH2zD,EAAgB,4BAA6B,2BAC7CA,EAAgB,6BAA8B,SAAUluD,GACtD,MAAO,OAASA,EAAO,4BACzB,GACAkuD,EAAgB,6BAA8B,mBAC9CA,EAAgB,uBAAwB,SAAUluD,GAChD,MAAO,eAAiBA,EAAO,+BACjC,GACAkuD,EAAgB,wBAAyB,kCACzCA,EAAgB,yBAA0B,6BAC1CA,EAAgB,6BAA8B,mBAC9CA,EAAgB,yBAA0B,sCAAuC3zD,WACjF2zD,EAAgB,uBAAwB,SAAUlqC,GAChD,MAAO,qBAAuBA,CAChC,EAAGzpB,WACH2zD,EAAgB,qCAAsC,oCACtDtyD,EAAOC,QAAQ,EAAQoyD,C,6CC3HvB,MAAMe,EAAe,CACjB,YAAa,CAAC,wBAAwB,GACtC,YAAa,CAAC,iBAAiB,GAC/B,YAAa,CAAC,eAAyB,GACvC,YAAa,CAAC,cAAc,GAC5B,YAAa,CAAC,WAAW,GACzB,YAAa,CAAC,WAAW,GACzB,YAAa,CAAC,gBAAgB,GAAM,GACpC,YAAa,CAAC,WAAW,GACzB,YAAa,CAAC,UAAU,GACxB,YAAa,CAAC,UAAU,GACxB,YAAa,CAAC,yBAAyB,GACvC,YAAa,CAAC,WAAW,GACzB,WAAY,CAAC,+BAA+B,GAC5C,aAAc,CAAC,aAAa,IAI1BC,EAAejqC,GAAMA,EAAErqB,QAAQ,YAAa,QAI5Cu0D,EAAkBC,GAAWA,EAAOn0D,KAAK,IAOlCo0D,EAAa,CAAC3sD,EAAM4sD,KAC7B,MAAM19B,EAAM09B,EAEZ,GAAyB,MAArB5sD,EAAKkmB,OAAOgJ,GACZ,MAAM,IAAI1vB,MAAM,6BAGpB,MAAMktD,EAAS,GACTG,EAAO,GACb,IAAI10D,EAAI+2B,EAAM,EACV49B,GAAW,EACXh9B,GAAQ,EACRV,GAAW,EACXiX,GAAS,EACT0mB,EAAS79B,EACT89B,EAAa,GACjBC,EAAO,KAAO90D,EAAI6H,EAAKnI,QAAQ,CAC3B,MAAMgrB,EAAI7iB,EAAKkmB,OAAO/tB,GACtB,GAAW,MAAN0qB,GAAmB,MAANA,GAAc1qB,IAAM+2B,EAAM,EAA5C,CAKA,GAAU,MAANrM,GAAaiqC,IAAa19B,EAAU,CACpC29B,EAAS50D,EAAI,EACb,KACJ,CAEA,GADA20D,GAAW,EACD,OAANjqC,GACKuM,EADT,CAQA,GAAU,MAANvM,IAAcuM,EAEd,IAAK,MAAO89B,GAAMC,EAAMC,EAAGC,MAAS/yD,OAAOipD,QAAQgJ,GAC/C,GAAIvsD,EAAKxC,WAAW0vD,EAAK/0D,GAAI,CAEzB,GAAI60D,EACA,MAAO,CAAC,MAAM,EAAOhtD,EAAKnI,OAASq3B,GAAK,GAE5C/2B,GAAK+0D,EAAIr1D,OACLw1D,EACAR,EAAKx0D,KAAK80D,GAEVT,EAAOr0D,KAAK80D,GAChBr9B,EAAQA,GAASs9B,EACjB,SAASH,CACb,CAIR79B,GAAW,EACP49B,GAGInqC,EAAImqC,EACJN,EAAOr0D,KAAKm0D,EAAYQ,GAAc,IAAMR,EAAY3pC,IAEnDA,IAAMmqC,GACXN,EAAOr0D,KAAKm0D,EAAY3pC,IAE5BmqC,EAAa,GACb70D,KAKA6H,EAAKxC,WAAW,KAAMrF,EAAI,IAC1Bu0D,EAAOr0D,KAAKm0D,EAAY3pC,EAAI,MAC5B1qB,GAAK,GAGL6H,EAAKxC,WAAW,IAAKrF,EAAI,IACzB60D,EAAanqC,EACb1qB,GAAK,IAITu0D,EAAOr0D,KAAKm0D,EAAY3pC,IACxB1qB,IAhDA,MALQi3B,GAAW,EACXj3B,GATR,MAHIkuC,GAAS,EACTluC,GAgER,CACA,GAAI40D,EAAS50D,EAGT,MAAO,CAAC,IAAI,EAAO,GAAG,GAI1B,IAAKu0D,EAAO70D,SAAWg1D,EAAKh1D,OACxB,MAAO,CAAC,MAAM,EAAOmI,EAAKnI,OAASq3B,GAAK,GAM5C,GAAoB,IAAhB29B,EAAKh1D,QACa,IAAlB60D,EAAO70D,QACP,SAASqJ,KAAKwrD,EAAO,MACpBrmB,EAAQ,CAET,MAAO,EAjHO9jB,EAgHiB,IAArBmqC,EAAO,GAAG70D,OAAe60D,EAAO,GAAG9zD,OAAO,GAAK8zD,EAAO,GAhH5CnqC,EAAErqB,QAAQ,2BAA4B,UAiHjC,EAAO60D,EAAS79B,GAAK,EAClD,CAlHiB,IAAC3M,EAmHlB,MAAM+qC,EAAU,KAAOjnB,EAAS,IAAM,IAAMomB,EAAeC,GAAU,IAC/Da,EAAQ,KAAOlnB,EAAS,GAAK,KAAOomB,EAAeI,GAAQ,IAMjE,MAAO,CALMH,EAAO70D,QAAUg1D,EAAKh1D,OAC7B,IAAMy1D,EAAU,IAAMC,EAAQ,IAC9Bb,EAAO70D,OACHy1D,EACAC,EACIz9B,EAAOi9B,EAAS79B,GAAK,G,0BC/IvC,IAAIz1B,EAAMa,OAAOoD,UAAUO,eAU3B,SAASmhB,EAAOC,GACd,IACE,OAAOme,mBAAmBne,EAAMnnB,QAAQ,MAAO,KACjD,CAAE,MAAO6W,GACP,OAAO,IACT,CACF,CASA,SAASgR,EAAOV,GACd,IACE,OAAOwb,mBAAmBxb,EAC5B,CAAE,MAAOtQ,GACP,OAAO,IACT,CACF,CAmFA3V,EAAQqlC,UA1CR,SAAwBziB,EAAK1c,GAC3BA,EAASA,GAAU,GAEnB,IACI1F,EACAJ,EAFAg0D,EAAQ,GASZ,IAAKh0D,IAFD,iBAAoB8F,IAAQA,EAAS,KAE7B0c,EACV,GAAIviB,EAAIZ,KAAKmjB,EAAKxiB,GAAM,CAkBtB,IAjBAI,EAAQoiB,EAAIxiB,KAMGI,UAAqCsO,MAAMtO,KACxDA,EAAQ,IAGVJ,EAAMumB,EAAOvmB,GACbI,EAAQmmB,EAAOnmB,GAMH,OAARJ,GAA0B,OAAVI,EAAgB,SACpC4zD,EAAMn1D,KAAKmB,EAAK,IAAKI,EACvB,CAGF,OAAO4zD,EAAM31D,OAASyH,EAASkuD,EAAMj1D,KAAK,KAAO,EACnD,EAMAa,EAAQgP,MA3ER,SAAqBq8C,GAKnB,IAJA,IAEIh2B,EAFA42B,EAAS,uBACTtoD,EAAS,CAAC,EAGP0xB,EAAO42B,EAAOv/B,KAAK2+B,IAAQ,CAChC,IAAIjrD,EAAM4lB,EAAOqP,EAAK,IAClB70B,EAAQwlB,EAAOqP,EAAK,IAUZ,OAARj1B,GAA0B,OAAVI,GAAkBJ,KAAOuD,IAC7CA,EAAOvD,GAAOI,EAChB,CAEA,OAAOmD,CACT,C,iHC1DOoN,eAAesjD,EAAqB7tD,EAAS8tD,EAAYvxD,EAAU,CAAC,GACvE,MAAMinB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWqqC,GAAa,KACxDpqC,OAAQ,WACR9iB,QAAS,CACLmsB,OAAQ,6BACRojB,MAAO5zC,EAAQwxD,KAAO,WAAa,MAExC/tD,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,IAC/C,QAAmBA,EAASP,GAC5B,MAAM86B,QAAqB96B,EAASwtB,OACpC,IAAKsN,EACD,MAAM,IAAI36B,MAAM,qDAEpB,MAAMouD,QAAgB,QAASzzB,GACzB0zB,GAAc,QAAiBH,GAErC,IAAI3tD,EAMR,SAA2BhD,EAAQ+wD,EAAsBC,EAAaxtD,GAAa,EAAOytD,GAAc,GACpG,MAAMC,EAAa,OAAeH,EAAsB,MAEhDx5C,aAAejV,SAAUg7B,IAAoBt9B,EAE/CmxD,EAAQ7zB,EAAcjzB,IAAIzI,IAE5B,MAAMg5B,GAAO,QAAch5B,EAAKg5B,OAExBpjB,UAAYC,KAAMzI,IAAYpN,EAEhCwB,EAA0B,MAAf8tD,EACXzwB,oBAAmB,QAAc7F,KACjC,QAAc,WAAmB6F,mBAAmBywB,GAAazwB,mBAAmB7F,KAC1F,OAAO,QAAqB5rB,EAAO5L,EAAUI,KAGjD,OAAIytD,EACOE,EAGJA,EAAMjuD,OAAOtB,GAAQA,EAAKuoB,WACd,SAAdvoB,EAAK2N,MAAmB3N,EAAKwB,WAAa4tD,EAAY71D,QAAQ,MAAO,KAC9E,CA7BgBqiC,CAAkBqzB,GADP,QAAiBhuD,EAAQuuD,gBAAkBvuD,EAAQ8tD,YACnBG,EAAa1xD,EAAQ2wB,QAAS3wB,EAAQ6xD,aAI7F,OAHI7xD,EAAQ6D,OACRD,GAAQ,QAAkBA,EAAO5D,EAAQ6D,QAEtC,QAAuBX,EAAUU,EAAO5D,EAAQ2wB,QAC3D,C,0BCVA,SAASshC,EAAS5nC,EAAKrqB,EAAS6B,GAC9B,IAAI6uB,EACJ,MAAMwhC,EAAgB,CAAC,EACvB,IAAK,IAAIl2D,EAAI,EAAGA,EAAIquB,EAAI3uB,OAAQM,IAAK,CACnC,MAAMwkD,EAASn2B,EAAIruB,GACbo+B,EAAWqmB,EAASD,GAC1B,IAAI2R,EAAW,GAIf,GAHwBA,OAAXpxD,IAAVc,EAAgCu4B,EACnBv4B,EAAQ,IAAMu4B,EAE3BA,IAAap6B,EAAQtB,kBACVqC,IAAT2vB,EAAoBA,EAAO8vB,EAAOpmB,GAChC1J,GAAQ,GAAK8vB,EAAOpmB,OACrB,SAAgBr5B,IAAbq5B,EACP,SACI,GAAGomB,EAAOpmB,GAAU,CAExB,IAAIp8B,EAAMi0D,EAASzR,EAAOpmB,GAAWp6B,EAASmyD,GAC9C,MAAMC,EAASC,EAAUr0D,EAAKgC,GAE3BwgD,EAAO,MACR8R,EAAkBt0D,EAAKwiD,EAAO,MAAO2R,EAAUnyD,GACZ,IAA5B7B,OAAOC,KAAKJ,GAAKtC,aAA8CqF,IAA9B/C,EAAIgC,EAAQtB,eAAgCsB,EAAQuyD,qBAEzD,IAA5Bp0D,OAAOC,KAAKJ,GAAKtC,SACrBsE,EAAQuyD,qBAAsBv0D,EAAIgC,EAAQtB,cAAgB,GACxDV,EAAM,IAHXA,EAAMA,EAAIgC,EAAQtB,mBAMWqC,IAA5BmxD,EAAc93B,IAA2B83B,EAAcpwD,eAAes4B,IACnE14B,MAAMC,QAAQuwD,EAAc93B,MAC5B83B,EAAc93B,GAAY,CAAE83B,EAAc93B,KAE9C83B,EAAc93B,GAAUl+B,KAAK8B,IAIzBgC,EAAQ2B,QAAQy4B,EAAU+3B,EAAUC,GACtCF,EAAc93B,GAAY,CAACp8B,GAE3Bk0D,EAAc93B,GAAYp8B,CAGhC,EAEF,CAKA,MAHmB,iBAAT0yB,EACLA,EAAKh1B,OAAS,IAAGw2D,EAAclyD,EAAQtB,cAAgBgyB,QAC1C3vB,IAAT2vB,IAAoBwhC,EAAclyD,EAAQtB,cAAgBgyB,GAC5DwhC,CACT,CAEA,SAASzR,EAAS5gC,GAChB,MAAMzhB,EAAOD,OAAOC,KAAKyhB,GACzB,IAAK,IAAI7jB,EAAI,EAAGA,EAAIoC,EAAK1C,OAAQM,IAAK,CACpC,MAAMqB,EAAMe,EAAKpC,GACjB,GAAW,OAARqB,EAAc,OAAOA,CAC1B,CACF,CAEA,SAASi1D,EAAiBzyC,EAAKuhC,EAASoR,EAAOxyD,GAC7C,GAAIohD,EAAS,CACX,MAAMhjD,EAAOD,OAAOC,KAAKgjD,GACnB5iC,EAAMpgB,EAAK1C,OACjB,IAAK,IAAIM,EAAI,EAAGA,EAAIwiB,EAAKxiB,IAAK,CAC5B,MAAMy2D,EAAWr0D,EAAKpC,GAClBgE,EAAQ2B,QAAQ8wD,EAAUD,EAAQ,IAAMC,GAAU,GAAM,GAC1D5yC,EAAI4yC,GAAY,CAAErR,EAAQqR,IAE1B5yC,EAAI4yC,GAAYrR,EAAQqR,EAE5B,CACF,CACF,CAEA,SAASJ,EAAUxyC,EAAK7f,GACtB,MAAM,aAAEtB,GAAiBsB,EACnB0yD,EAAYv0D,OAAOC,KAAKyhB,GAAKnkB,OAEnC,OAAkB,IAAdg3D,KAKY,IAAdA,IACC7yC,EAAInhB,IAA8C,kBAAtBmhB,EAAInhB,IAAqD,IAAtBmhB,EAAInhB,GAMxE,CACAzB,EAAQwU,SAxGR,SAAkBvT,EAAM8B,GACtB,OAAOiyD,EAAU/zD,EAAM8B,EACzB,C,wBCRA,IAAIjE,EAAU2c,OAAOnX,UAAUxF,QAC3B42D,EAAkB,OAElBC,EAES,UAGb51D,EAAOC,QAAU,CACb,QAAW21D,EACXC,WAAY,CACRpxB,QAAS,SAAUhkC,GACf,OAAO1B,EAAQW,KAAKe,EAAOk1D,EAAiB,IAChD,EACAG,QAAS,SAAUr1D,GACf,OAAOib,OAAOjb,EAClB,GAEJgkC,QAdS,UAeTqxB,QAASF,E,2ECpBN5kD,eAAe+kD,EAAOtvD,EAAS8tD,EAAYvxD,EAAU,CAAC,GACzD,IAEI,aADM,OAAQyD,EAAS8tD,EAAYvxD,IAC5B,CACX,CACA,MAAOoD,GACH,GAAmB,MAAfA,EAAIE,OACJ,OAAO,EAEX,MAAMF,CACV,CACJ,C,2FCRO4K,eAAe+vB,EAAct6B,EAAS8tD,EAAYtqC,GAChDA,EAAehS,MAChBgS,EAAehS,KAAM,QAAQxR,EAAQyjB,WAAW,QAAWqqC,KAE/D,MAAMyB,GAAe,OAAsB/rC,EAAgBxjB,EAAS,CAAC,GAC/DP,QAAiB,OAAQ8vD,EAAcvvD,GAE7C,OADA,QAAmBA,EAASP,GACrBA,CACX,C,2FCRO8K,eAAeilD,EAASxvD,EAASO,EAAUyvC,EAAazzC,EAAU,CAAC,GACtE,MAAMinB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWljB,IAC3CmjB,OAAQ,OACR9iB,QAAS,CACLqvC,aAAa,QAAQjwC,EAAQyjB,WAAW,QAAWusB,IAOnDE,WAAiC,IAAtB3zC,EAAQ08B,UAAsB,IAAM,MAEpDj5B,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,IAC/C,QAAmBA,EAASP,EAChC,C,2FCjBO8K,eAAeklD,EAAWzvD,EAASO,EAAUhE,EAAU,CAAC,GAC3D,MAAMinB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWljB,IAC3CmjB,OAAQ,UACT1jB,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,IAC/C,QAAmBA,EAASP,EAChC,C,sECVO,SAASiwD,EAAenuD,GAC3B,IAAIhF,EAAS0vB,EAAe,GAC5B,GAAoB,IAAhB1qB,EAAKtJ,OACLsE,EAAU,CAAC,OAEV,IAAI,OAAQgF,EAAK,IAClBhF,EAAU,CACN4vB,MAAO5qB,EAAK,IAEhB0qB,EAAe1qB,EAAKvI,MAAM,GAAGL,KAAK,MAAQ,QAEzC,GAAI4I,EAAK,IAAyB,iBAAZA,EAAK,GAC5BhF,EAAU7B,OAAO8B,OAAO,CAAC,EAAG+E,EAAK,IACjC0qB,EAAe1qB,EAAKvI,MAAM,GAAGL,KAAK,MAAQ,OAEzC,IAAuB,iBAAZ4I,EAAK,GAKjB,MAAM,IAAI3B,MAAM,sCAJhBrD,EAAU,CAAC,EACX0vB,EAAeA,EAAe1qB,EAAK5I,KAAK,MAAQ,EAIpD,CACA,MAAO,CACH4D,UACA0vB,eAER,C,4BC3BO,SAAS0jC,EAAavzC,GACzB,OAIJ,SAAuBA,GACnB,GAAmB,iBAARA,GACC,OAARA,GACuC,mBAAvC1hB,OAAOoD,UAAU6J,SAAS1O,KAAKmjB,GAE/B,OAAO,EAEX,GAAmC,OAA/B1hB,OAAOuwB,eAAe7O,GACtB,OAAO,EAEX,IAAIwzC,EAAQxzC,EAEZ,KAAwC,OAAjC1hB,OAAOuwB,eAAe2kC,IACzBA,EAAQl1D,OAAOuwB,eAAe2kC,GAElC,OAAOl1D,OAAOuwB,eAAe7O,KAASwzC,CAC1C,CApBW3M,CAAc7mC,GACf1hB,OAAO8B,OAAO,CAAC,EAAG4f,GAClB1hB,OAAOywB,eAAezwB,OAAO8B,OAAO,CAAC,EAAG4f,GAAM1hB,OAAOuwB,eAAe7O,GAC9E,CAkBO,SAASgiB,KAAS78B,GACrB,IAAImd,EAAS,KAAMmxC,EAAQ,IAAItuD,GAC/B,KAAOsuD,EAAM53D,OAAS,GAAG,CACrB,MAAM63D,EAAWD,EAAMx3D,QAKnBqmB,EAJCA,EAIQqxC,EAAarxC,EAAQoxC,GAHrBH,EAAaG,EAK9B,CACA,OAAOpxC,CACX,CACA,SAASqxC,EAAaC,EAAMC,GACxB,MAAMvxC,EAASixC,EAAaK,GAqB5B,OApBAt1D,OAAOC,KAAKs1D,GAAMt+C,QAAQ/X,IACjB8kB,EAAOrgB,eAAezE,GAIvBqE,MAAMC,QAAQ+xD,EAAKr2D,IACnB8kB,EAAO9kB,GAAOqE,MAAMC,QAAQwgB,EAAO9kB,IAC7B,IAAI8kB,EAAO9kB,MAASq2D,EAAKr2D,IACzB,IAAIq2D,EAAKr2D,IAEW,iBAAdq2D,EAAKr2D,IAAuBq2D,EAAKr2D,GAC7C8kB,EAAO9kB,GACoB,iBAAhB8kB,EAAO9kB,IAAuB8kB,EAAO9kB,GACtCm2D,EAAarxC,EAAO9kB,GAAMq2D,EAAKr2D,IAC/B+1D,EAAaM,EAAKr2D,IAG5B8kB,EAAO9kB,GAAOq2D,EAAKr2D,GAfnB8kB,EAAO9kB,GAAOq2D,EAAKr2D,KAkBpB8kB,CACX,C,oDC1DO,SAASwxC,EAAuBtvD,GACnC,MAAM8d,EAAS,CAAC,EAChB,IAAK,MAAM9kB,KAAOgH,EAAQjG,OACtB+jB,EAAO9kB,GAAOgH,EAAQ9G,IAAIF,GAE9B,OAAO8kB,CACX,CACO,SAASyxC,KAAgBC,GAC5B,GAA8B,IAA1BA,EAAen4D,OACf,MAAO,CAAC,EACZ,MAAMo4D,EAAa,CAAC,EACpB,OAAOD,EAAe/zB,OAAO,CAAC3d,EAAQ9d,KAClClG,OAAOC,KAAKiG,GAAS+Q,QAAQC,IACzB,MAAM0+C,EAAc1+C,EAAOC,cACvBw+C,EAAWhyD,eAAeiyD,GAC1B5xC,EAAO2xC,EAAWC,IAAgB1vD,EAAQgR,IAG1Cy+C,EAAWC,GAAe1+C,EAC1B8M,EAAO9M,GAAUhR,EAAQgR,MAG1B8M,GACR,CAAC,EACR,C,8HCnBOnU,eAAegmD,EAAUvwD,EAASwwD,EAAej0D,EAAU,CAAC,GAC/D,MAAQ2wB,QAASvsB,GAAa,GAAUpE,EAClCinB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAW+sC,IAC3C9sC,OAAQ,SACR9iB,QAAS,CACLmsB,OAAQ,6BAER,eAAgB/sB,EAAQY,QAAQ,iBAAmB,mCAExDZ,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,IAC/C,QAAmBA,EAASP,GAC5B,MAAMmU,QAAqBnU,EAASwtB,OAC9BsN,QAAqB,QAAS3mB,GAC9B68C,GAAU,QAAYl2B,EAAci2B,EAAe7vD,GACzD,OAAO,QAAuBlB,EAAUgxD,EAAS9vD,EACrD,C,4BCpBA,IAAIyqD,EAAe,EAAQ,OACvBpjC,EAAY,EAAQ,OACpB7uB,EAAU,EAAQ,OAElBD,EAAa,EAAQ,OACrBw3D,EAAOtF,EAAa,SAAS,GAG7BuF,EAAU3oC,EAAU,qBAAqB,GAEzC4oC,EAAU5oC,EAAU,qBAAqB,GAEzC6oC,EAAU7oC,EAAU,qBAAqB,GAEzC8oC,EAAa9oC,EAAU,wBAAwB,GAE/C+oC,EAAW/oC,EAAU,sBAAsB,GAG/CzuB,EAAOC,UAAYk3D,GAAmD,WAKhC,IAAI/E,EAGrCjyD,EAAU,CACbC,OAAQ,SAAUC,GACjB,IAAKF,EAAQG,IAAID,GAChB,MAAM,IAAIV,EAAW,iCAAmCC,EAAQS,GAElE,EACA,OAAU,SAAUA,GACnB,GAAI+xD,EAAI,CACP,IAAIxuD,EAAS2zD,EAAWnF,EAAI/xD,GAI5B,OAHqB,IAAjBm3D,EAASpF,KACZA,OAAK,GAECxuD,CACR,CACA,OAAO,CACR,EACArD,IAAK,SAAUF,GACd,GAAI+xD,EACH,OAAOgF,EAAQhF,EAAI/xD,EAErB,EACAC,IAAK,SAAUD,GACd,QAAI+xD,GACIkF,EAAQlF,EAAI/xD,EAGrB,EACAG,IAAK,SAAUH,EAAKI,GACd2xD,IAEJA,EAAK,IAAI+E,GAEVE,EAAQjF,EAAI/xD,EAAKI,EAClB,GAID,OAAON,CACR,C,WCnEAH,EAAOC,QAAU,SAAkBmoB,GACjC,OAAOA,GAAsB,iBAARA,GACI,mBAAbA,EAAIQ,MACS,mBAAbR,EAAIqvC,MACc,mBAAlBrvC,EAAIsvC,SAClB,C,4HCEO1mD,eAAe2mD,EAA0BlxD,EAASujB,EAAU/N,EAAOC,EAAK/U,EAAMnE,EAAU,CAAC,GAC5F,MAAMonB,QAAmB,OAAiB3jB,EAASujB,EAAUhnB,GAC7D,GAAIonB,EAAWA,WAAWkhB,SAAS,0BAC/B,aAYRt6B,eAAiDvK,EAASujB,EAAU/N,EAAOC,EAAK/U,EAAMnE,EAAU,CAAC,GAC7F,GAAIiZ,EAAQC,GAAOD,EAAQ,EAGvB,MAAM,IAAI,KAAO,CACbpK,KAAM,CACFwgB,KAAM,KAAUulC,qBAErB,wBAAwB37C,wBAE/B,MAAM5U,EAAU,CACZ,eAAgB,uCAChB,iBAAkB,IAAG6U,EAAMD,EAAQ,GACnC,iBAAkB,SAASA,KAASC,KAElC+N,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWF,IAC3CG,OAAQ,QACR9iB,UACAF,QACDV,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,IAC/C,QAAmBA,EAASP,EAChC,CAnCqB2xD,CAAkCpxD,EAASujB,EAAU/N,EAAOC,EAAK/U,EAAMnE,GAExF,GAAIonB,EAAWC,OAAOihB,SAAS,WAC3BlhB,EAAWA,WAAWkhB,SAAS,wCAC/B,aAgCRt6B,eAA+CvK,EAASujB,EAAU/N,EAAOC,EAAK/U,EAAMnE,EAAU,CAAC,GAC3F,GAAIiZ,EAAQC,GAAOD,EAAQ,EACvB,MAAM,IAAI,KAAO,CACbpK,KAAM,CACFwgB,KAAM,KAAUulC,qBAErB,wBAAwB37C,wBAE/B,MAAM5U,EAAU,CACZ,eAAgB,2BAChB,iBAAkB,IAAG6U,EAAMD,EAAQ,GACnC,gBAAiB,SAASA,KAASC,OAEjC+N,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWF,IAC3CG,OAAQ,MACR9iB,UACAF,QACDV,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,IAC/C,QAAmBA,EAASP,EAChC,CArDqB4xD,CAAgCrxD,EAASujB,EAAU/N,EAAOC,EAAK/U,EAAMnE,GAEtF,MAAM,IAAI,KAAO,CACb6O,KAAM,CACFwgB,KAAM,KAAU0lC,eAErB,gBACP,C,eCrBA/3D,EAAOC,QAAU,EAAjB,mB,mIC2BAD,EAAOC,QAAU8uD,EACjB,IAAID,EAAY,EAAQ,OAExB,SAASC,EAAY/rD,GACnB,KAAMnC,gBAAgBkuD,GAAc,OAAO,IAAIA,EAAY/rD,GAC3D8rD,EAAUpvD,KAAKmB,KAAMmC,EACvB,CAJA,EAAQ,MAAR,CAAoB+rD,EAAaD,GAKjCC,EAAYxqD,UAAUyzD,WAAa,SAAUv/C,EAAOgJ,EAAUpE,GAC5DA,EAAG,KAAM5E,EACX,C,6CCpCA,MACaw/C,EAAsBxhC,IAC/B,GAAuB,iBAAZA,EACP,MAAM,IAAI93B,UAAU,mBAExB,GAAI83B,EAAQ/3B,OALW,MAMnB,MAAM,IAAIC,UAAU,uB,4DCL5B,IAAIu5D,EAAY,KACT,SAASC,IAIZ,OAHKD,IACDA,EAAY,IAAI,KAEbA,CACX,C,sGCFOlnD,eAAeonD,EAAQ3xD,EAASO,EAAUhE,EAAU,CAAC,GACxD,MAAQ2wB,QAASvsB,GAAa,GAAUpE,EAClCinB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,WAAW,QAAWljB,IAC3CmjB,OAAQ,WACR9iB,QAAS,CACLmsB,OAAQ,6BACRojB,MAAO,MAEZnwC,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,IAC/C,QAAmBA,EAASP,GAC5B,MAAM86B,QAAqB96B,EAASwtB,OAC9B9vB,QAAe,QAASo9B,GACxBC,GAAO,QAAUr9B,EAAQoD,EAAUI,GACzC,OAAO,QAAuBlB,EAAU+6B,EAAM75B,EAClD,C,kQCFA,MAAMixD,EAAuB,8EACtB,SAASx4B,EAAa3V,EAAWlnB,EAAU,CAAC,GAC/C,MAAQgxB,SAAUskC,EAAc,KAAI,eAAEtD,EAAc,YAAEnvB,EAAcwyB,EAAoB,IAAE53B,EAAG,QAAEp5B,EAAU,CAAC,EAAC,UAAEkxD,EAAS,WAAEC,EAAU,SAAExgC,EAAQ,MAAEttB,EAAK,SAAEqtB,EAAQ,gBAAEwqB,GAAoBv/C,EACnL,IAAIgxB,EAAWskC,EACVtkC,IACDA,EAAW+D,GAAYC,EAAW,KAAS9D,SAAW,KAASD,MAEnE,MAAMxtB,EAAU,CACZutB,WACAghC,iBACAnvB,cACApF,MACAp5B,QAASlG,OAAO8B,OAAO,CAAC,EAAGoE,GAC3BkxD,YACAC,aACAxgC,WACAu8B,YAAY,QAAerqC,GAC3BA,YACAxf,QACAqtB,WACAwqB,mBAGJ,OADA,OAAU97C,EAASsxB,EAAUC,EAAUttB,EAAO+1B,GACvC,CACH+V,SAAU,CAACxvC,EAAUyvC,EAAazzC,KAAY,OAASyD,EAASO,EAAUyvC,EAAazzC,GACvF+7B,gBAAiB,CAACzT,EAAMtoB,KAAY,IAAA0mB,GAAgBjjB,EAAS6kB,EAAMtoB,GACnEosD,iBAAkB,CAACpoD,EAAUhE,KAAY,OAAiByD,EAASO,EAAUhE,GAC7E2sD,kBAAmB,CAAC3oD,EAAUhE,EAASsa,KAAa,OAAkB7W,EAASO,EAAUhE,EAASsa,GAClGyjB,cAAe,CAACzV,EAAMrB,KAAmB,OAAcxjB,EAAS6kB,EAAMrB,GACtEisC,WAAY,CAAClvD,EAAUhE,KAAY,OAAWyD,EAASO,EAAUhE,GACjE+yD,OAAQ,CAACzqC,EAAMtoB,KAAY,OAAOyD,EAAS6kB,EAAMtoB,GACjDsxD,qBAAsB,CAAChpC,EAAMtoB,KAAY,OAAqByD,EAAS6kB,EAAMtoB,GAC7EswB,gBAAiB,CAACtsB,EAAUhE,KAAY,OAAgByD,EAASO,EAAUhE,GAC3E+wB,oBAAsB/sB,IAAa,OAAoBP,EAASO,GAChE24B,kBAAoB34B,IAAa,OAAkBP,EAASO,GAC5DyxD,WAAY,IAAMt3D,OAAO8B,OAAO,CAAC,EAAGwD,EAAQY,SAC5CqxD,SAAW11D,IAAY,OAASyD,EAASzD,GACzCwiC,KAAM,CAACla,EAAMtoB,KAAY,OAAKyD,EAAS6kB,EAAMtoB,GAC7CizD,SAAU,CAACjvD,EAAU2xD,EAAqB31D,KAAY,IAAAwK,GAAS/G,EAASO,EAAU2xD,EAAqB31D,GACvGw8B,gBAAiB,CAACx4B,EAAUG,EAAMnE,KAAY,OAAgByD,EAASO,EAAUG,EAAMnE,GACvF20D,0BAA2B,CAAC3tC,EAAU/N,EAAOC,EAAK/U,EAAMnE,KAAY,OAA0ByD,EAASujB,EAAU/N,EAAOC,EAAK/U,EAAMnE,GACnI+mB,iBAAmBuB,IAAS,OAAiB7kB,EAAS6kB,GACtDJ,OAAQ,CAACI,EAAMtoB,KAAY,OAAUyD,EAAS6kB,EAAMtoB,GACpD88B,WAAaz4B,IACTZ,EAAQY,QAAUlG,OAAO8B,OAAO,CAAC,EAAGoE,IAExC45B,KAAM,CAAC3V,EAAMtoB,KAAY,OAAQyD,EAAS6kB,EAAMtoB,GAChDgjC,OAAQ,CAAC1a,EAAM5gB,EAAO1H,KAAY,OAAOyD,EAAS6kB,EAAM5gB,EAAO1H,GAEvE,C,8GChEO,SAAS41D,EAAeC,GAE3B,IAAIC,EADQ,IAAI,EAAID,GACFlN,SAIlB,OAHImN,EAAQp6D,QAAU,IAClBo6D,EAAU,MAEP,QAAcA,EACzB,CACO,SAASC,KAAW15D,GACvB,OAAO,OAASA,EAAMyjC,OAAO,CAAC3d,EAAQ6zC,EAAUC,MAC1B,IAAdA,GACa,MAAbD,GACc,MAAbA,GAAkD,MAA9B7zC,EAAOA,EAAOzmB,OAAS,KAC5CymB,EAAOjmB,KAAK85D,GAET7zC,GACR,IACP,CACO,SAAS+zC,EAAc16B,GAC1B,IAEI,OADuBA,EAAKz/B,QAAQ,qBAAsB,GAE9D,CACA,MAAOqH,GACH,MAAM,IAAI,KAAOA,EAAK,0BAC1B,CACJ,C,eC9BA,M,WACE,WAGD,IAQI4d,GAL0ChkB,GAC7CA,EAAOC,QAI0B,iBAAV,YAAsB,YAC1C+jB,EAAWC,SAAWD,GAAcA,EAAWnT,OAMnD,IAAIsoD,EAAwB,SAASxmC,GACpC9xB,KAAK8xB,QAAUA,CAChB,GACAwmC,EAAsB50D,UAAY,IAAI8B,OACNjC,KAAO,wBAEvC,IAAI8D,EAAQ,SAASyqB,GAGpB,MAAM,IAAIwmC,EAAsBxmC,EACjC,EAEIymC,EAAQ,mEAERC,EAAyB,eAsGzBC,EAAS,CACZ,OA3DY,SAASpzC,GACrBA,EAAQxK,OAAOwK,GACX,aAAane,KAAKme,IAGrBhe,EACC,6EAcF,IAVA,IAGI/F,EACA0Z,EACA6N,EACAnP,EANAg/C,EAAUrzC,EAAMxnB,OAAS,EACzBymB,EAAS,GACTsuC,GAAY,EAMZ/0D,EAASwnB,EAAMxnB,OAAS66D,IAEnB9F,EAAW/0D,GAEnByD,EAAI+jB,EAAMzL,WAAWg5C,IAAa,GAClC53C,EAAIqK,EAAMzL,aAAag5C,IAAa,EACpC/pC,EAAIxD,EAAMzL,aAAag5C,GAIvBtuC,GACCi0C,EAAMrsC,QAJPxS,EAASpY,EAAI0Z,EAAI6N,IAIO,GAAK,IAC5B0vC,EAAMrsC,OAAOxS,GAAU,GAAK,IAC5B6+C,EAAMrsC,OAAOxS,GAAU,EAAI,IAC3B6+C,EAAMrsC,OAAgB,GAATxS,GAuBf,OAnBe,GAAXg/C,GACHp3D,EAAI+jB,EAAMzL,WAAWg5C,IAAa,EAClC53C,EAAIqK,EAAMzL,aAAag5C,GAEvBtuC,GACCi0C,EAAMrsC,QAFPxS,EAASpY,EAAI0Z,IAEW,IACvBu9C,EAAMrsC,OAAQxS,GAAU,EAAK,IAC7B6+C,EAAMrsC,OAAQxS,GAAU,EAAK,IAC7B,KAEoB,GAAXg/C,IACVh/C,EAAS2L,EAAMzL,WAAWg5C,GAC1BtuC,GACCi0C,EAAMrsC,OAAOxS,GAAU,GACvB6+C,EAAMrsC,OAAQxS,GAAU,EAAK,IAC7B,MAIK4K,CACR,EAIC,OAlGY,SAASe,GAGrB,IAAIxnB,GAFJwnB,EAAQxK,OAAOwK,GACbnnB,QAAQs6D,EAAwB,KACf36D,OACfA,EAAS,GAAK,IAEjBA,GADAwnB,EAAQA,EAAMnnB,QAAQ,OAAQ,KACfL,SAGfA,EAAS,GAAK,GAEd,iBAAiBqJ,KAAKme,KAEtBhe,EACC,yEAQF,IALA,IACIsxD,EACAj/C,EAFAk/C,EAAa,EAGbt0C,EAAS,GACTsuC,GAAY,IACPA,EAAW/0D,GACnB6b,EAAS6+C,EAAMrzD,QAAQmgB,EAAM6G,OAAO0mC,IACpC+F,EAAaC,EAAa,EAAiB,GAAbD,EAAkBj/C,EAASA,EAErDk/C,IAAe,IAElBt0C,GAAUzJ,OAAOiJ,aAChB,IAAO60C,KAAgB,EAAIC,EAAa,KAI3C,OAAOt0C,CACR,EAiEC,QAAW,cAYV,KAFD,aACC,OAAOm0C,CACP,+BAaH,CAlKC,E,qGCIMtoD,eAAe0nD,EAASjyD,EAASzD,EAAU,CAAC,GAC/C,MAAMsoB,EAAOtoB,EAAQsoB,MAAQ,IACvBrB,GAAiB,OAAsB,CACzChS,KAAK,QAAQxR,EAAQyjB,UAAWoB,GAChCnB,OAAQ,WACR9iB,QAAS,CACLmsB,OAAQ,6BACRojB,MAAO,MAEZnwC,EAASzD,GACNkD,QAAiB,OAAQ+jB,EAAgBxjB,IAC/C,QAAmBA,EAASP,GAC5B,MAAM86B,QAAqB96B,EAASwtB,OAC9B9vB,QAAe,QAASo9B,GACxB04B,GAAQ,OAAW91D,GACzB,OAAO,QAAuBsC,EAAUwzD,EAAO12D,EAAQ2wB,QAC3D,C,qBCrBA3zB,EAAOC,QAAU,CACf,IAAO,WACP,IAAO,sBACP,IAAO,aACP,IAAO,KACP,IAAO,UACP,IAAO,WACP,IAAO,gCACP,IAAO,aACP,IAAO,gBACP,IAAO,kBACP,IAAO,eACP,IAAO,mBACP,IAAO,UACP,IAAO,mBACP,IAAO,oBACP,IAAO,QACP,IAAO,YACP,IAAO,eACP,IAAO,YACP,IAAO,qBACP,IAAO,qBACP,IAAO,cACP,IAAO,eACP,IAAO,mBACP,IAAO,YACP,IAAO,YACP,IAAO,qBACP,IAAO,iBACP,IAAO,gCACP,IAAO,kBACP,IAAO,WACP,IAAO,OACP,IAAO,kBACP,IAAO,sBACP,IAAO,oBACP,IAAO,eACP,IAAO,yBACP,IAAO,wBACP,IAAO,qBACP,IAAO,eACP,IAAO,sBACP,IAAO,uBACP,IAAO,SACP,IAAO,oBACP,IAAO,uBACP,IAAO,mBACP,IAAO,wBACP,IAAO,oBACP,IAAO,kCACP,IAAO,gCACP,IAAO,wBACP,IAAO,kBACP,IAAO,cACP,IAAO,sBACP,IAAO,kBACP,IAAO,6BACP,IAAO,0BACP,IAAO,uBACP,IAAO,gBACP,IAAO,2BACP,IAAO,eACP,IAAO,kC,0BC5DT,MAAM05D,EAAgB,gLAEhBC,EAAa,IAAMD,EAAgB,KADxBA,EACE,iDACbE,EAAY,IAAIl3D,OAAO,IAAMi3D,EAAa,KAuBhD35D,EAAQo7C,QAAU,SAAShsC,GACzB,YAAoB,IAANA,CAChB,EAEApP,EAAQ65D,cAAgB,SAASj3C,GAC/B,OAAmC,IAA5B1hB,OAAOC,KAAKyhB,GAAKnkB,MAC1B,EAOAuB,EAAQ4kC,MAAQ,SAASld,EAAQxlB,EAAG43D,GAClC,GAAI53D,EAAG,CACL,MAAMf,EAAOD,OAAOC,KAAKe,GACnBqf,EAAMpgB,EAAK1C,OACjB,IAAK,IAAIM,EAAI,EAAGA,EAAIwiB,EAAKxiB,IAErB2oB,EAAOvmB,EAAKpC,IADI,WAAd+6D,EACgB,CAAE53D,EAAEf,EAAKpC,KAETmD,EAAEf,EAAKpC,GAG/B,CACF,EAKAiB,EAAQ+5D,SAAW,SAAS3qD,GAC1B,OAAIpP,EAAQo7C,QAAQhsC,GACXA,EAEA,EAEX,EAKApP,EAAQygD,OA9CO,SAAS17B,GAEtB,QAAQ,MADM60C,EAAUltC,KAAK3H,GAE/B,EA4CA/kB,EAAQ+3C,cA/Dc,SAAShzB,EAAQtiB,GACrC,MAAMqX,EAAU,GAChB,IAAInb,EAAQ8D,EAAMiqB,KAAK3H,GACvB,KAAOpmB,GAAO,CACZ,MAAMq7D,EAAa,GACnBA,EAAW/e,WAAax4C,EAAMunD,UAAYrrD,EAAM,GAAGF,OACnD,MAAM8iB,EAAM5iB,EAAMF,OAClB,IAAK,IAAImM,EAAQ,EAAGA,EAAQ2W,EAAK3W,IAC/BovD,EAAW/6D,KAAKN,EAAMiM,IAExBkP,EAAQ7a,KAAK+6D,GACbr7D,EAAQ8D,EAAMiqB,KAAK3H,EACrB,CACA,OAAOjL,CACT,EAkDA9Z,EAAQ25D,WAAaA,C,4BC9CrB,IAAI11C,EAAW,EAAQ,MAEvB,SAASwnC,IACP7qD,KAAK6pB,SAAW,KAChB7pB,KAAKgqD,QAAU,KACfhqD,KAAKqgD,KAAO,KACZrgD,KAAKsqB,KAAO,KACZtqB,KAAKwqB,KAAO,KACZxqB,KAAKuqB,SAAW,KAChBvqB,KAAKonC,KAAO,KACZpnC,KAAKqqB,OAAS,KACdrqB,KAAKyqD,MAAQ,KACbzqD,KAAK8qD,SAAW,KAChB9qD,KAAKyqB,KAAO,KACZzqB,KAAK29B,KAAO,IACd,CAQA,IAAI07B,EAAkB,oBACpBC,EAAc,WAGdC,EAAoB,oCAWpBC,EAAS,CACP,IAAK,IAAK,IAAK,KAAM,IAAK,KAC1Bv2D,OAPO,CACP,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,OASvCw2D,EAAa,CAAC,KAAMx2D,OAAOu2D,GAO3BE,EAAe,CACb,IAAK,IAAK,IAAK,IAAK,KACpBz2D,OAAOw2D,GACTE,EAAkB,CAChB,IAAK,IAAK,KAGZC,EAAsB,yBACtBC,EAAoB,+BAEpBC,EAAiB,CACfC,YAAY,EACZ,eAAe,GAGjBC,EAAmB,CACjBD,YAAY,EACZ,eAAe,GAGjBE,EAAkB,CAChBxwC,MAAM,EACNC,OAAO,EACPwwC,KAAK,EACLC,QAAQ,EACRj0D,MAAM,EACN,SAAS,EACT,UAAU,EACV,QAAQ,EACR,WAAW,EACX,SAAS,GAEXk0D,EAAc,EAAQ,OAExB,SAASC,EAASjjD,EAAKkjD,EAAkBC,GACvC,GAAInjD,GAAsB,iBAARA,GAAoBA,aAAeyzC,EAAO,OAAOzzC,EAEnE,IAAIg8C,EAAI,IAAIvI,EAEZ,OADAuI,EAAEhlD,MAAMgJ,EAAKkjD,EAAkBC,GACxBnH,CACT,CAEAvI,EAAInnD,UAAU0K,MAAQ,SAAUgJ,EAAKkjD,EAAkBC,GACrD,GAAmB,iBAARnjD,EACT,MAAM,IAAItZ,UAAU,gDAAkDsZ,GAQxE,IAAIojD,EAAapjD,EAAIlS,QAAQ,KAC3Bu1D,GAA2B,IAAhBD,GAAqBA,EAAapjD,EAAIlS,QAAQ,KAAO,IAAM,IACtEw1D,EAAStjD,EAAI3Y,MAAMg8D,GAErBC,EAAO,GAAKA,EAAO,GAAGx8D,QADP,MAC2B,KAG1C,IAAI+sD,EAFJ7zC,EAAMsjD,EAAOn8D,KAAKk8D,GAUlB,GAFAxP,EAAOA,EAAKr+C,QAEP2tD,GAA+C,IAA1BnjD,EAAI3Y,MAAM,KAAKZ,OAAc,CAErD,IAAI88D,EAAapB,EAAkBztC,KAAKm/B,GACxC,GAAI0P,EAeF,OAdA36D,KAAKyqB,KAAOwgC,EACZjrD,KAAK29B,KAAOstB,EACZjrD,KAAK8qD,SAAW6P,EAAW,GACvBA,EAAW,IACb36D,KAAKqqB,OAASswC,EAAW,GAEvB36D,KAAKyqD,MADH6P,EACWF,EAAYhsD,MAAMpO,KAAKqqB,OAAO5mB,OAAO,IAErCzD,KAAKqqB,OAAO5mB,OAAO,IAEzB62D,IACTt6D,KAAKqqB,OAAS,GACdrqB,KAAKyqD,MAAQ,CAAC,GAETzqD,IAEX,CAEA,IAAIw1D,EAAQ6D,EAAgBvtC,KAAKm/B,GACjC,GAAIuK,EAAO,CAET,IAAIoF,GADJpF,EAAQA,EAAM,IACS/9C,cACvBzX,KAAK6pB,SAAW+wC,EAChB3P,EAAOA,EAAKxnD,OAAO+xD,EAAM33D,OAC3B,CAQA,GAAI08D,GAAqB/E,GAASvK,EAAKltD,MAAM,sBAAuB,CAClE,IAAIisD,EAAgC,OAAtBiB,EAAKxnD,OAAO,EAAG,IACzBumD,GAAawL,GAASwE,EAAiBxE,KACzCvK,EAAOA,EAAKxnD,OAAO,GACnBzD,KAAKgqD,SAAU,EAEnB,CAEA,IAAKgQ,EAAiBxE,KAAWxL,GAAYwL,IAAUyE,EAAgBzE,IAAU,CAuB/E,IADA,IAUInV,EAAMwa,EAVNC,GAAW,EACN38D,EAAI,EAAGA,EAAIw7D,EAAgB97D,OAAQM,KAE7B,KADT48D,EAAM9P,EAAK/lD,QAAQy0D,EAAgBx7D,QACP,IAAb28D,GAAkBC,EAAMD,KAAYA,EAAUC,GA+BnE,KARgB,KAbdF,GAFe,IAAbC,EAEO7P,EAAKplC,YAAY,KAMjBolC,EAAKplC,YAAY,IAAKi1C,MAQ/Bza,EAAO4K,EAAKrsD,MAAM,EAAGi8D,GACrB5P,EAAOA,EAAKrsD,MAAMi8D,EAAS,GAC3B76D,KAAKqgD,KAAO7c,mBAAmB6c,IAIjCya,GAAW,EACF38D,EAAI,EAAGA,EAAIu7D,EAAa77D,OAAQM,IAAK,CAC5C,IAAI48D,GACS,KADTA,EAAM9P,EAAK/lD,QAAQw0D,EAAav7D,QACJ,IAAb28D,GAAkBC,EAAMD,KAAYA,EAAUC,EACnE,EAEiB,IAAbD,IAAkBA,EAAU7P,EAAKptD,QAErCmC,KAAKsqB,KAAO2gC,EAAKrsD,MAAM,EAAGk8D,GAC1B7P,EAAOA,EAAKrsD,MAAMk8D,GAGlB96D,KAAKg7D,YAMLh7D,KAAKuqB,SAAWvqB,KAAKuqB,UAAY,GAMjC,IAAI0wC,EAAoC,MAArBj7D,KAAKuqB,SAAS,IAA0D,MAA5CvqB,KAAKuqB,SAASvqB,KAAKuqB,SAAS1sB,OAAS,GAGpF,IAAKo9D,EAEH,IADA,IAAIC,EAAYl7D,KAAKuqB,SAAS9rB,MAAM,MACpB+U,GAAPrV,EAAI,EAAO+8D,EAAUr9D,QAAQM,EAAIqV,EAAGrV,IAAK,CAChD,IAAIs2B,EAAOymC,EAAU/8D,GACrB,GAAKs2B,IACAA,EAAK12B,MAAM67D,GAAsB,CAEpC,IADA,IAAIuB,EAAU,GACLz2D,EAAI,EAAGwgB,EAAIuP,EAAK52B,OAAQ6G,EAAIwgB,EAAGxgB,IAClC+vB,EAAK7a,WAAWlV,GAAK,IAMvBy2D,GAAW,IAEXA,GAAW1mC,EAAK/vB,GAIpB,IAAKy2D,EAAQp9D,MAAM67D,GAAsB,CACvC,IAAIwB,EAAaF,EAAUt8D,MAAM,EAAGT,GAChCk9D,EAAUH,EAAUt8D,MAAMT,EAAI,GAC9Bm9D,EAAM7mC,EAAK12B,MAAM87D,GACjByB,IACFF,EAAW/8D,KAAKi9D,EAAI,IACpBD,EAAQxmC,QAAQymC,EAAI,KAElBD,EAAQx9D,SACVotD,EAAO,IAAMoQ,EAAQ98D,KAAK,KAAO0sD,GAEnCjrD,KAAKuqB,SAAW6wC,EAAW78D,KAAK,KAChC,KACF,CACF,CACF,CAGEyB,KAAKuqB,SAAS1sB,OAjOH,IAkObmC,KAAKuqB,SAAW,GAGhBvqB,KAAKuqB,SAAWvqB,KAAKuqB,SAAS9S,cAG3BwjD,IAOHj7D,KAAKuqB,SAAWlH,EAASk4C,QAAQv7D,KAAKuqB,WAGxC,IAAI/B,EAAIxoB,KAAKwqB,KAAO,IAAMxqB,KAAKwqB,KAAO,GAClCgxC,EAAIx7D,KAAKuqB,UAAY,GACzBvqB,KAAKsqB,KAAOkxC,EAAIhzC,EAChBxoB,KAAK29B,MAAQ39B,KAAKsqB,KAMd2wC,IACFj7D,KAAKuqB,SAAWvqB,KAAKuqB,SAAS9mB,OAAO,EAAGzD,KAAKuqB,SAAS1sB,OAAS,GAC/C,MAAZotD,EAAK,KACPA,EAAO,IAAMA,GAGnB,CAMA,IAAK6O,EAAec,GAOlB,IAASz8D,EAAI,EAAGqV,EAAIimD,EAAW57D,OAAQM,EAAIqV,EAAGrV,IAAK,CACjD,IAAIs9D,EAAKhC,EAAWt7D,GACpB,IAA0B,IAAtB8sD,EAAK/lD,QAAQu2D,GAAjB,CACA,IAAIC,EAAM76B,mBAAmB46B,GACzBC,IAAQD,IACVC,EAAMlpD,OAAOipD,IAEfxQ,EAAOA,EAAKxsD,MAAMg9D,GAAIl9D,KAAKm9D,EALc,CAM3C,CAIF,IAAIt0B,EAAO6jB,EAAK/lD,QAAQ,MACV,IAAVkiC,IAEFpnC,KAAKonC,KAAO6jB,EAAKxnD,OAAO2jC,GACxB6jB,EAAOA,EAAKrsD,MAAM,EAAGwoC,IAEvB,IAAIu0B,EAAK1Q,EAAK/lD,QAAQ,KAmBtB,IAlBY,IAARy2D,GACF37D,KAAKqqB,OAAS4gC,EAAKxnD,OAAOk4D,GAC1B37D,KAAKyqD,MAAQQ,EAAKxnD,OAAOk4D,EAAK,GAC1BrB,IACFt6D,KAAKyqD,MAAQ2P,EAAYhsD,MAAMpO,KAAKyqD,QAEtCQ,EAAOA,EAAKrsD,MAAM,EAAG+8D,IACZrB,IAETt6D,KAAKqqB,OAAS,GACdrqB,KAAKyqD,MAAQ,CAAC,GAEZQ,IAAQjrD,KAAK8qD,SAAWG,GACxBgP,EAAgBW,IAAe56D,KAAKuqB,WAAavqB,KAAK8qD,WACxD9qD,KAAK8qD,SAAW,KAId9qD,KAAK8qD,UAAY9qD,KAAKqqB,OAAQ,CAC5B7B,EAAIxoB,KAAK8qD,UAAY,GAAzB,IACIviC,EAAIvoB,KAAKqqB,QAAU,GACvBrqB,KAAKyqB,KAAOjC,EAAID,CAClB,CAIA,OADAvoB,KAAK29B,KAAO39B,KAAKgB,SACVhB,IACT,EAeA6qD,EAAInnD,UAAU1C,OAAS,WACrB,IAAIq/C,EAAOrgD,KAAKqgD,MAAQ,GACpBA,IAEFA,GADAA,EAAOxf,mBAAmBwf,IACdniD,QAAQ,OAAQ,KAC5BmiD,GAAQ,KAGV,IAAIx2B,EAAW7pB,KAAK6pB,UAAY,GAC9BihC,EAAW9qD,KAAK8qD,UAAY,GAC5B1jB,EAAOpnC,KAAKonC,MAAQ,GACpB9c,GAAO,EACPmgC,EAAQ,GAENzqD,KAAKsqB,KACPA,EAAO+1B,EAAOrgD,KAAKsqB,KACVtqB,KAAKuqB,WACdD,EAAO+1B,IAAwC,IAAhCrgD,KAAKuqB,SAASrlB,QAAQ,KAAclF,KAAKuqB,SAAW,IAAMvqB,KAAKuqB,SAAW,KACrFvqB,KAAKwqB,OACPF,GAAQ,IAAMtqB,KAAKwqB,OAInBxqB,KAAKyqD,OAA+B,iBAAfzqD,KAAKyqD,OAAsBnqD,OAAOC,KAAKP,KAAKyqD,OAAO5sD,SAC1E4sD,EAAQ2P,EAAY31B,UAAUzkC,KAAKyqD,MAAO,CACxCmR,YAAa,SACbC,gBAAgB,KAIpB,IAAIxxC,EAASrqB,KAAKqqB,QAAWogC,GAAU,IAAMA,GAAW,GAuBxD,OArBI5gC,GAAoC,MAAxBA,EAASpmB,QAAQ,KAAcomB,GAAY,KAMvD7pB,KAAKgqD,WAAangC,GAAYowC,EAAgBpwC,MAAuB,IAATS,GAC9DA,EAAO,MAAQA,GAAQ,IACnBwgC,GAAmC,MAAvBA,EAAS5+B,OAAO,KAAc4+B,EAAW,IAAMA,IACrDxgC,IACVA,EAAO,IAGL8c,GAA2B,MAAnBA,EAAKlb,OAAO,KAAckb,EAAO,IAAMA,GAC/C/c,GAA+B,MAArBA,EAAO6B,OAAO,KAAc7B,EAAS,IAAMA,GAOlDR,EAAWS,GALlBwgC,EAAWA,EAAS5sD,QAAQ,QAAS,SAAUH,GAC7C,OAAO8iC,mBAAmB9iC,EAC5B,KACAssB,EAASA,EAAOnsB,QAAQ,IAAK,QAEgBkpC,CAC/C,EAMAyjB,EAAInnD,UAAUoU,QAAU,SAAUwU,GAChC,OAAOtsB,KAAK87D,cAAczB,EAAS/tC,GAAU,GAAO,IAAOtrB,QAC7D,EAOA6pD,EAAInnD,UAAUo4D,cAAgB,SAAUxvC,GACtC,GAAwB,iBAAbA,EAAuB,CAChC,IAAIyvC,EAAM,IAAIlR,EACdkR,EAAI3tD,MAAMke,GAAU,GAAO,GAC3BA,EAAWyvC,CACb,CAIA,IAFA,IAAIh5D,EAAS,IAAI8nD,EACbmR,EAAQ17D,OAAOC,KAAKP,MACfi8D,EAAK,EAAGA,EAAKD,EAAMn+D,OAAQo+D,IAAM,CACxC,IAAIC,EAAOF,EAAMC,GACjBl5D,EAAOm5D,GAAQl8D,KAAKk8D,EACtB,CASA,GAHAn5D,EAAOqkC,KAAO9a,EAAS8a,KAGD,KAAlB9a,EAASqR,KAEX,OADA56B,EAAO46B,KAAO56B,EAAO/B,SACd+B,EAIT,GAAIupB,EAAS09B,UAAY19B,EAASzC,SAAU,CAG1C,IADA,IAAIsyC,EAAQ77D,OAAOC,KAAK+rB,GACf8vC,EAAK,EAAGA,EAAKD,EAAMt+D,OAAQu+D,IAAM,CACxC,IAAIC,EAAOF,EAAMC,GACJ,aAATC,IAAuBt5D,EAAOs5D,GAAQ/vC,EAAS+vC,GACrD,CASA,OANIpC,EAAgBl3D,EAAO8mB,WAAa9mB,EAAOwnB,WAAaxnB,EAAO+nD,WACjE/nD,EAAO+nD,SAAW,IAClB/nD,EAAO0nB,KAAO1nB,EAAO+nD,UAGvB/nD,EAAO46B,KAAO56B,EAAO/B,SACd+B,CACT,CAEA,GAAIupB,EAASzC,UAAYyC,EAASzC,WAAa9mB,EAAO8mB,SAAU,CAW9D,IAAKowC,EAAgB3tC,EAASzC,UAAW,CAEvC,IADA,IAAItpB,EAAOD,OAAOC,KAAK+rB,GACd9d,EAAI,EAAGA,EAAIjO,EAAK1C,OAAQ2Q,IAAK,CACpC,IAAI0W,EAAI3kB,EAAKiO,GACbzL,EAAOmiB,GAAKoH,EAASpH,EACvB,CAEA,OADAniB,EAAO46B,KAAO56B,EAAO/B,SACd+B,CACT,CAGA,GADAA,EAAO8mB,SAAWyC,EAASzC,SACtByC,EAAShC,MAAS0vC,EAAiB1tC,EAASzC,UAS/C9mB,EAAO+nD,SAAWx+B,EAASw+B,aAT+B,CAE1D,IADA,IAAIwR,GAAWhwC,EAASw+B,UAAY,IAAIrsD,MAAM,KACvC69D,EAAQz+D,UAAYyuB,EAAShC,KAAOgyC,EAAQr+D,WAC9CquB,EAAShC,OAAQgC,EAAShC,KAAO,IACjCgC,EAAS/B,WAAY+B,EAAS/B,SAAW,IAC3B,KAAf+xC,EAAQ,IAAaA,EAAQznC,QAAQ,IACrCynC,EAAQz+D,OAAS,GAAKy+D,EAAQznC,QAAQ,IAC1C9xB,EAAO+nD,SAAWwR,EAAQ/9D,KAAK,IACjC,CAUA,GAPAwE,EAAOsnB,OAASiC,EAASjC,OACzBtnB,EAAO0nD,MAAQn+B,EAASm+B,MACxB1nD,EAAOunB,KAAOgC,EAAShC,MAAQ,GAC/BvnB,EAAOs9C,KAAO/zB,EAAS+zB,KACvBt9C,EAAOwnB,SAAW+B,EAAS/B,UAAY+B,EAAShC,KAChDvnB,EAAOynB,KAAO8B,EAAS9B,KAEnBznB,EAAO+nD,UAAY/nD,EAAOsnB,OAAQ,CACpC,IAAI7B,EAAIzlB,EAAO+nD,UAAY,GACvBviC,EAAIxlB,EAAOsnB,QAAU,GACzBtnB,EAAO0nB,KAAOjC,EAAID,CACpB,CAGA,OAFAxlB,EAAOinD,QAAUjnD,EAAOinD,SAAW19B,EAAS09B,QAC5CjnD,EAAO46B,KAAO56B,EAAO/B,SACd+B,CACT,CAEA,IAAIw5D,EAAcx5D,EAAO+nD,UAA0C,MAA9B/nD,EAAO+nD,SAAS5+B,OAAO,GAC1DswC,EAAWlwC,EAAShC,MAAQgC,EAASw+B,UAA4C,MAAhCx+B,EAASw+B,SAAS5+B,OAAO,GAC1EuwC,EAAaD,GAAYD,GAAgBx5D,EAAOunB,MAAQgC,EAASw+B,SACjE4R,EAAgBD,EAChBE,EAAU55D,EAAO+nD,UAAY/nD,EAAO+nD,SAASrsD,MAAM,MAAQ,GAE3Dm+D,GADAN,EAAUhwC,EAASw+B,UAAYx+B,EAASw+B,SAASrsD,MAAM,MAAQ,GACnDsE,EAAO8mB,WAAaowC,EAAgBl3D,EAAO8mB,WA2BzD,GAlBI+yC,IACF75D,EAAOwnB,SAAW,GAClBxnB,EAAOynB,KAAO,KACVznB,EAAOunB,OACU,KAAfqyC,EAAQ,GAAaA,EAAQ,GAAK55D,EAAOunB,KAAeqyC,EAAQ9nC,QAAQ9xB,EAAOunB,OAErFvnB,EAAOunB,KAAO,GACVgC,EAASzC,WACXyC,EAAS/B,SAAW,KACpB+B,EAAS9B,KAAO,KACZ8B,EAAShC,OACQ,KAAfgyC,EAAQ,GAAaA,EAAQ,GAAKhwC,EAAShC,KAAegyC,EAAQznC,QAAQvI,EAAShC,OAEzFgC,EAAShC,KAAO,MAElBmyC,EAAaA,IAA8B,KAAfH,EAAQ,IAA4B,KAAfK,EAAQ,KAGvDH,EAEFz5D,EAAOunB,KAAOgC,EAAShC,MAA0B,KAAlBgC,EAAShC,KAAcgC,EAAShC,KAAOvnB,EAAOunB,KAC7EvnB,EAAOwnB,SAAW+B,EAAS/B,UAAkC,KAAtB+B,EAAS/B,SAAkB+B,EAAS/B,SAAWxnB,EAAOwnB,SAC7FxnB,EAAOsnB,OAASiC,EAASjC,OACzBtnB,EAAO0nD,MAAQn+B,EAASm+B,MACxBkS,EAAUL,OAEL,GAAIA,EAAQz+D,OAKZ8+D,IAAWA,EAAU,IAC1BA,EAAQ5gD,MACR4gD,EAAUA,EAAQ15D,OAAOq5D,GACzBv5D,EAAOsnB,OAASiC,EAASjC,OACzBtnB,EAAO0nD,MAAQn+B,EAASm+B,WACnB,GAAuB,MAAnBn+B,EAASjC,OA4BlB,OAtBIuyC,IACF75D,EAAOunB,KAAOqyC,EAAQ1+D,QACtB8E,EAAOwnB,SAAWxnB,EAAOunB,MAMrBuyC,KAAa95D,EAAOunB,MAAQvnB,EAAOunB,KAAKplB,QAAQ,KAAO,IAAInC,EAAOunB,KAAK7rB,MAAM,QAE/EsE,EAAOs9C,KAAOwc,EAAW5+D,QACzB8E,EAAOwnB,SAAWsyC,EAAW5+D,QAC7B8E,EAAOunB,KAAOvnB,EAAOwnB,WAGzBxnB,EAAOsnB,OAASiC,EAASjC,OACzBtnB,EAAO0nD,MAAQn+B,EAASm+B,MAEA,OAApB1nD,EAAO+nD,UAAuC,OAAlB/nD,EAAOsnB,SACrCtnB,EAAO0nB,MAAQ1nB,EAAO+nD,SAAW/nD,EAAO+nD,SAAW,KAAO/nD,EAAOsnB,OAAStnB,EAAOsnB,OAAS,KAE5FtnB,EAAO46B,KAAO56B,EAAO/B,SACd+B,EAGT,IAAK45D,EAAQ9+D,OAaX,OARAkF,EAAO+nD,SAAW,KAEd/nD,EAAOsnB,OACTtnB,EAAO0nB,KAAO,IAAM1nB,EAAOsnB,OAE3BtnB,EAAO0nB,KAAO,KAEhB1nB,EAAO46B,KAAO56B,EAAO/B,SACd+B,EAgBT,IARA,IAAIyf,EAAOm6C,EAAQ/9D,OAAO,GAAG,GACzBk+D,GAAoB/5D,EAAOunB,MAAQgC,EAAShC,MAAQqyC,EAAQ9+D,OAAS,KAAgB,MAAT2kB,GAAyB,OAATA,IAA2B,KAATA,EAM9GipC,EAAK,EACAttD,EAAIw+D,EAAQ9+D,OAAQM,GAAK,EAAGA,IAEtB,OADbqkB,EAAOm6C,EAAQx+D,IAEbw+D,EAAQ72C,OAAO3nB,EAAG,GACA,OAATqkB,GACTm6C,EAAQ72C,OAAO3nB,EAAG,GAClBstD,KACSA,IACTkR,EAAQ72C,OAAO3nB,EAAG,GAClBstD,KAKJ,IAAKgR,IAAeC,EAClB,KAAOjR,IAAMA,EACXkR,EAAQ9nC,QAAQ,OAIhB4nC,GAA6B,KAAfE,EAAQ,IAAeA,EAAQ,IAA+B,MAAzBA,EAAQ,GAAGzwC,OAAO,IACvEywC,EAAQ9nC,QAAQ,IAGdioC,GAAsD,MAAjCH,EAAQp+D,KAAK,KAAKkF,QAAQ,IACjDk5D,EAAQt+D,KAAK,IAGf,IAWMw+D,EAXF1wC,EAA4B,KAAfwwC,EAAQ,IAAcA,EAAQ,IAA+B,MAAzBA,EAAQ,GAAGzwC,OAAO,GAuCvE,OApCI0wC,IACF75D,EAAOwnB,SAAW4B,EAAa,GAAKwwC,EAAQ9+D,OAAS8+D,EAAQ1+D,QAAU,GACvE8E,EAAOunB,KAAOvnB,EAAOwnB,UAMjBsyC,KAAa95D,EAAOunB,MAAQvnB,EAAOunB,KAAKplB,QAAQ,KAAO,IAAInC,EAAOunB,KAAK7rB,MAAM,QAE/EsE,EAAOs9C,KAAOwc,EAAW5+D,QACzB8E,EAAOwnB,SAAWsyC,EAAW5+D,QAC7B8E,EAAOunB,KAAOvnB,EAAOwnB,YAIzBkyC,EAAaA,GAAe15D,EAAOunB,MAAQqyC,EAAQ9+D,UAEhCsuB,GACjBwwC,EAAQ9nC,QAAQ,IAGd8nC,EAAQ9+D,OAAS,EACnBkF,EAAO+nD,SAAW6R,EAAQp+D,KAAK,MAE/BwE,EAAO+nD,SAAW,KAClB/nD,EAAO0nB,KAAO,MAIQ,OAApB1nB,EAAO+nD,UAAuC,OAAlB/nD,EAAOsnB,SACrCtnB,EAAO0nB,MAAQ1nB,EAAO+nD,SAAW/nD,EAAO+nD,SAAW,KAAO/nD,EAAOsnB,OAAStnB,EAAOsnB,OAAS,KAE5FtnB,EAAOs9C,KAAO/zB,EAAS+zB,MAAQt9C,EAAOs9C,KACtCt9C,EAAOinD,QAAUjnD,EAAOinD,SAAW19B,EAAS09B,QAC5CjnD,EAAO46B,KAAO56B,EAAO/B,SACd+B,CACT,EAEA8nD,EAAInnD,UAAUs3D,UAAY,WACxB,IAAI1wC,EAAOtqB,KAAKsqB,KACZE,EAAO8uC,EAAYxtC,KAAKxB,GACxBE,IAEW,OADbA,EAAOA,EAAK,MAEVxqB,KAAKwqB,KAAOA,EAAK/mB,OAAO,IAE1B6mB,EAAOA,EAAK7mB,OAAO,EAAG6mB,EAAKzsB,OAAS2sB,EAAK3sB,SAEvCysB,IAAQtqB,KAAKuqB,SAAWD,EAC9B,EAEAlrB,EAAQgP,MAAQisD,EAChBj7D,EAAQ0Y,QA/SR,SAAoBiP,EAAQuF,GAC1B,OAAO+tC,EAAStzC,GAAQ,GAAO,GAAMjP,QAAQwU,EAC/C,EA8SAltB,EAAQ08D,cAxSR,SAA0B/0C,EAAQuF,GAChC,OAAKvF,EACEszC,EAAStzC,GAAQ,GAAO,GAAM+0C,cAAcxvC,GAD7BA,CAExB,EAsSAltB,EAAQ4B,OArXR,SAAmBghB,GAQjB,MADmB,iBAARA,IAAoBA,EAAMq4C,EAASr4C,IACxCA,aAAe6oC,EACd7oC,EAAIhhB,SADyB6pD,EAAInnD,UAAU1C,OAAOnC,KAAKmjB,EAEhE,EA6WA5iB,EAAQyrD,IAAMA,C,kLCztBP,SAASkS,EAAsB3zC,EAAgBxjB,EAASo3D,GAC3D,MAAM7H,GAAe,OAAa/rC,GAoBlC,OAnBA+rC,EAAa3uD,SAAU,OAAaZ,EAAQY,QAAS2uD,EAAa3uD,SAAW,CAAC,EAAGw2D,EAAYx2D,SAAW,CAAC,QACzE,IAArBw2D,EAAY12D,OACnB6uD,EAAa7uD,KAAO02D,EAAY12D,MAEhC02D,EAAY3b,SACZ8T,EAAa9T,OAAS2b,EAAY3b,QAElCz7C,EAAQ8xD,YACRvC,EAAauC,UAAY9xD,EAAQ8xD,WAEjC9xD,EAAQ+xD,aACRxC,EAAawC,WAAa/xD,EAAQ+xD,YAElC/xD,EAAQC,SACRsvD,EAAa8H,QAAUr3D,EAAQC,QAEI,kBAA5BD,EAAQ87C,kBACfyT,EAAazT,gBAAkB97C,EAAQ87C,iBAEpCyT,CACX,CACOhlD,eAAe2Z,EAAQV,EAAgBxjB,GAC1C,OAAIA,EAAQutB,WAAa,KAASoO,KAQtCpxB,eAA2BiZ,EAAgBxjB,GACvC,MAAMP,QAAiB63D,EAAgB9zC,GACvC,OAAI/jB,EAAS83D,IACTv3D,EAAQutB,SAAW,KAASE,SACrBhuB,GAEY,KAAnBA,EAASI,SAAiB,QAA4BJ,IACtDO,EAAQutB,SAAW,KAASqO,QAC5B,OAAU57B,EAASA,EAAQsxB,SAAUtxB,EAAQuxB,cAAUj0B,OAAWA,GAClEkmB,EAAe6zC,QAAUr3D,EAAQC,OAC1Bu3D,EAAch0C,IAElB/jB,CACX,CApBeg4D,CAAYj0C,EAAgBxjB,GAEnCwjB,EAAe6zC,QACRG,EAAch0C,GAElB8zC,EAAgB9zC,EAC3B,CAeAjZ,eAAeitD,EAAch0C,GAEzB,MAAM6zC,EAAU7zC,EAAe6zC,eACxB7zC,EAAe6zC,QAElBA,EAAQK,gBACRl0C,GAAiB,OAAMA,EAAgB,CACnC5iB,QAAS,CACL+sB,eAAe,QAAyBnK,EAAgB6zC,OAKpE,MAAM53D,QAAiB63D,EAAgB9zC,GACvC,GAAuB,KAAnB/jB,EAASI,QAET,GADAw3D,EAAQK,eAAgB,QAAgBj4D,EAAU43D,GAC9CA,EAAQK,cAAe,CACvBl0C,GAAiB,OAAMA,EAAgB,CACnC5iB,QAAS,CACL+sB,eAAe,QAAyBnK,EAAgB6zC,MAGhE,MAAMM,QAAkBL,EAAgB9zC,GAOxC,OANwB,KAApBm0C,EAAU93D,OACVw3D,EAAQK,eAAgB,EAGxBL,EAAQO,KAELD,CACX,OAGAN,EAAQO,KAEZ,OAAOn4D,CACX,CACA,SAAS63D,EAAgB9zC,GACrB,MAAMq0C,GAAU,SAChB,OAAOA,EAAQnlC,YAAY,UAAYn2B,GAAYs7D,EAAQnlC,YAAY,QAAS,KAAOn2B,EAAQiV,IAxHnG,SAAyBgS,GACrB,IAAI5iB,EAAU,CAAC,EAEf,MAAM0jB,EAAO,CACTZ,OAAQF,EAAeE,QAK3B,GAHIF,EAAe5iB,UACfA,GAAU,OAAaA,EAAS4iB,EAAe5iB,eAEhB,IAAxB4iB,EAAe9iB,KAAsB,CAC5C,MAAOgS,EAAMolD,IAAc,OAAuBt0C,EAAe9iB,MACjE4jB,EAAK5R,KAAOA,EACZ9R,GAAU,OAAaA,EAASk3D,EACpC,CAoBA,OAnBIt0C,EAAei4B,SACfn3B,EAAKm3B,OAASj4B,EAAei4B,QAE7Bj4B,EAAes4B,kBACfx3B,EAAKu3B,YAAc,YAGlB,YAAY,YACTr4B,EAAesuC,WAAatuC,EAAeuuC,cAC3CztC,EAAKyzC,MAASC,GACiB,UAAvBA,EAAU/zC,SACHT,EAAesuC,WAAa,IAAI,QAEpCtuC,EAAeuuC,YAAc,IAAI,SAKpDztC,EAAK1jB,QAAUA,EACR0jB,CACX,CAsFwG2zC,CAAgB17D,IAAWinB,EACnI,C,4BCpIO,SAAS00C,EAAwBj0D,GACpC,MAAO,GAAGA,EAAMk0D,cAAcl0D,EAAMm0D,cACxC,C,mHCEO,SAASC,EAAoB/mC,EAAUC,EAAUyI,GACpD,MAAO,CAAE1I,WAAUC,WAAUyI,MAAK49B,GAAI,EAAGl+B,UAAW,MAAOg+B,eAAe,EAC9E,CACO,SAASY,EAAyB/7D,EAAS0D,GAC9C,MAAMuR,EAAMjV,EAAQiV,IAAIlZ,QAAQ,KAAM,IAChCigE,GAA2B,GAArB/mD,EAAIlS,QAAQ,KAAa,IAAMkS,EAAIxY,MAAMwY,EAAIlS,QAAQ,MAC3DokB,EAASnnB,EAAQmnB,OAASnnB,EAAQmnB,OAAOoB,cAAgB,MACzD0zC,IAAM,uBAAuBl3D,KAAKrB,EAAOu4D,MAAO,OAChDC,EAAW,WAAWx4D,EAAO23D,KAAK5+D,OAAO,GACzCghC,GAAM,OAAW/5B,EAAOy5B,UAAWz5B,EAAOqxB,SAAUrxB,EAAO25B,MAAO35B,EAAOsxB,SAAUtxB,EAAO65B,MAAO75B,EAAO85B,OAAQ95B,EAAO+5B,KACvH0+B,EAAM,EAAI,GAAGh1C,KAAU60C,KACvBI,EACA,EADiBH,EACb,GAAGx+B,KAAO/5B,EAAO65B,SAAS2+B,KAAYx4D,EAAO85B,UAAUy+B,KAAOE,IAC9D,GAAG1+B,KAAO/5B,EAAO65B,SAAS4+B,KAC9BE,EAAa,CACftnC,SAAUrxB,EAAOqxB,SACjBsI,MAAO35B,EAAO25B,MACdE,MAAO75B,EAAO65B,MACdy+B,MACAC,MACA/4D,SAAUk5D,EACVf,GAAIa,EACJ1+B,OAAQ95B,EAAO85B,OACfL,UAAWz5B,EAAOy5B,UAClBm/B,OAAQ54D,EAAO44D,QAEbC,EAAa,GACnB,IAAK,MAAMx5C,KAAKs5C,EACRA,EAAWt5C,KACD,QAANA,GAAqB,OAANA,GAAoB,cAANA,EAC7Bw5C,EAAWrgE,KAAK,GAAG6mB,KAAKs5C,EAAWt5C,MAGnCw5C,EAAWrgE,KAAK,GAAG6mB,MAAMs5C,EAAWt5C,QAIhD,MAAO,UAAUw5C,EAAWngE,KAAK,OACrC,CAQO,SAASogE,EAAgBt5D,EAAU43D,GAEtC,IADiB2B,EAA4Bv5D,GAEzC,OAAO,EAEX,MAAM2D,EAAK,8CACX,OAAS,CACL,MAAM01D,EAAcr5D,EAASmB,SAAWnB,EAASmB,QAAQ9G,IAAI,qBAAwB,GAC/E3B,EAAQiL,EAAG8iB,KAAK4yC,GACtB,IAAK3gE,EACD,MAEJk/D,EAAQl/D,EAAM,IAAMA,EAAM,IAAMA,EAAM,EAC1C,CAGA,OAFAk/D,EAAQO,IAAM,EACdP,EAAQt9B,OAtBZ,WACI,IAAIk/B,EAAM,GACV,IAAK,IAAI1gE,EAAI,EAAGA,EA1CD,KA0CmBA,EAC9B0gE,EAAM,GAAGA,IA5CG,mBA4Cej7C,KAAKD,MAAsBm7C,GAAhBl7C,KAAK6rC,aAE/C,OAAOoP,CACX,CAgBqBE,IACV,CACX,CACO,SAASH,EAA4Bv5D,GAExC,MAAmD,YAD/BA,EAASmB,SAAWnB,EAASmB,QAAQ9G,IAAI,qBAAwB,IACnEjB,MAAM,MAAM,GAAGgZ,aACrC,C,sFCnEIunD,E,4CAmCJ,SAASC,EAAkBj9C,EAAKxH,EAAMlI,EAAO0sD,EAAaE,UACtD,MAAM/+D,EAAM,MAAe6hB,EAAKxH,GAChC,MAAa,UAATlI,IAA2C,IAAvBzO,MAAMC,QAAQ3D,GAC3B,CAACA,GAEM,WAATmS,GAAqBzO,MAAMC,QAAQ3D,GACjCA,EAAI,GAERA,CACX,CAsCO,SAASqgC,EAAS1C,GACrB,OAAO,IAAIjmB,QAAQC,IAEfA,EA5BR,SAAyB/U,GACrB,MAAM,YAAEuX,GAAgBvX,EACxB,GAAoB,KAAhBuX,EACA,MAAO,CACHA,YAAa,CACTjV,SAAU,KAItB,IAAKiV,EACD,MAAM,IAAI9U,MAAM,+CAEpB,MAAM8e,EAAS,CACXhK,YAAazW,MAAMC,QAAQwW,GAAeA,EAAY,GAAKA,GAI/D,OAFA,MAAegK,EAAQ,uBAAwB26C,EAAkB36C,EAAQ,uBAAwB06C,EAAan7D,QAC9G,MAAeygB,EAAQ,uBAAwB,MAAeA,EAAQ,wBAAwBlX,IAAI/H,GA5BtG,SAA2BA,GACvB,MAAMif,EAAShkB,OAAO8B,OAAO,CAAC,EAAGiD,GASjC,OAPIif,EAAO7e,OACP,MAAe6e,EAAQ,SAAU26C,EAAkB36C,EAAQ,SAAU06C,EAAa1+D,UAGlF,MAAegkB,EAAQ,WAAY26C,EAAkB36C,EAAQ,WAAY06C,EAAa1+D,SACtF,MAAegkB,EAAQ,gBAAiB26C,EAAkB36C,EAAQ,gBAAiB06C,EAAa1+D,UAE7FgkB,CACX,CAiBkH66C,CAAkB95D,KACzHif,CACX,CAUgB86C,CA9EL,IAAI,EAAA9wC,UAAU,CACjBmpB,wBAAwB,EACxB92C,oBAAqB,GACrBE,aAAc,OACdC,kBAAkB,EAClBi9B,gBAAgB,EAChB+Y,mBAAoB,CAChB5G,KAAK,EACLC,cAAc,GAElB5uC,wBAAuB,CAACC,EAAU69D,EAAWr7D,IAEvB,SAAdq7D,GAAsC,UAAdA,EACH,SAAdA,EAEJA,EAEX,iBAAAh+D,CAAkBqO,EAAS4zC,EAAUt/C,GACjC,IAAIA,EAAM06B,SAAS,6BAInB,OAAO4kB,CACX,IAsD2Bl1C,MAAM0vB,MAGzC,CAQO,SAASwC,EAAqBvuB,EAAO5L,EAAUI,GAAa,GAE/D,MAAQ+4D,gBAAiBC,EAAU,KAAMC,iBAAkBC,EAAU,IAAKC,aAAcluD,EAAe,KAAMmuD,eAAgBvmD,EAAW,KAAMwmD,QAASC,EAAO,MAAS9tD,EACjKO,EAAOd,GACe,iBAAjBA,QAC4B,IAA5BA,EAAasuD,WAClB,YACA,OACA1/B,EAAO,CACTj6B,WACA+mB,SAAU,WAAc/mB,GACxB45D,QAASR,EACTjW,KAAM1uC,SAAS6kD,EAAS,IACxBntD,OACAutD,KAAsB,iBAATA,EAAoBA,EAAK3hE,QAAQ,KAAM,IAAM,MAY9D,MAVa,SAAToU,IACA8tB,EAAK4/B,KAAO5mD,GAAgC,iBAAbA,EAAwBA,EAAS3a,MAAM,KAAK,GAAK,IAEhF8H,SAEiC,IAAtBwL,EAAMkuD,cACbluD,EAAMkuD,YAAcplD,OAAO9I,EAAMkuD,cAErC7/B,EAAKruB,MAAQA,GAEVquB,CACX,CASO,SAAS8/B,EAAUn9D,EAAQoD,EAAUI,GAAa,GACrD,IAAI8T,EAAe,KACnB,IAEQtX,EAAOuX,YAAYjV,SAAS,GAAGkV,WAC/BF,EAAetX,EAAOuX,YAAYjV,SAAS,GAEnD,CACA,MAAO0P,GAEP,CACA,IAAKsF,EACD,MAAM,IAAI7U,MAAM,0CAEpB,MAAQ+U,UAAYC,KAAMzI,EAAOtM,OAAQ06D,IAAiB9lD,GAEnDsH,EAAGy+C,EAAe16D,GAAcy6D,EAAW1hE,MAAM,IAAK,GACvD4Y,EAAauD,SAASwlD,EAAe,IAC3C,GAAI/oD,GAAc,IAAK,CACnB,MAAM9R,EAAM,IAAIC,MAAM,qBAAqB6R,KAAc3R,KAEzD,MADAH,EAAIE,OAAS4R,EACP9R,CACV,CAEA,OAAO+6B,EAAqBvuB,GADX,QAAc5L,GACcI,EACjD,CAQO,SAAS85D,EAAYt9D,EAAQqzD,EAAe7vD,GAC/C,MAAMlB,EAAW,CACbi7D,WAAW,EACXjK,QAAS,IAab,OAXAhxD,EAASi7D,UAAYv9D,EAAOuX,YAAYjV,SAASurD,KAAKpiD,GACc,SAAvDA,EAAE/I,QAAU+I,EAAE+L,UAAU9U,QAAQhH,MAAM,IAAK,KAAK,IACrD+P,EAAEmvB,KAAKz/B,QAAQ,MAAO,IAAIwgC,UAAS,QAAW03B,GAAel4D,QAAQ,MAAO,MAEpF6E,EAAOuX,YAAYjV,SAASkS,QAAQxU,IAChC,QAAwBG,IAApBH,EAAOwX,SACP,OAEJ,MAAMpU,EAAWpD,EAAO46B,KAAKl/B,MAAM,KAAK2O,IAAIo2B,oBAAoBjlC,KAAK,KACrE8G,EAASgxD,QAAQh4D,KAAKiiC,EAAqBv9B,EAAOwX,SAASC,KAAMrU,EAAUI,MAExElB,CACX,CAOO,SAASk7D,EAAmB3gE,GAC/B,OAAQib,OAAOjb,IACX,IAAK,KACD,MAAO,YACX,IAAK,KAEL,IAAK,KAED,MAAO,UACX,QACI,OAAOgb,SAASC,OAAOjb,GAAQ,IAE3C,EAvMA,SAAWo/D,GACPA,EAAoB,MAAI,QACxBA,EAAqB,OAAI,SACzBA,EAAuB,SAAI,UAC9B,CAJD,CAIGA,IAAiBA,EAAe,CAAC,G,uCCEpC7/D,EAAOC,QAAU,SAAkBorB,EAAMX,GAIvC,GAHAA,EAAWA,EAASprB,MAAM,KAAK,KAC/B+rB,GAAQA,GAEG,OAAO,EAElB,OAAQX,GACN,IAAK,OACL,IAAK,KACL,OAAgB,KAATW,EAEP,IAAK,QACL,IAAK,MACL,OAAgB,MAATA,EAEP,IAAK,MACL,OAAgB,KAATA,EAEP,IAAK,SACL,OAAgB,KAATA,EAEP,IAAK,OACL,OAAO,EAGT,OAAgB,IAATA,CACT,C,2CCrCO,SAASg2C,EAAYj7D,GACxB,IAAKgiC,EAAQhiC,GACT,MAAM,IAAIC,MAAM,6BAExB,CACO,SAAS+hC,EAAQhiC,GACpB,QAAWA,GACQ,iBAARA,GACiB,oBAGRyc,EAHDzc,EAIZjF,OAAOoD,UAAU6J,SAAS1O,KAAKmjB,KAHlCzc,aAAeC,MAEvB,IAAwBwc,CADxB,C,qCCTA,MAAMthB,EAAiB,CACnBe,eAAe,EACfd,oBAAqB,KACrBC,qBAAqB,EACrBC,aAAc,QACdC,kBAAkB,EAClBi9B,gBAAgB,EAChB0Z,wBAAwB,EAExBxZ,eAAe,EACfD,qBAAqB,EACrB4Y,YAAY,EACZ71C,eAAe,EACf+1C,mBAAoB,CAClB5G,KAAK,EACLC,cAAc,EACdE,WAAW,GAEbhvC,kBAAmB,SAASqO,EAASvP,GACnC,OAAOA,CACT,EACAoB,wBAAyB,SAASC,EAAUrB,GAC1C,OAAOA,CACT,EACA6B,UAAW,GACX0yD,sBAAsB,EACtB5wD,QAAS,KAAM,EACfpC,iBAAiB,EACjBC,aAAc,GACdI,iBAAiB,EACjBw3C,cAAc,EACdf,mBAAmB,EACnBC,cAAc,EACdR,kBAAkB,EAClBV,wBAAwB,EACxB6B,UAAW,SAAS1pC,EAAS1L,EAAOozC,GAClC,OAAO1nC,CACT,GAQJtQ,EAAQsU,aAJa,SAASvR,GAC1B,OAAO7B,OAAO8B,OAAO,CAAC,EAAG1B,EAAgByB,EAC7C,EAGA/C,EAAQsB,eAAiBA,C,4BCkBzBvB,EAAOC,QAAU6uD,EACjB,IAAI3wC,EAAiB,WACnBE,EAA6BF,EAAeE,2BAC5CC,EAAwBH,EAAeG,sBACvCgjD,EAAqCnjD,EAAemjD,mCACpDC,EAA8BpjD,EAAeojD,4BAC3C1kD,EAAS,EAAQ,OAErB,SAAS2kD,EAAeryD,EAAIhI,GAC1B,IAAIs6D,EAAK5gE,KAAK6gE,gBACdD,EAAGE,cAAe,EAClB,IAAItkD,EAAKokD,EAAGxhD,QACZ,GAAW,OAAP5C,EACF,OAAOxc,KAAKkX,KAAK,QAAS,IAAIuG,GAEhCmjD,EAAGG,WAAa,KAChBH,EAAGxhD,QAAU,KACD,MAAR9Y,GAEFtG,KAAK3B,KAAKiI,GACZkW,EAAGlO,GACH,IAAI0yD,EAAKhhE,KAAKshB,eACd0/C,EAAGpxC,SAAU,GACToxC,EAAGzlB,cAAgBylB,EAAGnjE,OAASmjE,EAAG5iD,gBACpCpe,KAAKsZ,MAAM0nD,EAAG5iD,cAElB,CACA,SAAS6vC,EAAU9rD,GACjB,KAAMnC,gBAAgBiuD,GAAY,OAAO,IAAIA,EAAU9rD,GACvD6Z,EAAOnd,KAAKmB,KAAMmC,GAClBnC,KAAK6gE,gBAAkB,CACrBF,eAAgBA,EAAelvC,KAAKzxB,MACpCihE,eAAe,EACfH,cAAc,EACd1hD,QAAS,KACT2hD,WAAY,KACZG,cAAe,MAIjBlhE,KAAKshB,eAAei6B,cAAe,EAKnCv7C,KAAKshB,eAAetC,MAAO,EACvB7c,IAC+B,mBAAtBA,EAAQg/D,YAA0BnhE,KAAKm3D,WAAah1D,EAAQg/D,WAC1C,mBAAlBh/D,EAAQi/D,QAAsBphE,KAAKqhE,OAASl/D,EAAQi/D,QAIjEphE,KAAKgX,GAAG,YAAaoK,EACvB,CACA,SAASA,IACP,IAAIjF,EAAQnc,KACe,mBAAhBA,KAAKqhE,QAA0BrhE,KAAKshB,eAAe5C,UAK5D7F,EAAK7Y,KAAM,KAAM,MAJjBA,KAAKqhE,OAAO,SAAU/yD,EAAIhI,GACxBuS,EAAKsD,EAAO7N,EAAIhI,EAClB,EAIJ,CAiDA,SAASuS,EAAK9C,EAAQzH,EAAIhI,GACxB,GAAIgI,EAAI,OAAOyH,EAAOmB,KAAK,QAAS5I,GAQpC,GAPY,MAARhI,GAEFyP,EAAO1X,KAAKiI,GAKVyP,EAAOoJ,eAAethB,OAAQ,MAAM,IAAI6iE,EAC5C,GAAI3qD,EAAO8qD,gBAAgBC,aAAc,MAAM,IAAIL,EACnD,OAAO1qD,EAAO1X,KAAK,KACrB,CArHA,EAAQ,MAAR,CAAoB4vD,EAAWjyC,GAyD/BiyC,EAAUvqD,UAAUrF,KAAO,SAAUuZ,EAAOgJ,GAE1C,OADA5gB,KAAK6gE,gBAAgBI,eAAgB,EAC9BjlD,EAAOtY,UAAUrF,KAAKQ,KAAKmB,KAAM4X,EAAOgJ,EACjD,EAYAqtC,EAAUvqD,UAAUyzD,WAAa,SAAUv/C,EAAOgJ,EAAUpE,GAC1DA,EAAG,IAAIgB,EAA2B,gBACpC,EACAywC,EAAUvqD,UAAUyc,OAAS,SAAUvI,EAAOgJ,EAAUpE,GACtD,IAAIokD,EAAK5gE,KAAK6gE,gBAId,GAHAD,EAAGxhD,QAAU5C,EACbokD,EAAGG,WAAanpD,EAChBgpD,EAAGM,cAAgBtgD,GACdggD,EAAGE,aAAc,CACpB,IAAIE,EAAKhhE,KAAKshB,gBACVs/C,EAAGK,eAAiBD,EAAGzlB,cAAgBylB,EAAGnjE,OAASmjE,EAAG5iD,gBAAepe,KAAKsZ,MAAM0nD,EAAG5iD,cACzF,CACF,EAKA6vC,EAAUvqD,UAAU4V,MAAQ,SAAUqM,GACpC,IAAIi7C,EAAK5gE,KAAK6gE,gBACQ,OAAlBD,EAAGG,YAAwBH,EAAGE,aAMhCF,EAAGK,eAAgB,GALnBL,EAAGE,cAAe,EAClB9gE,KAAKm3D,WAAWyJ,EAAGG,WAAYH,EAAGM,cAAeN,EAAGD,gBAMxD,EACA1S,EAAUvqD,UAAU6c,SAAW,SAAUhb,EAAKiX,GAC5CR,EAAOtY,UAAU6c,SAAS1hB,KAAKmB,KAAMuF,EAAK,SAAU+7D,GAClD9kD,EAAG8kD,EACL,EACF,C,6CCzKA,SAAeC,E,SAAAA,MACbC,OAAO,YACPC,aACA99D,O,8CCVF,MAEMqpB,EAF2C,oBAAtB00C,mBACvBhrD,gBAAgBgrD,kBAEdhrD,KACkB,oBAAX1G,OACHA,OACA24C,WACGxzC,EAAQ6X,EAAK7X,MAAMsc,KAAKzE,GACdA,EAAK20C,QACL30C,EAAK40C,QACJ50C,EAAK60C,Q,4BCR7B,IAAI1/B,EAAiB,EAAQ,KACzBypB,EAAQ,EAAQ,OAChB1pB,EAAU,EAAQ,OAClBziC,EAAMa,OAAOoD,UAAUO,eAEvB69D,EAAwB,CACxBC,SAAU,SAAkBz8D,GACxB,OAAOA,EAAS,IACpB,EACA2mD,MAAO,QACP+V,QAAS,SAAiB18D,EAAQ9F,GAC9B,OAAO8F,EAAS,IAAM9F,EAAM,GAChC,EACA8D,OAAQ,SAAgBgC,GACpB,OAAOA,CACX,GAGAxB,EAAUD,MAAMC,QAChBzF,EAAOwF,MAAMH,UAAUrF,KACvB4jE,EAAc,SAAUz1C,EAAK01C,GAC7B7jE,EAAKuoB,MAAM4F,EAAK1oB,EAAQo+D,GAAgBA,EAAe,CAACA,GAC5D,EAEIC,EAAQj+D,KAAKR,UAAUu8B,YAEvBmiC,EAAgBlgC,EAAiB,QACjCyJ,EAAW,CACXkwB,gBAAgB,EAChBhQ,WAAW,EACXC,kBAAkB,EAClB8P,YAAa,UACbt4B,QAAS,QACT0oB,iBAAiB,EACjBqW,gBAAgB,EAChB10C,UAAW,IACX5H,QAAQ,EACRu8C,iBAAiB,EACjBC,QAAS3W,EAAM7lC,OACfy8C,kBAAkB,EAClBv8D,YAAQ,EACRjF,OAAQohE,EACRK,UAAWvgC,EAAQ8yB,WAAWoN,GAE9BJ,SAAS,EACTU,cAAe,SAAuBC,GAClC,OAAOR,EAAMtjE,KAAK8jE,EACtB,EACAC,WAAW,EACXnW,oBAAoB,GAWpBoW,EAAW,CAAC,EAEZp+B,EAAY,SAASA,EACrB7hC,EACA0C,EACAw9D,EACAT,EACAvW,EACAW,EACAmW,EACAN,EACAC,EACAt8D,EACAq4B,EACAutB,EACA6W,EACA1hE,EACAyhE,EACAD,EACAl/B,EACAy/B,GAOA,IALA,IA9BuDv0D,EA8BnDwT,EAAMpf,EAENogE,EAAQD,EACRE,EAAO,EACPC,GAAW,OAC0B,KAAjCF,EAAQA,EAAMtjE,IAAImjE,MAAkCK,GAAU,CAElE,IAAIhuC,EAAM8tC,EAAMtjE,IAAIkD,GAEpB,GADAqgE,GAAQ,OACW,IAAR/tC,EAAqB,CAC5B,GAAIA,IAAQ+tC,EACR,MAAM,IAAIl/C,WAAW,uBAErBm/C,GAAW,CAEnB,MACmC,IAAxBF,EAAMtjE,IAAImjE,KACjBI,EAAO,EAEf,CAeA,GAbsB,mBAAXh9D,EACP+b,EAAM/b,EAAOX,EAAQ0c,GACdA,aAAe9d,KACtB8d,EAAM0gD,EAAc1gD,GACW,UAAxB8gD,GAAmCh/D,EAAQke,KAClDA,EAAM4pC,EAAM9nB,SAAS9hB,EAAK,SAAUpiB,GAChC,OAAIA,aAAiBsE,KACVw+D,EAAc9iE,GAElBA,CACX,IAGQ,OAARoiB,EAAc,CACd,GAAIyqC,EACA,OAAO8V,IAAYC,EAAmBD,EAAQj9D,EAAQqmC,EAAS42B,QAASj/B,EAAS,MAAOtiC,GAAUsE,EAGtG0c,EAAM,EACV,CAEA,GAvEoB,iBADmCxT,EAwE7BwT,IAtEN,iBAANxT,GACM,kBAANA,GACM,iBAANA,GACM,iBAANA,GAmEoBo9C,EAAM1pC,SAASF,GAC7C,OAAIugD,EAEO,CAACE,EADOD,EAAmBl9D,EAASi9D,EAAQj9D,EAAQqmC,EAAS42B,QAASj/B,EAAS,MAAOtiC,IAC/D,IAAMyhE,EAAUF,EAAQvgD,EAAK2pB,EAAS42B,QAASj/B,EAAS,QAAStiC,KAE5F,CAACyhE,EAAUn9D,GAAU,IAAMm9D,EAAU5nD,OAAOmH,KAGvD,IAMImhD,EANAC,EAAS,GAEb,QAAmB,IAARphD,EACP,OAAOohD,EAIX,GAA4B,UAAxBN,GAAmCh/D,EAAQke,GAEvCwgD,GAAoBD,IACpBvgD,EAAM4pC,EAAM9nB,SAAS9hB,EAAKugD,IAE9BY,EAAU,CAAC,CAAEvjE,MAAOoiB,EAAInkB,OAAS,EAAImkB,EAAIzjB,KAAK,MAAQ,UAAO,SAC1D,GAAIuF,EAAQmC,GACfk9D,EAAUl9D,MACP,CACH,IAAI1F,EAAOD,OAAOC,KAAKyhB,GACvBmhD,EAAU7kC,EAAO/9B,EAAK+9B,KAAKA,GAAQ/9B,CACvC,CAEA,IAAI8iE,EAAgBf,EAAkBznD,OAAOvV,GAAQpH,QAAQ,MAAO,OAAS2c,OAAOvV,GAEhFg+D,EAAiBjB,GAAkBv+D,EAAQke,IAAuB,IAAfA,EAAInkB,OAAewlE,EAAgB,KAAOA,EAEjG,GAAIvX,GAAoBhoD,EAAQke,IAAuB,IAAfA,EAAInkB,OACxC,OAAOylE,EAAiB,KAG5B,IAAK,IAAI5+D,EAAI,EAAGA,EAAIy+D,EAAQtlE,SAAU6G,EAAG,CACrC,IAAIlF,EAAM2jE,EAAQz+D,GACd9E,EAAuB,iBAARJ,GAAoBA,QAA4B,IAAdA,EAAII,MACnDJ,EAAII,MACJoiB,EAAIxiB,GAEV,IAAIojE,GAAuB,OAAVhjE,EAAjB,CAIA,IAAI2jE,EAAa1X,GAAayW,EAAkBznD,OAAOrb,GAAKtB,QAAQ,MAAO,OAAS2c,OAAOrb,GACvFgkE,EAAY1/D,EAAQke,GACa,mBAAxB8gD,EAAqCA,EAAoBQ,EAAgBC,GAAcD,EAC9FA,GAAkBzX,EAAY,IAAM0X,EAAa,IAAMA,EAAa,KAE1ER,EAAYpjE,IAAIiD,EAAQqgE,GACxB,IAAIQ,EAAmBthC,IACvBshC,EAAiB9jE,IAAIkjE,EAAUE,GAC/Bd,EAAYmB,EAAQ3+B,EAChB7kC,EACA4jE,EACAV,EACAT,EACAvW,EACAW,EACAmW,EACAN,EACwB,UAAxBQ,GAAmCN,GAAoB1+D,EAAQke,GAAO,KAAOugD,EAC7Et8D,EACAq4B,EACAutB,EACA6W,EACA1hE,EACAyhE,EACAD,EACAl/B,EACAmgC,GA5BJ,CA8BJ,CAEA,OAAOL,CACX,EA4EAjkE,EAAOC,QAAU,SAAUwD,EAAQsnB,GAC/B,IAGIi5C,EAHAnhD,EAAMpf,EACNT,EA5EwB,SAAmC+nB,GAC/D,IAAKA,EACD,OAAOyhB,EAGX,QAAqC,IAA1BzhB,EAAK4hC,kBAAqE,kBAA1B5hC,EAAK4hC,iBAC5D,MAAM,IAAIhuD,UAAU,0EAGxB,QAAoC,IAAzBosB,EAAKo4C,iBAAmE,kBAAzBp4C,EAAKo4C,gBAC3D,MAAM,IAAIxkE,UAAU,yEAGxB,GAAqB,OAAjBosB,EAAKq4C,cAA4C,IAAjBr4C,EAAKq4C,SAAmD,mBAAjBr4C,EAAKq4C,QAC5E,MAAM,IAAIzkE,UAAU,iCAGxB,IAAIwlC,EAAUpZ,EAAKoZ,SAAWqI,EAASrI,QACvC,QAA4B,IAAjBpZ,EAAKoZ,SAA4C,UAAjBpZ,EAAKoZ,SAAwC,eAAjBpZ,EAAKoZ,QACxE,MAAM,IAAIxlC,UAAU,qEAGxB,IAAIkD,EAASkhC,EAAiB,QAC9B,QAA2B,IAAhBhY,EAAKlpB,OAAwB,CACpC,IAAKvB,EAAIZ,KAAKqjC,EAAQ8yB,WAAY9qC,EAAKlpB,QACnC,MAAM,IAAIlD,UAAU,mCAExBkD,EAASkpB,EAAKlpB,MAClB,CACA,IAOI46D,EAPA6G,EAAYvgC,EAAQ8yB,WAAWh0D,GAE/BiF,EAAS0lC,EAAS1lC,OActB,IAb2B,mBAAhBikB,EAAKjkB,QAAyBnC,EAAQomB,EAAKjkB,WAClDA,EAASikB,EAAKjkB,QAKd21D,EADA1xC,EAAK0xC,eAAekG,EACN53C,EAAK0xC,YACZ,YAAa1xC,EACNA,EAAK83C,QAAU,UAAY,SAE3Br2B,EAASiwB,YAGvB,mBAAoB1xC,GAAuC,kBAAxBA,EAAKm4C,eACxC,MAAM,IAAIvkE,UAAU,iDAGxB,IAAI+tD,OAAsC,IAAnB3hC,EAAK2hC,WAAqD,IAAzB3hC,EAAKo4C,iBAAkC32B,EAASkgB,YAAc3hC,EAAK2hC,UAE3H,MAAO,CACHgQ,eAA+C,kBAAxB3xC,EAAK2xC,eAA+B3xC,EAAK2xC,eAAiBlwB,EAASkwB,eAC1FhQ,UAAWA,EACXC,iBAAmD,kBAA1B5hC,EAAK4hC,mBAAmC5hC,EAAK4hC,iBAAmBngB,EAASmgB,iBAClG8P,YAAaA,EACbt4B,QAASA,EACT0oB,gBAAiD,kBAAzB9hC,EAAK8hC,gBAAgC9hC,EAAK8hC,gBAAkBrgB,EAASqgB,gBAC7FqW,iBAAkBn4C,EAAKm4C,eACvB10C,eAAqC,IAAnBzD,EAAKyD,UAA4Bge,EAAShe,UAAYzD,EAAKyD,UAC7E5H,OAA+B,kBAAhBmE,EAAKnE,OAAuBmE,EAAKnE,OAAS4lB,EAAS5lB,OAClEu8C,gBAAiD,kBAAzBp4C,EAAKo4C,gBAAgCp4C,EAAKo4C,gBAAkB32B,EAAS22B,gBAC7FC,QAAiC,mBAAjBr4C,EAAKq4C,QAAyBr4C,EAAKq4C,QAAU52B,EAAS42B,QACtEC,iBAAmD,kBAA1Bt4C,EAAKs4C,iBAAiCt4C,EAAKs4C,iBAAmB72B,EAAS62B,iBAChGv8D,OAAQA,EACRjF,OAAQA,EACRyhE,UAAWA,EACXC,cAA6C,mBAAvBx4C,EAAKw4C,cAA+Bx4C,EAAKw4C,cAAgB/2B,EAAS+2B,cACxFE,UAAqC,kBAAnB14C,EAAK04C,UAA0B14C,EAAK04C,UAAYj3B,EAASi3B,UAC3EtkC,KAA2B,mBAAdpU,EAAKoU,KAAsBpU,EAAKoU,KAAO,KACpDmuB,mBAAuD,kBAA5BviC,EAAKuiC,mBAAmCviC,EAAKuiC,mBAAqB9gB,EAAS8gB,mBAE9G,CAIkBiX,CAA0Bx5C,GAKV,mBAAnB/nB,EAAQ8D,OAEf+b,GADA/b,EAAS9D,EAAQ8D,QACJ,GAAI+b,GACVle,EAAQ3B,EAAQ8D,UAEvBk9D,EADShhE,EAAQ8D,QAIrB,IAAI1F,EAAO,GAEX,GAAmB,iBAARyhB,GAA4B,OAARA,EAC3B,MAAO,GAGX,IAAI8gD,EAAsBhB,EAAsB3/D,EAAQy5D,aACpDyG,EAAyC,UAAxBS,GAAmC3gE,EAAQkgE,eAE3Dc,IACDA,EAAU7iE,OAAOC,KAAKyhB,IAGtB7f,EAAQm8B,MACR6kC,EAAQ7kC,KAAKn8B,EAAQm8B,MAIzB,IADA,IAAIykC,EAAc5gC,IACThkC,EAAI,EAAGA,EAAIglE,EAAQtlE,SAAUM,EAAG,CACrC,IAAIqB,EAAM2jE,EAAQhlE,GACdyB,EAAQoiB,EAAIxiB,GAEZ2C,EAAQygE,WAAuB,OAAVhjE,GAGzBqiE,EAAY1hE,EAAMkkC,EACd7kC,EACAJ,EACAsjE,EACAT,EACAlgE,EAAQ2pD,iBACR3pD,EAAQsqD,mBACRtqD,EAAQygE,UACRzgE,EAAQmgE,gBACRngE,EAAQ4jB,OAAS5jB,EAAQogE,QAAU,KACnCpgE,EAAQ8D,OACR9D,EAAQm8B,KACRn8B,EAAQ0pD,UACR1pD,EAAQugE,cACRvgE,EAAQnB,OACRmB,EAAQsgE,UACRtgE,EAAQqgE,iBACRrgE,EAAQmhC,QACRy/B,GAER,CAEA,IAAIY,EAASpjE,EAAKhC,KAAK4D,EAAQwrB,WAC3BroB,GAAoC,IAA3BnD,EAAQ05D,eAA0B,IAAM,GAYrD,OAVI15D,EAAQ6pD,kBACgB,eAApB7pD,EAAQmhC,QAERh+B,GAAU,uBAGVA,GAAU,mBAIXq+D,EAAO9lE,OAAS,EAAIyH,EAASq+D,EAAS,EACjD,C,4BCjWA,MAAMr4C,EAAO,EAAQ,OAEf5qB,EAAiB,CACrB+2C,wBAAwB,EACxB91C,aAAc,IA0LhB,SAASiiE,EAAalY,GACpB,MAAgB,MAATA,GAAyB,OAATA,GAA0B,OAATA,GAA2B,OAATA,CAC5D,CAMA,SAASmY,EAAO9vD,EAAS5V,GACvB,MAAMid,EAAQjd,EACd,KAAOA,EAAI4V,EAAQlW,OAAQM,IACzB,GAAkB,KAAd4V,EAAQ5V,IAA2B,KAAd4V,EAAQ5V,GAAW,CAE1C,MAAM4B,EAAUgU,EAAQtQ,OAAO2X,EAAOjd,EAAIid,GAC1C,GAAIjd,EAAI,GAAiB,QAAZ4B,EACX,OAAO+jE,EAAe,aAAc,6DAA8DC,EAAyBhwD,EAAS5V,IAC/H,GAAkB,KAAd4V,EAAQ5V,IAA+B,KAAlB4V,EAAQ5V,EAAI,GAAW,CAErDA,IACA,KACF,CACE,QAEJ,CAEF,OAAOA,CACT,CAEA,SAAS6lE,EAAoBjwD,EAAS5V,GACpC,GAAI4V,EAAQlW,OAASM,EAAI,GAAwB,MAAnB4V,EAAQ5V,EAAI,IAAiC,MAAnB4V,EAAQ5V,EAAI,IAElE,IAAKA,GAAK,EAAGA,EAAI4V,EAAQlW,OAAQM,IAC/B,GAAmB,MAAf4V,EAAQ5V,IAAiC,MAAnB4V,EAAQ5V,EAAI,IAAiC,MAAnB4V,EAAQ5V,EAAI,GAAY,CAC1EA,GAAK,EACL,KACF,OAEG,GACL4V,EAAQlW,OAASM,EAAI,GACF,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,GACZ,CACA,IAAI2hD,EAAqB,EACzB,IAAK3hD,GAAK,EAAGA,EAAI4V,EAAQlW,OAAQM,IAC/B,GAAmB,MAAf4V,EAAQ5V,GACV2hD,SACK,GAAmB,MAAf/rC,EAAQ5V,KACjB2hD,IAC2B,IAAvBA,GACF,KAIR,MAAO,GACL/rC,EAAQlW,OAASM,EAAI,GACF,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,IACO,MAAnB4V,EAAQ5V,EAAI,GAEZ,IAAKA,GAAK,EAAGA,EAAI4V,EAAQlW,OAAQM,IAC/B,GAAmB,MAAf4V,EAAQ5V,IAAiC,MAAnB4V,EAAQ5V,EAAI,IAAiC,MAAnB4V,EAAQ5V,EAAI,GAAY,CAC1EA,GAAK,EACL,KACF,CAIJ,OAAOA,CACT,CAUA,SAAS8lE,EAAiBlwD,EAAS5V,GACjC,IAAIiF,EAAU,GACVk8C,EAAY,GACZ4kB,GAAY,EAChB,KAAO/lE,EAAI4V,EAAQlW,OAAQM,IAAK,CAC9B,GAbgB,MAaZ4V,EAAQ5V,IAZI,MAYkB4V,EAAQ5V,GACtB,KAAdmhD,EACFA,EAAYvrC,EAAQ5V,GACXmhD,IAAcvrC,EAAQ5V,KAG/BmhD,EAAY,SAET,GAAmB,MAAfvrC,EAAQ5V,IACC,KAAdmhD,EAAkB,CACpB4kB,GAAY,EACZ,KACF,CAEF9gE,GAAW2Q,EAAQ5V,EACrB,CACA,MAAkB,KAAdmhD,GAIG,CACL1/C,MAAOwD,EACP4G,MAAO7L,EACP+lE,UAAWA,EAEf,CA3SA9kE,EAAQ6U,SAAW,SAAUF,EAAS5R,GACpCA,EAAU7B,OAAO8B,OAAO,CAAC,EAAG1B,EAAgByB,GAK5C,MAAM60C,EAAO,GACb,IAAImtB,GAAW,EAGXC,GAAc,EAEC,WAAfrwD,EAAQ,KAEVA,EAAUA,EAAQtQ,OAAO,IAG3B,IAAK,IAAItF,EAAI,EAAGA,EAAI4V,EAAQlW,OAAQM,IAElC,GAAmB,MAAf4V,EAAQ5V,IAA+B,MAAjB4V,EAAQ5V,EAAE,IAGlC,GAFAA,GAAG,EACHA,EAAI0lE,EAAO9vD,EAAQ5V,GACfA,EAAEoH,IAAK,OAAOpH,MACd,IAAmB,MAAf4V,EAAQ5V,GA0IX,CACL,GAAKylE,EAAa7vD,EAAQ5V,IACxB,SAEF,OAAO2lE,EAAe,cAAe,SAAS/vD,EAAQ5V,GAAG,qBAAsB4lE,EAAyBhwD,EAAS5V,GACnH,CA/I8B,CAG5B,IAAIkmE,EAAclmE,EAGlB,GAFAA,IAEmB,MAAf4V,EAAQ5V,GAAY,CACtBA,EAAI6lE,EAAoBjwD,EAAS5V,GACjC,QACF,CAAO,CACL,IAAImmE,GAAa,EACE,MAAfvwD,EAAQ5V,KAEVmmE,GAAa,EACbnmE,KAGF,IAAIuR,EAAU,GACd,KAAOvR,EAAI4V,EAAQlW,QACF,MAAfkW,EAAQ5V,IACO,MAAf4V,EAAQ5V,IACO,OAAf4V,EAAQ5V,IACO,OAAf4V,EAAQ5V,IACO,OAAf4V,EAAQ5V,GAAaA,IAErBuR,GAAWqE,EAAQ5V,GAWrB,GATAuR,EAAUA,EAAQ9C,OAGkB,MAAhC8C,EAAQA,EAAQ7R,OAAS,KAE3B6R,EAAUA,EAAQgmB,UAAU,EAAGhmB,EAAQ7R,OAAS,GAEhDM,MAEGomE,EAAgB70D,GAAU,CAC7B,IAAIwE,EAMJ,OAJEA,EAD4B,IAA1BxE,EAAQ9C,OAAO/O,OACX,2BAEA,QAAQ6R,EAAQ,wBAEjBo0D,EAAe,aAAc5vD,EAAK6vD,EAAyBhwD,EAAS5V,GAC7E,CAEA,MAAM4E,EAASkhE,EAAiBlwD,EAAS5V,GACzC,IAAe,IAAX4E,EACF,OAAO+gE,EAAe,cAAe,mBAAmBp0D,EAAQ,qBAAsBq0D,EAAyBhwD,EAAS5V,IAE1H,IAAIiF,EAAUL,EAAOnD,MAGrB,GAFAzB,EAAI4E,EAAOiH,MAEyB,MAAhC5G,EAAQA,EAAQvF,OAAS,GAAY,CAEvC,MAAM2mE,EAAermE,EAAIiF,EAAQvF,OACjCuF,EAAUA,EAAQsyB,UAAU,EAAGtyB,EAAQvF,OAAS,GAChD,MAAM4mE,EAAUC,EAAwBthE,EAASjB,GACjD,IAAgB,IAAZsiE,EAOF,OAAOX,EAAeW,EAAQl/D,IAAIisB,KAAMizC,EAAQl/D,IAAI2O,IAAK6vD,EAAyBhwD,EAASywD,EAAeC,EAAQl/D,IAAI4O,OANtHgwD,GAAW,CAQf,MAAO,GAAIG,EAAY,CACrB,IAAKvhE,EAAOmhE,UACV,OAAOJ,EAAe,aAAc,gBAAgBp0D,EAAQ,iCAAkCq0D,EAAyBhwD,EAAS5V,IAC3H,GAAIiF,EAAQwJ,OAAO/O,OAAS,EACjC,OAAOimE,EAAe,aAAc,gBAAgBp0D,EAAQ,+CAAgDq0D,EAAyBhwD,EAASswD,IACzI,GAAoB,IAAhBrtB,EAAKn5C,OACd,OAAOimE,EAAe,aAAc,gBAAgBp0D,EAAQ,yBAA0Bq0D,EAAyBhwD,EAASswD,IACnH,CACL,MAAMM,EAAM3tB,EAAKj7B,MACjB,GAAIrM,IAAYi1D,EAAIj1D,QAAS,CAC3B,IAAIk1D,EAAUb,EAAyBhwD,EAAS4wD,EAAIN,aACpD,OAAOP,EAAe,aACpB,yBAAyBa,EAAIj1D,QAAQ,qBAAqBk1D,EAAQzwD,KAAK,SAASywD,EAAQxwD,IAAI,6BAA6B1E,EAAQ,KACjIq0D,EAAyBhwD,EAASswD,GACtC,CAGmB,GAAfrtB,EAAKn5C,SACPumE,GAAc,EAElB,CACF,KAAO,CACL,MAAMK,EAAUC,EAAwBthE,EAASjB,GACjD,IAAgB,IAAZsiE,EAIF,OAAOX,EAAeW,EAAQl/D,IAAIisB,KAAMizC,EAAQl/D,IAAI2O,IAAK6vD,EAAyBhwD,EAAS5V,EAAIiF,EAAQvF,OAAS4mE,EAAQl/D,IAAI4O,OAI9H,IAAoB,IAAhBiwD,EACF,OAAON,EAAe,aAAc,sCAAuCC,EAAyBhwD,EAAS5V,KAC1D,IAA3CgE,EAAQR,aAAauD,QAAQwK,IAGrCsnC,EAAK34C,KAAK,CAACqR,UAAS20D,gBAEtBF,GAAW,CACb,CAIA,IAAKhmE,IAAKA,EAAI4V,EAAQlW,OAAQM,IAC5B,GAAmB,MAAf4V,EAAQ5V,GAAY,CACtB,GAAuB,MAAnB4V,EAAQ5V,EAAI,GAAY,CAE1BA,IACAA,EAAI6lE,EAAoBjwD,EAAS5V,GACjC,QACF,CAAO,GAAqB,MAAjB4V,EAAQ5V,EAAE,GAInB,MAFA,GADAA,EAAI0lE,EAAO9vD,IAAW5V,GAClBA,EAAEoH,IAAK,OAAOpH,CAItB,MAAO,GAAmB,MAAf4V,EAAQ5V,GAAY,CAC7B,MAAM0mE,EAAWC,EAAkB/wD,EAAS5V,GAC5C,IAAiB,GAAb0mE,EACF,OAAOf,EAAe,cAAe,4BAA6BC,EAAyBhwD,EAAS5V,IACtGA,EAAI0mE,CACN,MACE,IAAoB,IAAhBT,IAAyBR,EAAa7vD,EAAQ5V,IAChD,OAAO2lE,EAAe,aAAc,wBAAyBC,EAAyBhwD,EAAS5V,IAIlF,MAAf4V,EAAQ5V,IACVA,GAEJ,CACF,CAKA,CAGF,OAAKgmE,EAEoB,GAAfntB,EAAKn5C,OACJimE,EAAe,aAAc,iBAAiB9sB,EAAK,GAAGtnC,QAAQ,KAAMq0D,EAAyBhwD,EAASijC,EAAK,GAAGqtB,gBAC/GrtB,EAAKn5C,OAAS,IACbimE,EAAe,aAAc,YAChCt/B,KAAKC,UAAUuS,EAAK5pC,IAAIhE,GAAKA,EAAEsG,SAAU,KAAM,GAAGxR,QAAQ,SAAU,IACpE,WAAY,CAACiW,KAAM,EAAGC,IAAK,IAN1B0vD,EAAe,aAAc,sBAAuB,EAU/D,EA4HA,MAAMiB,EAAoB,IAAIjjE,OAAO,0DAA2D,KAIhG,SAAS4iE,EAAwBthE,EAASjB,GAKxC,MAAM+W,EAAUoS,EAAK6rB,cAAc/zC,EAAS2hE,GACtCC,EAAY,CAAC,EAEnB,IAAK,IAAI7mE,EAAI,EAAGA,EAAI+a,EAAQrb,OAAQM,IAAK,CACvC,GAA6B,IAAzB+a,EAAQ/a,GAAG,GAAGN,OAEhB,OAAOimE,EAAe,cAAe,cAAc5qD,EAAQ/a,GAAG,GAAG,8BAA+B8mE,EAAqB/rD,EAAQ/a,KACxH,QAAsB+E,IAAlBgW,EAAQ/a,GAAG,SAAsC+E,IAAlBgW,EAAQ/a,GAAG,GACnD,OAAO2lE,EAAe,cAAe,cAAc5qD,EAAQ/a,GAAG,GAAG,sBAAuB8mE,EAAqB/rD,EAAQ/a,KAChH,QAAsB+E,IAAlBgW,EAAQ/a,GAAG,KAAqBgE,EAAQs1C,uBAEjD,OAAOqsB,EAAe,cAAe,sBAAsB5qD,EAAQ/a,GAAG,GAAG,oBAAqB8mE,EAAqB/rD,EAAQ/a,KAK7H,MAAMqD,EAAW0X,EAAQ/a,GAAG,GAC5B,IAAK+mE,EAAiB1jE,GACpB,OAAOsiE,EAAe,cAAe,cAActiE,EAAS,wBAAyByjE,EAAqB/rD,EAAQ/a,KAEpH,GAAK6mE,EAAU/gE,eAAezC,GAI5B,OAAOsiE,EAAe,cAAe,cAActiE,EAAS,iBAAkByjE,EAAqB/rD,EAAQ/a,KAF3G6mE,EAAUxjE,GAAY,CAI1B,CAEA,OAAO,CACT,CAiBA,SAASsjE,EAAkB/wD,EAAS5V,GAGlC,GAAmB,MAAf4V,IADJ5V,GAEE,OAAQ,EACV,GAAmB,MAAf4V,EAAQ5V,GAEV,OAtBJ,SAAiC4V,EAAS5V,GACxC,IAAI6K,EAAK,KAKT,IAJmB,MAAf+K,EAAQ5V,KACVA,IACA6K,EAAK,cAEA7K,EAAI4V,EAAQlW,OAAQM,IAAK,CAC9B,GAAmB,MAAf4V,EAAQ5V,GACV,OAAOA,EACT,IAAK4V,EAAQ5V,GAAGJ,MAAMiL,GACpB,KACJ,CACA,OAAQ,CACV,CASWm8D,CAAwBpxD,IAD/B5V,GAGF,IAAI4iB,EAAQ,EACZ,KAAO5iB,EAAI4V,EAAQlW,OAAQM,IAAK4iB,IAC9B,KAAIhN,EAAQ5V,GAAGJ,MAAM,OAASgjB,EAAQ,IAAtC,CAEA,GAAmB,MAAfhN,EAAQ5V,GACV,MACF,OAAQ,CAHE,CAKZ,OAAOA,CACT,CAEA,SAAS2lE,EAAetyC,EAAMM,EAASszC,GACrC,MAAO,CACL7/D,IAAK,CACHisB,KAAMA,EACNtd,IAAK4d,EACL3d,KAAMixD,EAAWjxD,MAAQixD,EACzBhxD,IAAKgxD,EAAWhxD,KAGtB,CAEA,SAAS8wD,EAAiB1jE,GACxB,OAAO8pB,EAAKu0B,OAAOr+C,EACrB,CAIA,SAAS+iE,EAAgBxkE,GACvB,OAAOurB,EAAKu0B,OAAO9/C,EACrB,CAGA,SAASgkE,EAAyBhwD,EAAS/J,GACzC,MAAMq7D,EAAQtxD,EAAQ2hB,UAAU,EAAG1rB,GAAOvL,MAAM,SAChD,MAAO,CACL0V,KAAMkxD,EAAMxnE,OAGZuW,IAAKixD,EAAMA,EAAMxnE,OAAS,GAAGA,OAAS,EAE1C,CAGA,SAASonE,EAAqBlnE,GAC5B,OAAOA,EAAMs8C,WAAat8C,EAAM,GAAGF,MACrC,C,4BCtaA,IAAI+vB,EAAY,EAAQ,OACpB03C,EAAU,EAAQ,OAElBt3C,EAAQJ,EAAU,yBAClB9uB,EAAa,EAAQ,OAGzBK,EAAOC,QAAU,SAAqByC,GACrC,IAAKyjE,EAAQzjE,GACZ,MAAM,IAAI/C,EAAW,4BAEtB,OAAO,SAAcypB,GACpB,OAA2B,OAApByF,EAAMnsB,EAAO0mB,EACrB,CACD,C,GCfIg9C,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBviE,IAAjBwiE,EACH,OAAOA,EAAatmE,QAGrB,IAAID,EAASomE,EAAyBE,GAAY,CACjDp4D,GAAIo4D,EACJE,QAAQ,EACRvmE,QAAS,CAAC,GAUX,OANAwmE,EAAoBH,GAAU5mE,KAAKM,EAAOC,QAASD,EAAQA,EAAOC,QAASomE,GAG3ErmE,EAAOwmE,QAAS,EAGTxmE,EAAOC,OACf,CAGAomE,EAAoB74D,EAAIi5D,ElI5BpBroE,EAAW,GACfioE,EAAoB5f,EAAI,CAAC7iD,EAAQ8iE,EAAU5hD,EAAI6hD,KAC9C,IAAGD,EAAH,CAMA,IAAIE,EAAejgB,IACnB,IAAS3nD,EAAI,EAAGA,EAAIZ,EAASM,OAAQM,IAAK,CAGzC,IAFA,IAAK0nE,EAAU5hD,EAAI6hD,GAAYvoE,EAASY,GACpC6nE,GAAY,EACPthE,EAAI,EAAGA,EAAImhE,EAAShoE,OAAQ6G,MACpB,EAAXohE,GAAsBC,GAAgBD,IAAaxlE,OAAOC,KAAKilE,EAAoB5f,GAAGqgB,MAAOzmE,GAASgmE,EAAoB5f,EAAEpmD,GAAKqmE,EAASnhE,KAC9ImhE,EAAS//C,OAAOphB,IAAK,IAErBshE,GAAY,EACTF,EAAWC,IAAcA,EAAeD,IAG7C,GAAGE,EAAW,CACbzoE,EAASuoB,OAAO3nB,IAAK,GACrB,IAAI+c,EAAI+I,SACE/gB,IAANgY,IAAiBnY,EAASmY,EAC/B,CACD,CACA,OAAOnY,CAnBP,CAJC+iE,EAAWA,GAAY,EACvB,IAAI,IAAI3nE,EAAIZ,EAASM,OAAQM,EAAI,GAAKZ,EAASY,EAAI,GAAG,GAAK2nE,EAAU3nE,IAAKZ,EAASY,GAAKZ,EAASY,EAAI,GACrGZ,EAASY,GAAK,CAAC0nE,EAAU5hD,EAAI6hD,ImIJ/BN,EAAoB7/C,EAAKxmB,IACxB,IAAI+mE,EAAS/mE,GAAUA,EAAOgnE,WAC7B,IAAOhnE,EAAiB,QACxB,IAAM,EAEP,OADAqmE,EAAoBr9B,EAAE+9B,EAAQ,CAAE5kE,EAAG4kE,IAC5BA,GCLRV,EAAoBr9B,EAAI,CAAC/oC,EAASgnE,KACjC,IAAI,IAAI5mE,KAAO4mE,EACXZ,EAAoBpqC,EAAEgrC,EAAY5mE,KAASgmE,EAAoBpqC,EAAEh8B,EAASI,IAC5Ec,OAAO6S,eAAe/T,EAASI,EAAK,CAAEqjB,YAAY,EAAMnjB,IAAK0mE,EAAW5mE,MCJ3EgmE,EAAoBp4C,EAAI,CAAC,EAGzBo4C,EAAoBzwD,EAAKsxD,GACjBxuD,QAAQyuD,IAAIhmE,OAAOC,KAAKilE,EAAoBp4C,GAAG6U,OAAO,CAACskC,EAAU/mE,KACvEgmE,EAAoBp4C,EAAE5tB,GAAK6mE,EAASE,GAC7BA,GACL,KCNJf,EAAoBpS,EAAKiT,GAEZA,EAAU,IAAMA,EAAU,SAAW,CAAC,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,wBAAwBA,GCHxdb,EAAoBpqC,EAAI,CAACpZ,EAAKxH,IAAUla,OAAOoD,UAAUO,eAAepF,KAAKmjB,EAAKxH,GtIA9Ehd,EAAa,CAAC,EACdC,EAAoB,uBAExB+nE,EAAoBhyD,EAAI,CAAC4D,EAAKyB,EAAMrZ,EAAK6mE,KACxC,GAAG7oE,EAAW4Z,GAAQ5Z,EAAW4Z,GAAK/Y,KAAKwa,OAA3C,CACA,IAAI2tD,EAAQC,EACZ,QAAWvjE,IAAR1D,EAEF,IADA,IAAIknE,EAAUC,SAASC,qBAAqB,UACpCzoE,EAAI,EAAGA,EAAIuoE,EAAQ7oE,OAAQM,IAAK,CACvC,IAAIoqB,EAAIm+C,EAAQvoE,GAChB,GAAGoqB,EAAEy/B,aAAa,QAAU5wC,GAAOmR,EAAEy/B,aAAa,iBAAmBvqD,EAAoB+B,EAAK,CAAEgnE,EAASj+C,EAAG,KAAO,CACpH,CAEGi+C,IACHC,GAAa,GACbD,EAASG,SAASE,cAAc,WAEzBvjC,QAAU,QACbkiC,EAAoBhI,IACvBgJ,EAAOM,aAAa,QAAStB,EAAoBhI,IAElDgJ,EAAOM,aAAa,eAAgBrpE,EAAoB+B,GAExDgnE,EAAOn9D,IAAM+N,GAEd5Z,EAAW4Z,GAAO,CAACyB,GACnB,IAAIkuD,EAAmB,CAACl4C,EAAM+vB,KAE7B4nB,EAAOltC,QAAUktC,EAAOtsD,OAAS,KACjCioC,aAAatd,GACb,IAAImiC,EAAUxpE,EAAW4Z,GAIzB,UAHO5Z,EAAW4Z,GAClBovD,EAAOS,YAAcT,EAAOS,WAAWC,YAAYV,GACnDQ,GAAWA,EAAQzvD,QAAS0M,GAAQA,EAAG26B,IACpC/vB,EAAM,OAAOA,EAAK+vB,IAElB/Z,EAAUmc,WAAW+lB,EAAiBt1C,KAAK,UAAMvuB,EAAW,CAAEoP,KAAM,UAAWwU,OAAQ0/C,IAAW,MACtGA,EAAOltC,QAAUytC,EAAiBt1C,KAAK,KAAM+0C,EAAOltC,SACpDktC,EAAOtsD,OAAS6sD,EAAiBt1C,KAAK,KAAM+0C,EAAOtsD,QACnDusD,GAAcE,SAASv+C,KAAK++C,YAAYX,EAnCkB,GuIH3DhB,EAAoBtqD,EAAK9b,IACH,oBAAXwiB,QAA0BA,OAAOkvB,aAC1CxwC,OAAO6S,eAAe/T,EAASwiB,OAAOkvB,YAAa,CAAElxC,MAAO,WAE7DU,OAAO6S,eAAe/T,EAAS,aAAc,CAAEQ,OAAO,KCLvD4lE,EAAoB4B,IAAOjoE,IAC1BA,EAAOk/B,MAAQ,GACVl/B,EAAOkoE,WAAUloE,EAAOkoE,SAAW,IACjCloE,GCHRqmE,EAAoB9gE,EAAI,K,MCAxB,IAAI4iE,EACA3e,WAAW4e,gBAAeD,EAAY3e,WAAWv+B,SAAW,IAChE,IAAIu8C,EAAWhe,WAAWge,SAC1B,IAAKW,GAAaX,IACbA,EAASa,eAAkE,WAAjDb,EAASa,cAAc93D,QAAQgb,gBAC5D48C,EAAYX,EAASa,cAAcn+D,MAC/Bi+D,GAAW,CACf,IAAIZ,EAAUC,EAASC,qBAAqB,UAC5C,GAAGF,EAAQ7oE,OAEV,IADA,IAAIM,EAAIuoE,EAAQ7oE,OAAS,EAClBM,GAAK,KAAOmpE,IAAc,aAAapgE,KAAKogE,KAAaA,EAAYZ,EAAQvoE,KAAKkL,GAE3F,CAID,IAAKi+D,EAAW,MAAM,IAAI9hE,MAAM,yDAChC8hE,EAAYA,EAAUppE,QAAQ,SAAU,IAAIA,QAAQ,OAAQ,IAAIA,QAAQ,QAAS,IAAIA,QAAQ,YAAa,KAC1GsnE,EAAoBh9C,EAAI8+C,C,WClBxB9B,EAAoBxqD,EAAyB,oBAAb2rD,UAA4BA,SAASc,SAAY/wD,KAAK0T,SAASuT,KAK/F,IAAI+pC,EAAkB,CACrB,KAAM,GAGPlC,EAAoBp4C,EAAE1oB,EAAI,CAAC2hE,EAASE,KAElC,IAAIoB,EAAqBnC,EAAoBpqC,EAAEssC,EAAiBrB,GAAWqB,EAAgBrB,QAAWnjE,EACtG,GAA0B,IAAvBykE,EAGF,GAAGA,EACFpB,EAASloE,KAAKspE,EAAmB,QAC3B,CAGL,IAAI32C,EAAU,IAAInZ,QAAQ,CAACC,EAASC,IAAY4vD,EAAqBD,EAAgBrB,GAAW,CAACvuD,EAASC,IAC1GwuD,EAASloE,KAAKspE,EAAmB,GAAK32C,GAGtC,IAAI5Z,EAAMouD,EAAoBh9C,EAAIg9C,EAAoBpS,EAAEiT,GAEpDh/D,EAAQ,IAAI7B,MAgBhBggE,EAAoBhyD,EAAE4D,EAfFwnC,IACnB,GAAG4mB,EAAoBpqC,EAAEssC,EAAiBrB,KAEf,KAD1BsB,EAAqBD,EAAgBrB,MACRqB,EAAgBrB,QAAWnjE,GACrDykE,GAAoB,CACtB,IAAIC,EAAYhpB,IAAyB,SAAfA,EAAMtsC,KAAkB,UAAYssC,EAAMtsC,MAChEu1D,EAAUjpB,GAASA,EAAM93B,QAAU83B,EAAM93B,OAAOzd,IACpDhC,EAAMyqB,QAAU,iBAAmBu0C,EAAU,cAAgBuB,EAAY,KAAOC,EAAU,IAC1FxgE,EAAM9D,KAAO,iBACb8D,EAAMiL,KAAOs1D,EACbvgE,EAAMyiB,QAAU+9C,EAChBF,EAAmB,GAAGtgE,EACvB,GAGuC,SAAWg/D,EAASA,EAE/D,GAYHb,EAAoB5f,EAAElhD,EAAK2hE,GAA0C,IAA7BqB,EAAgBrB,GAGxD,IAAIyB,EAAuB,CAACC,EAA4BzhE,KACvD,IAGIm/D,EAAUY,GAHTR,EAAUmC,EAAaC,GAAW3hE,EAGhBnI,EAAI,EAC3B,GAAG0nE,EAASjV,KAAMvjD,GAAgC,IAAxBq6D,EAAgBr6D,IAAa,CACtD,IAAIo4D,KAAYuC,EACZxC,EAAoBpqC,EAAE4sC,EAAavC,KACrCD,EAAoB74D,EAAE84D,GAAYuC,EAAYvC,IAGhD,GAAGwC,EAAS,IAAIllE,EAASklE,EAAQzC,EAClC,CAEA,IADGuC,GAA4BA,EAA2BzhE,GACrDnI,EAAI0nE,EAAShoE,OAAQM,IACzBkoE,EAAUR,EAAS1nE,GAChBqnE,EAAoBpqC,EAAEssC,EAAiBrB,IAAYqB,EAAgBrB,IACrEqB,EAAgBrB,GAAS,KAE1BqB,EAAgBrB,GAAW,EAE5B,OAAOb,EAAoB5f,EAAE7iD,IAG1BmlE,EAAqBvf,WAA4C,gCAAIA,WAA4C,iCAAK,GAC1Huf,EAAmB3wD,QAAQuwD,EAAqBr2C,KAAK,KAAM,IAC3Dy2C,EAAmB7pE,KAAOypE,EAAqBr2C,KAAK,KAAMy2C,EAAmB7pE,KAAKozB,KAAKy2C,G,KCrFvF1C,EAAoBhI,QAAKt6D,ECGzB,IAAIilE,EAAsB3C,EAAoB5f,OAAE1iD,EAAW,CAAC,MAAO,IAAOsiE,EAAoB,OAC9F2C,EAAsB3C,EAAoB5f,EAAEuiB,E","sources":["webpack:///nextcloud/webpack/runtime/chunk loaded","webpack:///nextcloud/webpack/runtime/load script","webpack:///nextcloud/node_modules/url-join/lib/url-join.js","webpack:///nextcloud/node_modules/side-channel/index.js","webpack:///nextcloud/node_modules/generator-function/index.js","webpack:///nextcloud/node_modules/webdav/node_modules/fast-xml-parser/src/xmlparser/xmlNode.js","webpack:///nextcloud/node_modules/webdav/node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js","webpack:///nextcloud/node_modules/webdav/dist/node/response.js","webpack:///nextcloud/node_modules/@nextcloud/files/dist/index.mjs","webpack:///nextcloud/apps/comments/src/comments-activity-tab.ts","webpack:///nextcloud/apps/comments/src/files-sidebar.ts","webpack:///nextcloud/node_modules/webdav/node_modules/fast-xml-parser/src/xmlparser/XMLParser.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack:///nextcloud/node_modules/stream-http/lib/capability.js","webpack:///nextcloud/node_modules/stream-http/lib/response.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/quota.js","webpack:///nextcloud/node_modules/balanced-match/index.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/_stream_writable.js","webpack:///nextcloud/node_modules/punycode/punycode.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/getDAVCompliance.js","webpack:///nextcloud/node_modules/https-browserify/index.js","webpack:///nextcloud/node_modules/layerr/dist/global.js","webpack:///nextcloud/node_modules/stream-http/index.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/state.js","webpack:///nextcloud/node_modules/path-posix/index.js","webpack:///nextcloud/node_modules/is-regex/index.js","webpack:///nextcloud/node_modules/webdav/node_modules/fast-xml-parser/src/fxp.js","webpack:///nextcloud/node_modules/side-channel-list/index.js","webpack:///nextcloud/node_modules/webdav/node_modules/entities/dist/esm/index.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack:///nextcloud/apps/comments/src/utils/davUtils.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack:///nextcloud/node_modules/layerr/dist/layerr.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/getFileContents.js","webpack:///nextcloud/node_modules/webdav/node_modules/minimatch/dist/esm/ast.js","webpack:///nextcloud/node_modules/webdav/dist/node/auth/basic.js","webpack:///nextcloud/node_modules/hot-patcher/dist/patcher.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack:///nextcloud/node_modules/hot-patcher/dist/functions.js","webpack:///nextcloud/node_modules/webdav/dist/node/compat/env.js","webpack:///nextcloud/node_modules/webdav/node_modules/minimatch/dist/esm/unescape.js","webpack:///nextcloud/node_modules/webdav/node_modules/minimatch/dist/esm/escape.js","webpack:///nextcloud/node_modules/webdav/node_modules/entities/dist/esm/decode.js","webpack:///nextcloud/node_modules/nested-property/dist/nested-property.js","webpack:///nextcloud/node_modules/webdav/node_modules/entities/dist/esm/decode-codepoint.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/xml.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/createDirectory.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/putFileContents.js","webpack:///nextcloud/apps/comments/src/services/DavClient.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/crypto.js","webpack:///nextcloud/apps/comments/src/services/GetComments.ts","webpack:///nextcloud/node_modules/webdav/dist/node/tools/path.js","webpack:///nextcloud/node_modules/webdav/dist/node/auth/index.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack:///nextcloud/node_modules/qs/lib/utils.js","webpack:///nextcloud/node_modules/webdav/dist/node/types.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/body.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/lock.js","webpack:///nextcloud/node_modules/webdav/node_modules/entities/dist/esm/escape.js","webpack:///nextcloud/node_modules/util/util.js","webpack:///nextcloud/node_modules/webdav/node_modules/fast-xml-parser/src/ignoreAttributes.js","webpack:///nextcloud/node_modules/webdav/node_modules/minimatch/dist/esm/index.js","webpack:///nextcloud/node_modules/webdav/node_modules/strnum/strnum.js","webpack:///nextcloud/node_modules/is-arguments/index.js","webpack:///nextcloud/node_modules/webdav/dist/node/compat/arrayBuffer.js","webpack:///nextcloud/node_modules/is-generator-function/index.js","webpack:///nextcloud/node_modules/util/support/types.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/copyFile.js","webpack:///nextcloud/node_modules/webdav/node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/_stream_readable.js","webpack:///nextcloud/node_modules/webdav/dist/node/compat/buffer.js","webpack:///nextcloud/node_modules/webdav/node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js","webpack:///nextcloud/node_modules/qs/lib/index.js","webpack:///nextcloud/node_modules/stream-http/lib/request.js","webpack:///nextcloud/node_modules/webdav/node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/encode.js","webpack:///nextcloud/node_modules/xtend/immutable.js","webpack:///nextcloud/node_modules/object-inspect/index.js","webpack:///nextcloud/node_modules/url-parse/index.js","webpack:///nextcloud/node_modules/qs/lib/parse.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/readable-browser.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/_stream_duplex.js","webpack:///nextcloud/node_modules/byte-length/dist/index.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/createStream.js","webpack:///nextcloud/node_modules/brace-expansion/index.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/size.js","webpack:///nextcloud/node_modules/side-channel-weakmap/index.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/errors-browser.js","webpack:///nextcloud/node_modules/webdav/node_modules/minimatch/dist/esm/brace-expressions.js","webpack:///nextcloud/node_modules/querystringify/index.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/directoryContents.js","webpack:///nextcloud/node_modules/webdav/node_modules/fast-xml-parser/src/xmlparser/node2json.js","webpack:///nextcloud/node_modules/qs/lib/formats.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/exists.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/customRequest.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/moveFile.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/deleteFile.js","webpack:///nextcloud/node_modules/layerr/dist/tools.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/merge.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/headers.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/search.js","webpack:///nextcloud/node_modules/side-channel-map/index.js","webpack:///nextcloud/node_modules/util/support/isBufferBrowser.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/partialUpdateFileContents.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/_stream_passthrough.js","webpack:///nextcloud/node_modules/webdav/node_modules/minimatch/dist/esm/assert-valid-pattern.js","webpack:///nextcloud/node_modules/webdav/dist/node/compat/patcher.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/stat.js","webpack:///nextcloud/node_modules/webdav/dist/node/factory.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/url.js","webpack:///nextcloud/node_modules/base-64/base64.js","webpack:///nextcloud/node_modules/webdav/dist/node/operations/getQuota.js","webpack:///nextcloud/node_modules/builtin-status-codes/browser.js","webpack:///nextcloud/node_modules/webdav/node_modules/fast-xml-parser/src/util.js","webpack:///nextcloud/node_modules/url/url.js","webpack:///nextcloud/node_modules/webdav/dist/node/request.js","webpack:///nextcloud/node_modules/webdav/dist/node/auth/oauth.js","webpack:///nextcloud/node_modules/webdav/dist/node/auth/digest.js","webpack:///nextcloud/node_modules/webdav/dist/node/tools/dav.js","webpack:///nextcloud/node_modules/requires-port/index.js","webpack:///nextcloud/node_modules/layerr/dist/error.js","webpack:///nextcloud/node_modules/webdav/node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js","webpack:///nextcloud/node_modules/stream-http/node_modules/readable-stream/lib/_stream_transform.js","webpack:///nextcloud/apps/comments/src/logger.js","webpack:///nextcloud/node_modules/@buttercup/fetch/dist/index.browser.js","webpack:///nextcloud/node_modules/qs/lib/stringify.js","webpack:///nextcloud/node_modules/webdav/node_modules/fast-xml-parser/src/validator.js","webpack:///nextcloud/node_modules/safe-regex-test/index.js","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/ensure chunk","webpack:///nextcloud/webpack/runtime/get javascript chunk filename","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/webpack/runtime/make namespace object","webpack:///nextcloud/webpack/runtime/node module decorator","webpack:///nextcloud/webpack/runtime/runtimeId","webpack:///nextcloud/webpack/runtime/publicPath","webpack:///nextcloud/webpack/runtime/jsonp chunk loading","webpack:///nextcloud/webpack/runtime/nonce","webpack:///nextcloud/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"nextcloud-ui-legacy:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","function normalize (strArray) {\n  var resultArray = [];\n  if (strArray.length === 0) { return ''; }\n\n  if (typeof strArray[0] !== 'string') {\n    throw new TypeError('Url must be a string. Received ' + strArray[0]);\n  }\n\n  // If the first part is a plain protocol, we combine it with the next part.\n  if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1) {\n    var first = strArray.shift();\n    strArray[0] = first + strArray[0];\n  }\n\n  // There must be two or three slashes in the file protocol, two slashes in anything else.\n  if (strArray[0].match(/^file:\\/\\/\\//)) {\n    strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\n  } else {\n    strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\n  }\n\n  for (var i = 0; i < strArray.length; i++) {\n    var component = strArray[i];\n\n    if (typeof component !== 'string') {\n      throw new TypeError('Url must be a string. Received ' + component);\n    }\n\n    if (component === '') { continue; }\n\n    if (i > 0) {\n      // Removing the starting slashes for each component but the first.\n      component = component.replace(/^[\\/]+/, '');\n    }\n    if (i < strArray.length - 1) {\n      // Removing the ending slashes for each component but the last.\n      component = component.replace(/[\\/]+$/, '');\n    } else {\n      // For the last component we will combine multiple slashes to a single one.\n      component = component.replace(/[\\/]+$/, '/');\n    }\n\n    resultArray.push(component);\n\n  }\n\n  var str = resultArray.join('/');\n  // Each input component is now separated by a single slash except the possible first plain protocol part.\n\n  // remove trailing slash before parameters or hash\n  str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\n\n  // replace ? in parameters with &\n  var parts = str.split('?');\n  str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\n\n  return str;\n}\n\nexport default function urlJoin() {\n  var input;\n\n  if (typeof arguments[0] === 'object') {\n    input = arguments[0];\n  } else {\n    input = [].slice.call(arguments);\n  }\n\n  return normalize(input);\n}\n","'use strict';\n\nvar $TypeError = require('es-errors/type');\nvar inspect = require('object-inspect');\nvar getSideChannelList = require('side-channel-list');\nvar getSideChannelMap = require('side-channel-map');\nvar getSideChannelWeakMap = require('side-channel-weakmap');\n\nvar makeChannel = getSideChannelWeakMap || getSideChannelMap || getSideChannelList;\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @typedef {ReturnType<typeof getSideChannel>} Channel */\n\n\t/** @type {Channel | undefined} */ var $channelData;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\treturn !!$channelData && $channelData['delete'](key);\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn $channelData && $channelData.get(key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn !!$channelData && $channelData.has(key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$channelData) {\n\t\t\t\t$channelData = makeChannel();\n\t\t\t}\n\n\t\t\t$channelData.set(key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n","'use strict';\n\n// eslint-disable-next-line no-extra-parens, no-empty-function\nconst cached = /** @type {GeneratorFunctionConstructor} */ (function* () {}.constructor);\n\n/** @type {import('.')} */\nmodule.exports = () => cached;\n\n","'use strict';\n\nclass XmlNode{\n  constructor(tagname) {\n    this.tagname = tagname;\n    this.child = []; //nested tags, text, cdata, comments in order\n    this[\":@\"] = {}; //attributes map\n  }\n  add(key,val){\n    // this.child.push( {name : key, val: val, isCdata: isCdata });\n    if(key === \"__proto__\") key = \"#__proto__\";\n    this.child.push( {[key]: val });\n  }\n  addChild(node) {\n    if(node.tagname === \"__proto__\") node.tagname = \"#__proto__\";\n    if(node[\":@\"] && Object.keys(node[\":@\"]).length > 0){\n      this.child.push( { [node.tagname]: node.child, [\":@\"]: node[\":@\"] });\n    }else{\n      this.child.push( { [node.tagname]: node.child });\n    }\n  };\n};\n\n\nmodule.exports = XmlNode;","'use strict';\n//parse Empty Node as self closing node\nconst buildFromOrderedJs = require('./orderedJs2Xml');\nconst getIgnoreAttributesFn = require('../ignoreAttributes')\n\nconst defaultOptions = {\n  attributeNamePrefix: '@_',\n  attributesGroupName: false,\n  textNodeName: '#text',\n  ignoreAttributes: true,\n  cdataPropName: false,\n  format: false,\n  indentBy: '  ',\n  suppressEmptyNode: false,\n  suppressUnpairedNode: true,\n  suppressBooleanAttributes: true,\n  tagValueProcessor: function(key, a) {\n    return a;\n  },\n  attributeValueProcessor: function(attrName, a) {\n    return a;\n  },\n  preserveOrder: false,\n  commentPropName: false,\n  unpairedTags: [],\n  entities: [\n    { regex: new RegExp(\"&\", \"g\"), val: \"&amp;\" },//it must be on top\n    { regex: new RegExp(\">\", \"g\"), val: \"&gt;\" },\n    { regex: new RegExp(\"<\", \"g\"), val: \"&lt;\" },\n    { regex: new RegExp(\"\\'\", \"g\"), val: \"&apos;\" },\n    { regex: new RegExp(\"\\\"\", \"g\"), val: \"&quot;\" }\n  ],\n  processEntities: true,\n  stopNodes: [],\n  // transformTagName: false,\n  // transformAttributeName: false,\n  oneListGroup: false\n};\n\nfunction Builder(options) {\n  this.options = Object.assign({}, defaultOptions, options);\n  if (this.options.ignoreAttributes === true || this.options.attributesGroupName) {\n    this.isAttribute = function(/*a*/) {\n      return false;\n    };\n  } else {\n    this.ignoreAttributesFn = getIgnoreAttributesFn(this.options.ignoreAttributes)\n    this.attrPrefixLen = this.options.attributeNamePrefix.length;\n    this.isAttribute = isAttribute;\n  }\n\n  this.processTextOrObjNode = processTextOrObjNode\n\n  if (this.options.format) {\n    this.indentate = indentate;\n    this.tagEndChar = '>\\n';\n    this.newLine = '\\n';\n  } else {\n    this.indentate = function() {\n      return '';\n    };\n    this.tagEndChar = '>';\n    this.newLine = '';\n  }\n}\n\nBuilder.prototype.build = function(jObj) {\n  if(this.options.preserveOrder){\n    return buildFromOrderedJs(jObj, this.options);\n  }else {\n    if(Array.isArray(jObj) && this.options.arrayNodeName && this.options.arrayNodeName.length > 1){\n      jObj = {\n        [this.options.arrayNodeName] : jObj\n      }\n    }\n    return this.j2x(jObj, 0, []).val;\n  }\n};\n\nBuilder.prototype.j2x = function(jObj, level, ajPath) {\n  let attrStr = '';\n  let val = '';\n  const jPath = ajPath.join('.')\n  for (let key in jObj) {\n    if(!Object.prototype.hasOwnProperty.call(jObj, key)) continue;\n    if (typeof jObj[key] === 'undefined') {\n      // supress undefined node only if it is not an attribute\n      if (this.isAttribute(key)) {\n        val += '';\n      }\n    } else if (jObj[key] === null) {\n      // null attribute should be ignored by the attribute list, but should not cause the tag closing\n      if (this.isAttribute(key)) {\n        val += '';\n      } else if (key === this.options.cdataPropName) {\n        val += '';\n      } else if (key[0] === '?') {\n        val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n      } else {\n        val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n      }\n      // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n    } else if (jObj[key] instanceof Date) {\n      val += this.buildTextValNode(jObj[key], key, '', level);\n    } else if (typeof jObj[key] !== 'object') {\n      //premitive type\n      const attr = this.isAttribute(key);\n      if (attr && !this.ignoreAttributesFn(attr, jPath)) {\n        attrStr += this.buildAttrPairStr(attr, '' + jObj[key]);\n      } else if (!attr) {\n        //tag value\n        if (key === this.options.textNodeName) {\n          let newval = this.options.tagValueProcessor(key, '' + jObj[key]);\n          val += this.replaceEntitiesValue(newval);\n        } else {\n          val += this.buildTextValNode(jObj[key], key, '', level);\n        }\n      }\n    } else if (Array.isArray(jObj[key])) {\n      //repeated nodes\n      const arrLen = jObj[key].length;\n      let listTagVal = \"\";\n      let listTagAttr = \"\";\n      for (let j = 0; j < arrLen; j++) {\n        const item = jObj[key][j];\n        if (typeof item === 'undefined') {\n          // supress undefined node\n        } else if (item === null) {\n          if(key[0] === \"?\") val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n          else val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n          // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n        } else if (typeof item === 'object') {\n          if(this.options.oneListGroup){\n            const result = this.j2x(item, level + 1, ajPath.concat(key));\n            listTagVal += result.val;\n            if (this.options.attributesGroupName && item.hasOwnProperty(this.options.attributesGroupName)) {\n              listTagAttr += result.attrStr\n            }\n          }else{\n            listTagVal += this.processTextOrObjNode(item, key, level, ajPath)\n          }\n        } else {\n          if (this.options.oneListGroup) {\n            let textValue = this.options.tagValueProcessor(key, item);\n            textValue = this.replaceEntitiesValue(textValue);\n            listTagVal += textValue;\n          } else {\n            listTagVal += this.buildTextValNode(item, key, '', level);\n          }\n        }\n      }\n      if(this.options.oneListGroup){\n        listTagVal = this.buildObjectNode(listTagVal, key, listTagAttr, level);\n      }\n      val += listTagVal;\n    } else {\n      //nested node\n      if (this.options.attributesGroupName && key === this.options.attributesGroupName) {\n        const Ks = Object.keys(jObj[key]);\n        const L = Ks.length;\n        for (let j = 0; j < L; j++) {\n          attrStr += this.buildAttrPairStr(Ks[j], '' + jObj[key][Ks[j]]);\n        }\n      } else {\n        val += this.processTextOrObjNode(jObj[key], key, level, ajPath)\n      }\n    }\n  }\n  return {attrStr: attrStr, val: val};\n};\n\nBuilder.prototype.buildAttrPairStr = function(attrName, val){\n  val = this.options.attributeValueProcessor(attrName, '' + val);\n  val = this.replaceEntitiesValue(val);\n  if (this.options.suppressBooleanAttributes && val === \"true\") {\n    return ' ' + attrName;\n  } else return ' ' + attrName + '=\"' + val + '\"';\n}\n\nfunction processTextOrObjNode (object, key, level, ajPath) {\n  const result = this.j2x(object, level + 1, ajPath.concat(key));\n  if (object[this.options.textNodeName] !== undefined && Object.keys(object).length === 1) {\n    return this.buildTextValNode(object[this.options.textNodeName], key, result.attrStr, level);\n  } else {\n    return this.buildObjectNode(result.val, key, result.attrStr, level);\n  }\n}\n\nBuilder.prototype.buildObjectNode = function(val, key, attrStr, level) {\n  if(val === \"\"){\n    if(key[0] === \"?\") return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar;\n    else {\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }\n  }else{\n\n    let tagEndExp = '</' + key + this.tagEndChar;\n    let piClosingChar = \"\";\n    \n    if(key[0] === \"?\") {\n      piClosingChar = \"?\";\n      tagEndExp = \"\";\n    }\n  \n    // attrStr is an empty string in case the attribute came as undefined or null\n    if ((attrStr || attrStr === '') && val.indexOf('<') === -1) {\n      return ( this.indentate(level) + '<' +  key + attrStr + piClosingChar + '>' + val + tagEndExp );\n    } else if (this.options.commentPropName !== false && key === this.options.commentPropName && piClosingChar.length === 0) {\n      return this.indentate(level) + `<!--${val}-->` + this.newLine;\n    }else {\n      return (\n        this.indentate(level) + '<' + key + attrStr + piClosingChar + this.tagEndChar +\n        val +\n        this.indentate(level) + tagEndExp    );\n    }\n  }\n}\n\nBuilder.prototype.closeTag = function(key){\n  let closeTag = \"\";\n  if(this.options.unpairedTags.indexOf(key) !== -1){ //unpaired\n    if(!this.options.suppressUnpairedNode) closeTag = \"/\"\n  }else if(this.options.suppressEmptyNode){ //empty\n    closeTag = \"/\";\n  }else{\n    closeTag = `></${key}`\n  }\n  return closeTag;\n}\n\nfunction buildEmptyObjNode(val, key, attrStr, level) {\n  if (val !== '') {\n    return this.buildObjectNode(val, key, attrStr, level);\n  } else {\n    if(key[0] === \"?\") return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar;\n    else {\n      return  this.indentate(level) + '<' + key + attrStr + '/' + this.tagEndChar;\n      // return this.buildTagStr(level,key, attrStr);\n    }\n  }\n}\n\nBuilder.prototype.buildTextValNode = function(val, key, attrStr, level) {\n  if (this.options.cdataPropName !== false && key === this.options.cdataPropName) {\n    return this.indentate(level) + `<![CDATA[${val}]]>` +  this.newLine;\n  }else if (this.options.commentPropName !== false && key === this.options.commentPropName) {\n    return this.indentate(level) + `<!--${val}-->` +  this.newLine;\n  }else if(key[0] === \"?\") {//PI tag\n    return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar; \n  }else{\n    let textValue = this.options.tagValueProcessor(key, val);\n    textValue = this.replaceEntitiesValue(textValue);\n  \n    if( textValue === ''){\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }else{\n      return this.indentate(level) + '<' + key + attrStr + '>' +\n         textValue +\n        '</' + key + this.tagEndChar;\n    }\n  }\n}\n\nBuilder.prototype.replaceEntitiesValue = function(textValue){\n  if(textValue && textValue.length > 0 && this.options.processEntities){\n    for (let i=0; i<this.options.entities.length; i++) {\n      const entity = this.options.entities[i];\n      textValue = textValue.replace(entity.regex, entity.val);\n    }\n  }\n  return textValue;\n}\n\nfunction indentate(level) {\n  return this.options.indentBy.repeat(level);\n}\n\nfunction isAttribute(name /*, options*/) {\n  if (name.startsWith(this.options.attributeNamePrefix) && name !== this.options.textNodeName) {\n    return name.substr(this.attrPrefixLen);\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = Builder;\n","import { minimatch } from \"minimatch\";\nimport { convertResponseHeaders } from \"./tools/headers.js\";\nexport function createErrorFromResponse(response, prefix = \"\") {\n    const err = new Error(`${prefix}Invalid response: ${response.status} ${response.statusText}`);\n    err.status = response.status;\n    err.response = response;\n    return err;\n}\nexport function handleResponseCode(context, response) {\n    const { status } = response;\n    if (status === 401 && context.digest)\n        return response;\n    if (status >= 400) {\n        const err = createErrorFromResponse(response);\n        throw err;\n    }\n    return response;\n}\nexport function processGlobFilter(files, glob) {\n    return files.filter(file => minimatch(file.filename, glob, { matchBase: true }));\n}\n/**\n * Process a response payload (eg. from `customRequest`) and\n *  prepare it for further processing. Exposed for custom\n *  request handling.\n * @param response The response for a request\n * @param data The data returned\n * @param isDetailed Whether or not a detailed result is\n *  requested\n * @returns The response data, or a detailed response object\n *  if required\n */\nexport function processResponsePayload(response, data, isDetailed = false) {\n    return isDetailed\n        ? {\n            data,\n            headers: response.headers ? convertResponseHeaders(response.headers) : {},\n            status: response.status,\n            statusText: response.statusText\n        }\n        : data;\n}\n","import { l as logger, F as FileType } from \"./chunks/folder-CeyZUHai.mjs\";\nimport { a, b, N, c, P } from \"./chunks/folder-CeyZUHai.mjs\";\nimport { TypedEventTarget } from \"typescript-event-target\";\nimport isSvg from \"is-svg\";\nimport { getCapabilities } from \"@nextcloud/capabilities\";\nimport { extname, basename } from \"@nextcloud/paths\";\nimport { getCanonicalLocale, getLanguage } from \"@nextcloud/l10n\";\nconst DefaultType = Object.freeze({\n  DEFAULT: \"default\",\n  HIDDEN: \"hidden\"\n});\nclass FileAction {\n  _action;\n  constructor(action) {\n    this.validateAction(action);\n    this._action = action;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get title() {\n    return this._action.title;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  get execBatch() {\n    return this._action.execBatch;\n  }\n  get hotkey() {\n    return this._action.hotkey;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get parent() {\n    return this._action.parent;\n  }\n  get default() {\n    return this._action.default;\n  }\n  get destructive() {\n    return this._action.destructive;\n  }\n  get inline() {\n    return this._action.inline;\n  }\n  get renderInline() {\n    return this._action.renderInline;\n  }\n  validateAction(action) {\n    if (!action.id || typeof action.id !== \"string\") {\n      throw new Error(\"Invalid id\");\n    }\n    if (!action.displayName || typeof action.displayName !== \"function\") {\n      throw new Error(\"Invalid displayName function\");\n    }\n    if (\"title\" in action && typeof action.title !== \"function\") {\n      throw new Error(\"Invalid title function\");\n    }\n    if (!action.iconSvgInline || typeof action.iconSvgInline !== \"function\") {\n      throw new Error(\"Invalid iconSvgInline function\");\n    }\n    if (!action.exec || typeof action.exec !== \"function\") {\n      throw new Error(\"Invalid exec function\");\n    }\n    if (\"enabled\" in action && typeof action.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled function\");\n    }\n    if (\"execBatch\" in action && typeof action.execBatch !== \"function\") {\n      throw new Error(\"Invalid execBatch function\");\n    }\n    if (\"order\" in action && typeof action.order !== \"number\") {\n      throw new Error(\"Invalid order\");\n    }\n    if (action.destructive !== void 0 && typeof action.destructive !== \"boolean\") {\n      throw new Error(\"Invalid destructive flag\");\n    }\n    if (\"parent\" in action && typeof action.parent !== \"string\") {\n      throw new Error(\"Invalid parent\");\n    }\n    if (action.default && !Object.values(DefaultType).includes(action.default)) {\n      throw new Error(\"Invalid default\");\n    }\n    if (\"inline\" in action && typeof action.inline !== \"function\") {\n      throw new Error(\"Invalid inline function\");\n    }\n    if (\"renderInline\" in action && typeof action.renderInline !== \"function\") {\n      throw new Error(\"Invalid renderInline function\");\n    }\n    if (\"hotkey\" in action && action.hotkey !== void 0) {\n      if (typeof action.hotkey !== \"object\") {\n        throw new Error(\"Invalid hotkey configuration\");\n      }\n      if (typeof action.hotkey.key !== \"string\" || !action.hotkey.key) {\n        throw new Error(\"Missing or invalid hotkey key\");\n      }\n      if (typeof action.hotkey.description !== \"string\" || !action.hotkey.description) {\n        throw new Error(\"Missing or invalid hotkey description\");\n      }\n    }\n  }\n}\nfunction registerFileAction(action) {\n  if (typeof window._nc_fileactions === \"undefined\") {\n    window._nc_fileactions = [];\n    logger.debug(\"FileActions initialized\");\n  }\n  if (window._nc_fileactions.find((search) => search.id === action.id)) {\n    logger.error(`FileAction ${action.id} already registered`, { action });\n    return;\n  }\n  window._nc_fileactions.push(action);\n}\nfunction getFileActions() {\n  if (typeof window._nc_fileactions === \"undefined\") {\n    window._nc_fileactions = [];\n    logger.debug(\"FileActions initialized\");\n  }\n  return window._nc_fileactions;\n}\nclass FileListAction {\n  _action;\n  constructor(action) {\n    this.validateAction(action);\n    this._action = action;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  validateAction(action) {\n    if (!action.id || typeof action.id !== \"string\") {\n      throw new Error(\"Invalid id\");\n    }\n    if (!action.displayName || typeof action.displayName !== \"function\") {\n      throw new Error(\"Invalid displayName function\");\n    }\n    if (\"iconSvgInline\" in action && typeof action.iconSvgInline !== \"function\") {\n      throw new Error(\"Invalid iconSvgInline function\");\n    }\n    if (\"order\" in action && typeof action.order !== \"number\") {\n      throw new Error(\"Invalid order\");\n    }\n    if (\"enabled\" in action && typeof action.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled function\");\n    }\n    if (!action.exec || typeof action.exec !== \"function\") {\n      throw new Error(\"Invalid exec function\");\n    }\n  }\n}\nfunction registerFileListAction(action) {\n  if (typeof window._nc_filelistactions === \"undefined\") {\n    window._nc_filelistactions = [];\n  }\n  if (window._nc_filelistactions.find((listAction) => listAction.id === action.id)) {\n    logger.error(`FileListAction with id \"${action.id}\" is already registered`, { action });\n    return;\n  }\n  window._nc_filelistactions.push(action);\n}\nfunction getFileListActions() {\n  if (typeof window._nc_filelistactions === \"undefined\") {\n    window._nc_filelistactions = [];\n  }\n  return window._nc_filelistactions;\n}\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nvar debug_1;\nvar hasRequiredDebug;\nfunction requireDebug() {\n  if (hasRequiredDebug) return debug_1;\n  hasRequiredDebug = 1;\n  const debug = typeof process === \"object\" && process.env && process.env.NODE_DEBUG && /\\bsemver\\b/i.test(process.env.NODE_DEBUG) ? (...args) => console.error(\"SEMVER\", ...args) : () => {\n  };\n  debug_1 = debug;\n  return debug_1;\n}\nvar constants;\nvar hasRequiredConstants;\nfunction requireConstants() {\n  if (hasRequiredConstants) return constants;\n  hasRequiredConstants = 1;\n  const SEMVER_SPEC_VERSION = \"2.0.0\";\n  const MAX_LENGTH = 256;\n  const MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || /* istanbul ignore next */\n  9007199254740991;\n  const MAX_SAFE_COMPONENT_LENGTH = 16;\n  const MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6;\n  const RELEASE_TYPES = [\n    \"major\",\n    \"premajor\",\n    \"minor\",\n    \"preminor\",\n    \"patch\",\n    \"prepatch\",\n    \"prerelease\"\n  ];\n  constants = {\n    MAX_LENGTH,\n    MAX_SAFE_COMPONENT_LENGTH,\n    MAX_SAFE_BUILD_LENGTH,\n    MAX_SAFE_INTEGER,\n    RELEASE_TYPES,\n    SEMVER_SPEC_VERSION,\n    FLAG_INCLUDE_PRERELEASE: 1,\n    FLAG_LOOSE: 2\n  };\n  return constants;\n}\nvar re = { exports: {} };\nvar hasRequiredRe;\nfunction requireRe() {\n  if (hasRequiredRe) return re.exports;\n  hasRequiredRe = 1;\n  (function(module, exports) {\n    const {\n      MAX_SAFE_COMPONENT_LENGTH,\n      MAX_SAFE_BUILD_LENGTH,\n      MAX_LENGTH\n    } = requireConstants();\n    const debug = requireDebug();\n    exports = module.exports = {};\n    const re2 = exports.re = [];\n    const safeRe = exports.safeRe = [];\n    const src = exports.src = [];\n    const safeSrc = exports.safeSrc = [];\n    const t = exports.t = {};\n    let R = 0;\n    const LETTERDASHNUMBER = \"[a-zA-Z0-9-]\";\n    const safeRegexReplacements = [\n      [\"\\\\s\", 1],\n      [\"\\\\d\", MAX_LENGTH],\n      [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH]\n    ];\n    const makeSafeRegex = (value) => {\n      for (const [token, max] of safeRegexReplacements) {\n        value = value.split(`${token}*`).join(`${token}{0,${max}}`).split(`${token}+`).join(`${token}{1,${max}}`);\n      }\n      return value;\n    };\n    const createToken = (name, value, isGlobal) => {\n      const safe = makeSafeRegex(value);\n      const index = R++;\n      debug(name, index, value);\n      t[name] = index;\n      src[index] = value;\n      safeSrc[index] = safe;\n      re2[index] = new RegExp(value, isGlobal ? \"g\" : void 0);\n      safeRe[index] = new RegExp(safe, isGlobal ? \"g\" : void 0);\n    };\n    createToken(\"NUMERICIDENTIFIER\", \"0|[1-9]\\\\d*\");\n    createToken(\"NUMERICIDENTIFIERLOOSE\", \"\\\\d+\");\n    createToken(\"NONNUMERICIDENTIFIER\", `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`);\n    createToken(\"MAINVERSION\", `(${src[t.NUMERICIDENTIFIER]})\\\\.(${src[t.NUMERICIDENTIFIER]})\\\\.(${src[t.NUMERICIDENTIFIER]})`);\n    createToken(\"MAINVERSIONLOOSE\", `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.(${src[t.NUMERICIDENTIFIERLOOSE]})`);\n    createToken(\"PRERELEASEIDENTIFIER\", `(?:${src[t.NONNUMERICIDENTIFIER]}|${src[t.NUMERICIDENTIFIER]})`);\n    createToken(\"PRERELEASEIDENTIFIERLOOSE\", `(?:${src[t.NONNUMERICIDENTIFIER]}|${src[t.NUMERICIDENTIFIERLOOSE]})`);\n    createToken(\"PRERELEASE\", `(?:-(${src[t.PRERELEASEIDENTIFIER]}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`);\n    createToken(\"PRERELEASELOOSE\", `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`);\n    createToken(\"BUILDIDENTIFIER\", `${LETTERDASHNUMBER}+`);\n    createToken(\"BUILD\", `(?:\\\\+(${src[t.BUILDIDENTIFIER]}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`);\n    createToken(\"FULLPLAIN\", `v?${src[t.MAINVERSION]}${src[t.PRERELEASE]}?${src[t.BUILD]}?`);\n    createToken(\"FULL\", `^${src[t.FULLPLAIN]}$`);\n    createToken(\"LOOSEPLAIN\", `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]}${src[t.PRERELEASELOOSE]}?${src[t.BUILD]}?`);\n    createToken(\"LOOSE\", `^${src[t.LOOSEPLAIN]}$`);\n    createToken(\"GTLT\", \"((?:<|>)?=?)\");\n    createToken(\"XRANGEIDENTIFIERLOOSE\", `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`);\n    createToken(\"XRANGEIDENTIFIER\", `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`);\n    createToken(\"XRANGEPLAIN\", `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})(?:\\\\.(${src[t.XRANGEIDENTIFIER]})(?:\\\\.(${src[t.XRANGEIDENTIFIER]})(?:${src[t.PRERELEASE]})?${src[t.BUILD]}?)?)?`);\n    createToken(\"XRANGEPLAINLOOSE\", `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})(?:${src[t.PRERELEASELOOSE]})?${src[t.BUILD]}?)?)?`);\n    createToken(\"XRANGE\", `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`);\n    createToken(\"XRANGELOOSE\", `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`);\n    createToken(\"COERCEPLAIN\", `${\"(^|[^\\\\d])(\\\\d{1,\"}${MAX_SAFE_COMPONENT_LENGTH}})(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`);\n    createToken(\"COERCE\", `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`);\n    createToken(\"COERCEFULL\", src[t.COERCEPLAIN] + `(?:${src[t.PRERELEASE]})?(?:${src[t.BUILD]})?(?:$|[^\\\\d])`);\n    createToken(\"COERCERTL\", src[t.COERCE], true);\n    createToken(\"COERCERTLFULL\", src[t.COERCEFULL], true);\n    createToken(\"LONETILDE\", \"(?:~>?)\");\n    createToken(\"TILDETRIM\", `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true);\n    exports.tildeTrimReplace = \"$1~\";\n    createToken(\"TILDE\", `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);\n    createToken(\"TILDELOOSE\", `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`);\n    createToken(\"LONECARET\", \"(?:\\\\^)\");\n    createToken(\"CARETTRIM\", `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true);\n    exports.caretTrimReplace = \"$1^\";\n    createToken(\"CARET\", `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);\n    createToken(\"CARETLOOSE\", `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`);\n    createToken(\"COMPARATORLOOSE\", `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`);\n    createToken(\"COMPARATOR\", `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`);\n    createToken(\"COMPARATORTRIM\", `(\\\\s*)${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true);\n    exports.comparatorTrimReplace = \"$1$2$3\";\n    createToken(\"HYPHENRANGE\", `^\\\\s*(${src[t.XRANGEPLAIN]})\\\\s+-\\\\s+(${src[t.XRANGEPLAIN]})\\\\s*$`);\n    createToken(\"HYPHENRANGELOOSE\", `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})\\\\s+-\\\\s+(${src[t.XRANGEPLAINLOOSE]})\\\\s*$`);\n    createToken(\"STAR\", \"(<|>)?=?\\\\s*\\\\*\");\n    createToken(\"GTE0\", \"^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$\");\n    createToken(\"GTE0PRE\", \"^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$\");\n  })(re, re.exports);\n  return re.exports;\n}\nvar parseOptions_1;\nvar hasRequiredParseOptions;\nfunction requireParseOptions() {\n  if (hasRequiredParseOptions) return parseOptions_1;\n  hasRequiredParseOptions = 1;\n  const looseOption = Object.freeze({ loose: true });\n  const emptyOpts = Object.freeze({});\n  const parseOptions = (options) => {\n    if (!options) {\n      return emptyOpts;\n    }\n    if (typeof options !== \"object\") {\n      return looseOption;\n    }\n    return options;\n  };\n  parseOptions_1 = parseOptions;\n  return parseOptions_1;\n}\nvar identifiers;\nvar hasRequiredIdentifiers;\nfunction requireIdentifiers() {\n  if (hasRequiredIdentifiers) return identifiers;\n  hasRequiredIdentifiers = 1;\n  const numeric = /^[0-9]+$/;\n  const compareIdentifiers = (a2, b2) => {\n    if (typeof a2 === \"number\" && typeof b2 === \"number\") {\n      return a2 === b2 ? 0 : a2 < b2 ? -1 : 1;\n    }\n    const anum = numeric.test(a2);\n    const bnum = numeric.test(b2);\n    if (anum && bnum) {\n      a2 = +a2;\n      b2 = +b2;\n    }\n    return a2 === b2 ? 0 : anum && !bnum ? -1 : bnum && !anum ? 1 : a2 < b2 ? -1 : 1;\n  };\n  const rcompareIdentifiers = (a2, b2) => compareIdentifiers(b2, a2);\n  identifiers = {\n    compareIdentifiers,\n    rcompareIdentifiers\n  };\n  return identifiers;\n}\nvar semver;\nvar hasRequiredSemver;\nfunction requireSemver() {\n  if (hasRequiredSemver) return semver;\n  hasRequiredSemver = 1;\n  const debug = requireDebug();\n  const { MAX_LENGTH, MAX_SAFE_INTEGER } = requireConstants();\n  const { safeRe: re2, t } = requireRe();\n  const parseOptions = requireParseOptions();\n  const { compareIdentifiers } = requireIdentifiers();\n  class SemVer {\n    constructor(version, options) {\n      options = parseOptions(options);\n      if (version instanceof SemVer) {\n        if (version.loose === !!options.loose && version.includePrerelease === !!options.includePrerelease) {\n          return version;\n        } else {\n          version = version.version;\n        }\n      } else if (typeof version !== \"string\") {\n        throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`);\n      }\n      if (version.length > MAX_LENGTH) {\n        throw new TypeError(\n          `version is longer than ${MAX_LENGTH} characters`\n        );\n      }\n      debug(\"SemVer\", version, options);\n      this.options = options;\n      this.loose = !!options.loose;\n      this.includePrerelease = !!options.includePrerelease;\n      const m = version.trim().match(options.loose ? re2[t.LOOSE] : re2[t.FULL]);\n      if (!m) {\n        throw new TypeError(`Invalid Version: ${version}`);\n      }\n      this.raw = version;\n      this.major = +m[1];\n      this.minor = +m[2];\n      this.patch = +m[3];\n      if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n        throw new TypeError(\"Invalid major version\");\n      }\n      if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n        throw new TypeError(\"Invalid minor version\");\n      }\n      if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n        throw new TypeError(\"Invalid patch version\");\n      }\n      if (!m[4]) {\n        this.prerelease = [];\n      } else {\n        this.prerelease = m[4].split(\".\").map((id) => {\n          if (/^[0-9]+$/.test(id)) {\n            const num = +id;\n            if (num >= 0 && num < MAX_SAFE_INTEGER) {\n              return num;\n            }\n          }\n          return id;\n        });\n      }\n      this.build = m[5] ? m[5].split(\".\") : [];\n      this.format();\n    }\n    format() {\n      this.version = `${this.major}.${this.minor}.${this.patch}`;\n      if (this.prerelease.length) {\n        this.version += `-${this.prerelease.join(\".\")}`;\n      }\n      return this.version;\n    }\n    toString() {\n      return this.version;\n    }\n    compare(other) {\n      debug(\"SemVer.compare\", this.version, this.options, other);\n      if (!(other instanceof SemVer)) {\n        if (typeof other === \"string\" && other === this.version) {\n          return 0;\n        }\n        other = new SemVer(other, this.options);\n      }\n      if (other.version === this.version) {\n        return 0;\n      }\n      return this.compareMain(other) || this.comparePre(other);\n    }\n    compareMain(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      if (this.major < other.major) {\n        return -1;\n      }\n      if (this.major > other.major) {\n        return 1;\n      }\n      if (this.minor < other.minor) {\n        return -1;\n      }\n      if (this.minor > other.minor) {\n        return 1;\n      }\n      if (this.patch < other.patch) {\n        return -1;\n      }\n      if (this.patch > other.patch) {\n        return 1;\n      }\n      return 0;\n    }\n    comparePre(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      if (this.prerelease.length && !other.prerelease.length) {\n        return -1;\n      } else if (!this.prerelease.length && other.prerelease.length) {\n        return 1;\n      } else if (!this.prerelease.length && !other.prerelease.length) {\n        return 0;\n      }\n      let i = 0;\n      do {\n        const a2 = this.prerelease[i];\n        const b2 = other.prerelease[i];\n        debug(\"prerelease compare\", i, a2, b2);\n        if (a2 === void 0 && b2 === void 0) {\n          return 0;\n        } else if (b2 === void 0) {\n          return 1;\n        } else if (a2 === void 0) {\n          return -1;\n        } else if (a2 === b2) {\n          continue;\n        } else {\n          return compareIdentifiers(a2, b2);\n        }\n      } while (++i);\n    }\n    compareBuild(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      let i = 0;\n      do {\n        const a2 = this.build[i];\n        const b2 = other.build[i];\n        debug(\"build compare\", i, a2, b2);\n        if (a2 === void 0 && b2 === void 0) {\n          return 0;\n        } else if (b2 === void 0) {\n          return 1;\n        } else if (a2 === void 0) {\n          return -1;\n        } else if (a2 === b2) {\n          continue;\n        } else {\n          return compareIdentifiers(a2, b2);\n        }\n      } while (++i);\n    }\n    // preminor will bump the version up to the next minor release, and immediately\n    // down to pre-release. premajor and prepatch work the same way.\n    inc(release, identifier, identifierBase) {\n      if (release.startsWith(\"pre\")) {\n        if (!identifier && identifierBase === false) {\n          throw new Error(\"invalid increment argument: identifier is empty\");\n        }\n        if (identifier) {\n          const match = `-${identifier}`.match(this.options.loose ? re2[t.PRERELEASELOOSE] : re2[t.PRERELEASE]);\n          if (!match || match[1] !== identifier) {\n            throw new Error(`invalid identifier: ${identifier}`);\n          }\n        }\n      }\n      switch (release) {\n        case \"premajor\":\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor = 0;\n          this.major++;\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"preminor\":\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor++;\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"prepatch\":\n          this.prerelease.length = 0;\n          this.inc(\"patch\", identifier, identifierBase);\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        // If the input is a non-prerelease version, this acts the same as\n        // prepatch.\n        case \"prerelease\":\n          if (this.prerelease.length === 0) {\n            this.inc(\"patch\", identifier, identifierBase);\n          }\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"release\":\n          if (this.prerelease.length === 0) {\n            throw new Error(`version ${this.raw} is not a prerelease`);\n          }\n          this.prerelease.length = 0;\n          break;\n        case \"major\":\n          if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0) {\n            this.major++;\n          }\n          this.minor = 0;\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n        case \"minor\":\n          if (this.patch !== 0 || this.prerelease.length === 0) {\n            this.minor++;\n          }\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n        case \"patch\":\n          if (this.prerelease.length === 0) {\n            this.patch++;\n          }\n          this.prerelease = [];\n          break;\n        // This probably shouldn't be used publicly.\n        // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n        case \"pre\": {\n          const base = Number(identifierBase) ? 1 : 0;\n          if (this.prerelease.length === 0) {\n            this.prerelease = [base];\n          } else {\n            let i = this.prerelease.length;\n            while (--i >= 0) {\n              if (typeof this.prerelease[i] === \"number\") {\n                this.prerelease[i]++;\n                i = -2;\n              }\n            }\n            if (i === -1) {\n              if (identifier === this.prerelease.join(\".\") && identifierBase === false) {\n                throw new Error(\"invalid increment argument: identifier already exists\");\n              }\n              this.prerelease.push(base);\n            }\n          }\n          if (identifier) {\n            let prerelease = [identifier, base];\n            if (identifierBase === false) {\n              prerelease = [identifier];\n            }\n            if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n              if (isNaN(this.prerelease[1])) {\n                this.prerelease = prerelease;\n              }\n            } else {\n              this.prerelease = prerelease;\n            }\n          }\n          break;\n        }\n        default:\n          throw new Error(`invalid increment argument: ${release}`);\n      }\n      this.raw = this.format();\n      if (this.build.length) {\n        this.raw += `+${this.build.join(\".\")}`;\n      }\n      return this;\n    }\n  }\n  semver = SemVer;\n  return semver;\n}\nvar major_1;\nvar hasRequiredMajor;\nfunction requireMajor() {\n  if (hasRequiredMajor) return major_1;\n  hasRequiredMajor = 1;\n  const SemVer = requireSemver();\n  const major2 = (a2, loose) => new SemVer(a2, loose).major;\n  major_1 = major2;\n  return major_1;\n}\nvar majorExports = requireMajor();\nconst major = /* @__PURE__ */ getDefaultExportFromCjs(majorExports);\nvar parse_1;\nvar hasRequiredParse;\nfunction requireParse() {\n  if (hasRequiredParse) return parse_1;\n  hasRequiredParse = 1;\n  const SemVer = requireSemver();\n  const parse = (version, options, throwErrors = false) => {\n    if (version instanceof SemVer) {\n      return version;\n    }\n    try {\n      return new SemVer(version, options);\n    } catch (er) {\n      if (!throwErrors) {\n        return null;\n      }\n      throw er;\n    }\n  };\n  parse_1 = parse;\n  return parse_1;\n}\nvar valid_1;\nvar hasRequiredValid;\nfunction requireValid() {\n  if (hasRequiredValid) return valid_1;\n  hasRequiredValid = 1;\n  const parse = requireParse();\n  const valid2 = (version, options) => {\n    const v = parse(version, options);\n    return v ? v.version : null;\n  };\n  valid_1 = valid2;\n  return valid_1;\n}\nvar validExports = requireValid();\nconst valid = /* @__PURE__ */ getDefaultExportFromCjs(validExports);\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nclass ProxyBus {\n  bus;\n  constructor(bus2) {\n    if (typeof bus2.getVersion !== \"function\" || !valid(bus2.getVersion())) {\n      console.warn(\"Proxying an event bus with an unknown or invalid version\");\n    } else if (major(bus2.getVersion()) !== major(this.getVersion())) {\n      console.warn(\n        \"Proxying an event bus of version \" + bus2.getVersion() + \" with \" + this.getVersion()\n      );\n    }\n    this.bus = bus2;\n  }\n  getVersion() {\n    return \"3.3.3\";\n  }\n  subscribe(name, handler) {\n    this.bus.subscribe(name, handler);\n  }\n  unsubscribe(name, handler) {\n    this.bus.unsubscribe(name, handler);\n  }\n  emit(name, ...event) {\n    this.bus.emit(name, ...event);\n  }\n}\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nclass SimpleBus {\n  handlers = /* @__PURE__ */ new Map();\n  getVersion() {\n    return \"3.3.3\";\n  }\n  subscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).concat(\n        handler\n      )\n    );\n  }\n  unsubscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).filter((h) => h !== handler)\n    );\n  }\n  emit(name, ...event) {\n    const handlers = this.handlers.get(name) || [];\n    handlers.forEach((h) => {\n      try {\n        ;\n        h(event[0]);\n      } catch (e) {\n        console.error(\"could not invoke event listener\", e);\n      }\n    });\n  }\n}\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nlet bus = null;\nfunction getBus() {\n  if (bus !== null) {\n    return bus;\n  }\n  if (typeof window === \"undefined\") {\n    return new Proxy({}, {\n      get: () => {\n        return () => console.error(\n          \"Window not available, EventBus can not be established!\"\n        );\n      }\n    });\n  }\n  if (window.OC?._eventBus && typeof window._nc_event_bus === \"undefined\") {\n    console.warn(\n      \"found old event bus instance at OC._eventBus. Update your version!\"\n    );\n    window._nc_event_bus = window.OC._eventBus;\n  }\n  if (typeof window?._nc_event_bus !== \"undefined\") {\n    bus = new ProxyBus(window._nc_event_bus);\n  } else {\n    bus = window._nc_event_bus = new SimpleBus();\n  }\n  return bus;\n}\nfunction emit(name, ...event) {\n  getBus().emit(name, ...event);\n}\n/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nclass FileListFilter extends TypedEventTarget {\n  id;\n  order;\n  constructor(id, order = 100) {\n    super();\n    this.id = id;\n    this.order = order;\n  }\n  filter(nodes) {\n    throw new Error(\"Not implemented\");\n  }\n  updateChips(chips) {\n    this.dispatchTypedEvent(\"update:chips\", new CustomEvent(\"update:chips\", { detail: chips }));\n  }\n  filterUpdated() {\n    this.dispatchTypedEvent(\"update:filter\", new CustomEvent(\"update:filter\"));\n  }\n}\nfunction registerFileListFilter(filter) {\n  if (!window._nc_filelist_filters) {\n    window._nc_filelist_filters = /* @__PURE__ */ new Map();\n  }\n  if (window._nc_filelist_filters.has(filter.id)) {\n    throw new Error(`File list filter \"${filter.id}\" already registered`);\n  }\n  window._nc_filelist_filters.set(filter.id, filter);\n  emit(\"files:filter:added\", filter);\n}\nfunction unregisterFileListFilter(filterId) {\n  if (window._nc_filelist_filters && window._nc_filelist_filters.has(filterId)) {\n    window._nc_filelist_filters.delete(filterId);\n    emit(\"files:filter:removed\", filterId);\n  }\n}\nfunction getFileListFilters() {\n  if (!window._nc_filelist_filters) {\n    return [];\n  }\n  return [...window._nc_filelist_filters.values()];\n}\nclass Header {\n  _header;\n  constructor(header) {\n    this.validateHeader(header);\n    this._header = header;\n  }\n  get id() {\n    return this._header.id;\n  }\n  get order() {\n    return this._header.order;\n  }\n  get enabled() {\n    return this._header.enabled;\n  }\n  get render() {\n    return this._header.render;\n  }\n  get updated() {\n    return this._header.updated;\n  }\n  validateHeader(header) {\n    if (!header.id || !header.render || !header.updated) {\n      throw new Error(\"Invalid header: id, render and updated are required\");\n    }\n    if (typeof header.id !== \"string\") {\n      throw new Error(\"Invalid id property\");\n    }\n    if (header.enabled !== void 0 && typeof header.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled property\");\n    }\n    if (header.render && typeof header.render !== \"function\") {\n      throw new Error(\"Invalid render property\");\n    }\n    if (header.updated && typeof header.updated !== \"function\") {\n      throw new Error(\"Invalid updated property\");\n    }\n  }\n}\nfunction registerFileListHeaders(header) {\n  if (typeof window._nc_filelistheader === \"undefined\") {\n    window._nc_filelistheader = [];\n    logger.debug(\"FileListHeaders initialized\");\n  }\n  if (window._nc_filelistheader.find((search) => search.id === header.id)) {\n    logger.error(`Header ${header.id} already registered`, { header });\n    return;\n  }\n  window._nc_filelistheader.push(header);\n}\nfunction getFileListHeaders() {\n  if (typeof window._nc_filelistheader === \"undefined\") {\n    window._nc_filelistheader = [];\n    logger.debug(\"FileListHeaders initialized\");\n  }\n  return window._nc_filelistheader;\n}\nfunction checkOptionalProperty(obj, property, type) {\n  if (typeof obj[property] !== \"undefined\") {\n    if (type === \"array\") {\n      if (!Array.isArray(obj[property])) {\n        throw new Error(`View ${property} must be an array`);\n      }\n    } else if (typeof obj[property] !== type) {\n      throw new Error(`View ${property} must be a ${type}`);\n    } else if (type === \"object\" && (obj[property] === null || Array.isArray(obj[property]))) {\n      throw new Error(`View ${property} must be an object`);\n    }\n  }\n}\nclass Column {\n  _column;\n  constructor(column) {\n    validateColumn(column);\n    this._column = column;\n  }\n  get id() {\n    return this._column.id;\n  }\n  get title() {\n    return this._column.title;\n  }\n  get render() {\n    return this._column.render;\n  }\n  get sort() {\n    return this._column.sort;\n  }\n  get summary() {\n    return this._column.summary;\n  }\n}\nfunction validateColumn(column) {\n  if (typeof column !== \"object\" || column === null) {\n    throw new Error(\"View column must be an object\");\n  }\n  if (!column.id || typeof column.id !== \"string\") {\n    throw new Error(\"A column id is required\");\n  }\n  if (!column.title || typeof column.title !== \"string\") {\n    throw new Error(\"A column title is required\");\n  }\n  if (!column.render || typeof column.render !== \"function\") {\n    throw new Error(\"A render function is required\");\n  }\n  checkOptionalProperty(column, \"sort\", \"function\");\n  checkOptionalProperty(column, \"summary\", \"function\");\n}\nclass View {\n  _view;\n  constructor(view) {\n    validateView(view);\n    this._view = view;\n  }\n  get id() {\n    return this._view.id;\n  }\n  get name() {\n    return this._view.name;\n  }\n  get caption() {\n    return this._view.caption;\n  }\n  get emptyTitle() {\n    return this._view.emptyTitle;\n  }\n  get emptyCaption() {\n    return this._view.emptyCaption;\n  }\n  get getContents() {\n    return this._view.getContents;\n  }\n  get hidden() {\n    return this._view.hidden;\n  }\n  get icon() {\n    return this._view.icon;\n  }\n  set icon(icon) {\n    this._view.icon = icon;\n  }\n  get order() {\n    return this._view.order;\n  }\n  set order(order) {\n    this._view.order = order;\n  }\n  get params() {\n    return this._view.params;\n  }\n  set params(params) {\n    this._view.params = params;\n  }\n  get columns() {\n    return this._view.columns;\n  }\n  get emptyView() {\n    return this._view.emptyView;\n  }\n  get parent() {\n    return this._view.parent;\n  }\n  get sticky() {\n    return this._view.sticky;\n  }\n  get expanded() {\n    return this._view.expanded;\n  }\n  set expanded(expanded) {\n    this._view.expanded = expanded;\n  }\n  get defaultSortKey() {\n    return this._view.defaultSortKey;\n  }\n  get loadChildViews() {\n    return this._view.loadChildViews;\n  }\n}\nfunction validateView(view) {\n  if (!view.icon || typeof view.icon !== \"string\" || !isSvg(view.icon)) {\n    throw new Error(\"View icon is required and must be a valid svg string\");\n  }\n  if (!view.id || typeof view.id !== \"string\") {\n    throw new Error(\"View id is required and must be a string\");\n  }\n  if (!view.getContents || typeof view.getContents !== \"function\") {\n    throw new Error(\"View getContents is required and must be a function\");\n  }\n  if (!view.name || typeof view.name !== \"string\") {\n    throw new Error(\"View name is required and must be a string\");\n  }\n  checkOptionalProperty(view, \"caption\", \"string\");\n  checkOptionalProperty(view, \"columns\", \"array\");\n  checkOptionalProperty(view, \"defaultSortKey\", \"string\");\n  checkOptionalProperty(view, \"emptyCaption\", \"string\");\n  checkOptionalProperty(view, \"emptyTitle\", \"string\");\n  checkOptionalProperty(view, \"emptyView\", \"function\");\n  checkOptionalProperty(view, \"expanded\", \"boolean\");\n  checkOptionalProperty(view, \"hidden\", \"boolean\");\n  checkOptionalProperty(view, \"loadChildViews\", \"function\");\n  checkOptionalProperty(view, \"order\", \"number\");\n  checkOptionalProperty(view, \"params\", \"object\");\n  checkOptionalProperty(view, \"parent\", \"string\");\n  checkOptionalProperty(view, \"sticky\", \"boolean\");\n  if (view.columns) {\n    view.columns.forEach(validateColumn);\n    const columnIds = view.columns.reduce((set, column) => set.add(column.id), /* @__PURE__ */ new Set());\n    if (columnIds.size !== view.columns.length) {\n      throw new Error(\"View columns must have unique ids\");\n    }\n  }\n}\nclass Navigation extends TypedEventTarget {\n  _views = [];\n  _currentView = null;\n  /**\n   * Register a new view on the navigation\n   *\n   * @param view The view to register\n   * @throws {Error} if a view with the same id is already registered\n   * @throws {Error} if the registered view is invalid\n   */\n  register(view) {\n    if (this._views.find((search) => search.id === view.id)) {\n      throw new Error(`IView id ${view.id} is already registered`);\n    }\n    validateView(view);\n    this._views.push(view);\n    this.dispatchTypedEvent(\"update\", new CustomEvent(\"update\"));\n  }\n  /**\n   * Remove a registered view\n   *\n   * @param id The id of the view to remove\n   */\n  remove(id) {\n    const index = this._views.findIndex((view) => view.id === id);\n    if (index !== -1) {\n      this._views.splice(index, 1);\n      this.dispatchTypedEvent(\"update\", new CustomEvent(\"update\"));\n    }\n  }\n  /**\n   * Set the currently active view\n   *\n   * @param id - The id of the view to set as active\n   * @throws {Error} If no view with the given id was registered\n   * @fires UpdateActiveViewEvent\n   */\n  setActive(id) {\n    if (id === null) {\n      this._currentView = null;\n    } else {\n      const view = this._views.find(({ id: viewId }) => viewId === id);\n      if (!view) {\n        throw new Error(`No view with ${id} registered`);\n      }\n      this._currentView = view;\n    }\n    const event = new CustomEvent(\"updateActive\", { detail: this._currentView });\n    this.dispatchTypedEvent(\"updateActive\", event);\n  }\n  /**\n   * The currently active files view\n   */\n  get active() {\n    return this._currentView;\n  }\n  /**\n   * All registered views\n   */\n  get views() {\n    return this._views;\n  }\n}\nfunction getNavigation() {\n  if (typeof window._nc_navigation === \"undefined\") {\n    window._nc_navigation = new Navigation();\n    logger.debug(\"Navigation service initialized\");\n  }\n  return window._nc_navigation;\n}\nconst NewMenuEntryCategory = Object.freeze({\n  /**\n   * For actions where the user is intended to upload from their device\n   */\n  UploadFromDevice: 0,\n  /**\n   * For actions that create new nodes on the server without uploading\n   */\n  CreateNew: 1,\n  /**\n   * For everything not matching the other categories\n   */\n  Other: 2\n});\nclass NewMenu {\n  _entries = [];\n  registerEntry(entry) {\n    this.validateEntry(entry);\n    entry.category = entry.category ?? NewMenuEntryCategory.CreateNew;\n    this._entries.push(entry);\n  }\n  unregisterEntry(entry) {\n    const entryIndex = typeof entry === \"string\" ? this.getEntryIndex(entry) : this.getEntryIndex(entry.id);\n    if (entryIndex === -1) {\n      logger.warn(\"Entry not found, nothing removed\", { entry, entries: this.getEntries() });\n      return;\n    }\n    this._entries.splice(entryIndex, 1);\n  }\n  /**\n   * Get the list of registered entries\n   *\n   * @param context - The creation context. Usually the current folder\n   */\n  getEntries(context) {\n    if (context) {\n      return this._entries.filter((entry) => typeof entry.enabled === \"function\" ? entry.enabled(context) : true);\n    }\n    return this._entries;\n  }\n  getEntryIndex(id) {\n    return this._entries.findIndex((entry) => entry.id === id);\n  }\n  validateEntry(entry) {\n    if (!entry.id || !entry.displayName || !entry.iconSvgInline || !entry.handler) {\n      throw new Error(\"Invalid entry\");\n    }\n    if (typeof entry.id !== \"string\" || typeof entry.displayName !== \"string\") {\n      throw new Error(\"Invalid id or displayName property\");\n    }\n    if (entry.iconSvgInline && typeof entry.iconSvgInline !== \"string\") {\n      throw new Error(\"Invalid icon provided\");\n    }\n    if (entry.enabled !== void 0 && typeof entry.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled property\");\n    }\n    if (typeof entry.handler !== \"function\") {\n      throw new Error(\"Invalid handler property\");\n    }\n    if (\"order\" in entry && typeof entry.order !== \"number\") {\n      throw new Error(\"Invalid order property\");\n    }\n    if (this.getEntryIndex(entry.id) !== -1) {\n      throw new Error(\"Duplicate entry\");\n    }\n  }\n}\nfunction getNewFileMenu() {\n  if (typeof window._nc_newfilemenu === \"undefined\") {\n    window._nc_newfilemenu = new NewMenu();\n    logger.debug(\"NewFileMenu initialized\");\n  }\n  return window._nc_newfilemenu;\n}\nfunction addNewFileMenuEntry(entry) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.registerEntry(entry);\n}\nfunction removeNewFileMenuEntry(entry) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.unregisterEntry(entry);\n}\nfunction getNewFileMenuEntries(context) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.getEntries(context).sort((a2, b2) => {\n    if (a2.order !== void 0 && b2.order !== void 0 && a2.order !== b2.order) {\n      return a2.order - b2.order;\n    }\n    return a2.displayName.localeCompare(b2.displayName, void 0, { numeric: true, sensitivity: \"base\" });\n  });\n}\nfunction registerSidebarAction(action) {\n  validateSidebarAction(action);\n  window._nc_files_sidebar_actions ??= /* @__PURE__ */ new Map();\n  if (window._nc_files_sidebar_actions.has(action.id)) {\n    logger.warn(`Sidebar action with id \"${action.id}\" already registered. Skipping.`);\n    return;\n  }\n  window._nc_files_sidebar_actions.set(action.id, action);\n  logger.debug(`New sidebar action with id \"${action.id}\" registered.`);\n}\nfunction getSidebarActions() {\n  if (window._nc_files_sidebar_actions) {\n    return [...window._nc_files_sidebar_actions.values()];\n  }\n  return [];\n}\nfunction validateSidebarAction(action) {\n  if (typeof action !== \"object\") {\n    throw new Error(\"Sidebar action is not an object\");\n  }\n  if (!action.id || typeof action.id !== \"string\" || action.id !== CSS.escape(action.id)) {\n    throw new Error(\"Sidebar actions need to have an id conforming to the HTML id attribute specifications\");\n  }\n  if (!action.displayName || typeof action.displayName !== \"function\") {\n    throw new Error(\"Sidebar actions need to have a displayName function\");\n  }\n  if (!action.iconSvgInline || typeof action.iconSvgInline !== \"function\") {\n    throw new Error(\"Sidebar actions need to have a iconSvgInline function\");\n  }\n  if (!action.enabled || typeof action.enabled !== \"function\") {\n    throw new Error(\"Sidebar actions need to have an enabled function\");\n  }\n  if (!action.onClick || typeof action.onClick !== \"function\") {\n    throw new Error(\"Sidebar actions need to have an onClick function\");\n  }\n}\nfunction registerSidebarTab(tab) {\n  validateSidebarTab(tab);\n  window._nc_files_sidebar_tabs ??= /* @__PURE__ */ new Map();\n  if (window._nc_files_sidebar_tabs.has(tab.id)) {\n    logger.warn(`Sidebar tab with id \"${tab.id}\" already registered. Skipping.`);\n    return;\n  }\n  window._nc_files_sidebar_tabs.set(tab.id, tab);\n  logger.debug(`New sidebar tab with id \"${tab.id}\" registered.`);\n}\nfunction getSidebarTabs() {\n  if (window._nc_files_sidebar_tabs) {\n    return [...window._nc_files_sidebar_tabs.values()];\n  }\n  return [];\n}\nfunction validateSidebarTab(tab) {\n  if (typeof tab !== \"object\") {\n    throw new Error(\"Sidebar tab is not an object\");\n  }\n  if (!tab.id || typeof tab.id !== \"string\" || tab.id !== CSS.escape(tab.id)) {\n    throw new Error(\"Sidebar tabs need to have an id conforming to the HTML id attribute specifications\");\n  }\n  if (!tab.tagName || typeof tab.tagName !== \"string\") {\n    throw new Error(\"Sidebar tabs need to have the tagName name set\");\n  }\n  if (!tab.tagName.match(/^[a-z][a-z0-9-_]+$/)) {\n    throw new Error('Sidebar tab \"tagName\" is invalid');\n  }\n  if (!tab.displayName || typeof tab.displayName !== \"string\") {\n    throw new Error(\"Sidebar tabs need to have a name set\");\n  }\n  if (typeof tab.iconSvgInline !== \"string\" || !isSvg(tab.iconSvgInline)) {\n    throw new Error(\"Sidebar tabs need to have an valid SVG icon\");\n  }\n  if (typeof tab.order !== \"number\") {\n    throw new Error(\"Sidebar tabs need to have a numeric order set\");\n  }\n  if (tab.enabled && typeof tab.enabled !== \"function\") {\n    throw new Error('Sidebar tab \"enabled\" is not a function');\n  }\n  if (tab.onInit && typeof tab.onInit !== \"function\") {\n    throw new Error('Sidebar tab \"onInit\" is not a function');\n  }\n}\nclass SidebarProxy {\n  get #impl() {\n    return window.OCA?.Files?._sidebar?.();\n  }\n  get available() {\n    return !!this.#impl;\n  }\n  get isOpen() {\n    return this.#impl?.isOpen ?? false;\n  }\n  get activeTab() {\n    return this.#impl?.activeTab;\n  }\n  get node() {\n    return this.#impl?.node;\n  }\n  open(node, tab) {\n    this.#impl?.open(node, tab);\n  }\n  close() {\n    this.#impl?.close();\n  }\n  setActiveTab(tabId) {\n    this.#impl?.setActiveTab(tabId);\n  }\n  registerTab(tab) {\n    registerSidebarTab(tab);\n  }\n  getTabs(context) {\n    return this.#impl?.getTabs(context) ?? [];\n  }\n  getActions(context) {\n    return this.#impl?.getActions(context) ?? [];\n  }\n  registerAction(action) {\n    registerSidebarAction(action);\n  }\n}\nfunction getSidebar() {\n  return new SidebarProxy();\n}\nconst InvalidFilenameErrorReason = Object.freeze({\n  ReservedName: \"reserved name\",\n  Character: \"character\",\n  Extension: \"extension\"\n});\nclass InvalidFilenameError extends Error {\n  constructor(options) {\n    super(`Invalid ${options.reason} '${options.segment}' in filename '${options.filename}'`, { cause: options });\n  }\n  /**\n   * The filename that was validated\n   */\n  get filename() {\n    return this.cause.filename;\n  }\n  /**\n   * Reason why the validation failed\n   */\n  get reason() {\n    return this.cause.reason;\n  }\n  /**\n   * Part of the filename that caused this error\n   */\n  get segment() {\n    return this.cause.segment;\n  }\n}\nfunction validateFilename(filename) {\n  const capabilities = getCapabilities().files;\n  const forbiddenCharacters = capabilities.forbidden_filename_characters ?? [\"/\", \"\\\\\"];\n  for (const character of forbiddenCharacters) {\n    if (filename.includes(character)) {\n      throw new InvalidFilenameError({ segment: character, reason: InvalidFilenameErrorReason.Character, filename });\n    }\n  }\n  filename = filename.toLocaleLowerCase();\n  const forbiddenFilenames = capabilities.forbidden_filenames ?? [\".htaccess\"];\n  if (forbiddenFilenames.includes(filename)) {\n    throw new InvalidFilenameError({ filename, segment: filename, reason: InvalidFilenameErrorReason.ReservedName });\n  }\n  const endOfBasename = filename.indexOf(\".\", 1);\n  const basename2 = filename.substring(0, endOfBasename === -1 ? void 0 : endOfBasename);\n  const forbiddenFilenameBasenames = capabilities.forbidden_filename_basenames ?? [];\n  if (forbiddenFilenameBasenames.includes(basename2)) {\n    throw new InvalidFilenameError({ filename, segment: basename2, reason: InvalidFilenameErrorReason.ReservedName });\n  }\n  const forbiddenFilenameExtensions = capabilities.forbidden_filename_extensions ?? [];\n  for (const extension of forbiddenFilenameExtensions) {\n    if (filename.length > extension.length && filename.endsWith(extension)) {\n      throw new InvalidFilenameError({ segment: extension, reason: InvalidFilenameErrorReason.Extension, filename });\n    }\n  }\n}\nfunction isFilenameValid(filename) {\n  try {\n    validateFilename(filename);\n    return true;\n  } catch (error) {\n    if (error instanceof InvalidFilenameError) {\n      return false;\n    }\n    throw error;\n  }\n}\nfunction getUniqueName(name, otherNames, options) {\n  const opts = {\n    suffix: (n) => `(${n})`,\n    ignoreFileExtension: false,\n    ...options\n  };\n  let newName = name;\n  let i = 1;\n  while (otherNames.includes(newName)) {\n    const ext = opts.ignoreFileExtension ? \"\" : extname(name);\n    const base = basename(name, ext);\n    newName = `${base} ${opts.suffix(i++)}${ext}`;\n  }\n  return newName;\n}\nconst humanList = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\"];\nconst humanListBinary = [\"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\"];\nfunction formatFileSize(size, skipSmallSizes = false, binaryPrefixes = false, base1000 = false) {\n  binaryPrefixes = binaryPrefixes && !base1000;\n  if (typeof size === \"string\") {\n    size = Number(size);\n  }\n  let order = size > 0 ? Math.floor(Math.log(size) / Math.log(base1000 ? 1e3 : 1024)) : 0;\n  order = Math.min((binaryPrefixes ? humanListBinary.length : humanList.length) - 1, order);\n  const readableFormat = binaryPrefixes ? humanListBinary[order] : humanList[order];\n  let relativeSize = (size / Math.pow(base1000 ? 1e3 : 1024, order)).toFixed(1);\n  if (skipSmallSizes === true && order === 0) {\n    return (relativeSize !== \"0.0\" ? \"< 1 \" : \"0 \") + (binaryPrefixes ? humanListBinary[1] : humanList[1]);\n  }\n  if (order < 2) {\n    relativeSize = parseFloat(relativeSize).toFixed(0);\n  } else {\n    relativeSize = parseFloat(relativeSize).toLocaleString(getCanonicalLocale());\n  }\n  return relativeSize + \" \" + readableFormat;\n}\nfunction parseFileSize(value, forceBinary = false) {\n  try {\n    value = `${value}`.toLocaleLowerCase().replaceAll(/\\s+/g, \"\").replaceAll(\",\", \".\");\n  } catch {\n    return null;\n  }\n  const match = value.match(/^([0-9]*(\\.[0-9]*)?)([kmgtp]?)(i?)b?$/);\n  if (match === null || match[1] === \".\" || match[1] === \"\") {\n    return null;\n  }\n  const bytesArray = {\n    \"\": 0,\n    k: 1,\n    m: 2,\n    g: 3,\n    t: 4,\n    p: 5,\n    e: 6\n  };\n  const decimalString = `${match[1]}`;\n  const base = match[4] === \"i\" || forceBinary ? 1024 : 1e3;\n  return Math.round(Number.parseFloat(decimalString) * base ** bytesArray[match[3]]);\n}\nfunction stringify(value) {\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n  return String(value);\n}\nfunction orderBy(collection, identifiers2, orders) {\n  identifiers2 = identifiers2 ?? [(value) => value];\n  orders = orders ?? [];\n  const sorting = identifiers2.map((_, index) => (orders[index] ?? \"asc\") === \"asc\" ? 1 : -1);\n  const collator = Intl.Collator(\n    [getLanguage(), getCanonicalLocale()],\n    {\n      // handle 10 as ten and not as one-zero\n      numeric: true,\n      usage: \"sort\"\n    }\n  );\n  return [...collection].sort((a2, b2) => {\n    for (const [index, identifier] of identifiers2.entries()) {\n      const value = collator.compare(stringify(identifier(a2)), stringify(identifier(b2)));\n      if (value !== 0) {\n        return value * sorting[index];\n      }\n    }\n    return 0;\n  });\n}\nconst FilesSortingMode = Object.freeze({\n  Name: \"basename\",\n  Modified: \"mtime\",\n  Size: \"size\"\n});\nfunction sortNodes(nodes, options = {}) {\n  const sortingOptions = {\n    // Default to sort by name\n    sortingMode: FilesSortingMode.Name,\n    // Default to sort ascending\n    sortingOrder: \"asc\",\n    ...options\n  };\n  function basename2(node) {\n    const name = node.displayname || node.attributes?.displayname || node.basename || \"\";\n    if (node.type === FileType.Folder) {\n      return name;\n    }\n    return name.lastIndexOf(\".\") > 0 ? name.slice(0, name.lastIndexOf(\".\")) : name;\n  }\n  const identifiers2 = [\n    // 1: Sort favorites first if enabled\n    ...sortingOptions.sortFavoritesFirst ? [(v) => v.attributes?.favorite !== 1] : [],\n    // 2: Sort folders first if sorting by name\n    ...sortingOptions.sortFoldersFirst ? [(v) => v.type !== \"folder\"] : [],\n    // 3: Use sorting mode if NOT basename (to be able to use display name too)\n    ...sortingOptions.sortingMode !== FilesSortingMode.Name ? [(v) => v[sortingOptions.sortingMode] ?? v.attributes[sortingOptions.sortingMode]] : [],\n    // 4: Use display name if available, fallback to name\n    (v) => basename2(v),\n    // 5: Finally, use basename if all previous sorting methods failed\n    (v) => v.basename\n  ];\n  const orders = [\n    // (for 1): always sort favorites before normal files\n    ...sortingOptions.sortFavoritesFirst ? [\"asc\"] : [],\n    // (for 2): always sort folders before files\n    ...sortingOptions.sortFoldersFirst ? [\"asc\"] : [],\n    // (for 3): Reverse if sorting by mtime as mtime higher means edited more recent -> lower\n    ...sortingOptions.sortingMode === FilesSortingMode.Modified ? [sortingOptions.sortingOrder === \"asc\" ? \"desc\" : \"asc\"] : [],\n    // (also for 3 so make sure not to conflict with 2 and 3)\n    ...sortingOptions.sortingMode !== FilesSortingMode.Modified && sortingOptions.sortingMode !== FilesSortingMode.Name ? [sortingOptions.sortingOrder] : [],\n    // for 4: use configured sorting direction\n    sortingOptions.sortingOrder,\n    // for 5: use configured sorting direction\n    sortingOptions.sortingOrder\n  ];\n  return orderBy(nodes, identifiers2, orders);\n}\nexport {\n  Column,\n  DefaultType,\n  a as File,\n  FileAction,\n  FileListAction,\n  FileListFilter,\n  FileType,\n  FilesSortingMode,\n  b as Folder,\n  Header,\n  InvalidFilenameError,\n  InvalidFilenameErrorReason,\n  Navigation,\n  NewMenuEntryCategory,\n  N as Node,\n  c as NodeStatus,\n  P as Permission,\n  View,\n  addNewFileMenuEntry,\n  formatFileSize,\n  getFileActions,\n  getFileListActions,\n  getFileListFilters,\n  getFileListHeaders,\n  getNavigation,\n  getNewFileMenu,\n  getNewFileMenuEntries,\n  getSidebar,\n  getSidebarActions,\n  getSidebarTabs,\n  getUniqueName,\n  isFilenameValid,\n  orderBy,\n  parseFileSize,\n  registerFileAction,\n  registerFileListAction,\n  registerFileListFilter,\n  registerFileListHeaders,\n  registerSidebarAction,\n  registerSidebarTab,\n  removeNewFileMenuEntry,\n  sortNodes,\n  unregisterFileListFilter,\n  validateColumn,\n  validateFilename,\n  validateView\n};\n//# sourceMappingURL=index.mjs.map\n","/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport moment from '@nextcloud/moment';\nimport { createPinia, PiniaVuePlugin } from 'pinia';\nimport Vue, {} from 'vue';\nimport logger from './logger.js';\nimport { getComments } from './services/GetComments.js';\nVue.use(PiniaVuePlugin);\nlet ActivityTabPluginView;\nlet ActivityTabPluginInstance;\n/**\n * Register the comments plugins for the Activity sidebar\n */\nexport function registerCommentsPlugins() {\n    window.OCA.Activity.registerSidebarAction({\n        mount: async (el, { node, reload }) => {\n            const pinia = createPinia();\n            if (!ActivityTabPluginView) {\n                const { default: ActivityCommentAction } = await import('./views/ActivityCommentAction.vue');\n                // @ts-expect-error Types are broken for Vue2\n                ActivityTabPluginView = Vue.extend(ActivityCommentAction);\n            }\n            ActivityTabPluginInstance = new ActivityTabPluginView({\n                el,\n                pinia,\n                propsData: {\n                    reloadCallback: reload,\n                    resourceId: node.fileid,\n                },\n            });\n            logger.info('Comments plugin mounted in Activity sidebar action', { node });\n        },\n        unmount: () => {\n            // destroy previous instance if available\n            if (ActivityTabPluginInstance) {\n                ActivityTabPluginInstance.$destroy();\n            }\n        },\n    });\n    window.OCA.Activity.registerSidebarEntries(async ({ node, limit, offset }) => {\n        const { data: comments } = await getComments({ resourceType: 'files', resourceId: node.fileid }, {\n            limit,\n            offset: offset ?? 0,\n        });\n        logger.debug('Loaded comments', { node, comments });\n        const { default: CommentView } = await import('./views/ActivityCommentEntry.vue');\n        // @ts-expect-error Types are broken for Vue2\n        const CommentsViewObject = Vue.extend(CommentView);\n        return comments.map((comment) => ({\n            _CommentsViewInstance: undefined,\n            timestamp: moment(comment.props?.creationDateTime).toDate().getTime(),\n            mount(element, { reload }) {\n                this._CommentsViewInstance = new CommentsViewObject({\n                    el: element,\n                    propsData: {\n                        comment,\n                        resourceId: node.fileid,\n                        reloadCallback: reload,\n                    },\n                });\n            },\n            unmount() {\n                this._CommentsViewInstance?.$destroy();\n            },\n        }));\n    });\n    window.OCA.Activity.registerSidebarFilter((activity) => activity.type !== 'comments');\n    logger.info('Comments plugin registered for Activity sidebar action');\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport MessageReplyText from '@mdi/svg/svg/message-reply-text.svg?raw';\nimport { getCSPNonce } from '@nextcloud/auth';\nimport { registerSidebarTab } from '@nextcloud/files';\nimport { loadState } from '@nextcloud/initial-state';\nimport { t } from '@nextcloud/l10n';\nimport wrap from '@vue/web-component-wrapper';\nimport { createPinia, PiniaVuePlugin } from 'pinia';\nimport Vue from 'vue';\nimport { registerCommentsPlugins } from './comments-activity-tab.ts';\n__webpack_nonce__ = getCSPNonce();\nconst tagName = 'comments_files-sidebar-tab';\nif (loadState('comments', 'activityEnabled', false) && OCA?.Activity?.registerSidebarAction !== undefined) {\n    // Do not mount own tab but mount into activity\n    window.addEventListener('DOMContentLoaded', function () {\n        registerCommentsPlugins();\n    });\n}\nelse {\n    registerSidebarTab({\n        id: 'comments',\n        displayName: t('comments', 'Comments'),\n        iconSvgInline: MessageReplyText,\n        order: 50,\n        tagName,\n        async onInit() {\n            const { default: FilesSidebarTab } = await import('./views/FilesSidebarTab.vue');\n            Vue.use(PiniaVuePlugin);\n            Vue.mixin({ pinia: createPinia() });\n            const webComponent = wrap(Vue, FilesSidebarTab);\n            // In Vue 2, wrap doesn't support disabling shadow. Disable with a hack\n            Object.defineProperty(webComponent.prototype, 'attachShadow', {\n                value() { return this; },\n            });\n            Object.defineProperty(webComponent.prototype, 'shadowRoot', {\n                get() { return this; },\n            });\n            window.customElements.define(tagName, webComponent);\n        },\n    });\n}\n","const { buildOptions} = require(\"./OptionsBuilder\");\nconst OrderedObjParser = require(\"./OrderedObjParser\");\nconst { prettify} = require(\"./node2json\");\nconst validator = require('../validator');\n\nclass XMLParser{\n    \n    constructor(options){\n        this.externalEntities = {};\n        this.options = buildOptions(options);\n        \n    }\n    /**\n     * Parse XML dats to JS object \n     * @param {string|Buffer} xmlData \n     * @param {boolean|Object} validationOption \n     */\n    parse(xmlData,validationOption){\n        if(typeof xmlData === \"string\"){\n        }else if( xmlData.toString){\n            xmlData = xmlData.toString();\n        }else{\n            throw new Error(\"XML data is accepted in String or Bytes[] form.\")\n        }\n        if( validationOption){\n            if(validationOption === true) validationOption = {}; //validate with default options\n            \n            const result = validator.validate(xmlData, validationOption);\n            if (result !== true) {\n              throw Error( `${result.err.msg}:${result.err.line}:${result.err.col}` )\n            }\n          }\n        const orderedObjParser = new OrderedObjParser(this.options);\n        orderedObjParser.addExternalEntities(this.externalEntities);\n        const orderedResult = orderedObjParser.parseXml(xmlData);\n        if(this.options.preserveOrder || orderedResult === undefined) return orderedResult;\n        else return prettify(orderedResult, this.options);\n    }\n\n    /**\n     * Add Entity which is not by default supported by this library\n     * @param {string} key \n     * @param {string} value \n     */\n    addEntity(key, value){\n        if(value.indexOf(\"&\") !== -1){\n            throw new Error(\"Entity value can't have '&'\")\n        }else if(key.indexOf(\"&\") !== -1 || key.indexOf(\";\") !== -1){\n            throw new Error(\"An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'\")\n        }else if(value === \"&\"){\n            throw new Error(\"An entity with value '&' is not permitted\");\n        }else{\n            this.externalEntities[key] = value;\n        }\n    }\n}\n\nmodule.exports = XMLParser;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","exports.fetch = isFunction(global.fetch) && isFunction(global.ReadableStream)\n\nexports.writableStream = isFunction(global.WritableStream)\n\nexports.abortController = isFunction(global.AbortController)\n\n// The xhr request to example.com may violate some restrictive CSP configurations,\n// so if we're running in a browser that supports `fetch`, avoid calling getXHR()\n// and assume support for certain features below.\nvar xhr\nfunction getXHR () {\n\t// Cache the xhr value\n\tif (xhr !== undefined) return xhr\n\n\tif (global.XMLHttpRequest) {\n\t\txhr = new global.XMLHttpRequest()\n\t\t// If XDomainRequest is available (ie only, where xhr might not work\n\t\t// cross domain), use the page location. Otherwise use example.com\n\t\t// Note: this doesn't actually make an http request.\n\t\ttry {\n\t\t\txhr.open('GET', global.XDomainRequest ? '/' : 'https://example.com')\n\t\t} catch(e) {\n\t\t\txhr = null\n\t\t}\n\t} else {\n\t\t// Service workers don't have XHR\n\t\txhr = null\n\t}\n\treturn xhr\n}\n\nfunction checkTypeSupport (type) {\n\tvar xhr = getXHR()\n\tif (!xhr) return false\n\ttry {\n\t\txhr.responseType = type\n\t\treturn xhr.responseType === type\n\t} catch (e) {}\n\treturn false\n}\n\n// If fetch is supported, then arraybuffer will be supported too. Skip calling\n// checkTypeSupport(), since that calls getXHR().\nexports.arraybuffer = exports.fetch || checkTypeSupport('arraybuffer')\n\n// These next two tests unavoidably show warnings in Chrome. Since fetch will always\n// be used if it's available, just return false for these to avoid the warnings.\nexports.msstream = !exports.fetch && checkTypeSupport('ms-stream')\nexports.mozchunkedarraybuffer = !exports.fetch && checkTypeSupport('moz-chunked-arraybuffer')\n\n// If fetch is supported, then overrideMimeType will be supported too. Skip calling\n// getXHR().\nexports.overrideMimeType = exports.fetch || (getXHR() ? isFunction(getXHR().overrideMimeType) : false)\n\nfunction isFunction (value) {\n\treturn typeof value === 'function'\n}\n\nxhr = null // Help gc\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\nvar rStates = exports.readyStates = {\n\tUNSENT: 0,\n\tOPENED: 1,\n\tHEADERS_RECEIVED: 2,\n\tLOADING: 3,\n\tDONE: 4\n}\n\nvar IncomingMessage = exports.IncomingMessage = function (xhr, response, mode, resetTimers) {\n\tvar self = this\n\tstream.Readable.call(self)\n\n\tself._mode = mode\n\tself.headers = {}\n\tself.rawHeaders = []\n\tself.trailers = {}\n\tself.rawTrailers = []\n\n\t// Fake the 'close' event, but only once 'end' fires\n\tself.on('end', function () {\n\t\t// The nextTick is necessary to prevent the 'request' module from causing an infinite loop\n\t\tprocess.nextTick(function () {\n\t\t\tself.emit('close')\n\t\t})\n\t})\n\n\tif (mode === 'fetch') {\n\t\tself._fetchResponse = response\n\n\t\tself.url = response.url\n\t\tself.statusCode = response.status\n\t\tself.statusMessage = response.statusText\n\t\t\n\t\tresponse.headers.forEach(function (header, key){\n\t\t\tself.headers[key.toLowerCase()] = header\n\t\t\tself.rawHeaders.push(key, header)\n\t\t})\n\n\t\tif (capability.writableStream) {\n\t\t\tvar writable = new WritableStream({\n\t\t\t\twrite: function (chunk) {\n\t\t\t\t\tresetTimers(false)\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tif (self._destroyed) {\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t} else if(self.push(Buffer.from(chunk))) {\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._resumeFetch = resolve\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tresetTimers(true)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.push(null)\n\t\t\t\t},\n\t\t\t\tabort: function (err) {\n\t\t\t\t\tresetTimers(true)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tresponse.body.pipeTo(writable).catch(function (err) {\n\t\t\t\t\tresetTimers(true)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} catch (e) {} // pipeTo method isn't defined. Can't find a better way to feature test this\n\t\t}\n\t\t// fallback for when writableStream or pipeTo aren't available\n\t\tvar reader = response.body.getReader()\n\t\tfunction read () {\n\t\t\treader.read().then(function (result) {\n\t\t\t\tif (self._destroyed)\n\t\t\t\t\treturn\n\t\t\t\tresetTimers(result.done)\n\t\t\t\tif (result.done) {\n\t\t\t\t\tself.push(null)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tself.push(Buffer.from(result.value))\n\t\t\t\tread()\n\t\t\t}).catch(function (err) {\n\t\t\t\tresetTimers(true)\n\t\t\t\tif (!self._destroyed)\n\t\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t}\n\t\tread()\n\t} else {\n\t\tself._xhr = xhr\n\t\tself._pos = 0\n\n\t\tself.url = xhr.responseURL\n\t\tself.statusCode = xhr.status\n\t\tself.statusMessage = xhr.statusText\n\t\tvar headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n\t\theaders.forEach(function (header) {\n\t\t\tvar matches = header.match(/^([^:]+):\\s*(.*)/)\n\t\t\tif (matches) {\n\t\t\t\tvar key = matches[1].toLowerCase()\n\t\t\t\tif (key === 'set-cookie') {\n\t\t\t\t\tif (self.headers[key] === undefined) {\n\t\t\t\t\t\tself.headers[key] = []\n\t\t\t\t\t}\n\t\t\t\t\tself.headers[key].push(matches[2])\n\t\t\t\t} else if (self.headers[key] !== undefined) {\n\t\t\t\t\tself.headers[key] += ', ' + matches[2]\n\t\t\t\t} else {\n\t\t\t\t\tself.headers[key] = matches[2]\n\t\t\t\t}\n\t\t\t\tself.rawHeaders.push(matches[1], matches[2])\n\t\t\t}\n\t\t})\n\n\t\tself._charset = 'x-user-defined'\n\t\tif (!capability.overrideMimeType) {\n\t\t\tvar mimeType = self.rawHeaders['mime-type']\n\t\t\tif (mimeType) {\n\t\t\t\tvar charsetMatch = mimeType.match(/;\\s*charset=([^;])(;|$)/)\n\t\t\t\tif (charsetMatch) {\n\t\t\t\t\tself._charset = charsetMatch[1].toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!self._charset)\n\t\t\t\tself._charset = 'utf-8' // best guess\n\t\t}\n\t}\n}\n\ninherits(IncomingMessage, stream.Readable)\n\nIncomingMessage.prototype._read = function () {\n\tvar self = this\n\n\tvar resolve = self._resumeFetch\n\tif (resolve) {\n\t\tself._resumeFetch = null\n\t\tresolve()\n\t}\n}\n\nIncomingMessage.prototype._onXHRProgress = function (resetTimers) {\n\tvar self = this\n\n\tvar xhr = self._xhr\n\n\tvar response = null\n\tswitch (self._mode) {\n\t\tcase 'text':\n\t\t\tresponse = xhr.responseText\n\t\t\tif (response.length > self._pos) {\n\t\t\t\tvar newData = response.substr(self._pos)\n\t\t\t\tif (self._charset === 'x-user-defined') {\n\t\t\t\t\tvar buffer = Buffer.alloc(newData.length)\n\t\t\t\t\tfor (var i = 0; i < newData.length; i++)\n\t\t\t\t\t\tbuffer[i] = newData.charCodeAt(i) & 0xff\n\n\t\t\t\t\tself.push(buffer)\n\t\t\t\t} else {\n\t\t\t\t\tself.push(newData, self._charset)\n\t\t\t\t}\n\t\t\t\tself._pos = response.length\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'arraybuffer':\n\t\t\tif (xhr.readyState !== rStates.DONE || !xhr.response)\n\t\t\t\tbreak\n\t\t\tresponse = xhr.response\n\t\t\tself.push(Buffer.from(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'moz-chunked-arraybuffer': // take whole\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING || !response)\n\t\t\t\tbreak\n\t\t\tself.push(Buffer.from(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'ms-stream':\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING)\n\t\t\t\tbreak\n\t\t\tvar reader = new global.MSStreamReader()\n\t\t\treader.onprogress = function () {\n\t\t\t\tif (reader.result.byteLength > self._pos) {\n\t\t\t\t\tself.push(Buffer.from(new Uint8Array(reader.result.slice(self._pos))))\n\t\t\t\t\tself._pos = reader.result.byteLength\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.onload = function () {\n\t\t\t\tresetTimers(true)\n\t\t\t\tself.push(null)\n\t\t\t}\n\t\t\t// reader.onerror = ??? // TODO: this\n\t\t\treader.readAsArrayBuffer(response)\n\t\t\tbreak\n\t}\n\n\t// The ms-stream case handles end separately in reader.onload()\n\tif (self._xhr.readyState === rStates.DONE && self._mode !== 'ms-stream') {\n\t\tresetTimers(true)\n\t\tself.push(null)\n\t}\n}\n","import { translateDiskSpace } from \"./dav.js\";\nexport function parseQuota(result) {\n    try {\n        const [responseItem] = result.multistatus.response;\n        const { propstat: { prop: { \"quota-used-bytes\": quotaUsed, \"quota-available-bytes\": quotaAvail } } } = responseItem;\n        return typeof quotaUsed !== \"undefined\" && typeof quotaAvail !== \"undefined\"\n            ? {\n                // As it could be both a string or a number ensure we are working with a number\n                used: parseInt(String(quotaUsed), 10),\n                available: translateDiskSpace(quotaAvail)\n            }\n            : null;\n    }\n    catch (err) {\n        /* ignore */\n    }\n    return null;\n}\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    if(a===b) {\n      return [ai, bi];\n    }\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\nvar Buffer = require('buffer').Buffer;\nvar OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\nvar destroyImpl = require('./internal/streams/destroy');\nvar _require = require('./internal/streams/state'),\n  getHighWaterMark = _require.getHighWaterMark;\nvar _require$codes = require('../errors').codes,\n  ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n  ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nrequire('inherits')(Writable, Stream);\nfunction nop() {}\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = options.emitClose !== false;\n\n  // Should .destroy() be called after 'finish' (and potentially 'end')\n  this.autoDestroy = !!options.autoDestroy;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex);\n\n  // legacy.\n  this.writable = true;\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END();\n  // TODO: defer error events consistently everywhere, not just the cb\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n  return true;\n}\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n  return ret;\n}\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\nWritable.prototype._writev = null;\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n  return need;\n}\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n\n  // reuse the free corkReq.\n  state.corkedRequestsFree.next = corkReq;\n}\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar _require = require('buffer'),\n  Buffer = _require.Buffer;\nvar _require2 = require('util'),\n  inspect = _require2.inspect;\nvar custom = inspect && inspect.custom || 'inspect';\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\nmodule.exports = /*#__PURE__*/function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n      while (p = p.next) ret += s + p.data;\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n      return ret;\n    }\n\n    // Consumes a specified amount of bytes or characters from the buffered data.\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    }\n\n    // Consumes a specified amount of characters from the buffered data.\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n          break;\n        }\n        ++c;\n      }\n      this.length -= c;\n      return ret;\n    }\n\n    // Consumes a specified amount of bytes from the buffered data.\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n          break;\n        }\n        ++c;\n      }\n      this.length -= c;\n      return ret;\n    }\n\n    // Make sure the linked list only shows the minimal necessary information.\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread(_objectSpread({}, options), {}, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n  return BufferList;\n}();","import { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nexport async function getDAVCompliance(context, filePath, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"OPTIONS\"\n    }, context, options);\n    const response = await request(requestOptions, context);\n    try {\n        handleResponseCode(context, response);\n    }\n    catch (err) {\n        const error = err;\n        throw error;\n    }\n    const davHeader = response.headers.get(\"DAV\") ?? \"\";\n    const compliance = davHeader.split(\",\").map(item => item.trim());\n    const server = response.headers.get(\"Server\") ?? \"\";\n    return {\n        compliance,\n        server\n    };\n}\n","var http = require('http')\nvar url = require('url')\n\nvar https = module.exports\n\nfor (var key in http) {\n  if (http.hasOwnProperty(key)) https[key] = http[key]\n}\n\nhttps.request = function (params, cb) {\n  params = validateParams(params)\n  return http.request.call(this, params, cb)\n}\n\nhttps.get = function (params, cb) {\n  params = validateParams(params)\n  return http.get.call(this, params, cb)\n}\n\nfunction validateParams (params) {\n  if (typeof params === 'string') {\n    params = url.parse(params)\n  }\n  if (!params.protocol) {\n    params.protocol = 'https:'\n  }\n  if (params.protocol !== 'https:') {\n    throw new Error('Protocol \"' + params.protocol + '\" not supported. Expected \"https:\"')\n  }\n  return params\n}\n","const NAME = \"Layerr\";\nlet __name = NAME;\nexport function getGlobalName() {\n    return __name;\n}\nexport function setGlobalName(name = null) {\n    __name = name ?? NAME;\n}\n","var ClientRequest = require('./lib/request')\nvar response = require('./lib/response')\nvar extend = require('xtend')\nvar statusCodes = require('builtin-status-codes')\nvar url = require('url')\n\nvar http = exports\n\nhttp.request = function (opts, cb) {\n\tif (typeof opts === 'string')\n\t\topts = url.parse(opts)\n\telse\n\t\topts = extend(opts)\n\n\t// Normally, the page is loaded from http or https, so not specifying a protocol\n\t// will result in a (valid) protocol-relative url. However, this won't work if\n\t// the protocol is something else, like 'file:'\n\tvar defaultProtocol = global.location.protocol.search(/^https?:$/) === -1 ? 'http:' : ''\n\n\tvar protocol = opts.protocol || defaultProtocol\n\tvar host = opts.hostname || opts.host\n\tvar port = opts.port\n\tvar path = opts.path || '/'\n\n\t// Necessary for IPv6 addresses\n\tif (host && host.indexOf(':') !== -1)\n\t\thost = '[' + host + ']'\n\n\t// This may be a relative url. The browser should always be able to interpret it correctly.\n\topts.url = (host ? (protocol + '//' + host) : '') + (port ? ':' + port : '') + path\n\topts.method = (opts.method || 'GET').toUpperCase()\n\topts.headers = opts.headers || {}\n\n\t// Also valid opts.auth, opts.mode\n\n\tvar req = new ClientRequest(opts)\n\tif (cb)\n\t\treq.on('response', cb)\n\treturn req\n}\n\nhttp.get = function get (opts, cb) {\n\tvar req = http.request(opts, cb)\n\treq.end()\n\treturn req\n}\n\nhttp.ClientRequest = ClientRequest\nhttp.IncomingMessage = response.IncomingMessage\n\nhttp.Agent = function () {}\nhttp.Agent.defaultMaxSockets = 4\n\nhttp.globalAgent = new http.Agent()\n\nhttp.STATUS_CODES = statusCodes\n\nhttp.METHODS = [\n\t'CHECKOUT',\n\t'CONNECT',\n\t'COPY',\n\t'DELETE',\n\t'GET',\n\t'HEAD',\n\t'LOCK',\n\t'M-SEARCH',\n\t'MERGE',\n\t'MKACTIVITY',\n\t'MKCOL',\n\t'MOVE',\n\t'NOTIFY',\n\t'OPTIONS',\n\t'PATCH',\n\t'POST',\n\t'PROPFIND',\n\t'PROPPATCH',\n\t'PURGE',\n\t'PUT',\n\t'REPORT',\n\t'SEARCH',\n\t'SUBSCRIBE',\n\t'TRACE',\n\t'UNLOCK',\n\t'UNSUBSCRIBE'\n]","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n    return Math.floor(hwm);\n  }\n\n  // Default value\n  return state.objectMode ? 16 : 16 * 1024;\n}\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\nvar util = require('util');\nvar isString = function (x) {\n  return typeof x === 'string';\n};\n\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  var res = [];\n  for (var i = 0; i < parts.length; i++) {\n    var p = parts[i];\n\n    // ignore empty parts\n    if (!p || p === '.')\n      continue;\n\n    if (p === '..') {\n      if (res.length && res[res.length - 1] !== '..') {\n        res.pop();\n      } else if (allowAboveRoot) {\n        res.push('..');\n      }\n    } else {\n      res.push(p);\n    }\n  }\n\n  return res;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar posix = {};\n\n\nfunction posixSplitPath(filename) {\n  return splitPathRe.exec(filename).slice(1);\n}\n\n\n// path.resolve([from ...], to)\n// posix version\nposix.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (!isString(path)) {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(resolvedPath.split('/'),\n                                !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nposix.normalize = function(path) {\n  var isAbsolute = posix.isAbsolute(path),\n      trailingSlash = path.substr(-1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(path.split('/'), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nposix.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nposix.join = function() {\n  var path = '';\n  for (var i = 0; i < arguments.length; i++) {\n    var segment = arguments[i];\n    if (!isString(segment)) {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    if (segment) {\n      if (!path) {\n        path += segment;\n      } else {\n        path += '/' + segment;\n      }\n    }\n  }\n  return posix.normalize(path);\n};\n\n\n// path.relative(from, to)\n// posix version\nposix.relative = function(from, to) {\n  from = posix.resolve(from).substr(1);\n  to = posix.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\n\nposix._makeLong = function(path) {\n  return path;\n};\n\n\nposix.dirname = function(path) {\n  var result = posixSplitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nposix.basename = function(path, ext) {\n  var f = posixSplitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nposix.extname = function(path) {\n  return posixSplitPath(path)[3];\n};\n\n\nposix.format = function(pathObject) {\n  if (!util.isObject(pathObject)) {\n    throw new TypeError(\n        \"Parameter 'pathObject' must be an object, not \" + typeof pathObject\n    );\n  }\n\n  var root = pathObject.root || '';\n\n  if (!isString(root)) {\n    throw new TypeError(\n        \"'pathObject.root' must be a string or undefined, not \" +\n        typeof pathObject.root\n    );\n  }\n\n  var dir = pathObject.dir ? pathObject.dir + posix.sep : '';\n  var base = pathObject.base || '';\n  return dir + base;\n};\n\n\nposix.parse = function(pathString) {\n  if (!isString(pathString)) {\n    throw new TypeError(\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\n    );\n  }\n  var allParts = posixSplitPath(pathString);\n  if (!allParts || allParts.length !== 4) {\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\n  }\n  allParts[1] = allParts[1] || '';\n  allParts[2] = allParts[2] || '';\n  allParts[3] = allParts[3] || '';\n\n  return {\n    root: allParts[0],\n    dir: allParts[0] + allParts[1].slice(0, allParts[1].length - 1),\n    base: allParts[2],\n    ext: allParts[3],\n    name: allParts[2].slice(0, allParts[2].length - allParts[3].length)\n  };\n};\n\n\nposix.sep = '/';\nposix.delimiter = ':';\n\n  module.exports = posix;\n","'use strict';\n\nvar callBound = require('call-bound');\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar hasOwn = require('hasown');\nvar gOPD = require('gopd');\n\n/** @type {import('.')} */\nvar fn;\n\nif (hasToStringTag) {\n\t/** @type {(receiver: ThisParameterType<typeof RegExp.prototype.exec>, ...args: Parameters<typeof RegExp.prototype.exec>) => ReturnType<typeof RegExp.prototype.exec>} */\n\tvar $exec = callBound('RegExp.prototype.exec');\n\t/** @type {object} */\n\tvar isRegexMarker = {};\n\n\tvar throwRegexMarker = function () {\n\t\tthrow isRegexMarker;\n\t};\n\t/** @type {{ toString(): never, valueOf(): never, [Symbol.toPrimitive]?(): never }} */\n\tvar badStringifier = {\n\t\ttoString: throwRegexMarker,\n\t\tvalueOf: throwRegexMarker\n\t};\n\n\tif (typeof Symbol.toPrimitive === 'symbol') {\n\t\tbadStringifier[Symbol.toPrimitive] = throwRegexMarker;\n\t}\n\n\t/** @type {import('.')} */\n\t// @ts-expect-error TS can't figure out that the $exec call always throws\n\t// eslint-disable-next-line consistent-return\n\tfn = function isRegex(value) {\n\t\tif (!value || typeof value !== 'object') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// eslint-disable-next-line no-extra-parens\n\t\tvar descriptor = /** @type {NonNullable<typeof gOPD>} */ (gOPD)(/** @type {{ lastIndex?: unknown }} */ (value), 'lastIndex');\n\t\tvar hasLastIndexDataProperty = descriptor && hasOwn(descriptor, 'value');\n\t\tif (!hasLastIndexDataProperty) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t$exec(value, /** @type {string} */ (/** @type {unknown} */ (badStringifier)));\n\t\t} catch (e) {\n\t\t\treturn e === isRegexMarker;\n\t\t}\n\t};\n} else {\n\t/** @type {(receiver: ThisParameterType<typeof Object.prototype.toString>, ...args: Parameters<typeof Object.prototype.toString>) => ReturnType<typeof Object.prototype.toString>} */\n\tvar $toString = callBound('Object.prototype.toString');\n\t/** @const @type {'[object RegExp]'} */\n\tvar regexClass = '[object RegExp]';\n\n\t/** @type {import('.')} */\n\tfn = function isRegex(value) {\n\t\t// In older browsers, typeof regex incorrectly returns 'function'\n\t\tif (!value || (typeof value !== 'object' && typeof value !== 'function')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn $toString(value) === regexClass;\n\t};\n}\n\nmodule.exports = fn;\n","'use strict';\n\nconst validator = require('./validator');\nconst XMLParser = require('./xmlparser/XMLParser');\nconst XMLBuilder = require('./xmlbuilder/json2xml');\n\nmodule.exports = {\n  XMLParser: XMLParser,\n  XMLValidator: validator,\n  XMLBuilder: XMLBuilder\n}","'use strict';\n\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list.\n* By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('./list.d.ts').listGetNode} */\n// eslint-disable-next-line consistent-return\nvar listGetNode = function (list, key, isDelete) {\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\t// eslint-disable-next-line eqeqeq\n\tfor (; (curr = prev.next) != null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tif (!isDelete) {\n\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\t}\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('./list.d.ts').listGet} */\nvar listGet = function (objects, key) {\n\tif (!objects) {\n\t\treturn void undefined;\n\t}\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('./list.d.ts').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('./list.d.ts').ListNode<typeof value, typeof key>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('./list.d.ts').listHas} */\nvar listHas = function (objects, key) {\n\tif (!objects) {\n\t\treturn false;\n\t}\n\treturn !!listGetNode(objects, key);\n};\n/** @type {import('./list.d.ts').listDelete} */\n// eslint-disable-next-line consistent-return\nvar listDelete = function (objects, key) {\n\tif (objects) {\n\t\treturn listGetNode(objects, key, true);\n\t}\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannelList() {\n\t/** @typedef {ReturnType<typeof getSideChannelList>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {import('./list.d.ts').RootNode<V, K> | undefined} */ var $o;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tvar root = $o && $o.next;\n\t\t\tvar deletedNode = listDelete($o, key);\n\t\t\tif (deletedNode && root && root === deletedNode) {\n\t\t\t\t$o = void undefined;\n\t\t\t}\n\t\t\treturn !!deletedNode;\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn listGet($o, key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn listHas($o, key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$o) {\n\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t$o = {\n\t\t\t\t\tnext: void undefined\n\t\t\t\t};\n\t\t\t}\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tlistSet(/** @type {NonNullable<typeof $o>} */ ($o), key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n","import { decodeXML, decodeHTML, DecodingMode } from \"./decode.js\";\nimport { encodeHTML, encodeNonAsciiHTML } from \"./encode.js\";\nimport { encodeXML, escapeUTF8, escapeAttribute, escapeText, } from \"./escape.js\";\n/** The level of entities to support. */\nexport var EntityLevel;\n(function (EntityLevel) {\n    /** Support only XML entities. */\n    EntityLevel[EntityLevel[\"XML\"] = 0] = \"XML\";\n    /** Support HTML entities, which are a superset of XML entities. */\n    EntityLevel[EntityLevel[\"HTML\"] = 1] = \"HTML\";\n})(EntityLevel || (EntityLevel = {}));\nexport var EncodingMode;\n(function (EncodingMode) {\n    /**\n     * The output is UTF-8 encoded. Only characters that need escaping within\n     * XML will be escaped.\n     */\n    EncodingMode[EncodingMode[\"UTF8\"] = 0] = \"UTF8\";\n    /**\n     * The output consists only of ASCII characters. Characters that need\n     * escaping within HTML, and characters that aren't ASCII characters will\n     * be escaped.\n     */\n    EncodingMode[EncodingMode[\"ASCII\"] = 1] = \"ASCII\";\n    /**\n     * Encode all characters that have an equivalent entity, as well as all\n     * characters that are not ASCII characters.\n     */\n    EncodingMode[EncodingMode[\"Extensive\"] = 2] = \"Extensive\";\n    /**\n     * Encode all characters that have to be escaped in HTML attributes,\n     * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n     */\n    EncodingMode[EncodingMode[\"Attribute\"] = 3] = \"Attribute\";\n    /**\n     * Encode all characters that have to be escaped in HTML text,\n     * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n     */\n    EncodingMode[EncodingMode[\"Text\"] = 4] = \"Text\";\n})(EncodingMode || (EncodingMode = {}));\n/**\n * Decodes a string with entities.\n *\n * @param input String to decode.\n * @param options Decoding options.\n */\nexport function decode(input, options = EntityLevel.XML) {\n    const level = typeof options === \"number\" ? options : options.level;\n    if (level === EntityLevel.HTML) {\n        const mode = typeof options === \"object\" ? options.mode : undefined;\n        return decodeHTML(input, mode);\n    }\n    return decodeXML(input);\n}\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param input String to decode.\n * @param options Decoding options.\n * @deprecated Use `decode` with the `mode` set to `Strict`.\n */\nexport function decodeStrict(input, options = EntityLevel.XML) {\n    var _a;\n    const normalizedOptions = typeof options === \"number\" ? { level: options } : options;\n    (_a = normalizedOptions.mode) !== null && _a !== void 0 ? _a : (normalizedOptions.mode = DecodingMode.Strict);\n    return decode(input, normalizedOptions);\n}\n/**\n * Encodes a string with entities.\n *\n * @param input String to encode.\n * @param options Encoding options.\n */\nexport function encode(input, options = EntityLevel.XML) {\n    const { mode = EncodingMode.Extensive, level = EntityLevel.XML } = typeof options === \"number\" ? { level: options } : options;\n    switch (mode) {\n        case EncodingMode.UTF8: {\n            return escapeUTF8(input);\n        }\n        case EncodingMode.Attribute: {\n            return escapeAttribute(input);\n        }\n        case EncodingMode.Text: {\n            return escapeText(input);\n        }\n        case EncodingMode.ASCII: {\n            return level === EntityLevel.HTML\n                ? encodeNonAsciiHTML(input)\n                : encodeXML(input);\n        }\n        // eslint-disable-next-line unicorn/no-useless-switch-case\n        case EncodingMode.Extensive:\n        default: {\n            return level === EntityLevel.HTML\n                ? encodeHTML(input)\n                : encodeXML(input);\n        }\n    }\n}\nexport { encodeXML, escape, escapeUTF8, escapeAttribute, escapeText, } from \"./escape.js\";\nexport { encodeHTML, encodeNonAsciiHTML, \n// Legacy aliases (deprecated)\nencodeHTML as encodeHTML4, encodeHTML as encodeHTML5, } from \"./encode.js\";\nexport { EntityDecoder, DecodingMode, decodeXML, decodeHTML, decodeHTMLStrict, decodeHTMLAttribute, \n// Legacy aliases (deprecated)\ndecodeHTML as decodeHTML4, decodeHTML as decodeHTML5, decodeHTMLStrict as decodeHTML4Strict, decodeHTMLStrict as decodeHTML5Strict, decodeXML as decodeXMLStrict, } from \"./decode.js\";\n//# sourceMappingURL=index.js.map","'use strict';\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n  return this;\n}\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { generateRemoteUrl } from '@nextcloud/router'\n\n/**\n *\n */\nfunction getRootPath() {\n\treturn generateRemoteUrl('dav/comments')\n}\n\nexport { getRootPath }\n","'use strict';\n\nvar _Object$setPrototypeO;\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar finished = require('./end-of-stream');\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n  if (resolve !== null) {\n    var data = iter[kStream].read();\n    // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n  next: function next() {\n    var _this = this;\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    }\n\n    // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n    var lastPromise = this[kLastPromise];\n    var promise;\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n      promise = new Promise(this[kHandlePromise]);\n    }\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject];\n      // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n      iterator[kError] = err;\n      return;\n    }\n    var resolve = iterator[kLastResolve];\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\nmodule.exports = createReadableStreamAsyncIterator;","import { assertError, isError } from \"./error.js\";\nimport { getGlobalName } from \"./global.js\";\nimport { parseArguments } from \"./tools.js\";\nexport class Layerr extends Error {\n    constructor(errorOptionsOrMessage, messageText) {\n        const args = [...arguments];\n        const { options, shortMessage } = parseArguments(args);\n        let message = shortMessage;\n        if (options.cause) {\n            message = `${message}: ${options.cause.message}`;\n        }\n        super(message);\n        this.message = message;\n        if (options.name && typeof options.name === \"string\") {\n            this.name = options.name;\n        }\n        else {\n            this.name = getGlobalName();\n        }\n        if (options.cause) {\n            Object.defineProperty(this, \"_cause\", { value: options.cause });\n        }\n        Object.defineProperty(this, \"_info\", { value: {} });\n        if (options.info && typeof options.info === \"object\") {\n            Object.assign(this._info, options.info);\n        }\n        if (Error.captureStackTrace) {\n            const ctor = options.constructorOpt || this.constructor;\n            Error.captureStackTrace(this, ctor);\n        }\n    }\n    static cause(err) {\n        assertError(err);\n        if (!err._cause)\n            return null;\n        return isError(err._cause)\n            ? err._cause\n            : null;\n    }\n    static fullStack(err) {\n        assertError(err);\n        const cause = Layerr.cause(err);\n        if (cause) {\n            return `${err.stack}\\ncaused by: ${Layerr.fullStack(cause)}`;\n        }\n        return err.stack ?? \"\";\n    }\n    static info(err) {\n        assertError(err);\n        const output = {};\n        const cause = Layerr.cause(err);\n        if (cause) {\n            Object.assign(output, Layerr.info(cause));\n        }\n        if (err._info) {\n            Object.assign(output, err._info);\n        }\n        return output;\n    }\n    toString() {\n        let output = this.name ||\n            this.constructor.name ||\n            this.constructor.prototype.name;\n        if (this.message) {\n            output = `${output}: ${this.message}`;\n        }\n        return output;\n    }\n}\n","import { Layerr } from \"layerr\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { fromBase64 } from \"../tools/encode.js\";\nimport { isReactNative, isWeb } from \"../compat/env.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode, processResponsePayload } from \"../response.js\";\nimport { AuthType, ErrorCode } from \"../types.js\";\nconst TRANSFORM_RETAIN_FORMAT = (v) => v;\nexport async function getFileContents(context, filePath, options = {}) {\n    const { format = \"binary\" } = options;\n    if (format !== \"binary\" && format !== \"text\") {\n        throw new Layerr({\n            info: {\n                code: ErrorCode.InvalidOutputFormat\n            }\n        }, `Invalid output format: ${format}`);\n    }\n    return format === \"text\"\n        ? getFileContentsString(context, filePath, options)\n        : getFileContentsBuffer(context, filePath, options);\n}\nasync function getFileContentsBuffer(context, filePath, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"GET\"\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    let body;\n    if (isWeb() || isReactNative()) {\n        body = await response.arrayBuffer();\n    }\n    else {\n        body = Buffer.from(await response.arrayBuffer());\n    }\n    return processResponsePayload(response, body, options.details);\n}\nasync function getFileContentsString(context, filePath, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"GET\",\n        headers: {\n            Accept: \"text/plain\"\n        },\n        transformResponse: [TRANSFORM_RETAIN_FORMAT]\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    const body = await response.text();\n    return processResponsePayload(response, body, options.details);\n}\nexport function getFileDownloadLink(context, filePath) {\n    let url = joinURL(context.remoteURL, encodePath(filePath));\n    const protocol = /^https:/i.test(url) ? \"https\" : \"http\";\n    switch (context.authType) {\n        case AuthType.None:\n            // Do nothing\n            break;\n        case AuthType.Password: {\n            const authPart = context.headers.Authorization.replace(/^Basic /i, \"\").trim();\n            const authContents = fromBase64(authPart);\n            url = url.replace(/^https?:\\/\\//, `${protocol}://${authContents}@`);\n            break;\n        }\n        default:\n            throw new Layerr({\n                info: {\n                    code: ErrorCode.LinkUnsupportedAuthType\n                }\n            }, `Unsupported auth type for file link: ${context.authType}`);\n    }\n    return url;\n}\n","// parse a single path portion\nimport { parseClass } from './brace-expressions.js';\nimport { unescape } from './unescape.js';\nconst types = new Set(['!', '?', '+', '*', '@']);\nconst isExtglobType = (c) => types.has(c);\n// Patterns that get prepended to bind to the start of either the\n// entire string, or just a single path portion, to prevent dots\n// and/or traversal patterns, when needed.\n// Exts don't need the ^ or / bit, because the root binds that already.\nconst startNoTraversal = '(?!(?:^|/)\\\\.\\\\.?(?:$|/))';\nconst startNoDot = '(?!\\\\.)';\n// characters that indicate a start of pattern needs the \"no dots\" bit,\n// because a dot *might* be matched. ( is not in the list, because in\n// the case of a child extglob, it will handle the prevention itself.\nconst addPatternStart = new Set(['[', '.']);\n// cases where traversal is A-OK, no dot prevention needed\nconst justDots = new Set(['..', '.']);\nconst reSpecials = new Set('().*{}+?[]^$\\\\!');\nconst regExpEscape = (s) => s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n// any single thing other than /\nconst qmark = '[^/]';\n// * => any number of characters\nconst star = qmark + '*?';\n// use + when we need to ensure that *something* matches, because the * is\n// the only thing in the path portion.\nconst starNoEmpty = qmark + '+?';\n// remove the \\ chars that we added if we end up doing a nonmagic compare\n// const deslash = (s: string) => s.replace(/\\\\(.)/g, '$1')\nexport class AST {\n    type;\n    #root;\n    #hasMagic;\n    #uflag = false;\n    #parts = [];\n    #parent;\n    #parentIndex;\n    #negs;\n    #filledNegs = false;\n    #options;\n    #toString;\n    // set to true if it's an extglob with no children\n    // (which really means one child of '')\n    #emptyExt = false;\n    constructor(type, parent, options = {}) {\n        this.type = type;\n        // extglobs are inherently magical\n        if (type)\n            this.#hasMagic = true;\n        this.#parent = parent;\n        this.#root = this.#parent ? this.#parent.#root : this;\n        this.#options = this.#root === this ? options : this.#root.#options;\n        this.#negs = this.#root === this ? [] : this.#root.#negs;\n        if (type === '!' && !this.#root.#filledNegs)\n            this.#negs.push(this);\n        this.#parentIndex = this.#parent ? this.#parent.#parts.length : 0;\n    }\n    get hasMagic() {\n        /* c8 ignore start */\n        if (this.#hasMagic !== undefined)\n            return this.#hasMagic;\n        /* c8 ignore stop */\n        for (const p of this.#parts) {\n            if (typeof p === 'string')\n                continue;\n            if (p.type || p.hasMagic)\n                return (this.#hasMagic = true);\n        }\n        // note: will be undefined until we generate the regexp src and find out\n        return this.#hasMagic;\n    }\n    // reconstructs the pattern\n    toString() {\n        if (this.#toString !== undefined)\n            return this.#toString;\n        if (!this.type) {\n            return (this.#toString = this.#parts.map(p => String(p)).join(''));\n        }\n        else {\n            return (this.#toString =\n                this.type + '(' + this.#parts.map(p => String(p)).join('|') + ')');\n        }\n    }\n    #fillNegs() {\n        /* c8 ignore start */\n        if (this !== this.#root)\n            throw new Error('should only call on root');\n        if (this.#filledNegs)\n            return this;\n        /* c8 ignore stop */\n        // call toString() once to fill this out\n        this.toString();\n        this.#filledNegs = true;\n        let n;\n        while ((n = this.#negs.pop())) {\n            if (n.type !== '!')\n                continue;\n            // walk up the tree, appending everthing that comes AFTER parentIndex\n            let p = n;\n            let pp = p.#parent;\n            while (pp) {\n                for (let i = p.#parentIndex + 1; !pp.type && i < pp.#parts.length; i++) {\n                    for (const part of n.#parts) {\n                        /* c8 ignore start */\n                        if (typeof part === 'string') {\n                            throw new Error('string part in extglob AST??');\n                        }\n                        /* c8 ignore stop */\n                        part.copyIn(pp.#parts[i]);\n                    }\n                }\n                p = pp;\n                pp = p.#parent;\n            }\n        }\n        return this;\n    }\n    push(...parts) {\n        for (const p of parts) {\n            if (p === '')\n                continue;\n            /* c8 ignore start */\n            if (typeof p !== 'string' && !(p instanceof AST && p.#parent === this)) {\n                throw new Error('invalid part: ' + p);\n            }\n            /* c8 ignore stop */\n            this.#parts.push(p);\n        }\n    }\n    toJSON() {\n        const ret = this.type === null\n            ? this.#parts.slice().map(p => (typeof p === 'string' ? p : p.toJSON()))\n            : [this.type, ...this.#parts.map(p => p.toJSON())];\n        if (this.isStart() && !this.type)\n            ret.unshift([]);\n        if (this.isEnd() &&\n            (this === this.#root ||\n                (this.#root.#filledNegs && this.#parent?.type === '!'))) {\n            ret.push({});\n        }\n        return ret;\n    }\n    isStart() {\n        if (this.#root === this)\n            return true;\n        // if (this.type) return !!this.#parent?.isStart()\n        if (!this.#parent?.isStart())\n            return false;\n        if (this.#parentIndex === 0)\n            return true;\n        // if everything AHEAD of this is a negation, then it's still the \"start\"\n        const p = this.#parent;\n        for (let i = 0; i < this.#parentIndex; i++) {\n            const pp = p.#parts[i];\n            if (!(pp instanceof AST && pp.type === '!')) {\n                return false;\n            }\n        }\n        return true;\n    }\n    isEnd() {\n        if (this.#root === this)\n            return true;\n        if (this.#parent?.type === '!')\n            return true;\n        if (!this.#parent?.isEnd())\n            return false;\n        if (!this.type)\n            return this.#parent?.isEnd();\n        // if not root, it'll always have a parent\n        /* c8 ignore start */\n        const pl = this.#parent ? this.#parent.#parts.length : 0;\n        /* c8 ignore stop */\n        return this.#parentIndex === pl - 1;\n    }\n    copyIn(part) {\n        if (typeof part === 'string')\n            this.push(part);\n        else\n            this.push(part.clone(this));\n    }\n    clone(parent) {\n        const c = new AST(this.type, parent);\n        for (const p of this.#parts) {\n            c.copyIn(p);\n        }\n        return c;\n    }\n    static #parseAST(str, ast, pos, opt) {\n        let escaping = false;\n        let inBrace = false;\n        let braceStart = -1;\n        let braceNeg = false;\n        if (ast.type === null) {\n            // outside of a extglob, append until we find a start\n            let i = pos;\n            let acc = '';\n            while (i < str.length) {\n                const c = str.charAt(i++);\n                // still accumulate escapes at this point, but we do ignore\n                // starts that are escaped\n                if (escaping || c === '\\\\') {\n                    escaping = !escaping;\n                    acc += c;\n                    continue;\n                }\n                if (inBrace) {\n                    if (i === braceStart + 1) {\n                        if (c === '^' || c === '!') {\n                            braceNeg = true;\n                        }\n                    }\n                    else if (c === ']' && !(i === braceStart + 2 && braceNeg)) {\n                        inBrace = false;\n                    }\n                    acc += c;\n                    continue;\n                }\n                else if (c === '[') {\n                    inBrace = true;\n                    braceStart = i;\n                    braceNeg = false;\n                    acc += c;\n                    continue;\n                }\n                if (!opt.noext && isExtglobType(c) && str.charAt(i) === '(') {\n                    ast.push(acc);\n                    acc = '';\n                    const ext = new AST(c, ast);\n                    i = AST.#parseAST(str, ext, i, opt);\n                    ast.push(ext);\n                    continue;\n                }\n                acc += c;\n            }\n            ast.push(acc);\n            return i;\n        }\n        // some kind of extglob, pos is at the (\n        // find the next | or )\n        let i = pos + 1;\n        let part = new AST(null, ast);\n        const parts = [];\n        let acc = '';\n        while (i < str.length) {\n            const c = str.charAt(i++);\n            // still accumulate escapes at this point, but we do ignore\n            // starts that are escaped\n            if (escaping || c === '\\\\') {\n                escaping = !escaping;\n                acc += c;\n                continue;\n            }\n            if (inBrace) {\n                if (i === braceStart + 1) {\n                    if (c === '^' || c === '!') {\n                        braceNeg = true;\n                    }\n                }\n                else if (c === ']' && !(i === braceStart + 2 && braceNeg)) {\n                    inBrace = false;\n                }\n                acc += c;\n                continue;\n            }\n            else if (c === '[') {\n                inBrace = true;\n                braceStart = i;\n                braceNeg = false;\n                acc += c;\n                continue;\n            }\n            if (isExtglobType(c) && str.charAt(i) === '(') {\n                part.push(acc);\n                acc = '';\n                const ext = new AST(c, part);\n                part.push(ext);\n                i = AST.#parseAST(str, ext, i, opt);\n                continue;\n            }\n            if (c === '|') {\n                part.push(acc);\n                acc = '';\n                parts.push(part);\n                part = new AST(null, ast);\n                continue;\n            }\n            if (c === ')') {\n                if (acc === '' && ast.#parts.length === 0) {\n                    ast.#emptyExt = true;\n                }\n                part.push(acc);\n                acc = '';\n                ast.push(...parts, part);\n                return i;\n            }\n            acc += c;\n        }\n        // unfinished extglob\n        // if we got here, it was a malformed extglob! not an extglob, but\n        // maybe something else in there.\n        ast.type = null;\n        ast.#hasMagic = undefined;\n        ast.#parts = [str.substring(pos - 1)];\n        return i;\n    }\n    static fromGlob(pattern, options = {}) {\n        const ast = new AST(null, undefined, options);\n        AST.#parseAST(pattern, ast, 0, options);\n        return ast;\n    }\n    // returns the regular expression if there's magic, or the unescaped\n    // string if not.\n    toMMPattern() {\n        // should only be called on root\n        /* c8 ignore start */\n        if (this !== this.#root)\n            return this.#root.toMMPattern();\n        /* c8 ignore stop */\n        const glob = this.toString();\n        const [re, body, hasMagic, uflag] = this.toRegExpSource();\n        // if we're in nocase mode, and not nocaseMagicOnly, then we do\n        // still need a regular expression if we have to case-insensitively\n        // match capital/lowercase characters.\n        const anyMagic = hasMagic ||\n            this.#hasMagic ||\n            (this.#options.nocase &&\n                !this.#options.nocaseMagicOnly &&\n                glob.toUpperCase() !== glob.toLowerCase());\n        if (!anyMagic) {\n            return body;\n        }\n        const flags = (this.#options.nocase ? 'i' : '') + (uflag ? 'u' : '');\n        return Object.assign(new RegExp(`^${re}$`, flags), {\n            _src: re,\n            _glob: glob,\n        });\n    }\n    get options() {\n        return this.#options;\n    }\n    // returns the string match, the regexp source, whether there's magic\n    // in the regexp (so a regular expression is required) and whether or\n    // not the uflag is needed for the regular expression (for posix classes)\n    // TODO: instead of injecting the start/end at this point, just return\n    // the BODY of the regexp, along with the start/end portions suitable\n    // for binding the start/end in either a joined full-path makeRe context\n    // (where we bind to (^|/), or a standalone matchPart context (where\n    // we bind to ^, and not /).  Otherwise slashes get duped!\n    //\n    // In part-matching mode, the start is:\n    // - if not isStart: nothing\n    // - if traversal possible, but not allowed: ^(?!\\.\\.?$)\n    // - if dots allowed or not possible: ^\n    // - if dots possible and not allowed: ^(?!\\.)\n    // end is:\n    // - if not isEnd(): nothing\n    // - else: $\n    //\n    // In full-path matching mode, we put the slash at the START of the\n    // pattern, so start is:\n    // - if first pattern: same as part-matching mode\n    // - if not isStart(): nothing\n    // - if traversal possible, but not allowed: /(?!\\.\\.?(?:$|/))\n    // - if dots allowed or not possible: /\n    // - if dots possible and not allowed: /(?!\\.)\n    // end is:\n    // - if last pattern, same as part-matching mode\n    // - else nothing\n    //\n    // Always put the (?:$|/) on negated tails, though, because that has to be\n    // there to bind the end of the negated pattern portion, and it's easier to\n    // just stick it in now rather than try to inject it later in the middle of\n    // the pattern.\n    //\n    // We can just always return the same end, and leave it up to the caller\n    // to know whether it's going to be used joined or in parts.\n    // And, if the start is adjusted slightly, can do the same there:\n    // - if not isStart: nothing\n    // - if traversal possible, but not allowed: (?:/|^)(?!\\.\\.?$)\n    // - if dots allowed or not possible: (?:/|^)\n    // - if dots possible and not allowed: (?:/|^)(?!\\.)\n    //\n    // But it's better to have a simpler binding without a conditional, for\n    // performance, so probably better to return both start options.\n    //\n    // Then the caller just ignores the end if it's not the first pattern,\n    // and the start always gets applied.\n    //\n    // But that's always going to be $ if it's the ending pattern, or nothing,\n    // so the caller can just attach $ at the end of the pattern when building.\n    //\n    // So the todo is:\n    // - better detect what kind of start is needed\n    // - return both flavors of starting pattern\n    // - attach $ at the end of the pattern when creating the actual RegExp\n    //\n    // Ah, but wait, no, that all only applies to the root when the first pattern\n    // is not an extglob. If the first pattern IS an extglob, then we need all\n    // that dot prevention biz to live in the extglob portions, because eg\n    // +(*|.x*) can match .xy but not .yx.\n    //\n    // So, return the two flavors if it's #root and the first child is not an\n    // AST, otherwise leave it to the child AST to handle it, and there,\n    // use the (?:^|/) style of start binding.\n    //\n    // Even simplified further:\n    // - Since the start for a join is eg /(?!\\.) and the start for a part\n    // is ^(?!\\.), we can just prepend (?!\\.) to the pattern (either root\n    // or start or whatever) and prepend ^ or / at the Regexp construction.\n    toRegExpSource(allowDot) {\n        const dot = allowDot ?? !!this.#options.dot;\n        if (this.#root === this)\n            this.#fillNegs();\n        if (!this.type) {\n            const noEmpty = this.isStart() && this.isEnd();\n            const src = this.#parts\n                .map(p => {\n                const [re, _, hasMagic, uflag] = typeof p === 'string'\n                    ? AST.#parseGlob(p, this.#hasMagic, noEmpty)\n                    : p.toRegExpSource(allowDot);\n                this.#hasMagic = this.#hasMagic || hasMagic;\n                this.#uflag = this.#uflag || uflag;\n                return re;\n            })\n                .join('');\n            let start = '';\n            if (this.isStart()) {\n                if (typeof this.#parts[0] === 'string') {\n                    // this is the string that will match the start of the pattern,\n                    // so we need to protect against dots and such.\n                    // '.' and '..' cannot match unless the pattern is that exactly,\n                    // even if it starts with . or dot:true is set.\n                    const dotTravAllowed = this.#parts.length === 1 && justDots.has(this.#parts[0]);\n                    if (!dotTravAllowed) {\n                        const aps = addPatternStart;\n                        // check if we have a possibility of matching . or ..,\n                        // and prevent that.\n                        const needNoTrav = \n                        // dots are allowed, and the pattern starts with [ or .\n                        (dot && aps.has(src.charAt(0))) ||\n                            // the pattern starts with \\., and then [ or .\n                            (src.startsWith('\\\\.') && aps.has(src.charAt(2))) ||\n                            // the pattern starts with \\.\\., and then [ or .\n                            (src.startsWith('\\\\.\\\\.') && aps.has(src.charAt(4)));\n                        // no need to prevent dots if it can't match a dot, or if a\n                        // sub-pattern will be preventing it anyway.\n                        const needNoDot = !dot && !allowDot && aps.has(src.charAt(0));\n                        start = needNoTrav ? startNoTraversal : needNoDot ? startNoDot : '';\n                    }\n                }\n            }\n            // append the \"end of path portion\" pattern to negation tails\n            let end = '';\n            if (this.isEnd() &&\n                this.#root.#filledNegs &&\n                this.#parent?.type === '!') {\n                end = '(?:$|\\\\/)';\n            }\n            const final = start + src + end;\n            return [\n                final,\n                unescape(src),\n                (this.#hasMagic = !!this.#hasMagic),\n                this.#uflag,\n            ];\n        }\n        // We need to calculate the body *twice* if it's a repeat pattern\n        // at the start, once in nodot mode, then again in dot mode, so a\n        // pattern like *(?) can match 'x.y'\n        const repeated = this.type === '*' || this.type === '+';\n        // some kind of extglob\n        const start = this.type === '!' ? '(?:(?!(?:' : '(?:';\n        let body = this.#partsToRegExp(dot);\n        if (this.isStart() && this.isEnd() && !body && this.type !== '!') {\n            // invalid extglob, has to at least be *something* present, if it's\n            // the entire path portion.\n            const s = this.toString();\n            this.#parts = [s];\n            this.type = null;\n            this.#hasMagic = undefined;\n            return [s, unescape(this.toString()), false, false];\n        }\n        // XXX abstract out this map method\n        let bodyDotAllowed = !repeated || allowDot || dot || !startNoDot\n            ? ''\n            : this.#partsToRegExp(true);\n        if (bodyDotAllowed === body) {\n            bodyDotAllowed = '';\n        }\n        if (bodyDotAllowed) {\n            body = `(?:${body})(?:${bodyDotAllowed})*?`;\n        }\n        // an empty !() is exactly equivalent to a starNoEmpty\n        let final = '';\n        if (this.type === '!' && this.#emptyExt) {\n            final = (this.isStart() && !dot ? startNoDot : '') + starNoEmpty;\n        }\n        else {\n            const close = this.type === '!'\n                ? // !() must match something,but !(x) can match ''\n                    '))' +\n                        (this.isStart() && !dot && !allowDot ? startNoDot : '') +\n                        star +\n                        ')'\n                : this.type === '@'\n                    ? ')'\n                    : this.type === '?'\n                        ? ')?'\n                        : this.type === '+' && bodyDotAllowed\n                            ? ')'\n                            : this.type === '*' && bodyDotAllowed\n                                ? `)?`\n                                : `)${this.type}`;\n            final = start + body + close;\n        }\n        return [\n            final,\n            unescape(body),\n            (this.#hasMagic = !!this.#hasMagic),\n            this.#uflag,\n        ];\n    }\n    #partsToRegExp(dot) {\n        return this.#parts\n            .map(p => {\n            // extglob ASTs should only contain parent ASTs\n            /* c8 ignore start */\n            if (typeof p === 'string') {\n                throw new Error('string type in extglob ast??');\n            }\n            /* c8 ignore stop */\n            // can ignore hasMagic, because extglobs are already always magic\n            const [re, _, _hasMagic, uflag] = p.toRegExpSource(dot);\n            this.#uflag = this.#uflag || uflag;\n            return re;\n        })\n            .filter(p => !(this.isStart() && this.isEnd()) || !!p)\n            .join('|');\n    }\n    static #parseGlob(glob, hasMagic, noEmpty = false) {\n        let escaping = false;\n        let re = '';\n        let uflag = false;\n        for (let i = 0; i < glob.length; i++) {\n            const c = glob.charAt(i);\n            if (escaping) {\n                escaping = false;\n                re += (reSpecials.has(c) ? '\\\\' : '') + c;\n                continue;\n            }\n            if (c === '\\\\') {\n                if (i === glob.length - 1) {\n                    re += '\\\\\\\\';\n                }\n                else {\n                    escaping = true;\n                }\n                continue;\n            }\n            if (c === '[') {\n                const [src, needUflag, consumed, magic] = parseClass(glob, i);\n                if (consumed) {\n                    re += src;\n                    uflag = uflag || needUflag;\n                    i += consumed - 1;\n                    hasMagic = hasMagic || magic;\n                    continue;\n                }\n            }\n            if (c === '*') {\n                if (noEmpty && glob === '*')\n                    re += starNoEmpty;\n                else\n                    re += star;\n                hasMagic = true;\n                continue;\n            }\n            if (c === '?') {\n                re += qmark;\n                hasMagic = true;\n                continue;\n            }\n            re += regExpEscape(c);\n        }\n        return [re, unescape(glob), !!hasMagic, uflag];\n    }\n}\n//# sourceMappingURL=ast.js.map","import { toBase64 } from \"../tools/encode.js\";\nexport function generateBasicAuthHeader(username, password) {\n    const encoded = toBase64(`${username}:${password}`);\n    return `Basic ${encoded}`;\n}\n","import { sequence } from \"./functions.js\";\nconst HOT_PATCHER_TYPE = \"@@HOTPATCHER\";\nconst NOOP = () => { };\nfunction createNewItem(method) {\n    return {\n        original: method,\n        methods: [method],\n        final: false\n    };\n}\n/**\n * Hot patching manager class\n */\nexport class HotPatcher {\n    constructor() {\n        this._configuration = {\n            registry: {},\n            getEmptyAction: \"null\"\n        };\n        this.__type__ = HOT_PATCHER_TYPE;\n    }\n    /**\n     * Configuration object reference\n     * @readonly\n     */\n    get configuration() {\n        return this._configuration;\n    }\n    /**\n     * The action to take when a non-set method is requested\n     * Possible values: null/throw\n     */\n    get getEmptyAction() {\n        return this.configuration.getEmptyAction;\n    }\n    set getEmptyAction(newAction) {\n        this.configuration.getEmptyAction = newAction;\n    }\n    /**\n     * Control another hot-patcher instance\n     * Force the remote instance to use patched methods from calling instance\n     * @param target The target instance to control\n     * @param allowTargetOverrides Allow the target to override patched methods on\n     * the controller (default is false)\n     * @returns Returns self\n     * @throws {Error} Throws if the target is invalid\n     */\n    control(target, allowTargetOverrides = false) {\n        if (!target || target.__type__ !== HOT_PATCHER_TYPE) {\n            throw new Error(\"Failed taking control of target HotPatcher instance: Invalid type or object\");\n        }\n        Object.keys(target.configuration.registry).forEach(foreignKey => {\n            if (this.configuration.registry.hasOwnProperty(foreignKey)) {\n                if (allowTargetOverrides) {\n                    this.configuration.registry[foreignKey] = Object.assign({}, target.configuration.registry[foreignKey]);\n                }\n            }\n            else {\n                this.configuration.registry[foreignKey] = Object.assign({}, target.configuration.registry[foreignKey]);\n            }\n        });\n        target._configuration = this.configuration;\n        return this;\n    }\n    /**\n     * Execute a patched method\n     * @param key The method key\n     * @param args Arguments to pass to the method (optional)\n     * @see HotPatcher#get\n     * @returns The output of the called method\n     */\n    execute(key, ...args) {\n        const method = this.get(key) || NOOP;\n        return method(...args);\n    }\n    /**\n     * Get a method for a key\n     * @param key The method key\n     * @returns Returns the requested function or null if the function\n     * does not exist and the host is configured to return null (and not throw)\n     * @throws {Error} Throws if the configuration specifies to throw and the method\n     * does not exist\n     * @throws {Error} Throws if the `getEmptyAction` value is invalid\n     */\n    get(key) {\n        const item = this.configuration.registry[key];\n        if (!item) {\n            switch (this.getEmptyAction) {\n                case \"null\":\n                    return null;\n                case \"throw\":\n                    throw new Error(`Failed handling method request: No method provided for override: ${key}`);\n                default:\n                    throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`);\n            }\n        }\n        return sequence(...item.methods);\n    }\n    /**\n     * Check if a method has been patched\n     * @param key The function key\n     * @returns True if already patched\n     */\n    isPatched(key) {\n        return !!this.configuration.registry[key];\n    }\n    /**\n     * Patch a method name\n     * @param key The method key to patch\n     * @param method The function to set\n     * @param opts Patch options\n     * @returns Returns self\n     */\n    patch(key, method, opts = {}) {\n        const { chain = false } = opts;\n        if (this.configuration.registry[key] && this.configuration.registry[key].final) {\n            throw new Error(`Failed patching '${key}': Method marked as being final`);\n        }\n        if (typeof method !== \"function\") {\n            throw new Error(`Failed patching '${key}': Provided method is not a function`);\n        }\n        if (chain) {\n            // Add new method to the chain\n            if (!this.configuration.registry[key]) {\n                // New key, create item\n                this.configuration.registry[key] = createNewItem(method);\n            }\n            else {\n                // Existing, push the method\n                this.configuration.registry[key].methods.push(method);\n            }\n        }\n        else {\n            // Replace the original\n            if (this.isPatched(key)) {\n                const { original } = this.configuration.registry[key];\n                this.configuration.registry[key] = Object.assign(createNewItem(method), {\n                    original\n                });\n            }\n            else {\n                this.configuration.registry[key] = createNewItem(method);\n            }\n        }\n        return this;\n    }\n    /**\n     * Patch a method inline, execute it and return the value\n     * Used for patching contents of functions. This method will not apply a patched\n     * function if it has already been patched, allowing for external overrides to\n     * function. It also means that the function is cached so that it is not\n     * instantiated every time the outer function is invoked.\n     * @param key The function key to use\n     * @param method The function to patch (once, only if not patched)\n     * @param args Arguments to pass to the function\n     * @returns The output of the patched function\n     * @example\n     *  function mySpecialFunction(a, b) {\n     *      return hotPatcher.patchInline(\"func\", (a, b) => {\n     *          return a + b;\n     *      }, a, b);\n     *  }\n     */\n    patchInline(key, method, ...args) {\n        if (!this.isPatched(key)) {\n            this.patch(key, method);\n        }\n        return this.execute(key, ...args);\n    }\n    /**\n     * Patch a method (or methods) in sequential-mode\n     * See `patch()` with the option `chain: true`\n     * @see patch\n     * @param key The key to patch\n     * @param methods The methods to patch\n     * @returns Returns self\n     */\n    plugin(key, ...methods) {\n        methods.forEach(method => {\n            this.patch(key, method, { chain: true });\n        });\n        return this;\n    }\n    /**\n     * Restore a patched method if it has been overridden\n     * @param key The method key\n     * @returns Returns self\n     */\n    restore(key) {\n        if (!this.isPatched(key)) {\n            throw new Error(`Failed restoring method: No method present for key: ${key}`);\n        }\n        else if (typeof this.configuration.registry[key].original !== \"function\") {\n            throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${key}`);\n        }\n        this.configuration.registry[key].methods = [this.configuration.registry[key].original];\n        return this;\n    }\n    /**\n     * Set a method as being final\n     * This sets a method as having been finally overridden. Attempts at overriding\n     * again will fail with an error.\n     * @param key The key to make final\n     * @returns Returns self\n     */\n    setFinal(key) {\n        if (!this.configuration.registry.hasOwnProperty(key)) {\n            throw new Error(`Failed marking '${key}' as final: No method found for key`);\n        }\n        this.configuration.registry[key].final = true;\n        return this;\n    }\n}\n","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    callback.apply(this, args);\n  };\n}\nfunction noop() {}\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n  var writableEnded = stream._writableState && stream._writableState.finished;\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n  var onclose = function onclose() {\n    var err;\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\nmodule.exports = eos;","export function sequence(...methods) {\n    if (methods.length === 0) {\n        throw new Error(\"Failed creating sequence: No functions provided\");\n    }\n    return function __executeSequence(...args) {\n        let result = args;\n        const _this = this;\n        while (methods.length > 0) {\n            const method = methods.shift();\n            result = [method.apply(_this, result)];\n        }\n        return result[0];\n    };\n}\n","export function getDebugBuildName() {\n    if (typeof TARGET === \"string\") {\n        return TARGET;\n    }\n    return \"node\";\n}\nexport function isReactNative() {\n    return typeof TARGET === \"string\" && TARGET === \"react-native\";\n}\nexport function isWeb() {\n    return typeof TARGET === \"string\" && TARGET === \"web\";\n}\n","/**\n * Un-escape a string that has been escaped with {@link escape}.\n *\n * If the {@link windowsPathsNoEscape} option is used, then square-brace\n * escapes are removed, but not backslash escapes.  For example, it will turn\n * the string `'[*]'` into `*`, but it will not turn `'\\\\*'` into `'*'`,\n * becuase `\\` is a path separator in `windowsPathsNoEscape` mode.\n *\n * When `windowsPathsNoEscape` is not set, then both brace escapes and\n * backslash escapes are removed.\n *\n * Slashes (and backslashes in `windowsPathsNoEscape` mode) cannot be escaped\n * or unescaped.\n */\nexport const unescape = (s, { windowsPathsNoEscape = false, } = {}) => {\n    return windowsPathsNoEscape\n        ? s.replace(/\\[([^\\/\\\\])\\]/g, '$1')\n        : s.replace(/((?!\\\\).|^)\\[([^\\/\\\\])\\]/g, '$1$2').replace(/\\\\([^\\/])/g, '$1');\n};\n//# sourceMappingURL=unescape.js.map","/**\n * Escape all magic characters in a glob pattern.\n *\n * If the {@link windowsPathsNoEscape | GlobOptions.windowsPathsNoEscape}\n * option is used, then characters are escaped by wrapping in `[]`, because\n * a magic character wrapped in a character class can only be satisfied by\n * that exact character.  In this mode, `\\` is _not_ escaped, because it is\n * not interpreted as a magic character, but instead as a path separator.\n */\nexport const escape = (s, { windowsPathsNoEscape = false, } = {}) => {\n    // don't need to escape +@! because we escape the parens\n    // that make those magic, and escaping ! as [!] isn't valid,\n    // because [!]] is a valid glob class meaning not ']'.\n    return windowsPathsNoEscape\n        ? s.replace(/[?*()[\\]]/g, '[$&]')\n        : s.replace(/[?*()[\\]\\\\]/g, '\\\\$&');\n};\n//# sourceMappingURL=escape.js.map","import { htmlDecodeTree } from \"./generated/decode-data-html.js\";\nimport { xmlDecodeTree } from \"./generated/decode-data-xml.js\";\nimport { replaceCodePoint, fromCodePoint } from \"./decode-codepoint.js\";\nvar CharCodes;\n(function (CharCodes) {\n    CharCodes[CharCodes[\"NUM\"] = 35] = \"NUM\";\n    CharCodes[CharCodes[\"SEMI\"] = 59] = \"SEMI\";\n    CharCodes[CharCodes[\"EQUALS\"] = 61] = \"EQUALS\";\n    CharCodes[CharCodes[\"ZERO\"] = 48] = \"ZERO\";\n    CharCodes[CharCodes[\"NINE\"] = 57] = \"NINE\";\n    CharCodes[CharCodes[\"LOWER_A\"] = 97] = \"LOWER_A\";\n    CharCodes[CharCodes[\"LOWER_F\"] = 102] = \"LOWER_F\";\n    CharCodes[CharCodes[\"LOWER_X\"] = 120] = \"LOWER_X\";\n    CharCodes[CharCodes[\"LOWER_Z\"] = 122] = \"LOWER_Z\";\n    CharCodes[CharCodes[\"UPPER_A\"] = 65] = \"UPPER_A\";\n    CharCodes[CharCodes[\"UPPER_F\"] = 70] = \"UPPER_F\";\n    CharCodes[CharCodes[\"UPPER_Z\"] = 90] = \"UPPER_Z\";\n})(CharCodes || (CharCodes = {}));\n/** Bit that needs to be set to convert an upper case ASCII character to lower case */\nconst TO_LOWER_BIT = 32;\nexport var BinTrieFlags;\n(function (BinTrieFlags) {\n    BinTrieFlags[BinTrieFlags[\"VALUE_LENGTH\"] = 49152] = \"VALUE_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"BRANCH_LENGTH\"] = 16256] = \"BRANCH_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"JUMP_TABLE\"] = 127] = \"JUMP_TABLE\";\n})(BinTrieFlags || (BinTrieFlags = {}));\nfunction isNumber(code) {\n    return code >= CharCodes.ZERO && code <= CharCodes.NINE;\n}\nfunction isHexadecimalCharacter(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_F) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_F));\n}\nfunction isAsciiAlphaNumeric(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_Z) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_Z) ||\n        isNumber(code));\n}\n/**\n * Checks if the given character is a valid end character for an entity in an attribute.\n *\n * Attribute values that aren't terminated properly aren't parsed, and shouldn't lead to a parser error.\n * See the example in https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n */\nfunction isEntityInAttributeInvalidEnd(code) {\n    return code === CharCodes.EQUALS || isAsciiAlphaNumeric(code);\n}\nvar EntityDecoderState;\n(function (EntityDecoderState) {\n    EntityDecoderState[EntityDecoderState[\"EntityStart\"] = 0] = \"EntityStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericStart\"] = 1] = \"NumericStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericDecimal\"] = 2] = \"NumericDecimal\";\n    EntityDecoderState[EntityDecoderState[\"NumericHex\"] = 3] = \"NumericHex\";\n    EntityDecoderState[EntityDecoderState[\"NamedEntity\"] = 4] = \"NamedEntity\";\n})(EntityDecoderState || (EntityDecoderState = {}));\nexport var DecodingMode;\n(function (DecodingMode) {\n    /** Entities in text nodes that can end with any character. */\n    DecodingMode[DecodingMode[\"Legacy\"] = 0] = \"Legacy\";\n    /** Only allow entities terminated with a semicolon. */\n    DecodingMode[DecodingMode[\"Strict\"] = 1] = \"Strict\";\n    /** Entities in attributes have limitations on ending characters. */\n    DecodingMode[DecodingMode[\"Attribute\"] = 2] = \"Attribute\";\n})(DecodingMode || (DecodingMode = {}));\n/**\n * Token decoder with support of writing partial entities.\n */\nexport class EntityDecoder {\n    constructor(\n    /** The tree used to decode entities. */\n    decodeTree, \n    /**\n     * The function that is called when a codepoint is decoded.\n     *\n     * For multi-byte named entities, this will be called multiple times,\n     * with the second codepoint, and the same `consumed` value.\n     *\n     * @param codepoint The decoded codepoint.\n     * @param consumed The number of bytes consumed by the decoder.\n     */\n    emitCodePoint, \n    /** An object that is used to produce errors. */\n    errors) {\n        this.decodeTree = decodeTree;\n        this.emitCodePoint = emitCodePoint;\n        this.errors = errors;\n        /** The current state of the decoder. */\n        this.state = EntityDecoderState.EntityStart;\n        /** Characters that were consumed while parsing an entity. */\n        this.consumed = 1;\n        /**\n         * The result of the entity.\n         *\n         * Either the result index of a numeric entity, or the codepoint of a\n         * numeric entity.\n         */\n        this.result = 0;\n        /** The current index in the decode tree. */\n        this.treeIndex = 0;\n        /** The number of characters that were consumed in excess. */\n        this.excess = 1;\n        /** The mode in which the decoder is operating. */\n        this.decodeMode = DecodingMode.Strict;\n    }\n    /** Resets the instance to make it reusable. */\n    startEntity(decodeMode) {\n        this.decodeMode = decodeMode;\n        this.state = EntityDecoderState.EntityStart;\n        this.result = 0;\n        this.treeIndex = 0;\n        this.excess = 1;\n        this.consumed = 1;\n    }\n    /**\n     * Write an entity to the decoder. This can be called multiple times with partial entities.\n     * If the entity is incomplete, the decoder will return -1.\n     *\n     * Mirrors the implementation of `getDecoder`, but with the ability to stop decoding if the\n     * entity is incomplete, and resume when the next string is written.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The offset at which the entity begins. Should be 0 if this is not the first call.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    write(input, offset) {\n        switch (this.state) {\n            case EntityDecoderState.EntityStart: {\n                if (input.charCodeAt(offset) === CharCodes.NUM) {\n                    this.state = EntityDecoderState.NumericStart;\n                    this.consumed += 1;\n                    return this.stateNumericStart(input, offset + 1);\n                }\n                this.state = EntityDecoderState.NamedEntity;\n                return this.stateNamedEntity(input, offset);\n            }\n            case EntityDecoderState.NumericStart: {\n                return this.stateNumericStart(input, offset);\n            }\n            case EntityDecoderState.NumericDecimal: {\n                return this.stateNumericDecimal(input, offset);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.stateNumericHex(input, offset);\n            }\n            case EntityDecoderState.NamedEntity: {\n                return this.stateNamedEntity(input, offset);\n            }\n        }\n    }\n    /**\n     * Switches between the numeric decimal and hexadecimal states.\n     *\n     * Equivalent to the `Numeric character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericStart(input, offset) {\n        if (offset >= input.length) {\n            return -1;\n        }\n        if ((input.charCodeAt(offset) | TO_LOWER_BIT) === CharCodes.LOWER_X) {\n            this.state = EntityDecoderState.NumericHex;\n            this.consumed += 1;\n            return this.stateNumericHex(input, offset + 1);\n        }\n        this.state = EntityDecoderState.NumericDecimal;\n        return this.stateNumericDecimal(input, offset);\n    }\n    addToNumericResult(input, start, end, base) {\n        if (start !== end) {\n            const digitCount = end - start;\n            this.result =\n                this.result * Math.pow(base, digitCount) +\n                    Number.parseInt(input.substr(start, digitCount), base);\n            this.consumed += digitCount;\n        }\n    }\n    /**\n     * Parses a hexadecimal numeric entity.\n     *\n     * Equivalent to the `Hexademical character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericHex(input, offset) {\n        const startIndex = offset;\n        while (offset < input.length) {\n            const char = input.charCodeAt(offset);\n            if (isNumber(char) || isHexadecimalCharacter(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(input, startIndex, offset, 16);\n                return this.emitNumericEntity(char, 3);\n            }\n        }\n        this.addToNumericResult(input, startIndex, offset, 16);\n        return -1;\n    }\n    /**\n     * Parses a decimal numeric entity.\n     *\n     * Equivalent to the `Decimal character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericDecimal(input, offset) {\n        const startIndex = offset;\n        while (offset < input.length) {\n            const char = input.charCodeAt(offset);\n            if (isNumber(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(input, startIndex, offset, 10);\n                return this.emitNumericEntity(char, 2);\n            }\n        }\n        this.addToNumericResult(input, startIndex, offset, 10);\n        return -1;\n    }\n    /**\n     * Validate and emit a numeric entity.\n     *\n     * Implements the logic from the `Hexademical character reference start\n     * state` and `Numeric character reference end state` in the HTML spec.\n     *\n     * @param lastCp The last code point of the entity. Used to see if the\n     *               entity was terminated with a semicolon.\n     * @param expectedLength The minimum number of characters that should be\n     *                       consumed. Used to validate that at least one digit\n     *                       was consumed.\n     * @returns The number of characters that were consumed.\n     */\n    emitNumericEntity(lastCp, expectedLength) {\n        var _a;\n        // Ensure we consumed at least one digit.\n        if (this.consumed <= expectedLength) {\n            (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n            return 0;\n        }\n        // Figure out if this is a legit end of the entity\n        if (lastCp === CharCodes.SEMI) {\n            this.consumed += 1;\n        }\n        else if (this.decodeMode === DecodingMode.Strict) {\n            return 0;\n        }\n        this.emitCodePoint(replaceCodePoint(this.result), this.consumed);\n        if (this.errors) {\n            if (lastCp !== CharCodes.SEMI) {\n                this.errors.missingSemicolonAfterCharacterReference();\n            }\n            this.errors.validateNumericCharacterReference(this.result);\n        }\n        return this.consumed;\n    }\n    /**\n     * Parses a named entity.\n     *\n     * Equivalent to the `Named character reference state` in the HTML spec.\n     *\n     * @param input The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNamedEntity(input, offset) {\n        const { decodeTree } = this;\n        let current = decodeTree[this.treeIndex];\n        // The mask is the number of bytes of the value, including the current byte.\n        let valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n        for (; offset < input.length; offset++, this.excess++) {\n            const char = input.charCodeAt(offset);\n            this.treeIndex = determineBranch(decodeTree, current, this.treeIndex + Math.max(1, valueLength), char);\n            if (this.treeIndex < 0) {\n                return this.result === 0 ||\n                    // If we are parsing an attribute\n                    (this.decodeMode === DecodingMode.Attribute &&\n                        // We shouldn't have consumed any characters after the entity,\n                        (valueLength === 0 ||\n                            // And there should be no invalid characters.\n                            isEntityInAttributeInvalidEnd(char)))\n                    ? 0\n                    : this.emitNotTerminatedNamedEntity();\n            }\n            current = decodeTree[this.treeIndex];\n            valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n            // If the branch is a value, store it and continue\n            if (valueLength !== 0) {\n                // If the entity is terminated by a semicolon, we are done.\n                if (char === CharCodes.SEMI) {\n                    return this.emitNamedEntityData(this.treeIndex, valueLength, this.consumed + this.excess);\n                }\n                // If we encounter a non-terminated (legacy) entity while parsing strictly, then ignore it.\n                if (this.decodeMode !== DecodingMode.Strict) {\n                    this.result = this.treeIndex;\n                    this.consumed += this.excess;\n                    this.excess = 0;\n                }\n            }\n        }\n        return -1;\n    }\n    /**\n     * Emit a named entity that was not terminated with a semicolon.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNotTerminatedNamedEntity() {\n        var _a;\n        const { result, decodeTree } = this;\n        const valueLength = (decodeTree[result] & BinTrieFlags.VALUE_LENGTH) >> 14;\n        this.emitNamedEntityData(result, valueLength, this.consumed);\n        (_a = this.errors) === null || _a === void 0 ? void 0 : _a.missingSemicolonAfterCharacterReference();\n        return this.consumed;\n    }\n    /**\n     * Emit a named entity.\n     *\n     * @param result The index of the entity in the decode tree.\n     * @param valueLength The number of bytes in the entity.\n     * @param consumed The number of characters consumed.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNamedEntityData(result, valueLength, consumed) {\n        const { decodeTree } = this;\n        this.emitCodePoint(valueLength === 1\n            ? decodeTree[result] & ~BinTrieFlags.VALUE_LENGTH\n            : decodeTree[result + 1], consumed);\n        if (valueLength === 3) {\n            // For multi-byte values, we need to emit the second byte.\n            this.emitCodePoint(decodeTree[result + 2], consumed);\n        }\n        return consumed;\n    }\n    /**\n     * Signal to the parser that the end of the input was reached.\n     *\n     * Remaining data will be emitted and relevant errors will be produced.\n     *\n     * @returns The number of characters consumed.\n     */\n    end() {\n        var _a;\n        switch (this.state) {\n            case EntityDecoderState.NamedEntity: {\n                // Emit a named entity if we have one.\n                return this.result !== 0 &&\n                    (this.decodeMode !== DecodingMode.Attribute ||\n                        this.result === this.treeIndex)\n                    ? this.emitNotTerminatedNamedEntity()\n                    : 0;\n            }\n            // Otherwise, emit a numeric entity if we have one.\n            case EntityDecoderState.NumericDecimal: {\n                return this.emitNumericEntity(0, 2);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.emitNumericEntity(0, 3);\n            }\n            case EntityDecoderState.NumericStart: {\n                (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n                return 0;\n            }\n            case EntityDecoderState.EntityStart: {\n                // Return 0 if we have no entity.\n                return 0;\n            }\n        }\n    }\n}\n/**\n * Creates a function that decodes entities in a string.\n *\n * @param decodeTree The decode tree.\n * @returns A function that decodes entities in a string.\n */\nfunction getDecoder(decodeTree) {\n    let returnValue = \"\";\n    const decoder = new EntityDecoder(decodeTree, (data) => (returnValue += fromCodePoint(data)));\n    return function decodeWithTrie(input, decodeMode) {\n        let lastIndex = 0;\n        let offset = 0;\n        while ((offset = input.indexOf(\"&\", offset)) >= 0) {\n            returnValue += input.slice(lastIndex, offset);\n            decoder.startEntity(decodeMode);\n            const length = decoder.write(input, \n            // Skip the \"&\"\n            offset + 1);\n            if (length < 0) {\n                lastIndex = offset + decoder.end();\n                break;\n            }\n            lastIndex = offset + length;\n            // If `length` is 0, skip the current `&` and continue.\n            offset = length === 0 ? lastIndex + 1 : lastIndex;\n        }\n        const result = returnValue + input.slice(lastIndex);\n        // Make sure we don't keep a reference to the final string.\n        returnValue = \"\";\n        return result;\n    };\n}\n/**\n * Determines the branch of the current node that is taken given the current\n * character. This function is used to traverse the trie.\n *\n * @param decodeTree The trie.\n * @param current The current node.\n * @param nodeIdx The index right after the current node and its value.\n * @param char The current character.\n * @returns The index of the next node, or -1 if no branch is taken.\n */\nexport function determineBranch(decodeTree, current, nodeIndex, char) {\n    const branchCount = (current & BinTrieFlags.BRANCH_LENGTH) >> 7;\n    const jumpOffset = current & BinTrieFlags.JUMP_TABLE;\n    // Case 1: Single branch encoded in jump offset\n    if (branchCount === 0) {\n        return jumpOffset !== 0 && char === jumpOffset ? nodeIndex : -1;\n    }\n    // Case 2: Multiple branches encoded in jump table\n    if (jumpOffset) {\n        const value = char - jumpOffset;\n        return value < 0 || value >= branchCount\n            ? -1\n            : decodeTree[nodeIndex + value] - 1;\n    }\n    // Case 3: Multiple branches encoded in dictionary\n    // Binary search for the character.\n    let lo = nodeIndex;\n    let hi = lo + branchCount - 1;\n    while (lo <= hi) {\n        const mid = (lo + hi) >>> 1;\n        const midValue = decodeTree[mid];\n        if (midValue < char) {\n            lo = mid + 1;\n        }\n        else if (midValue > char) {\n            hi = mid - 1;\n        }\n        else {\n            return decodeTree[mid + branchCount];\n        }\n    }\n    return -1;\n}\nconst htmlDecoder = /* #__PURE__ */ getDecoder(htmlDecodeTree);\nconst xmlDecoder = /* #__PURE__ */ getDecoder(xmlDecodeTree);\n/**\n * Decodes an HTML string.\n *\n * @param htmlString The string to decode.\n * @param mode The decoding mode.\n * @returns The decoded string.\n */\nexport function decodeHTML(htmlString, mode = DecodingMode.Legacy) {\n    return htmlDecoder(htmlString, mode);\n}\n/**\n * Decodes an HTML string in an attribute.\n *\n * @param htmlAttribute The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLAttribute(htmlAttribute) {\n    return htmlDecoder(htmlAttribute, DecodingMode.Attribute);\n}\n/**\n * Decodes an HTML string, requiring all entities to be terminated by a semicolon.\n *\n * @param htmlString The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLStrict(htmlString) {\n    return htmlDecoder(htmlString, DecodingMode.Strict);\n}\n/**\n * Decodes an XML string, requiring all entities to be terminated by a semicolon.\n *\n * @param xmlString The string to decode.\n * @returns The decoded string.\n */\nexport function decodeXML(xmlString) {\n    return xmlDecoder(xmlString, DecodingMode.Strict);\n}\n// Re-export for use by eg. htmlparser2\nexport { htmlDecodeTree } from \"./generated/decode-data-html.js\";\nexport { xmlDecodeTree } from \"./generated/decode-data-xml.js\";\nexport { decodeCodePoint, replaceCodePoint, fromCodePoint, } from \"./decode-codepoint.js\";\n//# sourceMappingURL=decode.js.map","/**\n* @license nested-property https://github.com/cosmosio/nested-property\n*\n* The MIT License (MIT)\n*\n* Copyright (c) 2014-2020 Olivier Scherrer <pode.fr@gmail.com>\n*/\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar ARRAY_WILDCARD = \"+\";\nvar PATH_DELIMITER = \".\";\n\nvar ObjectPrototypeMutationError = /*#__PURE__*/function (_Error) {\n  _inherits(ObjectPrototypeMutationError, _Error);\n\n  function ObjectPrototypeMutationError(params) {\n    var _this;\n\n    _classCallCheck(this, ObjectPrototypeMutationError);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ObjectPrototypeMutationError).call(this, params));\n    _this.name = \"ObjectPrototypeMutationError\";\n    return _this;\n  }\n\n  return ObjectPrototypeMutationError;\n}(_wrapNativeSuper(Error));\n\nmodule.exports = {\n  set: setNestedProperty,\n  get: getNestedProperty,\n  has: hasNestedProperty,\n  hasOwn: function hasOwn(object, property, options) {\n    return this.has(object, property, options || {\n      own: true\n    });\n  },\n  isIn: isInNestedProperty,\n  ObjectPrototypeMutationError: ObjectPrototypeMutationError\n};\n/**\n * Get the property of an object nested in one or more objects or array\n * Given an object such as a.b.c.d = 5, getNestedProperty(a, \"b.c.d\") will return 5.\n * It also works through arrays. Given a nested array such as a[0].b = 5, getNestedProperty(a, \"0.b\") will return 5.\n * For accessing nested properties through all items in an array, you may use the array wildcard \"+\".\n * For instance, getNestedProperty([{a:1}, {a:2}, {a:3}], \"+.a\") will return [1, 2, 3]\n * @param {Object} object the object to get the property from\n * @param {String} property the path to the property as a string\n * @returns the object or the the property value if found\n */\n\nfunction getNestedProperty(object, property) {\n  if (_typeof(object) != \"object\" || object === null) {\n    return object;\n  }\n\n  if (typeof property == \"undefined\") {\n    return object;\n  }\n\n  if (typeof property == \"number\") {\n    return object[property];\n  }\n\n  try {\n    return traverse(object, property, function _getNestedProperty(currentObject, currentProperty) {\n      return currentObject[currentProperty];\n    });\n  } catch (err) {\n    return object;\n  }\n}\n/**\n * Tell if a nested object has a given property (or array a given index)\n * given an object such as a.b.c.d = 5, hasNestedProperty(a, \"b.c.d\") will return true.\n * It also returns true if the property is in the prototype chain.\n * @param {Object} object the object to get the property from\n * @param {String} property the path to the property as a string\n * @param {Object} options:\n *  - own: set to reject properties from the prototype\n * @returns true if has (property in object), false otherwise\n */\n\n\nfunction hasNestedProperty(object, property) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (_typeof(object) != \"object\" || object === null) {\n    return false;\n  }\n\n  if (typeof property == \"undefined\") {\n    return false;\n  }\n\n  if (typeof property == \"number\") {\n    return property in object;\n  }\n\n  try {\n    var has = false;\n    traverse(object, property, function _hasNestedProperty(currentObject, currentProperty, segments, index) {\n      if (isLastSegment(segments, index)) {\n        if (options.own) {\n          has = currentObject.hasOwnProperty(currentProperty);\n        } else {\n          has = currentProperty in currentObject;\n        }\n      } else {\n        return currentObject && currentObject[currentProperty];\n      }\n    });\n    return has;\n  } catch (err) {\n    return false;\n  }\n}\n/**\n * Set the property of an object nested in one or more objects\n * If the property doesn't exist, it gets created.\n * @param {Object} object\n * @param {String} property\n * @param value the value to set\n * @returns object if no assignment was made or the value if the assignment was made\n */\n\n\nfunction setNestedProperty(object, property, value) {\n  if (_typeof(object) != \"object\" || object === null) {\n    return object;\n  }\n\n  if (typeof property == \"undefined\") {\n    return object;\n  }\n\n  if (typeof property == \"number\") {\n    object[property] = value;\n    return object[property];\n  }\n\n  try {\n    return traverse(object, property, function _setNestedProperty(currentObject, currentProperty, segments, index) {\n      if (currentObject === Reflect.getPrototypeOf({})) {\n        throw new ObjectPrototypeMutationError(\"Attempting to mutate Object.prototype\");\n      }\n\n      if (!currentObject[currentProperty]) {\n        var nextPropIsNumber = Number.isInteger(Number(segments[index + 1]));\n        var nextPropIsArrayWildcard = segments[index + 1] === ARRAY_WILDCARD;\n\n        if (nextPropIsNumber || nextPropIsArrayWildcard) {\n          currentObject[currentProperty] = [];\n        } else {\n          currentObject[currentProperty] = {};\n        }\n      }\n\n      if (isLastSegment(segments, index)) {\n        currentObject[currentProperty] = value;\n      }\n\n      return currentObject[currentProperty];\n    });\n  } catch (err) {\n    if (err instanceof ObjectPrototypeMutationError) {\n      // rethrow\n      throw err;\n    } else {\n      return object;\n    }\n  }\n}\n/**\n * Tell if an object is on the path to a nested property\n * If the object is on the path, and the path exists, it returns true, and false otherwise.\n * @param {Object} object to get the nested property from\n * @param {String} property name of the nested property\n * @param {Object} objectInPath the object to check\n * @param {Object} options:\n *  - validPath: return false if the path is invalid, even if the object is in the path\n * @returns {boolean} true if the object is on the path\n */\n\n\nfunction isInNestedProperty(object, property, objectInPath) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  if (_typeof(object) != \"object\" || object === null) {\n    return false;\n  }\n\n  if (typeof property == \"undefined\") {\n    return false;\n  }\n\n  try {\n    var isIn = false,\n        pathExists = false;\n    traverse(object, property, function _isInNestedProperty(currentObject, currentProperty, segments, index) {\n      isIn = isIn || currentObject === objectInPath || !!currentObject && currentObject[currentProperty] === objectInPath;\n      pathExists = isLastSegment(segments, index) && _typeof(currentObject) === \"object\" && currentProperty in currentObject;\n      return currentObject && currentObject[currentProperty];\n    });\n\n    if (options.validPath) {\n      return isIn && pathExists;\n    } else {\n      return isIn;\n    }\n  } catch (err) {\n    return false;\n  }\n}\n\nfunction traverse(object, path) {\n  var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n  var segments = path.split(PATH_DELIMITER);\n  var length = segments.length;\n\n  var _loop = function _loop(idx) {\n    var currentSegment = segments[idx];\n\n    if (!object) {\n      return {\n        v: void 0\n      };\n    }\n\n    if (currentSegment === ARRAY_WILDCARD) {\n      if (Array.isArray(object)) {\n        return {\n          v: object.map(function (value, index) {\n            var remainingSegments = segments.slice(idx + 1);\n\n            if (remainingSegments.length > 0) {\n              return traverse(value, remainingSegments.join(PATH_DELIMITER), callback);\n            } else {\n              return callback(object, index, segments, idx);\n            }\n          })\n        };\n      } else {\n        var pathToHere = segments.slice(0, idx).join(PATH_DELIMITER);\n        throw new Error(\"Object at wildcard (\".concat(pathToHere, \") is not an array\"));\n      }\n    } else {\n      object = callback(object, currentSegment, segments, idx);\n    }\n  };\n\n  for (var idx = 0; idx < length; idx++) {\n    var _ret = _loop(idx);\n\n    if (_typeof(_ret) === \"object\") return _ret.v;\n  }\n\n  return object;\n}\n\nfunction isLastSegment(segments, index) {\n  return segments.length === index + 1;\n}\n","// Adapted from https://github.com/mathiasbynens/he/blob/36afe179392226cf1b6ccdb16ebbb7a5a844d93a/src/he.js#L106-L134\nvar _a;\nconst decodeMap = new Map([\n    [0, 65533],\n    // C1 Unicode control character reference replacements\n    [128, 8364],\n    [130, 8218],\n    [131, 402],\n    [132, 8222],\n    [133, 8230],\n    [134, 8224],\n    [135, 8225],\n    [136, 710],\n    [137, 8240],\n    [138, 352],\n    [139, 8249],\n    [140, 338],\n    [142, 381],\n    [145, 8216],\n    [146, 8217],\n    [147, 8220],\n    [148, 8221],\n    [149, 8226],\n    [150, 8211],\n    [151, 8212],\n    [152, 732],\n    [153, 8482],\n    [154, 353],\n    [155, 8250],\n    [156, 339],\n    [158, 382],\n    [159, 376],\n]);\n/**\n * Polyfill for `String.fromCodePoint`. It is used to create a string from a Unicode code point.\n */\nexport const fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, n/no-unsupported-features/es-builtins\n(_a = String.fromCodePoint) !== null && _a !== void 0 ? _a : function (codePoint) {\n    let output = \"\";\n    if (codePoint > 65535) {\n        codePoint -= 65536;\n        output += String.fromCharCode(((codePoint >>> 10) & 1023) | 55296);\n        codePoint = 56320 | (codePoint & 1023);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n};\n/**\n * Replace the given code point with a replacement character if it is a\n * surrogate or is outside the valid range. Otherwise return the code\n * point unchanged.\n */\nexport function replaceCodePoint(codePoint) {\n    var _a;\n    if ((codePoint >= 55296 && codePoint <= 57343) ||\n        codePoint > 1114111) {\n        return 65533;\n    }\n    return (_a = decodeMap.get(codePoint)) !== null && _a !== void 0 ? _a : codePoint;\n}\n/**\n * Replace the code point if relevant, then convert it to a string.\n *\n * @deprecated Use `fromCodePoint(replaceCodePoint(codePoint))` instead.\n * @param codePoint The code point to decode.\n * @returns The decoded code point.\n */\nexport function decodeCodePoint(codePoint) {\n    return fromCodePoint(replaceCodePoint(codePoint));\n}\n//# sourceMappingURL=decode-codepoint.js.map","import { XMLParser, XMLBuilder } from \"fast-xml-parser\";\nexport function generateLockXML(ownerHREF) {\n    return getBuilder().build(namespace({\n        lockinfo: {\n            \"@_xmlns:d\": \"DAV:\",\n            lockscope: {\n                exclusive: {}\n            },\n            locktype: {\n                write: {}\n            },\n            owner: {\n                href: ownerHREF\n            }\n        }\n    }, \"d\"));\n}\nfunction getBuilder() {\n    return new XMLBuilder({\n        attributeNamePrefix: \"@_\",\n        format: true,\n        ignoreAttributes: false,\n        suppressEmptyNode: true\n    });\n}\nfunction getParser() {\n    return new XMLParser({\n        removeNSPrefix: true,\n        parseAttributeValue: true,\n        parseTagValue: true\n    });\n}\nfunction namespace(obj, ns) {\n    const copy = { ...obj };\n    for (const key in copy) {\n        if (!copy.hasOwnProperty(key)) {\n            continue;\n        }\n        if (copy[key] && typeof copy[key] === \"object\" && key.indexOf(\":\") === -1) {\n            copy[`${ns}:${key}`] = namespace(copy[key], ns);\n            delete copy[key];\n        }\n        else if (/^@_/.test(key) === false) {\n            copy[`${ns}:${key}`] = copy[key];\n            delete copy[key];\n        }\n    }\n    return copy;\n}\nexport function parseGenericResponse(xml) {\n    return getParser().parse(xml);\n}\n","import { joinURL } from \"../tools/url.js\";\nimport { encodePath, getAllDirectories, normalisePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nimport { getStat } from \"./stat.js\";\nexport async function createDirectory(context, dirPath, options = {}) {\n    if (options.recursive === true)\n        return createDirectoryRecursively(context, dirPath, options);\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, ensureCollectionPath(encodePath(dirPath))),\n        method: \"MKCOL\"\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n}\n/**\n * Ensure the path is a proper \"collection\" path by ensuring it has a trailing \"/\".\n * The proper format of collection according to the specification does contain the trailing slash.\n * http://www.webdav.org/specs/rfc4918.html#rfc.section.5.2\n * @param path Path of the collection\n * @return string Path of the collection with appended trailing \"/\" in case the `path` does not have it.\n */\nfunction ensureCollectionPath(path) {\n    if (!path.endsWith(\"/\")) {\n        return path + \"/\";\n    }\n    return path;\n}\nasync function createDirectoryRecursively(context, dirPath, options = {}) {\n    const paths = getAllDirectories(normalisePath(dirPath));\n    paths.sort((a, b) => {\n        if (a.length > b.length) {\n            return 1;\n        }\n        else if (b.length > a.length) {\n            return -1;\n        }\n        return 0;\n    });\n    let creating = false;\n    for (const testPath of paths) {\n        if (creating) {\n            await createDirectory(context, testPath, {\n                ...options,\n                recursive: false\n            });\n            continue;\n        }\n        try {\n            const testStat = (await getStat(context, testPath));\n            if (testStat.type !== \"directory\") {\n                throw new Error(`Path includes a file: ${dirPath}`);\n            }\n        }\n        catch (err) {\n            const error = err;\n            if (error.status === 404) {\n                creating = true;\n                await createDirectory(context, testPath, {\n                    ...options,\n                    recursive: false\n                });\n            }\n            else {\n                throw err;\n            }\n        }\n    }\n}\n","import { Layerr } from \"layerr\";\nimport Stream from \"stream\";\nimport { fromBase64 } from \"../tools/encode.js\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { calculateDataLength } from \"../tools/size.js\";\nimport { isReactNative, isWeb } from \"../compat/env.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nimport { AuthType, ErrorCode } from \"../types.js\";\nexport async function putFileContents(context, filePath, data, options = {}) {\n    const { contentLength = true, overwrite = true } = options;\n    const headers = {\n        \"Content-Type\": \"application/octet-stream\"\n    };\n    if (!isWeb() &&\n        !isReactNative() &&\n        typeof Stream !== \"undefined\" &&\n        typeof Stream?.Readable !== \"undefined\" &&\n        data instanceof Stream.Readable) {\n        // Skip, no content-length\n    }\n    else if (contentLength === false) {\n        // Skip, disabled\n    }\n    else if (typeof contentLength === \"number\") {\n        headers[\"Content-Length\"] = `${contentLength}`;\n    }\n    else {\n        headers[\"Content-Length\"] = `${calculateDataLength(data)}`;\n    }\n    if (!overwrite) {\n        headers[\"If-None-Match\"] = \"*\";\n    }\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"PUT\",\n        headers,\n        data\n    }, context, options);\n    const response = await request(requestOptions, context);\n    try {\n        handleResponseCode(context, response);\n    }\n    catch (err) {\n        const error = err;\n        if (error.status === 412 && !overwrite) {\n            return false;\n        }\n        else {\n            throw error;\n        }\n    }\n    return true;\n}\nexport function getFileUploadLink(context, filePath) {\n    let url = `${joinURL(context.remoteURL, encodePath(filePath))}?Content-Type=application/octet-stream`;\n    const protocol = /^https:/i.test(url) ? \"https\" : \"http\";\n    switch (context.authType) {\n        case AuthType.None:\n            // Do nothing\n            break;\n        case AuthType.Password: {\n            const authPart = context.headers.Authorization.replace(/^Basic /i, \"\").trim();\n            const authContents = fromBase64(authPart);\n            url = url.replace(/^https?:\\/\\//, `${protocol}://${authContents}@`);\n            break;\n        }\n        default:\n            throw new Layerr({\n                info: {\n                    code: ErrorCode.LinkUnsupportedAuthType\n                }\n            }, `Unsupported auth type for file link: ${context.authType}`);\n    }\n    return url;\n}\n","/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { getRequestToken, onRequestTokenUpdate } from '@nextcloud/auth'\nimport { createClient } from 'webdav'\nimport { getRootPath } from '../utils/davUtils.js'\n\n// init webdav client\nconst client = createClient(getRootPath())\n\n// set CSRF token header\n/**\n * @param token\n */\nfunction setHeaders(token) {\n\tclient.setHeaders({\n\t\t// Add this so the server knows it is an request from the browser\n\t\t'X-Requested-With': 'XMLHttpRequest',\n\t\t// Inject user auth\n\t\trequesttoken: token ?? '',\n\t})\n}\n\n// refresh headers when request token changes\nonRequestTokenUpdate(setHeaders)\nsetHeaders(getRequestToken())\n\nexport default client\n","import md5 from \"md5\";\nexport function ha1Compute(algorithm, user, realm, pass, nonce, cnonce, ha1) {\n    const ha1Hash = ha1 || md5(`${user}:${realm}:${pass}`);\n    if (algorithm && algorithm.toLowerCase() === \"md5-sess\") {\n        return md5(`${ha1Hash}:${nonce}:${cnonce}`);\n    }\n    return ha1Hash;\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { parseXML } from 'webdav';\nimport { processResponsePayload } from 'webdav/dist/node/response.js';\nimport { prepareFileFromProps } from 'webdav/dist/node/tools/dav.js';\nimport client from './DavClient.js';\nexport const DEFAULT_LIMIT = 20;\n/**\n * Retrieve the comments list\n *\n * @param data destructuring object\n * @param data.resourceType the resource type\n * @param data.resourceId the resource ID\n * @param [options] optional options for axios\n * @param [options.offset] the pagination offset\n * @param [options.limit] the pagination limit, defaults to 20\n * @param [options.datetime] optional date to query\n * @return the comments list\n */\nexport async function getComments({ resourceType, resourceId }, options) {\n    const resourcePath = ['', resourceType, resourceId].join('/');\n    const datetime = options.datetime ? `<oc:datetime>${options.datetime.toISOString()}</oc:datetime>` : '';\n    const response = await client.customRequest(resourcePath, {\n        method: 'REPORT',\n        data: `<?xml version=\"1.0\"?>\n\t\t\t<oc:filter-comments\n\t\t\t\txmlns:d=\"DAV:\"\n\t\t\t\txmlns:oc=\"http://owncloud.org/ns\"\n\t\t\t\txmlns:nc=\"http://nextcloud.org/ns\"\n\t\t\t\txmlns:ocs=\"http://open-collaboration-services.org/ns\">\n\t\t\t\t<oc:limit>${options.limit ?? DEFAULT_LIMIT}</oc:limit>\n\t\t\t\t<oc:offset>${options.offset || 0}</oc:offset>\n\t\t\t\t${datetime}\n\t\t\t</oc:filter-comments>`,\n        ...options,\n    });\n    const responseData = await response.text();\n    const result = await parseXML(responseData);\n    const stat = getDirectoryFiles(result, true);\n    // https://github.com/perry-mitchell/webdav-client/issues/339\n    return processResponsePayload(response, stat, true);\n}\n/**\n * https://github.com/perry-mitchell/webdav-client/blob/8d9694613c978ce7404e26a401c39a41f125f87f/source/operations/directoryContents.ts\n *\n * @param result\n * @param isDetailed\n */\nfunction getDirectoryFiles(result, isDetailed = false) {\n    // Extract the response items (directory contents)\n    const { multistatus: { response: responseItems }, } = result;\n    // Map all items to a consistent output structure (results)\n    return responseItems.map((item) => {\n        // Each item should contain a stat object\n        const props = item.propstat.prop;\n        return prepareFileFromProps(props, props.id.toString(), isDetailed);\n    });\n}\n","import { Layerr } from \"layerr\";\nimport path from \"path-posix\";\nconst SEP_PATH_POSIX = \"__PATH_SEPARATOR_POSIX__\";\nconst SEP_PATH_WINDOWS = \"__PATH_SEPARATOR_WINDOWS__\";\nexport function encodePath(filePath) {\n    try {\n        const replaced = filePath.replace(/\\//g, SEP_PATH_POSIX).replace(/\\\\\\\\/g, SEP_PATH_WINDOWS);\n        const formatted = encodeURIComponent(replaced);\n        return formatted.split(SEP_PATH_WINDOWS).join(\"\\\\\\\\\").split(SEP_PATH_POSIX).join(\"/\");\n    }\n    catch (err) {\n        throw new Layerr(err, \"Failed encoding path\");\n    }\n}\nexport function getAllDirectories(directory) {\n    if (!directory || directory === \"/\")\n        return [];\n    let currentPath = directory;\n    const output = [];\n    do {\n        output.push(currentPath);\n        currentPath = path.dirname(currentPath);\n    } while (currentPath && currentPath !== \"/\");\n    return output;\n}\nexport function makePathAbsolute(pathStr) {\n    return pathStr.startsWith(\"/\") ? pathStr : \"/\" + pathStr;\n}\nexport function normalisePath(pathStr) {\n    let normalisedPath = pathStr;\n    if (normalisedPath[0] !== \"/\") {\n        normalisedPath = \"/\" + normalisedPath;\n    }\n    if (/^.+\\/$/.test(normalisedPath)) {\n        normalisedPath = normalisedPath.substr(0, normalisedPath.length - 1);\n    }\n    return normalisedPath;\n}\n","import { Layerr } from \"layerr\";\nimport { createDigestContext } from \"./digest.js\";\nimport { generateBasicAuthHeader } from \"./basic.js\";\nimport { generateTokenAuthHeader } from \"./oauth.js\";\nimport { AuthType, ErrorCode } from \"../types.js\";\nexport function setupAuth(context, username, password, oauthToken, ha1) {\n    switch (context.authType) {\n        case AuthType.Auto:\n            if (username && password) {\n                context.headers.Authorization = generateBasicAuthHeader(username, password);\n            }\n            break;\n        case AuthType.Digest:\n            context.digest = createDigestContext(username, password, ha1);\n            break;\n        case AuthType.None:\n            // Do nothing\n            break;\n        case AuthType.Password:\n            context.headers.Authorization = generateBasicAuthHeader(username, password);\n            break;\n        case AuthType.Token:\n            context.headers.Authorization = generateTokenAuthHeader(oauthToken);\n            break;\n        default:\n            throw new Layerr({\n                info: {\n                    code: ErrorCode.InvalidAuthType\n                }\n            }, `Invalid auth type: ${context.authType}`);\n    }\n}\n","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n\n'use strict';\n\nvar eos;\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\nvar _require$codes = require('../../../errors').codes,\n  ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n  ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true;\n\n    // request.destroy just do .end - .abort is what we want\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\nfunction call(fn) {\n  fn();\n}\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\nmodule.exports = pipeline;","'use strict';\n\nvar formats = require('./formats');\nvar getSideChannel = require('side-channel');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\n// Track objects created from arrayLimit overflow using side-channel\n// Stores the current max numeric index for O(1) lookup\nvar overflowChannel = getSideChannel();\n\nvar markOverflow = function markOverflow(obj, maxIndex) {\n    overflowChannel.set(obj, maxIndex);\n    return obj;\n};\n\nvar isOverflow = function isOverflow(obj) {\n    return overflowChannel.has(obj);\n};\n\nvar getMaxIndex = function getMaxIndex(obj) {\n    return overflowChannel.get(obj);\n};\n\nvar setMaxIndex = function setMaxIndex(obj, maxIndex) {\n    overflowChannel.set(obj, maxIndex);\n};\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? { __proto__: null } : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object' && typeof source !== 'function') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if (isOverflow(target)) {\n                // Add at next numeric index for overflow objects\n                var newIndex = getMaxIndex(target) + 1;\n                target[newIndex] = source;\n                setMaxIndex(target, newIndex);\n            } else if (\n                (options && (options.plainObjects || options.allowPrototypes))\n                || !has.call(Object.prototype, source)\n            ) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        if (isOverflow(source)) {\n            // Create new object with target at 0, source values shifted by 1\n            var sourceKeys = Object.keys(source);\n            var result = options && options.plainObjects\n                ? { __proto__: null, 0: target }\n                : { 0: target };\n            for (var m = 0; m < sourceKeys.length; m++) {\n                var oldKey = parseInt(sourceKeys[m], 10);\n                result[oldKey + 1] = source[sourceKeys[m]];\n            }\n            return markOverflow(result, getMaxIndex(source) + 1);\n        }\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, defaultDecoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar limit = 1024;\n\n/* eslint operator-linebreak: [2, \"before\"] */\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var j = 0; j < string.length; j += limit) {\n        var segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        var arr = [];\n\n        for (var i = 0; i < segment.length; ++i) {\n            var c = segment.charCodeAt(i);\n            if (\n                c === 0x2D // -\n                || c === 0x2E // .\n                || c === 0x5F // _\n                || c === 0x7E // ~\n                || (c >= 0x30 && c <= 0x39) // 0-9\n                || (c >= 0x41 && c <= 0x5A) // a-z\n                || (c >= 0x61 && c <= 0x7A) // A-Z\n                || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n\n            if (c < 0x80) {\n                arr[arr.length] = hexTable[c];\n                continue;\n            }\n\n            if (c < 0x800) {\n                arr[arr.length] = hexTable[0xC0 | (c >> 6)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            if (c < 0xD800 || c >= 0xE000) {\n                arr[arr.length] = hexTable[0xE0 | (c >> 12)]\n                    + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            i += 1;\n            c = 0x10000 + (((c & 0x3FF) << 10) | (segment.charCodeAt(i) & 0x3FF));\n\n            arr[arr.length] = hexTable[0xF0 | (c >> 18)]\n                + hexTable[0x80 | ((c >> 12) & 0x3F)]\n                + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                + hexTable[0x80 | (c & 0x3F)];\n        }\n\n        out += arr.join('');\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b, arrayLimit, plainObjects) {\n    // If 'a' is already an overflow object, add to it\n    if (isOverflow(a)) {\n        var newIndex = getMaxIndex(a) + 1;\n        a[newIndex] = b;\n        setMaxIndex(a, newIndex);\n        return a;\n    }\n\n    var result = [].concat(a, b);\n    if (result.length > arrayLimit) {\n        return markOverflow(arrayToObject(result, { plainObjects: plainObjects }), result.length - 1);\n    }\n    return result;\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isOverflow: isOverflow,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","export { Request, Response } from \"@buttercup/fetch\";\nexport var AuthType;\n(function (AuthType) {\n    AuthType[\"Auto\"] = \"auto\";\n    AuthType[\"Digest\"] = \"digest\";\n    AuthType[\"None\"] = \"none\";\n    AuthType[\"Password\"] = \"password\";\n    AuthType[\"Token\"] = \"token\";\n})(AuthType || (AuthType = {}));\nexport var ErrorCode;\n(function (ErrorCode) {\n    ErrorCode[\"DataTypeNoLength\"] = \"data-type-no-length\";\n    ErrorCode[\"InvalidAuthType\"] = \"invalid-auth-type\";\n    ErrorCode[\"InvalidOutputFormat\"] = \"invalid-output-format\";\n    ErrorCode[\"LinkUnsupportedAuthType\"] = \"link-unsupported-auth\";\n    ErrorCode[\"InvalidUpdateRange\"] = \"invalid-update-range\";\n    ErrorCode[\"NotSupported\"] = \"not-supported\";\n})(ErrorCode || (ErrorCode = {}));\n","import Stream from \"stream\";\nimport { isArrayBuffer } from \"../compat/arrayBuffer.js\";\nimport { isBuffer } from \"../compat/buffer.js\";\nimport { isReactNative, isWeb } from \"../compat/env.js\";\nexport function requestDataToFetchBody(data) {\n    if (!isWeb() && !isReactNative() && data instanceof Stream.Readable) {\n        // @ts-ignore\n        return [data, {}];\n    }\n    if (typeof data === \"string\") {\n        return [data, {}];\n    }\n    else if (isBuffer(data)) {\n        return [data, {}];\n    }\n    else if (isArrayBuffer(data)) {\n        return [data, {}];\n    }\n    else if (data && typeof data === \"object\") {\n        return [\n            JSON.stringify(data),\n            {\n                \"content-type\": \"application/json\"\n            }\n        ];\n    }\n    throw new Error(`Unable to convert request body: Unexpected body type: ${typeof data}`);\n}\n","import nestedProp from \"nested-property\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { generateLockXML, parseGenericResponse } from \"../tools/xml.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { createErrorFromResponse, handleResponseCode } from \"../response.js\";\nconst DEFAULT_TIMEOUT = \"Infinite, Second-4100000000\";\nexport async function lock(context, path, options = {}) {\n    const { refreshToken, timeout = DEFAULT_TIMEOUT } = options;\n    const headers = {\n        Accept: \"text/plain,application/xml\",\n        Timeout: timeout\n    };\n    if (refreshToken) {\n        headers.If = refreshToken;\n    }\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(path)),\n        method: \"LOCK\",\n        headers,\n        data: generateLockXML(context.contactHref)\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    const responseData = await response.text();\n    const lockPayload = parseGenericResponse(responseData);\n    const token = nestedProp.get(lockPayload, \"prop.lockdiscovery.activelock.locktoken.href\");\n    const serverTimeout = nestedProp.get(lockPayload, \"prop.lockdiscovery.activelock.timeout\");\n    if (!token) {\n        const err = createErrorFromResponse(response, \"No lock token received: \");\n        throw err;\n    }\n    return {\n        token,\n        serverTimeout\n    };\n}\nexport async function unlock(context, path, token, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(path)),\n        method: \"UNLOCK\",\n        headers: {\n            \"Lock-Token\": token\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    if (response.status !== 204 && response.status !== 200) {\n        const err = createErrorFromResponse(response);\n        throw err;\n    }\n}\n","export const xmlReplacer = /[\"$&'<>\\u0080-\\uFFFF]/g;\nconst xmlCodeMap = new Map([\n    [34, \"&quot;\"],\n    [38, \"&amp;\"],\n    [39, \"&apos;\"],\n    [60, \"&lt;\"],\n    [62, \"&gt;\"],\n]);\n// For compatibility with node < 4, we wrap `codePointAt`\nexport const getCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.prototype.codePointAt == null\n    ? (c, index) => (c.charCodeAt(index) & 64512) === 55296\n        ? (c.charCodeAt(index) - 55296) * 1024 +\n            c.charCodeAt(index + 1) -\n            56320 +\n            65536\n        : c.charCodeAt(index)\n    : // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n        (input, index) => input.codePointAt(index);\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using XML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexport function encodeXML(input) {\n    let returnValue = \"\";\n    let lastIndex = 0;\n    let match;\n    while ((match = xmlReplacer.exec(input)) !== null) {\n        const { index } = match;\n        const char = input.charCodeAt(index);\n        const next = xmlCodeMap.get(char);\n        if (next === undefined) {\n            returnValue += `${input.substring(lastIndex, index)}&#x${getCodePoint(input, index).toString(16)};`;\n            // Increase by 1 if we have a surrogate pair\n            lastIndex = xmlReplacer.lastIndex += Number((char & 64512) === 55296);\n        }\n        else {\n            returnValue += input.substring(lastIndex, index) + next;\n            lastIndex = index + 1;\n        }\n    }\n    return returnValue + input.substr(lastIndex);\n}\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using numeric hexadecimal reference (eg. `&#xfc;`).\n *\n * Have a look at `escapeUTF8` if you want a more concise output at the expense\n * of reduced transportability.\n *\n * @param data String to escape.\n */\nexport const escape = encodeXML;\n/**\n * Creates a function that escapes all characters matched by the given regular\n * expression using the given map of characters to escape to their entities.\n *\n * @param regex Regular expression to match characters to escape.\n * @param map Map of characters to escape to their entities.\n *\n * @returns Function that escapes all characters matched by the given regular\n * expression using the given map of characters to escape to their entities.\n */\nfunction getEscaper(regex, map) {\n    return function escape(data) {\n        let match;\n        let lastIndex = 0;\n        let result = \"\";\n        while ((match = regex.exec(data))) {\n            if (lastIndex !== match.index) {\n                result += data.substring(lastIndex, match.index);\n            }\n            // We know that this character will be in the map.\n            result += map.get(match[0].charCodeAt(0));\n            // Every match will be of length 1\n            lastIndex = match.index + 1;\n        }\n        return result + data.substring(lastIndex);\n    };\n}\n/**\n * Encodes all characters not valid in XML documents using XML entities.\n *\n * Note that the output will be character-set dependent.\n *\n * @param data String to escape.\n */\nexport const escapeUTF8 = /* #__PURE__ */ getEscaper(/[\"&'<>]/g, xmlCodeMap);\n/**\n * Encodes all characters that have to be escaped in HTML attributes,\n * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n *\n * @param data String to escape.\n */\nexport const escapeAttribute = \n/* #__PURE__ */ getEscaper(/[\"&\\u00A0]/g, new Map([\n    [34, \"&quot;\"],\n    [38, \"&amp;\"],\n    [160, \"&nbsp;\"],\n]));\n/**\n * Encodes all characters that have to be escaped in HTML text,\n * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n *\n * @param data String to escape.\n */\nexport const escapeText = /* #__PURE__ */ getEscaper(/[&<>\\u00A0]/g, new Map([\n    [38, \"&amp;\"],\n    [60, \"&lt;\"],\n    [62, \"&gt;\"],\n    [160, \"&nbsp;\"],\n]));\n//# sourceMappingURL=escape.js.map","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnvRegex = /^$/;\n\nif (process.env.NODE_DEBUG) {\n  var debugEnv = process.env.NODE_DEBUG;\n  debugEnv = debugEnv.replace(/[|\\\\{}()[\\]^$+?.]/g, '\\\\$&')\n    .replace(/\\*/g, '.*')\n    .replace(/,/g, '$|^')\n    .toUpperCase();\n  debugEnvRegex = new RegExp('^' + debugEnv + '$', 'i');\n}\nexports.debuglog = function(set) {\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (debugEnvRegex.test(set)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').slice(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.slice(1, -1);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexports.types = require('./support/types');\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\nexports.types.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\nexports.types.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\nexports.types.isNativeError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb.bind(null, null, ret)) },\n            function(rej) { process.nextTick(callbackifyOnRejected.bind(null, rej, cb)) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","function getIgnoreAttributesFn(ignoreAttributes) {\n    if (typeof ignoreAttributes === 'function') {\n        return ignoreAttributes\n    }\n    if (Array.isArray(ignoreAttributes)) {\n        return (attrName) => {\n            for (const pattern of ignoreAttributes) {\n                if (typeof pattern === 'string' && attrName === pattern) {\n                    return true\n                }\n                if (pattern instanceof RegExp && pattern.test(attrName)) {\n                    return true\n                }\n            }\n        }\n    }\n    return () => false\n}\n\nmodule.exports = getIgnoreAttributesFn","import expand from 'brace-expansion';\nimport { assertValidPattern } from './assert-valid-pattern.js';\nimport { AST } from './ast.js';\nimport { escape } from './escape.js';\nimport { unescape } from './unescape.js';\nexport const minimatch = (p, pattern, options = {}) => {\n    assertValidPattern(pattern);\n    // shortcut: comments match nothing.\n    if (!options.nocomment && pattern.charAt(0) === '#') {\n        return false;\n    }\n    return new Minimatch(pattern, options).match(p);\n};\n// Optimized checking for the most common glob patterns.\nconst starDotExtRE = /^\\*+([^+@!?\\*\\[\\(]*)$/;\nconst starDotExtTest = (ext) => (f) => !f.startsWith('.') && f.endsWith(ext);\nconst starDotExtTestDot = (ext) => (f) => f.endsWith(ext);\nconst starDotExtTestNocase = (ext) => {\n    ext = ext.toLowerCase();\n    return (f) => !f.startsWith('.') && f.toLowerCase().endsWith(ext);\n};\nconst starDotExtTestNocaseDot = (ext) => {\n    ext = ext.toLowerCase();\n    return (f) => f.toLowerCase().endsWith(ext);\n};\nconst starDotStarRE = /^\\*+\\.\\*+$/;\nconst starDotStarTest = (f) => !f.startsWith('.') && f.includes('.');\nconst starDotStarTestDot = (f) => f !== '.' && f !== '..' && f.includes('.');\nconst dotStarRE = /^\\.\\*+$/;\nconst dotStarTest = (f) => f !== '.' && f !== '..' && f.startsWith('.');\nconst starRE = /^\\*+$/;\nconst starTest = (f) => f.length !== 0 && !f.startsWith('.');\nconst starTestDot = (f) => f.length !== 0 && f !== '.' && f !== '..';\nconst qmarksRE = /^\\?+([^+@!?\\*\\[\\(]*)?$/;\nconst qmarksTestNocase = ([$0, ext = '']) => {\n    const noext = qmarksTestNoExt([$0]);\n    if (!ext)\n        return noext;\n    ext = ext.toLowerCase();\n    return (f) => noext(f) && f.toLowerCase().endsWith(ext);\n};\nconst qmarksTestNocaseDot = ([$0, ext = '']) => {\n    const noext = qmarksTestNoExtDot([$0]);\n    if (!ext)\n        return noext;\n    ext = ext.toLowerCase();\n    return (f) => noext(f) && f.toLowerCase().endsWith(ext);\n};\nconst qmarksTestDot = ([$0, ext = '']) => {\n    const noext = qmarksTestNoExtDot([$0]);\n    return !ext ? noext : (f) => noext(f) && f.endsWith(ext);\n};\nconst qmarksTest = ([$0, ext = '']) => {\n    const noext = qmarksTestNoExt([$0]);\n    return !ext ? noext : (f) => noext(f) && f.endsWith(ext);\n};\nconst qmarksTestNoExt = ([$0]) => {\n    const len = $0.length;\n    return (f) => f.length === len && !f.startsWith('.');\n};\nconst qmarksTestNoExtDot = ([$0]) => {\n    const len = $0.length;\n    return (f) => f.length === len && f !== '.' && f !== '..';\n};\n/* c8 ignore start */\nconst defaultPlatform = (typeof process === 'object' && process\n    ? (typeof process.env === 'object' &&\n        process.env &&\n        process.env.__MINIMATCH_TESTING_PLATFORM__) ||\n        process.platform\n    : 'posix');\nconst path = {\n    win32: { sep: '\\\\' },\n    posix: { sep: '/' },\n};\n/* c8 ignore stop */\nexport const sep = defaultPlatform === 'win32' ? path.win32.sep : path.posix.sep;\nminimatch.sep = sep;\nexport const GLOBSTAR = Symbol('globstar **');\nminimatch.GLOBSTAR = GLOBSTAR;\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nconst qmark = '[^/]';\n// * => any number of characters\nconst star = qmark + '*?';\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nconst twoStarDot = '(?:(?!(?:\\\\/|^)(?:\\\\.{1,2})($|\\\\/)).)*?';\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nconst twoStarNoDot = '(?:(?!(?:\\\\/|^)\\\\.).)*?';\nexport const filter = (pattern, options = {}) => (p) => minimatch(p, pattern, options);\nminimatch.filter = filter;\nconst ext = (a, b = {}) => Object.assign({}, a, b);\nexport const defaults = (def) => {\n    if (!def || typeof def !== 'object' || !Object.keys(def).length) {\n        return minimatch;\n    }\n    const orig = minimatch;\n    const m = (p, pattern, options = {}) => orig(p, pattern, ext(def, options));\n    return Object.assign(m, {\n        Minimatch: class Minimatch extends orig.Minimatch {\n            constructor(pattern, options = {}) {\n                super(pattern, ext(def, options));\n            }\n            static defaults(options) {\n                return orig.defaults(ext(def, options)).Minimatch;\n            }\n        },\n        AST: class AST extends orig.AST {\n            /* c8 ignore start */\n            constructor(type, parent, options = {}) {\n                super(type, parent, ext(def, options));\n            }\n            /* c8 ignore stop */\n            static fromGlob(pattern, options = {}) {\n                return orig.AST.fromGlob(pattern, ext(def, options));\n            }\n        },\n        unescape: (s, options = {}) => orig.unescape(s, ext(def, options)),\n        escape: (s, options = {}) => orig.escape(s, ext(def, options)),\n        filter: (pattern, options = {}) => orig.filter(pattern, ext(def, options)),\n        defaults: (options) => orig.defaults(ext(def, options)),\n        makeRe: (pattern, options = {}) => orig.makeRe(pattern, ext(def, options)),\n        braceExpand: (pattern, options = {}) => orig.braceExpand(pattern, ext(def, options)),\n        match: (list, pattern, options = {}) => orig.match(list, pattern, ext(def, options)),\n        sep: orig.sep,\n        GLOBSTAR: GLOBSTAR,\n    });\n};\nminimatch.defaults = defaults;\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nexport const braceExpand = (pattern, options = {}) => {\n    assertValidPattern(pattern);\n    // Thanks to Yeting Li <https://github.com/yetingli> for\n    // improving this regexp to avoid a ReDOS vulnerability.\n    if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\n        // shortcut. no need to expand.\n        return [pattern];\n    }\n    return expand(pattern);\n};\nminimatch.braceExpand = braceExpand;\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nexport const makeRe = (pattern, options = {}) => new Minimatch(pattern, options).makeRe();\nminimatch.makeRe = makeRe;\nexport const match = (list, pattern, options = {}) => {\n    const mm = new Minimatch(pattern, options);\n    list = list.filter(f => mm.match(f));\n    if (mm.options.nonull && !list.length) {\n        list.push(pattern);\n    }\n    return list;\n};\nminimatch.match = match;\n// replace stuff like \\* with *\nconst globMagic = /[?*]|[+@!]\\(.*?\\)|\\[|\\]/;\nconst regExpEscape = (s) => s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\nexport class Minimatch {\n    options;\n    set;\n    pattern;\n    windowsPathsNoEscape;\n    nonegate;\n    negate;\n    comment;\n    empty;\n    preserveMultipleSlashes;\n    partial;\n    globSet;\n    globParts;\n    nocase;\n    isWindows;\n    platform;\n    windowsNoMagicRoot;\n    regexp;\n    constructor(pattern, options = {}) {\n        assertValidPattern(pattern);\n        options = options || {};\n        this.options = options;\n        this.pattern = pattern;\n        this.platform = options.platform || defaultPlatform;\n        this.isWindows = this.platform === 'win32';\n        this.windowsPathsNoEscape =\n            !!options.windowsPathsNoEscape || options.allowWindowsEscape === false;\n        if (this.windowsPathsNoEscape) {\n            this.pattern = this.pattern.replace(/\\\\/g, '/');\n        }\n        this.preserveMultipleSlashes = !!options.preserveMultipleSlashes;\n        this.regexp = null;\n        this.negate = false;\n        this.nonegate = !!options.nonegate;\n        this.comment = false;\n        this.empty = false;\n        this.partial = !!options.partial;\n        this.nocase = !!this.options.nocase;\n        this.windowsNoMagicRoot =\n            options.windowsNoMagicRoot !== undefined\n                ? options.windowsNoMagicRoot\n                : !!(this.isWindows && this.nocase);\n        this.globSet = [];\n        this.globParts = [];\n        this.set = [];\n        // make the set of regexps etc.\n        this.make();\n    }\n    hasMagic() {\n        if (this.options.magicalBraces && this.set.length > 1) {\n            return true;\n        }\n        for (const pattern of this.set) {\n            for (const part of pattern) {\n                if (typeof part !== 'string')\n                    return true;\n            }\n        }\n        return false;\n    }\n    debug(..._) { }\n    make() {\n        const pattern = this.pattern;\n        const options = this.options;\n        // empty patterns and comments match nothing.\n        if (!options.nocomment && pattern.charAt(0) === '#') {\n            this.comment = true;\n            return;\n        }\n        if (!pattern) {\n            this.empty = true;\n            return;\n        }\n        // step 1: figure out negation, etc.\n        this.parseNegate();\n        // step 2: expand braces\n        this.globSet = [...new Set(this.braceExpand())];\n        if (options.debug) {\n            this.debug = (...args) => console.error(...args);\n        }\n        this.debug(this.pattern, this.globSet);\n        // step 3: now we have a set, so turn each one into a series of\n        // path-portion matching patterns.\n        // These will be regexps, except in the case of \"**\", which is\n        // set to the GLOBSTAR object for globstar behavior,\n        // and will not contain any / characters\n        //\n        // First, we preprocess to make the glob pattern sets a bit simpler\n        // and deduped.  There are some perf-killing patterns that can cause\n        // problems with a glob walk, but we can simplify them down a bit.\n        const rawGlobParts = this.globSet.map(s => this.slashSplit(s));\n        this.globParts = this.preprocess(rawGlobParts);\n        this.debug(this.pattern, this.globParts);\n        // glob --> regexps\n        let set = this.globParts.map((s, _, __) => {\n            if (this.isWindows && this.windowsNoMagicRoot) {\n                // check if it's a drive or unc path.\n                const isUNC = s[0] === '' &&\n                    s[1] === '' &&\n                    (s[2] === '?' || !globMagic.test(s[2])) &&\n                    !globMagic.test(s[3]);\n                const isDrive = /^[a-z]:/i.test(s[0]);\n                if (isUNC) {\n                    return [...s.slice(0, 4), ...s.slice(4).map(ss => this.parse(ss))];\n                }\n                else if (isDrive) {\n                    return [s[0], ...s.slice(1).map(ss => this.parse(ss))];\n                }\n            }\n            return s.map(ss => this.parse(ss));\n        });\n        this.debug(this.pattern, set);\n        // filter out everything that didn't compile properly.\n        this.set = set.filter(s => s.indexOf(false) === -1);\n        // do not treat the ? in UNC paths as magic\n        if (this.isWindows) {\n            for (let i = 0; i < this.set.length; i++) {\n                const p = this.set[i];\n                if (p[0] === '' &&\n                    p[1] === '' &&\n                    this.globParts[i][2] === '?' &&\n                    typeof p[3] === 'string' &&\n                    /^[a-z]:$/i.test(p[3])) {\n                    p[2] = '?';\n                }\n            }\n        }\n        this.debug(this.pattern, this.set);\n    }\n    // various transforms to equivalent pattern sets that are\n    // faster to process in a filesystem walk.  The goal is to\n    // eliminate what we can, and push all ** patterns as far\n    // to the right as possible, even if it increases the number\n    // of patterns that we have to process.\n    preprocess(globParts) {\n        // if we're not in globstar mode, then turn all ** into *\n        if (this.options.noglobstar) {\n            for (let i = 0; i < globParts.length; i++) {\n                for (let j = 0; j < globParts[i].length; j++) {\n                    if (globParts[i][j] === '**') {\n                        globParts[i][j] = '*';\n                    }\n                }\n            }\n        }\n        const { optimizationLevel = 1 } = this.options;\n        if (optimizationLevel >= 2) {\n            // aggressive optimization for the purpose of fs walking\n            globParts = this.firstPhasePreProcess(globParts);\n            globParts = this.secondPhasePreProcess(globParts);\n        }\n        else if (optimizationLevel >= 1) {\n            // just basic optimizations to remove some .. parts\n            globParts = this.levelOneOptimize(globParts);\n        }\n        else {\n            // just collapse multiple ** portions into one\n            globParts = this.adjascentGlobstarOptimize(globParts);\n        }\n        return globParts;\n    }\n    // just get rid of adjascent ** portions\n    adjascentGlobstarOptimize(globParts) {\n        return globParts.map(parts => {\n            let gs = -1;\n            while (-1 !== (gs = parts.indexOf('**', gs + 1))) {\n                let i = gs;\n                while (parts[i + 1] === '**') {\n                    i++;\n                }\n                if (i !== gs) {\n                    parts.splice(gs, i - gs);\n                }\n            }\n            return parts;\n        });\n    }\n    // get rid of adjascent ** and resolve .. portions\n    levelOneOptimize(globParts) {\n        return globParts.map(parts => {\n            parts = parts.reduce((set, part) => {\n                const prev = set[set.length - 1];\n                if (part === '**' && prev === '**') {\n                    return set;\n                }\n                if (part === '..') {\n                    if (prev && prev !== '..' && prev !== '.' && prev !== '**') {\n                        set.pop();\n                        return set;\n                    }\n                }\n                set.push(part);\n                return set;\n            }, []);\n            return parts.length === 0 ? [''] : parts;\n        });\n    }\n    levelTwoFileOptimize(parts) {\n        if (!Array.isArray(parts)) {\n            parts = this.slashSplit(parts);\n        }\n        let didSomething = false;\n        do {\n            didSomething = false;\n            // <pre>/<e>/<rest> -> <pre>/<rest>\n            if (!this.preserveMultipleSlashes) {\n                for (let i = 1; i < parts.length - 1; i++) {\n                    const p = parts[i];\n                    // don't squeeze out UNC patterns\n                    if (i === 1 && p === '' && parts[0] === '')\n                        continue;\n                    if (p === '.' || p === '') {\n                        didSomething = true;\n                        parts.splice(i, 1);\n                        i--;\n                    }\n                }\n                if (parts[0] === '.' &&\n                    parts.length === 2 &&\n                    (parts[1] === '.' || parts[1] === '')) {\n                    didSomething = true;\n                    parts.pop();\n                }\n            }\n            // <pre>/<p>/../<rest> -> <pre>/<rest>\n            let dd = 0;\n            while (-1 !== (dd = parts.indexOf('..', dd + 1))) {\n                const p = parts[dd - 1];\n                if (p && p !== '.' && p !== '..' && p !== '**') {\n                    didSomething = true;\n                    parts.splice(dd - 1, 2);\n                    dd -= 2;\n                }\n            }\n        } while (didSomething);\n        return parts.length === 0 ? [''] : parts;\n    }\n    // First phase: single-pattern processing\n    // <pre> is 1 or more portions\n    // <rest> is 1 or more portions\n    // <p> is any portion other than ., .., '', or **\n    // <e> is . or ''\n    //\n    // **/.. is *brutal* for filesystem walking performance, because\n    // it effectively resets the recursive walk each time it occurs,\n    // and ** cannot be reduced out by a .. pattern part like a regexp\n    // or most strings (other than .., ., and '') can be.\n    //\n    // <pre>/**/../<p>/<p>/<rest> -> {<pre>/../<p>/<p>/<rest>,<pre>/**/<p>/<p>/<rest>}\n    // <pre>/<e>/<rest> -> <pre>/<rest>\n    // <pre>/<p>/../<rest> -> <pre>/<rest>\n    // **/**/<rest> -> **/<rest>\n    //\n    // **/*/<rest> -> */**/<rest> <== not valid because ** doesn't follow\n    // this WOULD be allowed if ** did follow symlinks, or * didn't\n    firstPhasePreProcess(globParts) {\n        let didSomething = false;\n        do {\n            didSomething = false;\n            // <pre>/**/../<p>/<p>/<rest> -> {<pre>/../<p>/<p>/<rest>,<pre>/**/<p>/<p>/<rest>}\n            for (let parts of globParts) {\n                let gs = -1;\n                while (-1 !== (gs = parts.indexOf('**', gs + 1))) {\n                    let gss = gs;\n                    while (parts[gss + 1] === '**') {\n                        // <pre>/**/**/<rest> -> <pre>/**/<rest>\n                        gss++;\n                    }\n                    // eg, if gs is 2 and gss is 4, that means we have 3 **\n                    // parts, and can remove 2 of them.\n                    if (gss > gs) {\n                        parts.splice(gs + 1, gss - gs);\n                    }\n                    let next = parts[gs + 1];\n                    const p = parts[gs + 2];\n                    const p2 = parts[gs + 3];\n                    if (next !== '..')\n                        continue;\n                    if (!p ||\n                        p === '.' ||\n                        p === '..' ||\n                        !p2 ||\n                        p2 === '.' ||\n                        p2 === '..') {\n                        continue;\n                    }\n                    didSomething = true;\n                    // edit parts in place, and push the new one\n                    parts.splice(gs, 1);\n                    const other = parts.slice(0);\n                    other[gs] = '**';\n                    globParts.push(other);\n                    gs--;\n                }\n                // <pre>/<e>/<rest> -> <pre>/<rest>\n                if (!this.preserveMultipleSlashes) {\n                    for (let i = 1; i < parts.length - 1; i++) {\n                        const p = parts[i];\n                        // don't squeeze out UNC patterns\n                        if (i === 1 && p === '' && parts[0] === '')\n                            continue;\n                        if (p === '.' || p === '') {\n                            didSomething = true;\n                            parts.splice(i, 1);\n                            i--;\n                        }\n                    }\n                    if (parts[0] === '.' &&\n                        parts.length === 2 &&\n                        (parts[1] === '.' || parts[1] === '')) {\n                        didSomething = true;\n                        parts.pop();\n                    }\n                }\n                // <pre>/<p>/../<rest> -> <pre>/<rest>\n                let dd = 0;\n                while (-1 !== (dd = parts.indexOf('..', dd + 1))) {\n                    const p = parts[dd - 1];\n                    if (p && p !== '.' && p !== '..' && p !== '**') {\n                        didSomething = true;\n                        const needDot = dd === 1 && parts[dd + 1] === '**';\n                        const splin = needDot ? ['.'] : [];\n                        parts.splice(dd - 1, 2, ...splin);\n                        if (parts.length === 0)\n                            parts.push('');\n                        dd -= 2;\n                    }\n                }\n            }\n        } while (didSomething);\n        return globParts;\n    }\n    // second phase: multi-pattern dedupes\n    // {<pre>/*/<rest>,<pre>/<p>/<rest>} -> <pre>/*/<rest>\n    // {<pre>/<rest>,<pre>/<rest>} -> <pre>/<rest>\n    // {<pre>/**/<rest>,<pre>/<rest>} -> <pre>/**/<rest>\n    //\n    // {<pre>/**/<rest>,<pre>/**/<p>/<rest>} -> <pre>/**/<rest>\n    // ^-- not valid because ** doens't follow symlinks\n    secondPhasePreProcess(globParts) {\n        for (let i = 0; i < globParts.length - 1; i++) {\n            for (let j = i + 1; j < globParts.length; j++) {\n                const matched = this.partsMatch(globParts[i], globParts[j], !this.preserveMultipleSlashes);\n                if (matched) {\n                    globParts[i] = [];\n                    globParts[j] = matched;\n                    break;\n                }\n            }\n        }\n        return globParts.filter(gs => gs.length);\n    }\n    partsMatch(a, b, emptyGSMatch = false) {\n        let ai = 0;\n        let bi = 0;\n        let result = [];\n        let which = '';\n        while (ai < a.length && bi < b.length) {\n            if (a[ai] === b[bi]) {\n                result.push(which === 'b' ? b[bi] : a[ai]);\n                ai++;\n                bi++;\n            }\n            else if (emptyGSMatch && a[ai] === '**' && b[bi] === a[ai + 1]) {\n                result.push(a[ai]);\n                ai++;\n            }\n            else if (emptyGSMatch && b[bi] === '**' && a[ai] === b[bi + 1]) {\n                result.push(b[bi]);\n                bi++;\n            }\n            else if (a[ai] === '*' &&\n                b[bi] &&\n                (this.options.dot || !b[bi].startsWith('.')) &&\n                b[bi] !== '**') {\n                if (which === 'b')\n                    return false;\n                which = 'a';\n                result.push(a[ai]);\n                ai++;\n                bi++;\n            }\n            else if (b[bi] === '*' &&\n                a[ai] &&\n                (this.options.dot || !a[ai].startsWith('.')) &&\n                a[ai] !== '**') {\n                if (which === 'a')\n                    return false;\n                which = 'b';\n                result.push(b[bi]);\n                ai++;\n                bi++;\n            }\n            else {\n                return false;\n            }\n        }\n        // if we fall out of the loop, it means they two are identical\n        // as long as their lengths match\n        return a.length === b.length && result;\n    }\n    parseNegate() {\n        if (this.nonegate)\n            return;\n        const pattern = this.pattern;\n        let negate = false;\n        let negateOffset = 0;\n        for (let i = 0; i < pattern.length && pattern.charAt(i) === '!'; i++) {\n            negate = !negate;\n            negateOffset++;\n        }\n        if (negateOffset)\n            this.pattern = pattern.slice(negateOffset);\n        this.negate = negate;\n    }\n    // set partial to true to test if, for example,\n    // \"/a/b\" matches the start of \"/*/b/*/d\"\n    // Partial means, if you run out of file before you run\n    // out of pattern, then that's fine, as long as all\n    // the parts match.\n    matchOne(file, pattern, partial = false) {\n        const options = this.options;\n        // UNC paths like //?/X:/... can match X:/... and vice versa\n        // Drive letters in absolute drive or unc paths are always compared\n        // case-insensitively.\n        if (this.isWindows) {\n            const fileDrive = typeof file[0] === 'string' && /^[a-z]:$/i.test(file[0]);\n            const fileUNC = !fileDrive &&\n                file[0] === '' &&\n                file[1] === '' &&\n                file[2] === '?' &&\n                /^[a-z]:$/i.test(file[3]);\n            const patternDrive = typeof pattern[0] === 'string' && /^[a-z]:$/i.test(pattern[0]);\n            const patternUNC = !patternDrive &&\n                pattern[0] === '' &&\n                pattern[1] === '' &&\n                pattern[2] === '?' &&\n                typeof pattern[3] === 'string' &&\n                /^[a-z]:$/i.test(pattern[3]);\n            const fdi = fileUNC ? 3 : fileDrive ? 0 : undefined;\n            const pdi = patternUNC ? 3 : patternDrive ? 0 : undefined;\n            if (typeof fdi === 'number' && typeof pdi === 'number') {\n                const [fd, pd] = [file[fdi], pattern[pdi]];\n                if (fd.toLowerCase() === pd.toLowerCase()) {\n                    pattern[pdi] = fd;\n                    if (pdi > fdi) {\n                        pattern = pattern.slice(pdi);\n                    }\n                    else if (fdi > pdi) {\n                        file = file.slice(fdi);\n                    }\n                }\n            }\n        }\n        // resolve and reduce . and .. portions in the file as well.\n        // dont' need to do the second phase, because it's only one string[]\n        const { optimizationLevel = 1 } = this.options;\n        if (optimizationLevel >= 2) {\n            file = this.levelTwoFileOptimize(file);\n        }\n        this.debug('matchOne', this, { file, pattern });\n        this.debug('matchOne', file.length, pattern.length);\n        for (var fi = 0, pi = 0, fl = file.length, pl = pattern.length; fi < fl && pi < pl; fi++, pi++) {\n            this.debug('matchOne loop');\n            var p = pattern[pi];\n            var f = file[fi];\n            this.debug(pattern, p, f);\n            // should be impossible.\n            // some invalid regexp stuff in the set.\n            /* c8 ignore start */\n            if (p === false) {\n                return false;\n            }\n            /* c8 ignore stop */\n            if (p === GLOBSTAR) {\n                this.debug('GLOBSTAR', [pattern, p, f]);\n                // \"**\"\n                // a/**/b/**/c would match the following:\n                // a/b/x/y/z/c\n                // a/x/y/z/b/c\n                // a/b/x/b/x/c\n                // a/b/c\n                // To do this, take the rest of the pattern after\n                // the **, and see if it would match the file remainder.\n                // If so, return success.\n                // If not, the ** \"swallows\" a segment, and try again.\n                // This is recursively awful.\n                //\n                // a/**/b/**/c matching a/b/x/y/z/c\n                // - a matches a\n                // - doublestar\n                //   - matchOne(b/x/y/z/c, b/**/c)\n                //     - b matches b\n                //     - doublestar\n                //       - matchOne(x/y/z/c, c) -> no\n                //       - matchOne(y/z/c, c) -> no\n                //       - matchOne(z/c, c) -> no\n                //       - matchOne(c, c) yes, hit\n                var fr = fi;\n                var pr = pi + 1;\n                if (pr === pl) {\n                    this.debug('** at the end');\n                    // a ** at the end will just swallow the rest.\n                    // We have found a match.\n                    // however, it will not swallow /.x, unless\n                    // options.dot is set.\n                    // . and .. are *never* matched by **, for explosively\n                    // exponential reasons.\n                    for (; fi < fl; fi++) {\n                        if (file[fi] === '.' ||\n                            file[fi] === '..' ||\n                            (!options.dot && file[fi].charAt(0) === '.'))\n                            return false;\n                    }\n                    return true;\n                }\n                // ok, let's see if we can swallow whatever we can.\n                while (fr < fl) {\n                    var swallowee = file[fr];\n                    this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee);\n                    // XXX remove this slice.  Just pass the start index.\n                    if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n                        this.debug('globstar found match!', fr, fl, swallowee);\n                        // found a match.\n                        return true;\n                    }\n                    else {\n                        // can't swallow \".\" or \"..\" ever.\n                        // can only swallow \".foo\" when explicitly asked.\n                        if (swallowee === '.' ||\n                            swallowee === '..' ||\n                            (!options.dot && swallowee.charAt(0) === '.')) {\n                            this.debug('dot detected!', file, fr, pattern, pr);\n                            break;\n                        }\n                        // ** swallows a segment, and continue.\n                        this.debug('globstar swallow a segment, and continue');\n                        fr++;\n                    }\n                }\n                // no match was found.\n                // However, in partial mode, we can't say this is necessarily over.\n                /* c8 ignore start */\n                if (partial) {\n                    // ran out of file\n                    this.debug('\\n>>> no match, partial?', file, fr, pattern, pr);\n                    if (fr === fl) {\n                        return true;\n                    }\n                }\n                /* c8 ignore stop */\n                return false;\n            }\n            // something other than **\n            // non-magic patterns just have to match exactly\n            // patterns with magic have been turned into regexps.\n            let hit;\n            if (typeof p === 'string') {\n                hit = f === p;\n                this.debug('string match', p, f, hit);\n            }\n            else {\n                hit = p.test(f);\n                this.debug('pattern match', p, f, hit);\n            }\n            if (!hit)\n                return false;\n        }\n        // Note: ending in / means that we'll get a final \"\"\n        // at the end of the pattern.  This can only match a\n        // corresponding \"\" at the end of the file.\n        // If the file ends in /, then it can only match a\n        // a pattern that ends in /, unless the pattern just\n        // doesn't have any more for it. But, a/b/ should *not*\n        // match \"a/b/*\", even though \"\" matches against the\n        // [^/]*? pattern, except in partial mode, where it might\n        // simply not be reached yet.\n        // However, a/b/ should still satisfy a/*\n        // now either we fell off the end of the pattern, or we're done.\n        if (fi === fl && pi === pl) {\n            // ran out of pattern and filename at the same time.\n            // an exact hit!\n            return true;\n        }\n        else if (fi === fl) {\n            // ran out of file, but still had pattern left.\n            // this is ok if we're doing the match as part of\n            // a glob fs traversal.\n            return partial;\n        }\n        else if (pi === pl) {\n            // ran out of pattern, still have file left.\n            // this is only acceptable if we're on the very last\n            // empty segment of a file with a trailing slash.\n            // a/* should match a/b/\n            return fi === fl - 1 && file[fi] === '';\n            /* c8 ignore start */\n        }\n        else {\n            // should be unreachable.\n            throw new Error('wtf?');\n        }\n        /* c8 ignore stop */\n    }\n    braceExpand() {\n        return braceExpand(this.pattern, this.options);\n    }\n    parse(pattern) {\n        assertValidPattern(pattern);\n        const options = this.options;\n        // shortcuts\n        if (pattern === '**')\n            return GLOBSTAR;\n        if (pattern === '')\n            return '';\n        // far and away, the most common glob pattern parts are\n        // *, *.*, and *.<ext>  Add a fast check method for those.\n        let m;\n        let fastTest = null;\n        if ((m = pattern.match(starRE))) {\n            fastTest = options.dot ? starTestDot : starTest;\n        }\n        else if ((m = pattern.match(starDotExtRE))) {\n            fastTest = (options.nocase\n                ? options.dot\n                    ? starDotExtTestNocaseDot\n                    : starDotExtTestNocase\n                : options.dot\n                    ? starDotExtTestDot\n                    : starDotExtTest)(m[1]);\n        }\n        else if ((m = pattern.match(qmarksRE))) {\n            fastTest = (options.nocase\n                ? options.dot\n                    ? qmarksTestNocaseDot\n                    : qmarksTestNocase\n                : options.dot\n                    ? qmarksTestDot\n                    : qmarksTest)(m);\n        }\n        else if ((m = pattern.match(starDotStarRE))) {\n            fastTest = options.dot ? starDotStarTestDot : starDotStarTest;\n        }\n        else if ((m = pattern.match(dotStarRE))) {\n            fastTest = dotStarTest;\n        }\n        const re = AST.fromGlob(pattern, this.options).toMMPattern();\n        if (fastTest && typeof re === 'object') {\n            // Avoids overriding in frozen environments\n            Reflect.defineProperty(re, 'test', { value: fastTest });\n        }\n        return re;\n    }\n    makeRe() {\n        if (this.regexp || this.regexp === false)\n            return this.regexp;\n        // at this point, this.set is a 2d array of partial\n        // pattern strings, or \"**\".\n        //\n        // It's better to use .match().  This function shouldn't\n        // be used, really, but it's pretty convenient sometimes,\n        // when you just want to work with a regex.\n        const set = this.set;\n        if (!set.length) {\n            this.regexp = false;\n            return this.regexp;\n        }\n        const options = this.options;\n        const twoStar = options.noglobstar\n            ? star\n            : options.dot\n                ? twoStarDot\n                : twoStarNoDot;\n        const flags = new Set(options.nocase ? ['i'] : []);\n        // regexpify non-globstar patterns\n        // if ** is only item, then we just do one twoStar\n        // if ** is first, and there are more, prepend (\\/|twoStar\\/)? to next\n        // if ** is last, append (\\/twoStar|) to previous\n        // if ** is in the middle, append (\\/|\\/twoStar\\/) to previous\n        // then filter out GLOBSTAR symbols\n        let re = set\n            .map(pattern => {\n            const pp = pattern.map(p => {\n                if (p instanceof RegExp) {\n                    for (const f of p.flags.split(''))\n                        flags.add(f);\n                }\n                return typeof p === 'string'\n                    ? regExpEscape(p)\n                    : p === GLOBSTAR\n                        ? GLOBSTAR\n                        : p._src;\n            });\n            pp.forEach((p, i) => {\n                const next = pp[i + 1];\n                const prev = pp[i - 1];\n                if (p !== GLOBSTAR || prev === GLOBSTAR) {\n                    return;\n                }\n                if (prev === undefined) {\n                    if (next !== undefined && next !== GLOBSTAR) {\n                        pp[i + 1] = '(?:\\\\/|' + twoStar + '\\\\/)?' + next;\n                    }\n                    else {\n                        pp[i] = twoStar;\n                    }\n                }\n                else if (next === undefined) {\n                    pp[i - 1] = prev + '(?:\\\\/|' + twoStar + ')?';\n                }\n                else if (next !== GLOBSTAR) {\n                    pp[i - 1] = prev + '(?:\\\\/|\\\\/' + twoStar + '\\\\/)' + next;\n                    pp[i + 1] = GLOBSTAR;\n                }\n            });\n            return pp.filter(p => p !== GLOBSTAR).join('/');\n        })\n            .join('|');\n        // need to wrap in parens if we had more than one thing with |,\n        // otherwise only the first will be anchored to ^ and the last to $\n        const [open, close] = set.length > 1 ? ['(?:', ')'] : ['', ''];\n        // must match entire pattern\n        // ending in a * or ** will make it less strict.\n        re = '^' + open + re + close + '$';\n        // can match anything, as long as it's not this.\n        if (this.negate)\n            re = '^(?!' + re + ').+$';\n        try {\n            this.regexp = new RegExp(re, [...flags].join(''));\n            /* c8 ignore start */\n        }\n        catch (ex) {\n            // should be impossible\n            this.regexp = false;\n        }\n        /* c8 ignore stop */\n        return this.regexp;\n    }\n    slashSplit(p) {\n        // if p starts with // on windows, we preserve that\n        // so that UNC paths aren't broken.  Otherwise, any number of\n        // / characters are coalesced into one, unless\n        // preserveMultipleSlashes is set to true.\n        if (this.preserveMultipleSlashes) {\n            return p.split('/');\n        }\n        else if (this.isWindows && /^\\/\\/[^\\/]+/.test(p)) {\n            // add an extra '' for the one we lose\n            return ['', ...p.split(/\\/+/)];\n        }\n        else {\n            return p.split(/\\/+/);\n        }\n    }\n    match(f, partial = this.partial) {\n        this.debug('match', f, this.pattern);\n        // short-circuit in the case of busted things.\n        // comments, etc.\n        if (this.comment) {\n            return false;\n        }\n        if (this.empty) {\n            return f === '';\n        }\n        if (f === '/' && partial) {\n            return true;\n        }\n        const options = this.options;\n        // windows: need to use /, not \\\n        if (this.isWindows) {\n            f = f.split('\\\\').join('/');\n        }\n        // treat the test path as a set of pathparts.\n        const ff = this.slashSplit(f);\n        this.debug(this.pattern, 'split', ff);\n        // just ONE of the pattern sets in this.set needs to match\n        // in order for it to be valid.  If negating, then just one\n        // match means that we have failed.\n        // Either way, return on the first hit.\n        const set = this.set;\n        this.debug(this.pattern, 'set', set);\n        // Find the basename of the path by looking for the last non-empty segment\n        let filename = ff[ff.length - 1];\n        if (!filename) {\n            for (let i = ff.length - 2; !filename && i >= 0; i--) {\n                filename = ff[i];\n            }\n        }\n        for (let i = 0; i < set.length; i++) {\n            const pattern = set[i];\n            let file = ff;\n            if (options.matchBase && pattern.length === 1) {\n                file = [filename];\n            }\n            const hit = this.matchOne(file, pattern, partial);\n            if (hit) {\n                if (options.flipNegate) {\n                    return true;\n                }\n                return !this.negate;\n            }\n        }\n        // didn't get any hits.  this is success if it's a negative\n        // pattern, failure otherwise.\n        if (options.flipNegate) {\n            return false;\n        }\n        return this.negate;\n    }\n    static defaults(def) {\n        return minimatch.defaults(def).Minimatch;\n    }\n}\n/* c8 ignore start */\nexport { AST } from './ast.js';\nexport { escape } from './escape.js';\nexport { unescape } from './unescape.js';\n/* c8 ignore stop */\nminimatch.AST = AST;\nminimatch.Minimatch = Minimatch;\nminimatch.escape = escape;\nminimatch.unescape = unescape;\n//# sourceMappingURL=index.js.map","const hexRegex = /^[-+]?0x[a-fA-F0-9]+$/;\nconst numRegex = /^([\\-\\+])?(0*)([0-9]*(\\.[0-9]*)?)$/;\n// const octRegex = /^0x[a-z0-9]+/;\n// const binRegex = /0x[a-z0-9]+/;\n\n \nconst consider = {\n    hex :  true,\n    // oct: false,\n    leadingZeros: true,\n    decimalPoint: \"\\.\",\n    eNotation: true,\n    //skipLike: /regex/\n};\n\nfunction toNumber(str, options = {}){\n    options = Object.assign({}, consider, options );\n    if(!str || typeof str !== \"string\" ) return str;\n    \n    let trimmedStr  = str.trim();\n    \n    if(options.skipLike !== undefined && options.skipLike.test(trimmedStr)) return str;\n    else if(str===\"0\") return 0;\n    else if (options.hex && hexRegex.test(trimmedStr)) {\n        return parse_int(trimmedStr, 16);\n    // }else if (options.oct && octRegex.test(str)) {\n    //     return Number.parseInt(val, 8);\n    }else if (trimmedStr.search(/[eE]/)!== -1) { //eNotation\n        const notation = trimmedStr.match(/^([-\\+])?(0*)([0-9]*(\\.[0-9]*)?[eE][-\\+]?[0-9]+)$/); \n        // +00.123 => [ , '+', '00', '.123', ..\n        if(notation){\n            // console.log(notation)\n            if(options.leadingZeros){ //accept with leading zeros\n                trimmedStr = (notation[1] || \"\") + notation[3];\n            }else{\n                if(notation[2] === \"0\" && notation[3][0]=== \".\"){ //valid number\n                }else{\n                    return str;\n                }\n            }\n            return options.eNotation ? Number(trimmedStr) : str;\n        }else{\n            return str;\n        }\n    // }else if (options.parseBin && binRegex.test(str)) {\n    //     return Number.parseInt(val, 2);\n    }else{\n        //separate negative sign, leading zeros, and rest number\n        const match = numRegex.exec(trimmedStr);\n        // +00.123 => [ , '+', '00', '.123', ..\n        if(match){\n            const sign = match[1];\n            const leadingZeros = match[2];\n            let numTrimmedByZeros = trimZeros(match[3]); //complete num without leading zeros\n            //trim ending zeros for floating number\n            \n            if(!options.leadingZeros && leadingZeros.length > 0 && sign && trimmedStr[2] !== \".\") return str; //-0123\n            else if(!options.leadingZeros && leadingZeros.length > 0 && !sign && trimmedStr[1] !== \".\") return str; //0123\n            else if(options.leadingZeros && leadingZeros===str) return 0; //00\n            \n            else{//no leading zeros or leading zeros are allowed\n                const num = Number(trimmedStr);\n                const numStr = \"\" + num;\n\n                if(numStr.search(/[eE]/) !== -1){ //given number is long and parsed to eNotation\n                    if(options.eNotation) return num;\n                    else return str;\n                }else if(trimmedStr.indexOf(\".\") !== -1){ //floating number\n                    if(numStr === \"0\" && (numTrimmedByZeros === \"\") ) return num; //0.0\n                    else if(numStr === numTrimmedByZeros) return num; //0.456. 0.79000\n                    else if( sign && numStr === \"-\"+numTrimmedByZeros) return num;\n                    else return str;\n                }\n                \n                if(leadingZeros){\n                    return (numTrimmedByZeros === numStr) || (sign+numTrimmedByZeros === numStr) ? num : str\n                }else  {\n                    return (trimmedStr === numStr) || (trimmedStr === sign+numStr) ? num : str\n                }\n            }\n        }else{ //non-numeric string\n            return str;\n        }\n    }\n}\n\n/**\n * \n * @param {string} numStr without leading zeros\n * @returns \n */\nfunction trimZeros(numStr){\n    if(numStr && numStr.indexOf(\".\") !== -1){//float\n        numStr = numStr.replace(/0+$/, \"\"); //remove ending zeros\n        if(numStr === \".\")  numStr = \"0\";\n        else if(numStr[0] === \".\")  numStr = \"0\"+numStr;\n        else if(numStr[numStr.length-1] === \".\")  numStr = numStr.substr(0,numStr.length-1);\n        return numStr;\n    }\n    return numStr;\n}\n\nfunction parse_int(numStr, base){\n    //polyfill\n    if(parseInt) return parseInt(numStr, base);\n    else if(Number.parseInt) return Number.parseInt(numStr, base);\n    else if(window && window.parseInt) return window.parseInt(numStr, base);\n    else throw new Error(\"parseInt, Number.parseInt, window.parseInt are not supported\")\n}\n\nmodule.exports = toNumber;","'use strict';\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar callBound = require('call-bound');\n\nvar $toString = callBound('Object.prototype.toString');\n\n/** @type {import('.')} */\nvar isStandardArguments = function isArguments(value) {\n\tif (\n\t\thasToStringTag\n\t\t&& value\n\t\t&& typeof value === 'object'\n\t\t&& Symbol.toStringTag in value\n\t) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\n/** @type {import('.')} */\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null\n\t\t&& typeof value === 'object'\n\t\t&& 'length' in value\n\t\t&& typeof value.length === 'number'\n\t\t&& value.length >= 0\n\t\t&& $toString(value) !== '[object Array]'\n\t\t&& 'callee' in value\n\t\t&& $toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\n// @ts-expect-error TODO make this not error\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\n/** @type {import('.')} */\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","const hasArrayBuffer = typeof ArrayBuffer === \"function\";\nconst { toString: objToString } = Object.prototype;\n// Taken from: https://github.com/fengyuanchen/is-array-buffer/blob/master/src/index.js\nexport function isArrayBuffer(value) {\n    return (hasArrayBuffer &&\n        (value instanceof ArrayBuffer || objToString.call(value) === \"[object ArrayBuffer]\"));\n}\n","'use strict';\n\nvar callBound = require('call-bound');\nvar safeRegexTest = require('safe-regex-test');\nvar isFnRegex = safeRegexTest(/^\\s*(?:function)?\\*/);\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar getProto = require('get-proto');\n\nvar toStr = callBound('Object.prototype.toString');\nvar fnToStr = callBound('Function.prototype.toString');\n\nvar getGeneratorFunction = require('generator-function');\n\n/** @type {import('.')} */\nmodule.exports = function isGeneratorFunction(fn) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (isFnRegex(fnToStr(fn))) {\n\t\treturn true;\n\t}\n\tif (!hasToStringTag) {\n\t\tvar str = toStr(fn);\n\t\treturn str === '[object GeneratorFunction]';\n\t}\n\tif (!getProto) {\n\t\treturn false;\n\t}\n\tvar GeneratorFunction = getGeneratorFunction();\n\treturn GeneratorFunction && getProto(fn) === GeneratorFunction.prototype;\n};\n","// Currently in sync with Node.js lib/internal/util/types.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n\n'use strict';\n\nvar isArgumentsObject = require('is-arguments');\nvar isGeneratorFunction = require('is-generator-function');\nvar whichTypedArray = require('which-typed-array');\nvar isTypedArray = require('is-typed-array');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar BigIntSupported = typeof BigInt !== 'undefined';\nvar SymbolSupported = typeof Symbol !== 'undefined';\n\nvar ObjectToString = uncurryThis(Object.prototype.toString);\n\nvar numberValue = uncurryThis(Number.prototype.valueOf);\nvar stringValue = uncurryThis(String.prototype.valueOf);\nvar booleanValue = uncurryThis(Boolean.prototype.valueOf);\n\nif (BigIntSupported) {\n  var bigIntValue = uncurryThis(BigInt.prototype.valueOf);\n}\n\nif (SymbolSupported) {\n  var symbolValue = uncurryThis(Symbol.prototype.valueOf);\n}\n\nfunction checkBoxedPrimitive(value, prototypeValueOf) {\n  if (typeof value !== 'object') {\n    return false;\n  }\n  try {\n    prototypeValueOf(value);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\nexports.isArgumentsObject = isArgumentsObject;\nexports.isGeneratorFunction = isGeneratorFunction;\nexports.isTypedArray = isTypedArray;\n\n// Taken from here and modified for better browser support\n// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js\nfunction isPromise(input) {\n\treturn (\n\t\t(\n\t\t\ttypeof Promise !== 'undefined' &&\n\t\t\tinput instanceof Promise\n\t\t) ||\n\t\t(\n\t\t\tinput !== null &&\n\t\t\ttypeof input === 'object' &&\n\t\t\ttypeof input.then === 'function' &&\n\t\t\ttypeof input.catch === 'function'\n\t\t)\n\t);\n}\nexports.isPromise = isPromise;\n\nfunction isArrayBufferView(value) {\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    return ArrayBuffer.isView(value);\n  }\n\n  return (\n    isTypedArray(value) ||\n    isDataView(value)\n  );\n}\nexports.isArrayBufferView = isArrayBufferView;\n\n\nfunction isUint8Array(value) {\n  return whichTypedArray(value) === 'Uint8Array';\n}\nexports.isUint8Array = isUint8Array;\n\nfunction isUint8ClampedArray(value) {\n  return whichTypedArray(value) === 'Uint8ClampedArray';\n}\nexports.isUint8ClampedArray = isUint8ClampedArray;\n\nfunction isUint16Array(value) {\n  return whichTypedArray(value) === 'Uint16Array';\n}\nexports.isUint16Array = isUint16Array;\n\nfunction isUint32Array(value) {\n  return whichTypedArray(value) === 'Uint32Array';\n}\nexports.isUint32Array = isUint32Array;\n\nfunction isInt8Array(value) {\n  return whichTypedArray(value) === 'Int8Array';\n}\nexports.isInt8Array = isInt8Array;\n\nfunction isInt16Array(value) {\n  return whichTypedArray(value) === 'Int16Array';\n}\nexports.isInt16Array = isInt16Array;\n\nfunction isInt32Array(value) {\n  return whichTypedArray(value) === 'Int32Array';\n}\nexports.isInt32Array = isInt32Array;\n\nfunction isFloat32Array(value) {\n  return whichTypedArray(value) === 'Float32Array';\n}\nexports.isFloat32Array = isFloat32Array;\n\nfunction isFloat64Array(value) {\n  return whichTypedArray(value) === 'Float64Array';\n}\nexports.isFloat64Array = isFloat64Array;\n\nfunction isBigInt64Array(value) {\n  return whichTypedArray(value) === 'BigInt64Array';\n}\nexports.isBigInt64Array = isBigInt64Array;\n\nfunction isBigUint64Array(value) {\n  return whichTypedArray(value) === 'BigUint64Array';\n}\nexports.isBigUint64Array = isBigUint64Array;\n\nfunction isMapToString(value) {\n  return ObjectToString(value) === '[object Map]';\n}\nisMapToString.working = (\n  typeof Map !== 'undefined' &&\n  isMapToString(new Map())\n);\n\nfunction isMap(value) {\n  if (typeof Map === 'undefined') {\n    return false;\n  }\n\n  return isMapToString.working\n    ? isMapToString(value)\n    : value instanceof Map;\n}\nexports.isMap = isMap;\n\nfunction isSetToString(value) {\n  return ObjectToString(value) === '[object Set]';\n}\nisSetToString.working = (\n  typeof Set !== 'undefined' &&\n  isSetToString(new Set())\n);\nfunction isSet(value) {\n  if (typeof Set === 'undefined') {\n    return false;\n  }\n\n  return isSetToString.working\n    ? isSetToString(value)\n    : value instanceof Set;\n}\nexports.isSet = isSet;\n\nfunction isWeakMapToString(value) {\n  return ObjectToString(value) === '[object WeakMap]';\n}\nisWeakMapToString.working = (\n  typeof WeakMap !== 'undefined' &&\n  isWeakMapToString(new WeakMap())\n);\nfunction isWeakMap(value) {\n  if (typeof WeakMap === 'undefined') {\n    return false;\n  }\n\n  return isWeakMapToString.working\n    ? isWeakMapToString(value)\n    : value instanceof WeakMap;\n}\nexports.isWeakMap = isWeakMap;\n\nfunction isWeakSetToString(value) {\n  return ObjectToString(value) === '[object WeakSet]';\n}\nisWeakSetToString.working = (\n  typeof WeakSet !== 'undefined' &&\n  isWeakSetToString(new WeakSet())\n);\nfunction isWeakSet(value) {\n  return isWeakSetToString(value);\n}\nexports.isWeakSet = isWeakSet;\n\nfunction isArrayBufferToString(value) {\n  return ObjectToString(value) === '[object ArrayBuffer]';\n}\nisArrayBufferToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  isArrayBufferToString(new ArrayBuffer())\n);\nfunction isArrayBuffer(value) {\n  if (typeof ArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isArrayBufferToString.working\n    ? isArrayBufferToString(value)\n    : value instanceof ArrayBuffer;\n}\nexports.isArrayBuffer = isArrayBuffer;\n\nfunction isDataViewToString(value) {\n  return ObjectToString(value) === '[object DataView]';\n}\nisDataViewToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  typeof DataView !== 'undefined' &&\n  isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1))\n);\nfunction isDataView(value) {\n  if (typeof DataView === 'undefined') {\n    return false;\n  }\n\n  return isDataViewToString.working\n    ? isDataViewToString(value)\n    : value instanceof DataView;\n}\nexports.isDataView = isDataView;\n\n// Store a copy of SharedArrayBuffer in case it's deleted elsewhere\nvar SharedArrayBufferCopy = typeof SharedArrayBuffer !== 'undefined' ? SharedArrayBuffer : undefined;\nfunction isSharedArrayBufferToString(value) {\n  return ObjectToString(value) === '[object SharedArrayBuffer]';\n}\nfunction isSharedArrayBuffer(value) {\n  if (typeof SharedArrayBufferCopy === 'undefined') {\n    return false;\n  }\n\n  if (typeof isSharedArrayBufferToString.working === 'undefined') {\n    isSharedArrayBufferToString.working = isSharedArrayBufferToString(new SharedArrayBufferCopy());\n  }\n\n  return isSharedArrayBufferToString.working\n    ? isSharedArrayBufferToString(value)\n    : value instanceof SharedArrayBufferCopy;\n}\nexports.isSharedArrayBuffer = isSharedArrayBuffer;\n\nfunction isAsyncFunction(value) {\n  return ObjectToString(value) === '[object AsyncFunction]';\n}\nexports.isAsyncFunction = isAsyncFunction;\n\nfunction isMapIterator(value) {\n  return ObjectToString(value) === '[object Map Iterator]';\n}\nexports.isMapIterator = isMapIterator;\n\nfunction isSetIterator(value) {\n  return ObjectToString(value) === '[object Set Iterator]';\n}\nexports.isSetIterator = isSetIterator;\n\nfunction isGeneratorObject(value) {\n  return ObjectToString(value) === '[object Generator]';\n}\nexports.isGeneratorObject = isGeneratorObject;\n\nfunction isWebAssemblyCompiledModule(value) {\n  return ObjectToString(value) === '[object WebAssembly.Module]';\n}\nexports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;\n\nfunction isNumberObject(value) {\n  return checkBoxedPrimitive(value, numberValue);\n}\nexports.isNumberObject = isNumberObject;\n\nfunction isStringObject(value) {\n  return checkBoxedPrimitive(value, stringValue);\n}\nexports.isStringObject = isStringObject;\n\nfunction isBooleanObject(value) {\n  return checkBoxedPrimitive(value, booleanValue);\n}\nexports.isBooleanObject = isBooleanObject;\n\nfunction isBigIntObject(value) {\n  return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);\n}\nexports.isBigIntObject = isBigIntObject;\n\nfunction isSymbolObject(value) {\n  return SymbolSupported && checkBoxedPrimitive(value, symbolValue);\n}\nexports.isSymbolObject = isSymbolObject;\n\nfunction isBoxedPrimitive(value) {\n  return (\n    isNumberObject(value) ||\n    isStringObject(value) ||\n    isBooleanObject(value) ||\n    isBigIntObject(value) ||\n    isSymbolObject(value)\n  );\n}\nexports.isBoxedPrimitive = isBoxedPrimitive;\n\nfunction isAnyArrayBuffer(value) {\n  return typeof Uint8Array !== 'undefined' && (\n    isArrayBuffer(value) ||\n    isSharedArrayBuffer(value)\n  );\n}\nexports.isAnyArrayBuffer = isAnyArrayBuffer;\n\n['isProxy', 'isExternal', 'isModuleNamespaceObject'].forEach(function(method) {\n  Object.defineProperty(exports, method, {\n    enumerable: false,\n    value: function() {\n      throw new Error(method + ' is not supported in userland');\n    }\n  });\n});\n","import { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nexport async function copyFile(context, filename, destination, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filename)),\n        method: \"COPY\",\n        headers: {\n            Destination: joinURL(context.remoteURL, encodePath(destination)),\n            /**\n             * From RFC4918 section 10.6: If the overwrite header is not included in a COPY or MOVE request,\n             * then the resource MUST treat the request as if it has an overwrite header of value \"T\".\n             *\n             * Meaning the overwrite header is always set to \"T\" EXCEPT the option is explicitly set to false.\n             */\n            Overwrite: options.overwrite === false ? \"F\" : \"T\",\n            /**\n             * From RFC4918 section 9.8.3: A client may submit a Depth header on a COPY on a collection with a value of \"0\"\n             * or \"infinity\". The COPY method on a collection without a Depth header MUST act as if\n             * a Depth header with value \"infinity\" was included.\n             */\n            Depth: options.shallow ? \"0\" : \"infinity\"\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n}\n","'use strict';\n///@ts-check\n\nconst util = require('../util');\nconst xmlNode = require('./xmlNode');\nconst readDocType = require(\"./DocTypeReader\");\nconst toNumber = require(\"strnum\");\nconst getIgnoreAttributesFn = require('../ignoreAttributes')\n\n// const regx =\n//   '<((!\\\\[CDATA\\\\[([\\\\s\\\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\\\/)(NAME)\\\\s*>))([^<]*)'\n//   .replace(/NAME/g, util.nameRegexp);\n\n//const tagsRegx = new RegExp(\"<(\\\\/?[\\\\w:\\\\-\\._]+)([^>]*)>(\\\\s*\"+cdataRegx+\")*([^<]+)?\",\"g\");\n//const tagsRegx = new RegExp(\"<(\\\\/?)((\\\\w*:)?([\\\\w:\\\\-\\._]+))([^>]*)>([^<]*)(\"+cdataRegx+\"([^<]*))*([^<]+)?\",\"g\");\n\nclass OrderedObjParser{\n  constructor(options){\n    this.options = options;\n    this.currentNode = null;\n    this.tagsNodeStack = [];\n    this.docTypeEntities = {};\n    this.lastEntities = {\n      \"apos\" : { regex: /&(apos|#39|#x27);/g, val : \"'\"},\n      \"gt\" : { regex: /&(gt|#62|#x3E);/g, val : \">\"},\n      \"lt\" : { regex: /&(lt|#60|#x3C);/g, val : \"<\"},\n      \"quot\" : { regex: /&(quot|#34|#x22);/g, val : \"\\\"\"},\n    };\n    this.ampEntity = { regex: /&(amp|#38|#x26);/g, val : \"&\"};\n    this.htmlEntities = {\n      \"space\": { regex: /&(nbsp|#160);/g, val: \" \" },\n      // \"lt\" : { regex: /&(lt|#60);/g, val: \"<\" },\n      // \"gt\" : { regex: /&(gt|#62);/g, val: \">\" },\n      // \"amp\" : { regex: /&(amp|#38);/g, val: \"&\" },\n      // \"quot\" : { regex: /&(quot|#34);/g, val: \"\\\"\" },\n      // \"apos\" : { regex: /&(apos|#39);/g, val: \"'\" },\n      \"cent\" : { regex: /&(cent|#162);/g, val: \"\" },\n      \"pound\" : { regex: /&(pound|#163);/g, val: \"\" },\n      \"yen\" : { regex: /&(yen|#165);/g, val: \"\" },\n      \"euro\" : { regex: /&(euro|#8364);/g, val: \"\" },\n      \"copyright\" : { regex: /&(copy|#169);/g, val: \"\" },\n      \"reg\" : { regex: /&(reg|#174);/g, val: \"\" },\n      \"inr\" : { regex: /&(inr|#8377);/g, val: \"\" },\n      \"num_dec\": { regex: /&#([0-9]{1,7});/g, val : (_, str) => String.fromCharCode(Number.parseInt(str, 10)) },\n      \"num_hex\": { regex: /&#x([0-9a-fA-F]{1,6});/g, val : (_, str) => String.fromCharCode(Number.parseInt(str, 16)) },\n    };\n    this.addExternalEntities = addExternalEntities;\n    this.parseXml = parseXml;\n    this.parseTextData = parseTextData;\n    this.resolveNameSpace = resolveNameSpace;\n    this.buildAttributesMap = buildAttributesMap;\n    this.isItStopNode = isItStopNode;\n    this.replaceEntitiesValue = replaceEntitiesValue;\n    this.readStopNodeData = readStopNodeData;\n    this.saveTextToParentTag = saveTextToParentTag;\n    this.addChild = addChild;\n    this.ignoreAttributesFn = getIgnoreAttributesFn(this.options.ignoreAttributes)\n  }\n\n}\n\nfunction addExternalEntities(externalEntities){\n  const entKeys = Object.keys(externalEntities);\n  for (let i = 0; i < entKeys.length; i++) {\n    const ent = entKeys[i];\n    this.lastEntities[ent] = {\n       regex: new RegExp(\"&\"+ent+\";\",\"g\"),\n       val : externalEntities[ent]\n    }\n  }\n}\n\n/**\n * @param {string} val\n * @param {string} tagName\n * @param {string} jPath\n * @param {boolean} dontTrim\n * @param {boolean} hasAttributes\n * @param {boolean} isLeafNode\n * @param {boolean} escapeEntities\n */\nfunction parseTextData(val, tagName, jPath, dontTrim, hasAttributes, isLeafNode, escapeEntities) {\n  if (val !== undefined) {\n    if (this.options.trimValues && !dontTrim) {\n      val = val.trim();\n    }\n    if(val.length > 0){\n      if(!escapeEntities) val = this.replaceEntitiesValue(val);\n      \n      const newval = this.options.tagValueProcessor(tagName, val, jPath, hasAttributes, isLeafNode);\n      if(newval === null || newval === undefined){\n        //don't parse\n        return val;\n      }else if(typeof newval !== typeof val || newval !== val){\n        //overwrite\n        return newval;\n      }else if(this.options.trimValues){\n        return parseValue(val, this.options.parseTagValue, this.options.numberParseOptions);\n      }else{\n        const trimmedVal = val.trim();\n        if(trimmedVal === val){\n          return parseValue(val, this.options.parseTagValue, this.options.numberParseOptions);\n        }else{\n          return val;\n        }\n      }\n    }\n  }\n}\n\nfunction resolveNameSpace(tagname) {\n  if (this.options.removeNSPrefix) {\n    const tags = tagname.split(':');\n    const prefix = tagname.charAt(0) === '/' ? '/' : '';\n    if (tags[0] === 'xmlns') {\n      return '';\n    }\n    if (tags.length === 2) {\n      tagname = prefix + tags[1];\n    }\n  }\n  return tagname;\n}\n\n//TODO: change regex to capture NS\n//const attrsRegx = new RegExp(\"([\\\\w\\\\-\\\\.\\\\:]+)\\\\s*=\\\\s*(['\\\"])((.|\\n)*?)\\\\2\",\"gm\");\nconst attrsRegx = new RegExp('([^\\\\s=]+)\\\\s*(=\\\\s*([\\'\"])([\\\\s\\\\S]*?)\\\\3)?', 'gm');\n\nfunction buildAttributesMap(attrStr, jPath, tagName) {\n  if (this.options.ignoreAttributes !== true && typeof attrStr === 'string') {\n    // attrStr = attrStr.replace(/\\r?\\n/g, ' ');\n    //attrStr = attrStr || attrStr.trim();\n\n    const matches = util.getAllMatches(attrStr, attrsRegx);\n    const len = matches.length; //don't make it inline\n    const attrs = {};\n    for (let i = 0; i < len; i++) {\n      const attrName = this.resolveNameSpace(matches[i][1]);\n      if (this.ignoreAttributesFn(attrName, jPath)) {\n        continue\n      }\n      let oldVal = matches[i][4];\n      let aName = this.options.attributeNamePrefix + attrName;\n      if (attrName.length) {\n        if (this.options.transformAttributeName) {\n          aName = this.options.transformAttributeName(aName);\n        }\n        if(aName === \"__proto__\") aName  = \"#__proto__\";\n        if (oldVal !== undefined) {\n          if (this.options.trimValues) {\n            oldVal = oldVal.trim();\n          }\n          oldVal = this.replaceEntitiesValue(oldVal);\n          const newVal = this.options.attributeValueProcessor(attrName, oldVal, jPath);\n          if(newVal === null || newVal === undefined){\n            //don't parse\n            attrs[aName] = oldVal;\n          }else if(typeof newVal !== typeof oldVal || newVal !== oldVal){\n            //overwrite\n            attrs[aName] = newVal;\n          }else{\n            //parse\n            attrs[aName] = parseValue(\n              oldVal,\n              this.options.parseAttributeValue,\n              this.options.numberParseOptions\n            );\n          }\n        } else if (this.options.allowBooleanAttributes) {\n          attrs[aName] = true;\n        }\n      }\n    }\n    if (!Object.keys(attrs).length) {\n      return;\n    }\n    if (this.options.attributesGroupName) {\n      const attrCollection = {};\n      attrCollection[this.options.attributesGroupName] = attrs;\n      return attrCollection;\n    }\n    return attrs\n  }\n}\n\nconst parseXml = function(xmlData) {\n  xmlData = xmlData.replace(/\\r\\n?/g, \"\\n\"); //TODO: remove this line\n  const xmlObj = new xmlNode('!xml');\n  let currentNode = xmlObj;\n  let textData = \"\";\n  let jPath = \"\";\n  for(let i=0; i< xmlData.length; i++){//for each char in XML data\n    const ch = xmlData[i];\n    if(ch === '<'){\n      // const nextIndex = i+1;\n      // const _2ndChar = xmlData[nextIndex];\n      if( xmlData[i+1] === '/') {//Closing Tag\n        const closeIndex = findClosingIndex(xmlData, \">\", i, \"Closing Tag is not closed.\")\n        let tagName = xmlData.substring(i+2,closeIndex).trim();\n\n        if(this.options.removeNSPrefix){\n          const colonIndex = tagName.indexOf(\":\");\n          if(colonIndex !== -1){\n            tagName = tagName.substr(colonIndex+1);\n          }\n        }\n\n        if(this.options.transformTagName) {\n          tagName = this.options.transformTagName(tagName);\n        }\n\n        if(currentNode){\n          textData = this.saveTextToParentTag(textData, currentNode, jPath);\n        }\n\n        //check if last tag of nested tag was unpaired tag\n        const lastTagName = jPath.substring(jPath.lastIndexOf(\".\")+1);\n        if(tagName && this.options.unpairedTags.indexOf(tagName) !== -1 ){\n          throw new Error(`Unpaired tag can not be used as closing tag: </${tagName}>`);\n        }\n        let propIndex = 0\n        if(lastTagName && this.options.unpairedTags.indexOf(lastTagName) !== -1 ){\n          propIndex = jPath.lastIndexOf('.', jPath.lastIndexOf('.')-1)\n          this.tagsNodeStack.pop();\n        }else{\n          propIndex = jPath.lastIndexOf(\".\");\n        }\n        jPath = jPath.substring(0, propIndex);\n\n        currentNode = this.tagsNodeStack.pop();//avoid recursion, set the parent tag scope\n        textData = \"\";\n        i = closeIndex;\n      } else if( xmlData[i+1] === '?') {\n\n        let tagData = readTagExp(xmlData,i, false, \"?>\");\n        if(!tagData) throw new Error(\"Pi Tag is not closed.\");\n\n        textData = this.saveTextToParentTag(textData, currentNode, jPath);\n        if( (this.options.ignoreDeclaration && tagData.tagName === \"?xml\") || this.options.ignorePiTags){\n\n        }else{\n  \n          const childNode = new xmlNode(tagData.tagName);\n          childNode.add(this.options.textNodeName, \"\");\n          \n          if(tagData.tagName !== tagData.tagExp && tagData.attrExpPresent){\n            childNode[\":@\"] = this.buildAttributesMap(tagData.tagExp, jPath, tagData.tagName);\n          }\n          this.addChild(currentNode, childNode, jPath)\n\n        }\n\n\n        i = tagData.closeIndex + 1;\n      } else if(xmlData.substr(i + 1, 3) === '!--') {\n        const endIndex = findClosingIndex(xmlData, \"-->\", i+4, \"Comment is not closed.\")\n        if(this.options.commentPropName){\n          const comment = xmlData.substring(i + 4, endIndex - 2);\n\n          textData = this.saveTextToParentTag(textData, currentNode, jPath);\n\n          currentNode.add(this.options.commentPropName, [ { [this.options.textNodeName] : comment } ]);\n        }\n        i = endIndex;\n      } else if( xmlData.substr(i + 1, 2) === '!D') {\n        const result = readDocType(xmlData, i);\n        this.docTypeEntities = result.entities;\n        i = result.i;\n      }else if(xmlData.substr(i + 1, 2) === '![') {\n        const closeIndex = findClosingIndex(xmlData, \"]]>\", i, \"CDATA is not closed.\") - 2;\n        const tagExp = xmlData.substring(i + 9,closeIndex);\n\n        textData = this.saveTextToParentTag(textData, currentNode, jPath);\n\n        let val = this.parseTextData(tagExp, currentNode.tagname, jPath, true, false, true, true);\n        if(val == undefined) val = \"\";\n\n        //cdata should be set even if it is 0 length string\n        if(this.options.cdataPropName){\n          currentNode.add(this.options.cdataPropName, [ { [this.options.textNodeName] : tagExp } ]);\n        }else{\n          currentNode.add(this.options.textNodeName, val);\n        }\n        \n        i = closeIndex + 2;\n      }else {//Opening tag\n        let result = readTagExp(xmlData,i, this.options.removeNSPrefix);\n        let tagName= result.tagName;\n        const rawTagName = result.rawTagName;\n        let tagExp = result.tagExp;\n        let attrExpPresent = result.attrExpPresent;\n        let closeIndex = result.closeIndex;\n\n        if (this.options.transformTagName) {\n          tagName = this.options.transformTagName(tagName);\n        }\n        \n        //save text as child node\n        if (currentNode && textData) {\n          if(currentNode.tagname !== '!xml'){\n            //when nested tag is found\n            textData = this.saveTextToParentTag(textData, currentNode, jPath, false);\n          }\n        }\n\n        //check if last tag was unpaired tag\n        const lastTag = currentNode;\n        if(lastTag && this.options.unpairedTags.indexOf(lastTag.tagname) !== -1 ){\n          currentNode = this.tagsNodeStack.pop();\n          jPath = jPath.substring(0, jPath.lastIndexOf(\".\"));\n        }\n        if(tagName !== xmlObj.tagname){\n          jPath += jPath ? \".\" + tagName : tagName;\n        }\n        if (this.isItStopNode(this.options.stopNodes, jPath, tagName)) {\n          let tagContent = \"\";\n          //self-closing tag\n          if(tagExp.length > 0 && tagExp.lastIndexOf(\"/\") === tagExp.length - 1){\n            if(tagName[tagName.length - 1] === \"/\"){ //remove trailing '/'\n              tagName = tagName.substr(0, tagName.length - 1);\n              jPath = jPath.substr(0, jPath.length - 1);\n              tagExp = tagName;\n            }else{\n              tagExp = tagExp.substr(0, tagExp.length - 1);\n            }\n            i = result.closeIndex;\n          }\n          //unpaired tag\n          else if(this.options.unpairedTags.indexOf(tagName) !== -1){\n            \n            i = result.closeIndex;\n          }\n          //normal tag\n          else{\n            //read until closing tag is found\n            const result = this.readStopNodeData(xmlData, rawTagName, closeIndex + 1);\n            if(!result) throw new Error(`Unexpected end of ${rawTagName}`);\n            i = result.i;\n            tagContent = result.tagContent;\n          }\n\n          const childNode = new xmlNode(tagName);\n          if(tagName !== tagExp && attrExpPresent){\n            childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n          }\n          if(tagContent) {\n            tagContent = this.parseTextData(tagContent, tagName, jPath, true, attrExpPresent, true, true);\n          }\n          \n          jPath = jPath.substr(0, jPath.lastIndexOf(\".\"));\n          childNode.add(this.options.textNodeName, tagContent);\n          \n          this.addChild(currentNode, childNode, jPath)\n        }else{\n  //selfClosing tag\n          if(tagExp.length > 0 && tagExp.lastIndexOf(\"/\") === tagExp.length - 1){\n            if(tagName[tagName.length - 1] === \"/\"){ //remove trailing '/'\n              tagName = tagName.substr(0, tagName.length - 1);\n              jPath = jPath.substr(0, jPath.length - 1);\n              tagExp = tagName;\n            }else{\n              tagExp = tagExp.substr(0, tagExp.length - 1);\n            }\n            \n            if(this.options.transformTagName) {\n              tagName = this.options.transformTagName(tagName);\n            }\n\n            const childNode = new xmlNode(tagName);\n            if(tagName !== tagExp && attrExpPresent){\n              childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n            }\n            this.addChild(currentNode, childNode, jPath)\n            jPath = jPath.substr(0, jPath.lastIndexOf(\".\"));\n          }\n    //opening tag\n          else{\n            const childNode = new xmlNode( tagName);\n            this.tagsNodeStack.push(currentNode);\n            \n            if(tagName !== tagExp && attrExpPresent){\n              childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n            }\n            this.addChild(currentNode, childNode, jPath)\n            currentNode = childNode;\n          }\n          textData = \"\";\n          i = closeIndex;\n        }\n      }\n    }else{\n      textData += xmlData[i];\n    }\n  }\n  return xmlObj.child;\n}\n\nfunction addChild(currentNode, childNode, jPath){\n  const result = this.options.updateTag(childNode.tagname, jPath, childNode[\":@\"])\n  if(result === false){\n  }else if(typeof result === \"string\"){\n    childNode.tagname = result\n    currentNode.addChild(childNode);\n  }else{\n    currentNode.addChild(childNode);\n  }\n}\n\nconst replaceEntitiesValue = function(val){\n\n  if(this.options.processEntities){\n    for(let entityName in this.docTypeEntities){\n      const entity = this.docTypeEntities[entityName];\n      val = val.replace( entity.regx, entity.val);\n    }\n    for(let entityName in this.lastEntities){\n      const entity = this.lastEntities[entityName];\n      val = val.replace( entity.regex, entity.val);\n    }\n    if(this.options.htmlEntities){\n      for(let entityName in this.htmlEntities){\n        const entity = this.htmlEntities[entityName];\n        val = val.replace( entity.regex, entity.val);\n      }\n    }\n    val = val.replace( this.ampEntity.regex, this.ampEntity.val);\n  }\n  return val;\n}\nfunction saveTextToParentTag(textData, currentNode, jPath, isLeafNode) {\n  if (textData) { //store previously collected data as textNode\n    if(isLeafNode === undefined) isLeafNode = currentNode.child.length === 0\n    \n    textData = this.parseTextData(textData,\n      currentNode.tagname,\n      jPath,\n      false,\n      currentNode[\":@\"] ? Object.keys(currentNode[\":@\"]).length !== 0 : false,\n      isLeafNode);\n\n    if (textData !== undefined && textData !== \"\")\n      currentNode.add(this.options.textNodeName, textData);\n    textData = \"\";\n  }\n  return textData;\n}\n\n//TODO: use jPath to simplify the logic\n/**\n * \n * @param {string[]} stopNodes \n * @param {string} jPath\n * @param {string} currentTagName \n */\nfunction isItStopNode(stopNodes, jPath, currentTagName){\n  const allNodesExp = \"*.\" + currentTagName;\n  for (const stopNodePath in stopNodes) {\n    const stopNodeExp = stopNodes[stopNodePath];\n    if( allNodesExp === stopNodeExp || jPath === stopNodeExp  ) return true;\n  }\n  return false;\n}\n\n/**\n * Returns the tag Expression and where it is ending handling single-double quotes situation\n * @param {string} xmlData \n * @param {number} i starting index\n * @returns \n */\nfunction tagExpWithClosingIndex(xmlData, i, closingChar = \">\"){\n  let attrBoundary;\n  let tagExp = \"\";\n  for (let index = i; index < xmlData.length; index++) {\n    let ch = xmlData[index];\n    if (attrBoundary) {\n        if (ch === attrBoundary) attrBoundary = \"\";//reset\n    } else if (ch === '\"' || ch === \"'\") {\n        attrBoundary = ch;\n    } else if (ch === closingChar[0]) {\n      if(closingChar[1]){\n        if(xmlData[index + 1] === closingChar[1]){\n          return {\n            data: tagExp,\n            index: index\n          }\n        }\n      }else{\n        return {\n          data: tagExp,\n          index: index\n        }\n      }\n    } else if (ch === '\\t') {\n      ch = \" \"\n    }\n    tagExp += ch;\n  }\n}\n\nfunction findClosingIndex(xmlData, str, i, errMsg){\n  const closingIndex = xmlData.indexOf(str, i);\n  if(closingIndex === -1){\n    throw new Error(errMsg)\n  }else{\n    return closingIndex + str.length - 1;\n  }\n}\n\nfunction readTagExp(xmlData,i, removeNSPrefix, closingChar = \">\"){\n  const result = tagExpWithClosingIndex(xmlData, i+1, closingChar);\n  if(!result) return;\n  let tagExp = result.data;\n  const closeIndex = result.index;\n  const separatorIndex = tagExp.search(/\\s/);\n  let tagName = tagExp;\n  let attrExpPresent = true;\n  if(separatorIndex !== -1){//separate tag name and attributes expression\n    tagName = tagExp.substring(0, separatorIndex);\n    tagExp = tagExp.substring(separatorIndex + 1).trimStart();\n  }\n\n  const rawTagName = tagName;\n  if(removeNSPrefix){\n    const colonIndex = tagName.indexOf(\":\");\n    if(colonIndex !== -1){\n      tagName = tagName.substr(colonIndex+1);\n      attrExpPresent = tagName !== result.data.substr(colonIndex + 1);\n    }\n  }\n\n  return {\n    tagName: tagName,\n    tagExp: tagExp,\n    closeIndex: closeIndex,\n    attrExpPresent: attrExpPresent,\n    rawTagName: rawTagName,\n  }\n}\n/**\n * find paired tag for a stop node\n * @param {string} xmlData \n * @param {string} tagName \n * @param {number} i \n */\nfunction readStopNodeData(xmlData, tagName, i){\n  const startIndex = i;\n  // Starting at 1 since we already have an open tag\n  let openTagCount = 1;\n\n  for (; i < xmlData.length; i++) {\n    if( xmlData[i] === \"<\"){ \n      if (xmlData[i+1] === \"/\") {//close tag\n          const closeIndex = findClosingIndex(xmlData, \">\", i, `${tagName} is not closed`);\n          let closeTagName = xmlData.substring(i+2,closeIndex).trim();\n          if(closeTagName === tagName){\n            openTagCount--;\n            if (openTagCount === 0) {\n              return {\n                tagContent: xmlData.substring(startIndex, i),\n                i : closeIndex\n              }\n            }\n          }\n          i=closeIndex;\n        } else if(xmlData[i+1] === '?') { \n          const closeIndex = findClosingIndex(xmlData, \"?>\", i+1, \"StopNode is not closed.\")\n          i=closeIndex;\n        } else if(xmlData.substr(i + 1, 3) === '!--') { \n          const closeIndex = findClosingIndex(xmlData, \"-->\", i+3, \"StopNode is not closed.\")\n          i=closeIndex;\n        } else if(xmlData.substr(i + 1, 2) === '![') { \n          const closeIndex = findClosingIndex(xmlData, \"]]>\", i, \"StopNode is not closed.\") - 2;\n          i=closeIndex;\n        } else {\n          const tagData = readTagExp(xmlData, i, '>')\n\n          if (tagData) {\n            const openTagName = tagData && tagData.tagName;\n            if (openTagName === tagName && tagData.tagExp[tagData.tagExp.length-1] !== \"/\") {\n              openTagCount++;\n            }\n            i=tagData.closeIndex;\n          }\n        }\n      }\n  }//end for loop\n}\n\nfunction parseValue(val, shouldParse, options) {\n  if (shouldParse && typeof val === 'string') {\n    //console.log(options)\n    const newval = val.trim();\n    if(newval === 'true' ) return true;\n    else if(newval === 'false' ) return false;\n    else return toNumber(val, options);\n  } else {\n    if (util.isExist(val)) {\n      return val;\n    } else {\n      return '';\n    }\n  }\n}\n\n\nmodule.exports = OrderedObjParser;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\nvar Buffer = require('buffer').Buffer;\nvar OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/buffer_list');\nvar destroyImpl = require('./internal/streams/destroy');\nvar _require = require('./internal/streams/state'),\n  getHighWaterMark = _require.getHighWaterMark;\nvar _require$codes = require('../errors').codes,\n  ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n  ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;\n\n// Lazy loaded to improve the startup performance.\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\nrequire('inherits')(Readable, Stream);\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true;\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = options.emitClose !== false;\n\n  // Should .destroy() be called after 'end' (and potentially 'finish')\n  this.autoDestroy = !!options.autoDestroy;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex);\n\n  // legacy\n  this.readable = true;\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n  Stream.call(this);\n}\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  }\n\n  // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n  return er;\n}\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder;\n  // If setEncoding(null), decoder.encoding equals utf8\n  this._readableState.encoding = this._readableState.decoder.encoding;\n\n  // Iterate over current buffer to convert already stored Buffers:\n  var p = this._readableState.buffer.head;\n  var content = '';\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n  this._readableState.buffer.clear();\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n};\n\n// Don't raise the hwm > 1GB\nvar MAX_HWM = 0x40000000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  }\n\n  // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n  return dest;\n};\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    for (var i = 0; i < len; i++) dests[i].emit('unpipe', this, {\n      hasUnpiped: false\n    });\n    return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0;\n\n    // Try start flowing on next tick if stream isn't explicitly paused\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n  return res;\n};\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n  return res;\n};\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true;\n\n    // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n  state.paused = false;\n  return this;\n};\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n  if (!state.reading) {\n    stream.read(0);\n  }\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  this._readableState.paused = true;\n  return this;\n};\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null);\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n  return this;\n};\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n    return createReadableStreamAsyncIterator(this);\n  };\n}\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n});\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length);\n\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n    return from(Readable, iterable, opts);\n  };\n}\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","export function isBuffer(value) {\n    return (value != null &&\n        value.constructor != null &&\n        typeof value.constructor.isBuffer === \"function\" &&\n        value.constructor.isBuffer(value));\n}\n","const util = require('../util');\n\n//TODO: handle comments\nfunction readDocType(xmlData, i){\n    \n    const entities = {};\n    if( xmlData[i + 3] === 'O' &&\n         xmlData[i + 4] === 'C' &&\n         xmlData[i + 5] === 'T' &&\n         xmlData[i + 6] === 'Y' &&\n         xmlData[i + 7] === 'P' &&\n         xmlData[i + 8] === 'E')\n    {    \n        i = i+9;\n        let angleBracketsCount = 1;\n        let hasBody = false, comment = false;\n        let exp = \"\";\n        for(;i<xmlData.length;i++){\n            if (xmlData[i] === '<' && !comment) { //Determine the tag type\n                if( hasBody && isEntity(xmlData, i)){\n                    i += 7; \n                    let entityName, val;\n                    [entityName, val,i] = readEntityExp(xmlData,i+1);\n                    if(val.indexOf(\"&\") === -1) //Parameter entities are not supported\n                        entities[ validateEntityName(entityName) ] = {\n                            regx : RegExp( `&${entityName};`,\"g\"),\n                            val: val\n                        };\n                }\n                else if( hasBody && isElement(xmlData, i))  i += 8;//Not supported\n                else if( hasBody && isAttlist(xmlData, i))  i += 8;//Not supported\n                else if( hasBody && isNotation(xmlData, i)) i += 9;//Not supported\n                else if( isComment)                         comment = true;\n                else                                        throw new Error(\"Invalid DOCTYPE\");\n\n                angleBracketsCount++;\n                exp = \"\";\n            } else if (xmlData[i] === '>') { //Read tag content\n                if(comment){\n                    if( xmlData[i - 1] === \"-\" && xmlData[i - 2] === \"-\"){\n                        comment = false;\n                        angleBracketsCount--;\n                    }\n                }else{\n                    angleBracketsCount--;\n                }\n                if (angleBracketsCount === 0) {\n                  break;\n                }\n            }else if( xmlData[i] === '['){\n                hasBody = true;\n            }else{\n                exp += xmlData[i];\n            }\n        }\n        if(angleBracketsCount !== 0){\n            throw new Error(`Unclosed DOCTYPE`);\n        }\n    }else{\n        throw new Error(`Invalid Tag instead of DOCTYPE`);\n    }\n    return {entities, i};\n}\n\nfunction readEntityExp(xmlData,i){\n    //External entities are not supported\n    //    <!ENTITY ext SYSTEM \"http://normal-website.com\" >\n\n    //Parameter entities are not supported\n    //    <!ENTITY entityname \"&anotherElement;\">\n\n    //Internal entities are supported\n    //    <!ENTITY entityname \"replacement text\">\n    \n    //read EntityName\n    let entityName = \"\";\n    for (; i < xmlData.length && (xmlData[i] !== \"'\" && xmlData[i] !== '\"' ); i++) {\n        // if(xmlData[i] === \" \") continue;\n        // else \n        entityName += xmlData[i];\n    }\n    entityName = entityName.trim();\n    if(entityName.indexOf(\" \") !== -1) throw new Error(\"External entites are not supported\");\n\n    //read Entity Value\n    const startChar = xmlData[i++];\n    let val = \"\"\n    for (; i < xmlData.length && xmlData[i] !== startChar ; i++) {\n        val += xmlData[i];\n    }\n    return [entityName, val, i];\n}\n\nfunction isComment(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === '-' &&\n    xmlData[i+3] === '-') return true\n    return false\n}\nfunction isEntity(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === 'E' &&\n    xmlData[i+3] === 'N' &&\n    xmlData[i+4] === 'T' &&\n    xmlData[i+5] === 'I' &&\n    xmlData[i+6] === 'T' &&\n    xmlData[i+7] === 'Y') return true\n    return false\n}\nfunction isElement(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === 'E' &&\n    xmlData[i+3] === 'L' &&\n    xmlData[i+4] === 'E' &&\n    xmlData[i+5] === 'M' &&\n    xmlData[i+6] === 'E' &&\n    xmlData[i+7] === 'N' &&\n    xmlData[i+8] === 'T') return true\n    return false\n}\n\nfunction isAttlist(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === 'A' &&\n    xmlData[i+3] === 'T' &&\n    xmlData[i+4] === 'T' &&\n    xmlData[i+5] === 'L' &&\n    xmlData[i+6] === 'I' &&\n    xmlData[i+7] === 'S' &&\n    xmlData[i+8] === 'T') return true\n    return false\n}\nfunction isNotation(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === 'N' &&\n    xmlData[i+3] === 'O' &&\n    xmlData[i+4] === 'T' &&\n    xmlData[i+5] === 'A' &&\n    xmlData[i+6] === 'T' &&\n    xmlData[i+7] === 'I' &&\n    xmlData[i+8] === 'O' &&\n    xmlData[i+9] === 'N') return true\n    return false\n}\n\nfunction validateEntityName(name){\n    if (util.isName(name))\n\treturn name;\n    else\n        throw new Error(`Invalid entity name ${name}`);\n}\n\nmodule.exports = readDocType;\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar response = require('./response')\nvar stream = require('readable-stream')\n\nvar IncomingMessage = response.IncomingMessage\nvar rStates = response.readyStates\n\nfunction decideMode (preferBinary, useFetch) {\n\tif (capability.fetch && useFetch) {\n\t\treturn 'fetch'\n\t} else if (capability.mozchunkedarraybuffer) {\n\t\treturn 'moz-chunked-arraybuffer'\n\t} else if (capability.msstream) {\n\t\treturn 'ms-stream'\n\t} else if (capability.arraybuffer && preferBinary) {\n\t\treturn 'arraybuffer'\n\t} else {\n\t\treturn 'text'\n\t}\n}\n\nvar ClientRequest = module.exports = function (opts) {\n\tvar self = this\n\tstream.Writable.call(self)\n\n\tself._opts = opts\n\tself._body = []\n\tself._headers = {}\n\tif (opts.auth)\n\t\tself.setHeader('Authorization', 'Basic ' + Buffer.from(opts.auth).toString('base64'))\n\tObject.keys(opts.headers).forEach(function (name) {\n\t\tself.setHeader(name, opts.headers[name])\n\t})\n\n\tvar preferBinary\n\tvar useFetch = true\n\tif (opts.mode === 'disable-fetch' || ('requestTimeout' in opts && !capability.abortController)) {\n\t\t// If the use of XHR should be preferred. Not typically needed.\n\t\tuseFetch = false\n\t\tpreferBinary = true\n\t} else if (opts.mode === 'prefer-streaming') {\n\t\t// If streaming is a high priority but binary compatibility and\n\t\t// the accuracy of the 'content-type' header aren't\n\t\tpreferBinary = false\n\t} else if (opts.mode === 'allow-wrong-content-type') {\n\t\t// If streaming is more important than preserving the 'content-type' header\n\t\tpreferBinary = !capability.overrideMimeType\n\t} else if (!opts.mode || opts.mode === 'default' || opts.mode === 'prefer-fast') {\n\t\t// Use binary if text streaming may corrupt data or the content-type header, or for speed\n\t\tpreferBinary = true\n\t} else {\n\t\tthrow new Error('Invalid value for opts.mode')\n\t}\n\tself._mode = decideMode(preferBinary, useFetch)\n\tself._fetchTimer = null\n\tself._socketTimeout = null\n\tself._socketTimer = null\n\n\tself.on('finish', function () {\n\t\tself._onFinish()\n\t})\n}\n\ninherits(ClientRequest, stream.Writable)\n\nClientRequest.prototype.setHeader = function (name, value) {\n\tvar self = this\n\tvar lowerName = name.toLowerCase()\n\t// This check is not necessary, but it prevents warnings from browsers about setting unsafe\n\t// headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n\t// http-browserify did it, so I will too.\n\tif (unsafeHeaders.indexOf(lowerName) !== -1)\n\t\treturn\n\n\tself._headers[lowerName] = {\n\t\tname: name,\n\t\tvalue: value\n\t}\n}\n\nClientRequest.prototype.getHeader = function (name) {\n\tvar header = this._headers[name.toLowerCase()]\n\tif (header)\n\t\treturn header.value\n\treturn null\n}\n\nClientRequest.prototype.removeHeader = function (name) {\n\tvar self = this\n\tdelete self._headers[name.toLowerCase()]\n}\n\nClientRequest.prototype._onFinish = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\tvar opts = self._opts\n\n\tif ('timeout' in opts && opts.timeout !== 0) {\n\t\tself.setTimeout(opts.timeout)\n\t}\n\n\tvar headersObj = self._headers\n\tvar body = null\n\tif (opts.method !== 'GET' && opts.method !== 'HEAD') {\n        body = new Blob(self._body, {\n            type: (headersObj['content-type'] || {}).value || ''\n        });\n    }\n\n\t// create flattened list of headers\n\tvar headersList = []\n\tObject.keys(headersObj).forEach(function (keyName) {\n\t\tvar name = headersObj[keyName].name\n\t\tvar value = headersObj[keyName].value\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach(function (v) {\n\t\t\t\theadersList.push([name, v])\n\t\t\t})\n\t\t} else {\n\t\t\theadersList.push([name, value])\n\t\t}\n\t})\n\n\tif (self._mode === 'fetch') {\n\t\tvar signal = null\n\t\tif (capability.abortController) {\n\t\t\tvar controller = new AbortController()\n\t\t\tsignal = controller.signal\n\t\t\tself._fetchAbortController = controller\n\n\t\t\tif ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n\t\t\t\tself._fetchTimer = global.setTimeout(function () {\n\t\t\t\t\tself.emit('requestTimeout')\n\t\t\t\t\tif (self._fetchAbortController)\n\t\t\t\t\t\tself._fetchAbortController.abort()\n\t\t\t\t}, opts.requestTimeout)\n\t\t\t}\n\t\t}\n\n\t\tglobal.fetch(self._opts.url, {\n\t\t\tmethod: self._opts.method,\n\t\t\theaders: headersList,\n\t\t\tbody: body || undefined,\n\t\t\tmode: 'cors',\n\t\t\tcredentials: opts.withCredentials ? 'include' : 'same-origin',\n\t\t\tsignal: signal\n\t\t}).then(function (response) {\n\t\t\tself._fetchResponse = response\n\t\t\tself._resetTimers(false)\n\t\t\tself._connect()\n\t\t}, function (reason) {\n\t\t\tself._resetTimers(true)\n\t\t\tif (!self._destroyed)\n\t\t\t\tself.emit('error', reason)\n\t\t})\n\t} else {\n\t\tvar xhr = self._xhr = new global.XMLHttpRequest()\n\t\ttry {\n\t\t\txhr.open(self._opts.method, self._opts.url, true)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// Can't set responseType on really old browsers\n\t\tif ('responseType' in xhr)\n\t\t\txhr.responseType = self._mode\n\n\t\tif ('withCredentials' in xhr)\n\t\t\txhr.withCredentials = !!opts.withCredentials\n\n\t\tif (self._mode === 'text' && 'overrideMimeType' in xhr)\n\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined')\n\n\t\tif ('requestTimeout' in opts) {\n\t\t\txhr.timeout = opts.requestTimeout\n\t\t\txhr.ontimeout = function () {\n\t\t\t\tself.emit('requestTimeout')\n\t\t\t}\n\t\t}\n\n\t\theadersList.forEach(function (header) {\n\t\t\txhr.setRequestHeader(header[0], header[1])\n\t\t})\n\n\t\tself._response = null\n\t\txhr.onreadystatechange = function () {\n\t\t\tswitch (xhr.readyState) {\n\t\t\t\tcase rStates.LOADING:\n\t\t\t\tcase rStates.DONE:\n\t\t\t\t\tself._onXHRProgress()\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// Necessary for streaming in Firefox, since xhr.response is ONLY defined\n\t\t// in onprogress, not in onreadystatechange with xhr.readyState = 3\n\t\tif (self._mode === 'moz-chunked-arraybuffer') {\n\t\t\txhr.onprogress = function () {\n\t\t\t\tself._onXHRProgress()\n\t\t\t}\n\t\t}\n\n\t\txhr.onerror = function () {\n\t\t\tif (self._destroyed)\n\t\t\t\treturn\n\t\t\tself._resetTimers(true)\n\t\t\tself.emit('error', new Error('XHR error'))\n\t\t}\n\n\t\ttry {\n\t\t\txhr.send(body)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}\n}\n\n/**\n * Checks if xhr.status is readable and non-zero, indicating no error.\n * Even though the spec says it should be available in readyState 3,\n * accessing it throws an exception in IE8\n */\nfunction statusValid (xhr) {\n\ttry {\n\t\tvar status = xhr.status\n\t\treturn (status !== null && status !== 0)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\nClientRequest.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tself._resetTimers(false)\n\n\tif (!statusValid(self._xhr) || self._destroyed)\n\t\treturn\n\n\tif (!self._response)\n\t\tself._connect()\n\n\tself._response._onXHRProgress(self._resetTimers.bind(self))\n}\n\nClientRequest.prototype._connect = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\n\tself._response = new IncomingMessage(self._xhr, self._fetchResponse, self._mode, self._resetTimers.bind(self))\n\tself._response.on('error', function(err) {\n\t\tself.emit('error', err)\n\t})\n\n\tself.emit('response', self._response)\n}\n\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n\tvar self = this\n\n\tself._body.push(chunk)\n\tcb()\n}\n\nClientRequest.prototype._resetTimers = function (done) {\n\tvar self = this\n\n\tglobal.clearTimeout(self._socketTimer)\n\tself._socketTimer = null\n\n\tif (done) {\n\t\tglobal.clearTimeout(self._fetchTimer)\n\t\tself._fetchTimer = null\n\t} else if (self._socketTimeout) {\n\t\tself._socketTimer = global.setTimeout(function () {\n\t\t\tself.emit('timeout')\n\t\t}, self._socketTimeout)\n\t}\n}\n\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function (err) {\n\tvar self = this\n\tself._destroyed = true\n\tself._resetTimers(true)\n\tif (self._response)\n\t\tself._response._destroyed = true\n\tif (self._xhr)\n\t\tself._xhr.abort()\n\telse if (self._fetchAbortController)\n\t\tself._fetchAbortController.abort()\n\n\tif (err)\n\t\tself.emit('error', err)\n}\n\nClientRequest.prototype.end = function (data, encoding, cb) {\n\tvar self = this\n\tif (typeof data === 'function') {\n\t\tcb = data\n\t\tdata = undefined\n\t}\n\n\tstream.Writable.prototype.end.call(self, data, encoding, cb)\n}\n\nClientRequest.prototype.setTimeout = function (timeout, cb) {\n\tvar self = this\n\n\tif (cb)\n\t\tself.once('timeout', cb)\n\n\tself._socketTimeout = timeout\n\tself._resetTimers(false)\n}\n\nClientRequest.prototype.flushHeaders = function () {}\nClientRequest.prototype.setNoDelay = function () {}\nClientRequest.prototype.setSocketKeepAlive = function () {}\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = [\n\t'accept-charset',\n\t'accept-encoding',\n\t'access-control-request-headers',\n\t'access-control-request-method',\n\t'connection',\n\t'content-length',\n\t'cookie',\n\t'cookie2',\n\t'date',\n\t'dnt',\n\t'expect',\n\t'host',\n\t'keep-alive',\n\t'origin',\n\t'referer',\n\t'te',\n\t'trailer',\n\t'transfer-encoding',\n\t'upgrade',\n\t'via'\n]\n","const EOL = \"\\n\";\n\n/**\n * \n * @param {array} jArray \n * @param {any} options \n * @returns \n */\nfunction toXml(jArray, options) {\n    let indentation = \"\";\n    if (options.format && options.indentBy.length > 0) {\n        indentation = EOL;\n    }\n    return arrToStr(jArray, options, \"\", indentation);\n}\n\nfunction arrToStr(arr, options, jPath, indentation) {\n    let xmlStr = \"\";\n    let isPreviousElementTag = false;\n\n    for (let i = 0; i < arr.length; i++) {\n        const tagObj = arr[i];\n        const tagName = propName(tagObj);\n        if(tagName === undefined) continue;\n\n        let newJPath = \"\";\n        if (jPath.length === 0) newJPath = tagName\n        else newJPath = `${jPath}.${tagName}`;\n\n        if (tagName === options.textNodeName) {\n            let tagText = tagObj[tagName];\n            if (!isStopNode(newJPath, options)) {\n                tagText = options.tagValueProcessor(tagName, tagText);\n                tagText = replaceEntitiesValue(tagText, options);\n            }\n            if (isPreviousElementTag) {\n                xmlStr += indentation;\n            }\n            xmlStr += tagText;\n            isPreviousElementTag = false;\n            continue;\n        } else if (tagName === options.cdataPropName) {\n            if (isPreviousElementTag) {\n                xmlStr += indentation;\n            }\n            xmlStr += `<![CDATA[${tagObj[tagName][0][options.textNodeName]}]]>`;\n            isPreviousElementTag = false;\n            continue;\n        } else if (tagName === options.commentPropName) {\n            xmlStr += indentation + `<!--${tagObj[tagName][0][options.textNodeName]}-->`;\n            isPreviousElementTag = true;\n            continue;\n        } else if (tagName[0] === \"?\") {\n            const attStr = attr_to_str(tagObj[\":@\"], options);\n            const tempInd = tagName === \"?xml\" ? \"\" : indentation;\n            let piTextNodeName = tagObj[tagName][0][options.textNodeName];\n            piTextNodeName = piTextNodeName.length !== 0 ? \" \" + piTextNodeName : \"\"; //remove extra spacing\n            xmlStr += tempInd + `<${tagName}${piTextNodeName}${attStr}?>`;\n            isPreviousElementTag = true;\n            continue;\n        }\n        let newIdentation = indentation;\n        if (newIdentation !== \"\") {\n            newIdentation += options.indentBy;\n        }\n        const attStr = attr_to_str(tagObj[\":@\"], options);\n        const tagStart = indentation + `<${tagName}${attStr}`;\n        const tagValue = arrToStr(tagObj[tagName], options, newJPath, newIdentation);\n        if (options.unpairedTags.indexOf(tagName) !== -1) {\n            if (options.suppressUnpairedNode) xmlStr += tagStart + \">\";\n            else xmlStr += tagStart + \"/>\";\n        } else if ((!tagValue || tagValue.length === 0) && options.suppressEmptyNode) {\n            xmlStr += tagStart + \"/>\";\n        } else if (tagValue && tagValue.endsWith(\">\")) {\n            xmlStr += tagStart + `>${tagValue}${indentation}</${tagName}>`;\n        } else {\n            xmlStr += tagStart + \">\";\n            if (tagValue && indentation !== \"\" && (tagValue.includes(\"/>\") || tagValue.includes(\"</\"))) {\n                xmlStr += indentation + options.indentBy + tagValue + indentation;\n            } else {\n                xmlStr += tagValue;\n            }\n            xmlStr += `</${tagName}>`;\n        }\n        isPreviousElementTag = true;\n    }\n\n    return xmlStr;\n}\n\nfunction propName(obj) {\n    const keys = Object.keys(obj);\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if(!obj.hasOwnProperty(key)) continue;\n        if (key !== \":@\") return key;\n    }\n}\n\nfunction attr_to_str(attrMap, options) {\n    let attrStr = \"\";\n    if (attrMap && !options.ignoreAttributes) {\n        for (let attr in attrMap) {\n            if(!attrMap.hasOwnProperty(attr)) continue;\n            let attrVal = options.attributeValueProcessor(attr, attrMap[attr]);\n            attrVal = replaceEntitiesValue(attrVal, options);\n            if (attrVal === true && options.suppressBooleanAttributes) {\n                attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}`;\n            } else {\n                attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}=\"${attrVal}\"`;\n            }\n        }\n    }\n    return attrStr;\n}\n\nfunction isStopNode(jPath, options) {\n    jPath = jPath.substr(0, jPath.length - options.textNodeName.length - 1);\n    let tagName = jPath.substr(jPath.lastIndexOf(\".\") + 1);\n    for (let index in options.stopNodes) {\n        if (options.stopNodes[index] === jPath || options.stopNodes[index] === \"*.\" + tagName) return true;\n    }\n    return false;\n}\n\nfunction replaceEntitiesValue(textValue, options) {\n    if (textValue && textValue.length > 0 && options.processEntities) {\n        for (let i = 0; i < options.entities.length; i++) {\n            const entity = options.entities[i];\n            textValue = textValue.replace(entity.regex, entity.val);\n        }\n    }\n    return textValue;\n}\nmodule.exports = toXml;\n","import base64 from \"base-64\";\nimport { decodeHTML } from \"entities\";\nimport { isWeb } from \"../compat/env.js\";\nexport function decodeHTMLEntities(text) {\n    if (isWeb()) {\n        const txt = document.createElement(\"textarea\");\n        txt.innerHTML = text;\n        return txt.value;\n    }\n    return decodeHTML(text);\n}\nexport function fromBase64(text) {\n    return base64.decode(text);\n}\nexport function toBase64(text) {\n    return base64.encode(text);\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nvar quotes = {\n    __proto__: null,\n    'double': '\"',\n    single: \"'\"\n};\nvar quoteREs = {\n    __proto__: null,\n    'double': /([\"\\\\])/g,\n    single: /(['\\\\])/g\n};\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && !has(quotes, opts.quoteStyle)) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (\n        (typeof globalThis !== 'undefined' && obj === globalThis)\n        || (typeof global !== 'undefined' && obj === global)\n    ) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var style = opts.quoteStyle || defaultStyle;\n    var quoteChar = quotes[style];\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction canTrustToString(obj) {\n    return !toStringTag || !(typeof obj === 'object' && (toStringTag in obj || typeof obj[toStringTag] !== 'undefined'));\n}\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && canTrustToString(obj); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && canTrustToString(obj); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && canTrustToString(obj); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && canTrustToString(obj); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && canTrustToString(obj); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && canTrustToString(obj); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && canTrustToString(obj); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    var quoteRE = quoteREs[opts.quoteStyle || 'single'];\n    quoteRE.lastIndex = 0;\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, quoteRE, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , controlOrWhitespace = /^[\\x00-\\x20\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/\n  , CRHTLF = /[\\n\\r\\t]/g\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , port = /:\\d+$/\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/;\n\n/**\n * Remove control characters and whitespace from the beginning of a string.\n *\n * @param {Object|String} str String to trim.\n * @returns {String} A new string representing `str` stripped of control\n *     characters and whitespace from its beginning.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(controlOrWhitespace, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d*)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      index = parse === '@'\n        ? address.lastIndexOf(parse)\n        : address.indexOf(parse);\n\n      if (~index) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n\n  if (url.auth) {\n    index = url.auth.indexOf(':');\n\n    if (~index) {\n      url.username = url.auth.slice(0, index);\n      url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n      url.password = url.auth.slice(index + 1);\n      url.password = encodeURIComponent(decodeURIComponent(url.password))\n    } else {\n      url.username = encodeURIComponent(decodeURIComponent(url.auth));\n    }\n\n    url.auth = url.password ? url.username +':'+ url.password : url.username;\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (port.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var index = value.indexOf(':');\n\n      if (~index) {\n        url.username = value.slice(0, index);\n        url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n        url.password = value.slice(index + 1);\n        url.password = encodeURIComponent(decodeURIComponent(url.password));\n      } else {\n        url.username = encodeURIComponent(decodeURIComponent(value));\n      }\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , host = url.host\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  } else if (\n    url.protocol !== 'file:' &&\n    isSpecial(url.protocol) &&\n    !host &&\n    url.pathname !== '/'\n  ) {\n    //\n    // Add back the empty userinfo, otherwise the original invalid URL\n    // might be transformed into a valid one with `url.pathname` as host.\n    //\n    result += '@';\n  }\n\n  //\n  // Trailing colon is removed from `url.host` when it is parsed. If it still\n  // ends with a colon, then add back the trailing colon that was removed. This\n  // prevents an invalid URL from being transformed into a valid one.\n  //\n  if (host[host.length - 1] === ':' || (port.test(url.hostname) && !url.port)) {\n    host += ':';\n  }\n\n  result += host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowEmptyArrays: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decodeDotInKeys: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    duplicates: 'combine',\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictDepth: false,\n    strictNullHandling: false,\n    throwOnLimitExceeded: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options, currentArrayLength) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    if (options.throwOnLimitExceeded && currentArrayLength >= options.arrayLimit) {\n        throw new RangeError('Array limit exceeded. Only ' + options.arrayLimit + ' element' + (options.arrayLimit === 1 ? '' : 's') + ' allowed in an array.');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    cleanStr = cleanStr.replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(\n        options.delimiter,\n        options.throwOnLimitExceeded ? limit + 1 : limit\n    );\n\n    if (options.throwOnLimitExceeded && parts.length > limit) {\n        throw new RangeError('Parameter limit exceeded. Only ' + limit + ' parameter' + (limit === 1 ? '' : 's') + ' allowed.');\n    }\n\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key;\n        var val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n\n            if (key !== null) {\n                val = utils.maybeMap(\n                    parseArrayValue(\n                        part.slice(pos + 1),\n                        options,\n                        isArray(obj[key]) ? obj[key].length : 0\n                    ),\n                    function (encodedVal) {\n                        return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                    }\n                );\n            }\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(String(val));\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (key !== null) {\n            var existing = has.call(obj, key);\n            if (existing && options.duplicates === 'combine') {\n                obj[key] = utils.combine(\n                    obj[key],\n                    val,\n                    options.arrayLimit,\n                    options.plainObjects\n                );\n            } else if (!existing || options.duplicates === 'last') {\n                obj[key] = val;\n            }\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var currentArrayLength = 0;\n    if (chain.length > 0 && chain[chain.length - 1] === '[]') {\n        var parentKey = chain.slice(0, -1).join('');\n        currentArrayLength = Array.isArray(val) && val[parentKey] ? val[parentKey].length : 0;\n    }\n\n    var leaf = valuesParsed ? val : parseArrayValue(val, options, currentArrayLength);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            if (utils.isOverflow(leaf)) {\n                // leaf is already an overflow object, preserve it\n                obj = leaf;\n            } else {\n                obj = options.allowEmptyArrays && (leaf === '' || (options.strictNullHandling && leaf === null))\n                    ? []\n                    : utils.combine(\n                        [],\n                        leaf,\n                        options.arrayLimit,\n                        options.plainObjects\n                    );\n            }\n        } else {\n            obj = options.plainObjects ? { __proto__: null } : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var decodedRoot = options.decodeDotInKeys ? cleanRoot.replace(/%2E/g, '.') : cleanRoot;\n            var index = parseInt(decodedRoot, 10);\n            if (!options.parseArrays && decodedRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== decodedRoot\n                && String(index) === decodedRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (decodedRoot !== '__proto__') {\n                obj[decodedRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar splitKeyIntoSegments = function splitKeyIntoSegments(givenKey, options) {\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    if (options.depth <= 0) {\n        if (!options.plainObjects && has.call(Object.prototype, key)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        return [key];\n    }\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    var keys = [];\n\n    if (parent) {\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n\n        var segmentContent = segment[1].slice(1, -1);\n        if (!options.plainObjects && has.call(Object.prototype, segmentContent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(segment[1]);\n    }\n\n    if (segment) {\n        if (options.strictDepth === true) {\n            throw new RangeError('Input depth exceeded depth option of ' + options.depth + ' and strictDepth is true');\n        }\n\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return keys;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    var keys = splitKeyIntoSegments(givenKey, options);\n\n    if (!keys) {\n        return;\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.decodeDotInKeys !== 'undefined' && typeof opts.decodeDotInKeys !== 'boolean') {\n        throw new TypeError('`decodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.decoder !== null && typeof opts.decoder !== 'undefined' && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    if (typeof opts.throwOnLimitExceeded !== 'undefined' && typeof opts.throwOnLimitExceeded !== 'boolean') {\n        throw new TypeError('`throwOnLimitExceeded` option must be a boolean');\n    }\n\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    var duplicates = typeof opts.duplicates === 'undefined' ? defaults.duplicates : opts.duplicates;\n\n    if (duplicates !== 'combine' && duplicates !== 'first' && duplicates !== 'last') {\n        throw new TypeError('The duplicates option must be either combine, first, or last');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.decodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decodeDotInKeys: typeof opts.decodeDotInKeys === 'boolean' ? opts.decodeDotInKeys : defaults.decodeDotInKeys,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        duplicates: duplicates,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictDepth: typeof opts.strictDepth === 'boolean' ? !!opts.strictDepth : defaults.strictDepth,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling,\n        throwOnLimitExceeded: typeof opts.throwOnLimitExceeded === 'boolean' ? opts.throwOnLimitExceeded : false\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? { __proto__: null } : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? { __proto__: null } : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\nrequire('inherits')(Duplex, Readable);\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(onEndNT, this);\n}\nfunction onEndNT(self) {\n  self.end();\n}\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Calculate the byte lengths for utf8 encoded strings.\n */\nfunction byteLength(str) {\n    if (!str) {\n        return 0;\n    }\n    str = str.toString();\n    var len = str.length;\n    for (var i = str.length; i--;) {\n        var code = str.charCodeAt(i);\n        if (0xdc00 <= code && code <= 0xdfff) {\n            i--;\n        }\n        if (0x7f < code && code <= 0x7ff) {\n            len++;\n        }\n        else if (0x7ff < code && code <= 0xffff) {\n            len += 2;\n        }\n    }\n    return len;\n}\nexports.byteLength = byteLength;\n//# sourceMappingURL=index.js.map","import Stream from \"stream\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nconst NOOP = () => { };\nexport function createReadStream(context, filePath, options = {}) {\n    const PassThroughStream = Stream.PassThrough;\n    const outStream = new PassThroughStream();\n    getFileStream(context, filePath, options)\n        .then(stream => {\n        stream.pipe(outStream);\n    })\n        .catch(err => {\n        outStream.emit(\"error\", err);\n    });\n    return outStream;\n}\nexport function createWriteStream(context, filePath, options = {}, callback = NOOP) {\n    const PassThroughStream = Stream.PassThrough;\n    const writeStream = new PassThroughStream();\n    const headers = {};\n    if (options.overwrite === false) {\n        headers[\"If-None-Match\"] = \"*\";\n    }\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"PUT\",\n        headers,\n        data: writeStream,\n        maxRedirects: 0\n    }, context, options);\n    request(requestOptions, context)\n        .then(response => handleResponseCode(context, response))\n        .then(response => {\n        // Fire callback asynchronously to avoid errors\n        setTimeout(() => {\n            callback(response);\n        }, 0);\n    })\n        .catch(err => {\n        writeStream.emit(\"error\", err);\n    });\n    return writeStream;\n}\nasync function getFileStream(context, filePath, options = {}) {\n    const headers = {};\n    if (typeof options.range === \"object\" && typeof options.range.start === \"number\") {\n        let rangeHeader = `bytes=${options.range.start}-`;\n        if (typeof options.range.end === \"number\") {\n            rangeHeader = `${rangeHeader}${options.range.end}`;\n        }\n        headers.Range = rangeHeader;\n    }\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"GET\",\n        headers\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    if (headers.Range && response.status !== 206) {\n        const responseError = new Error(`Invalid response code for partial request: ${response.status}`);\n        responseError.status = response.status;\n        throw responseError;\n    }\n    if (options.callback) {\n        setTimeout(() => {\n            options.callback(response);\n        }, 0);\n    }\n    // @ts-ignore\n    return response.body;\n}\n","var balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m) return [str];\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  if (/\\$$/.test(m.pre)) {    \n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre+ '{' + m.body + '}' + post[k];\n      expansions.push(expansion);\n    }\n  } else {\n    var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n    var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n    var isSequence = isNumericSequence || isAlphaSequence;\n    var isOptions = m.body.indexOf(',') >= 0;\n    if (!isSequence && !isOptions) {\n      // {a},b}\n      if (m.post.match(/,(?!,).*\\}/)) {\n        str = m.pre + '{' + m.body + escClose + m.post;\n        return expand(str);\n      }\n      return [str];\n    }\n\n    var n;\n    if (isSequence) {\n      n = m.body.split(/\\.\\./);\n    } else {\n      n = parseCommaParts(m.body);\n      if (n.length === 1) {\n        // x{{a,b}}y ==> x{a}y x{b}y\n        n = expand(n[0], false).map(embrace);\n        if (n.length === 1) {\n          return post.map(function(p) {\n            return m.pre + n[0] + p;\n          });\n        }\n      }\n    }\n\n    // at this point, n is the parts, and we know it's not a comma set\n    // with a single entry.\n    var N;\n\n    if (isSequence) {\n      var x = numeric(n[0]);\n      var y = numeric(n[1]);\n      var width = Math.max(n[0].length, n[1].length)\n      var incr = n.length == 3\n        ? Math.abs(numeric(n[2]))\n        : 1;\n      var test = lte;\n      var reverse = y < x;\n      if (reverse) {\n        incr *= -1;\n        test = gte;\n      }\n      var pad = n.some(isPadded);\n\n      N = [];\n\n      for (var i = x; test(i, y); i += incr) {\n        var c;\n        if (isAlphaSequence) {\n          c = String.fromCharCode(i);\n          if (c === '\\\\')\n            c = '';\n        } else {\n          c = String(i);\n          if (pad) {\n            var need = width - c.length;\n            if (need > 0) {\n              var z = new Array(need + 1).join('0');\n              if (i < 0)\n                c = '-' + z + c.slice(1);\n              else\n                c = z + c;\n            }\n          }\n        }\n        N.push(c);\n      }\n    } else {\n      N = [];\n\n      for (var j = 0; j < n.length; j++) {\n        N.push.apply(N, expand(n[j], false));\n      }\n    }\n\n    for (var j = 0; j < N.length; j++) {\n      for (var k = 0; k < post.length; k++) {\n        var expansion = pre + N[j] + post[k];\n        if (!isTop || isSequence || expansion)\n          expansions.push(expansion);\n      }\n    }\n  }\n\n  return expansions;\n}\n\n","import { Layerr } from \"layerr\";\nimport { byteLength } from \"byte-length\";\nimport { isArrayBuffer } from \"../compat/arrayBuffer.js\";\nimport { isBuffer } from \"../compat/buffer.js\";\nimport { ErrorCode } from \"../types.js\";\nexport function calculateDataLength(data) {\n    if (isArrayBuffer(data)) {\n        return data.byteLength;\n    }\n    else if (isBuffer(data)) {\n        return data.length;\n    }\n    else if (typeof data === \"string\") {\n        return byteLength(data);\n    }\n    throw new Layerr({\n        info: {\n            code: ErrorCode.DataTypeNoLength\n        }\n    }, \"Cannot calculate data length: Invalid type\");\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\nvar getSideChannelMap = require('side-channel-map');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\n\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => V} */\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K, value: V) => void} */\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapDelete = callBound('WeakMap.prototype.delete', true);\n\n/** @type {import('.')} */\nmodule.exports = $WeakMap\n\t? /** @type {Exclude<import('.'), false>} */ function getSideChannelWeakMap() {\n\t\t/** @typedef {ReturnType<typeof getSideChannelWeakMap>} Channel */\n\t\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t\t/** @type {WeakMap<K & object, V> | undefined} */ var $wm;\n\t\t/** @type {Channel | undefined} */ var $m;\n\n\t\t/** @type {Channel} */\n\t\tvar channel = {\n\t\t\tassert: function (key) {\n\t\t\t\tif (!channel.has(key)) {\n\t\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t\t}\n\t\t\t},\n\t\t\t'delete': function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapDelete($wm, key);\n\t\t\t\t\t}\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif ($m) {\n\t\t\t\t\t\treturn $m['delete'](key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tget: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn $m && $m.get(key);\n\t\t\t},\n\t\t\thas: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!$m && $m.has(key);\n\t\t\t},\n\t\t\tset: function (key, value) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif (!$wm) {\n\t\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t\t}\n\t\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif (!$m) {\n\t\t\t\t\t\t$m = getSideChannelMap();\n\t\t\t\t\t}\n\t\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\t\t/** @type {NonNullable<typeof $m>} */ ($m).set(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// @ts-expect-error TODO: figure out why this is erroring\n\t\treturn channel;\n\t}\n\t: getSideChannelMap;\n","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","// translate the various posix character classes into unicode properties\n// this works across all unicode locales\n// { <posix class>: [<translation>, /u flag required, negated]\nconst posixClasses = {\n    '[:alnum:]': ['\\\\p{L}\\\\p{Nl}\\\\p{Nd}', true],\n    '[:alpha:]': ['\\\\p{L}\\\\p{Nl}', true],\n    '[:ascii:]': ['\\\\x' + '00-\\\\x' + '7f', false],\n    '[:blank:]': ['\\\\p{Zs}\\\\t', true],\n    '[:cntrl:]': ['\\\\p{Cc}', true],\n    '[:digit:]': ['\\\\p{Nd}', true],\n    '[:graph:]': ['\\\\p{Z}\\\\p{C}', true, true],\n    '[:lower:]': ['\\\\p{Ll}', true],\n    '[:print:]': ['\\\\p{C}', true],\n    '[:punct:]': ['\\\\p{P}', true],\n    '[:space:]': ['\\\\p{Z}\\\\t\\\\r\\\\n\\\\v\\\\f', true],\n    '[:upper:]': ['\\\\p{Lu}', true],\n    '[:word:]': ['\\\\p{L}\\\\p{Nl}\\\\p{Nd}\\\\p{Pc}', true],\n    '[:xdigit:]': ['A-Fa-f0-9', false],\n};\n// only need to escape a few things inside of brace expressions\n// escapes: [ \\ ] -\nconst braceEscape = (s) => s.replace(/[[\\]\\\\-]/g, '\\\\$&');\n// escape all regexp magic characters\nconst regexpEscape = (s) => s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n// everything has already been escaped, we just have to join\nconst rangesToString = (ranges) => ranges.join('');\n// takes a glob string at a posix brace expression, and returns\n// an equivalent regular expression source, and boolean indicating\n// whether the /u flag needs to be applied, and the number of chars\n// consumed to parse the character class.\n// This also removes out of order ranges, and returns ($.) if the\n// entire class just no good.\nexport const parseClass = (glob, position) => {\n    const pos = position;\n    /* c8 ignore start */\n    if (glob.charAt(pos) !== '[') {\n        throw new Error('not in a brace expression');\n    }\n    /* c8 ignore stop */\n    const ranges = [];\n    const negs = [];\n    let i = pos + 1;\n    let sawStart = false;\n    let uflag = false;\n    let escaping = false;\n    let negate = false;\n    let endPos = pos;\n    let rangeStart = '';\n    WHILE: while (i < glob.length) {\n        const c = glob.charAt(i);\n        if ((c === '!' || c === '^') && i === pos + 1) {\n            negate = true;\n            i++;\n            continue;\n        }\n        if (c === ']' && sawStart && !escaping) {\n            endPos = i + 1;\n            break;\n        }\n        sawStart = true;\n        if (c === '\\\\') {\n            if (!escaping) {\n                escaping = true;\n                i++;\n                continue;\n            }\n            // escaped \\ char, fall through and treat like normal char\n        }\n        if (c === '[' && !escaping) {\n            // either a posix class, a collation equivalent, or just a [\n            for (const [cls, [unip, u, neg]] of Object.entries(posixClasses)) {\n                if (glob.startsWith(cls, i)) {\n                    // invalid, [a-[] is fine, but not [a-[:alpha]]\n                    if (rangeStart) {\n                        return ['$.', false, glob.length - pos, true];\n                    }\n                    i += cls.length;\n                    if (neg)\n                        negs.push(unip);\n                    else\n                        ranges.push(unip);\n                    uflag = uflag || u;\n                    continue WHILE;\n                }\n            }\n        }\n        // now it's just a normal character, effectively\n        escaping = false;\n        if (rangeStart) {\n            // throw this range away if it's not valid, but others\n            // can still match.\n            if (c > rangeStart) {\n                ranges.push(braceEscape(rangeStart) + '-' + braceEscape(c));\n            }\n            else if (c === rangeStart) {\n                ranges.push(braceEscape(c));\n            }\n            rangeStart = '';\n            i++;\n            continue;\n        }\n        // now might be the start of a range.\n        // can be either c-d or c-] or c<more...>] or c] at this point\n        if (glob.startsWith('-]', i + 1)) {\n            ranges.push(braceEscape(c + '-'));\n            i += 2;\n            continue;\n        }\n        if (glob.startsWith('-', i + 1)) {\n            rangeStart = c;\n            i += 2;\n            continue;\n        }\n        // not the start of a range, just a single character\n        ranges.push(braceEscape(c));\n        i++;\n    }\n    if (endPos < i) {\n        // didn't see the end of the class, not a valid class,\n        // but might still be valid as a literal match.\n        return ['', false, 0, false];\n    }\n    // if we got no ranges and no negates, then we have a range that\n    // cannot possibly match anything, and that poisons the whole glob\n    if (!ranges.length && !negs.length) {\n        return ['$.', false, glob.length - pos, true];\n    }\n    // if we got one positive range, and it's a single character, then that's\n    // not actually a magic pattern, it's just that one literal character.\n    // we should not treat that as \"magic\", we should just return the literal\n    // character. [_] is a perfectly valid way to escape glob magic chars.\n    if (negs.length === 0 &&\n        ranges.length === 1 &&\n        /^\\\\?.$/.test(ranges[0]) &&\n        !negate) {\n        const r = ranges[0].length === 2 ? ranges[0].slice(-1) : ranges[0];\n        return [regexpEscape(r), false, endPos - pos, false];\n    }\n    const sranges = '[' + (negate ? '^' : '') + rangesToString(ranges) + ']';\n    const snegs = '[' + (negate ? '' : '^') + rangesToString(negs) + ']';\n    const comb = ranges.length && negs.length\n        ? '(' + sranges + '|' + snegs + ')'\n        : ranges.length\n            ? sranges\n            : snegs;\n    return [comb, uflag, endPos - pos, true];\n};\n//# sourceMappingURL=brace-expressions.js.map","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","import pathPosix from \"path-posix\";\nimport { joinURL, normaliseHREF } from \"../tools/url.js\";\nimport { encodePath, makePathAbsolute, normalisePath } from \"../tools/path.js\";\nimport { parseXML, prepareFileFromProps } from \"../tools/dav.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode, processGlobFilter, processResponsePayload } from \"../response.js\";\nexport async function getDirectoryContents(context, remotePath, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(remotePath), \"/\"),\n        method: \"PROPFIND\",\n        headers: {\n            Accept: \"text/plain,application/xml\",\n            Depth: options.deep ? \"infinity\" : \"1\"\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    const responseData = await response.text();\n    if (!responseData) {\n        throw new Error(\"Failed parsing directory contents: Empty response\");\n    }\n    const davResp = await parseXML(responseData);\n    const _remotePath = makePathAbsolute(remotePath);\n    const remoteBasePath = makePathAbsolute(context.remoteBasePath || context.remotePath);\n    let files = getDirectoryFiles(davResp, remoteBasePath, _remotePath, options.details, options.includeSelf);\n    if (options.glob) {\n        files = processGlobFilter(files, options.glob);\n    }\n    return processResponsePayload(response, files, options.details);\n}\nfunction getDirectoryFiles(result, serverremoteBasePath, requestPath, isDetailed = false, includeSelf = false) {\n    const serverBase = pathPosix.join(serverremoteBasePath, \"/\");\n    // Extract the response items (directory contents)\n    const { multistatus: { response: responseItems } } = result;\n    // Map all items to a consistent output structure (results)\n    const nodes = responseItems.map(item => {\n        // HREF is the file path (in full) - The href is already XML entities decoded (e.g. foo&amp;bar is reverted to foo&bar)\n        const href = normaliseHREF(item.href);\n        // Each item should contain a stat object\n        const { propstat: { prop: props } } = item;\n        // Process the true full filename (minus the base server path)\n        const filename = serverBase === \"/\"\n            ? decodeURIComponent(normalisePath(href))\n            : normalisePath(pathPosix.relative(decodeURIComponent(serverBase), decodeURIComponent(href)));\n        return prepareFileFromProps(props, filename, isDetailed);\n    });\n    // If specified, also return the current directory\n    if (includeSelf) {\n        return nodes;\n    }\n    // Else, filter out the item pointing to the current directory (not needed)\n    return nodes.filter(item => item.basename &&\n        (item.type === \"file\" || item.filename !== requestPath.replace(/\\/$/, \"\")));\n}\n","'use strict';\n\n/**\n * \n * @param {array} node \n * @param {any} options \n * @returns \n */\nfunction prettify(node, options){\n  return compress( node, options);\n}\n\n/**\n * \n * @param {array} arr \n * @param {object} options \n * @param {string} jPath \n * @returns object\n */\nfunction compress(arr, options, jPath){\n  let text;\n  const compressedObj = {};\n  for (let i = 0; i < arr.length; i++) {\n    const tagObj = arr[i];\n    const property = propName(tagObj);\n    let newJpath = \"\";\n    if(jPath === undefined) newJpath = property;\n    else newJpath = jPath + \".\" + property;\n\n    if(property === options.textNodeName){\n      if(text === undefined) text = tagObj[property];\n      else text += \"\" + tagObj[property];\n    }else if(property === undefined){\n      continue;\n    }else if(tagObj[property]){\n      \n      let val = compress(tagObj[property], options, newJpath);\n      const isLeaf = isLeafTag(val, options);\n\n      if(tagObj[\":@\"]){\n        assignAttributes( val, tagObj[\":@\"], newJpath, options);\n      }else if(Object.keys(val).length === 1 && val[options.textNodeName] !== undefined && !options.alwaysCreateTextNode){\n        val = val[options.textNodeName];\n      }else if(Object.keys(val).length === 0){\n        if(options.alwaysCreateTextNode) val[options.textNodeName] = \"\";\n        else val = \"\";\n      }\n\n      if(compressedObj[property] !== undefined && compressedObj.hasOwnProperty(property)) {\n        if(!Array.isArray(compressedObj[property])) {\n            compressedObj[property] = [ compressedObj[property] ];\n        }\n        compressedObj[property].push(val);\n      }else{\n        //TODO: if a node is not an array, then check if it should be an array\n        //also determine if it is a leaf node\n        if (options.isArray(property, newJpath, isLeaf )) {\n          compressedObj[property] = [val];\n        }else{\n          compressedObj[property] = val;\n        }\n      }\n    }\n    \n  }\n  // if(text && text.length > 0) compressedObj[options.textNodeName] = text;\n  if(typeof text === \"string\"){\n    if(text.length > 0) compressedObj[options.textNodeName] = text;\n  }else if(text !== undefined) compressedObj[options.textNodeName] = text;\n  return compressedObj;\n}\n\nfunction propName(obj){\n  const keys = Object.keys(obj);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if(key !== \":@\") return key;\n  }\n}\n\nfunction assignAttributes(obj, attrMap, jpath, options){\n  if (attrMap) {\n    const keys = Object.keys(attrMap);\n    const len = keys.length; //don't make it inline\n    for (let i = 0; i < len; i++) {\n      const atrrName = keys[i];\n      if (options.isArray(atrrName, jpath + \".\" + atrrName, true, true)) {\n        obj[atrrName] = [ attrMap[atrrName] ];\n      } else {\n        obj[atrrName] = attrMap[atrrName];\n      }\n    }\n  }\n}\n\nfunction isLeafTag(obj, options){\n  const { textNodeName } = options;\n  const propCount = Object.keys(obj).length;\n  \n  if (propCount === 0) {\n    return true;\n  }\n\n  if (\n    propCount === 1 &&\n    (obj[textNodeName] || typeof obj[textNodeName] === \"boolean\" || obj[textNodeName] === 0)\n  ) {\n    return true;\n  }\n\n  return false;\n}\nexports.prettify = prettify;\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","import { getStat } from \"./stat.js\";\nexport async function exists(context, remotePath, options = {}) {\n    try {\n        await getStat(context, remotePath, options);\n        return true;\n    }\n    catch (err) {\n        if (err.status === 404) {\n            return false;\n        }\n        throw err;\n    }\n}\n","import { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nexport async function customRequest(context, remotePath, requestOptions) {\n    if (!requestOptions.url) {\n        requestOptions.url = joinURL(context.remoteURL, encodePath(remotePath));\n    }\n    const finalOptions = prepareRequestOptions(requestOptions, context, {});\n    const response = await request(finalOptions, context);\n    handleResponseCode(context, response);\n    return response;\n}\n","import { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nexport async function moveFile(context, filename, destination, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filename)),\n        method: \"MOVE\",\n        headers: {\n            Destination: joinURL(context.remoteURL, encodePath(destination)),\n            /**\n             * From RFC4918 section 10.6: If the overwrite header is not included in a COPY or MOVE request,\n             * then the resource MUST treat the request as if it has an overwrite header of value \"T\".\n             *\n             * Meaning the overwrite header is always set to \"T\" EXCEPT the option is explicitly set to false.\n             */\n            Overwrite: options.overwrite === false ? \"F\" : \"T\"\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n}\n","import { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nexport async function deleteFile(context, filename, options = {}) {\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filename)),\n        method: \"DELETE\"\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n}\n","import { isError } from \"./error.js\";\nexport function parseArguments(args) {\n    let options, shortMessage = \"\";\n    if (args.length === 0) {\n        options = {};\n    }\n    else if (isError(args[0])) {\n        options = {\n            cause: args[0],\n        };\n        shortMessage = args.slice(1).join(\" \") || \"\";\n    }\n    else if (args[0] && typeof args[0] === \"object\") {\n        options = Object.assign({}, args[0]);\n        shortMessage = args.slice(1).join(\" \") || \"\";\n    }\n    else if (typeof args[0] === \"string\") {\n        options = {};\n        shortMessage = shortMessage = args.join(\" \") || \"\";\n    }\n    else {\n        throw new Error(\"Invalid arguments passed to Layerr\");\n    }\n    return {\n        options,\n        shortMessage,\n    };\n}\n","export function cloneShallow(obj) {\n    return isPlainObject(obj)\n        ? Object.assign({}, obj)\n        : Object.setPrototypeOf(Object.assign({}, obj), Object.getPrototypeOf(obj));\n}\nfunction isPlainObject(obj) {\n    if (typeof obj !== \"object\" ||\n        obj === null ||\n        Object.prototype.toString.call(obj) != \"[object Object]\") {\n        // Not an object\n        return false;\n    }\n    if (Object.getPrototypeOf(obj) === null) {\n        return true;\n    }\n    let proto = obj;\n    // Find the prototype\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(obj) === proto;\n}\nexport function merge(...args) {\n    let output = null, items = [...args];\n    while (items.length > 0) {\n        const nextItem = items.shift();\n        if (!output) {\n            output = cloneShallow(nextItem);\n        }\n        else {\n            output = mergeObjects(output, nextItem);\n        }\n    }\n    return output;\n}\nfunction mergeObjects(obj1, obj2) {\n    const output = cloneShallow(obj1);\n    Object.keys(obj2).forEach(key => {\n        if (!output.hasOwnProperty(key)) {\n            output[key] = obj2[key];\n            return;\n        }\n        if (Array.isArray(obj2[key])) {\n            output[key] = Array.isArray(output[key])\n                ? [...output[key], ...obj2[key]]\n                : [...obj2[key]];\n        }\n        else if (typeof obj2[key] === \"object\" && !!obj2[key]) {\n            output[key] =\n                typeof output[key] === \"object\" && !!output[key]\n                    ? mergeObjects(output[key], obj2[key])\n                    : cloneShallow(obj2[key]);\n        }\n        else {\n            output[key] = obj2[key];\n        }\n    });\n    return output;\n}\n","export function convertResponseHeaders(headers) {\n    const output = {};\n    for (const key of headers.keys()) {\n        output[key] = headers.get(key);\n    }\n    return output;\n}\nexport function mergeHeaders(...headerPayloads) {\n    if (headerPayloads.length === 0)\n        return {};\n    const headerKeys = {};\n    return headerPayloads.reduce((output, headers) => {\n        Object.keys(headers).forEach(header => {\n            const lowerHeader = header.toLowerCase();\n            if (headerKeys.hasOwnProperty(lowerHeader)) {\n                output[headerKeys[lowerHeader]] = headers[header];\n            }\n            else {\n                headerKeys[lowerHeader] = header;\n                output[header] = headers[header];\n            }\n        });\n        return output;\n    }, {});\n}\n","import { parseSearch, parseXML } from \"../tools/dav.js\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode, processResponsePayload } from \"../response.js\";\nexport async function getSearch(context, searchArbiter, options = {}) {\n    const { details: isDetailed = false } = options;\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(searchArbiter)),\n        method: \"SEARCH\",\n        headers: {\n            Accept: \"text/plain,application/xml\",\n            // Ensure a Content-Type header is set was this is required by e.g. sabre/dav\n            \"Content-Type\": context.headers[\"Content-Type\"] || \"application/xml; charset=utf-8\"\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    const responseText = await response.text();\n    const responseData = await parseXML(responseText);\n    const results = parseSearch(responseData, searchArbiter, isDetailed);\n    return processResponsePayload(response, results, isDetailed);\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $Map = GetIntrinsic('%Map%', true);\n\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => V} */\nvar $mapGet = callBound('Map.prototype.get', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K, value: V) => void} */\nvar $mapSet = callBound('Map.prototype.set', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapHas = callBound('Map.prototype.has', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapDelete = callBound('Map.prototype.delete', true);\n/** @type {<K, V>(thisArg: Map<K, V>) => number} */\nvar $mapSize = callBound('Map.prototype.size', true);\n\n/** @type {import('.')} */\nmodule.exports = !!$Map && /** @type {Exclude<import('.'), false>} */ function getSideChannelMap() {\n\t/** @typedef {ReturnType<typeof getSideChannelMap>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {Map<K, V> | undefined} */ var $m;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tif ($m) {\n\t\t\t\tvar result = $mapDelete($m, key);\n\t\t\t\tif ($mapSize($m) === 0) {\n\t\t\t\t\t$m = void undefined;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($m) {\n\t\t\t\treturn $mapGet($m, key);\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($m) {\n\t\t\t\treturn $mapHas($m, key);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$m) {\n\t\t\t\t// @ts-expect-error TS can't handle narrowing a variable inside a closure\n\t\t\t\t$m = new $Map();\n\t\t\t}\n\t\t\t$mapSet($m, key, value);\n\t\t}\n\t};\n\n\t// @ts-expect-error TODO: figure out why TS is erroring here\n\treturn channel;\n};\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","import { Layerr } from \"layerr\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode } from \"../response.js\";\nimport { getDAVCompliance } from \"./getDAVCompliance.js\";\nimport { ErrorCode } from \"../types.js\";\nexport async function partialUpdateFileContents(context, filePath, start, end, data, options = {}) {\n    const compliance = await getDAVCompliance(context, filePath, options);\n    if (compliance.compliance.includes(\"sabredav-partialupdate\")) {\n        return await partialUpdateFileContentsSabredav(context, filePath, start, end, data, options);\n    }\n    if (compliance.server.includes(\"Apache\") &&\n        compliance.compliance.includes(\"<http://apache.org/dav/propset/fs/1>\")) {\n        return await partialUpdateFileContentsApache(context, filePath, start, end, data, options);\n    }\n    throw new Layerr({\n        info: {\n            code: ErrorCode.NotSupported\n        }\n    }, \"Not supported\");\n}\nasync function partialUpdateFileContentsSabredav(context, filePath, start, end, data, options = {}) {\n    if (start > end || start < 0) {\n        // Actually, SabreDAV support negative start value,\n        // Do not support here for compatibility with Apache-style way\n        throw new Layerr({\n            info: {\n                code: ErrorCode.InvalidUpdateRange\n            }\n        }, `Invalid update range ${start} for partial update`);\n    }\n    const headers = {\n        \"Content-Type\": \"application/x-sabredav-partialupdate\",\n        \"Content-Length\": `${end - start + 1}`,\n        \"X-Update-Range\": `bytes=${start}-${end}`\n    };\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"PATCH\",\n        headers,\n        data\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n}\nasync function partialUpdateFileContentsApache(context, filePath, start, end, data, options = {}) {\n    if (start > end || start < 0) {\n        throw new Layerr({\n            info: {\n                code: ErrorCode.InvalidUpdateRange\n            }\n        }, `Invalid update range ${start} for partial update`);\n    }\n    const headers = {\n        \"Content-Type\": \"application/octet-stream\",\n        \"Content-Length\": `${end - start + 1}`,\n        \"Content-Range\": `bytes ${start}-${end}/*`\n    };\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filePath)),\n        method: \"PUT\",\n        headers,\n        data\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n}\n","module.exports = require('events').EventEmitter;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\nvar Transform = require('./_stream_transform');\nrequire('inherits')(PassThrough, Transform);\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","const MAX_PATTERN_LENGTH = 1024 * 64;\nexport const assertValidPattern = (pattern) => {\n    if (typeof pattern !== 'string') {\n        throw new TypeError('invalid pattern');\n    }\n    if (pattern.length > MAX_PATTERN_LENGTH) {\n        throw new TypeError('pattern is too long');\n    }\n};\n//# sourceMappingURL=assert-valid-pattern.js.map","import { HotPatcher } from \"hot-patcher\";\nlet __patcher = null;\nexport function getPatcher() {\n    if (!__patcher) {\n        __patcher = new HotPatcher();\n    }\n    return __patcher;\n}\n","import { parseStat, parseXML } from \"../tools/dav.js\";\nimport { joinURL } from \"../tools/url.js\";\nimport { encodePath } from \"../tools/path.js\";\nimport { request, prepareRequestOptions } from \"../request.js\";\nimport { handleResponseCode, processResponsePayload } from \"../response.js\";\nexport async function getStat(context, filename, options = {}) {\n    const { details: isDetailed = false } = options;\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, encodePath(filename)),\n        method: \"PROPFIND\",\n        headers: {\n            Accept: \"text/plain,application/xml\",\n            Depth: \"0\"\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    const responseData = await response.text();\n    const result = await parseXML(responseData);\n    const stat = parseStat(result, filename, isDetailed);\n    return processResponsePayload(response, stat, isDetailed);\n}\n","import { extractURLPath } from \"./tools/url.js\";\nimport { setupAuth } from \"./auth/index.js\";\nimport { copyFile } from \"./operations/copyFile.js\";\nimport { createDirectory } from \"./operations/createDirectory.js\";\nimport { createReadStream, createWriteStream } from \"./operations/createStream.js\";\nimport { customRequest } from \"./operations/customRequest.js\";\nimport { deleteFile } from \"./operations/deleteFile.js\";\nimport { exists } from \"./operations/exists.js\";\nimport { getDirectoryContents } from \"./operations/directoryContents.js\";\nimport { getFileContents, getFileDownloadLink } from \"./operations/getFileContents.js\";\nimport { lock, unlock } from \"./operations/lock.js\";\nimport { getQuota } from \"./operations/getQuota.js\";\nimport { getStat } from \"./operations/stat.js\";\nimport { getSearch } from \"./operations/search.js\";\nimport { moveFile } from \"./operations/moveFile.js\";\nimport { getFileUploadLink, putFileContents } from \"./operations/putFileContents.js\";\nimport { partialUpdateFileContents } from \"./operations/partialUpdateFileContents.js\";\nimport { getDAVCompliance } from \"./operations/getDAVCompliance.js\";\nimport { AuthType } from \"./types.js\";\nconst DEFAULT_CONTACT_HREF = \"https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md\";\nexport function createClient(remoteURL, options = {}) {\n    const { authType: authTypeRaw = null, remoteBasePath, contactHref = DEFAULT_CONTACT_HREF, ha1, headers = {}, httpAgent, httpsAgent, password, token, username, withCredentials } = options;\n    let authType = authTypeRaw;\n    if (!authType) {\n        authType = username || password ? AuthType.Password : AuthType.None;\n    }\n    const context = {\n        authType,\n        remoteBasePath,\n        contactHref,\n        ha1,\n        headers: Object.assign({}, headers),\n        httpAgent,\n        httpsAgent,\n        password,\n        remotePath: extractURLPath(remoteURL),\n        remoteURL,\n        token,\n        username,\n        withCredentials\n    };\n    setupAuth(context, username, password, token, ha1);\n    return {\n        copyFile: (filename, destination, options) => copyFile(context, filename, destination, options),\n        createDirectory: (path, options) => createDirectory(context, path, options),\n        createReadStream: (filename, options) => createReadStream(context, filename, options),\n        createWriteStream: (filename, options, callback) => createWriteStream(context, filename, options, callback),\n        customRequest: (path, requestOptions) => customRequest(context, path, requestOptions),\n        deleteFile: (filename, options) => deleteFile(context, filename, options),\n        exists: (path, options) => exists(context, path, options),\n        getDirectoryContents: (path, options) => getDirectoryContents(context, path, options),\n        getFileContents: (filename, options) => getFileContents(context, filename, options),\n        getFileDownloadLink: (filename) => getFileDownloadLink(context, filename),\n        getFileUploadLink: (filename) => getFileUploadLink(context, filename),\n        getHeaders: () => Object.assign({}, context.headers),\n        getQuota: (options) => getQuota(context, options),\n        lock: (path, options) => lock(context, path, options),\n        moveFile: (filename, destinationFilename, options) => moveFile(context, filename, destinationFilename, options),\n        putFileContents: (filename, data, options) => putFileContents(context, filename, data, options),\n        partialUpdateFileContents: (filePath, start, end, data, options) => partialUpdateFileContents(context, filePath, start, end, data, options),\n        getDAVCompliance: (path) => getDAVCompliance(context, path),\n        search: (path, options) => getSearch(context, path, options),\n        setHeaders: (headers) => {\n            context.headers = Object.assign({}, headers);\n        },\n        stat: (path, options) => getStat(context, path, options),\n        unlock: (path, token, options) => unlock(context, path, token, options)\n    };\n}\n","import URL from \"url-parse\";\nimport { Layerr } from \"layerr\";\nimport _joinURL from \"url-join\";\nimport { normalisePath } from \"./path.js\";\nexport function extractURLPath(fullURL) {\n    const url = new URL(fullURL);\n    let urlPath = url.pathname;\n    if (urlPath.length <= 0) {\n        urlPath = \"/\";\n    }\n    return normalisePath(urlPath);\n}\nexport function joinURL(...parts) {\n    return _joinURL(parts.reduce((output, nextPart, partIndex) => {\n        if (partIndex === 0 ||\n            nextPart !== \"/\" ||\n            (nextPart === \"/\" && output[output.length - 1] !== \"/\")) {\n            output.push(nextPart);\n        }\n        return output;\n    }, []));\n}\nexport function normaliseHREF(href) {\n    try {\n        const normalisedHref = href.replace(/^https?:\\/\\/[^\\/]+/, \"\");\n        return normalisedHref;\n    }\n    catch (err) {\n        throw new Layerr(err, \"Failed normalising HREF\");\n    }\n}\n","/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atks excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '1.0.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n","import { prepareRequestOptions, request } from \"../request.js\";\nimport { handleResponseCode, processResponsePayload } from \"../response.js\";\nimport { parseXML } from \"../tools/dav.js\";\nimport { joinURL } from \"../tools/url.js\";\nimport { parseQuota } from \"../tools/quota.js\";\nexport async function getQuota(context, options = {}) {\n    const path = options.path || \"/\";\n    const requestOptions = prepareRequestOptions({\n        url: joinURL(context.remoteURL, path),\n        method: \"PROPFIND\",\n        headers: {\n            Accept: \"text/plain,application/xml\",\n            Depth: \"0\"\n        }\n    }, context, options);\n    const response = await request(requestOptions, context);\n    handleResponseCode(context, response);\n    const responseData = await response.text();\n    const result = await parseXML(responseData);\n    const quota = parseQuota(result);\n    return processResponsePayload(response, quota, options.details);\n}\n","module.exports = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Unordered Collection\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"451\": \"Unavailable For Legal Reasons\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n}\n","'use strict';\n\nconst nameStartChar = ':A-Za-z_\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\nconst nameChar = nameStartChar + '\\\\-.\\\\d\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\nconst nameRegexp = '[' + nameStartChar + '][' + nameChar + ']*'\nconst regexName = new RegExp('^' + nameRegexp + '$');\n\nconst getAllMatches = function(string, regex) {\n  const matches = [];\n  let match = regex.exec(string);\n  while (match) {\n    const allmatches = [];\n    allmatches.startIndex = regex.lastIndex - match[0].length;\n    const len = match.length;\n    for (let index = 0; index < len; index++) {\n      allmatches.push(match[index]);\n    }\n    matches.push(allmatches);\n    match = regex.exec(string);\n  }\n  return matches;\n};\n\nconst isName = function(string) {\n  const match = regexName.exec(string);\n  return !(match === null || typeof match === 'undefined');\n};\n\nexports.isExist = function(v) {\n  return typeof v !== 'undefined';\n};\n\nexports.isEmptyObject = function(obj) {\n  return Object.keys(obj).length === 0;\n};\n\n/**\n * Copy all the properties of a into b.\n * @param {*} target\n * @param {*} a\n */\nexports.merge = function(target, a, arrayMode) {\n  if (a) {\n    const keys = Object.keys(a); // will return an array of own properties\n    const len = keys.length; //don't make it inline\n    for (let i = 0; i < len; i++) {\n      if (arrayMode === 'strict') {\n        target[keys[i]] = [ a[keys[i]] ];\n      } else {\n        target[keys[i]] = a[keys[i]];\n      }\n    }\n  }\n};\n/* exports.merge =function (b,a){\n  return Object.assign(b,a);\n} */\n\nexports.getValue = function(v) {\n  if (exports.isExist(v)) {\n    return v;\n  } else {\n    return '';\n  }\n};\n\n// const fakeCall = function(a) {return a;};\n// const fakeCallNoReturn = function() {};\n\nexports.isName = isName;\nexports.getAllMatches = getAllMatches;\nexports.nameRegexp = nameRegexp;\n","/*\n * Copyright Joyent, Inc. and other Node contributors.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to permit\n * persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included\n * in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n * NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n * USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n'use strict';\n\nvar punycode = require('punycode/');\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n/*\n * define these here so at least they only have to be\n * compiled once on the first module load.\n */\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n  portPattern = /:[0-9]*$/,\n\n  // Special case for a simple path URL\n  simplePathPattern = /^(\\/\\/?(?!\\/)[^?\\s]*)(\\?[^\\s]*)?$/,\n\n  /*\n   * RFC 2396: characters reserved for delimiting URLs.\n   * We actually just auto-escape these.\n   */\n  delims = [\n    '<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'\n  ],\n\n  // RFC 2396: characters not allowed for various reasons.\n  unwise = [\n    '{', '}', '|', '\\\\', '^', '`'\n  ].concat(delims),\n\n  // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n  autoEscape = ['\\''].concat(unwise),\n  /*\n   * Characters that are never ever allowed in a hostname.\n   * Note that any invalid chars are also handled, but these\n   * are the ones that are *expected* to be seen, so we fast-path\n   * them.\n   */\n  nonHostChars = [\n    '%', '/', '?', ';', '#'\n  ].concat(autoEscape),\n  hostEndingChars = [\n    '/', '?', '#'\n  ],\n  hostnameMaxLen = 255,\n  hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n  hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n  // protocols that can allow \"unsafe\" and \"unwise\" chars.\n  unsafeProtocol = {\n    javascript: true,\n    'javascript:': true\n  },\n  // protocols that never have a hostname.\n  hostlessProtocol = {\n    javascript: true,\n    'javascript:': true\n  },\n  // protocols that always contain a // bit.\n  slashedProtocol = {\n    http: true,\n    https: true,\n    ftp: true,\n    gopher: true,\n    file: true,\n    'http:': true,\n    'https:': true,\n    'ftp:': true,\n    'gopher:': true,\n    'file:': true\n  },\n  querystring = require('qs');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && typeof url === 'object' && url instanceof Url) { return url; }\n\n  var u = new Url();\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function (url, parseQueryString, slashesDenoteHost) {\n  if (typeof url !== 'string') {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  /*\n   * Copy chrome, IE, opera backslash-handling behavior.\n   * Back slashes before the query string get converted to forward slashes\n   * See: https://code.google.com/p/chromium/issues/detail?id=25916\n   */\n  var queryIndex = url.indexOf('?'),\n    splitter = queryIndex !== -1 && queryIndex < url.indexOf('#') ? '?' : '#',\n    uSplit = url.split(splitter),\n    slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  /*\n   * trim before proceeding.\n   * This is to support parse stuff like \"  http://foo.com  \\n\"\n   */\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  /*\n   * figure out if it's got a host\n   * user@server is *always* interpreted as a hostname, and url\n   * resolution will treat //foo/bar as host=foo,path=bar because that's\n   * how the browser resolves relative URLs.\n   */\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@/]+@[^@/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] && (slashes || (proto && !slashedProtocol[proto]))) {\n\n    /*\n     * there's a hostname.\n     * the first instance of /, ?, ;, or # ends the host.\n     *\n     * If there is an @ in the hostname, then non-host chars *are* allowed\n     * to the left of the last @ sign, unless some host-ending character\n     * comes *before* the @-sign.\n     * URLs are obnoxious.\n     *\n     * ex:\n     * http://a@b@c/ => user:a@b host:c\n     * http://a@b?@c => user:a host:c path:/?@c\n     */\n\n    /*\n     * v0.12 TODO(isaacs): This is not quite how Chrome does things.\n     * Review our test case against browsers more comprehensively.\n     */\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) { hostEnd = hec; }\n    }\n\n    /*\n     * at this point, either we have an explicit point where the\n     * auth portion cannot go past, or the last @ char is the decider.\n     */\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      /*\n       * atSign must be in auth portion.\n       * http://a@b/c@d => host:b auth:a path:/c@d\n       */\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    /*\n     * Now we have a portion which is definitely the auth.\n     * Pull that off.\n     */\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) { hostEnd = hec; }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) { hostEnd = rest.length; }\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    /*\n     * we've indicated that there is a hostname,\n     * so even if it's empty, it has to be present.\n     */\n    this.hostname = this.hostname || '';\n\n    /*\n     * if hostname begins with [ and ends with ]\n     * assume that it's an IPv6 address.\n     */\n    var ipv6Hostname = this.hostname[0] === '[' && this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) { continue; }\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              /*\n               * we replace non-ASCII char with a temporary placeholder\n               * we need this to make sure size of hostname is not\n               * broken by replacing non-ASCII by nothing\n               */\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      /*\n       * IDNA Support: Returns a punycoded representation of \"domain\".\n       * It only converts parts of the domain name that\n       * have non-ASCII characters, i.e. it doesn't matter if\n       * you call it with a domain that already is ASCII-only.\n       */\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    /*\n     * strip [ and ] from the hostname\n     * the host field still retains them, though\n     */\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  /*\n   * now rest is set to the post-host stuff.\n   * chop off any delim chars.\n   */\n  if (!unsafeProtocol[lowerProto]) {\n\n    /*\n     * First, make 100% sure that any \"autoEscape\" chars get\n     * escaped, even if encodeURIComponent doesn't think they\n     * need to be.\n     */\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1) { continue; }\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] && this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  // to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  /*\n   * ensure it's an object, and not a string url.\n   * If it's an obj, this is a no-op.\n   * this way, you can call url_format() on strings\n   * to clean up potentially wonky urls.\n   */\n  if (typeof obj === 'string') { obj = urlParse(obj); }\n  if (!(obj instanceof Url)) { return Url.prototype.format.call(obj); }\n  return obj.format();\n}\n\nUrl.prototype.format = function () {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n    pathname = this.pathname || '',\n    hash = this.hash || '',\n    host = false,\n    query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ? this.hostname : '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query && typeof this.query === 'object' && Object.keys(this.query).length) {\n    query = querystring.stringify(this.query, {\n      arrayFormat: 'repeat',\n      addQueryPrefix: false\n    });\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') { protocol += ':'; }\n\n  /*\n   * only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n   * unless they had them to begin with.\n   */\n  if (this.slashes || (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') { pathname = '/' + pathname; }\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') { hash = '#' + hash; }\n  if (search && search.charAt(0) !== '?') { search = '?' + search; }\n\n  pathname = pathname.replace(/[?#]/g, function (match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function (relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) { return relative; }\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function (relative) {\n  if (typeof relative === 'string') {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  /*\n   * hash is always overridden, no matter what.\n   * even href=\"\" will remove it.\n   */\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol') { result[rkey] = relative[rkey]; }\n    }\n\n    // urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] && result.hostname && !result.pathname) {\n      result.pathname = '/';\n      result.path = result.pathname;\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    /*\n     * if it's a known url protocol, then changing\n     * the protocol does weird things\n     * first, if it's not file:, then we MUST have a host,\n     * and if there was a path\n     * to begin with, then we MUST have a path.\n     * if it is file:, then the host is dropped,\n     * because that's known to be hostless.\n     * anything else is assumed to be absolute.\n     */\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift())) { }\n      if (!relative.host) { relative.host = ''; }\n      if (!relative.hostname) { relative.hostname = ''; }\n      if (relPath[0] !== '') { relPath.unshift(''); }\n      if (relPath.length < 2) { relPath.unshift(''); }\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = result.pathname && result.pathname.charAt(0) === '/',\n    isRelAbs = relative.host || relative.pathname && relative.pathname.charAt(0) === '/',\n    mustEndAbs = isRelAbs || isSourceAbs || (result.host && relative.pathname),\n    removeAllDots = mustEndAbs,\n    srcPath = result.pathname && result.pathname.split('/') || [],\n    relPath = relative.pathname && relative.pathname.split('/') || [],\n    psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  /*\n   * if the url is a non-slashed url, then relative\n   * links like ../.. should be able\n   * to crawl up to the hostname, as well.  This is strange.\n   * result.protocol has already been set by now.\n   * Later on, put the first path part into the host field.\n   */\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') { srcPath[0] = result.host; } else { srcPath.unshift(result.host); }\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') { relPath[0] = relative.host; } else { relPath.unshift(relative.host); }\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = relative.host || relative.host === '' ? relative.host : result.host;\n    result.hostname = relative.hostname || relative.hostname === '' ? relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    /*\n     * it's relative\n     * throw away the existing file, and take the new path instead.\n     */\n    if (!srcPath) { srcPath = []; }\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (relative.search != null) {\n    /*\n     * just pull out the search.\n     * like href='?foo'.\n     * Put this after the other two cases because it simplifies the booleans\n     */\n    if (psychotic) {\n      result.host = srcPath.shift();\n      result.hostname = result.host;\n      /*\n       * occationaly the auth can get stuck only in host\n       * this especially happens in cases like\n       * url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n       */\n      var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.hostname = authInHost.shift();\n        result.host = result.hostname;\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    // to support http.request\n    if (result.pathname !== null || result.search !== null) {\n      result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    /*\n     * no path at all.  easy.\n     * we've already handled the other stuff above.\n     */\n    result.pathname = null;\n    // to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  /*\n   * if a url ENDs in . or .., then it must get a trailing slash.\n   * however, if it ends in anything else non-slashy,\n   * then it must NOT get a trailing slash.\n   */\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (result.host || relative.host || srcPath.length > 1) && (last === '.' || last === '..') || last === '';\n\n  /*\n   * strip single dots, resolve double dots to parent dir\n   * if the path tries to go above the root, `up` ends up > 0\n   */\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' && (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' || (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = isAbsolute ? '' : srcPath.length ? srcPath.shift() : '';\n    result.host = result.hostname;\n    /*\n     * occationaly the auth can get stuck only in host\n     * this especially happens in cases like\n     * url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n     */\n    var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.hostname = authInHost.shift();\n      result.host = result.hostname;\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (srcPath.length > 0) {\n    result.pathname = srcPath.join('/');\n  } else {\n    result.pathname = null;\n    result.path = null;\n  }\n\n  // to support request.http\n  if (result.pathname !== null || result.search !== null) {\n    result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function () {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n","import { Agent as HTTPAgent } from \"http\";\nimport { Agent as HTTPSAgent } from \"https\";\nimport { fetch } from \"@buttercup/fetch\";\nimport { getPatcher } from \"./compat/patcher.js\";\nimport { isReactNative, isWeb } from \"./compat/env.js\";\nimport { generateDigestAuthHeader, parseDigestAuth, responseIndicatesDigestAuth } from \"./auth/digest.js\";\nimport { cloneShallow, merge } from \"./tools/merge.js\";\nimport { mergeHeaders } from \"./tools/headers.js\";\nimport { requestDataToFetchBody } from \"./tools/body.js\";\nimport { AuthType } from \"./types.js\";\nimport { setupAuth } from \"./auth/index.js\";\nfunction getFetchOptions(requestOptions) {\n    let headers = {};\n    // Handle standard options\n    const opts = {\n        method: requestOptions.method\n    };\n    if (requestOptions.headers) {\n        headers = mergeHeaders(headers, requestOptions.headers);\n    }\n    if (typeof requestOptions.data !== \"undefined\") {\n        const [body, newHeaders] = requestDataToFetchBody(requestOptions.data);\n        opts.body = body;\n        headers = mergeHeaders(headers, newHeaders);\n    }\n    if (requestOptions.signal) {\n        opts.signal = requestOptions.signal;\n    }\n    if (requestOptions.withCredentials) {\n        opts.credentials = \"include\";\n    }\n    // Check for node-specific options\n    if (!isWeb() && !isReactNative()) {\n        if (requestOptions.httpAgent || requestOptions.httpsAgent) {\n            opts.agent = (parsedURL) => {\n                if (parsedURL.protocol === \"http:\") {\n                    return requestOptions.httpAgent || new HTTPAgent();\n                }\n                return requestOptions.httpsAgent || new HTTPSAgent();\n            };\n        }\n    }\n    // Attach headers\n    opts.headers = headers;\n    return opts;\n}\nexport function prepareRequestOptions(requestOptions, context, userOptions) {\n    const finalOptions = cloneShallow(requestOptions);\n    finalOptions.headers = mergeHeaders(context.headers, finalOptions.headers || {}, userOptions.headers || {});\n    if (typeof userOptions.data !== \"undefined\") {\n        finalOptions.data = userOptions.data;\n    }\n    if (userOptions.signal) {\n        finalOptions.signal = userOptions.signal;\n    }\n    if (context.httpAgent) {\n        finalOptions.httpAgent = context.httpAgent;\n    }\n    if (context.httpsAgent) {\n        finalOptions.httpsAgent = context.httpsAgent;\n    }\n    if (context.digest) {\n        finalOptions._digest = context.digest;\n    }\n    if (typeof context.withCredentials === \"boolean\") {\n        finalOptions.withCredentials = context.withCredentials;\n    }\n    return finalOptions;\n}\nexport async function request(requestOptions, context) {\n    if (context.authType === AuthType.Auto) {\n        return requestAuto(requestOptions, context);\n    }\n    if (requestOptions._digest) {\n        return requestDigest(requestOptions);\n    }\n    return requestStandard(requestOptions);\n}\nasync function requestAuto(requestOptions, context) {\n    const response = await requestStandard(requestOptions);\n    if (response.ok) {\n        context.authType = AuthType.Password;\n        return response;\n    }\n    if (response.status == 401 && responseIndicatesDigestAuth(response)) {\n        context.authType = AuthType.Digest;\n        setupAuth(context, context.username, context.password, undefined, undefined);\n        requestOptions._digest = context.digest;\n        return requestDigest(requestOptions);\n    }\n    return response;\n}\nasync function requestDigest(requestOptions) {\n    // Remove client's digest authentication object from request options\n    const _digest = requestOptions._digest;\n    delete requestOptions._digest;\n    // If client is already using digest authentication, include the digest authorization header\n    if (_digest.hasDigestAuth) {\n        requestOptions = merge(requestOptions, {\n            headers: {\n                Authorization: generateDigestAuthHeader(requestOptions, _digest)\n            }\n        });\n    }\n    // Perform digest request + check\n    const response = await requestStandard(requestOptions);\n    if (response.status == 401) {\n        _digest.hasDigestAuth = parseDigestAuth(response, _digest);\n        if (_digest.hasDigestAuth) {\n            requestOptions = merge(requestOptions, {\n                headers: {\n                    Authorization: generateDigestAuthHeader(requestOptions, _digest)\n                }\n            });\n            const response2 = await requestStandard(requestOptions);\n            if (response2.status == 401) {\n                _digest.hasDigestAuth = false;\n            }\n            else {\n                _digest.nc++;\n            }\n            return response2;\n        }\n    }\n    else {\n        _digest.nc++;\n    }\n    return response;\n}\nfunction requestStandard(requestOptions) {\n    const patcher = getPatcher();\n    return patcher.patchInline(\"request\", (options) => patcher.patchInline(\"fetch\", fetch, options.url, getFetchOptions(options)), requestOptions);\n}\n","export function generateTokenAuthHeader(token) {\n    return `${token.token_type} ${token.access_token}`;\n}\n","import md5 from \"md5\";\nimport { ha1Compute } from \"../tools/crypto.js\";\nconst NONCE_CHARS = \"abcdef0123456789\";\nconst NONCE_SIZE = 32;\nexport function createDigestContext(username, password, ha1) {\n    return { username, password, ha1, nc: 0, algorithm: \"md5\", hasDigestAuth: false };\n}\nexport function generateDigestAuthHeader(options, digest) {\n    const url = options.url.replace(\"//\", \"\");\n    const uri = url.indexOf(\"/\") == -1 ? \"/\" : url.slice(url.indexOf(\"/\"));\n    const method = options.method ? options.method.toUpperCase() : \"GET\";\n    const qop = /(^|,)\\s*auth\\s*($|,)/.test(digest.qop) ? \"auth\" : false;\n    const ncString = `00000000${digest.nc}`.slice(-8);\n    const ha1 = ha1Compute(digest.algorithm, digest.username, digest.realm, digest.password, digest.nonce, digest.cnonce, digest.ha1);\n    const ha2 = md5(`${method}:${uri}`);\n    const digestResponse = qop\n        ? md5(`${ha1}:${digest.nonce}:${ncString}:${digest.cnonce}:${qop}:${ha2}`)\n        : md5(`${ha1}:${digest.nonce}:${ha2}`);\n    const authValues = {\n        username: digest.username,\n        realm: digest.realm,\n        nonce: digest.nonce,\n        uri,\n        qop,\n        response: digestResponse,\n        nc: ncString,\n        cnonce: digest.cnonce,\n        algorithm: digest.algorithm,\n        opaque: digest.opaque\n    };\n    const authHeader = [];\n    for (const k in authValues) {\n        if (authValues[k]) {\n            if (k === \"qop\" || k === \"nc\" || k === \"algorithm\") {\n                authHeader.push(`${k}=${authValues[k]}`);\n            }\n            else {\n                authHeader.push(`${k}=\"${authValues[k]}\"`);\n            }\n        }\n    }\n    return `Digest ${authHeader.join(\", \")}`;\n}\nfunction makeNonce() {\n    let uid = \"\";\n    for (let i = 0; i < NONCE_SIZE; ++i) {\n        uid = `${uid}${NONCE_CHARS[Math.floor(Math.random() * NONCE_CHARS.length)]}`;\n    }\n    return uid;\n}\nexport function parseDigestAuth(response, _digest) {\n    const isDigest = responseIndicatesDigestAuth(response);\n    if (!isDigest) {\n        return false;\n    }\n    const re = /([a-z0-9_-]+)=(?:\"([^\"]+)\"|([a-z0-9_-]+))/gi;\n    for (;;) {\n        const authHeader = (response.headers && response.headers.get(\"www-authenticate\")) || \"\";\n        const match = re.exec(authHeader);\n        if (!match) {\n            break;\n        }\n        _digest[match[1]] = match[2] || match[3];\n    }\n    _digest.nc += 1;\n    _digest.cnonce = makeNonce();\n    return true;\n}\nexport function responseIndicatesDigestAuth(response) {\n    const authHeader = (response.headers && response.headers.get(\"www-authenticate\")) || \"\";\n    return authHeader.split(/\\s/)[0].toLowerCase() === \"digest\";\n}\n","import path from \"path-posix\";\nimport { XMLParser } from \"fast-xml-parser\";\nimport nestedProp from \"nested-property\";\nimport { encodePath, normalisePath } from \"./path.js\";\nvar PropertyType;\n(function (PropertyType) {\n    PropertyType[\"Array\"] = \"array\";\n    PropertyType[\"Object\"] = \"object\";\n    PropertyType[\"Original\"] = \"original\";\n})(PropertyType || (PropertyType = {}));\nfunction getParser() {\n    return new XMLParser({\n        allowBooleanAttributes: true,\n        attributeNamePrefix: \"\",\n        textNodeName: \"text\",\n        ignoreAttributes: false,\n        removeNSPrefix: true,\n        numberParseOptions: {\n            hex: true,\n            leadingZeros: false\n        },\n        attributeValueProcessor(attrName, attrValue, jPath) {\n            // handle boolean attributes\n            if (attrValue === \"true\" || attrValue === \"false\") {\n                return attrValue === \"true\";\n            }\n            return attrValue;\n        },\n        tagValueProcessor(tagName, tagValue, jPath) {\n            if (jPath.endsWith(\"propstat.prop.displayname\")) {\n                // Do not parse the display name, because this causes e.g. '2024.10' to result in number 2024.1\n                return;\n            }\n            return tagValue;\n        }\n        // We don't use the processors here as decoding is done manually\n        // later on - decoding early would break some path checks.\n    });\n}\nfunction getPropertyOfType(obj, prop, type = PropertyType.Original) {\n    const val = nestedProp.get(obj, prop);\n    if (type === \"array\" && Array.isArray(val) === false) {\n        return [val];\n    }\n    else if (type === \"object\" && Array.isArray(val)) {\n        return val[0];\n    }\n    return val;\n}\nfunction normaliseResponse(response) {\n    const output = Object.assign({}, response);\n    // Only either status OR propstat is allowed\n    if (output.status) {\n        nestedProp.set(output, \"status\", getPropertyOfType(output, \"status\", PropertyType.Object));\n    }\n    else {\n        nestedProp.set(output, \"propstat\", getPropertyOfType(output, \"propstat\", PropertyType.Object));\n        nestedProp.set(output, \"propstat.prop\", getPropertyOfType(output, \"propstat.prop\", PropertyType.Object));\n    }\n    return output;\n}\nfunction normaliseResult(result) {\n    const { multistatus } = result;\n    if (multistatus === \"\") {\n        return {\n            multistatus: {\n                response: []\n            }\n        };\n    }\n    if (!multistatus) {\n        throw new Error(\"Invalid response: No root multistatus found\");\n    }\n    const output = {\n        multistatus: Array.isArray(multistatus) ? multistatus[0] : multistatus\n    };\n    nestedProp.set(output, \"multistatus.response\", getPropertyOfType(output, \"multistatus.response\", PropertyType.Array));\n    nestedProp.set(output, \"multistatus.response\", nestedProp.get(output, \"multistatus.response\").map(response => normaliseResponse(response)));\n    return output;\n}\n/**\n * Parse an XML response from a WebDAV service,\n *  converting it to an internal DAV result\n * @param xml The raw XML string\n * @returns A parsed and processed DAV result\n */\nexport function parseXML(xml) {\n    return new Promise(resolve => {\n        const result = getParser().parse(xml);\n        resolve(normaliseResult(result));\n    });\n}\n/**\n * Get a file stat result from given DAV properties\n * @param props DAV properties\n * @param filename The filename for the file stat\n * @param isDetailed Whether or not the raw props of the resource should be returned\n * @returns A file stat result\n */\nexport function prepareFileFromProps(props, filename, isDetailed = false) {\n    // Last modified time, raw size, item type and mime\n    const { getlastmodified: lastMod = null, getcontentlength: rawSize = \"0\", resourcetype: resourceType = null, getcontenttype: mimeType = null, getetag: etag = null } = props;\n    const type = resourceType &&\n        typeof resourceType === \"object\" &&\n        typeof resourceType.collection !== \"undefined\"\n        ? \"directory\"\n        : \"file\";\n    const stat = {\n        filename,\n        basename: path.basename(filename),\n        lastmod: lastMod,\n        size: parseInt(rawSize, 10),\n        type,\n        etag: typeof etag === \"string\" ? etag.replace(/\"/g, \"\") : null\n    };\n    if (type === \"file\") {\n        stat.mime = mimeType && typeof mimeType === \"string\" ? mimeType.split(\";\")[0] : \"\";\n    }\n    if (isDetailed) {\n        // The XML parser tries to interpret values, but the display name is required to be a string\n        if (typeof props.displayname !== \"undefined\") {\n            props.displayname = String(props.displayname);\n        }\n        stat.props = props;\n    }\n    return stat;\n}\n/**\n * Parse a DAV result for file stats\n * @param result The resulting DAV response\n * @param filename The filename that was stat'd\n * @param isDetailed Whether or not the raw props of\n *  the resource should be returned\n * @returns A file stat result\n */\nexport function parseStat(result, filename, isDetailed = false) {\n    let responseItem = null;\n    try {\n        // should be a propstat response, if not the if below will throw an error\n        if (result.multistatus.response[0].propstat) {\n            responseItem = result.multistatus.response[0];\n        }\n    }\n    catch (e) {\n        /* ignore */\n    }\n    if (!responseItem) {\n        throw new Error(\"Failed getting item stat: bad response\");\n    }\n    const { propstat: { prop: props, status: statusLine } } = responseItem;\n    // As defined in https://tools.ietf.org/html/rfc2068#section-6.1\n    const [_, statusCodeStr, statusText] = statusLine.split(\" \", 3);\n    const statusCode = parseInt(statusCodeStr, 10);\n    if (statusCode >= 400) {\n        const err = new Error(`Invalid response: ${statusCode} ${statusText}`);\n        err.status = statusCode;\n        throw err;\n    }\n    const filePath = normalisePath(filename);\n    return prepareFileFromProps(props, filePath, isDetailed);\n}\n/**\n * Parse a DAV result for a search request\n *\n * @param result The resulting DAV response\n * @param searchArbiter The collection path that was searched\n * @param isDetailed Whether or not the raw props of the resource should be returned\n */\nexport function parseSearch(result, searchArbiter, isDetailed) {\n    const response = {\n        truncated: false,\n        results: []\n    };\n    response.truncated = result.multistatus.response.some(v => {\n        return ((v.status || v.propstat?.status).split(\" \", 3)?.[1] === \"507\" &&\n            v.href.replace(/\\/$/, \"\").endsWith(encodePath(searchArbiter).replace(/\\/$/, \"\")));\n    });\n    result.multistatus.response.forEach(result => {\n        if (result.propstat === undefined) {\n            return;\n        }\n        const filename = result.href.split(\"/\").map(decodeURIComponent).join(\"/\");\n        response.results.push(prepareFileFromProps(result.propstat.prop, filename, isDetailed));\n    });\n    return response;\n}\n/**\n * Translate a disk quota indicator to a recognised\n *  value (includes \"unlimited\" and \"unknown\")\n * @param value The quota indicator, eg. \"-3\"\n * @returns The value in bytes, or another indicator\n */\nexport function translateDiskSpace(value) {\n    switch (String(value)) {\n        case \"-3\":\n            return \"unlimited\";\n        case \"-2\":\n        /* falls-through */\n        case \"-1\":\n            // -1 is non-computed\n            return \"unknown\";\n        default:\n            return parseInt(String(value), 10);\n    }\n}\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","export function assertError(err) {\n    if (!isError(err)) {\n        throw new Error(\"Parameter was not an error\");\n    }\n}\nexport function isError(err) {\n    return ((!!err &&\n        typeof err === \"object\" &&\n        objectToString(err) === \"[object Error]\") ||\n        err instanceof Error);\n}\nfunction objectToString(obj) {\n    return Object.prototype.toString.call(obj);\n}\n","\nconst defaultOptions = {\n    preserveOrder: false,\n    attributeNamePrefix: '@_',\n    attributesGroupName: false,\n    textNodeName: '#text',\n    ignoreAttributes: true,\n    removeNSPrefix: false, // remove NS from tag name or attribute name if true\n    allowBooleanAttributes: false, //a tag can have attributes without any value\n    //ignoreRootElement : false,\n    parseTagValue: true,\n    parseAttributeValue: false,\n    trimValues: true, //Trim string values of tag and attributes\n    cdataPropName: false,\n    numberParseOptions: {\n      hex: true,\n      leadingZeros: true,\n      eNotation: true\n    },\n    tagValueProcessor: function(tagName, val) {\n      return val;\n    },\n    attributeValueProcessor: function(attrName, val) {\n      return val;\n    },\n    stopNodes: [], //nested tags will not be parsed even for errors\n    alwaysCreateTextNode: false,\n    isArray: () => false,\n    commentPropName: false,\n    unpairedTags: [],\n    processEntities: true,\n    htmlEntities: false,\n    ignoreDeclaration: false,\n    ignorePiTags: false,\n    transformTagName: false,\n    transformAttributeName: false,\n    updateTag: function(tagName, jPath, attrs){\n      return tagName\n    },\n    // skipEmptyListItem: false\n};\n   \nconst buildOptions = function(options) {\n    return Object.assign({}, defaultOptions, options);\n};\n\nexports.buildOptions = buildOptions;\nexports.defaultOptions = defaultOptions;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\nvar _require$codes = require('../errors').codes,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n  ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n  ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\nvar Duplex = require('./_stream_duplex');\nrequire('inherits')(Transform, Duplex);\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null)\n    // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\nfunction prefinish() {\n  var _this = this;\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null)\n    // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { getLoggerBuilder } from '@nextcloud/logger'\n\nexport default getLoggerBuilder()\n\t.setApp('comments')\n\t.detectUser()\n\t.build()\n","const inWebWorker = typeof WorkerGlobalScope !== \"undefined\" &&\n    self instanceof WorkerGlobalScope;\nconst root = inWebWorker\n    ? self\n    : typeof window !== \"undefined\"\n        ? window\n        : globalThis;\nexport const fetch = root.fetch.bind(root);\nexport const Headers = root.Headers;\nexport const Request = root.Request;\nexport const Response = root.Response;\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    commaRoundTrip: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    filter: void undefined,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && key && typeof key.value !== 'undefined'\n            ? key.value\n            : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? String(key).replace(/\\./g, '%2E') : String(key);\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: !!opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = obj[key];\n\n        if (options.skipNulls && value === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            value,\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nconst util = require('./util');\n\nconst defaultOptions = {\n  allowBooleanAttributes: false, //A tag can have attributes without any value\n  unpairedTags: []\n};\n\n//const tagsPattern = new RegExp(\"<\\\\/?([\\\\w:\\\\-_\\.]+)\\\\s*\\/?>\",\"g\");\nexports.validate = function (xmlData, options) {\n  options = Object.assign({}, defaultOptions, options);\n\n  //xmlData = xmlData.replace(/(\\r\\n|\\n|\\r)/gm,\"\");//make it single line\n  //xmlData = xmlData.replace(/(^\\s*<\\?xml.*?\\?>)/g,\"\");//Remove XML starting tag\n  //xmlData = xmlData.replace(/(<!DOCTYPE[\\s\\w\\\"\\.\\/\\-\\:]+(\\[.*\\])*\\s*>)/g,\"\");//Remove DOCTYPE\n  const tags = [];\n  let tagFound = false;\n\n  //indicates that the root tag has been closed (aka. depth 0 has been reached)\n  let reachedRoot = false;\n\n  if (xmlData[0] === '\\ufeff') {\n    // check for byte order mark (BOM)\n    xmlData = xmlData.substr(1);\n  }\n  \n  for (let i = 0; i < xmlData.length; i++) {\n\n    if (xmlData[i] === '<' && xmlData[i+1] === '?') {\n      i+=2;\n      i = readPI(xmlData,i);\n      if (i.err) return i;\n    }else if (xmlData[i] === '<') {\n      //starting of tag\n      //read until you reach to '>' avoiding any '>' in attribute value\n      let tagStartPos = i;\n      i++;\n      \n      if (xmlData[i] === '!') {\n        i = readCommentAndCDATA(xmlData, i);\n        continue;\n      } else {\n        let closingTag = false;\n        if (xmlData[i] === '/') {\n          //closing tag\n          closingTag = true;\n          i++;\n        }\n        //read tagname\n        let tagName = '';\n        for (; i < xmlData.length &&\n          xmlData[i] !== '>' &&\n          xmlData[i] !== ' ' &&\n          xmlData[i] !== '\\t' &&\n          xmlData[i] !== '\\n' &&\n          xmlData[i] !== '\\r'; i++\n        ) {\n          tagName += xmlData[i];\n        }\n        tagName = tagName.trim();\n        //console.log(tagName);\n\n        if (tagName[tagName.length - 1] === '/') {\n          //self closing tag without attributes\n          tagName = tagName.substring(0, tagName.length - 1);\n          //continue;\n          i--;\n        }\n        if (!validateTagName(tagName)) {\n          let msg;\n          if (tagName.trim().length === 0) {\n            msg = \"Invalid space after '<'.\";\n          } else {\n            msg = \"Tag '\"+tagName+\"' is an invalid name.\";\n          }\n          return getErrorObject('InvalidTag', msg, getLineNumberForPosition(xmlData, i));\n        }\n\n        const result = readAttributeStr(xmlData, i);\n        if (result === false) {\n          return getErrorObject('InvalidAttr', \"Attributes for '\"+tagName+\"' have open quote.\", getLineNumberForPosition(xmlData, i));\n        }\n        let attrStr = result.value;\n        i = result.index;\n\n        if (attrStr[attrStr.length - 1] === '/') {\n          //self closing tag\n          const attrStrStart = i - attrStr.length;\n          attrStr = attrStr.substring(0, attrStr.length - 1);\n          const isValid = validateAttributeString(attrStr, options);\n          if (isValid === true) {\n            tagFound = true;\n            //continue; //text may presents after self closing tag\n          } else {\n            //the result from the nested function returns the position of the error within the attribute\n            //in order to get the 'true' error line, we need to calculate the position where the attribute begins (i - attrStr.length) and then add the position within the attribute\n            //this gives us the absolute index in the entire xml, which we can use to find the line at last\n            return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, attrStrStart + isValid.err.line));\n          }\n        } else if (closingTag) {\n          if (!result.tagClosed) {\n            return getErrorObject('InvalidTag', \"Closing tag '\"+tagName+\"' doesn't have proper closing.\", getLineNumberForPosition(xmlData, i));\n          } else if (attrStr.trim().length > 0) {\n            return getErrorObject('InvalidTag', \"Closing tag '\"+tagName+\"' can't have attributes or invalid starting.\", getLineNumberForPosition(xmlData, tagStartPos));\n          } else if (tags.length === 0) {\n            return getErrorObject('InvalidTag', \"Closing tag '\"+tagName+\"' has not been opened.\", getLineNumberForPosition(xmlData, tagStartPos));\n          } else {\n            const otg = tags.pop();\n            if (tagName !== otg.tagName) {\n              let openPos = getLineNumberForPosition(xmlData, otg.tagStartPos);\n              return getErrorObject('InvalidTag',\n                \"Expected closing tag '\"+otg.tagName+\"' (opened in line \"+openPos.line+\", col \"+openPos.col+\") instead of closing tag '\"+tagName+\"'.\",\n                getLineNumberForPosition(xmlData, tagStartPos));\n            }\n\n            //when there are no more tags, we reached the root level.\n            if (tags.length == 0) {\n              reachedRoot = true;\n            }\n          }\n        } else {\n          const isValid = validateAttributeString(attrStr, options);\n          if (isValid !== true) {\n            //the result from the nested function returns the position of the error within the attribute\n            //in order to get the 'true' error line, we need to calculate the position where the attribute begins (i - attrStr.length) and then add the position within the attribute\n            //this gives us the absolute index in the entire xml, which we can use to find the line at last\n            return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, i - attrStr.length + isValid.err.line));\n          }\n\n          //if the root level has been reached before ...\n          if (reachedRoot === true) {\n            return getErrorObject('InvalidXml', 'Multiple possible root nodes found.', getLineNumberForPosition(xmlData, i));\n          } else if(options.unpairedTags.indexOf(tagName) !== -1){\n            //don't push into stack\n          } else {\n            tags.push({tagName, tagStartPos});\n          }\n          tagFound = true;\n        }\n\n        //skip tag text value\n        //It may include comments and CDATA value\n        for (i++; i < xmlData.length; i++) {\n          if (xmlData[i] === '<') {\n            if (xmlData[i + 1] === '!') {\n              //comment or CADATA\n              i++;\n              i = readCommentAndCDATA(xmlData, i);\n              continue;\n            } else if (xmlData[i+1] === '?') {\n              i = readPI(xmlData, ++i);\n              if (i.err) return i;\n            } else{\n              break;\n            }\n          } else if (xmlData[i] === '&') {\n            const afterAmp = validateAmpersand(xmlData, i);\n            if (afterAmp == -1)\n              return getErrorObject('InvalidChar', \"char '&' is not expected.\", getLineNumberForPosition(xmlData, i));\n            i = afterAmp;\n          }else{\n            if (reachedRoot === true && !isWhiteSpace(xmlData[i])) {\n              return getErrorObject('InvalidXml', \"Extra text at the end\", getLineNumberForPosition(xmlData, i));\n            }\n          }\n        } //end of reading tag text value\n        if (xmlData[i] === '<') {\n          i--;\n        }\n      }\n    } else {\n      if ( isWhiteSpace(xmlData[i])) {\n        continue;\n      }\n      return getErrorObject('InvalidChar', \"char '\"+xmlData[i]+\"' is not expected.\", getLineNumberForPosition(xmlData, i));\n    }\n  }\n\n  if (!tagFound) {\n    return getErrorObject('InvalidXml', 'Start tag expected.', 1);\n  }else if (tags.length == 1) {\n      return getErrorObject('InvalidTag', \"Unclosed tag '\"+tags[0].tagName+\"'.\", getLineNumberForPosition(xmlData, tags[0].tagStartPos));\n  }else if (tags.length > 0) {\n      return getErrorObject('InvalidXml', \"Invalid '\"+\n          JSON.stringify(tags.map(t => t.tagName), null, 4).replace(/\\r?\\n/g, '')+\n          \"' found.\", {line: 1, col: 1});\n  }\n\n  return true;\n};\n\nfunction isWhiteSpace(char){\n  return char === ' ' || char === '\\t' || char === '\\n'  || char === '\\r';\n}\n/**\n * Read Processing insstructions and skip\n * @param {*} xmlData\n * @param {*} i\n */\nfunction readPI(xmlData, i) {\n  const start = i;\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] == '?' || xmlData[i] == ' ') {\n      //tagname\n      const tagname = xmlData.substr(start, i - start);\n      if (i > 5 && tagname === 'xml') {\n        return getErrorObject('InvalidXml', 'XML declaration allowed only at the start of the document.', getLineNumberForPosition(xmlData, i));\n      } else if (xmlData[i] == '?' && xmlData[i + 1] == '>') {\n        //check if valid attribut string\n        i++;\n        break;\n      } else {\n        continue;\n      }\n    }\n  }\n  return i;\n}\n\nfunction readCommentAndCDATA(xmlData, i) {\n  if (xmlData.length > i + 5 && xmlData[i + 1] === '-' && xmlData[i + 2] === '-') {\n    //comment\n    for (i += 3; i < xmlData.length; i++) {\n      if (xmlData[i] === '-' && xmlData[i + 1] === '-' && xmlData[i + 2] === '>') {\n        i += 2;\n        break;\n      }\n    }\n  } else if (\n    xmlData.length > i + 8 &&\n    xmlData[i + 1] === 'D' &&\n    xmlData[i + 2] === 'O' &&\n    xmlData[i + 3] === 'C' &&\n    xmlData[i + 4] === 'T' &&\n    xmlData[i + 5] === 'Y' &&\n    xmlData[i + 6] === 'P' &&\n    xmlData[i + 7] === 'E'\n  ) {\n    let angleBracketsCount = 1;\n    for (i += 8; i < xmlData.length; i++) {\n      if (xmlData[i] === '<') {\n        angleBracketsCount++;\n      } else if (xmlData[i] === '>') {\n        angleBracketsCount--;\n        if (angleBracketsCount === 0) {\n          break;\n        }\n      }\n    }\n  } else if (\n    xmlData.length > i + 9 &&\n    xmlData[i + 1] === '[' &&\n    xmlData[i + 2] === 'C' &&\n    xmlData[i + 3] === 'D' &&\n    xmlData[i + 4] === 'A' &&\n    xmlData[i + 5] === 'T' &&\n    xmlData[i + 6] === 'A' &&\n    xmlData[i + 7] === '['\n  ) {\n    for (i += 8; i < xmlData.length; i++) {\n      if (xmlData[i] === ']' && xmlData[i + 1] === ']' && xmlData[i + 2] === '>') {\n        i += 2;\n        break;\n      }\n    }\n  }\n\n  return i;\n}\n\nconst doubleQuote = '\"';\nconst singleQuote = \"'\";\n\n/**\n * Keep reading xmlData until '<' is found outside the attribute value.\n * @param {string} xmlData\n * @param {number} i\n */\nfunction readAttributeStr(xmlData, i) {\n  let attrStr = '';\n  let startChar = '';\n  let tagClosed = false;\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] === doubleQuote || xmlData[i] === singleQuote) {\n      if (startChar === '') {\n        startChar = xmlData[i];\n      } else if (startChar !== xmlData[i]) {\n        //if vaue is enclosed with double quote then single quotes are allowed inside the value and vice versa\n      } else {\n        startChar = '';\n      }\n    } else if (xmlData[i] === '>') {\n      if (startChar === '') {\n        tagClosed = true;\n        break;\n      }\n    }\n    attrStr += xmlData[i];\n  }\n  if (startChar !== '') {\n    return false;\n  }\n\n  return {\n    value: attrStr,\n    index: i,\n    tagClosed: tagClosed\n  };\n}\n\n/**\n * Select all the attributes whether valid or invalid.\n */\nconst validAttrStrRegxp = new RegExp('(\\\\s*)([^\\\\s=]+)(\\\\s*=)?(\\\\s*([\\'\"])(([\\\\s\\\\S])*?)\\\\5)?', 'g');\n\n//attr, =\"sd\", a=\"amit's\", a=\"sd\"b=\"saf\", ab  cd=\"\"\n\nfunction validateAttributeString(attrStr, options) {\n  //console.log(\"start:\"+attrStr+\":end\");\n\n  //if(attrStr.trim().length === 0) return true; //empty string\n\n  const matches = util.getAllMatches(attrStr, validAttrStrRegxp);\n  const attrNames = {};\n\n  for (let i = 0; i < matches.length; i++) {\n    if (matches[i][1].length === 0) {\n      //nospace before attribute name: a=\"sd\"b=\"saf\"\n      return getErrorObject('InvalidAttr', \"Attribute '\"+matches[i][2]+\"' has no space in starting.\", getPositionFromMatch(matches[i]))\n    } else if (matches[i][3] !== undefined && matches[i][4] === undefined) {\n      return getErrorObject('InvalidAttr', \"Attribute '\"+matches[i][2]+\"' is without value.\", getPositionFromMatch(matches[i]));\n    } else if (matches[i][3] === undefined && !options.allowBooleanAttributes) {\n      //independent attribute: ab\n      return getErrorObject('InvalidAttr', \"boolean attribute '\"+matches[i][2]+\"' is not allowed.\", getPositionFromMatch(matches[i]));\n    }\n    /* else if(matches[i][6] === undefined){//attribute without value: ab=\n                    return { err: { code:\"InvalidAttr\",msg:\"attribute \" + matches[i][2] + \" has no value assigned.\"}};\n                } */\n    const attrName = matches[i][2];\n    if (!validateAttrName(attrName)) {\n      return getErrorObject('InvalidAttr', \"Attribute '\"+attrName+\"' is an invalid name.\", getPositionFromMatch(matches[i]));\n    }\n    if (!attrNames.hasOwnProperty(attrName)) {\n      //check for duplicate attribute.\n      attrNames[attrName] = 1;\n    } else {\n      return getErrorObject('InvalidAttr', \"Attribute '\"+attrName+\"' is repeated.\", getPositionFromMatch(matches[i]));\n    }\n  }\n\n  return true;\n}\n\nfunction validateNumberAmpersand(xmlData, i) {\n  let re = /\\d/;\n  if (xmlData[i] === 'x') {\n    i++;\n    re = /[\\da-fA-F]/;\n  }\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] === ';')\n      return i;\n    if (!xmlData[i].match(re))\n      break;\n  }\n  return -1;\n}\n\nfunction validateAmpersand(xmlData, i) {\n  // https://www.w3.org/TR/xml/#dt-charref\n  i++;\n  if (xmlData[i] === ';')\n    return -1;\n  if (xmlData[i] === '#') {\n    i++;\n    return validateNumberAmpersand(xmlData, i);\n  }\n  let count = 0;\n  for (; i < xmlData.length; i++, count++) {\n    if (xmlData[i].match(/\\w/) && count < 20)\n      continue;\n    if (xmlData[i] === ';')\n      break;\n    return -1;\n  }\n  return i;\n}\n\nfunction getErrorObject(code, message, lineNumber) {\n  return {\n    err: {\n      code: code,\n      msg: message,\n      line: lineNumber.line || lineNumber,\n      col: lineNumber.col,\n    },\n  };\n}\n\nfunction validateAttrName(attrName) {\n  return util.isName(attrName);\n}\n\n// const startsWithXML = /^xml/i;\n\nfunction validateTagName(tagname) {\n  return util.isName(tagname) /* && !tagname.match(startsWithXML) */;\n}\n\n//this function returns the line number for the character at the given index\nfunction getLineNumberForPosition(xmlData, index) {\n  const lines = xmlData.substring(0, index).split(/\\r?\\n/);\n  return {\n    line: lines.length,\n\n    // column number is last line's length + 1, because column numbering starts at 1:\n    col: lines[lines.length - 1].length + 1\n  };\n}\n\n//this function returns the position of the first character of match within attrStr\nfunction getPositionFromMatch(match) {\n  return match.startIndex + match[1].length;\n}\n","'use strict';\n\nvar callBound = require('call-bound');\nvar isRegex = require('is-regex');\n\nvar $exec = callBound('RegExp.prototype.exec');\nvar $TypeError = require('es-errors/type');\n\n/** @type {import('.')} */\nmodule.exports = function regexTester(regex) {\n\tif (!isRegex(regex)) {\n\t\tthrow new $TypeError('`regex` must be a RegExp');\n\t}\n\treturn function test(s) {\n\t\treturn $exec(regex, s) !== null;\n\t};\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \"-\" + chunkId + \".js?v=\" + {\"2710\":\"0c2e26891ac1c05900e0\",\"3556\":\"920f98152ec7950e8055\",\"4471\":\"9b3c8620f038b7593241\",\"4508\":\"4f9ba343a7e7fd00523e\",\"4906\":\"494ff510a1379d42d106\",\"5528\":\"4969c40bb399c4a4330d\",\"5862\":\"580b9c2e231a9169a12f\",\"7004\":\"da5a822695a273d4d2eb\",\"7039\":\"9800c2c4f93af8d9465e\",\"7394\":\"5b773f16893ed80e0246\",\"7859\":\"cd6f48c919ca307639eb\",\"8124\":\"7273b44251b9ce503f49\",\"8127\":\"b62d5791b2d7256af4a8\",\"8453\":\"0ad2c9a35eee895d5980\"}[chunkId] + \"\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 2122;","var scriptUrl;\nif (globalThis.importScripts) scriptUrl = globalThis.location + \"\";\nvar document = globalThis.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = (typeof document !== 'undefined' && document.baseURI) || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t2122: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunknextcloud_ui_legacy\"] = globalThis[\"webpackChunknextcloud_ui_legacy\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [4208], () => (__webpack_require__(5428)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","inProgress","dataWebpackPrefix","urlJoin","strArray","resultArray","length","TypeError","match","first","shift","replace","i","component","push","str","join","parts","split","normalize","arguments","slice","call","$TypeError","inspect","getSideChannelList","getSideChannelMap","makeChannel","module","exports","$channelData","channel","assert","key","has","get","set","value","cached","constructor","tagname","this","child","add","val","addChild","node","Object","keys","buildFromOrderedJs","getIgnoreAttributesFn","defaultOptions","attributeNamePrefix","attributesGroupName","textNodeName","ignoreAttributes","cdataPropName","format","indentBy","suppressEmptyNode","suppressUnpairedNode","suppressBooleanAttributes","tagValueProcessor","a","attributeValueProcessor","attrName","preserveOrder","commentPropName","unpairedTags","entities","regex","RegExp","processEntities","stopNodes","oneListGroup","Builder","options","assign","isAttribute","ignoreAttributesFn","attrPrefixLen","processTextOrObjNode","indentate","tagEndChar","newLine","object","level","ajPath","result","j2x","concat","undefined","buildTextValNode","attrStr","buildObjectNode","repeat","name","startsWith","substr","prototype","build","jObj","Array","isArray","arrayNodeName","jPath","hasOwnProperty","Date","attr","buildAttrPairStr","newval","replaceEntitiesValue","arrLen","listTagVal","listTagAttr","j","item","textValue","Ks","L","closeTag","tagEndExp","piClosingChar","indexOf","entity","createErrorFromResponse","response","prefix","err","Error","status","statusText","handleResponseCode","context","digest","processGlobFilter","files","glob","filter","file","filename","matchBase","processResponsePayload","data","isDetailed","headers","debug_1","hasRequiredDebug","constants","hasRequiredConstants","requireDebug","debug","process","env","NODE_DEBUG","test","args","console","error","requireConstants","MAX_SAFE_INTEGER","Number","MAX_LENGTH","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","RELEASE_TYPES","SEMVER_SPEC_VERSION","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","freeze","DEFAULT","HIDDEN","hasRequiredRe","parseOptions_1","hasRequiredParseOptions","identifiers","hasRequiredIdentifiers","semver","hasRequiredSemver","major_1","hasRequiredMajor","parse_1","hasRequiredParse","valid_1","hasRequiredValid","re","requireSemver","safeRe","re2","t","src","safeSrc","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","isGlobal","safe","token","max","makeSafeRegex","index","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","COERCE","COERCEFULL","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","parseOptions","looseOption","loose","emptyOpts","requireParseOptions","compareIdentifiers","numeric","a2","b2","anum","bnum","rcompareIdentifiers","requireIdentifiers","SemVer","version","includePrerelease","m","trim","LOOSE","FULL","raw","major","minor","patch","prerelease","map","id","num","toString","compare","other","compareMain","comparePre","compareBuild","inc","release","identifier","identifierBase","base","isNaN","requireMajor","parse","throwErrors","er","requireParse","v","requireValid","UploadFromDevice","CreateNew","Other","ReservedName","Character","Extension","Name","Modified","Size","ActivityTabPluginView","ActivityTabPluginInstance","Vue","use","PiniaVuePlugin","__webpack_nonce__","getCSPNonce","tagName","tab","loadState","OCA","Activity","registerSidebarAction","window","addEventListener","mount","async","el","reload","pinia","createPinia","default","ActivityCommentAction","extend","propsData","reloadCallback","resourceId","fileid","logger","info","unmount","$destroy","registerSidebarEntries","limit","offset","comments","getComments","resourceType","CommentView","CommentsViewObject","comment","_CommentsViewInstance","timestamp","moment","props","creationDateTime","toDate","getTime","element","registerSidebarFilter","activity","type","CSS","escape","displayName","iconSvgInline","order","enabled","onInit","validateSidebarTab","FilesSidebarTab","mixin","webComponent","wrap","defineProperty","customElements","define","_nc_files_sidebar_tabs","Map","l","warn","buildOptions","OrderedObjParser","prettify","validator","externalEntities","xmlData","validationOption","validate","msg","line","col","orderedObjParser","addExternalEntities","orderedResult","parseXml","addEntity","xhr","getXHR","XMLHttpRequest","open","XDomainRequest","e","checkTypeSupport","responseType","isFunction","fetch","ReadableStream","writableStream","WritableStream","abortController","AbortController","arraybuffer","msstream","mozchunkedarraybuffer","overrideMimeType","capability","inherits","stream","rStates","readyStates","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","IncomingMessage","mode","resetTimers","self","Readable","_mode","rawHeaders","trailers","rawTrailers","on","nextTick","emit","_fetchResponse","url","statusCode","statusMessage","forEach","header","toLowerCase","writable","write","chunk","Promise","resolve","reject","_destroyed","Buffer","from","_resumeFetch","close","abort","body","pipeTo","catch","reader","getReader","read","then","done","_xhr","_pos","responseURL","getAllResponseHeaders","matches","_charset","mimeType","charsetMatch","_read","_onXHRProgress","responseText","newData","buffer","alloc","charCodeAt","readyState","Uint8Array","MSStreamReader","onprogress","byteLength","onload","readAsArrayBuffer","parseQuota","responseItem","multistatus","propstat","prop","quotaUsed","quotaAvail","used","parseInt","String","available","balanced","b","maybeMatch","r","range","start","end","pre","post","reg","begs","beg","left","right","ai","bi","pop","Duplex","CorkedRequest","state","_this","next","entry","finish","corkReq","cb","callback","pendingcb","onCorkedFinish","corkedRequestsFree","Writable","WritableState","realHasInstance","internalUtil","deprecate","Stream","OurUint8Array","destroyImpl","getHighWaterMark","_require$codes","ERR_INVALID_ARG_TYPE","ERR_METHOD_NOT_IMPLEMENTED","ERR_MULTIPLE_CALLBACK","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","errorOrDestroy","nop","isDuplex","objectMode","writableObjectMode","highWaterMark","finalCalled","needDrain","ending","ended","finished","destroyed","noDecode","decodeStrings","defaultEncoding","writing","corked","sync","bufferProcessing","onwrite","_writableState","writecb","writelen","onwriteStateUpdate","finishMaybe","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","emitClose","autoDestroy","bufferedRequestCount","_write","writev","_writev","destroy","_destroy","final","_final","doWrite","len","encoding","onwriteDrain","holder","count","allBuffers","isBuf","callFinal","need","prefinish","rState","_readableState","endEmitted","getBuffer","current","out","_","Symbol","hasInstance","Function","pipe","obj","ret","isBuffer","_uint8ArrayToBuffer","writeAfterEnd","validChunk","newChunk","decodeChunk","last","writeOrBuffer","cork","uncork","setDefaultEncoding","enumerable","once","endWritable","_undestroy","undestroy","nodeType","freeGlobal","global","punycode","maxInt","regexPunycode","regexNonASCII","regexSeparators","errors","floor","Math","stringFromCharCode","fromCharCode","RangeError","array","fn","mapDomain","string","ucs2decode","extra","output","counter","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","baseMinusTMin","decode","input","basic","oldi","w","baseMinusT","inputLength","n","bias","lastIndexOf","splice","encode","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread","target","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","_defineProperties","descriptor","arg","prim","toPrimitive","res","hint","_toPrimitive","custom","copyBuffer","copy","BufferList","instance","Constructor","_classCallCheck","head","tail","protoProps","s","p","allocUnsafe","hasStrings","_getString","_getBuffer","c","nb","buf","depth","customInspect","getDAVCompliance","filePath","requestOptions","remoteURL","method","compliance","server","http","https","validateParams","params","protocol","request","getGlobalName","ClientRequest","statusCodes","opts","defaultProtocol","location","search","host","hostname","port","path","toUpperCase","req","Agent","defaultMaxSockets","globalAgent","STATUS_CODES","METHODS","ERR_INVALID_OPT_VALUE","duplexKey","hwm","highWaterMarkFrom","isFinite","util","isString","x","normalizeArray","allowAboveRoot","splitPathRe","posix","posixSplitPath","exec","resolvedPath","resolvedAbsolute","cwd","charAt","isAbsolute","trailingSlash","segment","relative","to","arr","fromParts","toParts","min","samePartsLength","outputParts","_makeLong","dirname","root","dir","basename","ext","f","extname","pathObject","isObject","sep","pathString","allParts","delimiter","callBound","hasToStringTag","hasOwn","gOPD","$exec","isRegexMarker","throwRegexMarker","badStringifier","valueOf","$toString","XMLParser","XMLBuilder","XMLValidator","listGetNode","list","isDelete","curr","prev","$o","deletedNode","objects","listDelete","listGet","listHas","listSet","EntityLevel","EncodingMode","emitErrorAndCloseNT","emitErrorNT","emitCloseNT","readableDestroyed","writableDestroyed","reading","wState","getRootPath","generateRemoteUrl","_Object$setPrototypeO","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","iter","onReadable","AsyncIteratorPrototype","getPrototypeOf","ReadableStreamAsyncIteratorPrototype","setPrototypeOf","promise","lastPromise","wrapForNext","asyncIterator","_this2","_Object$create","iterator","create","code","bind","Layerr","errorOptionsOrMessage","messageText","shortMessage","message","cause","super","_info","captureStackTrace","ctor","constructorOpt","_cause","fullStack","stack","TRANSFORM_RETAIN_FORMAT","getFileContents","InvalidOutputFormat","Accept","transformResponse","text","details","getFileContentsString","arrayBuffer","getFileContentsBuffer","getFileDownloadLink","authType","None","Password","authPart","Authorization","authContents","LinkUnsupportedAuthType","types","Set","isExtglobType","startNoDot","addPatternStart","justDots","reSpecials","regExpEscape","qmark","star","starNoEmpty","AST","parent","hasMagic","pp","part","copyIn","toJSON","isStart","unshift","isEnd","pl","clone","ast","pos","opt","escaping","inBrace","braceStart","braceNeg","acc","noext","substring","fromGlob","pattern","toMMPattern","uflag","toRegExpSource","nocase","nocaseMagicOnly","flags","_src","_glob","allowDot","dot","noEmpty","aps","needNoTrav","needNoDot","repeated","bodyDotAllowed","_hasMagic","needUflag","consumed","magic","generateBasicAuthHeader","username","password","HOT_PATCHER_TYPE","NOOP","createNewItem","original","methods","HotPatcher","_configuration","registry","getEmptyAction","__type__","configuration","newAction","control","allowTargetOverrides","foreignKey","execute","isPatched","chain","patchInline","plugin","restore","setFinal","ERR_STREAM_PREMATURE_CLOSE","noop","eos","called","_len","_key","readable","onlegacyfinish","onfinish","writableEnded","readableEnded","onend","onerror","onclose","onrequest","setHeader","isRequest","removeListener","sequence","isReactNative","TARGET","isWeb","unescape","windowsPathsNoEscape","CharCodes","BinTrieFlags","EntityDecoderState","DecodingMode","_typeof","_wrapNativeSuper","Class","_cache","Wrapper","_construct","_getPrototypeOf","_setPrototypeOf","Parent","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","o","__proto__","ObjectPrototypeMutationError","_Error","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","subClass","superClass","_inherits","traverse","segments","_loop","idx","currentSegment","remainingSegments","pathToHere","_ret","isLastSegment","property","currentObject","currentProperty","nextPropIsNumber","isInteger","nextPropIsArrayWildcard","own","isIn","objectInPath","pathExists","validPath","fromCodePoint","generateLockXML","ownerHREF","namespace","lockinfo","lockscope","exclusive","locktype","owner","href","ns","parseGenericResponse","xml","removeNSPrefix","parseAttributeValue","parseTagValue","createDirectory","dirPath","recursive","paths","sort","creating","testPath","createDirectoryRecursively","endsWith","putFileContents","contentLength","overwrite","getFileUploadLink","client","createClient","setHeaders","requesttoken","onRequestTokenUpdate","getRequestToken","ha1Compute","algorithm","user","realm","pass","nonce","cnonce","ha1","ha1Hash","DEFAULT_LIMIT","resourcePath","datetime","toISOString","customRequest","responseData","stat","responseItems","prepareFileFromProps","getDirectoryFiles","parseXML","SEP_PATH_POSIX","SEP_PATH_WINDOWS","encodePath","replaced","encodeURIComponent","getAllDirectories","directory","currentPath","makePathAbsolute","pathStr","normalisePath","normalisedPath","setupAuth","oauthToken","Auto","Digest","Token","InvalidAuthType","ERR_MISSING_ARGS","streams","popCallback","destroys","closed","destroyer","reduce","formats","getSideChannel","overflowChannel","markOverflow","maxIndex","isOverflow","getMaxIndex","setMaxIndex","hexTable","arrayToObject","plainObjects","combine","arrayLimit","newIndex","compact","queue","refs","compacted","compactQueue","defaultDecoder","charset","strWithoutPlus","decodeURIComponent","defaultEncoder","kind","$0","RFC1738","isRegExp","maybeMap","mapped","merge","allowPrototypes","sourceKeys","mergeTarget","targetItem","AuthType","ErrorCode","requestDataToFetchBody","JSON","stringify","DEFAULT_TIMEOUT","lock","refreshToken","timeout","Timeout","If","contactHref","lockPayload","serverTimeout","unlock","codePointAt","descriptors","formatRegExp","isNull","noDeprecation","warned","throwDeprecation","traceDeprecation","trace","debugs","debugEnvRegex","debugEnv","ctx","seen","stylize","stylizeNoColor","colors","isBoolean","showHidden","_extend","isUndefined","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","primitive","simple","isNumber","formatPrimitive","visibleKeys","hash","arrayToHash","getOwnPropertyNames","isError","formatError","isDate","braces","toUTCString","formatProperty","formatArray","cur","reduceToSingleString","desc","ar","objectToString","d","pad","debuglog","pid","isNullOrUndefined","isSymbol","isNativeError","isPrimitive","months","log","time","getHours","getMinutes","getSeconds","getDate","getMonth","origin","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","newReason","promisify","promiseResolve","promiseReject","callbackify","callbackified","maybeCb","rej","minimatch","nocomment","Minimatch","starDotExtRE","starDotExtTest","starDotExtTestDot","starDotExtTestNocase","starDotExtTestNocaseDot","starDotStarRE","starDotStarTest","includes","starDotStarTestDot","dotStarRE","dotStarTest","starRE","starTest","starTestDot","qmarksRE","qmarksTestNocase","qmarksTestNoExt","qmarksTestNocaseDot","qmarksTestNoExtDot","qmarksTestDot","qmarksTest","defaultPlatform","__MINIMATCH_TESTING_PLATFORM__","platform","GLOBSTAR","defaults","def","orig","makeRe","braceExpand","nobrace","mm","nonull","globMagic","nonegate","negate","empty","preserveMultipleSlashes","partial","globSet","globParts","isWindows","windowsNoMagicRoot","regexp","allowWindowsEscape","make","magicalBraces","parseNegate","rawGlobParts","slashSplit","preprocess","__","isUNC","isDrive","ss","noglobstar","optimizationLevel","firstPhasePreProcess","secondPhasePreProcess","levelOneOptimize","adjascentGlobstarOptimize","gs","levelTwoFileOptimize","didSomething","dd","gss","p2","splin","matched","partsMatch","emptyGSMatch","which","negateOffset","matchOne","fileDrive","fileUNC","patternDrive","fdi","pdi","fd","pd","fi","pi","fl","fr","pr","swallowee","hit","fastTest","twoStar","ex","ff","flipNegate","hexRegex","numRegex","consider","hex","leadingZeros","decimalPoint","eNotation","trimmedStr","skipLike","numStr","parse_int","notation","sign","numTrimmedByZeros","isStandardArguments","toStringTag","isLegacyArguments","callee","supportsStandardArguments","hasArrayBuffer","ArrayBuffer","objToString","isArrayBuffer","isFnRegex","safeRegexTest","getProto","toStr","fnToStr","getGeneratorFunction","GeneratorFunction","isArgumentsObject","isGeneratorFunction","whichTypedArray","isTypedArray","uncurryThis","BigIntSupported","BigInt","SymbolSupported","ObjectToString","numberValue","stringValue","booleanValue","Boolean","bigIntValue","symbolValue","checkBoxedPrimitive","prototypeValueOf","isMapToString","isSetToString","isWeakMapToString","isWeakSetToString","isArrayBufferToString","working","isDataViewToString","isDataView","DataView","isPromise","isArrayBufferView","isView","isUint8Array","isUint8ClampedArray","isUint16Array","isUint32Array","isInt8Array","isInt16Array","isInt32Array","isFloat32Array","isFloat64Array","isBigInt64Array","isBigUint64Array","isMap","isSet","WeakMap","isWeakMap","WeakSet","isWeakSet","SharedArrayBufferCopy","SharedArrayBuffer","isSharedArrayBufferToString","isSharedArrayBuffer","isNumberObject","isStringObject","isBooleanObject","isBigIntObject","isSymbolObject","isAsyncFunction","isMapIterator","isSetIterator","isGeneratorObject","isWebAssemblyCompiledModule","isBoxedPrimitive","isAnyArrayBuffer","copyFile","destination","Destination","Overwrite","Depth","shallow","xmlNode","readDocType","toNumber","entKeys","ent","lastEntities","parseTextData","dontTrim","hasAttributes","isLeafNode","escapeEntities","trimValues","parseValue","numberParseOptions","resolveNameSpace","tags","attrsRegx","buildAttributesMap","getAllMatches","attrs","oldVal","aName","transformAttributeName","newVal","allowBooleanAttributes","attrCollection","xmlObj","currentNode","textData","closeIndex","findClosingIndex","colonIndex","transformTagName","saveTextToParentTag","lastTagName","propIndex","tagsNodeStack","tagData","readTagExp","ignoreDeclaration","ignorePiTags","childNode","tagExp","attrExpPresent","endIndex","docTypeEntities","rawTagName","lastTag","isItStopNode","tagContent","readStopNodeData","updateTag","entityName","regx","htmlEntities","ampEntity","currentTagName","allNodesExp","stopNodePath","stopNodeExp","errMsg","closingIndex","closingChar","attrBoundary","ch","tagExpWithClosingIndex","separatorIndex","trimStart","startIndex","openTagCount","shouldParse","isExist","ReadableState","EElistenerCount","emitter","listeners","debugUtil","StringDecoder","createReadableStreamAsyncIterator","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kProxyEvents","readableObjectMode","pipes","pipesCount","flowing","needReadable","emittedReadable","readableListening","resumeScheduled","paused","awaitDrain","readingMore","decoder","readableAddChunk","addToFront","skipChunkCheck","emitReadable","emitReadable_","onEofChunk","chunkInvalid","addChunk","maybeReadMore","isPaused","setEncoding","enc","content","clear","MAX_HWM","howMuchToRead","computeNewHighWaterMark","flow","maybeReadMore_","updateReadableListening","listenerCount","resume","nReadingNextTick","resume_","fromList","consume","endReadable","endReadableNT","xs","nOrig","doRead","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","ondrain","ondata","cleanedUp","pipeOnDrain","pause","event","prependListener","_events","dests","ev","addListener","removeAllListeners","_fromList","iterable","readEntityExp","startChar","isComment","isEntity","isElement","isAttlist","isNotation","validateEntityName","isName","angleBracketsCount","hasBody","exp","preferBinary","_opts","_body","_headers","auth","useFetch","decideMode","_fetchTimer","_socketTimeout","_socketTimer","_onFinish","lowerName","unsafeHeaders","getHeader","removeHeader","setTimeout","headersObj","Blob","headersList","keyName","signal","controller","_fetchAbortController","requestTimeout","credentials","withCredentials","_resetTimers","_connect","ontimeout","setRequestHeader","_response","onreadystatechange","send","statusValid","clearTimeout","flushHeaders","setNoDelay","setSocketKeepAlive","arrToStr","indentation","xmlStr","isPreviousElementTag","tagObj","propName","newJPath","tagText","isStopNode","attStr","attr_to_str","tempInd","piTextNodeName","newIdentation","tagStart","tagValue","attrMap","attrVal","jArray","fromBase64","toBase64","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setSize","setForEach","weakMapHas","weakSetHas","weakRefDeref","WeakRef","deref","booleanValueOf","functionToString","$match","$slice","$replace","$toUpperCase","$toLowerCase","$test","$concat","$join","$arrSlice","$floor","bigIntValueOf","gOPS","symToString","hasShammedSymbols","isEnumerable","propertyIsEnumerable","gPO","O","addNumericSeparator","Infinity","sepRegex","int","intStr","dec","utilInspect","inspectCustom","inspectSymbol","quotes","single","quoteREs","wrapQuotes","defaultStyle","quoteStyle","quoteChar","quote","canTrustToString","inspect_","maxStringLength","indent","numericSeparator","inspectString","bigIntStr","maxDepth","baseIndent","getIndent","noIndent","newOpts","nameOf","arrObjKeys","symString","markBoxed","HTMLElement","nodeName","getAttribute","attributes","childNodes","singleLineValues","indentedJoin","mapParts","collectionOf","setParts","weakCollectionOf","isWeakRef","isBigInt","globalThis","ys","isPlainObject","protoTag","stringTag","tag","remaining","trailer","quoteRE","lastIndex","lowbyte","size","entries","lineJoiner","isArr","symMap","syms","required","qs","controlOrWhitespace","CRHTLF","slashes","protocolre","windowsDriveLetter","trimLeft","rules","address","isSpecial","NaN","ignore","query","lolcation","loc","finaldestination","Url","pathname","scheme","extractProtocol","rest","forwardSlashes","otherSlashes","slashesCount","parser","extracted","instruction","instructions","up","char","ins","utils","allowDots","allowEmptyArrays","allowSparse","charsetSentinel","comma","decodeDotInKeys","duplicates","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","strictDepth","strictNullHandling","throwOnLimitExceeded","numberStr","parseArrayValue","currentArrayLength","parseKeys","givenKey","valuesParsed","segmentContent","splitKeyIntoSegments","parentKey","leaf","cleanRoot","decodedRoot","parseObject","normalizeParseOptions","tempObj","cleanStr","skipIndex","bracketEqualsPos","encodedVal","existing","parseValues","newObj","Transform","PassThrough","pipeline","objectKeys","allowHalfOpen","onEndNT","createReadStream","outStream","PassThroughStream","rangeHeader","Range","responseError","getFileStream","createWriteStream","writeStream","maxRedirects","expand","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","unescapeBraces","random","parseCommaParts","postParts","embrace","isPadded","lte","y","gte","isTop","expansions","expansion","N","isNumericSequence","isAlphaSequence","isSequence","isOptions","width","incr","abs","some","z","calculateDataLength","DataTypeNoLength","GetIntrinsic","$WeakMap","$weakMapGet","$weakMapSet","$weakMapHas","$weakMapDelete","$wm","$m","codes","createErrorType","Base","NodeError","_Base","arg1","arg2","arg3","getMessage","oneOf","expected","thing","actual","determiner","this_len","posixClasses","braceEscape","rangesToString","ranges","parseClass","position","negs","sawStart","endPos","rangeStart","WHILE","cls","unip","u","neg","sranges","snegs","pairs","getDirectoryContents","remotePath","deep","davResp","_remotePath","serverremoteBasePath","requestPath","includeSelf","serverBase","nodes","remoteBasePath","compress","compressedObj","newJpath","isLeaf","isLeafTag","assignAttributes","alwaysCreateTextNode","jpath","atrrName","propCount","percentTwenties","Format","formatters","RFC3986","exists","finalOptions","moveFile","deleteFile","parseArguments","cloneShallow","proto","items","nextItem","mergeObjects","obj1","obj2","convertResponseHeaders","mergeHeaders","headerPayloads","headerKeys","lowerHeader","getSearch","searchArbiter","results","$Map","$mapGet","$mapSet","$mapHas","$mapDelete","$mapSize","fill","readUInt8","partialUpdateFileContents","InvalidUpdateRange","partialUpdateFileContentsSabredav","partialUpdateFileContentsApache","NotSupported","_transform","assertValidPattern","__patcher","getPatcher","getStat","DEFAULT_CONTACT_HREF","authTypeRaw","httpAgent","httpsAgent","getHeaders","getQuota","destinationFilename","extractURLPath","fullURL","urlPath","joinURL","nextPart","partIndex","normaliseHREF","InvalidCharacterError","TABLE","REGEX_SPACE_CHARACTERS","base64","padding","bitStorage","bitCounter","quota","nameStartChar","nameRegexp","regexName","isEmptyObject","arrayMode","getValue","allmatches","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","javascript","hostlessProtocol","slashedProtocol","ftp","gopher","querystring","urlParse","parseQueryString","slashesDenoteHost","queryIndex","splitter","uSplit","simplePath","lowerProto","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","toASCII","h","ae","esc","qm","arrayFormat","addQueryPrefix","resolveObject","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","authInHost","hasTrailingSlash","prepareRequestOptions","userOptions","_digest","requestStandard","ok","requestDigest","requestAuto","hasDigestAuth","response2","nc","patcher","newHeaders","agent","parsedURL","getFetchOptions","generateTokenAuthHeader","token_type","access_token","createDigestContext","generateDigestAuthHeader","uri","qop","ncString","ha2","digestResponse","authValues","opaque","authHeader","parseDigestAuth","responseIndicatesDigestAuth","uid","NONCE_CHARS","makeNonce","PropertyType","getPropertyOfType","Original","normaliseResponse","normaliseResult","attrValue","getlastmodified","lastMod","getcontentlength","rawSize","resourcetype","getcontenttype","getetag","etag","collection","lastmod","mime","displayname","parseStat","statusLine","statusCodeStr","parseSearch","truncated","translateDiskSpace","assertError","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","transform","flush","_flush","err2","getLoggerBuilder","setApp","detectUser","WorkerGlobalScope","Headers","Request","Response","arrayPrefixGenerators","brackets","indices","pushToArray","valueOrArray","toISO","defaultFormat","commaRoundTrip","encodeDotInKeys","encoder","encodeValuesOnly","formatter","serializeDate","date","skipNulls","sentinel","generateArrayPrefix","sideChannel","tmpSc","step","findFlag","objKeys","values","encodedPrefix","adjustedPrefix","encodedKey","keyPrefix","valueSideChannel","normalizeStringifyOptions","joined","isWhiteSpace","readPI","getErrorObject","getLineNumberForPosition","readCommentAndCDATA","readAttributeStr","tagClosed","tagFound","reachedRoot","tagStartPos","closingTag","validateTagName","attrStrStart","isValid","validateAttributeString","otg","openPos","afterAmp","validateAmpersand","validAttrStrRegxp","attrNames","getPositionFromMatch","validateAttrName","validateNumberAmpersand","lineNumber","lines","isRegex","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","chunkIds","priority","notFulfilled","fulfilled","every","getter","__esModule","definition","chunkId","all","promises","script","needAttach","scripts","document","getElementsByTagName","createElement","setAttribute","onScriptComplete","doneFns","parentNode","removeChild","appendChild","nmd","children","scriptUrl","importScripts","currentScript","baseURI","installedChunks","installedChunkData","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}