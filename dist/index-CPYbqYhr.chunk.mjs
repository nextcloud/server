import{u as M,N as P}from"./NcModal-DHryP_87-pygEG8MW.chunk.mjs";import{r as U,i as G,a as H,N as K,_ as Q,c as W}from"./createElementId-DhjFt1I9-BUbwiKd8.chunk.mjs";import{N as X}from"./autolink-U5pBzLgI-Crh7W_9h.chunk.mjs";import{N as Y}from"./Web-CKFWR0XD.chunk.mjs";import{f as z,g as v,o as u,w as y,j as Z,t as B,n as b,e as E,r as F,u as d,q as L,s as R,l as aa,x as O,b as p,I as ea,z as r,m as h,J as la,p as x,c as D,F as ta,C as oa,k as na}from"./runtime-dom.esm-bundler-BDtxTVnA.chunk.mjs";U(G);const ia=z({__name:"NcDialogButton",props:{callback:{type:Function,default:()=>{}},disabled:{type:Boolean,default:!1},icon:{default:void 0},label:{},type:{default:"button"},variant:{default:"tertiary"}},emits:["click"],setup(c,{emit:n}){const i=c,e=n,t=F(!1);async function m(l){if(!t.value){t.value=!0;try{const s=i.type==="reset"?!1:void 0,o=await i.callback?.()??s;o!==!1&&e("click",l,o)}finally{t.value=!1}}}return(l,s)=>(u(),v(d(X),{"aria-label":l.label,disabled:l.disabled,type:l.type,variant:l.variant,onClick:m},{icon:y(()=>[b(l.$slots,"icon",{},()=>[t.value?(u(),v(d(Y),{key:0,name:d(H)("Loading …")},null,8,["name"])):l.icon!==void 0?(u(),v(d(K),{key:1,svg:l.icon},null,8,["svg"])):E("",!0)])]),default:y(()=>[Z(B(l.label)+" ",1)]),_:3},8,["aria-label","disabled","type","variant"]))}}),sa=["id","textContent"],ua=["aria-label","aria-labelledby"],ra={class:"dialog__text"},da={class:"dialog__actions"},ca=z({__name:"NcDialog",props:L({name:{},message:{default:""},additionalTrapElements:{default:()=>[]},container:{default:"body"},size:{default:"small"},buttons:{default:()=>[]},isForm:{type:Boolean},noClose:{type:Boolean},closeOnClickOutside:{type:Boolean},outTransition:{type:Boolean},navigationAriaLabel:{default:""},navigationAriaLabelledby:{default:""},contentClasses:{default:""},dialogClasses:{default:""},navigationClasses:{default:""}},{open:{type:Boolean,default:!0},openModifiers:{}}),emits:L(["closing","reset","submit"],["update:open"]),setup(c,{emit:n}){const i=R(c,"open"),e=c,t=n,m=aa(),l=O("wrapper"),{width:s}=M(l,{width:900,height:0}),o=r(()=>s.value<876),f=r(()=>m?.navigation!==void 0),_=W(),$=r(()=>e.navigationAriaLabel||void 0),I=r(()=>{if(!e.navigationAriaLabel)return e.navigationAriaLabelledby||_}),N=O("dialogElement"),C=r(()=>e.isForm&&!f.value?"form":"div"),V=r(()=>C.value!=="form"?{}:{submit(a){a.preventDefault(),t("submit",a)},reset(a){a.preventDefault(),t("reset",a)}}),w=F(!0);function S(a,g){a.type==="submit"&&C.value==="form"&&"reportValidity"in N.value&&!N.value.reportValidity()||(T(g),window.setTimeout(()=>A(),300))}function T(a){w.value=!1,t("closing",a)}function A(){w.value=!0,i.value=!1}const j=r(()=>({noClose:e.noClose,container:e.container===void 0?"body":e.container,labelId:_,size:e.size,show:i.value&&w.value,outTransition:e.outTransition,closeOnClickOutside:e.closeOnClickOutside,additionalTrapElements:e.additionalTrapElements}));return(a,g)=>i.value?(u(),v(d(P),h({key:0,class:"dialog__modal",disableSwipe:""},j.value,{onClose:A,"onUpdate:show":g[0]||(g[0]=k=>T())}),{default:y(()=>[p("h2",{id:d(_),class:"dialog__name",textContent:B(a.name)},null,8,sa),(u(),v(ea(C.value),h({ref:"dialogElement",class:["dialog",a.dialogClasses]},la(V.value)),{default:y(()=>[p("div",{ref:"wrapper",class:x(["dialog__wrapper",[{"dialog__wrapper--collapsed":o.value}]])},[f.value?(u(),D("nav",{key:0,class:x(["dialog__navigation",a.navigationClasses]),"aria-label":$.value,"aria-labelledby":I.value},[b(a.$slots,"navigation",{isCollapsed:o.value},void 0,!0)],10,ua)):E("",!0),p("div",{class:x(["dialog__content",a.contentClasses])},[b(a.$slots,"default",{},()=>[p("p",ra,B(a.message),1)],!0)],2)],2),p("div",da,[b(a.$slots,"actions",{},()=>[(u(!0),D(ta,null,oa(a.buttons,(k,q)=>(u(),v(d(ia),h({key:q},{ref_for:!0},k,{onClick:(va,J)=>S(k,J)}),null,16,["onClick"]))),128))],!0)])]),_:3},16,["class"]))]),_:3},16)):E("",!0)}}),ya=Q(ca,[["__scopeId","data-v-24e91b99"]]);function _a(c,n={},i={}){let{container:e}=i;"container"in n&&typeof n.container=="string"&&(e??=n.container);const t=(typeof e=="string"&&document.querySelector(e)||document.body).appendChild(document.createElement("div"));return new Promise((m,l)=>{const s=na(c,{...n,container:null,onClose(...o){const f=o.length>1?o:o[0];s.unmount(),t.remove(),m(f)},"onVue:unmounted":()=>{s.unmount(),t.remove(),l(new Error("Dialog was unmounted without close event"))}});s.mount(t)})}export{ya as N,_a as s};
//# sourceMappingURL=index-CPYbqYhr.chunk.mjs.map
