{"version":3,"file":"files-reference-files.mjs","sources":["../apps/files/src/views/ReferenceFileWidget.vue","../apps/files/src/views/FileReferencePickerElement.vue","../apps/files/src/reference-files.ts"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"!accessible\" class=\"widget-file widget-file--no-access\">\n\t\t<span class=\"widget-file__image widget-file__image--icon\">\n\t\t\t<FolderIcon v-if=\"isFolder\" :size=\"88\" />\n\t\t\t<FileIcon v-else :size=\"88\" />\n\t\t</span>\n\t\t<span class=\"widget-file__details\">\n\t\t\t<p class=\"widget-file__title\">\n\t\t\t\t{{ t('files', 'File cannot be accessed') }}\n\t\t\t</p>\n\t\t\t<p class=\"widget-file__description\">\n\t\t\t\t{{ t('files', 'The file could not be found or you do not have permissions to view it. Ask the sender to share it.') }}\n\t\t\t</p>\n\t\t</span>\n\t</div>\n\n\t<!-- Live preview if a handler is available -->\n\t<component :is=\"viewerHandler.component\"\n\t\tv-else-if=\"interactive && viewerHandler && !failedViewer\"\n\t\t:active=\"false /* prevent video from autoplaying */\"\n\t\t:can-swipe=\"false\"\n\t\t:can-zoom=\"false\"\n\t\t:is-embedded=\"true\"\n\t\tv-bind=\"viewerFile\"\n\t\t:file-list=\"[viewerFile]\"\n\t\t:is-full-screen=\"false\"\n\t\t:is-sidebar-shown=\"false\"\n\t\tclass=\"widget-file widget-file--interactive\"\n\t\t@error=\"failedViewer = true\" />\n\n\t<!-- The file is accessible -->\n\t<a v-else\n\t\tclass=\"widget-file widget-file--link\"\n\t\t:href=\"richObject.link\"\n\t\ttarget=\"_blank\"\n\t\t@click=\"navigate\">\n\t\t<span class=\"widget-file__image\" :class=\"filePreviewClass\" :style=\"filePreviewStyle\">\n\t\t\t<template v-if=\"!previewUrl\">\n\t\t\t\t<FolderIcon v-if=\"isFolder\" :size=\"88\" fill-color=\"var(--color-primary-element)\" />\n\t\t\t\t<FileIcon v-else :size=\"88\" />\n\t\t\t</template>\n\t\t</span>\n\t\t<span class=\"widget-file__details\">\n\t\t\t<p class=\"widget-file__title\">{{ richObject.name }}</p>\n\t\t\t<p class=\"widget-file__description\">{{ fileSize }}<br>{{ fileMtime }}</p>\n\t\t\t<p class=\"widget-file__link\">{{ filePath }}</p>\n\t\t</span>\n\t</a>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, type Component, type PropType } from 'vue'\nimport { generateRemoteUrl, generateUrl } from '@nextcloud/router'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { getFilePickerBuilder } from '@nextcloud/dialogs'\nimport { Node } from '@nextcloud/files'\nimport FileIcon from 'vue-material-design-icons/File.vue'\nimport FolderIcon from 'vue-material-design-icons/Folder.vue'\nimport path from 'path'\n\n// see lib/private/Collaboration/Reference/File/FileReferenceProvider.php\ntype Ressource = {\n\tid: number\n\tname: string\n\tsize: number\n\tpath: string\n\tlink: string\n\tmimetype: string\n\tmtime: number // as unix timestamp\n\t'preview-available': boolean\n}\n\ntype ViewerHandler = {\n\tid: string\n\tgroup: string\n\tmimes: string[]\n\tcomponent: Component\n}\n\n/**\n * Minimal mock of the legacy Viewer FileInfo\n * TODO: replace by Node object\n */\ntype ViewerFile = {\n\tfilename: string // the path to the root folder\n\tbasename: string // the file name\n\tlastmod: Date // the last modification date\n\tsize: number // the file size in bytes\n\ttype: string\n\tmime: string\n\tfileid: number\n\tfailed: boolean\n\tloaded: boolean\n\tdavPath: string\n\tsource: string\n}\n\nexport default defineComponent({\n\tname: 'ReferenceFileWidget',\n\tcomponents: {\n\t\tFolderIcon,\n\t\tFileIcon,\n\t},\n\tprops: {\n\t\trichObject: {\n\t\t\ttype: Object as PropType<Ressource>,\n\t\t\trequired: true,\n\t\t},\n\t\taccessible: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tinteractive: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tpreviewUrl: null as string | null,\n\t\t\tfailedViewer: false,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tavailableViewerHandlers(): ViewerHandler[] {\n\t\t\treturn (window?.OCA?.Viewer?.availableHandlers || []) as ViewerHandler[]\n\t\t},\n\t\tviewerHandler(): ViewerHandler | undefined {\n\t\t\treturn this.availableViewerHandlers\n\t\t\t\t.find(handler => handler.mimes.includes(this.richObject.mimetype))\n\t\t},\n\t\tviewerFile(): ViewerFile {\n\t\t\tconst davSource = generateRemoteUrl(`dav/files/${getCurrentUser()?.uid}/${this.richObject.path}`)\n\t\t\t\t.replace(/\\/\\/$/, '/')\n\t\t\treturn {\n\t\t\t\tfilename: this.richObject.path,\n\t\t\t\tbasename: this.richObject.name,\n\t\t\t\tlastmod: new Date(this.richObject.mtime * 1000),\n\t\t\t\tsize: this.richObject.size,\n\t\t\t\ttype: 'file',\n\t\t\t\tmime: this.richObject.mimetype,\n\t\t\t\tfileid: this.richObject.id,\n\t\t\t\tfailed: false,\n\t\t\t\tloaded: true,\n\t\t\t\tdavPath: davSource,\n\t\t\t\tsource: davSource,\n\t\t\t}\n\t\t},\n\n\t\tfileSize() {\n\t\t\treturn window.OC.Util.humanFileSize(this.richObject.size)\n\t\t},\n\t\tfileMtime() {\n\t\t\treturn window.OC.Util.relativeModifiedDate(this.richObject.mtime * 1000)\n\t\t},\n\t\tfilePath() {\n\t\t\treturn path.dirname(this.richObject.path)\n\t\t},\n\t\tfilePreviewStyle() {\n\t\t\tif (this.previewUrl) {\n\t\t\t\treturn {\n\t\t\t\t\tbackgroundImage: 'url(' + this.previewUrl + ')',\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {}\n\t\t},\n\t\tfilePreviewClass() {\n\t\t\tif (this.previewUrl) {\n\t\t\t\treturn 'widget-file__image--preview'\n\t\t\t}\n\t\t\treturn 'widget-file__image--icon'\n\n\t\t},\n\t\tisFolder() {\n\t\t\treturn this.richObject.mimetype === 'httpd/unix-directory'\n\t\t},\n\t},\n\n\tmounted() {\n\t\tif (this.richObject['preview-available']) {\n\t\t\tconst previewUrl = generateUrl('/core/preview?fileId={fileId}&x=250&y=250', {\n\t\t\t\tfileId: this.richObject.id,\n\t\t\t})\n\t\t\tconst img = new Image()\n\t\t\timg.onload = () => {\n\t\t\t\tthis.previewUrl = previewUrl\n\t\t\t}\n\t\t\timg.onerror = err => {\n\t\t\t\tconsole.error('could not load recommendation preview', err)\n\t\t\t}\n\t\t\timg.src = previewUrl\n\t\t}\n\t},\n\tmethods: {\n\t\tnavigate(event) {\n\t\t\tif (this.isFolder) {\n\t\t\t\tevent.stopPropagation()\n\t\t\t\tevent.preventDefault()\n\t\t\t\tthis.openFilePicker()\n\t\t\t} else if (window?.OCA?.Viewer?.mimetypes.indexOf(this.richObject.mimetype) !== -1 && !window?.OCA?.Viewer?.file) {\n\t\t\t\tevent.stopPropagation()\n\t\t\t\tevent.preventDefault()\n\t\t\t\twindow?.OCA?.Viewer?.open({ path: this.richObject.path })\n\t\t\t}\n\t\t},\n\n\t\topenFilePicker() {\n\t\t\tconst picker = getFilePickerBuilder(t('settings', 'Your files'))\n\t\t\t\t.allowDirectories(true)\n\t\t\t\t.setMultiSelect(false)\n\t\t\t\t.addButton({\n\t\t\t\t\tid: 'open',\n\t\t\t\t\tlabel: this.t('settings', 'Open in files'),\n\t\t\t\t\tcallback(nodes: Node[]) {\n\t\t\t\t\t\tif (nodes[0]) {\n\t\t\t\t\t\t\twindow.open(generateUrl('/f/{fileid}', {\n\t\t\t\t\t\t\t\tfileid: nodes[0].fileid,\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttype: 'primary',\n\t\t\t\t})\n\t\t\t\t.disableNavigation()\n\t\t\t\t.startAt(this.richObject.path)\n\t\t\t\t.build()\n\t\t\tpicker.pick()\n\t\t},\n\t},\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.widget-file {\n\tdisplay: flex;\n\tflex-grow: 1;\n\tcolor: var(--color-main-text) !important;\n\ttext-decoration: none !important;\n\tpadding: 0 !important;\n\n\t&__image {\n\t\twidth: 30%;\n\t\tmin-width: 160px;\n\t\tmax-width: 320px;\n\t\tbackground-position: center;\n\t\tbackground-size: cover;\n\t\tbackground-repeat: no-repeat;\n\n\t\t&--icon {\n\t\t\tmin-width: 88px;\n\t\t\tmax-width: 88px;\n\t\t\tpadding: 12px;\n\t\t\tpadding-right: 0;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t}\n\t}\n\n\t&__title {\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\tfont-weight: bold;\n\t}\n\n\t&__details {\n\t\tpadding: 12px;\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\tp {\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t}\n\t}\n\n\t&__description {\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-line-clamp: 3;\n\t\tline-clamp: 3;\n\t\t-webkit-box-orient: vertical;\n\t}\n\n\t// No preview, standard link to ressource\n\t&--link {\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n\n\t&--interactive {\n\t\tposition: relative;\n\t\theight: 400px;\n\t\tmax-height: 50vh;\n\t\tmargin: 0;\n\t}\n}\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div :id=\"containerId\">\n\t\t<FilePicker v-bind=\"filepickerOptions\" @close=\"onClose\" />\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport type { Node as NcNode } from '@nextcloud/files'\nimport type { IFilePickerButton } from '@nextcloud/dialogs'\n\nimport { FilePickerVue as FilePicker } from '@nextcloud/dialogs/filepicker.js'\nimport { translate as t } from '@nextcloud/l10n'\nimport { generateUrl } from '@nextcloud/router'\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n\tname: 'FileReferencePickerElement',\n\tcomponents: {\n\t\tFilePicker,\n\t},\n\tprops: {\n\t\tproviderId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\taccessible: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\tcontainerId() {\n\t\t\treturn `filepicker-${Math.random().toString(36).slice(7)}`\n\t\t},\n\t\tfilepickerOptions() {\n\t\t\treturn {\n\t\t\t\tallowPickDirectory: false,\n\t\t\t\tbuttons: this.buttonFactory,\n\t\t\t\tcontainer: `#${this.containerId}`,\n\t\t\t\tmultiselect: false,\n\t\t\t\tname: t('files', 'Select file or folder to link to'),\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\tt,\n\n\t\tbuttonFactory(selected: NcNode[]): IFilePickerButton[] {\n\t\t\tconst buttons = [] as IFilePickerButton[]\n\t\t\tif (selected.length === 0) {\n\t\t\t\tbuttons.push({\n\t\t\t\t\tlabel: t('files', 'Choose file'),\n\t\t\t\t\ttype: 'tertiary' as never,\n\t\t\t\t\tcallback: this.onClose,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tbuttons.push({\n\t\t\t\t\tlabel: t('files', 'Choose {file}', { file: selected[0].basename }),\n\t\t\t\t\ttype: 'primary',\n\t\t\t\t\tcallback: this.onClose,\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn buttons\n\t\t},\n\n\t\tonClose(nodes?: NcNode[]) {\n\t\t\tif (nodes === undefined || nodes.length === 0) {\n\t\t\t\tthis.$emit('cancel')\n\t\t\t} else {\n\t\t\t\tthis.onSubmit(nodes[0])\n\t\t\t}\n\t\t},\n\n\t\tonSubmit(node: NcNode) {\n\t\t\tconst url = new URL(window.location.href)\n\t\t\turl.pathname = generateUrl('/f/{fileId}', { fileId: node.fileid! })\n\t\t\turl.search = ''\n\t\t\tthis.$emit('submit', url.href)\n\t\t},\n\t},\n})\n</script>\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport Vue from 'vue'\nimport { translate as t } from '@nextcloud/l10n'\n\nimport { registerWidget, registerCustomPickerElement, NcCustomPickerRenderResult } from '@nextcloud/vue/dist/Components/NcRichText.js'\n\nimport FileWidget from './views/ReferenceFileWidget.vue'\nimport FileReferencePickerElement from './views/FileReferencePickerElement.vue'\n\nVue.mixin({\n\tmethods: {\n\t\tt,\n\t},\n})\n\nregisterWidget('file', (el, { richObjectType, richObject, accessible, interactive }) => {\n\tconst Widget = Vue.extend(FileWidget)\n\tnew Widget({\n\t\tpropsData: {\n\t\t\trichObjectType,\n\t\t\trichObject,\n\t\t\taccessible,\n\t\t\tinteractive,\n\t\t},\n\t}).$mount(el)\n}, () => {}, { hasInteractiveView: true })\n\nregisterCustomPickerElement('files', (el, { providerId, accessible }) => {\n\tconst Element = Vue.extend(FileReferencePickerElement)\n\tconst vueElement = new Element({\n\t\tpropsData: {\n\t\t\tproviderId,\n\t\t\taccessible,\n\t\t},\n\t}).$mount(el)\n\treturn new NcCustomPickerRenderResult(vueElement.$el, vueElement)\n}, (el, renderResult) => {\n\trenderResult.object.$destroy()\n})\n"],"names":["_sfc_main$1","defineComponent","FolderIcon","FileIcon","_b","_a","handler","davSource","generateRemoteUrl","getCurrentUser","path","previewUrl","generateUrl","img","err","event","_d","_c","_f","_e","getFilePickerBuilder","nodes","_sfc_main","FilePicker","t","selected","buttons","node","url","Vue","registerWidget","el","richObjectType","richObject","accessible","interactive","Widget","FileWidget","registerCustomPickerElement","providerId","Element","FileReferencePickerElement","vueElement","NcCustomPickerRenderResult","renderResult"],"mappings":"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"}