{"version":3,"file":"core-files_client.js?v=9bf07a7fc5766378e403","mappings":"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","sources":["webpack:///nextcloud/webpack/runtime/chunk loaded","webpack:///nextcloud/core/src/logger.js","webpack:///nextcloud/core/src/files/client.js","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/ensure chunk","webpack:///nextcloud/webpack/runtime/global","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/webpack/runtime/make namespace object","webpack:///nextcloud/webpack/runtime/node module decorator","webpack:///nextcloud/webpack/runtime/runtimeId","webpack:///nextcloud/webpack/runtime/jsonp chunk loading","webpack:///nextcloud/webpack/runtime/nonce","webpack:///nextcloud/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { getLoggerBuilder } from '@nextcloud/logger'\n\n/**\n *\n * @param user\n */\nfunction getLogger(user) {\n\tif (user === null) {\n\t\treturn getLoggerBuilder()\n\t\t\t.setApp('core')\n\t\t\t.build()\n\t}\n\treturn getLoggerBuilder()\n\t\t.setApp('core')\n\t\t.setUid(user.uid)\n\t\t.build()\n}\n\nexport default getLogger(getCurrentUser())\n\nexport const unifiedSearchLogger = getLoggerBuilder()\n\t.setApp('unified-search')\n\t.detectUser()\n\t.build()\n","/**\n * SPDX-FileCopyrightText: 2016-2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-FileCopyrightText: 2016 ownCloud, Inc.\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport escapeHTML from 'escape-html'\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport logger from '../logger.js'\n\n/* global dav */\n\n(function(OC, FileInfo) {\n\t/**\n\t * @class OC.Files.Client\n\t * @classdesc Client to access files on the server\n\t *\n\t * @param {object} options\n\t * @param {string} options.host host name\n\t * @param {number} [options.port] port\n\t * @param {boolean} [options.useHTTPS] whether to use https\n\t * @param {string} [options.root] root path\n\t * @param {string} [options.userName] user name\n\t * @param {string} [options.password] password\n\t *\n\t * @since 8.2\n\t */\n\tconst Client = function(options) {\n\t\tthis._root = options.root\n\t\tif (this._root.charAt(this._root.length - 1) === '/') {\n\t\t\tthis._root = this._root.substr(0, this._root.length - 1)\n\t\t}\n\n\t\tlet url = Client.PROTOCOL_HTTP + '://'\n\t\tif (options.useHTTPS) {\n\t\t\turl = Client.PROTOCOL_HTTPS + '://'\n\t\t}\n\n\t\turl += options.host + this._root\n\t\tthis._host = options.host\n\t\tthis._defaultHeaders = options.defaultHeaders || {\n\t\t\t'X-Requested-With': 'XMLHttpRequest',\n\t\t\trequesttoken: OC.requestToken,\n\t\t}\n\t\tthis._baseUrl = url\n\n\t\tconst clientOptions = {\n\t\t\tbaseUrl: this._baseUrl,\n\t\t\txmlNamespaces: {\n\t\t\t\t'DAV:': 'd',\n\t\t\t\t'http://owncloud.org/ns': 'oc',\n\t\t\t\t'http://nextcloud.org/ns': 'nc',\n\t\t\t\t'http://open-collaboration-services.org/ns': 'ocs',\n\t\t\t},\n\t\t}\n\t\tif (options.userName) {\n\t\t\tclientOptions.userName = options.userName\n\t\t}\n\t\tif (options.password) {\n\t\t\tclientOptions.password = options.password\n\t\t}\n\t\tthis._client = new dav.Client(clientOptions)\n\t\tthis._client.xhrProvider = _.bind(this._xhrProvider, this)\n\t\tthis._fileInfoParsers = []\n\t}\n\n\tClient.NS_OWNCLOUD = 'http://owncloud.org/ns'\n\tClient.NS_NEXTCLOUD = 'http://nextcloud.org/ns'\n\tClient.NS_DAV = 'DAV:'\n\tClient.NS_OCS = 'http://open-collaboration-services.org/ns'\n\n\tClient.PROPERTY_GETLASTMODIFIED = '{' + Client.NS_DAV + '}getlastmodified'\n\tClient.PROPERTY_GETETAG = '{' + Client.NS_DAV + '}getetag'\n\tClient.PROPERTY_GETCONTENTTYPE = '{' + Client.NS_DAV + '}getcontenttype'\n\tClient.PROPERTY_RESOURCETYPE = '{' + Client.NS_DAV + '}resourcetype'\n\tClient.PROPERTY_INTERNAL_FILEID = '{' + Client.NS_OWNCLOUD + '}fileid'\n\tClient.PROPERTY_PERMISSIONS = '{' + Client.NS_OWNCLOUD + '}permissions'\n\tClient.PROPERTY_SIZE = '{' + Client.NS_OWNCLOUD + '}size'\n\tClient.PROPERTY_GETCONTENTLENGTH = '{' + Client.NS_DAV + '}getcontentlength'\n\tClient.PROPERTY_ISENCRYPTED = '{' + Client.NS_DAV + '}is-encrypted'\n\tClient.PROPERTY_SHARE_PERMISSIONS = '{' + Client.NS_OCS + '}share-permissions'\n\tClient.PROPERTY_SHARE_ATTRIBUTES = '{' + Client.NS_NEXTCLOUD + '}share-attributes'\n\tClient.PROPERTY_QUOTA_AVAILABLE_BYTES = '{' + Client.NS_DAV + '}quota-available-bytes'\n\n\tClient.PROTOCOL_HTTP = 'http'\n\tClient.PROTOCOL_HTTPS = 'https'\n\n\tClient._PROPFIND_PROPERTIES = [\n\t\t/**\n\t\t * Modified time\n\t\t */\n\t\t[Client.NS_DAV, 'getlastmodified'],\n\t\t/**\n\t\t * Etag\n\t\t */\n\t\t[Client.NS_DAV, 'getetag'],\n\t\t/**\n\t\t * Mime type\n\t\t */\n\t\t[Client.NS_DAV, 'getcontenttype'],\n\t\t/**\n\t\t * Resource type \"collection\" for folders, empty otherwise\n\t\t */\n\t\t[Client.NS_DAV, 'resourcetype'],\n\t\t/**\n\t\t * File id\n\t\t */\n\t\t[Client.NS_OWNCLOUD, 'fileid'],\n\t\t/**\n\t\t * Letter-coded permissions\n\t\t */\n\t\t[Client.NS_OWNCLOUD, 'permissions'],\n\t\t// [Client.NS_OWNCLOUD, 'downloadURL'],\n\t\t/**\n\t\t * Folder sizes\n\t\t */\n\t\t[Client.NS_OWNCLOUD, 'size'],\n\t\t/**\n\t\t * File sizes\n\t\t */\n\t\t[Client.NS_DAV, 'getcontentlength'],\n\t\t[Client.NS_DAV, 'quota-available-bytes'],\n\t\t/**\n\t\t * Preview availability\n\t\t */\n\t\t[Client.NS_NEXTCLOUD, 'has-preview'],\n\t\t/**\n\t\t * Mount type\n\t\t */\n\t\t[Client.NS_NEXTCLOUD, 'mount-type'],\n\t\t/**\n\t\t * Encryption state\n\t\t */\n\t\t[Client.NS_NEXTCLOUD, 'is-encrypted'],\n\t\t/**\n\t\t * Share permissions\n\t\t */\n\t\t[Client.NS_OCS, 'share-permissions'],\n\t\t/**\n\t\t * Share attributes\n\t\t */\n\t\t[Client.NS_NEXTCLOUD, 'share-attributes'],\n\t]\n\n\t/**\n\t * @memberof OC.Files\n\t */\n\tClient.prototype = {\n\n\t\t/**\n\t\t * Root path of the Webdav endpoint\n\t\t *\n\t\t * @type string\n\t\t */\n\t\t_root: null,\n\n\t\t/**\n\t\t * Client from the library\n\t\t *\n\t\t * @type dav.Client\n\t\t */\n\t\t_client: null,\n\n\t\t/**\n\t\t * Array of file info parsing functions.\n\t\t *\n\t\t * @type Array<OC.Files.Client~parseFileInfo>\n\t\t */\n\t\t_fileInfoParsers: [],\n\n\t\t/**\n\t\t * Returns the configured XHR provider for davclient\n\t\t *\n\t\t * @return {XMLHttpRequest}\n\t\t */\n\t\t_xhrProvider: function() {\n\t\t\tconst headers = this._defaultHeaders\n\t\t\tconst xhr = new XMLHttpRequest()\n\t\t\tconst oldOpen = xhr.open\n\t\t\t// override open() method to add headers\n\t\t\txhr.open = function() {\n\t\t\t\tconst result = oldOpen.apply(this, arguments)\n\t\t\t\t_.each(headers, function(value, key) {\n\t\t\t\t\txhr.setRequestHeader(key, value)\n\t\t\t\t})\n\t\t\t\treturn result\n\t\t\t}\n\n\t\t\tOC.registerXHRForErrorProcessing(xhr)\n\t\t\treturn xhr\n\t\t},\n\n\t\t/**\n\t\t * Prepends the base url to the given path sections\n\t\t *\n\t\t * @param {...string} path sections\n\t\t *\n\t\t * @return {string} base url + joined path, any leading or trailing slash\n\t\t * will be kept\n\t\t */\n\t\t_buildUrl: function() {\n\t\t\tlet path = this._buildPath.apply(this, arguments)\n\t\t\tif (path.charAt([path.length - 1]) === '/') {\n\t\t\t\tpath = path.substr(0, path.length - 1)\n\t\t\t}\n\t\t\tif (path.charAt(0) === '/') {\n\t\t\t\tpath = path.substr(1)\n\t\t\t}\n\t\t\treturn this._baseUrl + '/' + path\n\t\t},\n\n\t\t/**\n\t\t * Append the path to the root and also encode path\n\t\t * sections\n\t\t *\n\t\t * @param {...string} path sections\n\t\t *\n\t\t * @return {string} joined path, any leading or trailing slash\n\t\t * will be kept\n\t\t */\n\t\t_buildPath: function() {\n\t\t\tlet path = OC.joinPaths.apply(this, arguments)\n\t\t\tconst sections = path.split('/')\n\t\t\tlet i\n\t\t\tfor (i = 0; i < sections.length; i++) {\n\t\t\t\tsections[i] = encodeURIComponent(sections[i])\n\t\t\t}\n\t\t\tpath = sections.join('/')\n\t\t\treturn path\n\t\t},\n\n\t\t/**\n\t\t * Parse headers string into a map\n\t\t *\n\t\t * @param {string} headersString headers list as string\n\t\t *\n\t\t * @return {Object<string, Array>} map of header name to header contents\n\t\t */\n\t\t_parseHeaders: function(headersString) {\n\t\t\tconst headerRows = headersString.split('\\n')\n\t\t\tconst headers = {}\n\t\t\tfor (let i = 0; i < headerRows.length; i++) {\n\t\t\t\tconst sepPos = headerRows[i].indexOf(':')\n\t\t\t\tif (sepPos < 0) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tconst headerName = headerRows[i].substr(0, sepPos)\n\t\t\t\tconst headerValue = headerRows[i].substr(sepPos + 2)\n\n\t\t\t\tif (!headers[headerName]) {\n\t\t\t\t\t// make it an array\n\t\t\t\t\theaders[headerName] = []\n\t\t\t\t}\n\n\t\t\t\theaders[headerName].push(headerValue)\n\t\t\t}\n\t\t\treturn headers\n\t\t},\n\n\t\t/**\n\t\t * Parses the etag response which is in double quotes.\n\t\t *\n\t\t * @param {string} etag etag value in double quotes\n\t\t *\n\t\t * @return {string} etag without double quotes\n\t\t */\n\t\t_parseEtag: function(etag) {\n\t\t\tif (etag.charAt(0) === '\"') {\n\t\t\t\treturn etag.split('\"')[1]\n\t\t\t}\n\t\t\treturn etag\n\t\t},\n\n\t\t/**\n\t\t * Parse Webdav result\n\t\t *\n\t\t * @param {object} response XML object\n\t\t *\n\t\t * @return {Array.<FileInfo>} array of file info\n\t\t */\n\t\t_parseFileInfo: function(response) {\n\t\t\tlet path = decodeURIComponent(response.href)\n\t\t\tif (path.substr(0, this._root.length) === this._root) {\n\t\t\t\tpath = path.substr(this._root.length)\n\t\t\t}\n\n\t\t\tif (path.charAt(path.length - 1) === '/') {\n\t\t\t\tpath = path.substr(0, path.length - 1)\n\t\t\t}\n\n\t\t\tif (response.propStat.length === 0 || response.propStat[0].status !== 'HTTP/1.1 200 OK') {\n\t\t\t\treturn null\n\t\t\t}\n\n\t\t\tconst props = response.propStat[0].properties\n\n\t\t\tconst data = {\n\t\t\t\tid: props[Client.PROPERTY_INTERNAL_FILEID],\n\t\t\t\tpath: OC.dirname(path) || '/',\n\t\t\t\tname: OC.basename(path),\n\t\t\t\tmtime: (new Date(props[Client.PROPERTY_GETLASTMODIFIED])).getTime(),\n\t\t\t}\n\n\t\t\tconst etagProp = props[Client.PROPERTY_GETETAG]\n\t\t\tif (!_.isUndefined(etagProp)) {\n\t\t\t\tdata.etag = this._parseEtag(etagProp)\n\t\t\t}\n\n\t\t\tlet sizeProp = props[Client.PROPERTY_GETCONTENTLENGTH]\n\t\t\tif (!_.isUndefined(sizeProp)) {\n\t\t\t\tdata.size = parseInt(sizeProp, 10)\n\t\t\t}\n\n\t\t\tsizeProp = props[Client.PROPERTY_SIZE]\n\t\t\tif (!_.isUndefined(sizeProp)) {\n\t\t\t\tdata.size = parseInt(sizeProp, 10)\n\t\t\t}\n\n\t\t\tconst hasPreviewProp = props['{' + Client.NS_NEXTCLOUD + '}has-preview']\n\t\t\tif (!_.isUndefined(hasPreviewProp)) {\n\t\t\t\tdata.hasPreview = hasPreviewProp === 'true'\n\t\t\t} else {\n\t\t\t\tdata.hasPreview = true\n\t\t\t}\n\n\t\t\tconst isEncryptedProp = props['{' + Client.NS_NEXTCLOUD + '}is-encrypted']\n\t\t\tif (!_.isUndefined(isEncryptedProp)) {\n\t\t\t\tdata.isEncrypted = isEncryptedProp === '1'\n\t\t\t} else {\n\t\t\t\tdata.isEncrypted = false\n\t\t\t}\n\n\t\t\tconst isFavouritedProp = props['{' + Client.NS_OWNCLOUD + '}favorite']\n\t\t\tif (!_.isUndefined(isFavouritedProp)) {\n\t\t\t\tdata.isFavourited = isFavouritedProp === '1'\n\t\t\t} else {\n\t\t\t\tdata.isFavourited = false\n\t\t\t}\n\n\t\t\tconst contentType = props[Client.PROPERTY_GETCONTENTTYPE]\n\t\t\tif (!_.isUndefined(contentType)) {\n\t\t\t\tdata.mimetype = contentType\n\t\t\t}\n\n\t\t\tconst resType = props[Client.PROPERTY_RESOURCETYPE]\n\t\t\tif (!data.mimetype && resType) {\n\t\t\t\tconst xmlvalue = resType[0]\n\t\t\t\tif (xmlvalue.namespaceURI === Client.NS_DAV && xmlvalue.nodeName.split(':')[1] === 'collection') {\n\t\t\t\t\tdata.mimetype = 'httpd/unix-directory'\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdata.permissions = OC.PERMISSION_NONE\n\t\t\tconst permissionProp = props[Client.PROPERTY_PERMISSIONS]\n\t\t\tif (!_.isUndefined(permissionProp)) {\n\t\t\t\tconst permString = permissionProp || ''\n\t\t\t\tdata.mountType = null\n\t\t\t\tfor (let i = 0; i < permString.length; i++) {\n\t\t\t\t\tconst c = permString.charAt(i)\n\t\t\t\t\tswitch (c) {\n\t\t\t\t\t// FIXME: twisted permissions\n\t\t\t\t\t\tcase 'C':\n\t\t\t\t\t\tcase 'K':\n\t\t\t\t\t\t\tdata.permissions |= OC.PERMISSION_CREATE\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'G':\n\t\t\t\t\t\t\tdata.permissions |= OC.PERMISSION_READ\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'W':\n\t\t\t\t\t\tcase 'N':\n\t\t\t\t\t\tcase 'V':\n\t\t\t\t\t\t\tdata.permissions |= OC.PERMISSION_UPDATE\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'D':\n\t\t\t\t\t\t\tdata.permissions |= OC.PERMISSION_DELETE\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'R':\n\t\t\t\t\t\t\tdata.permissions |= OC.PERMISSION_SHARE\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'M':\n\t\t\t\t\t\t\tif (!data.mountType) {\n\t\t\t\t\t\t\t// TODO: how to identify external-root ?\n\t\t\t\t\t\t\t\tdata.mountType = 'external'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'S':\n\t\t\t\t\t\t// TODO: how to identify shared-root ?\n\t\t\t\t\t\t\tdata.mountType = 'shared'\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst sharePermissionsProp = props[Client.PROPERTY_SHARE_PERMISSIONS]\n\t\t\tif (!_.isUndefined(sharePermissionsProp)) {\n\t\t\t\tdata.sharePermissions = parseInt(sharePermissionsProp)\n\t\t\t}\n\n\t\t\tconst shareAttributesProp = props[Client.PROPERTY_SHARE_ATTRIBUTES]\n\t\t\tif (!_.isUndefined(shareAttributesProp)) {\n\t\t\t\ttry {\n\t\t\t\t\tdata.shareAttributes = JSON.parse(shareAttributesProp)\n\t\t\t\t} catch {\n\t\t\t\t\tlogger.warn('Could not parse share attributes returned by server: \"' + shareAttributesProp + '\"')\n\t\t\t\t\tdata.shareAttributes = []\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdata.shareAttributes = []\n\t\t\t}\n\n\t\t\tconst mounTypeProp = props['{' + Client.NS_NEXTCLOUD + '}mount-type']\n\t\t\tif (!_.isUndefined(mounTypeProp)) {\n\t\t\t\tdata.mountType = mounTypeProp\n\t\t\t}\n\n\t\t\tconst quotaAvailableBytes = props['{' + Client.NS_DAV + '}quota-available-bytes']\n\t\t\tif (!_.isUndefined(quotaAvailableBytes)) {\n\t\t\t\tdata.quotaAvailableBytes = quotaAvailableBytes\n\t\t\t}\n\n\t\t\t// extend the parsed data using the custom parsers\n\t\t\t_.each(this._fileInfoParsers, function(parserFunction) {\n\t\t\t\t_.extend(data, parserFunction(response, data) || {})\n\t\t\t})\n\n\t\t\treturn new FileInfo(data)\n\t\t},\n\n\t\t/**\n\t\t * Parse Webdav multistatus\n\t\t *\n\t\t * @param {Array} responses\n\t\t */\n\t\t_parseResult: function(responses) {\n\t\t\tconst self = this\n\t\t\treturn _.map(responses, function(response) {\n\t\t\t\treturn self._parseFileInfo(response)\n\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t * Returns whether the given status code means success\n\t\t *\n\t\t * @param {number} status status code\n\t\t *\n\t\t * @return true if status code is between 200 and 299 included\n\t\t */\n\t\t_isSuccessStatus: function(status) {\n\t\t\treturn status >= 200 && status <= 299\n\t\t},\n\n\t\t/**\n\t\t * Parse the Sabre exception out of the given response, if any\n\t\t *\n\t\t * @param {object} response object\n\t\t * @return {object} array of parsed message and exception (only the first one)\n\t\t */\n\t\t_getSabreException: function(response) {\n\t\t\tconst result = {}\n\t\t\tconst xml = response.xhr.responseXML\n\t\t\tif (xml === null) {\n\t\t\t\treturn result\n\t\t\t}\n\t\t\tconst messages = xml.getElementsByTagNameNS('http://sabredav.org/ns', 'message')\n\t\t\tconst exceptions = xml.getElementsByTagNameNS('http://sabredav.org/ns', 'exception')\n\t\t\tif (messages.length) {\n\t\t\t\tresult.message = messages[0].textContent\n\t\t\t}\n\t\t\tif (exceptions.length) {\n\t\t\t\tresult.exception = exceptions[0].textContent\n\t\t\t}\n\t\t\treturn result\n\t\t},\n\n\t\t/**\n\t\t * Returns the default PROPFIND properties to use during a call.\n\t\t *\n\t\t * @return {Array.<object>} array of properties\n\t\t */\n\t\tgetPropfindProperties: function() {\n\t\t\tif (!this._propfindProperties) {\n\t\t\t\tthis._propfindProperties = _.map(Client._PROPFIND_PROPERTIES, function(propDef) {\n\t\t\t\t\treturn '{' + propDef[0] + '}' + propDef[1]\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn this._propfindProperties\n\t\t},\n\n\t\t/**\n\t\t * Lists the contents of a directory\n\t\t *\n\t\t * @param {string} path path to retrieve\n\t\t * @param {object} [options] options\n\t\t * @param {boolean} [options.includeParent] set to true to keep\n\t\t * the parent folder in the result list\n\t\t * @param {Array} [options.properties] list of Webdav properties to retrieve\n\t\t *\n\t\t * @return {Promise} promise\n\t\t */\n\t\tgetFolderContents: function(path, options) {\n\t\t\tif (!path) {\n\t\t\t\tpath = ''\n\t\t\t}\n\t\t\toptions = options || {}\n\t\t\tconst self = this\n\t\t\tconst deferred = $.Deferred()\n\t\t\tconst promise = deferred.promise()\n\t\t\tlet properties\n\t\t\tif (_.isUndefined(options.properties)) {\n\t\t\t\tproperties = this.getPropfindProperties()\n\t\t\t} else {\n\t\t\t\tproperties = options.properties\n\t\t\t}\n\n\t\t\tthis._client.propFind(\n\t\t\t\tthis._buildUrl(path),\n\t\t\t\tproperties,\n\t\t\t\t1,\n\t\t\t).then(function(result) {\n\t\t\t\tif (self._isSuccessStatus(result.status)) {\n\t\t\t\t\tconst results = self._parseResult(result.body)\n\t\t\t\t\tif (!options || !options.includeParent) {\n\t\t\t\t\t\t// remove root dir, the first entry\n\t\t\t\t\t\tresults.shift()\n\t\t\t\t\t}\n\t\t\t\t\tdeferred.resolve(result.status, results)\n\t\t\t\t} else {\n\t\t\t\t\tresult = _.extend(result, self._getSabreException(result))\n\t\t\t\t\tdeferred.reject(result.status, result)\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn promise\n\t\t},\n\n\t\t/**\n\t\t * Fetches a flat list of files filtered by a given filter criteria.\n\t\t * (currently system tags and circles are supported)\n\t\t *\n\t\t * @param {object} filter filter criteria\n\t\t * @param {object} [filter.systemTagIds] list of system tag ids to filter by\n\t\t * @param {boolean} [filter.favorite] set it to filter by favorites\n\t\t * @param {object} [options] options\n\t\t * @param {Array} [options.properties] list of Webdav properties to retrieve\n\t\t *\n\t\t * @return {Promise} promise\n\t\t */\n\t\tgetFilteredFiles: function(filter, options) {\n\t\t\toptions = options || {}\n\t\t\tconst self = this\n\t\t\tconst deferred = $.Deferred()\n\t\t\tconst promise = deferred.promise()\n\t\t\tlet properties\n\t\t\tif (_.isUndefined(options.properties)) {\n\t\t\t\tproperties = this.getPropfindProperties()\n\t\t\t} else {\n\t\t\t\tproperties = options.properties\n\t\t\t}\n\n\t\t\tif (!filter\n\t\t\t\t|| (!filter.systemTagIds && _.isUndefined(filter.favorite) && !filter.circlesIds)) {\n\t\t\t\tthrow 'Missing filter argument'\n\t\t\t}\n\n\t\t\t// root element with namespaces\n\t\t\tlet body = '<oc:filter-files '\n\t\t\tlet namespace\n\t\t\tfor (namespace in this._client.xmlNamespaces) {\n\t\t\t\tbody += ' xmlns:' + this._client.xmlNamespaces[namespace] + '=\"' + namespace + '\"'\n\t\t\t}\n\t\t\tbody += '>\\n'\n\n\t\t\t// properties query\n\t\t\tbody += '    <' + this._client.xmlNamespaces['DAV:'] + ':prop>\\n'\n\t\t\t_.each(properties, function(prop) {\n\t\t\t\tconst property = self._client.parseClarkNotation(prop)\n\t\t\t\tbody += '        <' + self._client.xmlNamespaces[property.namespace] + ':' + property.name + ' />\\n'\n\t\t\t})\n\n\t\t\tbody += '    </' + this._client.xmlNamespaces['DAV:'] + ':prop>\\n'\n\n\t\t\t// rules block\n\t\t\tbody += '    <oc:filter-rules>\\n'\n\t\t\t_.each(filter.systemTagIds, function(systemTagIds) {\n\t\t\t\tbody += '        <oc:systemtag>' + escapeHTML(systemTagIds) + '</oc:systemtag>\\n'\n\t\t\t})\n\t\t\t_.each(filter.circlesIds, function(circlesIds) {\n\t\t\t\tbody += '        <oc:circle>' + escapeHTML(circlesIds) + '</oc:circle>\\n'\n\t\t\t})\n\t\t\tif (filter.favorite) {\n\t\t\t\tbody += '        <oc:favorite>' + (filter.favorite ? '1' : '0') + '</oc:favorite>\\n'\n\t\t\t}\n\t\t\tbody += '    </oc:filter-rules>\\n'\n\n\t\t\t// end of root\n\t\t\tbody += '</oc:filter-files>\\n'\n\n\t\t\tthis._client.request(\n\t\t\t\t'REPORT',\n\t\t\t\tthis._buildUrl(),\n\t\t\t\t{},\n\t\t\t\tbody,\n\t\t\t).then(function(result) {\n\t\t\t\tif (self._isSuccessStatus(result.status)) {\n\t\t\t\t\tconst results = self._parseResult(result.body)\n\t\t\t\t\tdeferred.resolve(result.status, results)\n\t\t\t\t} else {\n\t\t\t\t\tresult = _.extend(result, self._getSabreException(result))\n\t\t\t\t\tdeferred.reject(result.status, result)\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn promise\n\t\t},\n\n\t\t/**\n\t\t * Returns the file info of a given path.\n\t\t *\n\t\t * @param {string} path path\n\t\t * @param {Array} [options.properties] list of Webdav properties to retrieve\n\t\t *\n\t\t * @param options\n\t\t * @return {Promise} promise\n\t\t */\n\t\tgetFileInfo: function(path, options) {\n\t\t\tif (!path) {\n\t\t\t\tpath = ''\n\t\t\t}\n\t\t\toptions = options || {}\n\t\t\tconst self = this\n\t\t\tconst deferred = $.Deferred()\n\t\t\tconst promise = deferred.promise()\n\t\t\tlet properties\n\t\t\tif (_.isUndefined(options.properties)) {\n\t\t\t\tproperties = this.getPropfindProperties()\n\t\t\t} else {\n\t\t\t\tproperties = options.properties\n\t\t\t}\n\n\t\t\t// TODO: headers\n\t\t\tthis._client.propFind(\n\t\t\t\tthis._buildUrl(path),\n\t\t\t\tproperties,\n\t\t\t\t0,\n\t\t\t).then(function(result) {\n\t\t\t\tif (self._isSuccessStatus(result.status)) {\n\t\t\t\t\tdeferred.resolve(result.status, self._parseResult([result.body])[0])\n\t\t\t\t} else {\n\t\t\t\t\tresult = _.extend(result, self._getSabreException(result))\n\t\t\t\t\tdeferred.reject(result.status, result)\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn promise\n\t\t},\n\n\t\t/**\n\t\t * Returns the contents of the given file.\n\t\t *\n\t\t * @param {string} path path to file\n\t\t *\n\t\t * @return {Promise}\n\t\t */\n\t\tgetFileContents: function(path) {\n\t\t\tif (!path) {\n\t\t\t\tthrow 'Missing argument \"path\"'\n\t\t\t}\n\t\t\tconst self = this\n\t\t\tconst deferred = $.Deferred()\n\t\t\tconst promise = deferred.promise()\n\n\t\t\tthis._client.request(\n\t\t\t\t'GET',\n\t\t\t\tthis._buildUrl(path),\n\t\t\t).then(function(result) {\n\t\t\t\tif (self._isSuccessStatus(result.status)) {\n\t\t\t\t\tdeferred.resolve(result.status, result.body)\n\t\t\t\t} else {\n\t\t\t\t\tresult = _.extend(result, self._getSabreException(result))\n\t\t\t\t\tdeferred.reject(result.status, result)\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn promise\n\t\t},\n\n\t\t/**\n\t\t * Puts the given data into the given file.\n\t\t *\n\t\t * @param {string} path path to file\n\t\t * @param {string} body file body\n\t\t * @param {object} [options]\n\t\t * @param {string} [options.contentType] content type\n\t\t * @param {boolean} [options.overwrite] whether to overwrite an existing file\n\t\t *\n\t\t * @return {Promise}\n\t\t */\n\t\tputFileContents: function(path, body, options) {\n\t\t\tif (!path) {\n\t\t\t\tthrow 'Missing argument \"path\"'\n\t\t\t}\n\t\t\tconst self = this\n\t\t\tconst deferred = $.Deferred()\n\t\t\tconst promise = deferred.promise()\n\t\t\toptions = options || {}\n\t\t\tconst headers = {}\n\t\t\tlet contentType = 'text/plain;charset=utf-8'\n\t\t\tif (options.contentType) {\n\t\t\t\tcontentType = options.contentType\n\t\t\t}\n\n\t\t\theaders['Content-Type'] = contentType\n\n\t\t\tif (_.isUndefined(options.overwrite) || options.overwrite) {\n\t\t\t\t// will trigger 412 precondition failed if a file already exists\n\t\t\t\theaders['If-None-Match'] = '*'\n\t\t\t}\n\n\t\t\tthis._client.request(\n\t\t\t\t'PUT',\n\t\t\t\tthis._buildUrl(path),\n\t\t\t\theaders,\n\t\t\t\tbody || '',\n\t\t\t).then(function(result) {\n\t\t\t\tif (self._isSuccessStatus(result.status)) {\n\t\t\t\t\tdeferred.resolve(result.status)\n\t\t\t\t} else {\n\t\t\t\t\tresult = _.extend(result, self._getSabreException(result))\n\t\t\t\t\tdeferred.reject(result.status, result)\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn promise\n\t\t},\n\n\t\t_simpleCall: function(method, path, headers) {\n\t\t\tif (!path) {\n\t\t\t\tthrow 'Missing argument \"path\"'\n\t\t\t}\n\n\t\t\tconst self = this\n\t\t\tconst deferred = $.Deferred()\n\t\t\tconst promise = deferred.promise()\n\n\t\t\tthis._client.request(\n\t\t\t\tmethod,\n\t\t\t\tthis._buildUrl(path),\n\t\t\t\theaders ? headers : {},\n\t\t\t).then(function(result) {\n\t\t\t\tif (self._isSuccessStatus(result.status)) {\n\t\t\t\t\tdeferred.resolve(result.status)\n\t\t\t\t} else {\n\t\t\t\t\tresult = _.extend(result, self._getSabreException(result))\n\t\t\t\t\tdeferred.reject(result.status, result)\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn promise\n\t\t},\n\n\t\t/**\n\t\t * Creates a directory\n\t\t *\n\t\t * @param {string} path path to create\n\t\t *\n\t\t * @param headers\n\t\t * @return {Promise}\n\t\t */\n\t\tcreateDirectory: function(path, headers) {\n\t\t\treturn this._simpleCall('MKCOL', path, headers)\n\t\t},\n\n\t\t/**\n\t\t * Deletes a file or directory\n\t\t *\n\t\t * @param {string} path path to delete\n\t\t *\n\t\t * @return {Promise}\n\t\t */\n\t\tremove: function(path) {\n\t\t\treturn this._simpleCall('DELETE', path)\n\t\t},\n\n\t\t/**\n\t\t * Moves path to another path\n\t\t *\n\t\t * @param {string} path path to move\n\t\t * @param {string} destinationPath destination path\n\t\t * @param {boolean} [allowOverwrite] true to allow overwriting,\n\t\t * false otherwise\n\t\t * @param {object} [headers] additional headers\n\t\t *\n\t\t * @return {Promise} promise\n\t\t */\n\t\tmove: function(path, destinationPath, allowOverwrite, headers) {\n\t\t\tif (!path) {\n\t\t\t\tthrow 'Missing argument \"path\"'\n\t\t\t}\n\t\t\tif (!destinationPath) {\n\t\t\t\tthrow 'Missing argument \"destinationPath\"'\n\t\t\t}\n\n\t\t\tconst self = this\n\t\t\tconst deferred = $.Deferred()\n\t\t\tconst promise = deferred.promise()\n\t\t\theaders = _.extend({}, headers, {\n\t\t\t\tDestination: this._buildUrl(destinationPath),\n\t\t\t})\n\n\t\t\tif (!allowOverwrite) {\n\t\t\t\theaders.Overwrite = 'F'\n\t\t\t}\n\n\t\t\tthis._client.request(\n\t\t\t\t'MOVE',\n\t\t\t\tthis._buildUrl(path),\n\t\t\t\theaders,\n\t\t\t).then(function(result) {\n\t\t\t\tif (self._isSuccessStatus(result.status)) {\n\t\t\t\t\tdeferred.resolve(result.status)\n\t\t\t\t} else {\n\t\t\t\t\tresult = _.extend(result, self._getSabreException(result))\n\t\t\t\t\tdeferred.reject(result.status, result)\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn promise\n\t\t},\n\n\t\t/**\n\t\t * Copies path to another path\n\t\t *\n\t\t * @param {string} path path to copy\n\t\t * @param {string} destinationPath destination path\n\t\t * @param {boolean} [allowOverwrite] true to allow overwriting,\n\t\t * false otherwise\n\t\t *\n\t\t * @return {Promise} promise\n\t\t */\n\t\tcopy: function(path, destinationPath, allowOverwrite) {\n\t\t\tif (!path) {\n\t\t\t\tthrow 'Missing argument \"path\"'\n\t\t\t}\n\t\t\tif (!destinationPath) {\n\t\t\t\tthrow 'Missing argument \"destinationPath\"'\n\t\t\t}\n\n\t\t\tconst self = this\n\t\t\tconst deferred = $.Deferred()\n\t\t\tconst promise = deferred.promise()\n\t\t\tconst headers = {\n\t\t\t\tDestination: this._buildUrl(destinationPath),\n\t\t\t}\n\n\t\t\tif (!allowOverwrite) {\n\t\t\t\theaders.Overwrite = 'F'\n\t\t\t}\n\n\t\t\tthis._client.request(\n\t\t\t\t'COPY',\n\t\t\t\tthis._buildUrl(path),\n\t\t\t\theaders,\n\t\t\t).then(function(response) {\n\t\t\t\tif (self._isSuccessStatus(response.status)) {\n\t\t\t\t\tdeferred.resolve(response.status)\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.reject(response.status)\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn promise\n\t\t},\n\n\t\t/**\n\t\t * Add a file info parser function\n\t\t *\n\t\t * @param {OC.Files.Client~parseFileInfo} parserFunction\n\t\t */\n\t\taddFileInfoParser: function(parserFunction) {\n\t\t\tthis._fileInfoParsers.push(parserFunction)\n\t\t},\n\n\t\t/**\n\t\t * Returns the dav.Client instance used internally\n\t\t *\n\t\t * @since 11.0.0\n\t\t * @return {dav.Client}\n\t\t */\n\t\tgetClient: function() {\n\t\t\treturn this._client\n\t\t},\n\n\t\t/**\n\t\t * Returns the user name\n\t\t *\n\t\t * @since 11.0.0\n\t\t * @return {string} userName\n\t\t */\n\t\tgetUserName: function() {\n\t\t\treturn this._client.userName\n\t\t},\n\n\t\t/**\n\t\t * Returns the password\n\t\t *\n\t\t * @since 11.0.0\n\t\t * @return {string} password\n\t\t */\n\t\tgetPassword: function() {\n\t\t\treturn this._client.password\n\t\t},\n\n\t\t/**\n\t\t * Returns the base URL\n\t\t *\n\t\t * @since 11.0.0\n\t\t * @return {string} base URL\n\t\t */\n\t\tgetBaseUrl: function() {\n\t\t\treturn this._client.baseUrl\n\t\t},\n\n\t\t/**\n\t\t * Returns the host\n\t\t *\n\t\t * @since 13.0.0\n\t\t * @return {string} base URL\n\t\t */\n\t\tgetHost: function() {\n\t\t\treturn this._host\n\t\t},\n\t}\n\n\t/**\n\t * File info parser function\n\t *\n\t * This function receives a list of Webdav properties as input and\n\t * should return a hash array of parsed properties, if applicable.\n\t *\n\t * @callback OC.Files.Client~parseFileInfo\n\t * @param {object} XML Webdav properties\n\t * @return {Array} array of parsed property values\n\t */\n\n\tif (!OC.Files) {\n\t\t/**\n\t\t * @namespace OC.Files\n\t\t *\n\t\t * @since 8.2\n\t\t */\n\t\tOC.Files = {}\n\t}\n\n\t/**\n\t * Returns the default instance of the files client\n\t *\n\t * @return {OC.Files.Client} default client\n\t *\n\t * @since 8.2\n\t */\n\tOC.Files.getClient = function() {\n\t\tif (OC.Files._defaultClient) {\n\t\t\treturn OC.Files._defaultClient\n\t\t}\n\n\t\tconst client = new OC.Files.Client({\n\t\t\thost: OC.getHost(),\n\t\t\tport: OC.getPort(),\n\t\t\troot: OC.linkToRemoteBase('dav') + '/files/' + OC.getCurrentUser().uid,\n\t\t\tuseHTTPS: OC.getProtocol() === 'https',\n\t\t})\n\t\tOC.Files._defaultClient = client\n\t\treturn client\n\t}\n\n\tOC.Files.Client = Client\n})(OC, OC.Files.FileInfo)\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","// The chunk loading function for additional chunks\n// Since all referenced chunks are already included\n// in this file, this function is empty here.\n__webpack_require__.e = () => (Promise.resolve());","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 590;","__webpack_require__.b = (document && document.baseURI) || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t590: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknextcloud_ui_legacy\"] = self[\"webpackChunknextcloud_ui_legacy\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [4208], () => (__webpack_require__(12871)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","user","getCurrentUser","getLoggerBuilder","setApp","build","setUid","uid","detectUser","OC","FileInfo","Client","options","this","_root","root","charAt","length","substr","url","PROTOCOL_HTTP","useHTTPS","PROTOCOL_HTTPS","host","_host","_defaultHeaders","defaultHeaders","requesttoken","requestToken","_baseUrl","clientOptions","baseUrl","xmlNamespaces","userName","password","_client","dav","xhrProvider","_","_xhrProvider","_fileInfoParsers","NS_OWNCLOUD","NS_NEXTCLOUD","NS_DAV","NS_OCS","PROPERTY_GETLASTMODIFIED","PROPERTY_GETETAG","PROPERTY_GETCONTENTTYPE","PROPERTY_RESOURCETYPE","PROPERTY_INTERNAL_FILEID","PROPERTY_PERMISSIONS","PROPERTY_SIZE","PROPERTY_GETCONTENTLENGTH","PROPERTY_ISENCRYPTED","PROPERTY_SHARE_PERMISSIONS","PROPERTY_SHARE_ATTRIBUTES","PROPERTY_QUOTA_AVAILABLE_BYTES","_PROPFIND_PROPERTIES","prototype","headers","xhr","XMLHttpRequest","oldOpen","open","result","apply","arguments","value","key","setRequestHeader","registerXHRForErrorProcessing","_buildUrl","path","_buildPath","joinPaths","sections","split","i","encodeURIComponent","join","_parseHeaders","headersString","headerRows","sepPos","indexOf","headerName","headerValue","push","_parseEtag","etag","_parseFileInfo","response","decodeURIComponent","href","propStat","status","props","properties","data","id","dirname","name","basename","mtime","Date","getTime","etagProp","sizeProp","size","parseInt","hasPreviewProp","hasPreview","isEncryptedProp","isEncrypted","isFavouritedProp","isFavourited","contentType","mimetype","resType","xmlvalue","namespaceURI","nodeName","permissions","PERMISSION_NONE","permissionProp","permString","mountType","PERMISSION_CREATE","PERMISSION_READ","PERMISSION_UPDATE","PERMISSION_DELETE","PERMISSION_SHARE","sharePermissionsProp","sharePermissions","shareAttributesProp","shareAttributes","JSON","parse","logger","warn","mounTypeProp","quotaAvailableBytes","parserFunction","_parseResult","responses","self","_isSuccessStatus","_getSabreException","xml","responseXML","messages","getElementsByTagNameNS","exceptions","message","textContent","exception","getPropfindProperties","_propfindProperties","propDef","getFolderContents","$","promise","propFind","then","results","body","includeParent","shift","resolve","reject","getFilteredFiles","filter","systemTagIds","favorite","circlesIds","namespace","prop","property","parseClarkNotation","escapeHTML","request","getFileInfo","getFileContents","putFileContents","overwrite","_simpleCall","method","createDirectory","remove","move","destinationPath","allowOverwrite","Destination","Overwrite","copy","addFileInfoParser","getClient","getUserName","getPassword","getBaseUrl","getHost","Files","_defaultClient","client","port","getPort","linkToRemoteBase","getProtocol","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","e","Promise","g","globalThis","Function","window","obj","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","b","document","baseURI","location","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","forEach","bind","nc","__webpack_exports__"],"sourceRoot":""}