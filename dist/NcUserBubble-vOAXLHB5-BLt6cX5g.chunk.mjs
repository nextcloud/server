import{R as z}from"./autolink-U5pBzLgI-DPNCkNxB.chunk.mjs";import{N as U}from"./NcAvatar-C9d7Wrc8-DQEQ3PqU.chunk.mjs";import{A as x}from"./NcModal-DHryP_87-DTKTujA6.chunk.mjs";import{_ as y}from"./createElementId-DhjFt1I9-DmxdOxki.chunk.mjs";import{f as R,q as S,s as k,o as l,g as c,w as i,n as o,I as b,m as B,h as C,K as L,b as M,t as q,c as g,e as A,y as f,z as s,ai as H}from"./runtime-dom.esm-bundler-DIF-dmiV.chunk.mjs";const K={};function T(r,n){return l(),g("div",null,[o(r.$slots,"trigger")])}const W=y(K,[["render",T]]),j={class:"user-bubble__name"},D={key:0,class:"user-bubble__secondary"},E=R({__name:"NcUserBubble",props:f({avatarImage:{default:void 0},user:{default:void 0},displayName:{default:void 0},showUserStatus:{type:Boolean},url:{default:void 0},to:{default:void 0},primary:{type:Boolean},size:{default:20},margin:{default:2}},{open:{type:Boolean},openModifiers:{}}),emits:f(["click"],["update:open"]),setup(r,{emit:n}){const d=S(r,"open"),e=r,_=n,p=s(()=>{if(!e.avatarImage)return!1;try{return!!new URL(e.avatarImage)}catch{return!1}}),m=s(()=>!!e.avatarImage),h=s(()=>({marginInlineStart:`${e.margin}px`})),v=s(()=>{if(!e.url||e.url.trim()==="")return!1;try{return!!new URL(e.url,e.url?.startsWith?.("/")?window.location.href:void 0)}catch{return H("[NcUserBubble] Invalid URL passed",{url:e.url}),!1}}),w=s(()=>v.value?e.url:void 0),N=s(()=>v.value?"a":e.to?z:"div"),I=s(()=>({height:`${e.size}px`,lineHeight:`${e.size}px`,borderRadius:`${e.size/2}px`}));return k([()=>e.displayName,()=>e.user],()=>{!e.displayName&&e.user}),(a,t)=>(l(),c(b(a.$slots.default?x:W),{shown:d.value,"onUpdate:shown":t[1]||(t[1]=u=>d.value=u),class:"user-bubble__wrapper",trigger:"hover focus"},{trigger:i(({attrs:u})=>[(l(),c(b(N.value),B({class:["user-bubble__content",{"user-bubble__content--primary":a.primary}],style:I.value,to:a.to,href:w.value},u,{onClick:t[0]||(t[0]=$=>_("click",$))}),{default:i(()=>[C(U,{url:m.value&&p.value?a.avatarImage:void 0,iconClass:m.value&&!p.value?a.avatarImage:void 0,user:a.user,displayName:a.displayName,size:a.size-a.margin*2,style:L(h.value),disableTooltip:"",disableMenu:"",hideStatus:!a.showUserStatus,class:"user-bubble__avatar"},null,8,["url","iconClass","user","displayName","size","style","hideStatus"]),M("span",j,q(a.displayName||a.user),1),a.$slots.name?(l(),g("span",D,[o(a.$slots,"name",{},void 0,!0)])):A("",!0)]),_:2},1040,["class","style","to","href"]))]),default:i(()=>[o(a.$slots,"default",{},void 0,!0)]),_:3},40,["shown"]))}}),J=y(E,[["__scopeId","data-v-9189d023"]]);export{J as N};
//# sourceMappingURL=NcUserBubble-vOAXLHB5-BLt6cX5g.chunk.mjs.map
