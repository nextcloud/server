{"version":3,"file":"apps_files_src_views_TemplatePicker_vue-apps_files_src_views_TemplatePicker_vue.js?v=99cb16edd0882874d784","mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AChMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;ACvCA;;;;;;;;;;;;;;;ACAA","sources":["webpack:///nextcloud/apps/files/src/services/Templates.js","webpack:///nextcloud/apps/files/src/utils/davUtils.js","webpack:///nextcloud/apps/files/src/views/TemplatePicker.vue?vue&type=script&lang=ts","webpack:///nextcloud/apps/files/src/components/TemplatePreview.vue?vue&type=script&lang=js","webpack:///nextcloud/apps/files/src/components/TemplatePreview.vue?vue&type=template&id=14e703d7&scoped=true","webpack:///nextcloud/apps/files/src/views/TemplatePicker.vue?vue&type=template&id=70b9a7ea&scoped=true","webpack:///nextcloud/apps/files/src/components/TemplatePreview.vue?vue&type=style&index=0&id=14e703d7&lang=scss&scoped=true","webpack:///nextcloud/apps/files/src/views/TemplatePicker.vue?vue&type=style&index=0&id=70b9a7ea&lang=scss&scoped=true","webpack://nextcloud/./apps/files/src/components/TemplatePreview.vue?a1a4","webpack://nextcloud/./apps/files/src/views/TemplatePicker.vue?3e8a","webpack:///nextcloud/apps/files/src/components/TemplatePreview.vue","webpack:///nextcloud/apps/files/src/views/TemplatePicker.vue","webpack://nextcloud/./apps/files/src/views/TemplatePicker.vue?a9c0","webpack://nextcloud/./apps/files/src/components/TemplatePreview.vue?4cbd","webpack://nextcloud/./apps/files/src/components/TemplatePreview.vue?536a","webpack://nextcloud/./apps/files/src/views/TemplatePicker.vue?315b","webpack://nextcloud/./apps/files/src/components/TemplatePreview.vue?a027","webpack://nextcloud/./apps/files/src/views/TemplatePicker.vue?6367"],"sourcesContent":["/**\n * @copyright Copyright (c) 2021 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { generateOcsUrl } from '@nextcloud/router';\nimport axios from '@nextcloud/axios';\nexport const getTemplates = async function () {\n  const response = await axios.get(generateOcsUrl('apps/files/api/v1/templates'));\n  return response.data.ocs.data;\n};\n\n/**\n * Create a new file from a specified template\n *\n * @param {string} filePath The new file destination path\n * @param {string} templatePath The template source path\n * @param {string} templateType The template type e.g 'user'\n */\nexport const createFromTemplate = async function (filePath, templatePath, templateType) {\n  const response = await axios.post(generateOcsUrl('apps/files/api/v1/templates/create'), {\n    filePath,\n    templatePath,\n    templateType\n  });\n  return response.data.ocs.data;\n};","/**\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { generateRemoteUrl } from '@nextcloud/router';\nimport { getCurrentUser } from '@nextcloud/auth';\nexport const getRootPath = function () {\n  if (getCurrentUser()) {\n    return generateRemoteUrl(\"dav/files/\".concat(getCurrentUser().uid));\n  } else {\n    return generateRemoteUrl('webdav').replace('/remote.php', '/public.php');\n  }\n};\nexport const isPublic = function () {\n  return !getCurrentUser();\n};\nexport const getToken = function () {\n  return document.getElementById('sharingToken') && document.getElementById('sharingToken').value;\n};","import { getCurrentUser } from '@nextcloud/auth';\nimport { showError } from '@nextcloud/dialogs';\nimport { emit } from '@nextcloud/event-bus';\nimport { File } from '@nextcloud/files';\nimport { translate as t } from '@nextcloud/l10n';\nimport { generateRemoteUrl } from '@nextcloud/router';\nimport { normalize, extname, join } from 'path';\nimport { defineComponent } from 'vue';\nimport { createFromTemplate, getTemplates } from '../services/Templates.js';\nimport NcEmptyContent from '@nextcloud/vue/dist/Components/NcEmptyContent.js';\nimport NcModal from '@nextcloud/vue/dist/Components/NcModal.js';\nimport TemplatePreview from '../components/TemplatePreview.vue';\nimport logger from '../logger.js';\nconst border = 2;\nconst margin = 8;\nexport default defineComponent({\n  name: 'TemplatePicker',\n  components: {\n    NcEmptyContent,\n    NcModal,\n    TemplatePreview\n  },\n  props: {\n    /**\n     * The parent folder where to create the node\n     */\n    parent: {\n      type: Object,\n      default: () => null\n    }\n  },\n  data() {\n    return {\n      // Check empty template by default\n      checked: -1,\n      loading: false,\n      name: null,\n      opened: false,\n      provider: null\n    };\n  },\n  computed: {\n    extension() {\n      var _this$name;\n      return extname((_this$name = this.name) !== null && _this$name !== void 0 ? _this$name : '');\n    },\n    nameWithoutExt() {\n      // Strip extension from name if defined\n      return !this.extension ? this.name : this.name.slice(0, 0 - this.extension.length);\n    },\n    emptyTemplate() {\n      var _this$provider, _this$provider2;\n      return {\n        basename: t('files', 'Blank'),\n        fileid: -1,\n        filename: t('files', 'Blank'),\n        hasPreview: false,\n        mime: ((_this$provider = this.provider) === null || _this$provider === void 0 ? void 0 : _this$provider.mimetypes[0]) || ((_this$provider2 = this.provider) === null || _this$provider2 === void 0 ? void 0 : _this$provider2.mimetypes)\n      };\n    },\n    selectedTemplate() {\n      if (!this.provider) {\n        return null;\n      }\n      return this.provider.templates.find(template => template.fileid === this.checked);\n    },\n    /**\n     * Style css vars bind\n     *\n     * @return {object}\n     */\n    style() {\n      if (!this.provider) {\n        return {};\n      }\n      // Fallback to 16:9 landscape ratio\n      const ratio = this.provider.ratio ? this.provider.ratio : 1.77;\n      // Landscape templates should be wider than tall ones\n      // We fit 3 templates per row at max for landscape and 4 for portrait\n      const width = ratio > 1 ? margin * 30 : margin * 20;\n      return {\n        '--margin': margin + 'px',\n        '--width': width + 'px',\n        '--border': border + 'px',\n        '--fullwidth': width + 2 * margin + 2 * border + 'px',\n        '--height': this.provider.ratio ? Math.round(width / this.provider.ratio) + 'px' : null\n      };\n    }\n  },\n  methods: {\n    t,\n    /**\n     * Open the picker\n     *\n     * @param {string} name the file name to create\n     * @param {object} provider the template provider picked\n     */\n    async open(name, provider) {\n      this.checked = this.emptyTemplate.fileid;\n      this.name = name;\n      this.provider = provider;\n      const templates = await getTemplates();\n      const fetchedProvider = templates.find(fetchedProvider => fetchedProvider.app === provider.app && fetchedProvider.label === provider.label);\n      if (fetchedProvider === null) {\n        throw new Error('Failed to match provider in results');\n      }\n      this.provider = fetchedProvider;\n      // If there is no templates available, just create an empty file\n      if (fetchedProvider.templates.length === 0) {\n        this.onSubmit();\n        return;\n      }\n      // Else, open the picker\n      this.opened = true;\n    },\n    /**\n     * Close the picker and reset variables\n     */\n    close() {\n      this.checked = this.emptyTemplate.fileid;\n      this.loading = false;\n      this.name = null;\n      this.opened = false;\n      this.provider = null;\n    },\n    /**\n     * Manages the radio template picker change\n     *\n     * @param fileid the selected template file id\n     */\n    onCheck(fileid) {\n      this.checked = fileid;\n    },\n    async onSubmit() {\n      this.loading = true;\n      const currentDirectory = new URL(window.location.href).searchParams.get('dir') || '/';\n      // If the file doesn't have an extension, add the default one\n      if (this.nameWithoutExt === this.name) {\n        var _this$provider3, _this$provider$extens, _this$provider4;\n        logger.warn('Fixed invalid filename', {\n          name: this.name,\n          extension: (_this$provider3 = this.provider) === null || _this$provider3 === void 0 ? void 0 : _this$provider3.extension\n        });\n        this.name = \"\".concat(this.name).concat((_this$provider$extens = (_this$provider4 = this.provider) === null || _this$provider4 === void 0 ? void 0 : _this$provider4.extension) !== null && _this$provider$extens !== void 0 ? _this$provider$extens : '');\n      }\n      try {\n        var _this$selectedTemplat, _this$selectedTemplat2, _this$selectedTemplat3, _this$selectedTemplat4, _getCurrentUser, _this$parent, _this$parent2, _this$parent3;\n        const fileInfo = await createFromTemplate(normalize(\"\".concat(currentDirectory, \"/\").concat(this.name)), (_this$selectedTemplat = (_this$selectedTemplat2 = this.selectedTemplate) === null || _this$selectedTemplat2 === void 0 ? void 0 : _this$selectedTemplat2.filename) !== null && _this$selectedTemplat !== void 0 ? _this$selectedTemplat : '', (_this$selectedTemplat3 = (_this$selectedTemplat4 = this.selectedTemplate) === null || _this$selectedTemplat4 === void 0 ? void 0 : _this$selectedTemplat4.templateType) !== null && _this$selectedTemplat3 !== void 0 ? _this$selectedTemplat3 : '');\n        logger.debug('Created new file', fileInfo);\n        const owner = ((_getCurrentUser = getCurrentUser()) === null || _getCurrentUser === void 0 ? void 0 : _getCurrentUser.uid) || null;\n        const node = new File({\n          id: fileInfo.fileid,\n          source: generateRemoteUrl(join(\"dav/files/\".concat(owner), fileInfo.filename)),\n          root: \"/files/\".concat(owner),\n          mime: fileInfo.mime,\n          mtime: new Date(fileInfo.lastmod * 1000),\n          owner,\n          size: fileInfo.size,\n          permissions: fileInfo.permissions,\n          attributes: {\n            // Inherit some attributes from parent folder like the mount type and real owner\n            'mount-type': (_this$parent = this.parent) === null || _this$parent === void 0 || (_this$parent = _this$parent.attributes) === null || _this$parent === void 0 ? void 0 : _this$parent['mount-type'],\n            'owner-id': (_this$parent2 = this.parent) === null || _this$parent2 === void 0 || (_this$parent2 = _this$parent2.attributes) === null || _this$parent2 === void 0 ? void 0 : _this$parent2['owner-id'],\n            'owner-display-name': (_this$parent3 = this.parent) === null || _this$parent3 === void 0 || (_this$parent3 = _this$parent3.attributes) === null || _this$parent3 === void 0 ? void 0 : _this$parent3['owner-display-name'],\n            ...fileInfo,\n            'has-preview': fileInfo.hasPreview\n          }\n        });\n        // Update files list\n        emit('files:node:created', node);\n        // Open the new file\n        window.OCP.Files.Router.goToRoute(null,\n        // use default route\n        {\n          view: 'files',\n          fileid: node.fileid\n        }, {\n          dir: node.dirname,\n          openfile: 'true'\n        });\n        // Close the picker\n        this.close();\n      } catch (error) {\n        logger.error('Error while creating the new file from template', {\n          error\n        });\n        showError(t('files', 'Unable to create new file from template'));\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n});","import { encodePath } from '@nextcloud/paths';\nimport { generateUrl } from '@nextcloud/router';\nimport { getToken, isPublic } from '../utils/davUtils.js';\n\n// preview width generation\nconst previewWidth = 256;\nexport default {\n  name: 'TemplatePreview',\n  inheritAttrs: false,\n  props: {\n    basename: {\n      type: String,\n      required: true\n    },\n    checked: {\n      type: Boolean,\n      default: false\n    },\n    fileid: {\n      type: [String, Number],\n      required: true\n    },\n    filename: {\n      type: String,\n      required: true\n    },\n    previewUrl: {\n      type: String,\n      default: null\n    },\n    hasPreview: {\n      type: Boolean,\n      default: true\n    },\n    mime: {\n      type: String,\n      required: true\n    },\n    ratio: {\n      type: Number,\n      default: null\n    }\n  },\n  data() {\n    return {\n      failedPreview: false\n    };\n  },\n  computed: {\n    /**\n     * Strip away extension from name\n     *\n     * @return {string}\n     */\n    nameWithoutExt() {\n      return this.basename.indexOf('.') > -1 ? this.basename.split('.').slice(0, -1).join('.') : this.basename;\n    },\n    id() {\n      return \"template-picker-\".concat(this.fileid);\n    },\n    realPreviewUrl() {\n      // If original preview failed, fallback to mime icon\n      if (this.failedPreview && this.mimeIcon) {\n        return this.mimeIcon;\n      }\n      if (this.previewUrl) {\n        return this.previewUrl;\n      }\n      // TODO: find a nicer standard way of doing this?\n      if (isPublic()) {\n        return generateUrl(\"/apps/files_sharing/publicpreview/\".concat(getToken(), \"?fileId=\").concat(this.fileid, \"&file=\").concat(encodePath(this.filename), \"&x=\").concat(previewWidth, \"&y=\").concat(previewWidth, \"&a=1\"));\n      }\n      return generateUrl(\"/core/preview?fileId=\".concat(this.fileid, \"&x=\").concat(previewWidth, \"&y=\").concat(previewWidth, \"&a=1\"));\n    },\n    mimeIcon() {\n      return OC.MimeType.getIconUrl(this.mime);\n    }\n  },\n  methods: {\n    onCheck() {\n      this.$emit('check', this.fileid);\n    },\n    onFailure() {\n      this.failedPreview = true;\n    }\n  }\n};","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c(\"li\", {\n    staticClass: \"template-picker__item\"\n  }, [_c(\"input\", {\n    staticClass: \"radio\",\n    attrs: {\n      id: _vm.id,\n      type: \"radio\",\n      name: \"template-picker\"\n    },\n    domProps: {\n      checked: _vm.checked\n    },\n    on: {\n      change: _vm.onCheck\n    }\n  }), _vm._v(\" \"), _c(\"label\", {\n    staticClass: \"template-picker__label\",\n    attrs: {\n      for: _vm.id\n    }\n  }, [_c(\"div\", {\n    staticClass: \"template-picker__preview\",\n    class: _vm.failedPreview ? \"template-picker__preview--failed\" : \"\"\n  }, [_c(\"img\", {\n    staticClass: \"template-picker__image\",\n    attrs: {\n      src: _vm.realPreviewUrl,\n      alt: \"\",\n      draggable: \"false\"\n    },\n    on: {\n      error: _vm.onFailure\n    }\n  })]), _vm._v(\" \"), _c(\"span\", {\n    staticClass: \"template-picker__title\"\n  }, [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.nameWithoutExt) + \"\\n\\t\\t\")])])]);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\nexport { render, staticRenderFns };","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c,\n    _setup = _vm._self._setupProxy;\n  return _vm.opened ? _c(\"NcModal\", {\n    staticClass: \"templates-picker\",\n    attrs: {\n      \"clear-view-delay\": -1,\n      size: \"large\"\n    },\n    on: {\n      close: _vm.close\n    }\n  }, [_c(\"form\", {\n    staticClass: \"templates-picker__form\",\n    style: _vm.style,\n    on: {\n      submit: function ($event) {\n        $event.preventDefault();\n        $event.stopPropagation();\n        return _vm.onSubmit.apply(null, arguments);\n      }\n    }\n  }, [_c(\"h2\", [_vm._v(_vm._s(_vm.t(\"files\", \"Pick a template for {name}\", {\n    name: _vm.nameWithoutExt\n  })))]), _vm._v(\" \"), _c(\"ul\", {\n    staticClass: \"templates-picker__list\"\n  }, [_c(\"TemplatePreview\", _vm._b({\n    attrs: {\n      checked: _vm.checked === _vm.emptyTemplate.fileid\n    },\n    on: {\n      check: _vm.onCheck\n    }\n  }, \"TemplatePreview\", _vm.emptyTemplate, false)), _vm._v(\" \"), _vm._l(_vm.provider.templates, function (template) {\n    return _c(\"TemplatePreview\", _vm._b({\n      key: template.fileid,\n      attrs: {\n        checked: _vm.checked === template.fileid,\n        ratio: _vm.provider.ratio\n      },\n      on: {\n        check: _vm.onCheck\n      }\n    }, \"TemplatePreview\", template, false));\n  })], 2), _vm._v(\" \"), _c(\"div\", {\n    staticClass: \"templates-picker__buttons\"\n  }, [_c(\"input\", {\n    staticClass: \"primary\",\n    attrs: {\n      type: \"submit\",\n      \"aria-label\": _vm.t(\"files\", \"Create a new file with the selected template\")\n    },\n    domProps: {\n      value: _vm.t(\"files\", \"Create\")\n    }\n  })])]), _vm._v(\" \"), _vm.loading ? _c(\"NcEmptyContent\", {\n    staticClass: \"templates-picker__loading\",\n    attrs: {\n      icon: \"icon-loading\"\n    }\n  }, [_vm._v(\"\\n\\t\\t\" + _vm._s(_vm.t(\"files\", \"Creating file\")) + \"\\n\\t\")]) : _vm._e()], 1) : _vm._e();\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\nexport { render, staticRenderFns };","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.template-picker__item[data-v-14e703d7] {\n  display: flex;\n}\n.template-picker__label[data-v-14e703d7] {\n  display: flex;\n  align-items: center;\n  flex: 1 1;\n  flex-direction: column;\n}\n.template-picker__label[data-v-14e703d7], .template-picker__label *[data-v-14e703d7] {\n  cursor: pointer;\n  user-select: none;\n}\n.template-picker__label[data-v-14e703d7]::before {\n  display: none !important;\n}\n.template-picker__preview[data-v-14e703d7] {\n  display: block;\n  overflow: hidden;\n  flex: 1 1;\n  width: var(--width);\n  min-height: var(--height);\n  max-height: var(--height);\n  padding: 0;\n  border: var(--border) solid var(--color-border);\n  border-radius: var(--border-radius-large);\n}\ninput:checked + label > .template-picker__preview[data-v-14e703d7] {\n  border-color: var(--color-primary-element);\n}\n.template-picker__preview--failed[data-v-14e703d7] {\n  display: flex;\n}\n.template-picker__image[data-v-14e703d7] {\n  max-width: 100%;\n  background-color: var(--color-main-background);\n  object-fit: cover;\n}\n.template-picker__preview--failed .template-picker__image[data-v-14e703d7] {\n  width: calc(var(--margin) * 8);\n  margin: auto;\n  background-color: transparent !important;\n  object-fit: initial;\n}\n.template-picker__title[data-v-14e703d7] {\n  overflow: hidden;\n  max-width: calc(var(--width) + 4px);\n  padding: var(--margin);\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.templates-picker__form[data-v-70b9a7ea] {\n  padding: calc(var(--margin) * 2);\n  padding-bottom: 0;\n}\n.templates-picker__form h2[data-v-70b9a7ea] {\n  text-align: center;\n  font-weight: bold;\n  margin: var(--margin) 0 calc(var(--margin) * 2);\n}\n.templates-picker__list[data-v-70b9a7ea] {\n  display: grid;\n  grid-gap: calc(var(--margin) * 2);\n  grid-auto-columns: 1fr;\n  max-width: calc(var(--fullwidth) * 6);\n  grid-template-columns: repeat(auto-fit, var(--fullwidth));\n  grid-auto-rows: 1fr;\n  justify-content: center;\n}\n.templates-picker__buttons[data-v-70b9a7ea] {\n  display: flex;\n  justify-content: end;\n  padding: calc(var(--margin) * 2) var(--margin);\n  position: sticky;\n  bottom: 0;\n  background-image: linear-gradient(0, var(--gradient-main-background));\n}\n.templates-picker__buttons button[data-v-70b9a7ea], .templates-picker__buttons input[type=submit][data-v-70b9a7ea] {\n  height: 44px;\n}\n.templates-picker[data-v-70b9a7ea] .modal-container {\n  position: relative;\n}\n.templates-picker__loading[data-v-70b9a7ea] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  background-color: var(--color-main-background-translucent);\n}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatePreview.vue?vue&type=style&index=0&id=14e703d7&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatePreview.vue?vue&type=style&index=0&id=14e703d7&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatePicker.vue?vue&type=style&index=0&id=70b9a7ea&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatePicker.vue?vue&type=style&index=0&id=70b9a7ea&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TemplatePreview.vue?vue&type=template&id=14e703d7&scoped=true\"\nimport script from \"./TemplatePreview.vue?vue&type=script&lang=js\"\nexport * from \"./TemplatePreview.vue?vue&type=script&lang=js\"\nimport style0 from \"./TemplatePreview.vue?vue&type=style&index=0&id=14e703d7&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14e703d7\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/admin/git/server/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('14e703d7')) {\n      api.createRecord('14e703d7', component.options)\n    } else {\n      api.reload('14e703d7', component.options)\n    }\n    module.hot.accept(\"./TemplatePreview.vue?vue&type=template&id=14e703d7&scoped=true\", function () {\n      api.rerender('14e703d7', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/files/src/components/TemplatePreview.vue\"\nexport default component.exports","import { render, staticRenderFns } from \"./TemplatePicker.vue?vue&type=template&id=70b9a7ea&scoped=true\"\nimport script from \"./TemplatePicker.vue?vue&type=script&lang=ts\"\nexport * from \"./TemplatePicker.vue?vue&type=script&lang=ts\"\nimport style0 from \"./TemplatePicker.vue?vue&type=style&index=0&id=70b9a7ea&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70b9a7ea\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/admin/git/server/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('70b9a7ea')) {\n      api.createRecord('70b9a7ea', component.options)\n    } else {\n      api.reload('70b9a7ea', component.options)\n    }\n    module.hot.accept(\"./TemplatePicker.vue?vue&type=template&id=70b9a7ea&scoped=true\", function () {\n      api.rerender('70b9a7ea', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/files/src/views/TemplatePicker.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-4.use[1]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatePicker.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-4.use[1]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatePicker.vue?vue&type=script&lang=ts\"","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatePreview.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatePreview.vue?vue&type=script&lang=js\"","export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatePreview.vue?vue&type=template&id=14e703d7&scoped=true\"","export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatePicker.vue?vue&type=template&id=70b9a7ea&scoped=true\"","export * from \"-!../../../../node_modules/style-loader/dist/cjs.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatePreview.vue?vue&type=style&index=0&id=14e703d7&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/style-loader/dist/cjs.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatePicker.vue?vue&type=style&index=0&id=70b9a7ea&lang=scss&scoped=true\""],"names":[],"sourceRoot":""}