import{b as y,m as g,i as v,c as p,u as o,o as n,W as h,w as _,g as V,t as k,r as x,j as M,s as d,e as f,F as w,B as U,D as j,E as q}from"./preload-helper-BcKx2dRj.chunk.mjs";import{c as E}from"./index-SiCbjwnT.chunk.mjs";import{s as S}from"./index-JpgrUA2Z-C-bEcc7c.chunk.mjs";import{t as s}from"./index-DxX3M173.chunk.mjs";import{c as A}from"./createElementId-DhjFt1I9-sbdxHOjK.chunk.mjs";import{c as B}from"./NcNoteCard-CVhtNL04-Bouqxu_R.chunk.mjs";import{N as C}from"./NcSelect-Czzsi3P_-j1mYabKj.chunk.mjs";import{N as K}from"./NcCheckboxRadioSwitch-BCSKF7Tk-CW55vp24.chunk.mjs";import{N}from"./NcPasswordField-djttkA5Q-CzbXWkK5.chunk.mjs";import{_ as z}from"./TrashCanOutline-ChT1dy1U.chunk.mjs";import{a as c,C as b}from"./types-DcmYTSbP.chunk.mjs";import{l as P}from"./logger-jRfHvDBB.chunk.mjs";const R=y({__name:"ConfigurationEntry",props:g({configKey:{},configOption:{}},{modelValue:{type:[String,Boolean],default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=v(e,"modelValue");return(t,i)=>e.configOption.type!==o(c).Boolean?(n(),p(h(e.configOption.type===o(c).Password?o(N):o(z)),{key:0,modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=l=>a.value=l),name:e.configKey,required:!(e.configOption.flags&o(b).Optional),label:e.configOption.value,title:e.configOption.tooltip},null,8,["modelValue","name","required","label","title"])):(n(),p(o(K),{key:1,modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=l=>a.value=l),type:"switch",title:e.configOption.tooltip},{default:_(()=>[V(k(e.configOption.value),1)]),_:1},8,["modelValue","title"]))}}),D=y({__name:"AuthMechanismRsa",props:g({authMechanism:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=v(e,"modelValue"),t=x();M(t,()=>{t.value&&(a.value.private_key="",a.value.public_key="")});async function i(){try{const{data:l}=await E.post(A("/apps/files_external/ajax/public_key.php"),{keyLength:t.value});a.value.private_key=l.data.private_key,a.value.public_key=l.data.public_key}catch(l){P.error("Error generating RSA key pair",{error:l}),S(s("files_external","Error generating key pair"))}}return(l,m)=>(n(),d("div",null,[(n(!0),d(w,null,U(e.authMechanism.configuration,(r,u)=>j((n(),p(R,{key:r.value,modelValue:a.value[u],"onUpdate:modelValue":O=>a.value[u]=O,"config-key":u,"config-option":r},null,8,["modelValue","onUpdate:modelValue","config-key","config-option"])),[[q,!(r.flags&o(b).Hidden)]])),128)),f(o(C),{modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=r=>t.value=r),clearable:!1,"input-label":o(s)("files_external","Key size"),options:[1024,2048,4096],required:""},null,8,["modelValue","input-label"]),f(o(B),{disabled:!t.value,wide:"",onClick:i},{default:_(()=>[V(k(o(s)("files_external","Generate keys")),1)]),_:1},8,["disabled"])]))}}),$=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));export{$ as A,R as _};
//# sourceMappingURL=AuthMechanismRsa-Difzo-Vr.chunk.mjs.map
