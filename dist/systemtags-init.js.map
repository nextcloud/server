{"version":3,"file":"systemtags-init.js?v=ea925381bbcd774336cc","mappings":"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","sources":["webpack:///nextcloud/webpack/runtime/chunk loaded","webpack:///nextcloud/webpack/runtime/load script","webpack:///nextcloud/apps/systemtags/src/files_actions/bulkSystemTagsAction.ts","webpack:///nextcloud/apps/files/src/logger.ts","webpack:///nextcloud/apps/files/src/utils/actionUtils.ts","webpack:///nextcloud/apps/files/src/store/active.ts","webpack:///nextcloud/apps/files/src/store/index.ts","webpack:///nextcloud/apps/systemtags/src/services/systemtags.ts","webpack:///nextcloud/apps/systemtags/src/files_views/systemtagsView.ts","webpack://nextcloud/./apps/systemtags/src/css/fileEntryInlineSystemTags.scss?0a01","webpack:///nextcloud/apps/systemtags/src/files_actions/inlineSystemTagsAction.ts","webpack:///nextcloud/apps/systemtags/src/files_actions/openInFilesAction.ts","webpack:///nextcloud/apps/systemtags/src/init.ts","webpack:///nextcloud/apps/systemtags/src/services/HotKeysService.ts","webpack:///nextcloud/apps/systemtags/src/logger.ts","webpack:///nextcloud/apps/systemtags/src/services/api.ts","webpack:///nextcloud/apps/systemtags/src/services/davClient.ts","webpack:///nextcloud/apps/systemtags/src/utils.ts","webpack:///nextcloud/apps/systemtags/src/utils/colorUtils.ts","webpack:///nextcloud/node_modules/color-convert/conversions.js","webpack:///nextcloud/node_modules/color-convert/index.js","webpack:///nextcloud/node_modules/color-convert/route.js","webpack:///nextcloud/node_modules/color-name/index.js","webpack:///nextcloud/node_modules/color-string/index.js","webpack:///nextcloud/node_modules/color/index.js","webpack:///nextcloud/apps/systemtags/src/css/fileEntryInlineSystemTags.scss","webpack:///nextcloud/node_modules/simple-swizzle/index.js","webpack:///nextcloud/node_modules/simple-swizzle/node_modules/is-arrayish/index.js","webpack:///nextcloud/node_modules/@nextcloud/files/dist/index.mjs","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/ensure chunk","webpack:///nextcloud/webpack/runtime/get javascript chunk filename","webpack:///nextcloud/webpack/runtime/global","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/webpack/runtime/make namespace object","webpack:///nextcloud/webpack/runtime/node module decorator","webpack:///nextcloud/webpack/runtime/runtimeId","webpack:///nextcloud/webpack/runtime/publicPath","webpack:///nextcloud/webpack/runtime/jsonp chunk loading","webpack:///nextcloud/webpack/runtime/nonce","webpack:///nextcloud/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"nextcloud:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { Permission } from '@nextcloud/files';\nimport { defineAsyncComponent } from 'vue';\nimport { FileAction } from '@nextcloud/files';\nimport { isPublicShare } from '@nextcloud/sharing/public';\nimport { spawnDialog } from '@nextcloud/dialogs';\nimport { t } from '@nextcloud/l10n';\nimport TagMultipleSvg from '@mdi/svg/svg/tag-multiple.svg?raw';\n/**\n *\n * @param nodes\n */\nasync function execBatch(nodes) {\n    const response = await new Promise((resolve) => {\n        spawnDialog(defineAsyncComponent(() => import('../components/SystemTagPicker.vue')), {\n            nodes,\n        }, (status) => {\n            resolve(status);\n        });\n    });\n    return Array(nodes.length).fill(response);\n}\nexport const action = new FileAction({\n    id: 'systemtags:bulk',\n    displayName: () => t('systemtags', 'Manage tags'),\n    iconSvgInline: () => TagMultipleSvg,\n    // If the app is disabled, the action is not available anyway\n    enabled(nodes) {\n        if (isPublicShare()) {\n            return false;\n        }\n        if (nodes.length === 0) {\n            return false;\n        }\n        // Disabled for non dav resources\n        if (nodes.some((node) => !node.isDavRessource)) {\n            return false;\n        }\n        // We need to have the update permission on all nodes\n        return !nodes.some((node) => (node.permissions & Permission.UPDATE) === 0);\n    },\n    async exec(node) {\n        return execBatch([node])[0];\n    },\n    execBatch,\n});\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getLoggerBuilder } from '@nextcloud/logger';\nexport default getLoggerBuilder()\n    .setApp('files')\n    .detectUser()\n    .build();\n","import { NodeStatus } from '@nextcloud/files';\nimport { showError, showSuccess } from '@nextcloud/dialogs';\nimport { t } from '@nextcloud/l10n';\nimport Vue from 'vue';\nimport { getPinia } from '../store';\nimport { useActiveStore } from '../store/active';\nimport logger from '../logger';\n/**\n * Execute an action on the current active node\n *\n * @param action The action to execute\n */\nexport const executeAction = async (action) => {\n    const activeStore = useActiveStore(getPinia());\n    const currentDir = (window?.OCP?.Files?.Router?.query?.dir || '/');\n    const currentNode = activeStore.activeNode;\n    const currentView = activeStore.activeView;\n    if (!currentNode || !currentView) {\n        logger.error('No active node or view', { node: currentNode, view: currentView });\n        return;\n    }\n    if (currentNode.status === NodeStatus.LOADING) {\n        logger.debug('Node is already loading', { node: currentNode });\n        return;\n    }\n    if (!action.enabled([currentNode], currentView)) {\n        logger.debug('Action is not not available for the current context', { action, node: currentNode, view: currentView });\n        return;\n    }\n    let displayName = action.id;\n    try {\n        displayName = action.displayName([currentNode], currentView);\n    }\n    catch (error) {\n        logger.error('Error while getting action display name', { action, error });\n    }\n    try {\n        // Set the loading marker\n        Vue.set(currentNode, 'status', NodeStatus.LOADING);\n        activeStore.setActiveAction(action);\n        const success = await action.exec(currentNode, currentView, currentDir);\n        // If the action returns null, we stay silent\n        if (success === null || success === undefined) {\n            return;\n        }\n        if (success) {\n            showSuccess(t('files', '\"{displayName}\" action executed successfully', { displayName }));\n            return;\n        }\n        showError(t('files', '\"{displayName}\" action failed', { displayName }));\n    }\n    catch (error) {\n        logger.error('Error while executing action', { action, error });\n        showError(t('files', '\"{displayName}\" action failed', { displayName }));\n    }\n    finally {\n        // Reset the loading marker\n        Vue.set(currentNode, 'status', undefined);\n        activeStore.clearActiveAction();\n    }\n};\n","/**\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { defineStore } from 'pinia';\nimport { getNavigation } from '@nextcloud/files';\nimport { subscribe } from '@nextcloud/event-bus';\nimport logger from '../logger.ts';\nexport const useActiveStore = function (...args) {\n    const store = defineStore('active', {\n        state: () => ({\n            _initialized: false,\n            activeNode: null,\n            activeView: null,\n            activeAction: null,\n        }),\n        actions: {\n            setActiveNode(node) {\n                if (!node) {\n                    throw new Error('Use clearActiveNode to clear the active node');\n                }\n                logger.debug('Setting active node', { node });\n                this.activeNode = node;\n            },\n            clearActiveNode() {\n                this.activeNode = null;\n            },\n            onDeletedNode(node) {\n                if (this.activeNode && this.activeNode.source === node.source) {\n                    this.clearActiveNode();\n                }\n            },\n            setActiveAction(action) {\n                this.activeAction = action;\n            },\n            clearActiveAction() {\n                this.activeAction = null;\n            },\n            onChangedView(view = null) {\n                logger.debug('Setting active view', { view });\n                this.activeView = view;\n                this.clearActiveNode();\n            },\n        },\n    });\n    const activeStore = store(...args);\n    const navigation = getNavigation();\n    // Make sure we only register the listeners once\n    if (!activeStore._initialized) {\n        subscribe('files:node:deleted', activeStore.onDeletedNode);\n        activeStore._initialized = true;\n        activeStore.onChangedView(navigation.active);\n        // Or you can react to changes of the current active view\n        navigation.addEventListener('updateActive', (event) => {\n            activeStore.onChangedView(event.detail);\n        });\n    }\n    return activeStore;\n};\n","/**\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { createPinia } from 'pinia';\nexport const getPinia = () => {\n    if (window._nc_files_pinia) {\n        return window._nc_files_pinia;\n    }\n    window._nc_files_pinia = createPinia();\n    return window._nc_files_pinia;\n};\n","import { getCurrentUser } from '@nextcloud/auth';\nimport { Folder, Permission, getDavNameSpaces, getDavProperties, davGetClient, davResultToNode, davRemoteURL, davRootPath } from '@nextcloud/files';\nimport { fetchTags } from './api';\nconst rootPath = '/systemtags';\nconst client = davGetClient();\nconst resultToNode = (node) => davResultToNode(node);\nconst formatReportPayload = (tagId) => `<?xml version=\"1.0\"?>\n<oc:filter-files ${getDavNameSpaces()}>\n\t<d:prop>\n\t\t${getDavProperties()}\n\t</d:prop>\n\t<oc:filter-rules>\n\t\t<oc:systemtag>${tagId}</oc:systemtag>\n\t</oc:filter-rules>\n</oc:filter-files>`;\nconst tagToNode = function (tag) {\n    return new Folder({\n        id: tag.id,\n        source: `${davRemoteURL}${rootPath}/${tag.id}`,\n        owner: String(getCurrentUser()?.uid ?? 'anonymous'),\n        root: rootPath,\n        displayname: tag.displayName,\n        permissions: Permission.READ,\n        attributes: {\n            ...tag,\n            'is-tag': true,\n        },\n    });\n};\nexport const getContents = async (path = '/') => {\n    // List tags in the root\n    const tagsCache = (await fetchTags()).filter(tag => tag.userVisible);\n    if (path === '/') {\n        return {\n            folder: new Folder({\n                id: 0,\n                source: `${davRemoteURL}${rootPath}`,\n                owner: getCurrentUser()?.uid,\n                root: rootPath,\n                permissions: Permission.NONE,\n            }),\n            contents: tagsCache.map(tagToNode),\n        };\n    }\n    const tagId = parseInt(path.split('/', 2)[1]);\n    const tag = tagsCache.find(tag => tag.id === tagId);\n    if (!tag) {\n        throw new Error('Tag not found');\n    }\n    const folder = tagToNode(tag);\n    const contentsResponse = await client.getDirectoryContents(davRootPath, {\n        details: true,\n        // Only filter favorites if we're at the root\n        data: formatReportPayload(tagId),\n        headers: {\n            // Patched in WebdavClient.ts\n            method: 'REPORT',\n        },\n    });\n    return {\n        folder,\n        contents: contentsResponse.data.map(resultToNode),\n    };\n};\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { translate as t } from '@nextcloud/l10n';\nimport { View, getNavigation } from '@nextcloud/files';\nimport { getContents } from '../services/systemtags.js';\nimport svgTagMultiple from '@mdi/svg/svg/tag-multiple.svg?raw';\nexport const systemTagsViewId = 'tags';\n/**\n * Register the system tags files view\n */\nexport function registerSystemTagsView() {\n    const Navigation = getNavigation();\n    Navigation.register(new View({\n        id: systemTagsViewId,\n        name: t('systemtags', 'Tags'),\n        caption: t('systemtags', 'List of tags and their associated files and folders.'),\n        emptyTitle: t('systemtags', 'No tags found'),\n        emptyCaption: t('systemtags', 'Tags you have created will show up here.'),\n        icon: svgTagMultiple,\n        order: 25,\n        getContents,\n    }));\n}\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./fileEntryInlineSystemTags.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./fileEntryInlineSystemTags.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { FileAction } from '@nextcloud/files';\nimport { subscribe } from '@nextcloud/event-bus';\nimport { t } from '@nextcloud/l10n';\nimport '../css/fileEntryInlineSystemTags.scss';\nimport { elementColor, isDarkModeEnabled } from '../utils/colorUtils';\nimport { fetchTags } from '../services/api';\nimport { getNodeSystemTags } from '../utils';\nimport logger from '../logger.ts';\n// Init tag cache\nconst cache = [];\nconst renderTag = function (tag, isMore = false) {\n    const tagElement = document.createElement('li');\n    tagElement.classList.add('files-list__system-tag');\n    tagElement.setAttribute('data-systemtag-name', tag);\n    tagElement.textContent = tag;\n    // Set the color if it exists\n    const cachedTag = cache.find((t) => t.displayName === tag);\n    if (cachedTag?.color) {\n        // Make sure contrast is good and follow WCAG guidelines\n        const mainBackgroundColor = getComputedStyle(document.body)\n            .getPropertyValue('--color-main-background')\n            .replace('#', '') || (isDarkModeEnabled() ? '000000' : 'ffffff');\n        const primaryElement = elementColor(`#${cachedTag.color}`, `#${mainBackgroundColor}`);\n        tagElement.style.setProperty('--systemtag-color', primaryElement);\n        tagElement.setAttribute('data-systemtag-color', 'true');\n    }\n    if (isMore) {\n        tagElement.classList.add('files-list__system-tag--more');\n    }\n    return tagElement;\n};\nconst renderInline = async function (node) {\n    // Ensure we have the system tags as an array\n    const tags = getNodeSystemTags(node);\n    const systemTagsElement = document.createElement('ul');\n    systemTagsElement.classList.add('files-list__system-tags');\n    systemTagsElement.setAttribute('aria-label', t('files', 'Assigned collaborative tags'));\n    systemTagsElement.setAttribute('data-systemtags-fileid', node.fileid?.toString() || '');\n    if (tags.length === 0) {\n        return systemTagsElement;\n    }\n    // Fetch the tags if the cache is empty\n    if (cache.length === 0) {\n        try {\n            // Best would be to support attributes from webdav,\n            // but currently the library does not support it\n            cache.push(...await fetchTags());\n        }\n        catch (error) {\n            logger.error('Failed to fetch tags', { error });\n        }\n    }\n    systemTagsElement.append(renderTag(tags[0]));\n    if (tags.length === 2) {\n        // Special case only two tags:\n        // the overflow fake tag would take the same space as this, so render it\n        systemTagsElement.append(renderTag(tags[1]));\n    }\n    else if (tags.length > 1) {\n        // More tags than the one we're showing\n        // So we add a overflow element indicating there are more tags\n        const moreTagElement = renderTag('+' + (tags.length - 1), true);\n        moreTagElement.setAttribute('title', tags.slice(1).join(', '));\n        // because the title is not accessible we hide this element for screen readers (see alternative below)\n        moreTagElement.setAttribute('aria-hidden', 'true');\n        moreTagElement.setAttribute('role', 'presentation');\n        systemTagsElement.append(moreTagElement);\n        // For accessibility the tags are listed, as the title is not accessible\n        // but those tags are visually hidden\n        for (const tag of tags.slice(1)) {\n            const tagElement = renderTag(tag);\n            tagElement.classList.add('hidden-visually');\n            systemTagsElement.append(tagElement);\n        }\n    }\n    return systemTagsElement;\n};\nexport const action = new FileAction({\n    id: 'system-tags',\n    displayName: () => '',\n    iconSvgInline: () => '',\n    enabled(nodes) {\n        // Only show the action on single nodes\n        if (nodes.length !== 1) {\n            return false;\n        }\n        // Always show the action, even if there are no tags\n        // This will render an empty tag list and allow events to update it\n        return true;\n    },\n    exec: async () => null,\n    renderInline,\n    order: 0,\n});\n// Update the system tags html when the node is updated\nconst updateSystemTagsHtml = function (node) {\n    renderInline(node).then((systemTagsHtml) => {\n        document.querySelectorAll(`[data-systemtags-fileid=\"${node.fileid}\"]`).forEach((element) => {\n            element.replaceWith(systemTagsHtml);\n        });\n    });\n};\n// Add and remove tags from the cache\nconst addTag = function (tag) {\n    cache.push(tag);\n};\nconst removeTag = function (tag) {\n    cache.splice(cache.findIndex((t) => t.id === tag.id), 1);\n};\nconst updateTag = function (tag) {\n    const index = cache.findIndex((t) => t.id === tag.id);\n    if (index !== -1) {\n        cache[index] = tag;\n    }\n    updateSystemTagsColorAttribute(tag);\n};\n// Update the color attribute of the system tags\nconst updateSystemTagsColorAttribute = function (tag) {\n    document.querySelectorAll(`[data-systemtag-name=\"${tag.displayName}\"]`).forEach((element) => {\n        element.style.setProperty('--systemtag-color', `#${tag.color}`);\n    });\n};\n// Subscribe to the events\nsubscribe('systemtags:node:updated', updateSystemTagsHtml);\nsubscribe('systemtags:tag:created', addTag);\nsubscribe('systemtags:tag:deleted', removeTag);\nsubscribe('systemtags:tag:updated', updateTag);\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport {} from '@nextcloud/files';\nimport { FileType, FileAction, DefaultType } from '@nextcloud/files';\nimport { t } from '@nextcloud/l10n';\nimport { systemTagsViewId } from '../files_views/systemtagsView';\nexport const action = new FileAction({\n    id: 'systemtags:open-in-files',\n    displayName: () => t('systemtags', 'Open in Files'),\n    iconSvgInline: () => '',\n    enabled(nodes, view) {\n        // Only for the system tags view\n        if (view.id !== systemTagsViewId) {\n            return false;\n        }\n        // Only for single nodes\n        if (nodes.length !== 1) {\n            return false;\n        }\n        // Do not open tags (keep the default action) and only open folders\n        return nodes[0].attributes['is-tag'] !== true\n            && nodes[0].type === FileType.Folder;\n    },\n    async exec(node) {\n        let dir = node.dirname;\n        if (node.type === FileType.Folder) {\n            dir = node.path;\n        }\n        window.OCP.Files.Router.goToRoute(null, // use default route\n        { view: 'files', fileid: String(node.fileid) }, { dir, openfile: 'true' });\n        return null;\n    },\n    // Before openFolderAction\n    order: -1000,\n    default: DefaultType.HIDDEN,\n});\n","/**\n * SPDX-FileCopyrightText: 2016 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { registerDavProperty, registerFileAction } from '@nextcloud/files';\nimport { registerHotkeys } from './services/HotKeysService';\nimport { registerSystemTagsView } from './files_views/systemtagsView';\nimport { action as bulkSystemTagsAction } from './files_actions/bulkSystemTagsAction';\nimport { action as inlineSystemTagsAction } from './files_actions/inlineSystemTagsAction';\nimport { action as openInFilesAction } from './files_actions/openInFilesAction';\nregisterDavProperty('nc:system-tags');\nregisterFileAction(bulkSystemTagsAction);\nregisterFileAction(inlineSystemTagsAction);\nregisterFileAction(openInFilesAction);\nregisterSystemTagsView();\ndocument.addEventListener('DOMContentLoaded', () => {\n    registerHotkeys();\n});\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { useHotKey } from '@nextcloud/vue/dist/Composables/useHotKey.js';\nimport { action as manageTagAction } from '../files_actions/bulkSystemTagsAction.ts';\nimport { executeAction } from '../../../files/src/utils/actionUtils.ts';\nimport logger from '../logger.ts';\n/**\n * This register the hotkeys for the Files app.\n * As much as possible, we try to have all the hotkeys in one place.\n * Please make sure to add tests for the hotkeys after adding a new one.\n */\nexport const registerHotkeys = function () {\n    // t opens the tag management dialog\n    useHotKey('t', () => executeAction(manageTagAction), {\n        stop: true,\n        prevent: true,\n    });\n    logger.debug('Hotkeys registered');\n};\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getLoggerBuilder } from '@nextcloud/logger';\nexport default getLoggerBuilder()\n    .setApp('systemtags')\n    .detectUser()\n    .build();\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport axios from '@nextcloud/axios';\nimport { generateUrl } from '@nextcloud/router';\nimport { t } from '@nextcloud/l10n';\nimport { davClient } from './davClient.js';\nimport { formatTag, parseIdFromLocation, parseTags } from '../utils';\nimport logger from '../logger.ts';\nimport { emit } from '@nextcloud/event-bus';\nexport const fetchTagsPayload = `<?xml version=\"1.0\"?>\n<d:propfind xmlns:d=\"DAV:\" xmlns:oc=\"http://owncloud.org/ns\" xmlns:nc=\"http://nextcloud.org/ns\">\n\t<d:prop>\n\t\t<oc:id />\n\t\t<oc:display-name />\n\t\t<oc:user-visible />\n\t\t<oc:user-assignable />\n\t\t<oc:can-assign />\n\t\t<d:getetag />\n\t\t<nc:color />\n\t</d:prop>\n</d:propfind>`;\nexport const fetchTags = async () => {\n    const path = '/systemtags';\n    try {\n        const { data: tags } = await davClient.getDirectoryContents(path, {\n            data: fetchTagsPayload,\n            details: true,\n            glob: '/systemtags/*', // Filter out first empty tag\n        });\n        return parseTags(tags);\n    }\n    catch (error) {\n        logger.error(t('systemtags', 'Failed to load tags'), { error });\n        throw new Error(t('systemtags', 'Failed to load tags'));\n    }\n};\nexport const fetchTag = async (tagId) => {\n    const path = '/systemtags/' + tagId;\n    try {\n        const { data: tag } = await davClient.stat(path, {\n            data: fetchTagsPayload,\n            details: true,\n        });\n        return parseTags([tag])[0];\n    }\n    catch (error) {\n        logger.error(t('systemtags', 'Failed to load tag'), { error });\n        throw new Error(t('systemtags', 'Failed to load tag'));\n    }\n};\nexport const fetchLastUsedTagIds = async () => {\n    const url = generateUrl('/apps/systemtags/lastused');\n    try {\n        const { data: lastUsedTagIds } = await axios.get(url);\n        return lastUsedTagIds.map(Number);\n    }\n    catch (error) {\n        logger.error(t('systemtags', 'Failed to load last used tags'), { error });\n        throw new Error(t('systemtags', 'Failed to load last used tags'));\n    }\n};\n/**\n * Create a tag and return the Id of the newly created tag.\n *\n * @param tag The tag to create\n */\nexport const createTag = async (tag) => {\n    const path = '/systemtags';\n    const tagToPost = formatTag(tag);\n    try {\n        const { headers } = await davClient.customRequest(path, {\n            method: 'POST',\n            data: tagToPost,\n        });\n        const contentLocation = headers.get('content-location');\n        if (contentLocation) {\n            emit('systemtags:tag:created', tag);\n            return parseIdFromLocation(contentLocation);\n        }\n        logger.error(t('systemtags', 'Missing \"Content-Location\" header'));\n        throw new Error(t('systemtags', 'Missing \"Content-Location\" header'));\n    }\n    catch (error) {\n        if (error?.response?.status === 409) {\n            logger.error(t('systemtags', 'A tag with the same name already exists'), { error });\n            throw new Error(t('systemtags', 'A tag with the same name already exists'));\n        }\n        logger.error(t('systemtags', 'Failed to create tag'), { error });\n        throw new Error(t('systemtags', 'Failed to create tag'));\n    }\n};\nexport const updateTag = async (tag) => {\n    const path = '/systemtags/' + tag.id;\n    const data = `<?xml version=\"1.0\"?>\n\t<d:propertyupdate xmlns:d=\"DAV:\" xmlns:oc=\"http://owncloud.org/ns\" xmlns:nc=\"http://nextcloud.org/ns\">\n\t\t<d:set>\n\t\t\t<d:prop>\n\t\t\t\t<oc:display-name>${tag.displayName}</oc:display-name>\n\t\t\t\t<oc:user-visible>${tag.userVisible}</oc:user-visible>\n\t\t\t\t<oc:user-assignable>${tag.userAssignable}</oc:user-assignable>\n\t\t\t\t<nc:color>${tag?.color || null}</nc:color>\n\t\t\t</d:prop>\n\t\t</d:set>\n\t</d:propertyupdate>`;\n    try {\n        await davClient.customRequest(path, {\n            method: 'PROPPATCH',\n            data,\n        });\n        emit('systemtags:tag:updated', tag);\n    }\n    catch (error) {\n        logger.error(t('systemtags', 'Failed to update tag'), { error });\n        throw new Error(t('systemtags', 'Failed to update tag'));\n    }\n};\nexport const deleteTag = async (tag) => {\n    const path = '/systemtags/' + tag.id;\n    try {\n        await davClient.deleteFile(path);\n        emit('systemtags:tag:deleted', tag);\n    }\n    catch (error) {\n        logger.error(t('systemtags', 'Failed to delete tag'), { error });\n        throw new Error(t('systemtags', 'Failed to delete tag'));\n    }\n};\nexport const getTagObjects = async function (tag, type) {\n    const path = `/systemtags/${tag.id}/${type}`;\n    const data = `<?xml version=\"1.0\"?>\n\t<d:propfind xmlns:d=\"DAV:\" xmlns:nc=\"http://nextcloud.org/ns\">\n\t\t<d:prop>\n\t\t\t<nc:object-ids />\n\t\t\t<d:getetag />\n\t\t</d:prop>\n\t</d:propfind>`;\n    const response = await davClient.stat(path, { data, details: true });\n    const etag = response?.data?.props?.getetag || '\"\"';\n    const objects = Object.values(response?.data?.props?.['object-ids'] || []).flat();\n    return {\n        etag,\n        objects,\n    };\n};\n/**\n * Set the objects for a tag.\n * Warning: This will overwrite the existing objects.\n * @param tag The tag to set the objects for\n * @param type The type of the objects\n * @param objectIds The objects to set\n * @param etag Strongly recommended to avoid conflict and data loss.\n */\nexport const setTagObjects = async function (tag, type, objectIds, etag = '') {\n    const path = `/systemtags/${tag.id}/${type}`;\n    let data = `<?xml version=\"1.0\"?>\n\t<d:propertyupdate xmlns:d=\"DAV:\" xmlns:nc=\"http://nextcloud.org/ns\">\n\t\t<d:set>\n\t\t\t<d:prop>\n\t\t\t\t<nc:object-ids>${objectIds.map(({ id, type }) => `<nc:object-id><nc:id>${id}</nc:id><nc:type>${type}</nc:type></nc:object-id>`).join('')}</nc:object-ids>\n\t\t\t</d:prop>\n\t\t</d:set>\n\t</d:propertyupdate>`;\n    if (objectIds.length === 0) {\n        data = `<?xml version=\"1.0\"?>\n\t\t<d:propertyupdate xmlns:d=\"DAV:\" xmlns:nc=\"http://nextcloud.org/ns\">\n\t\t\t<d:remove>\n\t\t\t\t<d:prop>\n\t\t\t\t\t<nc:object-ids />\n\t\t\t\t</d:prop>\n\t\t\t</d:remove>\n\t\t</d:propertyupdate>`;\n    }\n    await davClient.customRequest(path, {\n        method: 'PROPPATCH',\n        data,\n        headers: {\n            'if-match': etag,\n        },\n    });\n};\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { createClient } from 'webdav';\nimport { generateRemoteUrl } from '@nextcloud/router';\nimport { getRequestToken, onRequestTokenUpdate } from '@nextcloud/auth';\n// init webdav client\nconst rootUrl = generateRemoteUrl('dav');\nexport const davClient = createClient(rootUrl);\n// set CSRF token header\nconst setHeaders = (token) => {\n    davClient.setHeaders({\n        // Add this so the server knows it is an request from the browser\n        'X-Requested-With': 'XMLHttpRequest',\n        // Inject user auth\n        requesttoken: token ?? '',\n    });\n};\n// refresh headers when request token changes\nonRequestTokenUpdate(setHeaders);\nsetHeaders(getRequestToken());\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport camelCase from 'camelcase';\nimport Vue from 'vue';\nexport const defaultBaseTag = {\n    userVisible: true,\n    userAssignable: true,\n    canAssign: true,\n};\nexport const parseTags = (tags) => {\n    return tags.map(({ props }) => Object.fromEntries(Object.entries(props)\n        .map(([key, value]) => [camelCase(key), camelCase(key) === 'displayName' ? String(value) : value])));\n};\n/**\n * Parse id from `Content-Location` header\n * @param url URL to parse\n */\nexport const parseIdFromLocation = (url) => {\n    const queryPos = url.indexOf('?');\n    if (queryPos > 0) {\n        url = url.substring(0, queryPos);\n    }\n    const parts = url.split('/');\n    let result;\n    do {\n        result = parts[parts.length - 1];\n        parts.pop();\n        // note: first result can be empty when there is a trailing slash,\n        // so we take the part before that\n    } while (!result && parts.length > 0);\n    return Number(result);\n};\nexport const formatTag = (initialTag) => {\n    if ('name' in initialTag && !('displayName' in initialTag)) {\n        return { ...initialTag };\n    }\n    const tag = { ...initialTag };\n    tag.name = tag.displayName;\n    delete tag.displayName;\n    return tag;\n};\nexport const getNodeSystemTags = function (node) {\n    const tags = node.attributes?.['system-tags']?.['system-tag'];\n    if (tags === undefined) {\n        return [];\n    }\n    return [tags].flat();\n};\nexport const setNodeSystemTags = function (node, tags) {\n    Vue.set(node.attributes, 'system-tags', {\n        'system-tag': tags,\n    });\n};\n","/**\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport Color from 'color';\n/**\n * Is the current theme dark?\n */\nexport function isDarkModeEnabled() {\n    const darkModePreference = window?.matchMedia?.('(prefers-color-scheme: dark)')?.matches;\n    const darkModeSetting = document.body.getAttribute('data-themes')?.includes('dark');\n    return darkModeSetting || darkModePreference || false;\n}\n/**\n * Is the current theme high contrast?\n */\nexport function isHighContrastModeEnabled() {\n    const highContrastPreference = window?.matchMedia?.('(forced-colors: active)')?.matches;\n    const highContrastSetting = document.body.getAttribute('data-themes')?.includes('highcontrast');\n    return highContrastSetting || highContrastPreference || false;\n}\n/**\n * Should we invert the text on this background color?\n * @param color RGB color value as a hex string\n * @return boolean\n */\nexport function invertTextColor(color) {\n    return colorContrast(color, '#ffffff') < 4.5;\n}\n/**\n * Is this color too bright?\n * @param color RGB color value as a hex string\n * @return boolean\n */\nexport function isBrightColor(color) {\n    return calculateLuma(color) > 0.6;\n}\n/**\n * Get color for on-page elements\n * theme color by default, grey if theme color is too bright.\n * @param color the color to contrast against, e.g. #ffffff\n * @param backgroundColor the background color to contrast against, e.g. #000000\n */\nexport function elementColor(color, backgroundColor) {\n    const brightBackground = isBrightColor(backgroundColor);\n    const blurredBackground = mix(backgroundColor, brightBackground ? color : '#ffffff', 66);\n    let contrast = colorContrast(color, blurredBackground);\n    const minContrast = isHighContrastModeEnabled() ? 5.6 : 3.2;\n    let iteration = 0;\n    let result = color;\n    const epsilon = (brightBackground ? -100 : 100) / 255;\n    while (contrast < minContrast && iteration++ < 100) {\n        const hsl = hexToHSL(result);\n        const l = Math.max(0, Math.min(255, hsl.l + epsilon));\n        result = hslToHex({ h: hsl.h, s: hsl.s, l });\n        contrast = colorContrast(result, blurredBackground);\n    }\n    return result;\n}\n/**\n * Get color for on-page text:\n * black if background is bright, white if background is dark.\n * @param color1 the color to contrast against, e.g. #ffffff\n * @param color2 the background color to contrast against, e.g. #000000\n * @param factor the factor to mix the colors between -100 and 100, e.g. 66\n */\nexport function mix(color1, color2, factor) {\n    if (factor < -100 || factor > 100) {\n        throw new RangeError('Factor must be between -100 and 100');\n    }\n    return new Color(color2).mix(new Color(color1), (factor + 100) / 200).hex();\n}\n/**\n * Lighten a color by a factor\n * @param color the color to lighten, e.g. #000000\n * @param factor the factor to lighten the color by between -100 and 100, e.g. -41\n */\nexport function lighten(color, factor) {\n    if (factor < -100 || factor > 100) {\n        throw new RangeError('Factor must be between -100 and 100');\n    }\n    return new Color(color).lighten((factor + 100) / 200).hex();\n}\n/**\n * Darken a color by a factor\n * @param color the color to darken, e.g. #ffffff\n * @param factor the factor to darken the color by between -100 and 100, e.g. 32\n */\nexport function darken(color, factor) {\n    if (factor < -100 || factor > 100) {\n        throw new RangeError('Factor must be between -100 and 100');\n    }\n    return new Color(color).darken((factor + 100) / 200).hex();\n}\n/**\n * Calculate the luminance of a color\n * @param color the color to calculate the luminance of, e.g. #ffffff\n */\nexport function calculateLuminance(color) {\n    return hexToHSL(color).l;\n}\n/**\n * Calculate the luma of a color\n * @param color the color to calculate the luma of, e.g. #ffffff\n */\nexport function calculateLuma(color) {\n    const rgb = hexToRGB(color).map((value) => {\n        value /= 255;\n        return value <= 0.03928\n            ? value / 12.92\n            : Math.pow((value + 0.055) / 1.055, 2.4);\n    });\n    const [red, green, blue] = rgb;\n    return 0.2126 * red + 0.7152 * green + 0.0722 * blue;\n}\n/**\n * Calculate the contrast between two colors\n * @param color1 the first color to calculate the contrast of, e.g. #ffffff\n * @param color2 the second color to calculate the contrast of, e.g. #000000\n */\nexport function colorContrast(color1, color2) {\n    const luminance1 = calculateLuma(color1) + 0.05;\n    const luminance2 = calculateLuma(color2) + 0.05;\n    return Math.max(luminance1, luminance2) / Math.min(luminance1, luminance2);\n}\n/**\n * Convert hex color to RGB\n * @param color RGB color value as a hex string\n */\nexport function hexToRGB(color) {\n    return new Color(color).rgb().array();\n}\n/**\n * Convert RGB color to hex\n * @param color RGB color value as a hex string\n */\nexport function hexToHSL(color) {\n    const hsl = new Color(color).hsl();\n    return { h: hsl.color[0], s: hsl.color[1], l: hsl.color[2] };\n}\n/**\n * Convert HSL color to hex\n * @param hsl HSL color value as an object\n * @param hsl.h hue\n * @param hsl.s saturation\n * @param hsl.l lightness\n */\nexport function hslToHex(hsl) {\n    return new Color(hsl).hex();\n}\n/**\n * Convert RGB color to hex\n * @param r red\n * @param g green\n * @param b blue\n */\nexport function rgbToHex(r, g, b) {\n    const hex = ((1 << 24) | (r << 16) | (g << 8) | b).toString(16).slice(1);\n    return `#${hex}`;\n}\n","/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\nvar hasOwnProperty = Object.hasOwnProperty;\n\nvar reverseNames = Object.create(null);\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (hasOwnProperty.call(colorNames, name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar keyword = /^(\\w+)$/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\tif (!hasOwnProperty.call(colorNames, match[1])) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = Math.round(num).toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n","const colorString = require('color-string');\nconst convert = require('color-convert');\n\nconst skippedModels = [\n\t// To be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// Gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// Shouldn't really be in color-convert either...\n\t'hex',\n];\n\nconst hashedModelKeys = {};\nfor (const model of Object.keys(convert)) {\n\thashedModelKeys[[...convert[model].labels].sort().join('')] = model;\n}\n\nconst limiters = {};\n\nfunction Color(object, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(object, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tlet i;\n\tlet channels;\n\n\tif (object == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (object instanceof Color) {\n\t\tthis.model = object.model;\n\t\tthis.color = [...object.color];\n\t\tthis.valpha = object.valpha;\n\t} else if (typeof object === 'string') {\n\t\tconst result = colorString.get(object);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + object);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (object.length > 0) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tconst newArray = Array.prototype.slice.call(object, 0, channels);\n\t\tthis.color = zeroArray(newArray, channels);\n\t\tthis.valpha = typeof object[channels] === 'number' ? object[channels] : 1;\n\t} else if (typeof object === 'number') {\n\t\t// This is always RGB - can be converted later on.\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(object >> 16) & 0xFF,\n\t\t\t(object >> 8) & 0xFF,\n\t\t\tobject & 0xFF,\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tconst keys = Object.keys(object);\n\t\tif ('alpha' in object) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof object.alpha === 'number' ? object.alpha : 0;\n\t\t}\n\n\t\tconst hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(object));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tconst {labels} = convert[this.model];\n\t\tconst color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(object[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// Perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tconst limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString() {\n\t\treturn this.string();\n\t},\n\n\ttoJSON() {\n\t\treturn this[this.model]();\n\t},\n\n\tstring(places) {\n\t\tlet self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString(places) {\n\t\tconst self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray() {\n\t\treturn this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];\n\t},\n\n\tobject() {\n\t\tconst result = {};\n\t\tconst {channels} = convert[this.model];\n\t\tconst {labels} = convert[this.model];\n\n\t\tfor (let i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray() {\n\t\tconst rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject() {\n\t\tconst rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround(places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color([...this.color.map(roundToPlace(places)), this.valpha], this.model);\n\t},\n\n\talpha(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color([...this.color, Math.max(0, Math.min(1, value))], this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// Rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, value => ((value % 360) + 360) % 360),\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(95.047)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(108.833)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\thexa(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\tconst rgbArray = this.rgb().round().color;\n\n\t\tlet alphaHex = Math.round(this.valpha * 255).toString(16).toUpperCase();\n\t\tif (alphaHex.length === 1) {\n\t\t\talphaHex = '0' + alphaHex;\n\t\t}\n\n\t\treturn colorString.to.hex(rgbArray) + alphaHex;\n\t},\n\n\trgbNumber() {\n\t\tconst rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity() {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tconst rgb = this.rgb().color;\n\n\t\tconst lum = [];\n\t\tfor (const [i, element] of rgb.entries()) {\n\t\t\tconst chan = element / 255;\n\t\t\tlum[i] = (chan <= 0.04045) ? chan / 12.92 : ((chan + 0.055) / 1.055) ** 2.4;\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast(color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tconst lum1 = this.luminosity();\n\t\tconst lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel(color2) {\n\t\t// https://www.w3.org/TR/WCAG/#contrast-enhanced\n\t\tconst contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark() {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tconst rgb = this.rgb().color;\n\t\tconst yiq = (rgb[0] * 2126 + rgb[1] * 7152 + rgb[2] * 722) / 10000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight() {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate() {\n\t\tconst rgb = this.rgb();\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tlighten(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale() {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tconst rgb = this.rgb().color;\n\t\tconst value = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(value, value, value);\n\t},\n\n\tfade(ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer(ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate(degrees) {\n\t\tconst hsl = this.hsl();\n\t\tlet hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix(mixinColor, weight) {\n\t\t// Ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\n\t\tconst color1 = mixinColor.rgb();\n\t\tconst color2 = this.rgb();\n\t\tconst p = weight === undefined ? 0.5 : weight;\n\n\t\tconst w = 2 * p - 1;\n\t\tconst a = color1.alpha() - color2.alpha();\n\n\t\tconst w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2;\n\t\tconst w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n};\n\n// Model conversion methods and static constructors\nfor (const model of Object.keys(convert)) {\n\tif (skippedModels.includes(model)) {\n\t\tcontinue;\n\t}\n\n\tconst {channels} = convert[model];\n\n\t// Conversion methods\n\tColor.prototype[model] = function (...args) {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (args.length > 0) {\n\t\t\treturn new Color(args, model);\n\t\t}\n\n\t\treturn new Color([...assertArray(convert[this.model][model].raw(this.color)), this.valpha], model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (...args) {\n\t\tlet color = args[0];\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(args, channels);\n\t\t}\n\n\t\treturn new Color(color, model);\n\t};\n}\n\nfunction roundTo(number, places) {\n\treturn Number(number.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (number) {\n\t\treturn roundTo(number, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tfor (const m of model) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t}\n\n\tmodel = model[0];\n\n\treturn function (value) {\n\t\tlet result;\n\n\t\tif (value !== undefined) {\n\t\t\tif (modifier) {\n\t\t\t\tvalue = modifier(value);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(value) {\n\treturn Array.isArray(value) ? value : [value];\n}\n\nfunction zeroArray(array, length) {\n\tfor (let i = 0; i < length; i++) {\n\t\tif (typeof array[i] !== 'number') {\n\t\t\tarray[i] = 0;\n\t\t}\n\t}\n\n\treturn array;\n}\n\nmodule.exports = Color;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.files-list__system-tags{--min-size: 32px;display:none;justify-content:center;align-items:center;min-width:calc(var(--min-size)*2);max-width:300px}.files-list__system-tag{padding:5px 10px;border:1px solid;border-radius:var(--border-radius-pill);border-color:var(--color-border);color:var(--color-text-maxcontrast);height:var(--min-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:20px;text-align:center}.files-list__system-tag--more{overflow:visible;text-overflow:initial}.files-list__system-tag+.files-list__system-tag{margin-inline-start:5px}.files-list__system-tag[data-systemtag-color]{border-color:var(--systemtag-color);color:var(--systemtag-color);border-width:2px;line-height:18px}@media(min-width: 512px){.files-list__system-tags{display:flex}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./apps/systemtags/src/css/fileEntryInlineSystemTags.scss\"],\"names\":[],\"mappings\":\"AAKA,yBACC,gBAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,iCAAA,CACA,eAAA,CAGD,wBACC,gBAAA,CACA,gBAAA,CACA,uCAAA,CACA,gCAAA,CACA,mCAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,gBAAA,CACA,iBAAA,CAEA,8BACC,gBAAA,CACA,qBAAA,CAID,gDACC,uBAAA,CAID,8CACC,mCAAA,CACA,4BAAA,CACA,gBAAA,CACA,gBAAA,CAIF,yBACC,yBACC,YAAA,CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n","module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n","import { o as logger } from \"./chunks/dav-Co9y-hkg.mjs\";\nimport { q, F, s, N, t, P, c, l, m, n, a, g, p, b, r, d, h, f, k, j, e, i } from \"./chunks/dav-Co9y-hkg.mjs\";\nimport { getCapabilities } from \"@nextcloud/capabilities\";\nimport { extname, basename } from \"path\";\nimport { getCanonicalLocale, getLanguage } from \"@nextcloud/l10n\";\nimport { TypedEventTarget } from \"typescript-event-target\";\nvar NewMenuEntryCategory = /* @__PURE__ */ ((NewMenuEntryCategory2) => {\n  NewMenuEntryCategory2[NewMenuEntryCategory2[\"UploadFromDevice\"] = 0] = \"UploadFromDevice\";\n  NewMenuEntryCategory2[NewMenuEntryCategory2[\"CreateNew\"] = 1] = \"CreateNew\";\n  NewMenuEntryCategory2[NewMenuEntryCategory2[\"Other\"] = 2] = \"Other\";\n  return NewMenuEntryCategory2;\n})(NewMenuEntryCategory || {});\nclass NewFileMenu {\n  _entries = [];\n  registerEntry(entry) {\n    this.validateEntry(entry);\n    entry.category = entry.category ?? 1;\n    this._entries.push(entry);\n  }\n  unregisterEntry(entry) {\n    const entryIndex = typeof entry === \"string\" ? this.getEntryIndex(entry) : this.getEntryIndex(entry.id);\n    if (entryIndex === -1) {\n      logger.warn(\"Entry not found, nothing removed\", { entry, entries: this.getEntries() });\n      return;\n    }\n    this._entries.splice(entryIndex, 1);\n  }\n  /**\n   * Get the list of registered entries\n   *\n   * @param {Folder} context the creation context. Usually the current folder\n   */\n  getEntries(context) {\n    if (context) {\n      return this._entries.filter((entry) => typeof entry.enabled === \"function\" ? entry.enabled(context) : true);\n    }\n    return this._entries;\n  }\n  getEntryIndex(id) {\n    return this._entries.findIndex((entry) => entry.id === id);\n  }\n  validateEntry(entry) {\n    if (!entry.id || !entry.displayName || !(entry.iconSvgInline || entry.iconClass) || !entry.handler) {\n      throw new Error(\"Invalid entry\");\n    }\n    if (typeof entry.id !== \"string\" || typeof entry.displayName !== \"string\") {\n      throw new Error(\"Invalid id or displayName property\");\n    }\n    if (entry.iconClass && typeof entry.iconClass !== \"string\" || entry.iconSvgInline && typeof entry.iconSvgInline !== \"string\") {\n      throw new Error(\"Invalid icon provided\");\n    }\n    if (entry.enabled !== void 0 && typeof entry.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled property\");\n    }\n    if (typeof entry.handler !== \"function\") {\n      throw new Error(\"Invalid handler property\");\n    }\n    if (\"order\" in entry && typeof entry.order !== \"number\") {\n      throw new Error(\"Invalid order property\");\n    }\n    if (this.getEntryIndex(entry.id) !== -1) {\n      throw new Error(\"Duplicate entry\");\n    }\n  }\n}\nconst getNewFileMenu = function() {\n  if (typeof window._nc_newfilemenu === \"undefined\") {\n    window._nc_newfilemenu = new NewFileMenu();\n    logger.debug(\"NewFileMenu initialized\");\n  }\n  return window._nc_newfilemenu;\n};\nvar DefaultType = /* @__PURE__ */ ((DefaultType2) => {\n  DefaultType2[\"DEFAULT\"] = \"default\";\n  DefaultType2[\"HIDDEN\"] = \"hidden\";\n  return DefaultType2;\n})(DefaultType || {});\nclass FileAction {\n  _action;\n  constructor(action) {\n    this.validateAction(action);\n    this._action = action;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get title() {\n    return this._action.title;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  get execBatch() {\n    return this._action.execBatch;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get parent() {\n    return this._action.parent;\n  }\n  get default() {\n    return this._action.default;\n  }\n  get destructive() {\n    return this._action.destructive;\n  }\n  get inline() {\n    return this._action.inline;\n  }\n  get renderInline() {\n    return this._action.renderInline;\n  }\n  validateAction(action) {\n    if (!action.id || typeof action.id !== \"string\") {\n      throw new Error(\"Invalid id\");\n    }\n    if (!action.displayName || typeof action.displayName !== \"function\") {\n      throw new Error(\"Invalid displayName function\");\n    }\n    if (\"title\" in action && typeof action.title !== \"function\") {\n      throw new Error(\"Invalid title function\");\n    }\n    if (!action.iconSvgInline || typeof action.iconSvgInline !== \"function\") {\n      throw new Error(\"Invalid iconSvgInline function\");\n    }\n    if (!action.exec || typeof action.exec !== \"function\") {\n      throw new Error(\"Invalid exec function\");\n    }\n    if (\"enabled\" in action && typeof action.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled function\");\n    }\n    if (\"execBatch\" in action && typeof action.execBatch !== \"function\") {\n      throw new Error(\"Invalid execBatch function\");\n    }\n    if (\"order\" in action && typeof action.order !== \"number\") {\n      throw new Error(\"Invalid order\");\n    }\n    if (action.destructive !== void 0 && typeof action.destructive !== \"boolean\") {\n      throw new Error(\"Invalid destructive flag\");\n    }\n    if (\"parent\" in action && typeof action.parent !== \"string\") {\n      throw new Error(\"Invalid parent\");\n    }\n    if (action.default && !Object.values(DefaultType).includes(action.default)) {\n      throw new Error(\"Invalid default\");\n    }\n    if (\"inline\" in action && typeof action.inline !== \"function\") {\n      throw new Error(\"Invalid inline function\");\n    }\n    if (\"renderInline\" in action && typeof action.renderInline !== \"function\") {\n      throw new Error(\"Invalid renderInline function\");\n    }\n  }\n}\nconst registerFileAction = function(action) {\n  if (typeof window._nc_fileactions === \"undefined\") {\n    window._nc_fileactions = [];\n    logger.debug(\"FileActions initialized\");\n  }\n  if (window._nc_fileactions.find((search) => search.id === action.id)) {\n    logger.error(`FileAction ${action.id} already registered`, { action });\n    return;\n  }\n  window._nc_fileactions.push(action);\n};\nconst getFileActions = function() {\n  if (typeof window._nc_fileactions === \"undefined\") {\n    window._nc_fileactions = [];\n    logger.debug(\"FileActions initialized\");\n  }\n  return window._nc_fileactions;\n};\nclass FileListAction {\n  _action;\n  constructor(action) {\n    this.validateAction(action);\n    this._action = action;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  validateAction(action) {\n    if (!action.id || typeof action.id !== \"string\") {\n      throw new Error(\"Invalid id\");\n    }\n    if (!action.displayName || typeof action.displayName !== \"function\") {\n      throw new Error(\"Invalid displayName function\");\n    }\n    if (\"iconSvgInline\" in action && typeof action.iconSvgInline !== \"function\") {\n      throw new Error(\"Invalid iconSvgInline function\");\n    }\n    if (\"order\" in action && typeof action.order !== \"number\") {\n      throw new Error(\"Invalid order\");\n    }\n    if (\"enabled\" in action && typeof action.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled function\");\n    }\n    if (!action.exec || typeof action.exec !== \"function\") {\n      throw new Error(\"Invalid exec function\");\n    }\n  }\n}\nconst registerFileListAction = (action) => {\n  if (typeof window._nc_filelistactions === \"undefined\") {\n    window._nc_filelistactions = [];\n  }\n  if (window._nc_filelistactions.find((listAction) => listAction.id === action.id)) {\n    logger.error(`FileListAction with id \"${action.id}\" is already registered`, { action });\n    return;\n  }\n  window._nc_filelistactions.push(action);\n};\nconst getFileListActions = () => {\n  if (typeof window._nc_filelistactions === \"undefined\") {\n    window._nc_filelistactions = [];\n  }\n  return window._nc_filelistactions;\n};\nclass Header {\n  _header;\n  constructor(header) {\n    this.validateHeader(header);\n    this._header = header;\n  }\n  get id() {\n    return this._header.id;\n  }\n  get order() {\n    return this._header.order;\n  }\n  get enabled() {\n    return this._header.enabled;\n  }\n  get render() {\n    return this._header.render;\n  }\n  get updated() {\n    return this._header.updated;\n  }\n  validateHeader(header) {\n    if (!header.id || !header.render || !header.updated) {\n      throw new Error(\"Invalid header: id, render and updated are required\");\n    }\n    if (typeof header.id !== \"string\") {\n      throw new Error(\"Invalid id property\");\n    }\n    if (header.enabled !== void 0 && typeof header.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled property\");\n    }\n    if (header.render && typeof header.render !== \"function\") {\n      throw new Error(\"Invalid render property\");\n    }\n    if (header.updated && typeof header.updated !== \"function\") {\n      throw new Error(\"Invalid updated property\");\n    }\n  }\n}\nconst registerFileListHeaders = function(header) {\n  if (typeof window._nc_filelistheader === \"undefined\") {\n    window._nc_filelistheader = [];\n    logger.debug(\"FileListHeaders initialized\");\n  }\n  if (window._nc_filelistheader.find((search) => search.id === header.id)) {\n    logger.error(`Header ${header.id} already registered`, { header });\n    return;\n  }\n  window._nc_filelistheader.push(header);\n};\nconst getFileListHeaders = function() {\n  if (typeof window._nc_filelistheader === \"undefined\") {\n    window._nc_filelistheader = [];\n    logger.debug(\"FileListHeaders initialized\");\n  }\n  return window._nc_filelistheader;\n};\nvar InvalidFilenameErrorReason = /* @__PURE__ */ ((InvalidFilenameErrorReason2) => {\n  InvalidFilenameErrorReason2[\"ReservedName\"] = \"reserved name\";\n  InvalidFilenameErrorReason2[\"Character\"] = \"character\";\n  InvalidFilenameErrorReason2[\"Extension\"] = \"extension\";\n  return InvalidFilenameErrorReason2;\n})(InvalidFilenameErrorReason || {});\nclass InvalidFilenameError extends Error {\n  constructor(options) {\n    super(`Invalid ${options.reason} '${options.segment}' in filename '${options.filename}'`, { cause: options });\n  }\n  /**\n   * The filename that was validated\n   */\n  get filename() {\n    return this.cause.filename;\n  }\n  /**\n   * Reason why the validation failed\n   */\n  get reason() {\n    return this.cause.reason;\n  }\n  /**\n   * Part of the filename that caused this error\n   */\n  get segment() {\n    return this.cause.segment;\n  }\n}\nfunction validateFilename(filename) {\n  const capabilities = getCapabilities().files;\n  const forbiddenCharacters = capabilities.forbidden_filename_characters ?? window._oc_config?.forbidden_filenames_characters ?? [\"/\", \"\\\\\"];\n  for (const character of forbiddenCharacters) {\n    if (filename.includes(character)) {\n      throw new InvalidFilenameError({ segment: character, reason: \"character\", filename });\n    }\n  }\n  filename = filename.toLocaleLowerCase();\n  const forbiddenFilenames = capabilities.forbidden_filenames ?? [\".htaccess\"];\n  if (forbiddenFilenames.includes(filename)) {\n    throw new InvalidFilenameError({\n      filename,\n      segment: filename,\n      reason: \"reserved name\"\n      /* ReservedName */\n    });\n  }\n  const endOfBasename = filename.indexOf(\".\", 1);\n  const basename2 = filename.substring(0, endOfBasename === -1 ? void 0 : endOfBasename);\n  const forbiddenFilenameBasenames = capabilities.forbidden_filename_basenames ?? [];\n  if (forbiddenFilenameBasenames.includes(basename2)) {\n    throw new InvalidFilenameError({\n      filename,\n      segment: basename2,\n      reason: \"reserved name\"\n      /* ReservedName */\n    });\n  }\n  const forbiddenFilenameExtensions = capabilities.forbidden_filename_extensions ?? [\".part\", \".filepart\"];\n  for (const extension of forbiddenFilenameExtensions) {\n    if (filename.length > extension.length && filename.endsWith(extension)) {\n      throw new InvalidFilenameError({ segment: extension, reason: \"extension\", filename });\n    }\n  }\n}\nfunction isFilenameValid(filename) {\n  try {\n    validateFilename(filename);\n    return true;\n  } catch (error) {\n    if (error instanceof InvalidFilenameError) {\n      return false;\n    }\n    throw error;\n  }\n}\nfunction getUniqueName(name, otherNames, options) {\n  const opts = {\n    suffix: (n2) => `(${n2})`,\n    ignoreFileExtension: false,\n    ...options\n  };\n  let newName = name;\n  let i2 = 1;\n  while (otherNames.includes(newName)) {\n    const ext = opts.ignoreFileExtension ? \"\" : extname(name);\n    const base = basename(name, ext);\n    newName = `${base} ${opts.suffix(i2++)}${ext}`;\n  }\n  return newName;\n}\nconst humanList = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\"];\nconst humanListBinary = [\"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\"];\nfunction formatFileSize(size, skipSmallSizes = false, binaryPrefixes = false, base1000 = false) {\n  binaryPrefixes = binaryPrefixes && !base1000;\n  if (typeof size === \"string\") {\n    size = Number(size);\n  }\n  let order = size > 0 ? Math.floor(Math.log(size) / Math.log(base1000 ? 1e3 : 1024)) : 0;\n  order = Math.min((binaryPrefixes ? humanListBinary.length : humanList.length) - 1, order);\n  const readableFormat = binaryPrefixes ? humanListBinary[order] : humanList[order];\n  let relativeSize = (size / Math.pow(base1000 ? 1e3 : 1024, order)).toFixed(1);\n  if (skipSmallSizes === true && order === 0) {\n    return (relativeSize !== \"0.0\" ? \"< 1 \" : \"0 \") + (binaryPrefixes ? humanListBinary[1] : humanList[1]);\n  }\n  if (order < 2) {\n    relativeSize = parseFloat(relativeSize).toFixed(0);\n  } else {\n    relativeSize = parseFloat(relativeSize).toLocaleString(getCanonicalLocale());\n  }\n  return relativeSize + \" \" + readableFormat;\n}\nfunction parseFileSize(value, forceBinary = false) {\n  try {\n    value = `${value}`.toLocaleLowerCase().replaceAll(/\\s+/g, \"\").replaceAll(\",\", \".\");\n  } catch (e2) {\n    return null;\n  }\n  const match = value.match(/^([0-9]*(\\.[0-9]*)?)([kmgtp]?)(i?)b?$/);\n  if (match === null || match[1] === \".\" || match[1] === \"\") {\n    return null;\n  }\n  const bytesArray = {\n    \"\": 0,\n    k: 1,\n    m: 2,\n    g: 3,\n    t: 4,\n    p: 5,\n    e: 6\n  };\n  const decimalString = `${match[1]}`;\n  const base = match[4] === \"i\" || forceBinary ? 1024 : 1e3;\n  return Math.round(Number.parseFloat(decimalString) * base ** bytesArray[match[3]]);\n}\nfunction stringify(value) {\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n  return String(value);\n}\nfunction orderBy(collection, identifiers2, orders) {\n  identifiers2 = identifiers2 ?? [(value) => value];\n  orders = orders ?? [];\n  const sorting = identifiers2.map((_, index) => (orders[index] ?? \"asc\") === \"asc\" ? 1 : -1);\n  const collator = Intl.Collator(\n    [getLanguage(), getCanonicalLocale()],\n    {\n      // handle 10 as ten and not as one-zero\n      numeric: true,\n      usage: \"sort\"\n    }\n  );\n  return [...collection].sort((a2, b2) => {\n    for (const [index, identifier] of identifiers2.entries()) {\n      const value = collator.compare(stringify(identifier(a2)), stringify(identifier(b2)));\n      if (value !== 0) {\n        return value * sorting[index];\n      }\n    }\n    return 0;\n  });\n}\nvar FilesSortingMode = /* @__PURE__ */ ((FilesSortingMode2) => {\n  FilesSortingMode2[\"Name\"] = \"basename\";\n  FilesSortingMode2[\"Modified\"] = \"mtime\";\n  FilesSortingMode2[\"Size\"] = \"size\";\n  return FilesSortingMode2;\n})(FilesSortingMode || {});\nfunction sortNodes(nodes, options = {}) {\n  const sortingOptions = {\n    // Default to sort by name\n    sortingMode: \"basename\",\n    // Default to sort ascending\n    sortingOrder: \"asc\",\n    ...options\n  };\n  const basename2 = (name) => name.lastIndexOf(\".\") > 0 ? name.slice(0, name.lastIndexOf(\".\")) : name;\n  const identifiers2 = [\n    // 1: Sort favorites first if enabled\n    ...sortingOptions.sortFavoritesFirst ? [(v) => v.attributes?.favorite !== 1] : [],\n    // 2: Sort folders first if sorting by name\n    ...sortingOptions.sortFoldersFirst ? [(v) => v.type !== \"folder\"] : [],\n    // 3: Use sorting mode if NOT basename (to be able to use display name too)\n    ...sortingOptions.sortingMode !== \"basename\" ? [(v) => v[sortingOptions.sortingMode]] : [],\n    // 4: Use display name if available, fallback to name\n    (v) => basename2(v.displayname || v.attributes?.displayname || v.basename),\n    // 5: Finally, use basename if all previous sorting methods failed\n    (v) => v.basename\n  ];\n  const orders = [\n    // (for 1): always sort favorites before normal files\n    ...sortingOptions.sortFavoritesFirst ? [\"asc\"] : [],\n    // (for 2): always sort folders before files\n    ...sortingOptions.sortFoldersFirst ? [\"asc\"] : [],\n    // (for 3): Reverse if sorting by mtime as mtime higher means edited more recent -> lower\n    ...sortingOptions.sortingMode === \"mtime\" ? [sortingOptions.sortingOrder === \"asc\" ? \"desc\" : \"asc\"] : [],\n    // (also for 3 so make sure not to conflict with 2 and 3)\n    ...sortingOptions.sortingMode !== \"mtime\" && sortingOptions.sortingMode !== \"basename\" ? [sortingOptions.sortingOrder] : [],\n    // for 4: use configured sorting direction\n    sortingOptions.sortingOrder,\n    // for 5: use configured sorting direction\n    sortingOptions.sortingOrder\n  ];\n  return orderBy(nodes, identifiers2, orders);\n}\nclass Navigation extends TypedEventTarget {\n  _views = [];\n  _currentView = null;\n  /**\n   * Register a new view on the navigation\n   * @param view The view to register\n   * @throws `Error` is thrown if a view with the same id is already registered\n   */\n  register(view) {\n    if (this._views.find((search) => search.id === view.id)) {\n      throw new Error(`View id ${view.id} is already registered`);\n    }\n    this._views.push(view);\n    this.dispatchTypedEvent(\"update\", new CustomEvent(\"update\"));\n  }\n  /**\n   * Remove a registered view\n   * @param id The id of the view to remove\n   */\n  remove(id) {\n    const index = this._views.findIndex((view) => view.id === id);\n    if (index !== -1) {\n      this._views.splice(index, 1);\n      this.dispatchTypedEvent(\"update\", new CustomEvent(\"update\"));\n    }\n  }\n  /**\n   * Set the currently active view\n   * @fires UpdateActiveViewEvent\n   * @param view New active view\n   */\n  setActive(view) {\n    this._currentView = view;\n    const event = new CustomEvent(\"updateActive\", { detail: view });\n    this.dispatchTypedEvent(\"updateActive\", event);\n  }\n  /**\n   * The currently active files view\n   */\n  get active() {\n    return this._currentView;\n  }\n  /**\n   * All registered views\n   */\n  get views() {\n    return this._views;\n  }\n}\nconst getNavigation = function() {\n  if (typeof window._nc_navigation === \"undefined\") {\n    window._nc_navigation = new Navigation();\n    logger.debug(\"Navigation service initialized\");\n  }\n  return window._nc_navigation;\n};\nclass Column {\n  _column;\n  constructor(column) {\n    isValidColumn(column);\n    this._column = column;\n  }\n  get id() {\n    return this._column.id;\n  }\n  get title() {\n    return this._column.title;\n  }\n  get render() {\n    return this._column.render;\n  }\n  get sort() {\n    return this._column.sort;\n  }\n  get summary() {\n    return this._column.summary;\n  }\n}\nconst isValidColumn = function(column) {\n  if (!column.id || typeof column.id !== \"string\") {\n    throw new Error(\"A column id is required\");\n  }\n  if (!column.title || typeof column.title !== \"string\") {\n    throw new Error(\"A column title is required\");\n  }\n  if (!column.render || typeof column.render !== \"function\") {\n    throw new Error(\"A render function is required\");\n  }\n  if (column.sort && typeof column.sort !== \"function\") {\n    throw new Error(\"Column sortFunction must be a function\");\n  }\n  if (column.summary && typeof column.summary !== \"function\") {\n    throw new Error(\"Column summary must be a function\");\n  }\n  return true;\n};\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nvar validator$2 = {};\nvar util$3 = {};\n(function(exports) {\n  const nameStartChar = \":A-Za-z_\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\";\n  const nameChar = nameStartChar + \"\\\\-.\\\\d\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\";\n  const nameRegexp = \"[\" + nameStartChar + \"][\" + nameChar + \"]*\";\n  const regexName = new RegExp(\"^\" + nameRegexp + \"$\");\n  const getAllMatches = function(string, regex) {\n    const matches = [];\n    let match = regex.exec(string);\n    while (match) {\n      const allmatches = [];\n      allmatches.startIndex = regex.lastIndex - match[0].length;\n      const len = match.length;\n      for (let index = 0; index < len; index++) {\n        allmatches.push(match[index]);\n      }\n      matches.push(allmatches);\n      match = regex.exec(string);\n    }\n    return matches;\n  };\n  const isName = function(string) {\n    const match = regexName.exec(string);\n    return !(match === null || typeof match === \"undefined\");\n  };\n  exports.isExist = function(v) {\n    return typeof v !== \"undefined\";\n  };\n  exports.isEmptyObject = function(obj) {\n    return Object.keys(obj).length === 0;\n  };\n  exports.merge = function(target, a2, arrayMode) {\n    if (a2) {\n      const keys = Object.keys(a2);\n      const len = keys.length;\n      for (let i2 = 0; i2 < len; i2++) {\n        if (arrayMode === \"strict\") {\n          target[keys[i2]] = [a2[keys[i2]]];\n        } else {\n          target[keys[i2]] = a2[keys[i2]];\n        }\n      }\n    }\n  };\n  exports.getValue = function(v) {\n    if (exports.isExist(v)) {\n      return v;\n    } else {\n      return \"\";\n    }\n  };\n  exports.isName = isName;\n  exports.getAllMatches = getAllMatches;\n  exports.nameRegexp = nameRegexp;\n})(util$3);\nconst util$2 = util$3;\nconst defaultOptions$2 = {\n  allowBooleanAttributes: false,\n  //A tag can have attributes without any value\n  unpairedTags: []\n};\nvalidator$2.validate = function(xmlData, options) {\n  options = Object.assign({}, defaultOptions$2, options);\n  const tags = [];\n  let tagFound = false;\n  let reachedRoot = false;\n  if (xmlData[0] === \"\\uFEFF\") {\n    xmlData = xmlData.substr(1);\n  }\n  for (let i2 = 0; i2 < xmlData.length; i2++) {\n    if (xmlData[i2] === \"<\" && xmlData[i2 + 1] === \"?\") {\n      i2 += 2;\n      i2 = readPI(xmlData, i2);\n      if (i2.err) return i2;\n    } else if (xmlData[i2] === \"<\") {\n      let tagStartPos = i2;\n      i2++;\n      if (xmlData[i2] === \"!\") {\n        i2 = readCommentAndCDATA(xmlData, i2);\n        continue;\n      } else {\n        let closingTag = false;\n        if (xmlData[i2] === \"/\") {\n          closingTag = true;\n          i2++;\n        }\n        let tagName = \"\";\n        for (; i2 < xmlData.length && xmlData[i2] !== \">\" && xmlData[i2] !== \" \" && xmlData[i2] !== \"\t\" && xmlData[i2] !== \"\\n\" && xmlData[i2] !== \"\\r\"; i2++) {\n          tagName += xmlData[i2];\n        }\n        tagName = tagName.trim();\n        if (tagName[tagName.length - 1] === \"/\") {\n          tagName = tagName.substring(0, tagName.length - 1);\n          i2--;\n        }\n        if (!validateTagName(tagName)) {\n          let msg;\n          if (tagName.trim().length === 0) {\n            msg = \"Invalid space after '<'.\";\n          } else {\n            msg = \"Tag '\" + tagName + \"' is an invalid name.\";\n          }\n          return getErrorObject(\"InvalidTag\", msg, getLineNumberForPosition(xmlData, i2));\n        }\n        const result = readAttributeStr(xmlData, i2);\n        if (result === false) {\n          return getErrorObject(\"InvalidAttr\", \"Attributes for '\" + tagName + \"' have open quote.\", getLineNumberForPosition(xmlData, i2));\n        }\n        let attrStr = result.value;\n        i2 = result.index;\n        if (attrStr[attrStr.length - 1] === \"/\") {\n          const attrStrStart = i2 - attrStr.length;\n          attrStr = attrStr.substring(0, attrStr.length - 1);\n          const isValid = validateAttributeString(attrStr, options);\n          if (isValid === true) {\n            tagFound = true;\n          } else {\n            return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, attrStrStart + isValid.err.line));\n          }\n        } else if (closingTag) {\n          if (!result.tagClosed) {\n            return getErrorObject(\"InvalidTag\", \"Closing tag '\" + tagName + \"' doesn't have proper closing.\", getLineNumberForPosition(xmlData, i2));\n          } else if (attrStr.trim().length > 0) {\n            return getErrorObject(\"InvalidTag\", \"Closing tag '\" + tagName + \"' can't have attributes or invalid starting.\", getLineNumberForPosition(xmlData, tagStartPos));\n          } else if (tags.length === 0) {\n            return getErrorObject(\"InvalidTag\", \"Closing tag '\" + tagName + \"' has not been opened.\", getLineNumberForPosition(xmlData, tagStartPos));\n          } else {\n            const otg = tags.pop();\n            if (tagName !== otg.tagName) {\n              let openPos = getLineNumberForPosition(xmlData, otg.tagStartPos);\n              return getErrorObject(\n                \"InvalidTag\",\n                \"Expected closing tag '\" + otg.tagName + \"' (opened in line \" + openPos.line + \", col \" + openPos.col + \") instead of closing tag '\" + tagName + \"'.\",\n                getLineNumberForPosition(xmlData, tagStartPos)\n              );\n            }\n            if (tags.length == 0) {\n              reachedRoot = true;\n            }\n          }\n        } else {\n          const isValid = validateAttributeString(attrStr, options);\n          if (isValid !== true) {\n            return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, i2 - attrStr.length + isValid.err.line));\n          }\n          if (reachedRoot === true) {\n            return getErrorObject(\"InvalidXml\", \"Multiple possible root nodes found.\", getLineNumberForPosition(xmlData, i2));\n          } else if (options.unpairedTags.indexOf(tagName) !== -1) ;\n          else {\n            tags.push({ tagName, tagStartPos });\n          }\n          tagFound = true;\n        }\n        for (i2++; i2 < xmlData.length; i2++) {\n          if (xmlData[i2] === \"<\") {\n            if (xmlData[i2 + 1] === \"!\") {\n              i2++;\n              i2 = readCommentAndCDATA(xmlData, i2);\n              continue;\n            } else if (xmlData[i2 + 1] === \"?\") {\n              i2 = readPI(xmlData, ++i2);\n              if (i2.err) return i2;\n            } else {\n              break;\n            }\n          } else if (xmlData[i2] === \"&\") {\n            const afterAmp = validateAmpersand(xmlData, i2);\n            if (afterAmp == -1)\n              return getErrorObject(\"InvalidChar\", \"char '&' is not expected.\", getLineNumberForPosition(xmlData, i2));\n            i2 = afterAmp;\n          } else {\n            if (reachedRoot === true && !isWhiteSpace(xmlData[i2])) {\n              return getErrorObject(\"InvalidXml\", \"Extra text at the end\", getLineNumberForPosition(xmlData, i2));\n            }\n          }\n        }\n        if (xmlData[i2] === \"<\") {\n          i2--;\n        }\n      }\n    } else {\n      if (isWhiteSpace(xmlData[i2])) {\n        continue;\n      }\n      return getErrorObject(\"InvalidChar\", \"char '\" + xmlData[i2] + \"' is not expected.\", getLineNumberForPosition(xmlData, i2));\n    }\n  }\n  if (!tagFound) {\n    return getErrorObject(\"InvalidXml\", \"Start tag expected.\", 1);\n  } else if (tags.length == 1) {\n    return getErrorObject(\"InvalidTag\", \"Unclosed tag '\" + tags[0].tagName + \"'.\", getLineNumberForPosition(xmlData, tags[0].tagStartPos));\n  } else if (tags.length > 0) {\n    return getErrorObject(\"InvalidXml\", \"Invalid '\" + JSON.stringify(tags.map((t3) => t3.tagName), null, 4).replace(/\\r?\\n/g, \"\") + \"' found.\", { line: 1, col: 1 });\n  }\n  return true;\n};\nfunction isWhiteSpace(char) {\n  return char === \" \" || char === \"\t\" || char === \"\\n\" || char === \"\\r\";\n}\nfunction readPI(xmlData, i2) {\n  const start = i2;\n  for (; i2 < xmlData.length; i2++) {\n    if (xmlData[i2] == \"?\" || xmlData[i2] == \" \") {\n      const tagname = xmlData.substr(start, i2 - start);\n      if (i2 > 5 && tagname === \"xml\") {\n        return getErrorObject(\"InvalidXml\", \"XML declaration allowed only at the start of the document.\", getLineNumberForPosition(xmlData, i2));\n      } else if (xmlData[i2] == \"?\" && xmlData[i2 + 1] == \">\") {\n        i2++;\n        break;\n      } else {\n        continue;\n      }\n    }\n  }\n  return i2;\n}\nfunction readCommentAndCDATA(xmlData, i2) {\n  if (xmlData.length > i2 + 5 && xmlData[i2 + 1] === \"-\" && xmlData[i2 + 2] === \"-\") {\n    for (i2 += 3; i2 < xmlData.length; i2++) {\n      if (xmlData[i2] === \"-\" && xmlData[i2 + 1] === \"-\" && xmlData[i2 + 2] === \">\") {\n        i2 += 2;\n        break;\n      }\n    }\n  } else if (xmlData.length > i2 + 8 && xmlData[i2 + 1] === \"D\" && xmlData[i2 + 2] === \"O\" && xmlData[i2 + 3] === \"C\" && xmlData[i2 + 4] === \"T\" && xmlData[i2 + 5] === \"Y\" && xmlData[i2 + 6] === \"P\" && xmlData[i2 + 7] === \"E\") {\n    let angleBracketsCount = 1;\n    for (i2 += 8; i2 < xmlData.length; i2++) {\n      if (xmlData[i2] === \"<\") {\n        angleBracketsCount++;\n      } else if (xmlData[i2] === \">\") {\n        angleBracketsCount--;\n        if (angleBracketsCount === 0) {\n          break;\n        }\n      }\n    }\n  } else if (xmlData.length > i2 + 9 && xmlData[i2 + 1] === \"[\" && xmlData[i2 + 2] === \"C\" && xmlData[i2 + 3] === \"D\" && xmlData[i2 + 4] === \"A\" && xmlData[i2 + 5] === \"T\" && xmlData[i2 + 6] === \"A\" && xmlData[i2 + 7] === \"[\") {\n    for (i2 += 8; i2 < xmlData.length; i2++) {\n      if (xmlData[i2] === \"]\" && xmlData[i2 + 1] === \"]\" && xmlData[i2 + 2] === \">\") {\n        i2 += 2;\n        break;\n      }\n    }\n  }\n  return i2;\n}\nconst doubleQuote = '\"';\nconst singleQuote = \"'\";\nfunction readAttributeStr(xmlData, i2) {\n  let attrStr = \"\";\n  let startChar = \"\";\n  let tagClosed = false;\n  for (; i2 < xmlData.length; i2++) {\n    if (xmlData[i2] === doubleQuote || xmlData[i2] === singleQuote) {\n      if (startChar === \"\") {\n        startChar = xmlData[i2];\n      } else if (startChar !== xmlData[i2]) ;\n      else {\n        startChar = \"\";\n      }\n    } else if (xmlData[i2] === \">\") {\n      if (startChar === \"\") {\n        tagClosed = true;\n        break;\n      }\n    }\n    attrStr += xmlData[i2];\n  }\n  if (startChar !== \"\") {\n    return false;\n  }\n  return {\n    value: attrStr,\n    index: i2,\n    tagClosed\n  };\n}\nconst validAttrStrRegxp = new RegExp(`(\\\\s*)([^\\\\s=]+)(\\\\s*=)?(\\\\s*(['\"])(([\\\\s\\\\S])*?)\\\\5)?`, \"g\");\nfunction validateAttributeString(attrStr, options) {\n  const matches = util$2.getAllMatches(attrStr, validAttrStrRegxp);\n  const attrNames = {};\n  for (let i2 = 0; i2 < matches.length; i2++) {\n    if (matches[i2][1].length === 0) {\n      return getErrorObject(\"InvalidAttr\", \"Attribute '\" + matches[i2][2] + \"' has no space in starting.\", getPositionFromMatch(matches[i2]));\n    } else if (matches[i2][3] !== void 0 && matches[i2][4] === void 0) {\n      return getErrorObject(\"InvalidAttr\", \"Attribute '\" + matches[i2][2] + \"' is without value.\", getPositionFromMatch(matches[i2]));\n    } else if (matches[i2][3] === void 0 && !options.allowBooleanAttributes) {\n      return getErrorObject(\"InvalidAttr\", \"boolean attribute '\" + matches[i2][2] + \"' is not allowed.\", getPositionFromMatch(matches[i2]));\n    }\n    const attrName = matches[i2][2];\n    if (!validateAttrName(attrName)) {\n      return getErrorObject(\"InvalidAttr\", \"Attribute '\" + attrName + \"' is an invalid name.\", getPositionFromMatch(matches[i2]));\n    }\n    if (!attrNames.hasOwnProperty(attrName)) {\n      attrNames[attrName] = 1;\n    } else {\n      return getErrorObject(\"InvalidAttr\", \"Attribute '\" + attrName + \"' is repeated.\", getPositionFromMatch(matches[i2]));\n    }\n  }\n  return true;\n}\nfunction validateNumberAmpersand(xmlData, i2) {\n  let re2 = /\\d/;\n  if (xmlData[i2] === \"x\") {\n    i2++;\n    re2 = /[\\da-fA-F]/;\n  }\n  for (; i2 < xmlData.length; i2++) {\n    if (xmlData[i2] === \";\")\n      return i2;\n    if (!xmlData[i2].match(re2))\n      break;\n  }\n  return -1;\n}\nfunction validateAmpersand(xmlData, i2) {\n  i2++;\n  if (xmlData[i2] === \";\")\n    return -1;\n  if (xmlData[i2] === \"#\") {\n    i2++;\n    return validateNumberAmpersand(xmlData, i2);\n  }\n  let count = 0;\n  for (; i2 < xmlData.length; i2++, count++) {\n    if (xmlData[i2].match(/\\w/) && count < 20)\n      continue;\n    if (xmlData[i2] === \";\")\n      break;\n    return -1;\n  }\n  return i2;\n}\nfunction getErrorObject(code, message, lineNumber) {\n  return {\n    err: {\n      code,\n      msg: message,\n      line: lineNumber.line || lineNumber,\n      col: lineNumber.col\n    }\n  };\n}\nfunction validateAttrName(attrName) {\n  return util$2.isName(attrName);\n}\nfunction validateTagName(tagname) {\n  return util$2.isName(tagname);\n}\nfunction getLineNumberForPosition(xmlData, index) {\n  const lines = xmlData.substring(0, index).split(/\\r?\\n/);\n  return {\n    line: lines.length,\n    // column number is last line's length + 1, because column numbering starts at 1:\n    col: lines[lines.length - 1].length + 1\n  };\n}\nfunction getPositionFromMatch(match) {\n  return match.startIndex + match[1].length;\n}\nvar OptionsBuilder = {};\nconst defaultOptions$1 = {\n  preserveOrder: false,\n  attributeNamePrefix: \"@_\",\n  attributesGroupName: false,\n  textNodeName: \"#text\",\n  ignoreAttributes: true,\n  removeNSPrefix: false,\n  // remove NS from tag name or attribute name if true\n  allowBooleanAttributes: false,\n  //a tag can have attributes without any value\n  //ignoreRootElement : false,\n  parseTagValue: true,\n  parseAttributeValue: false,\n  trimValues: true,\n  //Trim string values of tag and attributes\n  cdataPropName: false,\n  numberParseOptions: {\n    hex: true,\n    leadingZeros: true,\n    eNotation: true\n  },\n  tagValueProcessor: function(tagName, val2) {\n    return val2;\n  },\n  attributeValueProcessor: function(attrName, val2) {\n    return val2;\n  },\n  stopNodes: [],\n  //nested tags will not be parsed even for errors\n  alwaysCreateTextNode: false,\n  isArray: () => false,\n  commentPropName: false,\n  unpairedTags: [],\n  processEntities: true,\n  htmlEntities: false,\n  ignoreDeclaration: false,\n  ignorePiTags: false,\n  transformTagName: false,\n  transformAttributeName: false,\n  updateTag: function(tagName, jPath, attrs) {\n    return tagName;\n  }\n  // skipEmptyListItem: false\n};\nconst buildOptions$1 = function(options) {\n  return Object.assign({}, defaultOptions$1, options);\n};\nOptionsBuilder.buildOptions = buildOptions$1;\nOptionsBuilder.defaultOptions = defaultOptions$1;\nclass XmlNode {\n  constructor(tagname) {\n    this.tagname = tagname;\n    this.child = [];\n    this[\":@\"] = {};\n  }\n  add(key, val2) {\n    if (key === \"__proto__\") key = \"#__proto__\";\n    this.child.push({ [key]: val2 });\n  }\n  addChild(node) {\n    if (node.tagname === \"__proto__\") node.tagname = \"#__proto__\";\n    if (node[\":@\"] && Object.keys(node[\":@\"]).length > 0) {\n      this.child.push({ [node.tagname]: node.child, [\":@\"]: node[\":@\"] });\n    } else {\n      this.child.push({ [node.tagname]: node.child });\n    }\n  }\n}\nvar xmlNode$1 = XmlNode;\nconst util$1 = util$3;\nfunction readDocType$1(xmlData, i2) {\n  const entities = {};\n  if (xmlData[i2 + 3] === \"O\" && xmlData[i2 + 4] === \"C\" && xmlData[i2 + 5] === \"T\" && xmlData[i2 + 6] === \"Y\" && xmlData[i2 + 7] === \"P\" && xmlData[i2 + 8] === \"E\") {\n    i2 = i2 + 9;\n    let angleBracketsCount = 1;\n    let hasBody = false, comment = false;\n    let exp = \"\";\n    for (; i2 < xmlData.length; i2++) {\n      if (xmlData[i2] === \"<\" && !comment) {\n        if (hasBody && isEntity(xmlData, i2)) {\n          i2 += 7;\n          [entityName, val, i2] = readEntityExp(xmlData, i2 + 1);\n          if (val.indexOf(\"&\") === -1)\n            entities[validateEntityName(entityName)] = {\n              regx: RegExp(`&${entityName};`, \"g\"),\n              val\n            };\n        } else if (hasBody && isElement(xmlData, i2)) i2 += 8;\n        else if (hasBody && isAttlist(xmlData, i2)) i2 += 8;\n        else if (hasBody && isNotation(xmlData, i2)) i2 += 9;\n        else if (isComment) comment = true;\n        else throw new Error(\"Invalid DOCTYPE\");\n        angleBracketsCount++;\n        exp = \"\";\n      } else if (xmlData[i2] === \">\") {\n        if (comment) {\n          if (xmlData[i2 - 1] === \"-\" && xmlData[i2 - 2] === \"-\") {\n            comment = false;\n            angleBracketsCount--;\n          }\n        } else {\n          angleBracketsCount--;\n        }\n        if (angleBracketsCount === 0) {\n          break;\n        }\n      } else if (xmlData[i2] === \"[\") {\n        hasBody = true;\n      } else {\n        exp += xmlData[i2];\n      }\n    }\n    if (angleBracketsCount !== 0) {\n      throw new Error(`Unclosed DOCTYPE`);\n    }\n  } else {\n    throw new Error(`Invalid Tag instead of DOCTYPE`);\n  }\n  return { entities, i: i2 };\n}\nfunction readEntityExp(xmlData, i2) {\n  let entityName2 = \"\";\n  for (; i2 < xmlData.length && (xmlData[i2] !== \"'\" && xmlData[i2] !== '\"'); i2++) {\n    entityName2 += xmlData[i2];\n  }\n  entityName2 = entityName2.trim();\n  if (entityName2.indexOf(\" \") !== -1) throw new Error(\"External entites are not supported\");\n  const startChar = xmlData[i2++];\n  let val2 = \"\";\n  for (; i2 < xmlData.length && xmlData[i2] !== startChar; i2++) {\n    val2 += xmlData[i2];\n  }\n  return [entityName2, val2, i2];\n}\nfunction isComment(xmlData, i2) {\n  if (xmlData[i2 + 1] === \"!\" && xmlData[i2 + 2] === \"-\" && xmlData[i2 + 3] === \"-\") return true;\n  return false;\n}\nfunction isEntity(xmlData, i2) {\n  if (xmlData[i2 + 1] === \"!\" && xmlData[i2 + 2] === \"E\" && xmlData[i2 + 3] === \"N\" && xmlData[i2 + 4] === \"T\" && xmlData[i2 + 5] === \"I\" && xmlData[i2 + 6] === \"T\" && xmlData[i2 + 7] === \"Y\") return true;\n  return false;\n}\nfunction isElement(xmlData, i2) {\n  if (xmlData[i2 + 1] === \"!\" && xmlData[i2 + 2] === \"E\" && xmlData[i2 + 3] === \"L\" && xmlData[i2 + 4] === \"E\" && xmlData[i2 + 5] === \"M\" && xmlData[i2 + 6] === \"E\" && xmlData[i2 + 7] === \"N\" && xmlData[i2 + 8] === \"T\") return true;\n  return false;\n}\nfunction isAttlist(xmlData, i2) {\n  if (xmlData[i2 + 1] === \"!\" && xmlData[i2 + 2] === \"A\" && xmlData[i2 + 3] === \"T\" && xmlData[i2 + 4] === \"T\" && xmlData[i2 + 5] === \"L\" && xmlData[i2 + 6] === \"I\" && xmlData[i2 + 7] === \"S\" && xmlData[i2 + 8] === \"T\") return true;\n  return false;\n}\nfunction isNotation(xmlData, i2) {\n  if (xmlData[i2 + 1] === \"!\" && xmlData[i2 + 2] === \"N\" && xmlData[i2 + 3] === \"O\" && xmlData[i2 + 4] === \"T\" && xmlData[i2 + 5] === \"A\" && xmlData[i2 + 6] === \"T\" && xmlData[i2 + 7] === \"I\" && xmlData[i2 + 8] === \"O\" && xmlData[i2 + 9] === \"N\") return true;\n  return false;\n}\nfunction validateEntityName(name) {\n  if (util$1.isName(name))\n    return name;\n  else\n    throw new Error(`Invalid entity name ${name}`);\n}\nvar DocTypeReader = readDocType$1;\nconst hexRegex = /^[-+]?0x[a-fA-F0-9]+$/;\nconst numRegex = /^([\\-\\+])?(0*)(\\.[0-9]+([eE]\\-?[0-9]+)?|[0-9]+(\\.[0-9]+([eE]\\-?[0-9]+)?)?)$/;\nif (!Number.parseInt && window.parseInt) {\n  Number.parseInt = window.parseInt;\n}\nif (!Number.parseFloat && window.parseFloat) {\n  Number.parseFloat = window.parseFloat;\n}\nconst consider = {\n  hex: true,\n  leadingZeros: true,\n  decimalPoint: \".\",\n  eNotation: true\n  //skipLike: /regex/\n};\nfunction toNumber$1(str, options = {}) {\n  options = Object.assign({}, consider, options);\n  if (!str || typeof str !== \"string\") return str;\n  let trimmedStr = str.trim();\n  if (options.skipLike !== void 0 && options.skipLike.test(trimmedStr)) return str;\n  else if (options.hex && hexRegex.test(trimmedStr)) {\n    return Number.parseInt(trimmedStr, 16);\n  } else {\n    const match = numRegex.exec(trimmedStr);\n    if (match) {\n      const sign = match[1];\n      const leadingZeros = match[2];\n      let numTrimmedByZeros = trimZeros(match[3]);\n      const eNotation = match[4] || match[6];\n      if (!options.leadingZeros && leadingZeros.length > 0 && sign && trimmedStr[2] !== \".\") return str;\n      else if (!options.leadingZeros && leadingZeros.length > 0 && !sign && trimmedStr[1] !== \".\") return str;\n      else {\n        const num = Number(trimmedStr);\n        const numStr = \"\" + num;\n        if (numStr.search(/[eE]/) !== -1) {\n          if (options.eNotation) return num;\n          else return str;\n        } else if (eNotation) {\n          if (options.eNotation) return num;\n          else return str;\n        } else if (trimmedStr.indexOf(\".\") !== -1) {\n          if (numStr === \"0\" && numTrimmedByZeros === \"\") return num;\n          else if (numStr === numTrimmedByZeros) return num;\n          else if (sign && numStr === \"-\" + numTrimmedByZeros) return num;\n          else return str;\n        }\n        if (leadingZeros) {\n          if (numTrimmedByZeros === numStr) return num;\n          else if (sign + numTrimmedByZeros === numStr) return num;\n          else return str;\n        }\n        if (trimmedStr === numStr) return num;\n        else if (trimmedStr === sign + numStr) return num;\n        return str;\n      }\n    } else {\n      return str;\n    }\n  }\n}\nfunction trimZeros(numStr) {\n  if (numStr && numStr.indexOf(\".\") !== -1) {\n    numStr = numStr.replace(/0+$/, \"\");\n    if (numStr === \".\") numStr = \"0\";\n    else if (numStr[0] === \".\") numStr = \"0\" + numStr;\n    else if (numStr[numStr.length - 1] === \".\") numStr = numStr.substr(0, numStr.length - 1);\n    return numStr;\n  }\n  return numStr;\n}\nvar strnum = toNumber$1;\nfunction getIgnoreAttributesFn$2(ignoreAttributes2) {\n  if (typeof ignoreAttributes2 === \"function\") {\n    return ignoreAttributes2;\n  }\n  if (Array.isArray(ignoreAttributes2)) {\n    return (attrName) => {\n      for (const pattern of ignoreAttributes2) {\n        if (typeof pattern === \"string\" && attrName === pattern) {\n          return true;\n        }\n        if (pattern instanceof RegExp && pattern.test(attrName)) {\n          return true;\n        }\n      }\n    };\n  }\n  return () => false;\n}\nvar ignoreAttributes = getIgnoreAttributesFn$2;\nconst util = util$3;\nconst xmlNode = xmlNode$1;\nconst readDocType = DocTypeReader;\nconst toNumber = strnum;\nconst getIgnoreAttributesFn$1 = ignoreAttributes;\nlet OrderedObjParser$1 = class OrderedObjParser {\n  constructor(options) {\n    this.options = options;\n    this.currentNode = null;\n    this.tagsNodeStack = [];\n    this.docTypeEntities = {};\n    this.lastEntities = {\n      \"apos\": { regex: /&(apos|#39|#x27);/g, val: \"'\" },\n      \"gt\": { regex: /&(gt|#62|#x3E);/g, val: \">\" },\n      \"lt\": { regex: /&(lt|#60|#x3C);/g, val: \"<\" },\n      \"quot\": { regex: /&(quot|#34|#x22);/g, val: '\"' }\n    };\n    this.ampEntity = { regex: /&(amp|#38|#x26);/g, val: \"&\" };\n    this.htmlEntities = {\n      \"space\": { regex: /&(nbsp|#160);/g, val: \" \" },\n      // \"lt\" : { regex: /&(lt|#60);/g, val: \"<\" },\n      // \"gt\" : { regex: /&(gt|#62);/g, val: \">\" },\n      // \"amp\" : { regex: /&(amp|#38);/g, val: \"&\" },\n      // \"quot\" : { regex: /&(quot|#34);/g, val: \"\\\"\" },\n      // \"apos\" : { regex: /&(apos|#39);/g, val: \"'\" },\n      \"cent\": { regex: /&(cent|#162);/g, val: \"¢\" },\n      \"pound\": { regex: /&(pound|#163);/g, val: \"£\" },\n      \"yen\": { regex: /&(yen|#165);/g, val: \"¥\" },\n      \"euro\": { regex: /&(euro|#8364);/g, val: \"€\" },\n      \"copyright\": { regex: /&(copy|#169);/g, val: \"©\" },\n      \"reg\": { regex: /&(reg|#174);/g, val: \"®\" },\n      \"inr\": { regex: /&(inr|#8377);/g, val: \"₹\" },\n      \"num_dec\": { regex: /&#([0-9]{1,7});/g, val: (_, str) => String.fromCharCode(Number.parseInt(str, 10)) },\n      \"num_hex\": { regex: /&#x([0-9a-fA-F]{1,6});/g, val: (_, str) => String.fromCharCode(Number.parseInt(str, 16)) }\n    };\n    this.addExternalEntities = addExternalEntities;\n    this.parseXml = parseXml;\n    this.parseTextData = parseTextData;\n    this.resolveNameSpace = resolveNameSpace;\n    this.buildAttributesMap = buildAttributesMap;\n    this.isItStopNode = isItStopNode;\n    this.replaceEntitiesValue = replaceEntitiesValue$1;\n    this.readStopNodeData = readStopNodeData;\n    this.saveTextToParentTag = saveTextToParentTag;\n    this.addChild = addChild;\n    this.ignoreAttributesFn = getIgnoreAttributesFn$1(this.options.ignoreAttributes);\n  }\n};\nfunction addExternalEntities(externalEntities) {\n  const entKeys = Object.keys(externalEntities);\n  for (let i2 = 0; i2 < entKeys.length; i2++) {\n    const ent = entKeys[i2];\n    this.lastEntities[ent] = {\n      regex: new RegExp(\"&\" + ent + \";\", \"g\"),\n      val: externalEntities[ent]\n    };\n  }\n}\nfunction parseTextData(val2, tagName, jPath, dontTrim, hasAttributes, isLeafNode, escapeEntities) {\n  if (val2 !== void 0) {\n    if (this.options.trimValues && !dontTrim) {\n      val2 = val2.trim();\n    }\n    if (val2.length > 0) {\n      if (!escapeEntities) val2 = this.replaceEntitiesValue(val2);\n      const newval = this.options.tagValueProcessor(tagName, val2, jPath, hasAttributes, isLeafNode);\n      if (newval === null || newval === void 0) {\n        return val2;\n      } else if (typeof newval !== typeof val2 || newval !== val2) {\n        return newval;\n      } else if (this.options.trimValues) {\n        return parseValue(val2, this.options.parseTagValue, this.options.numberParseOptions);\n      } else {\n        const trimmedVal = val2.trim();\n        if (trimmedVal === val2) {\n          return parseValue(val2, this.options.parseTagValue, this.options.numberParseOptions);\n        } else {\n          return val2;\n        }\n      }\n    }\n  }\n}\nfunction resolveNameSpace(tagname) {\n  if (this.options.removeNSPrefix) {\n    const tags = tagname.split(\":\");\n    const prefix = tagname.charAt(0) === \"/\" ? \"/\" : \"\";\n    if (tags[0] === \"xmlns\") {\n      return \"\";\n    }\n    if (tags.length === 2) {\n      tagname = prefix + tags[1];\n    }\n  }\n  return tagname;\n}\nconst attrsRegx = new RegExp(`([^\\\\s=]+)\\\\s*(=\\\\s*(['\"])([\\\\s\\\\S]*?)\\\\3)?`, \"gm\");\nfunction buildAttributesMap(attrStr, jPath, tagName) {\n  if (this.options.ignoreAttributes !== true && typeof attrStr === \"string\") {\n    const matches = util.getAllMatches(attrStr, attrsRegx);\n    const len = matches.length;\n    const attrs = {};\n    for (let i2 = 0; i2 < len; i2++) {\n      const attrName = this.resolveNameSpace(matches[i2][1]);\n      if (this.ignoreAttributesFn(attrName, jPath)) {\n        continue;\n      }\n      let oldVal = matches[i2][4];\n      let aName = this.options.attributeNamePrefix + attrName;\n      if (attrName.length) {\n        if (this.options.transformAttributeName) {\n          aName = this.options.transformAttributeName(aName);\n        }\n        if (aName === \"__proto__\") aName = \"#__proto__\";\n        if (oldVal !== void 0) {\n          if (this.options.trimValues) {\n            oldVal = oldVal.trim();\n          }\n          oldVal = this.replaceEntitiesValue(oldVal);\n          const newVal = this.options.attributeValueProcessor(attrName, oldVal, jPath);\n          if (newVal === null || newVal === void 0) {\n            attrs[aName] = oldVal;\n          } else if (typeof newVal !== typeof oldVal || newVal !== oldVal) {\n            attrs[aName] = newVal;\n          } else {\n            attrs[aName] = parseValue(\n              oldVal,\n              this.options.parseAttributeValue,\n              this.options.numberParseOptions\n            );\n          }\n        } else if (this.options.allowBooleanAttributes) {\n          attrs[aName] = true;\n        }\n      }\n    }\n    if (!Object.keys(attrs).length) {\n      return;\n    }\n    if (this.options.attributesGroupName) {\n      const attrCollection = {};\n      attrCollection[this.options.attributesGroupName] = attrs;\n      return attrCollection;\n    }\n    return attrs;\n  }\n}\nconst parseXml = function(xmlData) {\n  xmlData = xmlData.replace(/\\r\\n?/g, \"\\n\");\n  const xmlObj = new xmlNode(\"!xml\");\n  let currentNode = xmlObj;\n  let textData = \"\";\n  let jPath = \"\";\n  for (let i2 = 0; i2 < xmlData.length; i2++) {\n    const ch = xmlData[i2];\n    if (ch === \"<\") {\n      if (xmlData[i2 + 1] === \"/\") {\n        const closeIndex = findClosingIndex(xmlData, \">\", i2, \"Closing Tag is not closed.\");\n        let tagName = xmlData.substring(i2 + 2, closeIndex).trim();\n        if (this.options.removeNSPrefix) {\n          const colonIndex = tagName.indexOf(\":\");\n          if (colonIndex !== -1) {\n            tagName = tagName.substr(colonIndex + 1);\n          }\n        }\n        if (this.options.transformTagName) {\n          tagName = this.options.transformTagName(tagName);\n        }\n        if (currentNode) {\n          textData = this.saveTextToParentTag(textData, currentNode, jPath);\n        }\n        const lastTagName = jPath.substring(jPath.lastIndexOf(\".\") + 1);\n        if (tagName && this.options.unpairedTags.indexOf(tagName) !== -1) {\n          throw new Error(`Unpaired tag can not be used as closing tag: </${tagName}>`);\n        }\n        let propIndex = 0;\n        if (lastTagName && this.options.unpairedTags.indexOf(lastTagName) !== -1) {\n          propIndex = jPath.lastIndexOf(\".\", jPath.lastIndexOf(\".\") - 1);\n          this.tagsNodeStack.pop();\n        } else {\n          propIndex = jPath.lastIndexOf(\".\");\n        }\n        jPath = jPath.substring(0, propIndex);\n        currentNode = this.tagsNodeStack.pop();\n        textData = \"\";\n        i2 = closeIndex;\n      } else if (xmlData[i2 + 1] === \"?\") {\n        let tagData = readTagExp(xmlData, i2, false, \"?>\");\n        if (!tagData) throw new Error(\"Pi Tag is not closed.\");\n        textData = this.saveTextToParentTag(textData, currentNode, jPath);\n        if (this.options.ignoreDeclaration && tagData.tagName === \"?xml\" || this.options.ignorePiTags) ;\n        else {\n          const childNode = new xmlNode(tagData.tagName);\n          childNode.add(this.options.textNodeName, \"\");\n          if (tagData.tagName !== tagData.tagExp && tagData.attrExpPresent) {\n            childNode[\":@\"] = this.buildAttributesMap(tagData.tagExp, jPath, tagData.tagName);\n          }\n          this.addChild(currentNode, childNode, jPath);\n        }\n        i2 = tagData.closeIndex + 1;\n      } else if (xmlData.substr(i2 + 1, 3) === \"!--\") {\n        const endIndex = findClosingIndex(xmlData, \"-->\", i2 + 4, \"Comment is not closed.\");\n        if (this.options.commentPropName) {\n          const comment = xmlData.substring(i2 + 4, endIndex - 2);\n          textData = this.saveTextToParentTag(textData, currentNode, jPath);\n          currentNode.add(this.options.commentPropName, [{ [this.options.textNodeName]: comment }]);\n        }\n        i2 = endIndex;\n      } else if (xmlData.substr(i2 + 1, 2) === \"!D\") {\n        const result = readDocType(xmlData, i2);\n        this.docTypeEntities = result.entities;\n        i2 = result.i;\n      } else if (xmlData.substr(i2 + 1, 2) === \"![\") {\n        const closeIndex = findClosingIndex(xmlData, \"]]>\", i2, \"CDATA is not closed.\") - 2;\n        const tagExp = xmlData.substring(i2 + 9, closeIndex);\n        textData = this.saveTextToParentTag(textData, currentNode, jPath);\n        let val2 = this.parseTextData(tagExp, currentNode.tagname, jPath, true, false, true, true);\n        if (val2 == void 0) val2 = \"\";\n        if (this.options.cdataPropName) {\n          currentNode.add(this.options.cdataPropName, [{ [this.options.textNodeName]: tagExp }]);\n        } else {\n          currentNode.add(this.options.textNodeName, val2);\n        }\n        i2 = closeIndex + 2;\n      } else {\n        let result = readTagExp(xmlData, i2, this.options.removeNSPrefix);\n        let tagName = result.tagName;\n        const rawTagName = result.rawTagName;\n        let tagExp = result.tagExp;\n        let attrExpPresent = result.attrExpPresent;\n        let closeIndex = result.closeIndex;\n        if (this.options.transformTagName) {\n          tagName = this.options.transformTagName(tagName);\n        }\n        if (currentNode && textData) {\n          if (currentNode.tagname !== \"!xml\") {\n            textData = this.saveTextToParentTag(textData, currentNode, jPath, false);\n          }\n        }\n        const lastTag = currentNode;\n        if (lastTag && this.options.unpairedTags.indexOf(lastTag.tagname) !== -1) {\n          currentNode = this.tagsNodeStack.pop();\n          jPath = jPath.substring(0, jPath.lastIndexOf(\".\"));\n        }\n        if (tagName !== xmlObj.tagname) {\n          jPath += jPath ? \".\" + tagName : tagName;\n        }\n        if (this.isItStopNode(this.options.stopNodes, jPath, tagName)) {\n          let tagContent = \"\";\n          if (tagExp.length > 0 && tagExp.lastIndexOf(\"/\") === tagExp.length - 1) {\n            if (tagName[tagName.length - 1] === \"/\") {\n              tagName = tagName.substr(0, tagName.length - 1);\n              jPath = jPath.substr(0, jPath.length - 1);\n              tagExp = tagName;\n            } else {\n              tagExp = tagExp.substr(0, tagExp.length - 1);\n            }\n            i2 = result.closeIndex;\n          } else if (this.options.unpairedTags.indexOf(tagName) !== -1) {\n            i2 = result.closeIndex;\n          } else {\n            const result2 = this.readStopNodeData(xmlData, rawTagName, closeIndex + 1);\n            if (!result2) throw new Error(`Unexpected end of ${rawTagName}`);\n            i2 = result2.i;\n            tagContent = result2.tagContent;\n          }\n          const childNode = new xmlNode(tagName);\n          if (tagName !== tagExp && attrExpPresent) {\n            childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n          }\n          if (tagContent) {\n            tagContent = this.parseTextData(tagContent, tagName, jPath, true, attrExpPresent, true, true);\n          }\n          jPath = jPath.substr(0, jPath.lastIndexOf(\".\"));\n          childNode.add(this.options.textNodeName, tagContent);\n          this.addChild(currentNode, childNode, jPath);\n        } else {\n          if (tagExp.length > 0 && tagExp.lastIndexOf(\"/\") === tagExp.length - 1) {\n            if (tagName[tagName.length - 1] === \"/\") {\n              tagName = tagName.substr(0, tagName.length - 1);\n              jPath = jPath.substr(0, jPath.length - 1);\n              tagExp = tagName;\n            } else {\n              tagExp = tagExp.substr(0, tagExp.length - 1);\n            }\n            if (this.options.transformTagName) {\n              tagName = this.options.transformTagName(tagName);\n            }\n            const childNode = new xmlNode(tagName);\n            if (tagName !== tagExp && attrExpPresent) {\n              childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n            }\n            this.addChild(currentNode, childNode, jPath);\n            jPath = jPath.substr(0, jPath.lastIndexOf(\".\"));\n          } else {\n            const childNode = new xmlNode(tagName);\n            this.tagsNodeStack.push(currentNode);\n            if (tagName !== tagExp && attrExpPresent) {\n              childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n            }\n            this.addChild(currentNode, childNode, jPath);\n            currentNode = childNode;\n          }\n          textData = \"\";\n          i2 = closeIndex;\n        }\n      }\n    } else {\n      textData += xmlData[i2];\n    }\n  }\n  return xmlObj.child;\n};\nfunction addChild(currentNode, childNode, jPath) {\n  const result = this.options.updateTag(childNode.tagname, jPath, childNode[\":@\"]);\n  if (result === false) ;\n  else if (typeof result === \"string\") {\n    childNode.tagname = result;\n    currentNode.addChild(childNode);\n  } else {\n    currentNode.addChild(childNode);\n  }\n}\nconst replaceEntitiesValue$1 = function(val2) {\n  if (this.options.processEntities) {\n    for (let entityName2 in this.docTypeEntities) {\n      const entity = this.docTypeEntities[entityName2];\n      val2 = val2.replace(entity.regx, entity.val);\n    }\n    for (let entityName2 in this.lastEntities) {\n      const entity = this.lastEntities[entityName2];\n      val2 = val2.replace(entity.regex, entity.val);\n    }\n    if (this.options.htmlEntities) {\n      for (let entityName2 in this.htmlEntities) {\n        const entity = this.htmlEntities[entityName2];\n        val2 = val2.replace(entity.regex, entity.val);\n      }\n    }\n    val2 = val2.replace(this.ampEntity.regex, this.ampEntity.val);\n  }\n  return val2;\n};\nfunction saveTextToParentTag(textData, currentNode, jPath, isLeafNode) {\n  if (textData) {\n    if (isLeafNode === void 0) isLeafNode = Object.keys(currentNode.child).length === 0;\n    textData = this.parseTextData(\n      textData,\n      currentNode.tagname,\n      jPath,\n      false,\n      currentNode[\":@\"] ? Object.keys(currentNode[\":@\"]).length !== 0 : false,\n      isLeafNode\n    );\n    if (textData !== void 0 && textData !== \"\")\n      currentNode.add(this.options.textNodeName, textData);\n    textData = \"\";\n  }\n  return textData;\n}\nfunction isItStopNode(stopNodes, jPath, currentTagName) {\n  const allNodesExp = \"*.\" + currentTagName;\n  for (const stopNodePath in stopNodes) {\n    const stopNodeExp = stopNodes[stopNodePath];\n    if (allNodesExp === stopNodeExp || jPath === stopNodeExp) return true;\n  }\n  return false;\n}\nfunction tagExpWithClosingIndex(xmlData, i2, closingChar = \">\") {\n  let attrBoundary;\n  let tagExp = \"\";\n  for (let index = i2; index < xmlData.length; index++) {\n    let ch = xmlData[index];\n    if (attrBoundary) {\n      if (ch === attrBoundary) attrBoundary = \"\";\n    } else if (ch === '\"' || ch === \"'\") {\n      attrBoundary = ch;\n    } else if (ch === closingChar[0]) {\n      if (closingChar[1]) {\n        if (xmlData[index + 1] === closingChar[1]) {\n          return {\n            data: tagExp,\n            index\n          };\n        }\n      } else {\n        return {\n          data: tagExp,\n          index\n        };\n      }\n    } else if (ch === \"\t\") {\n      ch = \" \";\n    }\n    tagExp += ch;\n  }\n}\nfunction findClosingIndex(xmlData, str, i2, errMsg) {\n  const closingIndex = xmlData.indexOf(str, i2);\n  if (closingIndex === -1) {\n    throw new Error(errMsg);\n  } else {\n    return closingIndex + str.length - 1;\n  }\n}\nfunction readTagExp(xmlData, i2, removeNSPrefix, closingChar = \">\") {\n  const result = tagExpWithClosingIndex(xmlData, i2 + 1, closingChar);\n  if (!result) return;\n  let tagExp = result.data;\n  const closeIndex = result.index;\n  const separatorIndex = tagExp.search(/\\s/);\n  let tagName = tagExp;\n  let attrExpPresent = true;\n  if (separatorIndex !== -1) {\n    tagName = tagExp.substring(0, separatorIndex);\n    tagExp = tagExp.substring(separatorIndex + 1).trimStart();\n  }\n  const rawTagName = tagName;\n  if (removeNSPrefix) {\n    const colonIndex = tagName.indexOf(\":\");\n    if (colonIndex !== -1) {\n      tagName = tagName.substr(colonIndex + 1);\n      attrExpPresent = tagName !== result.data.substr(colonIndex + 1);\n    }\n  }\n  return {\n    tagName,\n    tagExp,\n    closeIndex,\n    attrExpPresent,\n    rawTagName\n  };\n}\nfunction readStopNodeData(xmlData, tagName, i2) {\n  const startIndex = i2;\n  let openTagCount = 1;\n  for (; i2 < xmlData.length; i2++) {\n    if (xmlData[i2] === \"<\") {\n      if (xmlData[i2 + 1] === \"/\") {\n        const closeIndex = findClosingIndex(xmlData, \">\", i2, `${tagName} is not closed`);\n        let closeTagName = xmlData.substring(i2 + 2, closeIndex).trim();\n        if (closeTagName === tagName) {\n          openTagCount--;\n          if (openTagCount === 0) {\n            return {\n              tagContent: xmlData.substring(startIndex, i2),\n              i: closeIndex\n            };\n          }\n        }\n        i2 = closeIndex;\n      } else if (xmlData[i2 + 1] === \"?\") {\n        const closeIndex = findClosingIndex(xmlData, \"?>\", i2 + 1, \"StopNode is not closed.\");\n        i2 = closeIndex;\n      } else if (xmlData.substr(i2 + 1, 3) === \"!--\") {\n        const closeIndex = findClosingIndex(xmlData, \"-->\", i2 + 3, \"StopNode is not closed.\");\n        i2 = closeIndex;\n      } else if (xmlData.substr(i2 + 1, 2) === \"![\") {\n        const closeIndex = findClosingIndex(xmlData, \"]]>\", i2, \"StopNode is not closed.\") - 2;\n        i2 = closeIndex;\n      } else {\n        const tagData = readTagExp(xmlData, i2, \">\");\n        if (tagData) {\n          const openTagName = tagData && tagData.tagName;\n          if (openTagName === tagName && tagData.tagExp[tagData.tagExp.length - 1] !== \"/\") {\n            openTagCount++;\n          }\n          i2 = tagData.closeIndex;\n        }\n      }\n    }\n  }\n}\nfunction parseValue(val2, shouldParse, options) {\n  if (shouldParse && typeof val2 === \"string\") {\n    const newval = val2.trim();\n    if (newval === \"true\") return true;\n    else if (newval === \"false\") return false;\n    else return toNumber(val2, options);\n  } else {\n    if (util.isExist(val2)) {\n      return val2;\n    } else {\n      return \"\";\n    }\n  }\n}\nvar OrderedObjParser_1 = OrderedObjParser$1;\nvar node2json = {};\nfunction prettify$1(node, options) {\n  return compress(node, options);\n}\nfunction compress(arr, options, jPath) {\n  let text;\n  const compressedObj = {};\n  for (let i2 = 0; i2 < arr.length; i2++) {\n    const tagObj = arr[i2];\n    const property = propName$1(tagObj);\n    let newJpath = \"\";\n    if (jPath === void 0) newJpath = property;\n    else newJpath = jPath + \".\" + property;\n    if (property === options.textNodeName) {\n      if (text === void 0) text = tagObj[property];\n      else text += \"\" + tagObj[property];\n    } else if (property === void 0) {\n      continue;\n    } else if (tagObj[property]) {\n      let val2 = compress(tagObj[property], options, newJpath);\n      const isLeaf = isLeafTag(val2, options);\n      if (tagObj[\":@\"]) {\n        assignAttributes(val2, tagObj[\":@\"], newJpath, options);\n      } else if (Object.keys(val2).length === 1 && val2[options.textNodeName] !== void 0 && !options.alwaysCreateTextNode) {\n        val2 = val2[options.textNodeName];\n      } else if (Object.keys(val2).length === 0) {\n        if (options.alwaysCreateTextNode) val2[options.textNodeName] = \"\";\n        else val2 = \"\";\n      }\n      if (compressedObj[property] !== void 0 && compressedObj.hasOwnProperty(property)) {\n        if (!Array.isArray(compressedObj[property])) {\n          compressedObj[property] = [compressedObj[property]];\n        }\n        compressedObj[property].push(val2);\n      } else {\n        if (options.isArray(property, newJpath, isLeaf)) {\n          compressedObj[property] = [val2];\n        } else {\n          compressedObj[property] = val2;\n        }\n      }\n    }\n  }\n  if (typeof text === \"string\") {\n    if (text.length > 0) compressedObj[options.textNodeName] = text;\n  } else if (text !== void 0) compressedObj[options.textNodeName] = text;\n  return compressedObj;\n}\nfunction propName$1(obj) {\n  const keys = Object.keys(obj);\n  for (let i2 = 0; i2 < keys.length; i2++) {\n    const key = keys[i2];\n    if (key !== \":@\") return key;\n  }\n}\nfunction assignAttributes(obj, attrMap, jpath, options) {\n  if (attrMap) {\n    const keys = Object.keys(attrMap);\n    const len = keys.length;\n    for (let i2 = 0; i2 < len; i2++) {\n      const atrrName = keys[i2];\n      if (options.isArray(atrrName, jpath + \".\" + atrrName, true, true)) {\n        obj[atrrName] = [attrMap[atrrName]];\n      } else {\n        obj[atrrName] = attrMap[atrrName];\n      }\n    }\n  }\n}\nfunction isLeafTag(obj, options) {\n  const { textNodeName } = options;\n  const propCount = Object.keys(obj).length;\n  if (propCount === 0) {\n    return true;\n  }\n  if (propCount === 1 && (obj[textNodeName] || typeof obj[textNodeName] === \"boolean\" || obj[textNodeName] === 0)) {\n    return true;\n  }\n  return false;\n}\nnode2json.prettify = prettify$1;\nconst { buildOptions } = OptionsBuilder;\nconst OrderedObjParser2 = OrderedObjParser_1;\nconst { prettify } = node2json;\nconst validator$1 = validator$2;\nlet XMLParser$1 = class XMLParser {\n  constructor(options) {\n    this.externalEntities = {};\n    this.options = buildOptions(options);\n  }\n  /**\n   * Parse XML dats to JS object \n   * @param {string|Buffer} xmlData \n   * @param {boolean|Object} validationOption \n   */\n  parse(xmlData, validationOption) {\n    if (typeof xmlData === \"string\") ;\n    else if (xmlData.toString) {\n      xmlData = xmlData.toString();\n    } else {\n      throw new Error(\"XML data is accepted in String or Bytes[] form.\");\n    }\n    if (validationOption) {\n      if (validationOption === true) validationOption = {};\n      const result = validator$1.validate(xmlData, validationOption);\n      if (result !== true) {\n        throw Error(`${result.err.msg}:${result.err.line}:${result.err.col}`);\n      }\n    }\n    const orderedObjParser = new OrderedObjParser2(this.options);\n    orderedObjParser.addExternalEntities(this.externalEntities);\n    const orderedResult = orderedObjParser.parseXml(xmlData);\n    if (this.options.preserveOrder || orderedResult === void 0) return orderedResult;\n    else return prettify(orderedResult, this.options);\n  }\n  /**\n   * Add Entity which is not by default supported by this library\n   * @param {string} key \n   * @param {string} value \n   */\n  addEntity(key, value) {\n    if (value.indexOf(\"&\") !== -1) {\n      throw new Error(\"Entity value can't have '&'\");\n    } else if (key.indexOf(\"&\") !== -1 || key.indexOf(\";\") !== -1) {\n      throw new Error(\"An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'\");\n    } else if (value === \"&\") {\n      throw new Error(\"An entity with value '&' is not permitted\");\n    } else {\n      this.externalEntities[key] = value;\n    }\n  }\n};\nvar XMLParser_1 = XMLParser$1;\nconst EOL = \"\\n\";\nfunction toXml(jArray, options) {\n  let indentation = \"\";\n  if (options.format && options.indentBy.length > 0) {\n    indentation = EOL;\n  }\n  return arrToStr(jArray, options, \"\", indentation);\n}\nfunction arrToStr(arr, options, jPath, indentation) {\n  let xmlStr = \"\";\n  let isPreviousElementTag = false;\n  for (let i2 = 0; i2 < arr.length; i2++) {\n    const tagObj = arr[i2];\n    const tagName = propName(tagObj);\n    if (tagName === void 0) continue;\n    let newJPath = \"\";\n    if (jPath.length === 0) newJPath = tagName;\n    else newJPath = `${jPath}.${tagName}`;\n    if (tagName === options.textNodeName) {\n      let tagText = tagObj[tagName];\n      if (!isStopNode(newJPath, options)) {\n        tagText = options.tagValueProcessor(tagName, tagText);\n        tagText = replaceEntitiesValue(tagText, options);\n      }\n      if (isPreviousElementTag) {\n        xmlStr += indentation;\n      }\n      xmlStr += tagText;\n      isPreviousElementTag = false;\n      continue;\n    } else if (tagName === options.cdataPropName) {\n      if (isPreviousElementTag) {\n        xmlStr += indentation;\n      }\n      xmlStr += `<![CDATA[${tagObj[tagName][0][options.textNodeName]}]]>`;\n      isPreviousElementTag = false;\n      continue;\n    } else if (tagName === options.commentPropName) {\n      xmlStr += indentation + `<!--${tagObj[tagName][0][options.textNodeName]}-->`;\n      isPreviousElementTag = true;\n      continue;\n    } else if (tagName[0] === \"?\") {\n      const attStr2 = attr_to_str(tagObj[\":@\"], options);\n      const tempInd = tagName === \"?xml\" ? \"\" : indentation;\n      let piTextNodeName = tagObj[tagName][0][options.textNodeName];\n      piTextNodeName = piTextNodeName.length !== 0 ? \" \" + piTextNodeName : \"\";\n      xmlStr += tempInd + `<${tagName}${piTextNodeName}${attStr2}?>`;\n      isPreviousElementTag = true;\n      continue;\n    }\n    let newIdentation = indentation;\n    if (newIdentation !== \"\") {\n      newIdentation += options.indentBy;\n    }\n    const attStr = attr_to_str(tagObj[\":@\"], options);\n    const tagStart = indentation + `<${tagName}${attStr}`;\n    const tagValue = arrToStr(tagObj[tagName], options, newJPath, newIdentation);\n    if (options.unpairedTags.indexOf(tagName) !== -1) {\n      if (options.suppressUnpairedNode) xmlStr += tagStart + \">\";\n      else xmlStr += tagStart + \"/>\";\n    } else if ((!tagValue || tagValue.length === 0) && options.suppressEmptyNode) {\n      xmlStr += tagStart + \"/>\";\n    } else if (tagValue && tagValue.endsWith(\">\")) {\n      xmlStr += tagStart + `>${tagValue}${indentation}</${tagName}>`;\n    } else {\n      xmlStr += tagStart + \">\";\n      if (tagValue && indentation !== \"\" && (tagValue.includes(\"/>\") || tagValue.includes(\"</\"))) {\n        xmlStr += indentation + options.indentBy + tagValue + indentation;\n      } else {\n        xmlStr += tagValue;\n      }\n      xmlStr += `</${tagName}>`;\n    }\n    isPreviousElementTag = true;\n  }\n  return xmlStr;\n}\nfunction propName(obj) {\n  const keys = Object.keys(obj);\n  for (let i2 = 0; i2 < keys.length; i2++) {\n    const key = keys[i2];\n    if (!obj.hasOwnProperty(key)) continue;\n    if (key !== \":@\") return key;\n  }\n}\nfunction attr_to_str(attrMap, options) {\n  let attrStr = \"\";\n  if (attrMap && !options.ignoreAttributes) {\n    for (let attr in attrMap) {\n      if (!attrMap.hasOwnProperty(attr)) continue;\n      let attrVal = options.attributeValueProcessor(attr, attrMap[attr]);\n      attrVal = replaceEntitiesValue(attrVal, options);\n      if (attrVal === true && options.suppressBooleanAttributes) {\n        attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}`;\n      } else {\n        attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}=\"${attrVal}\"`;\n      }\n    }\n  }\n  return attrStr;\n}\nfunction isStopNode(jPath, options) {\n  jPath = jPath.substr(0, jPath.length - options.textNodeName.length - 1);\n  let tagName = jPath.substr(jPath.lastIndexOf(\".\") + 1);\n  for (let index in options.stopNodes) {\n    if (options.stopNodes[index] === jPath || options.stopNodes[index] === \"*.\" + tagName) return true;\n  }\n  return false;\n}\nfunction replaceEntitiesValue(textValue, options) {\n  if (textValue && textValue.length > 0 && options.processEntities) {\n    for (let i2 = 0; i2 < options.entities.length; i2++) {\n      const entity = options.entities[i2];\n      textValue = textValue.replace(entity.regex, entity.val);\n    }\n  }\n  return textValue;\n}\nvar orderedJs2Xml = toXml;\nconst buildFromOrderedJs = orderedJs2Xml;\nconst getIgnoreAttributesFn = ignoreAttributes;\nconst defaultOptions = {\n  attributeNamePrefix: \"@_\",\n  attributesGroupName: false,\n  textNodeName: \"#text\",\n  ignoreAttributes: true,\n  cdataPropName: false,\n  format: false,\n  indentBy: \"  \",\n  suppressEmptyNode: false,\n  suppressUnpairedNode: true,\n  suppressBooleanAttributes: true,\n  tagValueProcessor: function(key, a2) {\n    return a2;\n  },\n  attributeValueProcessor: function(attrName, a2) {\n    return a2;\n  },\n  preserveOrder: false,\n  commentPropName: false,\n  unpairedTags: [],\n  entities: [\n    { regex: new RegExp(\"&\", \"g\"), val: \"&amp;\" },\n    //it must be on top\n    { regex: new RegExp(\">\", \"g\"), val: \"&gt;\" },\n    { regex: new RegExp(\"<\", \"g\"), val: \"&lt;\" },\n    { regex: new RegExp(\"'\", \"g\"), val: \"&apos;\" },\n    { regex: new RegExp('\"', \"g\"), val: \"&quot;\" }\n  ],\n  processEntities: true,\n  stopNodes: [],\n  // transformTagName: false,\n  // transformAttributeName: false,\n  oneListGroup: false\n};\nfunction Builder(options) {\n  this.options = Object.assign({}, defaultOptions, options);\n  if (this.options.ignoreAttributes === true || this.options.attributesGroupName) {\n    this.isAttribute = function() {\n      return false;\n    };\n  } else {\n    this.ignoreAttributesFn = getIgnoreAttributesFn(this.options.ignoreAttributes);\n    this.attrPrefixLen = this.options.attributeNamePrefix.length;\n    this.isAttribute = isAttribute;\n  }\n  this.processTextOrObjNode = processTextOrObjNode;\n  if (this.options.format) {\n    this.indentate = indentate;\n    this.tagEndChar = \">\\n\";\n    this.newLine = \"\\n\";\n  } else {\n    this.indentate = function() {\n      return \"\";\n    };\n    this.tagEndChar = \">\";\n    this.newLine = \"\";\n  }\n}\nBuilder.prototype.build = function(jObj) {\n  if (this.options.preserveOrder) {\n    return buildFromOrderedJs(jObj, this.options);\n  } else {\n    if (Array.isArray(jObj) && this.options.arrayNodeName && this.options.arrayNodeName.length > 1) {\n      jObj = {\n        [this.options.arrayNodeName]: jObj\n      };\n    }\n    return this.j2x(jObj, 0, []).val;\n  }\n};\nBuilder.prototype.j2x = function(jObj, level, ajPath) {\n  let attrStr = \"\";\n  let val2 = \"\";\n  const jPath = ajPath.join(\".\");\n  for (let key in jObj) {\n    if (!Object.prototype.hasOwnProperty.call(jObj, key)) continue;\n    if (typeof jObj[key] === \"undefined\") {\n      if (this.isAttribute(key)) {\n        val2 += \"\";\n      }\n    } else if (jObj[key] === null) {\n      if (this.isAttribute(key)) {\n        val2 += \"\";\n      } else if (key[0] === \"?\") {\n        val2 += this.indentate(level) + \"<\" + key + \"?\" + this.tagEndChar;\n      } else {\n        val2 += this.indentate(level) + \"<\" + key + \"/\" + this.tagEndChar;\n      }\n    } else if (jObj[key] instanceof Date) {\n      val2 += this.buildTextValNode(jObj[key], key, \"\", level);\n    } else if (typeof jObj[key] !== \"object\") {\n      const attr = this.isAttribute(key);\n      if (attr && !this.ignoreAttributesFn(attr, jPath)) {\n        attrStr += this.buildAttrPairStr(attr, \"\" + jObj[key]);\n      } else if (!attr) {\n        if (key === this.options.textNodeName) {\n          let newval = this.options.tagValueProcessor(key, \"\" + jObj[key]);\n          val2 += this.replaceEntitiesValue(newval);\n        } else {\n          val2 += this.buildTextValNode(jObj[key], key, \"\", level);\n        }\n      }\n    } else if (Array.isArray(jObj[key])) {\n      const arrLen = jObj[key].length;\n      let listTagVal = \"\";\n      let listTagAttr = \"\";\n      for (let j2 = 0; j2 < arrLen; j2++) {\n        const item = jObj[key][j2];\n        if (typeof item === \"undefined\") ;\n        else if (item === null) {\n          if (key[0] === \"?\") val2 += this.indentate(level) + \"<\" + key + \"?\" + this.tagEndChar;\n          else val2 += this.indentate(level) + \"<\" + key + \"/\" + this.tagEndChar;\n        } else if (typeof item === \"object\") {\n          if (this.options.oneListGroup) {\n            const result = this.j2x(item, level + 1, ajPath.concat(key));\n            listTagVal += result.val;\n            if (this.options.attributesGroupName && item.hasOwnProperty(this.options.attributesGroupName)) {\n              listTagAttr += result.attrStr;\n            }\n          } else {\n            listTagVal += this.processTextOrObjNode(item, key, level, ajPath);\n          }\n        } else {\n          if (this.options.oneListGroup) {\n            let textValue = this.options.tagValueProcessor(key, item);\n            textValue = this.replaceEntitiesValue(textValue);\n            listTagVal += textValue;\n          } else {\n            listTagVal += this.buildTextValNode(item, key, \"\", level);\n          }\n        }\n      }\n      if (this.options.oneListGroup) {\n        listTagVal = this.buildObjectNode(listTagVal, key, listTagAttr, level);\n      }\n      val2 += listTagVal;\n    } else {\n      if (this.options.attributesGroupName && key === this.options.attributesGroupName) {\n        const Ks = Object.keys(jObj[key]);\n        const L = Ks.length;\n        for (let j2 = 0; j2 < L; j2++) {\n          attrStr += this.buildAttrPairStr(Ks[j2], \"\" + jObj[key][Ks[j2]]);\n        }\n      } else {\n        val2 += this.processTextOrObjNode(jObj[key], key, level, ajPath);\n      }\n    }\n  }\n  return { attrStr, val: val2 };\n};\nBuilder.prototype.buildAttrPairStr = function(attrName, val2) {\n  val2 = this.options.attributeValueProcessor(attrName, \"\" + val2);\n  val2 = this.replaceEntitiesValue(val2);\n  if (this.options.suppressBooleanAttributes && val2 === \"true\") {\n    return \" \" + attrName;\n  } else return \" \" + attrName + '=\"' + val2 + '\"';\n};\nfunction processTextOrObjNode(object, key, level, ajPath) {\n  const result = this.j2x(object, level + 1, ajPath.concat(key));\n  if (object[this.options.textNodeName] !== void 0 && Object.keys(object).length === 1) {\n    return this.buildTextValNode(object[this.options.textNodeName], key, result.attrStr, level);\n  } else {\n    return this.buildObjectNode(result.val, key, result.attrStr, level);\n  }\n}\nBuilder.prototype.buildObjectNode = function(val2, key, attrStr, level) {\n  if (val2 === \"\") {\n    if (key[0] === \"?\") return this.indentate(level) + \"<\" + key + attrStr + \"?\" + this.tagEndChar;\n    else {\n      return this.indentate(level) + \"<\" + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }\n  } else {\n    let tagEndExp = \"</\" + key + this.tagEndChar;\n    let piClosingChar = \"\";\n    if (key[0] === \"?\") {\n      piClosingChar = \"?\";\n      tagEndExp = \"\";\n    }\n    if ((attrStr || attrStr === \"\") && val2.indexOf(\"<\") === -1) {\n      return this.indentate(level) + \"<\" + key + attrStr + piClosingChar + \">\" + val2 + tagEndExp;\n    } else if (this.options.commentPropName !== false && key === this.options.commentPropName && piClosingChar.length === 0) {\n      return this.indentate(level) + `<!--${val2}-->` + this.newLine;\n    } else {\n      return this.indentate(level) + \"<\" + key + attrStr + piClosingChar + this.tagEndChar + val2 + this.indentate(level) + tagEndExp;\n    }\n  }\n};\nBuilder.prototype.closeTag = function(key) {\n  let closeTag = \"\";\n  if (this.options.unpairedTags.indexOf(key) !== -1) {\n    if (!this.options.suppressUnpairedNode) closeTag = \"/\";\n  } else if (this.options.suppressEmptyNode) {\n    closeTag = \"/\";\n  } else {\n    closeTag = `></${key}`;\n  }\n  return closeTag;\n};\nBuilder.prototype.buildTextValNode = function(val2, key, attrStr, level) {\n  if (this.options.cdataPropName !== false && key === this.options.cdataPropName) {\n    return this.indentate(level) + `<![CDATA[${val2}]]>` + this.newLine;\n  } else if (this.options.commentPropName !== false && key === this.options.commentPropName) {\n    return this.indentate(level) + `<!--${val2}-->` + this.newLine;\n  } else if (key[0] === \"?\") {\n    return this.indentate(level) + \"<\" + key + attrStr + \"?\" + this.tagEndChar;\n  } else {\n    let textValue = this.options.tagValueProcessor(key, val2);\n    textValue = this.replaceEntitiesValue(textValue);\n    if (textValue === \"\") {\n      return this.indentate(level) + \"<\" + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    } else {\n      return this.indentate(level) + \"<\" + key + attrStr + \">\" + textValue + \"</\" + key + this.tagEndChar;\n    }\n  }\n};\nBuilder.prototype.replaceEntitiesValue = function(textValue) {\n  if (textValue && textValue.length > 0 && this.options.processEntities) {\n    for (let i2 = 0; i2 < this.options.entities.length; i2++) {\n      const entity = this.options.entities[i2];\n      textValue = textValue.replace(entity.regex, entity.val);\n    }\n  }\n  return textValue;\n};\nfunction indentate(level) {\n  return this.options.indentBy.repeat(level);\n}\nfunction isAttribute(name) {\n  if (name.startsWith(this.options.attributeNamePrefix) && name !== this.options.textNodeName) {\n    return name.substr(this.attrPrefixLen);\n  } else {\n    return false;\n  }\n}\nvar json2xml = Builder;\nconst validator = validator$2;\nconst XMLParser2 = XMLParser_1;\nconst XMLBuilder = json2xml;\nvar fxp = {\n  XMLParser: XMLParser2,\n  XMLValidator: validator,\n  XMLBuilder\n};\nfunction isSvg(string) {\n  if (typeof string !== \"string\") {\n    throw new TypeError(`Expected a \\`string\\`, got \\`${typeof string}\\``);\n  }\n  string = string.trim();\n  if (string.length === 0) {\n    return false;\n  }\n  if (fxp.XMLValidator.validate(string) !== true) {\n    return false;\n  }\n  let jsonObject;\n  const parser = new fxp.XMLParser();\n  try {\n    jsonObject = parser.parse(string);\n  } catch {\n    return false;\n  }\n  if (!jsonObject) {\n    return false;\n  }\n  if (!Object.keys(jsonObject).some((x) => x.toLowerCase() === \"svg\")) {\n    return false;\n  }\n  return true;\n}\nclass View {\n  _view;\n  constructor(view) {\n    isValidView(view);\n    this._view = view;\n  }\n  get id() {\n    return this._view.id;\n  }\n  get name() {\n    return this._view.name;\n  }\n  get caption() {\n    return this._view.caption;\n  }\n  get emptyTitle() {\n    return this._view.emptyTitle;\n  }\n  get emptyCaption() {\n    return this._view.emptyCaption;\n  }\n  get getContents() {\n    return this._view.getContents;\n  }\n  get icon() {\n    return this._view.icon;\n  }\n  set icon(icon) {\n    this._view.icon = icon;\n  }\n  get order() {\n    return this._view.order;\n  }\n  set order(order) {\n    this._view.order = order;\n  }\n  get params() {\n    return this._view.params;\n  }\n  set params(params) {\n    this._view.params = params;\n  }\n  get columns() {\n    return this._view.columns;\n  }\n  get emptyView() {\n    return this._view.emptyView;\n  }\n  get parent() {\n    return this._view.parent;\n  }\n  get sticky() {\n    return this._view.sticky;\n  }\n  get expanded() {\n    return this._view.expanded;\n  }\n  set expanded(expanded) {\n    this._view.expanded = expanded;\n  }\n  get defaultSortKey() {\n    return this._view.defaultSortKey;\n  }\n  get loadChildViews() {\n    return this._view.loadChildViews;\n  }\n}\nconst isValidView = function(view) {\n  if (!view.id || typeof view.id !== \"string\") {\n    throw new Error(\"View id is required and must be a string\");\n  }\n  if (!view.name || typeof view.name !== \"string\") {\n    throw new Error(\"View name is required and must be a string\");\n  }\n  if (\"caption\" in view && typeof view.caption !== \"string\") {\n    throw new Error(\"View caption must be a string\");\n  }\n  if (!view.getContents || typeof view.getContents !== \"function\") {\n    throw new Error(\"View getContents is required and must be a function\");\n  }\n  if (!view.icon || typeof view.icon !== \"string\" || !isSvg(view.icon)) {\n    throw new Error(\"View icon is required and must be a valid svg string\");\n  }\n  if (\"order\" in view && typeof view.order !== \"number\") {\n    throw new Error(\"View order must be a number\");\n  }\n  if (view.columns) {\n    view.columns.forEach((column) => {\n      if (!(column instanceof Column)) {\n        throw new Error(\"View columns must be an array of Column. Invalid column found\");\n      }\n    });\n  }\n  if (view.emptyView && typeof view.emptyView !== \"function\") {\n    throw new Error(\"View emptyView must be a function\");\n  }\n  if (view.parent && typeof view.parent !== \"string\") {\n    throw new Error(\"View parent must be a string\");\n  }\n  if (\"sticky\" in view && typeof view.sticky !== \"boolean\") {\n    throw new Error(\"View sticky must be a boolean\");\n  }\n  if (\"expanded\" in view && typeof view.expanded !== \"boolean\") {\n    throw new Error(\"View expanded must be a boolean\");\n  }\n  if (view.defaultSortKey && typeof view.defaultSortKey !== \"string\") {\n    throw new Error(\"View defaultSortKey must be a string\");\n  }\n  if (view.loadChildViews && typeof view.loadChildViews !== \"function\") {\n    throw new Error(\"View loadChildViews must be a function\");\n  }\n  return true;\n};\nconst debug$1 = typeof process === \"object\" && process.env && process.env.NODE_DEBUG && /\\bsemver\\b/i.test(process.env.NODE_DEBUG) ? (...args) => console.error(\"SEMVER\", ...args) : () => {\n};\nvar debug_1 = debug$1;\nconst SEMVER_SPEC_VERSION = \"2.0.0\";\nconst MAX_LENGTH$1 = 256;\nconst MAX_SAFE_INTEGER$1 = Number.MAX_SAFE_INTEGER || /* istanbul ignore next */\n9007199254740991;\nconst MAX_SAFE_COMPONENT_LENGTH = 16;\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH$1 - 6;\nconst RELEASE_TYPES = [\n  \"major\",\n  \"premajor\",\n  \"minor\",\n  \"preminor\",\n  \"patch\",\n  \"prepatch\",\n  \"prerelease\"\n];\nvar constants = {\n  MAX_LENGTH: MAX_LENGTH$1,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER: MAX_SAFE_INTEGER$1,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 1,\n  FLAG_LOOSE: 2\n};\nvar re$1 = { exports: {} };\n(function(module, exports) {\n  const {\n    MAX_SAFE_COMPONENT_LENGTH: MAX_SAFE_COMPONENT_LENGTH2,\n    MAX_SAFE_BUILD_LENGTH: MAX_SAFE_BUILD_LENGTH2,\n    MAX_LENGTH: MAX_LENGTH2\n  } = constants;\n  const debug2 = debug_1;\n  exports = module.exports = {};\n  const re2 = exports.re = [];\n  const safeRe = exports.safeRe = [];\n  const src = exports.src = [];\n  const t3 = exports.t = {};\n  let R = 0;\n  const LETTERDASHNUMBER = \"[a-zA-Z0-9-]\";\n  const safeRegexReplacements = [\n    [\"\\\\s\", 1],\n    [\"\\\\d\", MAX_LENGTH2],\n    [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH2]\n  ];\n  const makeSafeRegex = (value) => {\n    for (const [token, max] of safeRegexReplacements) {\n      value = value.split(`${token}*`).join(`${token}{0,${max}}`).split(`${token}+`).join(`${token}{1,${max}}`);\n    }\n    return value;\n  };\n  const createToken = (name, value, isGlobal) => {\n    const safe = makeSafeRegex(value);\n    const index = R++;\n    debug2(name, index, value);\n    t3[name] = index;\n    src[index] = value;\n    re2[index] = new RegExp(value, isGlobal ? \"g\" : void 0);\n    safeRe[index] = new RegExp(safe, isGlobal ? \"g\" : void 0);\n  };\n  createToken(\"NUMERICIDENTIFIER\", \"0|[1-9]\\\\d*\");\n  createToken(\"NUMERICIDENTIFIERLOOSE\", \"\\\\d+\");\n  createToken(\"NONNUMERICIDENTIFIER\", `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`);\n  createToken(\"MAINVERSION\", `(${src[t3.NUMERICIDENTIFIER]})\\\\.(${src[t3.NUMERICIDENTIFIER]})\\\\.(${src[t3.NUMERICIDENTIFIER]})`);\n  createToken(\"MAINVERSIONLOOSE\", `(${src[t3.NUMERICIDENTIFIERLOOSE]})\\\\.(${src[t3.NUMERICIDENTIFIERLOOSE]})\\\\.(${src[t3.NUMERICIDENTIFIERLOOSE]})`);\n  createToken(\"PRERELEASEIDENTIFIER\", `(?:${src[t3.NUMERICIDENTIFIER]}|${src[t3.NONNUMERICIDENTIFIER]})`);\n  createToken(\"PRERELEASEIDENTIFIERLOOSE\", `(?:${src[t3.NUMERICIDENTIFIERLOOSE]}|${src[t3.NONNUMERICIDENTIFIER]})`);\n  createToken(\"PRERELEASE\", `(?:-(${src[t3.PRERELEASEIDENTIFIER]}(?:\\\\.${src[t3.PRERELEASEIDENTIFIER]})*))`);\n  createToken(\"PRERELEASELOOSE\", `(?:-?(${src[t3.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${src[t3.PRERELEASEIDENTIFIERLOOSE]})*))`);\n  createToken(\"BUILDIDENTIFIER\", `${LETTERDASHNUMBER}+`);\n  createToken(\"BUILD\", `(?:\\\\+(${src[t3.BUILDIDENTIFIER]}(?:\\\\.${src[t3.BUILDIDENTIFIER]})*))`);\n  createToken(\"FULLPLAIN\", `v?${src[t3.MAINVERSION]}${src[t3.PRERELEASE]}?${src[t3.BUILD]}?`);\n  createToken(\"FULL\", `^${src[t3.FULLPLAIN]}$`);\n  createToken(\"LOOSEPLAIN\", `[v=\\\\s]*${src[t3.MAINVERSIONLOOSE]}${src[t3.PRERELEASELOOSE]}?${src[t3.BUILD]}?`);\n  createToken(\"LOOSE\", `^${src[t3.LOOSEPLAIN]}$`);\n  createToken(\"GTLT\", \"((?:<|>)?=?)\");\n  createToken(\"XRANGEIDENTIFIERLOOSE\", `${src[t3.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`);\n  createToken(\"XRANGEIDENTIFIER\", `${src[t3.NUMERICIDENTIFIER]}|x|X|\\\\*`);\n  createToken(\"XRANGEPLAIN\", `[v=\\\\s]*(${src[t3.XRANGEIDENTIFIER]})(?:\\\\.(${src[t3.XRANGEIDENTIFIER]})(?:\\\\.(${src[t3.XRANGEIDENTIFIER]})(?:${src[t3.PRERELEASE]})?${src[t3.BUILD]}?)?)?`);\n  createToken(\"XRANGEPLAINLOOSE\", `[v=\\\\s]*(${src[t3.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${src[t3.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${src[t3.XRANGEIDENTIFIERLOOSE]})(?:${src[t3.PRERELEASELOOSE]})?${src[t3.BUILD]}?)?)?`);\n  createToken(\"XRANGE\", `^${src[t3.GTLT]}\\\\s*${src[t3.XRANGEPLAIN]}$`);\n  createToken(\"XRANGELOOSE\", `^${src[t3.GTLT]}\\\\s*${src[t3.XRANGEPLAINLOOSE]}$`);\n  createToken(\"COERCEPLAIN\", `${\"(^|[^\\\\d])(\\\\d{1,\"}${MAX_SAFE_COMPONENT_LENGTH2}})(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH2}}))?(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH2}}))?`);\n  createToken(\"COERCE\", `${src[t3.COERCEPLAIN]}(?:$|[^\\\\d])`);\n  createToken(\"COERCEFULL\", src[t3.COERCEPLAIN] + `(?:${src[t3.PRERELEASE]})?(?:${src[t3.BUILD]})?(?:$|[^\\\\d])`);\n  createToken(\"COERCERTL\", src[t3.COERCE], true);\n  createToken(\"COERCERTLFULL\", src[t3.COERCEFULL], true);\n  createToken(\"LONETILDE\", \"(?:~>?)\");\n  createToken(\"TILDETRIM\", `(\\\\s*)${src[t3.LONETILDE]}\\\\s+`, true);\n  exports.tildeTrimReplace = \"$1~\";\n  createToken(\"TILDE\", `^${src[t3.LONETILDE]}${src[t3.XRANGEPLAIN]}$`);\n  createToken(\"TILDELOOSE\", `^${src[t3.LONETILDE]}${src[t3.XRANGEPLAINLOOSE]}$`);\n  createToken(\"LONECARET\", \"(?:\\\\^)\");\n  createToken(\"CARETTRIM\", `(\\\\s*)${src[t3.LONECARET]}\\\\s+`, true);\n  exports.caretTrimReplace = \"$1^\";\n  createToken(\"CARET\", `^${src[t3.LONECARET]}${src[t3.XRANGEPLAIN]}$`);\n  createToken(\"CARETLOOSE\", `^${src[t3.LONECARET]}${src[t3.XRANGEPLAINLOOSE]}$`);\n  createToken(\"COMPARATORLOOSE\", `^${src[t3.GTLT]}\\\\s*(${src[t3.LOOSEPLAIN]})$|^$`);\n  createToken(\"COMPARATOR\", `^${src[t3.GTLT]}\\\\s*(${src[t3.FULLPLAIN]})$|^$`);\n  createToken(\"COMPARATORTRIM\", `(\\\\s*)${src[t3.GTLT]}\\\\s*(${src[t3.LOOSEPLAIN]}|${src[t3.XRANGEPLAIN]})`, true);\n  exports.comparatorTrimReplace = \"$1$2$3\";\n  createToken(\"HYPHENRANGE\", `^\\\\s*(${src[t3.XRANGEPLAIN]})\\\\s+-\\\\s+(${src[t3.XRANGEPLAIN]})\\\\s*$`);\n  createToken(\"HYPHENRANGELOOSE\", `^\\\\s*(${src[t3.XRANGEPLAINLOOSE]})\\\\s+-\\\\s+(${src[t3.XRANGEPLAINLOOSE]})\\\\s*$`);\n  createToken(\"STAR\", \"(<|>)?=?\\\\s*\\\\*\");\n  createToken(\"GTE0\", \"^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$\");\n  createToken(\"GTE0PRE\", \"^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$\");\n})(re$1, re$1.exports);\nvar reExports = re$1.exports;\nconst looseOption = Object.freeze({ loose: true });\nconst emptyOpts = Object.freeze({});\nconst parseOptions$1 = (options) => {\n  if (!options) {\n    return emptyOpts;\n  }\n  if (typeof options !== \"object\") {\n    return looseOption;\n  }\n  return options;\n};\nvar parseOptions_1 = parseOptions$1;\nconst numeric = /^[0-9]+$/;\nconst compareIdentifiers$1 = (a2, b2) => {\n  const anum = numeric.test(a2);\n  const bnum = numeric.test(b2);\n  if (anum && bnum) {\n    a2 = +a2;\n    b2 = +b2;\n  }\n  return a2 === b2 ? 0 : anum && !bnum ? -1 : bnum && !anum ? 1 : a2 < b2 ? -1 : 1;\n};\nconst rcompareIdentifiers = (a2, b2) => compareIdentifiers$1(b2, a2);\nvar identifiers = {\n  compareIdentifiers: compareIdentifiers$1,\n  rcompareIdentifiers\n};\nconst debug = debug_1;\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = constants;\nconst { safeRe: re, t: t2 } = reExports;\nconst parseOptions = parseOptions_1;\nconst { compareIdentifiers } = identifiers;\nlet SemVer$2 = class SemVer {\n  constructor(version, options) {\n    options = parseOptions(options);\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose && version.includePrerelease === !!options.includePrerelease) {\n        return version;\n      } else {\n        version = version.version;\n      }\n    } else if (typeof version !== \"string\") {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`);\n    }\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      );\n    }\n    debug(\"SemVer\", version, options);\n    this.options = options;\n    this.loose = !!options.loose;\n    this.includePrerelease = !!options.includePrerelease;\n    const m2 = version.trim().match(options.loose ? re[t2.LOOSE] : re[t2.FULL]);\n    if (!m2) {\n      throw new TypeError(`Invalid Version: ${version}`);\n    }\n    this.raw = version;\n    this.major = +m2[1];\n    this.minor = +m2[2];\n    this.patch = +m2[3];\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError(\"Invalid major version\");\n    }\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError(\"Invalid minor version\");\n    }\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError(\"Invalid patch version\");\n    }\n    if (!m2[4]) {\n      this.prerelease = [];\n    } else {\n      this.prerelease = m2[4].split(\".\").map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id;\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num;\n          }\n        }\n        return id;\n      });\n    }\n    this.build = m2[5] ? m2[5].split(\".\") : [];\n    this.format();\n  }\n  format() {\n    this.version = `${this.major}.${this.minor}.${this.patch}`;\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join(\".\")}`;\n    }\n    return this.version;\n  }\n  toString() {\n    return this.version;\n  }\n  compare(other) {\n    debug(\"SemVer.compare\", this.version, this.options, other);\n    if (!(other instanceof SemVer)) {\n      if (typeof other === \"string\" && other === this.version) {\n        return 0;\n      }\n      other = new SemVer(other, this.options);\n    }\n    if (other.version === this.version) {\n      return 0;\n    }\n    return this.compareMain(other) || this.comparePre(other);\n  }\n  compareMain(other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options);\n    }\n    return compareIdentifiers(this.major, other.major) || compareIdentifiers(this.minor, other.minor) || compareIdentifiers(this.patch, other.patch);\n  }\n  comparePre(other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options);\n    }\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1;\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1;\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0;\n    }\n    let i2 = 0;\n    do {\n      const a2 = this.prerelease[i2];\n      const b2 = other.prerelease[i2];\n      debug(\"prerelease compare\", i2, a2, b2);\n      if (a2 === void 0 && b2 === void 0) {\n        return 0;\n      } else if (b2 === void 0) {\n        return 1;\n      } else if (a2 === void 0) {\n        return -1;\n      } else if (a2 === b2) {\n        continue;\n      } else {\n        return compareIdentifiers(a2, b2);\n      }\n    } while (++i2);\n  }\n  compareBuild(other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options);\n    }\n    let i2 = 0;\n    do {\n      const a2 = this.build[i2];\n      const b2 = other.build[i2];\n      debug(\"build compare\", i2, a2, b2);\n      if (a2 === void 0 && b2 === void 0) {\n        return 0;\n      } else if (b2 === void 0) {\n        return 1;\n      } else if (a2 === void 0) {\n        return -1;\n      } else if (a2 === b2) {\n        continue;\n      } else {\n        return compareIdentifiers(a2, b2);\n      }\n    } while (++i2);\n  }\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc(release, identifier, identifierBase) {\n    switch (release) {\n      case \"premajor\":\n        this.prerelease.length = 0;\n        this.patch = 0;\n        this.minor = 0;\n        this.major++;\n        this.inc(\"pre\", identifier, identifierBase);\n        break;\n      case \"preminor\":\n        this.prerelease.length = 0;\n        this.patch = 0;\n        this.minor++;\n        this.inc(\"pre\", identifier, identifierBase);\n        break;\n      case \"prepatch\":\n        this.prerelease.length = 0;\n        this.inc(\"patch\", identifier, identifierBase);\n        this.inc(\"pre\", identifier, identifierBase);\n        break;\n      case \"prerelease\":\n        if (this.prerelease.length === 0) {\n          this.inc(\"patch\", identifier, identifierBase);\n        }\n        this.inc(\"pre\", identifier, identifierBase);\n        break;\n      case \"major\":\n        if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0) {\n          this.major++;\n        }\n        this.minor = 0;\n        this.patch = 0;\n        this.prerelease = [];\n        break;\n      case \"minor\":\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++;\n        }\n        this.patch = 0;\n        this.prerelease = [];\n        break;\n      case \"patch\":\n        if (this.prerelease.length === 0) {\n          this.patch++;\n        }\n        this.prerelease = [];\n        break;\n      case \"pre\": {\n        const base = Number(identifierBase) ? 1 : 0;\n        if (!identifier && identifierBase === false) {\n          throw new Error(\"invalid increment argument: identifier is empty\");\n        }\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base];\n        } else {\n          let i2 = this.prerelease.length;\n          while (--i2 >= 0) {\n            if (typeof this.prerelease[i2] === \"number\") {\n              this.prerelease[i2]++;\n              i2 = -2;\n            }\n          }\n          if (i2 === -1) {\n            if (identifier === this.prerelease.join(\".\") && identifierBase === false) {\n              throw new Error(\"invalid increment argument: identifier already exists\");\n            }\n            this.prerelease.push(base);\n          }\n        }\n        if (identifier) {\n          let prerelease = [identifier, base];\n          if (identifierBase === false) {\n            prerelease = [identifier];\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease;\n            }\n          } else {\n            this.prerelease = prerelease;\n          }\n        }\n        break;\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`);\n    }\n    this.raw = this.format();\n    if (this.build.length) {\n      this.raw += `+${this.build.join(\".\")}`;\n    }\n    return this;\n  }\n};\nvar semver = SemVer$2;\nconst SemVer$1 = semver;\nconst parse$1 = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer$1) {\n    return version;\n  }\n  try {\n    return new SemVer$1(version, options);\n  } catch (er) {\n    if (!throwErrors) {\n      return null;\n    }\n    throw er;\n  }\n};\nvar parse_1 = parse$1;\nconst parse = parse_1;\nconst valid = (version, options) => {\n  const v = parse(version, options);\n  return v ? v.version : null;\n};\nvar valid_1 = valid;\nconst valid$1 = /* @__PURE__ */ getDefaultExportFromCjs(valid_1);\nconst SemVer2 = semver;\nconst major = (a2, loose) => new SemVer2(a2, loose).major;\nvar major_1 = major;\nconst major$1 = /* @__PURE__ */ getDefaultExportFromCjs(major_1);\nclass ProxyBus {\n  bus;\n  constructor(bus2) {\n    if (typeof bus2.getVersion !== \"function\" || !valid$1(bus2.getVersion())) {\n      console.warn(\"Proxying an event bus with an unknown or invalid version\");\n    } else if (major$1(bus2.getVersion()) !== major$1(this.getVersion())) {\n      console.warn(\n        \"Proxying an event bus of version \" + bus2.getVersion() + \" with \" + this.getVersion()\n      );\n    }\n    this.bus = bus2;\n  }\n  getVersion() {\n    return \"3.3.1\";\n  }\n  subscribe(name, handler) {\n    this.bus.subscribe(name, handler);\n  }\n  unsubscribe(name, handler) {\n    this.bus.unsubscribe(name, handler);\n  }\n  emit(name, event) {\n    this.bus.emit(name, event);\n  }\n}\nclass SimpleBus {\n  handlers = /* @__PURE__ */ new Map();\n  getVersion() {\n    return \"3.3.1\";\n  }\n  subscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).concat(\n        handler\n      )\n    );\n  }\n  unsubscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).filter((h2) => h2 !== handler)\n    );\n  }\n  emit(name, event) {\n    (this.handlers.get(name) || []).forEach((h2) => {\n      try {\n        h2(event);\n      } catch (e2) {\n        console.error(\"could not invoke event listener\", e2);\n      }\n    });\n  }\n}\nlet bus = null;\nfunction getBus() {\n  if (bus !== null) {\n    return bus;\n  }\n  if (typeof window === \"undefined\") {\n    return new Proxy({}, {\n      get: () => {\n        return () => console.error(\n          \"Window not available, EventBus can not be established!\"\n        );\n      }\n    });\n  }\n  if (window.OC?._eventBus && typeof window._nc_event_bus === \"undefined\") {\n    console.warn(\n      \"found old event bus instance at OC._eventBus. Update your version!\"\n    );\n    window._nc_event_bus = window.OC._eventBus;\n  }\n  if (typeof window?._nc_event_bus !== \"undefined\") {\n    bus = new ProxyBus(window._nc_event_bus);\n  } else {\n    bus = window._nc_event_bus = new SimpleBus();\n  }\n  return bus;\n}\nfunction emit(name, event) {\n  getBus().emit(name, event);\n}\n/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nclass FileListFilter extends TypedEventTarget {\n  id;\n  order;\n  constructor(id, order = 100) {\n    super();\n    this.id = id;\n    this.order = order;\n  }\n  filter(nodes) {\n    throw new Error(\"Not implemented\");\n  }\n  updateChips(chips) {\n    this.dispatchTypedEvent(\"update:chips\", new CustomEvent(\"update:chips\", { detail: chips }));\n  }\n  filterUpdated() {\n    this.dispatchTypedEvent(\"update:filter\", new CustomEvent(\"update:filter\"));\n  }\n}\nfunction registerFileListFilter(filter) {\n  if (!window._nc_filelist_filters) {\n    window._nc_filelist_filters = /* @__PURE__ */ new Map();\n  }\n  if (window._nc_filelist_filters.has(filter.id)) {\n    throw new Error(`File list filter \"${filter.id}\" already registered`);\n  }\n  window._nc_filelist_filters.set(filter.id, filter);\n  emit(\"files:filter:added\", filter);\n}\nfunction unregisterFileListFilter(filterId) {\n  if (window._nc_filelist_filters && window._nc_filelist_filters.has(filterId)) {\n    window._nc_filelist_filters.delete(filterId);\n    emit(\"files:filter:removed\", filterId);\n  }\n}\nfunction getFileListFilters() {\n  if (!window._nc_filelist_filters) {\n    return [];\n  }\n  return [...window._nc_filelist_filters.values()];\n}\nconst addNewFileMenuEntry = function(entry) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.registerEntry(entry);\n};\nconst removeNewFileMenuEntry = function(entry) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.unregisterEntry(entry);\n};\nconst getNewFileMenuEntries = function(context) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.getEntries(context).sort((a2, b2) => {\n    if (a2.order !== void 0 && b2.order !== void 0 && a2.order !== b2.order) {\n      return a2.order - b2.order;\n    }\n    return a2.displayName.localeCompare(b2.displayName, void 0, { numeric: true, sensitivity: \"base\" });\n  });\n};\nexport {\n  Column,\n  DefaultType,\n  q as File,\n  FileAction,\n  FileListAction,\n  FileListFilter,\n  F as FileType,\n  FilesSortingMode,\n  s as Folder,\n  Header,\n  InvalidFilenameError,\n  InvalidFilenameErrorReason,\n  Navigation,\n  NewMenuEntryCategory,\n  N as Node,\n  t as NodeStatus,\n  P as Permission,\n  View,\n  addNewFileMenuEntry,\n  c as davGetClient,\n  l as davGetDefaultPropfind,\n  m as davGetFavoritesReport,\n  n as davGetRecentSearch,\n  a as davGetRemoteURL,\n  g as davGetRootPath,\n  p as davParsePermissions,\n  b as davRemoteURL,\n  r as davResultToNode,\n  d as davRootPath,\n  h as defaultDavNamespaces,\n  f as defaultDavProperties,\n  formatFileSize,\n  k as getDavNameSpaces,\n  j as getDavProperties,\n  e as getFavoriteNodes,\n  getFileActions,\n  getFileListActions,\n  getFileListFilters,\n  getFileListHeaders,\n  getNavigation,\n  getNewFileMenuEntries,\n  getUniqueName,\n  isFilenameValid,\n  orderBy,\n  parseFileSize,\n  i as registerDavProperty,\n  registerFileAction,\n  registerFileListAction,\n  registerFileListFilter,\n  registerFileListHeaders,\n  removeNewFileMenuEntry,\n  sortNodes,\n  unregisterFileListFilter,\n  validateFilename\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \"-\" + chunkId + \".js?v=\" + {\"5365\":\"a8d4c3f682a828ac6f39\",\"5706\":\"3153330af47fc26a725a\",\"5862\":\"7b9b02dc0a1b898066ef\",\"6127\":\"1c95779f6e5539993f02\"}[chunkId] + \"\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 2766;","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t2766: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknextcloud\"] = self[\"webpackChunknextcloud\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [4208], () => (__webpack_require__(44563)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","inProgress","dataWebpackPrefix","async","execBatch","nodes","response","Promise","resolve","spawnDialog","defineAsyncComponent","status","Array","length","fill","action","FileAction","id","displayName","t","iconSvgInline","TagMultipleSvg","enabled","isPublicShare","some","node","isDavRessource","permissions","Permission","UPDATE","exec","getLoggerBuilder","setApp","detectUser","build","executeAction","activeStore","store","defineStore","state","_initialized","activeNode","activeView","activeAction","actions","setActiveNode","Error","logger","debug","this","clearActiveNode","onDeletedNode","source","setActiveAction","clearActiveAction","onChangedView","view","arguments","undefined","navigation","getNavigation","subscribe","active","addEventListener","event","detail","useActiveStore","window","_nc_files_pinia","createPinia","currentDir","OCP","Files","Router","query","dir","currentNode","currentView","error","NodeStatus","LOADING","Vue","success","showSuccess","showError","rootPath","client","davGetClient","resultToNode","davResultToNode","formatReportPayload","tagId","getDavNameSpaces","getDavProperties","tagToNode","tag","Folder","davRemoteURL","owner","String","getCurrentUser","uid","root","displayname","READ","attributes","systemTagsViewId","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","cache","renderTag","isMore","tagElement","document","createElement","classList","add","setAttribute","textContent","cachedTag","find","color","mainBackgroundColor","getComputedStyle","body","getPropertyValue","replace","isDarkModeEnabled","primaryElement","elementColor","style","setProperty","renderInline","tags","getNodeSystemTags","systemTagsElement","fileid","toString","push","fetchTags","append","moreTagElement","slice","join","order","then","systemTagsHtml","querySelectorAll","forEach","element","replaceWith","splice","findIndex","index","updateSystemTagsColorAttribute","type","FileType","dirname","path","goToRoute","openfile","default","DefaultType","HIDDEN","registerDavProperty","registerFileAction","bulkSystemTagsAction","inlineSystemTagsAction","openInFilesAction","register","View","name","caption","emptyTitle","emptyCaption","icon","svgTagMultiple","getContents","tagsCache","filter","userVisible","folder","NONE","contents","map","parseInt","split","getDirectoryContents","davRootPath","details","data","headers","method","useHotKey","manageTagAction","stop","prevent","fetchTagsPayload","davClient","glob","parseTags","fetchTag","stat","createTag","tagToPost","formatTag","customRequest","contentLocation","get","emit","parseIdFromLocation","updateTag","userAssignable","getTagObjects","etag","props","getetag","objects","Object","values","flat","setTagObjects","objectIds","_ref","rootUrl","generateRemoteUrl","createClient","setHeaders","token","requesttoken","onRequestTokenUpdate","getRequestToken","fromEntries","entries","_ref2","key","value","camelCase","url","queryPos","indexOf","substring","parts","result","pop","Number","initialTag","setNodeSystemTags","darkModePreference","matchMedia","matches","darkModeSetting","getAttribute","includes","invertTextColor","colorContrast","backgroundColor","brightBackground","calculateLuma","isBrightColor","blurredBackground","color1","color2","Color","mix","hex","contrast","minContrast","highContrastPreference","highContrastSetting","isHighContrastModeEnabled","iteration","epsilon","hsl","hexToHSL","l","Math","max","min","hslToHex","h","s","rgb","array","hexToRGB","pow","red","green","blue","luminance1","luminance2","cssKeywords","reverseKeywords","keys","convert","channels","labels","hsv","hwb","cmyk","xyz","lab","lch","keyword","ansi16","ansi256","hcg","apple","gray","module","exports","model","defineProperty","r","g","b","delta","rdif","gdif","bdif","v","diff","diffc","c","w","k","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","y","x","z","t2","t3","val","t1","i","smin","lmin","hi","floor","f","p","q","vmin","sl","wh","bl","ratio","n","m","y2","x2","z2","a","atan2","PI","sqrt","hr","cos","sin","args","saturation","round","ansi","mult","rem","string","toUpperCase","match","colorString","char","integer","chroma","grayscale","hue","pure","mg","conversions","route","fromModel","routes","toModel","fn","wrappedFn","arg0","len","conversion","wrapRounded","raw","wrapRaw","link","from","to","wrapConversion","graph","parent","cur","unshift","models","buildGraph","queue","current","adjacents","adjacent","deriveBFS","colorNames","swizzle","hasOwnProperty","reverseNames","create","call","cs","clamp","num","hexDouble","str","toLowerCase","hexAlpha","i2","parseFloat","alpha","isNaN","rgba","percent","hsla","hwba","skippedModels","hashedModelKeys","sort","limiters","object","valpha","newArray","prototype","zeroArray","hashedKeys","JSON","stringify","limit","freeze","toJSON","places","self","percentString","unitArray","unitObject","roundToPlace","getset","maxfn","saturationl","lightness","saturationv","white","wblack","cyan","magenta","yellow","black","hexa","rgbArray","alphaHex","rgbNumber","luminosity","lum","chan","lum1","lum2","level","contrastRatio","isDark","isLight","negate","lighten","darken","saturate","desaturate","whiten","blacken","fade","opaquer","rotate","degrees","mixinColor","weight","w1","w2","isArray","number","toFixed","roundTo","channel","modifier","___CSS_LOADER_EXPORT___","isArrayish","concat","results","arg","wrap","obj","Function","getOwnPropertyDescriptor","constructor","DefaultType2","_action","validateAction","title","destructive","inline","_nc_fileactions","search","humanList","humanListBinary","formatFileSize","size","skipSmallSizes","binaryPrefixes","base1000","log","readableFormat","relativeSize","toLocaleString","Date","toISOString","sortNodes","sortingOptions","sortingMode","sortingOrder","collection","identifiers2","orders","sorting","_","collator","Intl","Collator","numeric","usage","a2","b2","identifier","compare","orderBy","sortFavoritesFirst","favorite","sortFoldersFirst","basename2","basename","lastIndexOf","Navigation","_views","_currentView","dispatchTypedEvent","CustomEvent","remove","setActive","views","_nc_navigation","Column","_column","column","isValidColumn","render","summary","validator$2","util$3","nameStartChar","nameRegexp","regexName","RegExp","isExist","isEmptyObject","merge","target","arrayMode","getValue","isName","getAllMatches","regex","allmatches","startIndex","lastIndex","util$2","defaultOptions$2","allowBooleanAttributes","unpairedTags","isWhiteSpace","readPI","xmlData","start","tagname","substr","getErrorObject","getLineNumberForPosition","readCommentAndCDATA","angleBracketsCount","validate","assign","tagFound","reachedRoot","err","tagStartPos","closingTag","tagName","trim","msg","readAttributeStr","attrStr","attrStrStart","isValid","validateAttributeString","code","line","tagClosed","otg","openPos","col","afterAmp","validateAmpersand","doubleQuote","singleQuote","startChar","validAttrStrRegxp","attrNames","getPositionFromMatch","attrName","validateAttrName","re2","validateNumberAmpersand","count","message","lineNumber","lines","OptionsBuilder","defaultOptions$1","preserveOrder","attributeNamePrefix","attributesGroupName","textNodeName","ignoreAttributes","removeNSPrefix","parseTagValue","parseAttributeValue","trimValues","cdataPropName","numberParseOptions","leadingZeros","eNotation","tagValueProcessor","val2","attributeValueProcessor","stopNodes","alwaysCreateTextNode","commentPropName","processEntities","htmlEntities","ignoreDeclaration","ignorePiTags","transformTagName","transformAttributeName","jPath","attrs","buildOptions","defaultOptions","util$1","readEntityExp","entityName2","isComment","isEntity","isElement","isAttlist","isNotation","validateEntityName","hexRegex","numRegex","consider","decimalPoint","ignoreAttributes2","pattern","test","util","xmlNode","child","addChild","readDocType","entities","hasBody","comment","exp","entityName","regx","toNumber","trimmedStr","skipLike","sign","numTrimmedByZeros","numStr","getIgnoreAttributesFn$1","addExternalEntities","externalEntities","entKeys","ent","lastEntities","parseTextData","dontTrim","hasAttributes","isLeafNode","escapeEntities","replaceEntitiesValue","newval","parseValue","resolveNameSpace","prefix","charAt","attrsRegx","buildAttributesMap","ignoreAttributesFn","oldVal","aName","newVal","attrCollection","parseXml","xmlObj","textData","closeIndex","findClosingIndex","colonIndex","saveTextToParentTag","lastTagName","propIndex","tagsNodeStack","tagData","readTagExp","childNode","tagExp","attrExpPresent","endIndex","docTypeEntities","rawTagName","lastTag","isItStopNode","tagContent","result2","readStopNodeData","replaceEntitiesValue$1","entity","ampEntity","currentTagName","allNodesExp","stopNodePath","stopNodeExp","errMsg","closingIndex","closingChar","attrBoundary","ch","tagExpWithClosingIndex","separatorIndex","trimStart","openTagCount","shouldParse","node2json","compress","arr","text","compressedObj","tagObj","property","propName$1","newJpath","isLeaf","isLeafTag","assignAttributes","attrMap","jpath","atrrName","propCount","prettify","OrderedObjParser2","fromCharCode","validator$1","arrToStr","indentation","xmlStr","isPreviousElementTag","propName","newJPath","tagText","isStopNode","attStr2","attr_to_str","tempInd","piTextNodeName","newIdentation","indentBy","tagStart","tagValue","suppressUnpairedNode","suppressEmptyNode","endsWith","attr","attrVal","suppressBooleanAttributes","textValue","buildFromOrderedJs","jArray","format","getIgnoreAttributesFn","oneListGroup","Builder","isAttribute","attrPrefixLen","processTextOrObjNode","indentate","tagEndChar","newLine","ajPath","j2x","buildTextValNode","buildObjectNode","repeat","startsWith","jObj","arrayNodeName","buildAttrPairStr","arrLen","listTagVal","listTagAttr","j2","item","Ks","L","closeTag","tagEndExp","piClosingChar","fxp","XMLParser","parse","validationOption","orderedObjParser","orderedResult","addEntity","XMLValidator","XMLBuilder","_view","isValidView","params","columns","emptyView","sticky","expanded","defaultSortKey","loadChildViews","TypeError","jsonObject","parser","isSvg","debug_1","process","env","NODE_DEBUG","console","constants","MAX_LENGTH","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","MAX_LENGTH$1","MAX_SAFE_INTEGER","RELEASE_TYPES","SEMVER_SPEC_VERSION","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","re$1","MAX_SAFE_COMPONENT_LENGTH2","MAX_SAFE_BUILD_LENGTH2","MAX_LENGTH2","debug2","re","safeRe","src","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","isGlobal","safe","makeSafeRegex","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","COERCE","COERCEFULL","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","reExports","loose","compareIdentifiers$1","anum","bnum","identifiers","compareIdentifiers","rcompareIdentifiers","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","O","chunkIds","priority","notFulfilled","fulfilled","j","every","getter","__esModule","d","definition","o","enumerable","e","chunkId","all","reduce","promises","u","globalThis","prop","done","script","needAttach","scripts","getElementsByTagName","charset","timeout","nc","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","setTimeout","bind","head","appendChild","Symbol","toStringTag","nmd","paths","children","scriptUrl","importScripts","location","currentScript","baseURI","href","installedChunks","installedChunkData","promise","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}