"use strict";(self.webpackChunknextcloud_ui_legacy=self.webpackChunknextcloud_ui_legacy||[]).push([[8741],{35693:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(71354),i=n.n(o),r=n(76314),s=n.n(r)()(i());s.push([e.id,"\n.note-to-recipient[data-v-086ca7fc] {\n\tmargin-inline: var(--row-height)\n}\n.note-to-recipient__text[data-v-086ca7fc] {\n\t/* respect new lines */\n\twhite-space: pre-line;\n}\n.note-to-recipient__heading[data-v-086ca7fc] {\n\tfont-weight: bold;\n}\n@media screen and (max-width: 512px) {\n.note-to-recipient[data-v-086ca7fc] {\n\t\tmargin-inline: var(--default-grid-baseline);\n}\n}\n","",{version:3,sources:["webpack://./apps/files_sharing/src/views/FilesHeaderNoteToRecipient.vue"],names:[],mappings:";AAwDA;CACA;AACA;AAEA;CACA,sBAAA;CACA,qBAAA;AACA;AAEA;CACA,iBAAA;AACA;AAEA;AACA;EACA,2CAAA;AACA;AACA",sourcesContent:["\x3c!--\n  - SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n--\x3e\n<template>\n\t<NcNoteCard\n\t\tv-if=\"note.length > 0\"\n\t\tclass=\"note-to-recipient\"\n\t\ttype=\"info\">\n\t\t<p v-if=\"displayName\" class=\"note-to-recipient__heading\">\n\t\t\t{{ t('files_sharing', 'Note from') }}\n\t\t\t<NcUserBubble :user=\"user.id\" :display-name=\"user.displayName\" />\n\t\t</p>\n\t\t<p v-else class=\"note-to-recipient__heading\">\n\t\t\t{{ t('files_sharing', 'Note:') }}\n\t\t</p>\n\t\t<p class=\"note-to-recipient__text\" v-text=\"note\" />\n\t</NcNoteCard>\n</template>\n\n<script setup lang=\"ts\">\nimport type { Folder } from '@nextcloud/files'\n\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { t } from '@nextcloud/l10n'\nimport { computed, ref } from 'vue'\nimport NcNoteCard from '@nextcloud/vue/components/NcNoteCard'\nimport NcUserBubble from '@nextcloud/vue/components/NcUserBubble'\n\nconst folder = ref<Folder>()\nconst note = computed<string>(() => folder.value?.attributes.note ?? '')\nconst displayName = computed<string>(() => folder.value?.attributes['owner-display-name'] ?? '')\nconst user = computed(() => {\n\tconst id = folder.value?.owner\n\tif (id !== getCurrentUser()?.uid) {\n\t\treturn {\n\t\t\tid,\n\t\t\tdisplayName: displayName.value,\n\t\t}\n\t}\n\treturn null\n})\n\n/**\n * Update the current folder\n *\n * @param newFolder the new folder to show note for\n */\nfunction updateFolder(newFolder: Folder) {\n\tfolder.value = newFolder\n}\n\ndefineExpose({ updateFolder })\n<\/script>\n\n<style scoped>\n.note-to-recipient {\n\tmargin-inline: var(--row-height)\n}\n\n.note-to-recipient__text {\n\t/* respect new lines */\n\twhite-space: pre-line;\n}\n\n.note-to-recipient__heading {\n\tfont-weight: bold;\n}\n\n@media screen and (max-width: 512px) {\n\t.note-to-recipient {\n\t\tmargin-inline: var(--default-grid-baseline);\n\t}\n}\n</style>\n"],sourceRoot:""}]);const a=s},38741:(e,t,n)=>{n.d(t,{default:()=>b});var o=n(85471),i=n(21777),r=n(53334),s=n(31133),a=n(77764);const l=(0,o.pM)({__name:"FilesHeaderNoteToRecipient",setup(e,{expose:t}){const n=(0,o.KR)(),l=(0,o.EW)(()=>n.value?.attributes.note??""),c=(0,o.EW)(()=>n.value?.attributes["owner-display-name"]??""),d=(0,o.EW)(()=>{const e=n.value?.owner;return e!==(0,i.HW)()?.uid?{id:e,displayName:c.value}:null});function p(e){n.value=e}return t({updateFolder:p}),{__sfc:!0,folder:n,note:l,displayName:c,user:d,updateFolder:p,t:r.t,NcNoteCard:s.A,NcUserBubble:a.A}}});var c=n(85072),d=n.n(c),p=n(97825),u=n.n(p),A=n(77659),m=n.n(A),f=n(55056),_=n.n(f),v=n(10540),h=n.n(v),N=n(41113),g=n.n(N),C=n(35693),x={};x.styleTagTransform=g(),x.setAttributes=_(),x.insert=m().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=h(),d()(C.A,x),C.A&&C.A.locals&&C.A.locals;const b=(0,n(14486).A)(l,function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.note.length>0?t(n.NcNoteCard,{staticClass:"note-to-recipient",attrs:{type:"info"}},[n.displayName?t("p",{staticClass:"note-to-recipient__heading"},[e._v("\n\t\t"+e._s(n.t("files_sharing","Note from"))+"\n\t\t"),t(n.NcUserBubble,{attrs:{user:n.user.id,"display-name":n.user.displayName}})],1):t("p",{staticClass:"note-to-recipient__heading"},[e._v("\n\t\t"+e._s(n.t("files_sharing","Note:"))+"\n\t")]),e._v(" "),t("p",{staticClass:"note-to-recipient__text",domProps:{textContent:e._s(n.note)}})]):e._e()},[],!1,null,"086ca7fc",null).exports}}]);
//# sourceMappingURL=8741-8741.js.map?v=3834272967bbf08c5c34