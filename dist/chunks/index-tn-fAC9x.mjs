/*! third party licenses: dist/vendor.LICENSE.txt */
import{bU as Ut,bX as Ft}from"../core-common.mjs";var ne={},Ln={2:z=>{function R(x,j,E){x instanceof RegExp&&(x=k(x,E)),j instanceof RegExp&&(j=k(j,E));var v=C(x,j,E);return v&&{start:v[0],end:v[1],pre:E.slice(0,v[0]),body:E.slice(v[0]+x.length,v[1]),post:E.slice(v[1]+j.length)}}function k(x,j){var E=j.match(x);return E?E[0]:null}function C(x,j,E){var v,N,a,s,l,o=E.indexOf(x),c=E.indexOf(j,o+1),p=o;if(o>=0&&c>0){for(v=[],a=E.length;p>=0&&!l;)p==o?(v.push(p),o=E.indexOf(x,p+1)):v.length==1?l=[v.pop(),c]:((N=v.pop())<a&&(a=N,s=c),c=E.indexOf(j,p+1)),p=o<c&&o>=0?o:c;v.length&&(l=[a,s])}return l}z.exports=R,R.range=C},101:function(z,R,k){var C;z=k.nmd(z),function(x){var j=(z&&z.exports,typeof Ft=="object"&&Ft);j.global!==j&&j.window;var E=function(l){this.message=l};(E.prototype=new Error).name="InvalidCharacterError";var v=function(l){throw new E(l)},N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=/[\t\n\f\r ]/g,s={encode:function(l){l=String(l),/[^\0-\xFF]/.test(l)&&v("The string to be encoded contains characters outside of the Latin1 range.");for(var o,c,p,g,b=l.length%3,L="",h=-1,d=l.length-b;++h<d;)o=l.charCodeAt(h)<<16,c=l.charCodeAt(++h)<<8,p=l.charCodeAt(++h),L+=N.charAt((g=o+c+p)>>18&63)+N.charAt(g>>12&63)+N.charAt(g>>6&63)+N.charAt(63&g);return b==2?(o=l.charCodeAt(h)<<8,c=l.charCodeAt(++h),L+=N.charAt((g=o+c)>>10)+N.charAt(g>>4&63)+N.charAt(g<<2&63)+"="):b==1&&(g=l.charCodeAt(h),L+=N.charAt(g>>2)+N.charAt(g<<4&63)+"=="),L},decode:function(l){var o=(l=String(l).replace(a,"")).length;o%4==0&&(o=(l=l.replace(/==?$/,"")).length),(o%4==1||/[^+a-zA-Z0-9/]/.test(l))&&v("Invalid character: the string to be decoded is not correctly encoded.");for(var c,p,g=0,b="",L=-1;++L<o;)p=N.indexOf(l.charAt(L)),c=g%4?64*c+p:p,g++%4&&(b+=String.fromCharCode(255&c>>(-2*g&6)));return b},version:"1.0.0"};(C=(function(){return s}).call(R,k,R,z))===void 0||(z.exports=C)}()},172:(z,R)=>{R.d=function(k){if(!k)return 0;for(var C=(k=k.toString()).length,x=k.length;x--;){var j=k.charCodeAt(x);56320<=j&&j<=57343&&x--,127<j&&j<=2047?C++:2047<j&&j<=65535&&(C+=2)}return C}},526:z=>{var R={utf8:{stringToBytes:function(k){return R.bin.stringToBytes(unescape(encodeURIComponent(k)))},bytesToString:function(k){return decodeURIComponent(escape(R.bin.bytesToString(k)))}},bin:{stringToBytes:function(k){for(var C=[],x=0;x<k.length;x++)C.push(255&k.charCodeAt(x));return C},bytesToString:function(k){for(var C=[],x=0;x<k.length;x++)C.push(String.fromCharCode(k[x]));return C.join("")}}};z.exports=R},298:z=>{var R,k;R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k={rotl:function(C,x){return C<<x|C>>>32-x},rotr:function(C,x){return C<<32-x|C>>>x},endian:function(C){if(C.constructor==Number)return 16711935&k.rotl(C,8)|4278255360&k.rotl(C,24);for(var x=0;x<C.length;x++)C[x]=k.endian(C[x]);return C},randomBytes:function(C){for(var x=[];C>0;C--)x.push(Math.floor(256*Math.random()));return x},bytesToWords:function(C){for(var x=[],j=0,E=0;j<C.length;j++,E+=8)x[E>>>5]|=C[j]<<24-E%32;return x},wordsToBytes:function(C){for(var x=[],j=0;j<32*C.length;j+=8)x.push(C[j>>>5]>>>24-j%32&255);return x},bytesToHex:function(C){for(var x=[],j=0;j<C.length;j++)x.push((C[j]>>>4).toString(16)),x.push((15&C[j]).toString(16));return x.join("")},hexToBytes:function(C){for(var x=[],j=0;j<C.length;j+=2)x.push(parseInt(C.substr(j,2),16));return x},bytesToBase64:function(C){for(var x=[],j=0;j<C.length;j+=3)for(var E=C[j]<<16|C[j+1]<<8|C[j+2],v=0;v<4;v++)8*j+6*v<=8*C.length?x.push(R.charAt(E>>>6*(3-v)&63)):x.push("=");return x.join("")},base64ToBytes:function(C){C=C.replace(/[^A-Z0-9+\/]/gi,"");for(var x=[],j=0,E=0;j<C.length;E=++j%4)E!=0&&x.push((R.indexOf(C.charAt(j-1))&Math.pow(2,-2*E+8)-1)<<2*E|R.indexOf(C.charAt(j))>>>6-2*E);return x}},z.exports=k},635:(z,R,k)=>{const C=k(31),x=k(338),j=k(221);z.exports={XMLParser:x,XMLValidator:C,XMLBuilder:j}},705:(z,R)=>{const k=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",C="["+k+"]["+k+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",x=new RegExp("^"+C+"$");R.isExist=function(j){return j!==void 0},R.isEmptyObject=function(j){return Object.keys(j).length===0},R.merge=function(j,E,v){if(E){const N=Object.keys(E),a=N.length;for(let s=0;s<a;s++)j[N[s]]=v==="strict"?[E[N[s]]]:E[N[s]]}},R.getValue=function(j){return R.isExist(j)?j:""},R.isName=function(j){return x.exec(j)!=null},R.getAllMatches=function(j,E){const v=[];let N=E.exec(j);for(;N;){const a=[];a.startIndex=E.lastIndex-N[0].length;const s=N.length;for(let l=0;l<s;l++)a.push(N[l]);v.push(a),N=E.exec(j)}return v},R.nameRegexp=C},31:(z,R,k)=>{const C=k(705),x={allowBooleanAttributes:!1,unpairedTags:[]};function j(h){return h===" "||h==="	"||h==="\n"||h==="\r"}function E(h,d){const w=d;for(;d<h.length;d++)if(!(h[d]!="?"&&h[d]!=" ")){const f=h.substr(w,d-w);if(d>5&&f==="xml")return p("InvalidXml","XML declaration allowed only at the start of the document.",b(h,d));if(h[d]=="?"&&h[d+1]==">"){d++;break}}return d}function v(h,d){if(h.length>d+5&&h[d+1]==="-"&&h[d+2]==="-"){for(d+=3;d<h.length;d++)if(h[d]==="-"&&h[d+1]==="-"&&h[d+2]===">"){d+=2;break}}else if(h.length>d+8&&h[d+1]==="D"&&h[d+2]==="O"&&h[d+3]==="C"&&h[d+4]==="T"&&h[d+5]==="Y"&&h[d+6]==="P"&&h[d+7]==="E"){let w=1;for(d+=8;d<h.length;d++)if(h[d]==="<")w++;else if(h[d]===">"&&(w--,w===0))break}else if(h.length>d+9&&h[d+1]==="["&&h[d+2]==="C"&&h[d+3]==="D"&&h[d+4]==="A"&&h[d+5]==="T"&&h[d+6]==="A"&&h[d+7]==="["){for(d+=8;d<h.length;d++)if(h[d]==="]"&&h[d+1]==="]"&&h[d+2]===">"){d+=2;break}}return d}R.validate=function(h,d){d=Object.assign({},x,d);const w=[];let f=!1,T=!1;h[0]==="\uFEFF"&&(h=h.substr(1));for(let P=0;P<h.length;P++)if(h[P]==="<"&&h[P+1]==="?"){if(P+=2,P=E(h,P),P.err)return P}else{if(h[P]!=="<"){if(j(h[P]))continue;return p("InvalidChar","char '"+h[P]+"' is not expected.",b(h,P))}{let _=P;if(P++,h[P]==="!"){P=v(h,P);continue}{let $=!1;h[P]==="/"&&($=!0,P++);let F="";for(;P<h.length&&h[P]!==">"&&h[P]!==" "&&h[P]!=="	"&&h[P]!=="\n"&&h[P]!=="\r";P++)F+=h[P];if(F=F.trim(),F[F.length-1]==="/"&&(F=F.substring(0,F.length-1),P--),O=F,!C.isName(O)){let G;return G=F.trim().length===0?"Invalid space after '<'.":"Tag '"+F+"' is an invalid name.",p("InvalidTag",G,b(h,P))}const U=s(h,P);if(U===!1)return p("InvalidAttr","Attributes for '"+F+"' have open quote.",b(h,P));let S=U.value;if(P=U.index,S[S.length-1]==="/"){const G=P-S.length;S=S.substring(0,S.length-1);const J=o(S,d);if(J!==!0)return p(J.err.code,J.err.msg,b(h,G+J.err.line));f=!0}else if($){if(!U.tagClosed)return p("InvalidTag","Closing tag '"+F+"' doesn't have proper closing.",b(h,P));if(S.trim().length>0)return p("InvalidTag","Closing tag '"+F+"' can't have attributes or invalid starting.",b(h,_));{const G=w.pop();if(F!==G.tagName){let J=b(h,G.tagStartPos);return p("InvalidTag","Expected closing tag '"+G.tagName+"' (opened in line "+J.line+", col "+J.col+") instead of closing tag '"+F+"'.",b(h,_))}w.length==0&&(T=!0)}}else{const G=o(S,d);if(G!==!0)return p(G.err.code,G.err.msg,b(h,P-S.length+G.err.line));if(T===!0)return p("InvalidXml","Multiple possible root nodes found.",b(h,P));d.unpairedTags.indexOf(F)!==-1||w.push({tagName:F,tagStartPos:_}),f=!0}for(P++;P<h.length;P++)if(h[P]==="<"){if(h[P+1]==="!"){P++,P=v(h,P);continue}if(h[P+1]!=="?")break;if(P=E(h,++P),P.err)return P}else if(h[P]==="&"){const G=c(h,P);if(G==-1)return p("InvalidChar","char '&' is not expected.",b(h,P));P=G}else if(T===!0&&!j(h[P]))return p("InvalidXml","Extra text at the end",b(h,P));h[P]==="<"&&P--}}}var O;return f?w.length==1?p("InvalidTag","Unclosed tag '"+w[0].tagName+"'.",b(h,w[0].tagStartPos)):!(w.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(w.map(P=>P.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)};const N='"',a="'";function s(h,d){let w="",f="",T=!1;for(;d<h.length;d++){if(h[d]===N||h[d]===a)f===""?f=h[d]:f!==h[d]||(f="");else if(h[d]===">"&&f===""){T=!0;break}w+=h[d]}return f===""&&{value:w,index:d,tagClosed:T}}const l=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function o(h,d){const w=C.getAllMatches(h,l),f={};for(let T=0;T<w.length;T++){if(w[T][1].length===0)return p("InvalidAttr","Attribute '"+w[T][2]+"' has no space in starting.",L(w[T]));if(w[T][3]!==void 0&&w[T][4]===void 0)return p("InvalidAttr","Attribute '"+w[T][2]+"' is without value.",L(w[T]));if(w[T][3]===void 0&&!d.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+w[T][2]+"' is not allowed.",L(w[T]));const O=w[T][2];if(!g(O))return p("InvalidAttr","Attribute '"+O+"' is an invalid name.",L(w[T]));if(f.hasOwnProperty(O))return p("InvalidAttr","Attribute '"+O+"' is repeated.",L(w[T]));f[O]=1}return!0}function c(h,d){if(h[++d]===";")return-1;if(h[d]==="#")return function(f,T){let O=/\d/;for(f[T]==="x"&&(T++,O=/[\da-fA-F]/);T<f.length;T++){if(f[T]===";")return T;if(!f[T].match(O))break}return-1}(h,++d);let w=0;for(;d<h.length;d++,w++)if(!(h[d].match(/\w/)&&w<20)){if(h[d]===";")break;return-1}return d}function p(h,d,w){return{err:{code:h,msg:d,line:w.line||w,col:w.col}}}function g(h){return C.isName(h)}function b(h,d){const w=h.substring(0,d).split(/\r?\n/);return{line:w.length,col:w[w.length-1].length+1}}function L(h){return h.startIndex+h[1].length}},221:(z,R,k)=>{const C=k(87),x={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(a,s){return s},attributeValueProcessor:function(a,s){return s},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function j(a){this.options=Object.assign({},x,a),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=N),this.processTextOrObjNode=E,this.options.format?(this.indentate=v,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function E(a,s,l){const o=this.j2x(a,l+1);return a[this.options.textNodeName]!==void 0&&Object.keys(a).length===1?this.buildTextValNode(a[this.options.textNodeName],s,o.attrStr,l):this.buildObjectNode(o.val,s,o.attrStr,l)}function v(a){return this.options.indentBy.repeat(a)}function N(a){return!(!a.startsWith(this.options.attributeNamePrefix)||a===this.options.textNodeName)&&a.substr(this.attrPrefixLen)}j.prototype.build=function(a){return this.options.preserveOrder?C(a,this.options):(Array.isArray(a)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(a={[this.options.arrayNodeName]:a}),this.j2x(a,0).val)},j.prototype.j2x=function(a,s){let l="",o="";for(let c in a)if(a[c]===void 0)this.isAttribute(c)&&(o+="");else if(a[c]===null)this.isAttribute(c)?o+="":c[0]==="?"?o+=this.indentate(s)+"<"+c+"?"+this.tagEndChar:o+=this.indentate(s)+"<"+c+"/"+this.tagEndChar;else if(a[c]instanceof Date)o+=this.buildTextValNode(a[c],c,"",s);else if(typeof a[c]!="object"){const p=this.isAttribute(c);if(p)l+=this.buildAttrPairStr(p,""+a[c]);else if(c===this.options.textNodeName){let g=this.options.tagValueProcessor(c,""+a[c]);o+=this.replaceEntitiesValue(g)}else o+=this.buildTextValNode(a[c],c,"",s)}else if(Array.isArray(a[c])){const p=a[c].length;let g="";for(let b=0;b<p;b++){const L=a[c][b];L===void 0||(L===null?c[0]==="?"?o+=this.indentate(s)+"<"+c+"?"+this.tagEndChar:o+=this.indentate(s)+"<"+c+"/"+this.tagEndChar:typeof L=="object"?this.options.oneListGroup?g+=this.j2x(L,s+1).val:g+=this.processTextOrObjNode(L,c,s):g+=this.buildTextValNode(L,c,"",s))}this.options.oneListGroup&&(g=this.buildObjectNode(g,c,"",s)),o+=g}else if(this.options.attributesGroupName&&c===this.options.attributesGroupName){const p=Object.keys(a[c]),g=p.length;for(let b=0;b<g;b++)l+=this.buildAttrPairStr(p[b],""+a[c][p[b]])}else o+=this.processTextOrObjNode(a[c],c,s);return{attrStr:l,val:o}},j.prototype.buildAttrPairStr=function(a,s){return s=this.options.attributeValueProcessor(a,""+s),s=this.replaceEntitiesValue(s),this.options.suppressBooleanAttributes&&s==="true"?" "+a:" "+a+'="'+s+'"'},j.prototype.buildObjectNode=function(a,s,l,o){if(a==="")return s[0]==="?"?this.indentate(o)+"<"+s+l+"?"+this.tagEndChar:this.indentate(o)+"<"+s+l+this.closeTag(s)+this.tagEndChar;{let c="</"+s+this.tagEndChar,p="";return s[0]==="?"&&(p="?",c=""),!l&&l!==""||a.indexOf("<")!==-1?this.options.commentPropName!==!1&&s===this.options.commentPropName&&p.length===0?this.indentate(o)+"<!--".concat(a,"-->")+this.newLine:this.indentate(o)+"<"+s+l+p+this.tagEndChar+a+this.indentate(o)+c:this.indentate(o)+"<"+s+l+p+">"+a+c}},j.prototype.closeTag=function(a){let s="";return this.options.unpairedTags.indexOf(a)!==-1?this.options.suppressUnpairedNode||(s="/"):s=this.options.suppressEmptyNode?"/":"></".concat(a),s},j.prototype.buildTextValNode=function(a,s,l,o){if(this.options.cdataPropName!==!1&&s===this.options.cdataPropName)return this.indentate(o)+"<![CDATA[".concat(a,"]]>")+this.newLine;if(this.options.commentPropName!==!1&&s===this.options.commentPropName)return this.indentate(o)+"<!--".concat(a,"-->")+this.newLine;if(s[0]==="?")return this.indentate(o)+"<"+s+l+"?"+this.tagEndChar;{let c=this.options.tagValueProcessor(s,a);return c=this.replaceEntitiesValue(c),c===""?this.indentate(o)+"<"+s+l+this.closeTag(s)+this.tagEndChar:this.indentate(o)+"<"+s+l+">"+c+"</"+s+this.tagEndChar}},j.prototype.replaceEntitiesValue=function(a){if(a&&a.length>0&&this.options.processEntities)for(let s=0;s<this.options.entities.length;s++){const l=this.options.entities[s];a=a.replace(l.regex,l.val)}return a},z.exports=j},87:z=>{function R(E,v,N,a){let s="",l=!1;for(let o=0;o<E.length;o++){const c=E[o],p=k(c);let g="";if(g=N.length===0?p:"".concat(N,".").concat(p),p===v.textNodeName){let w=c[p];x(g,v)||(w=v.tagValueProcessor(p,w),w=j(w,v)),l&&(s+=a),s+=w,l=!1;continue}if(p===v.cdataPropName){l&&(s+=a),s+="<![CDATA[".concat(c[p][0][v.textNodeName],"]]>"),l=!1;continue}if(p===v.commentPropName){s+=a+"<!--".concat(c[p][0][v.textNodeName],"-->"),l=!0;continue}if(p[0]==="?"){const w=C(c[":@"],v),f=p==="?xml"?"":a;let T=c[p][0][v.textNodeName];T=T.length!==0?" "+T:"",s+=f+"<".concat(p).concat(T).concat(w,"?>"),l=!0;continue}let b=a;b!==""&&(b+=v.indentBy);const L=C(c[":@"],v),h=a+"<".concat(p).concat(L),d=R(c[p],v,g,b);v.unpairedTags.indexOf(p)!==-1?v.suppressUnpairedNode?s+=h+">":s+=h+"/>":d&&d.length!==0||!v.suppressEmptyNode?d&&d.endsWith(">")?s+=h+">".concat(d).concat(a,"</").concat(p,">"):(s+=h+">",d&&a!==""&&(d.includes("/>")||d.includes("</"))?s+=a+v.indentBy+d+a:s+=d,s+="</".concat(p,">")):s+=h+"/>",l=!0}return s}function k(E){const v=Object.keys(E);for(let N=0;N<v.length;N++){const a=v[N];if(a!==":@")return a}}function C(E,v){let N="";if(E&&!v.ignoreAttributes)for(let a in E){let s=v.attributeValueProcessor(a,E[a]);s=j(s,v),s===!0&&v.suppressBooleanAttributes?N+=" ".concat(a.substr(v.attributeNamePrefix.length)):N+=" ".concat(a.substr(v.attributeNamePrefix.length),'="').concat(s,'"')}return N}function x(E,v){let N=(E=E.substr(0,E.length-v.textNodeName.length-1)).substr(E.lastIndexOf(".")+1);for(let a in v.stopNodes)if(v.stopNodes[a]===E||v.stopNodes[a]==="*."+N)return!0;return!1}function j(E,v){if(E&&E.length>0&&v.processEntities)for(let N=0;N<v.entities.length;N++){const a=v.entities[N];E=E.replace(a.regex,a.val)}return E}z.exports=function(E,v){let N="";return v.format&&v.indentBy.length>0&&(N="\n"),R(E,v,"",N)}},193:(z,R,k)=>{const C=k(705);function x(l,o){let c="";for(;o<l.length&&l[o]!=="'"&&l[o]!=='"';o++)c+=l[o];if(c=c.trim(),c.indexOf(" ")!==-1)throw new Error("External entites are not supported");const p=l[o++];let g="";for(;o<l.length&&l[o]!==p;o++)g+=l[o];return[c,g,o]}function j(l,o){return l[o+1]==="!"&&l[o+2]==="-"&&l[o+3]==="-"}function E(l,o){return l[o+1]==="!"&&l[o+2]==="E"&&l[o+3]==="N"&&l[o+4]==="T"&&l[o+5]==="I"&&l[o+6]==="T"&&l[o+7]==="Y"}function v(l,o){return l[o+1]==="!"&&l[o+2]==="E"&&l[o+3]==="L"&&l[o+4]==="E"&&l[o+5]==="M"&&l[o+6]==="E"&&l[o+7]==="N"&&l[o+8]==="T"}function N(l,o){return l[o+1]==="!"&&l[o+2]==="A"&&l[o+3]==="T"&&l[o+4]==="T"&&l[o+5]==="L"&&l[o+6]==="I"&&l[o+7]==="S"&&l[o+8]==="T"}function a(l,o){return l[o+1]==="!"&&l[o+2]==="N"&&l[o+3]==="O"&&l[o+4]==="T"&&l[o+5]==="A"&&l[o+6]==="T"&&l[o+7]==="I"&&l[o+8]==="O"&&l[o+9]==="N"}function s(l){if(C.isName(l))return l;throw new Error("Invalid entity name ".concat(l))}z.exports=function(l,o){const c={};if(l[o+3]!=="O"||l[o+4]!=="C"||l[o+5]!=="T"||l[o+6]!=="Y"||l[o+7]!=="P"||l[o+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{o+=9;let p=1,g=!1,b=!1,L="";for(;o<l.length;o++)if(l[o]!=="<"||b)if(l[o]===">"){if(b?l[o-1]==="-"&&l[o-2]==="-"&&(b=!1,p--):p--,p===0)break}else l[o]==="["?g=!0:L+=l[o];else{if(g&&E(l,o))o+=7,[entityName,val,o]=x(l,o+1),val.indexOf("&")===-1&&(c[s(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val});else if(g&&v(l,o))o+=8;else if(g&&N(l,o))o+=8;else if(g&&a(l,o))o+=9;else{if(!j)throw new Error("Invalid DOCTYPE");b=!0}p++,L=""}if(p!==0)throw new Error("Unclosed DOCTYPE")}return{entities:c,i:o}}},63:(z,R)=>{const k={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(C,x){return x},attributeValueProcessor:function(C,x){return x},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(C,x,j){return C}};R.buildOptions=function(C){return Object.assign({},k,C)},R.defaultOptions=k},299:(z,R,k)=>{const C=k(705),x=k(365),j=k(193),E=k(494);function v(f){const T=Object.keys(f);for(let O=0;O<T.length;O++){const P=T[O];this.lastEntities[P]={regex:new RegExp("&"+P+";","g"),val:f[P]}}}function N(f,T,O,P,_,$,F){if(f!==void 0&&(this.options.trimValues&&!P&&(f=f.trim()),f.length>0)){F||(f=this.replaceEntitiesValue(f));const U=this.options.tagValueProcessor(T,f,O,_,$);return U==null?f:typeof U!=typeof f||U!==f?U:this.options.trimValues||f.trim()===f?w(f,this.options.parseTagValue,this.options.numberParseOptions):f}}function a(f){if(this.options.removeNSPrefix){const T=f.split(":"),O=f.charAt(0)==="/"?"/":"";if(T[0]==="xmlns")return"";T.length===2&&(f=O+T[1])}return f}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,C.nameRegexp);const s=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function l(f,T,O){if(!this.options.ignoreAttributes&&typeof f=="string"){const P=C.getAllMatches(f,s),_=P.length,$={};for(let F=0;F<_;F++){const U=this.resolveNameSpace(P[F][1]);let S=P[F][4],G=this.options.attributeNamePrefix+U;if(U.length)if(this.options.transformAttributeName&&(G=this.options.transformAttributeName(G)),G==="__proto__"&&(G="#__proto__"),S!==void 0){this.options.trimValues&&(S=S.trim()),S=this.replaceEntitiesValue(S);const J=this.options.attributeValueProcessor(U,S,T);$[G]=J==null?S:typeof J!=typeof S||J!==S?J:w(S,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&($[G]=!0)}if(!Object.keys($).length)return;if(this.options.attributesGroupName){const F={};return F[this.options.attributesGroupName]=$,F}return $}}const o=function(f){f=f.replace(/\r\n?/g,"\n");const T=new x("!xml");let O=T,P="",_="";for(let $=0;$<f.length;$++)if(f[$]==="<")if(f[$+1]==="/"){const F=L(f,">",$,"Closing Tag is not closed.");let U=f.substring($+2,F).trim();if(this.options.removeNSPrefix){const J=U.indexOf(":");J!==-1&&(U=U.substr(J+1))}this.options.transformTagName&&(U=this.options.transformTagName(U)),O&&(P=this.saveTextToParentTag(P,O,_));const S=_.substring(_.lastIndexOf(".")+1);if(U&&this.options.unpairedTags.indexOf(U)!==-1)throw new Error("Unpaired tag can not be used as closing tag: </".concat(U,">"));let G=0;S&&this.options.unpairedTags.indexOf(S)!==-1?(G=_.lastIndexOf(".",_.lastIndexOf(".")-1),this.tagsNodeStack.pop()):G=_.lastIndexOf("."),_=_.substring(0,G),O=this.tagsNodeStack.pop(),P="",$=F}else if(f[$+1]==="?"){let F=h(f,$,!1,"?>");if(!F)throw new Error("Pi Tag is not closed.");if(P=this.saveTextToParentTag(P,O,_),!(this.options.ignoreDeclaration&&F.tagName==="?xml"||this.options.ignorePiTags)){const U=new x(F.tagName);U.add(this.options.textNodeName,""),F.tagName!==F.tagExp&&F.attrExpPresent&&(U[":@"]=this.buildAttributesMap(F.tagExp,_,F.tagName)),this.addChild(O,U,_)}$=F.closeIndex+1}else if(f.substr($+1,3)==="!--"){const F=L(f,"-->",$+4,"Comment is not closed.");if(this.options.commentPropName){const U=f.substring($+4,F-2);P=this.saveTextToParentTag(P,O,_),O.add(this.options.commentPropName,[{[this.options.textNodeName]:U}])}$=F}else if(f.substr($+1,2)==="!D"){const F=j(f,$);this.docTypeEntities=F.entities,$=F.i}else if(f.substr($+1,2)==="!["){const F=L(f,"]]>",$,"CDATA is not closed.")-2,U=f.substring($+9,F);if(P=this.saveTextToParentTag(P,O,_),this.options.cdataPropName)O.add(this.options.cdataPropName,[{[this.options.textNodeName]:U}]);else{let S=this.parseTextData(U,O.tagname,_,!0,!1,!0);S==null&&(S=""),O.add(this.options.textNodeName,S)}$=F+2}else{let F=h(f,$,this.options.removeNSPrefix),U=F.tagName,S=F.tagExp,G=F.attrExpPresent,J=F.closeIndex;this.options.transformTagName&&(U=this.options.transformTagName(U)),O&&P&&O.tagname!=="!xml"&&(P=this.saveTextToParentTag(P,O,_,!1));const ut=O;if(ut&&this.options.unpairedTags.indexOf(ut.tagname)!==-1&&(O=this.tagsNodeStack.pop(),_=_.substring(0,_.lastIndexOf("."))),U!==T.tagname&&(_+=_?"."+U:U),this.isItStopNode(this.options.stopNodes,_,U)){let K="";if(S.length>0&&S.lastIndexOf("/")===S.length-1)$=F.closeIndex;else if(this.options.unpairedTags.indexOf(U)!==-1)$=F.closeIndex;else{const rt=this.readStopNodeData(f,U,J+1);if(!rt)throw new Error("Unexpected end of ".concat(U));$=rt.i,K=rt.tagContent}const et=new x(U);U!==S&&G&&(et[":@"]=this.buildAttributesMap(S,_,U)),K&&(K=this.parseTextData(K,U,_,!0,G,!0,!0)),_=_.substr(0,_.lastIndexOf(".")),et.add(this.options.textNodeName,K),this.addChild(O,et,_)}else{if(S.length>0&&S.lastIndexOf("/")===S.length-1){U[U.length-1]==="/"?(U=U.substr(0,U.length-1),_=_.substr(0,_.length-1),S=U):S=S.substr(0,S.length-1),this.options.transformTagName&&(U=this.options.transformTagName(U));const K=new x(U);U!==S&&G&&(K[":@"]=this.buildAttributesMap(S,_,U)),this.addChild(O,K,_),_=_.substr(0,_.lastIndexOf("."))}else{const K=new x(U);this.tagsNodeStack.push(O),U!==S&&G&&(K[":@"]=this.buildAttributesMap(S,_,U)),this.addChild(O,K,_),O=K}P="",$=J}}else P+=f[$];return T.child};function c(f,T,O){const P=this.options.updateTag(T.tagname,O,T[":@"]);P===!1||(typeof P=="string"&&(T.tagname=P),f.addChild(T))}const p=function(f){if(this.options.processEntities){for(let T in this.docTypeEntities){const O=this.docTypeEntities[T];f=f.replace(O.regx,O.val)}for(let T in this.lastEntities){const O=this.lastEntities[T];f=f.replace(O.regex,O.val)}if(this.options.htmlEntities)for(let T in this.htmlEntities){const O=this.htmlEntities[T];f=f.replace(O.regex,O.val)}f=f.replace(this.ampEntity.regex,this.ampEntity.val)}return f};function g(f,T,O,P){return f&&(P===void 0&&(P=Object.keys(T.child).length===0),(f=this.parseTextData(f,T.tagname,O,!1,!!T[":@"]&&Object.keys(T[":@"]).length!==0,P))!==void 0&&f!==""&&T.add(this.options.textNodeName,f),f=""),f}function b(f,T,O){const P="*."+O;for(const _ in f){const $=f[_];if(P===$||T===$)return!0}return!1}function L(f,T,O,P){const _=f.indexOf(T,O);if(_===-1)throw new Error(P);return _+T.length-1}function h(f,T,O){const P=function(G,J){let ut,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",et="";for(let rt=J;rt<G.length;rt++){let ct=G[rt];if(ut)ct===ut&&(ut="");else if(ct==='"'||ct==="'")ut=ct;else if(ct===K[0]){if(!K[1])return{data:et,index:rt};if(G[rt+1]===K[1])return{data:et,index:rt}}else ct==="	"&&(ct=" ");et+=ct}}(f,T+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!P)return;let _=P.data;const $=P.index,F=_.search(/\s/);let U=_,S=!0;if(F!==-1&&(U=_.substr(0,F).replace(/\s\s*$/,""),_=_.substr(F+1)),O){const G=U.indexOf(":");G!==-1&&(U=U.substr(G+1),S=U!==P.data.substr(G+1))}return{tagName:U,tagExp:_,closeIndex:$,attrExpPresent:S}}function d(f,T,O){const P=O;let _=1;for(;O<f.length;O++)if(f[O]==="<")if(f[O+1]==="/"){const $=L(f,">",O,"".concat(T," is not closed"));if(f.substring(O+2,$).trim()===T&&(_--,_===0))return{tagContent:f.substring(P,O),i:$};O=$}else if(f[O+1]==="?")O=L(f,"?>",O+1,"StopNode is not closed.");else if(f.substr(O+1,3)==="!--")O=L(f,"-->",O+3,"StopNode is not closed.");else if(f.substr(O+1,2)==="![")O=L(f,"]]>",O,"StopNode is not closed.")-2;else{const $=h(f,O,">");$&&(($&&$.tagName)===T&&$.tagExp[$.tagExp.length-1]!=="/"&&_++,O=$.closeIndex)}}function w(f,T,O){if(T&&typeof f=="string"){const P=f.trim();return P==="true"||P!=="false"&&E(f,O)}return C.isExist(f)?f:""}z.exports=class{constructor(f){this.options=f,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=v,this.parseXml=o,this.parseTextData=N,this.resolveNameSpace=a,this.buildAttributesMap=l,this.isItStopNode=b,this.replaceEntitiesValue=p,this.readStopNodeData=d,this.saveTextToParentTag=g,this.addChild=c}}},338:(z,R,k)=>{const{buildOptions:C}=k(63),x=k(299),{prettify:j}=k(728),E=k(31);z.exports=class{constructor(v){this.externalEntities={},this.options=C(v)}parse(v,N){if(typeof v!="string"){if(!v.toString)throw new Error("XML data is accepted in String or Bytes[] form.");v=v.toString()}if(N){N===!0&&(N={});const l=E.validate(v,N);if(l!==!0)throw Error("".concat(l.err.msg,":").concat(l.err.line,":").concat(l.err.col))}const a=new x(this.options);a.addExternalEntities(this.externalEntities);const s=a.parseXml(v);return this.options.preserveOrder||s===void 0?s:j(s,this.options)}addEntity(v,N){if(N.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(v.indexOf("&")!==-1||v.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(N==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[v]=N}}},728:(z,R)=>{function k(E,v,N){let a;const s={};for(let l=0;l<E.length;l++){const o=E[l],c=C(o);let p="";if(p=N===void 0?c:N+"."+c,c===v.textNodeName)a===void 0?a=o[c]:a+=""+o[c];else{if(c===void 0)continue;if(o[c]){let g=k(o[c],v,p);const b=j(g,v);o[":@"]?x(g,o[":@"],p,v):Object.keys(g).length!==1||g[v.textNodeName]===void 0||v.alwaysCreateTextNode?Object.keys(g).length===0&&(v.alwaysCreateTextNode?g[v.textNodeName]="":g=""):g=g[v.textNodeName],s[c]!==void 0&&s.hasOwnProperty(c)?(Array.isArray(s[c])||(s[c]=[s[c]]),s[c].push(g)):v.isArray(c,p,b)?s[c]=[g]:s[c]=g}}}return typeof a=="string"?a.length>0&&(s[v.textNodeName]=a):a!==void 0&&(s[v.textNodeName]=a),s}function C(E){const v=Object.keys(E);for(let N=0;N<v.length;N++){const a=v[N];if(a!==":@")return a}}function x(E,v,N,a){if(v){const s=Object.keys(v),l=s.length;for(let o=0;o<l;o++){const c=s[o];a.isArray(c,N+"."+c,!0,!0)?E[c]=[v[c]]:E[c]=v[c]}}}function j(E,v){const{textNodeName:N}=v,a=Object.keys(E).length;return a===0||!(a!==1||!E[N]&&typeof E[N]!="boolean"&&E[N]!==0)}R.prettify=function(E,v){return k(E,v)}},365:z=>{z.exports=class{constructor(R){this.tagname=R,this.child=[],this[":@"]={}}add(R,k){R==="__proto__"&&(R="#__proto__"),this.child.push({[R]:k})}addChild(R){R.tagname==="__proto__"&&(R.tagname="#__proto__"),R[":@"]&&Object.keys(R[":@"]).length>0?this.child.push({[R.tagname]:R.child,":@":R[":@"]}):this.child.push({[R.tagname]:R.child})}}},135:z=>{function R(k){return!!k.constructor&&typeof k.constructor.isBuffer=="function"&&k.constructor.isBuffer(k)}z.exports=function(k){return k!=null&&(R(k)||function(C){return typeof C.readFloatLE=="function"&&typeof C.slice=="function"&&R(C.slice(0,0))}(k)||!!k._isBuffer)}},542:(z,R,k)=>{var C,x,j,E,v;C=k(298),x=k(526).utf8,j=k(135),E=k(526).bin,(v=function(N,a){N.constructor==String?N=a&&a.encoding==="binary"?E.stringToBytes(N):x.stringToBytes(N):j(N)?N=Array.prototype.slice.call(N,0):Array.isArray(N)||N.constructor===Uint8Array||(N=N.toString());for(var s=C.bytesToWords(N),l=8*N.length,o=1732584193,c=-271733879,p=-1732584194,g=271733878,b=0;b<s.length;b++)s[b]=16711935&(s[b]<<8|s[b]>>>24)|4278255360&(s[b]<<24|s[b]>>>8);s[l>>>5]|=128<<l%32,s[14+(l+64>>>9<<4)]=l;var L=v._ff,h=v._gg,d=v._hh,w=v._ii;for(b=0;b<s.length;b+=16){var f=o,T=c,O=p,P=g;o=L(o,c,p,g,s[b+0],7,-680876936),g=L(g,o,c,p,s[b+1],12,-389564586),p=L(p,g,o,c,s[b+2],17,606105819),c=L(c,p,g,o,s[b+3],22,-1044525330),o=L(o,c,p,g,s[b+4],7,-176418897),g=L(g,o,c,p,s[b+5],12,1200080426),p=L(p,g,o,c,s[b+6],17,-1473231341),c=L(c,p,g,o,s[b+7],22,-45705983),o=L(o,c,p,g,s[b+8],7,1770035416),g=L(g,o,c,p,s[b+9],12,-1958414417),p=L(p,g,o,c,s[b+10],17,-42063),c=L(c,p,g,o,s[b+11],22,-1990404162),o=L(o,c,p,g,s[b+12],7,1804603682),g=L(g,o,c,p,s[b+13],12,-40341101),p=L(p,g,o,c,s[b+14],17,-1502002290),o=h(o,c=L(c,p,g,o,s[b+15],22,1236535329),p,g,s[b+1],5,-165796510),g=h(g,o,c,p,s[b+6],9,-1069501632),p=h(p,g,o,c,s[b+11],14,643717713),c=h(c,p,g,o,s[b+0],20,-373897302),o=h(o,c,p,g,s[b+5],5,-701558691),g=h(g,o,c,p,s[b+10],9,38016083),p=h(p,g,o,c,s[b+15],14,-660478335),c=h(c,p,g,o,s[b+4],20,-405537848),o=h(o,c,p,g,s[b+9],5,568446438),g=h(g,o,c,p,s[b+14],9,-1019803690),p=h(p,g,o,c,s[b+3],14,-187363961),c=h(c,p,g,o,s[b+8],20,1163531501),o=h(o,c,p,g,s[b+13],5,-1444681467),g=h(g,o,c,p,s[b+2],9,-51403784),p=h(p,g,o,c,s[b+7],14,1735328473),o=d(o,c=h(c,p,g,o,s[b+12],20,-1926607734),p,g,s[b+5],4,-378558),g=d(g,o,c,p,s[b+8],11,-2022574463),p=d(p,g,o,c,s[b+11],16,1839030562),c=d(c,p,g,o,s[b+14],23,-35309556),o=d(o,c,p,g,s[b+1],4,-1530992060),g=d(g,o,c,p,s[b+4],11,1272893353),p=d(p,g,o,c,s[b+7],16,-155497632),c=d(c,p,g,o,s[b+10],23,-1094730640),o=d(o,c,p,g,s[b+13],4,681279174),g=d(g,o,c,p,s[b+0],11,-358537222),p=d(p,g,o,c,s[b+3],16,-722521979),c=d(c,p,g,o,s[b+6],23,76029189),o=d(o,c,p,g,s[b+9],4,-640364487),g=d(g,o,c,p,s[b+12],11,-421815835),p=d(p,g,o,c,s[b+15],16,530742520),o=w(o,c=d(c,p,g,o,s[b+2],23,-995338651),p,g,s[b+0],6,-198630844),g=w(g,o,c,p,s[b+7],10,1126891415),p=w(p,g,o,c,s[b+14],15,-1416354905),c=w(c,p,g,o,s[b+5],21,-57434055),o=w(o,c,p,g,s[b+12],6,1700485571),g=w(g,o,c,p,s[b+3],10,-1894986606),p=w(p,g,o,c,s[b+10],15,-1051523),c=w(c,p,g,o,s[b+1],21,-2054922799),o=w(o,c,p,g,s[b+8],6,1873313359),g=w(g,o,c,p,s[b+15],10,-30611744),p=w(p,g,o,c,s[b+6],15,-1560198380),c=w(c,p,g,o,s[b+13],21,1309151649),o=w(o,c,p,g,s[b+4],6,-145523070),g=w(g,o,c,p,s[b+11],10,-1120210379),p=w(p,g,o,c,s[b+2],15,718787259),c=w(c,p,g,o,s[b+9],21,-343485551),o=o+f>>>0,c=c+T>>>0,p=p+O>>>0,g=g+P>>>0}return C.endian([o,c,p,g])})._ff=function(N,a,s,l,o,c,p){var g=N+(a&s|~a&l)+(o>>>0)+p;return(g<<c|g>>>32-c)+a},v._gg=function(N,a,s,l,o,c,p){var g=N+(a&l|s&~l)+(o>>>0)+p;return(g<<c|g>>>32-c)+a},v._hh=function(N,a,s,l,o,c,p){var g=N+(a^s^l)+(o>>>0)+p;return(g<<c|g>>>32-c)+a},v._ii=function(N,a,s,l,o,c,p){var g=N+(s^(a|~l))+(o>>>0)+p;return(g<<c|g>>>32-c)+a},v._blocksize=16,v._digestsize=16,z.exports=function(N,a){if(N==null)throw new Error("Illegal argument "+N);var s=C.wordsToBytes(v(N,a));return a&&a.asBytes?s:a&&a.asString?E.bytesToString(s):C.bytesToHex(s)}},285:(z,R,k)=>{var C=k(2);z.exports=function(L){return L?(L.substr(0,2)==="{}"&&(L="\\{\\}"+L.substr(2)),b(function(h){return h.split("\\\\").join(x).split("\\{").join(j).split("\\}").join(E).split("\\,").join(v).split("\\.").join(N)}(L),!0).map(s)):[]};var x="\0SLASH"+Math.random()+"\0",j="\0OPEN"+Math.random()+"\0",E="\0CLOSE"+Math.random()+"\0",v="\0COMMA"+Math.random()+"\0",N="\0PERIOD"+Math.random()+"\0";function a(L){return parseInt(L,10)==L?parseInt(L,10):L.charCodeAt(0)}function s(L){return L.split(x).join("\\").split(j).join("{").split(E).join("}").split(v).join(",").split(N).join(".")}function l(L){if(!L)return[""];var h=[],d=C("{","}",L);if(!d)return L.split(",");var w=d.pre,f=d.body,T=d.post,O=w.split(",");O[O.length-1]+="{"+f+"}";var P=l(T);return T.length&&(O[O.length-1]+=P.shift(),O.push.apply(O,P)),h.push.apply(h,O),h}function o(L){return"{"+L+"}"}function c(L){return/^-?0\d/.test(L)}function p(L,h){return L<=h}function g(L,h){return L>=h}function b(L,h){var d=[],w=C("{","}",L);if(!w)return[L];var f=w.pre,T=w.post.length?b(w.post,!1):[""];if(/\$$/.test(w.pre))for(var O=0;O<T.length;O++){var P=f+"{"+w.body+"}"+T[O];d.push(P)}else{var _,$,F=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(w.body),U=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(w.body),S=F||U,G=w.body.indexOf(",")>=0;if(!S&&!G)return w.post.match(/,.*\}/)?b(L=w.pre+"{"+w.body+E+w.post):[L];if(S)_=w.body.split(/\.\./);else if((_=l(w.body)).length===1&&(_=b(_[0],!1).map(o)).length===1)return T.map(function(Dt){return w.pre+_[0]+Dt});if(S){var J=a(_[0]),ut=a(_[1]),K=Math.max(_[0].length,_[1].length),et=_.length==3?Math.abs(a(_[2])):1,rt=p;ut<J&&(et*=-1,rt=g);var ct=_.some(c);$=[];for(var dt=J;rt(dt,ut);dt+=et){var yt;if(U)(yt=String.fromCharCode(dt))==="\\"&&(yt="");else if(yt=String(dt),ct){var St=K-yt.length;if(St>0){var Ot=new Array(St+1).join("0");yt=dt<0?"-"+Ot+yt.slice(1):Ot+yt}}$.push(yt)}}else{$=[];for(var wt=0;wt<_.length;wt++)$.push.apply($,b(_[wt],!1))}for(wt=0;wt<$.length;wt++)for(O=0;O<T.length;O++)P=f+$[wt]+T[O],(!h||S||P)&&d.push(P)}return d}},829:z=>{function R(a){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},R(a)}function k(a){var s=typeof Map=="function"?new Map:void 0;return k=function(l){if(l===null||(o=l,Function.toString.call(o).indexOf("[native code]")===-1))return l;var o;if(typeof l!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(l))return s.get(l);s.set(l,c)}function c(){return C(l,arguments,j(this).constructor)}return c.prototype=Object.create(l.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),x(c,l)},k(a)}function C(a,s,l){return C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(o,c,p){var g=[null];g.push.apply(g,c);var b=new(Function.bind.apply(o,g));return p&&x(b,p.prototype),b},C.apply(null,arguments)}function x(a,s){return x=Object.setPrototypeOf||function(l,o){return l.__proto__=o,l},x(a,s)}function j(a){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},j(a)}var E=function(a){function s(l){var o;return function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}(this,s),(o=function(c,p){return!p||R(p)!=="object"&&typeof p!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(c):p}(this,j(s).call(this,l))).name="ObjectPrototypeMutationError",o}return function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),o&&x(l,o)}(s,a),s}(k(Error));function v(a,s){for(var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=s.split("."),c=o.length,p=function(L){var h=o[L];if(!a)return{v:void 0};if(h==="+"){if(Array.isArray(a))return{v:a.map(function(w,f){var T=o.slice(L+1);return T.length>0?v(w,T.join("."),l):l(a,f,o,L)})};var d=o.slice(0,L).join(".");throw new Error("Object at wildcard (".concat(d,") is not an array"))}a=l(a,h,o,L)},g=0;g<c;g++){var b=p(g);if(R(b)==="object")return b.v}return a}function N(a,s){return a.length===s+1}z.exports={set:function(a,s,l){if(R(a)!="object"||a===null||s===void 0)return a;if(typeof s=="number")return a[s]=l,a[s];try{return v(a,s,function(o,c,p,g){if(o===Reflect.getPrototypeOf({}))throw new E("Attempting to mutate Object.prototype");if(!o[c]){var b=Number.isInteger(Number(p[g+1])),L=p[g+1]==="+";o[c]=b||L?[]:{}}return N(p,g)&&(o[c]=l),o[c]})}catch(o){if(o instanceof E)throw o;return a}},get:function(a,s){if(R(a)!="object"||a===null||s===void 0)return a;if(typeof s=="number")return a[s];try{return v(a,s,function(l,o){return l[o]})}catch{return a}},has:function(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(R(a)!="object"||a===null||s===void 0)return!1;if(typeof s=="number")return s in a;try{var o=!1;return v(a,s,function(c,p,g,b){if(!N(g,b))return c&&c[p];o=l.own?c.hasOwnProperty(p):p in c}),o}catch{return!1}},hasOwn:function(a,s,l){return this.has(a,s,l||{own:!0})},isIn:function(a,s,l){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(R(a)!="object"||a===null||s===void 0)return!1;try{var c=!1,p=!1;return v(a,s,function(g,b,L,h){return c=c||g===l||!!g&&g[b]===l,p=N(L,h)&&R(g)==="object"&&b in g,g&&g[b]}),o.validPath?c&&p:c}catch{return!1}},ObjectPrototypeMutationError:E}},47:(z,R,k)=>{var C=k(410),x=function(a){return typeof a=="string"};function j(a,s){for(var l=[],o=0;o<a.length;o++){var c=a[o];c&&c!=="."&&(c===".."?l.length&&l[l.length-1]!==".."?l.pop():s&&l.push(".."):l.push(c))}return l}var E=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,v={};function N(a){return E.exec(a).slice(1)}v.resolve=function(){for(var a="",s=!1,l=arguments.length-1;l>=-1&&!s;l--){var o=l>=0?arguments[l]:Ut.cwd();if(!x(o))throw new TypeError("Arguments to path.resolve must be strings");o&&(a=o+"/"+a,s=o.charAt(0)==="/")}return(s?"/":"")+(a=j(a.split("/"),!s).join("/"))||"."},v.normalize=function(a){var s=v.isAbsolute(a),l=a.substr(-1)==="/";return(a=j(a.split("/"),!s).join("/"))||s||(a="."),a&&l&&(a+="/"),(s?"/":"")+a},v.isAbsolute=function(a){return a.charAt(0)==="/"},v.join=function(){for(var a="",s=0;s<arguments.length;s++){var l=arguments[s];if(!x(l))throw new TypeError("Arguments to path.join must be strings");l&&(a+=a?"/"+l:l)}return v.normalize(a)},v.relative=function(a,s){function l(h){for(var d=0;d<h.length&&h[d]==="";d++);for(var w=h.length-1;w>=0&&h[w]==="";w--);return d>w?[]:h.slice(d,w+1)}a=v.resolve(a).substr(1),s=v.resolve(s).substr(1);for(var o=l(a.split("/")),c=l(s.split("/")),p=Math.min(o.length,c.length),g=p,b=0;b<p;b++)if(o[b]!==c[b]){g=b;break}var L=[];for(b=g;b<o.length;b++)L.push("..");return(L=L.concat(c.slice(g))).join("/")},v._makeLong=function(a){return a},v.dirname=function(a){var s=N(a),l=s[0],o=s[1];return l||o?(o&&(o=o.substr(0,o.length-1)),l+o):"."},v.basename=function(a,s){var l=N(a)[2];return s&&l.substr(-1*s.length)===s&&(l=l.substr(0,l.length-s.length)),l},v.extname=function(a){return N(a)[3]},v.format=function(a){if(!C.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var s=a.root||"";if(!x(s))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+v.sep:"")+(a.base||"")},v.parse=function(a){if(!x(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var s=N(a);if(!s||s.length!==4)throw new TypeError("Invalid path '"+a+"'");return s[1]=s[1]||"",s[2]=s[2]||"",s[3]=s[3]||"",{root:s[0],dir:s[0]+s[1].slice(0,s[1].length-1),base:s[2],ext:s[3],name:s[2].slice(0,s[2].length-s[3].length)}},v.sep="/",v.delimiter=":",z.exports=v},647:(z,R)=>{var k=Object.prototype.hasOwnProperty;function C(j){try{return decodeURIComponent(j.replace(/\+/g," "))}catch{return null}}function x(j){try{return encodeURIComponent(j)}catch{return null}}R.stringify=function(j,E){E=E||"";var v,N,a=[];for(N in typeof E!="string"&&(E="?"),j)if(k.call(j,N)){if((v=j[N])||v!=null&&!isNaN(v)||(v=""),N=x(N),v=x(v),N===null||v===null)continue;a.push(N+"="+v)}return a.length?E+a.join("&"):""},R.parse=function(j){for(var E,v=/([^=?#&]+)=?([^&]*)/g,N={};E=v.exec(j);){var a=C(E[1]),s=C(E[2]);a===null||s===null||a in N||(N[a]=s)}return N}},670:z=>{z.exports=function(R,k){if(k=k.split(":")[0],!(R=+R))return!1;switch(k){case"http":case"ws":return R!==80;case"https":case"wss":return R!==443;case"ftp":return R!==21;case"gopher":return R!==70;case"file":return!1}return R!==0}},494:z=>{const R=/^[-+]?0x[a-fA-F0-9]+$/,k=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const C={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};z.exports=function(x){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(j=Object.assign({},C,j),!x||typeof x!="string")return x;let E=x.trim();if(j.skipLike!==void 0&&j.skipLike.test(E))return x;if(j.hex&&R.test(E))return Number.parseInt(E,16);{const N=k.exec(E);if(N){const a=N[1],s=N[2];let l=((v=N[3])&&v.indexOf(".")!==-1&&((v=v.replace(/0+$/,""))==="."?v="0":v[0]==="."?v="0"+v:v[v.length-1]==="."&&(v=v.substr(0,v.length-1))),v);const o=N[4]||N[6];if(!j.leadingZeros&&s.length>0&&a&&E[2]!=="."||!j.leadingZeros&&s.length>0&&!a&&E[1]!==".")return x;{const c=Number(E),p=""+c;return p.search(/[eE]/)!==-1||o?j.eNotation?c:x:E.indexOf(".")!==-1?p==="0"&&l===""||p===l||a&&p==="-"+l?c:x:s?l===p||a+l===p?c:x:E===p||E===a+p?c:x}}return x}var v}},737:(z,R,k)=>{var C=k(670),x=k(647),j=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,E=/[\n\r\t]/g,v=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,N=/:\d+$/,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/;function l(h){return(h||"").toString().replace(j,"")}var o=[["#","hash"],["?","query"],function(h,d){return g(d.protocol)?h.replace(/\\/g,"/"):h},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function p(h){var d,w=(typeof window<"u"?window:typeof Ft<"u"?Ft:typeof self<"u"?self:{}).location||{},f={},T=typeof(h=h||w);if(h.protocol==="blob:")f=new L(unescape(h.pathname),{});else if(T==="string")for(d in f=new L(h,{}),c)delete f[d];else if(T==="object"){for(d in h)d in c||(f[d]=h[d]);f.slashes===void 0&&(f.slashes=v.test(h.href))}return f}function g(h){return h==="file:"||h==="ftp:"||h==="http:"||h==="https:"||h==="ws:"||h==="wss:"}function b(h,d){h=(h=l(h)).replace(E,""),d=d||{};var w,f=a.exec(h),T=f[1]?f[1].toLowerCase():"",O=!!f[2],P=!!f[3],_=0;return O?P?(w=f[2]+f[3]+f[4],_=f[2].length+f[3].length):(w=f[2]+f[4],_=f[2].length):P?(w=f[3]+f[4],_=f[3].length):w=f[4],T==="file:"?_>=2&&(w=w.slice(2)):g(T)?w=f[4]:T?O&&(w=w.slice(2)):_>=2&&g(d.protocol)&&(w=f[4]),{protocol:T,slashes:O||g(T),slashesCount:_,rest:w}}function L(h,d,w){if(h=(h=l(h)).replace(E,""),!(this instanceof L))return new L(h,d,w);var f,T,O,P,_,$,F=o.slice(),U=typeof d,S=this,G=0;for(U!=="object"&&U!=="string"&&(w=d,d=null),w&&typeof w!="function"&&(w=x.parse),f=!(T=b(h||"",d=p(d))).protocol&&!T.slashes,S.slashes=T.slashes||f&&d.slashes,S.protocol=T.protocol||d.protocol||"",h=T.rest,(T.protocol==="file:"&&(T.slashesCount!==2||s.test(h))||!T.slashes&&(T.protocol||T.slashesCount<2||!g(S.protocol)))&&(F[3]=[/(.*)/,"pathname"]);G<F.length;G++)typeof(P=F[G])!="function"?(O=P[0],$=P[1],O!=O?S[$]=h:typeof O=="string"?~(_=O==="@"?h.lastIndexOf(O):h.indexOf(O))&&(typeof P[2]=="number"?(S[$]=h.slice(0,_),h=h.slice(_+P[2])):(S[$]=h.slice(_),h=h.slice(0,_))):(_=O.exec(h))&&(S[$]=_[1],h=h.slice(0,_.index)),S[$]=S[$]||f&&P[3]&&d[$]||"",P[4]&&(S[$]=S[$].toLowerCase())):h=P(h,S);w&&(S.query=w(S.query)),f&&d.slashes&&S.pathname.charAt(0)!=="/"&&(S.pathname!==""||d.pathname!=="")&&(S.pathname=function(J,ut){if(J==="")return ut;for(var K=(ut||"/").split("/").slice(0,-1).concat(J.split("/")),et=K.length,rt=K[et-1],ct=!1,dt=0;et--;)K[et]==="."?K.splice(et,1):K[et]===".."?(K.splice(et,1),dt++):dt&&(et===0&&(ct=!0),K.splice(et,1),dt--);return ct&&K.unshift(""),rt!=="."&&rt!==".."||K.push(""),K.join("/")}(S.pathname,d.pathname)),S.pathname.charAt(0)!=="/"&&g(S.protocol)&&(S.pathname="/"+S.pathname),C(S.port,S.protocol)||(S.host=S.hostname,S.port=""),S.username=S.password="",S.auth&&(~(_=S.auth.indexOf(":"))?(S.username=S.auth.slice(0,_),S.username=encodeURIComponent(decodeURIComponent(S.username)),S.password=S.auth.slice(_+1),S.password=encodeURIComponent(decodeURIComponent(S.password))):S.username=encodeURIComponent(decodeURIComponent(S.auth)),S.auth=S.password?S.username+":"+S.password:S.username),S.origin=S.protocol!=="file:"&&g(S.protocol)&&S.host?S.protocol+"//"+S.host:"null",S.href=S.toString()}L.prototype={set:function(h,d,w){var f=this;switch(h){case"query":typeof d=="string"&&d.length&&(d=(w||x.parse)(d)),f[h]=d;break;case"port":f[h]=d,C(d,f.protocol)?d&&(f.host=f.hostname+":"+d):(f.host=f.hostname,f[h]="");break;case"hostname":f[h]=d,f.port&&(d+=":"+f.port),f.host=d;break;case"host":f[h]=d,N.test(d)?(d=d.split(":"),f.port=d.pop(),f.hostname=d.join(":")):(f.hostname=d,f.port="");break;case"protocol":f.protocol=d.toLowerCase(),f.slashes=!w;break;case"pathname":case"hash":if(d){var T=h==="pathname"?"/":"#";f[h]=d.charAt(0)!==T?T+d:d}else f[h]=d;break;case"username":case"password":f[h]=encodeURIComponent(d);break;case"auth":var O=d.indexOf(":");~O?(f.username=d.slice(0,O),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=d.slice(O+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(d))}for(var P=0;P<o.length;P++){var _=o[P];_[4]&&(f[_[1]]=f[_[1]].toLowerCase())}return f.auth=f.password?f.username+":"+f.password:f.username,f.origin=f.protocol!=="file:"&&g(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString(),f},toString:function(h){h&&typeof h=="function"||(h=x.stringify);var d,w=this,f=w.host,T=w.protocol;T&&T.charAt(T.length-1)!==":"&&(T+=":");var O=T+(w.protocol&&w.slashes||g(w.protocol)?"//":"");return w.username?(O+=w.username,w.password&&(O+=":"+w.password),O+="@"):w.password?(O+=":"+w.password,O+="@"):w.protocol!=="file:"&&g(w.protocol)&&!f&&w.pathname!=="/"&&(O+="@"),(f[f.length-1]===":"||N.test(w.hostname)&&!w.port)&&(f+=":"),O+=f+w.pathname,(d=typeof w.query=="object"?h(w.query):w.query)&&(O+=d.charAt(0)!=="?"?"?"+d:d),w.hash&&(O+=w.hash),O}},L.extractProtocol=b,L.location=p,L.trimLeft=l,L.qs=x,z.exports=L},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},Ce={};function tt(z){var R=Ce[z];if(R!==void 0)return R.exports;var k=Ce[z]={id:z,loaded:!1,exports:{}};return Ln[z].call(k.exports,k,k.exports,tt),k.loaded=!0,k.exports}tt.n=z=>{var R=z&&z.__esModule?()=>z.default:()=>z;return tt.d(R,{a:R}),R},tt.d=(z,R)=>{for(var k in R)tt.o(R,k)&&!tt.o(z,k)&&Object.defineProperty(z,k,{enumerable:!0,get:R[k]})},tt.o=(z,R)=>Object.prototype.hasOwnProperty.call(z,R),tt.nmd=z=>(z.paths=[],z.children||(z.children=[]),z);var vt={};(()=>{tt.d(vt,{hT:()=>F,O4:()=>U,Kd:()=>_,YK:()=>$,UU:()=>Sn,Gu:()=>rt,ky:()=>me,h4:()=>jt,ch:()=>_t,hq:()=>Nt,i5:()=>ve});var z=tt(737),R=tt.n(z);function k(n){if(!C(n))throw new Error("Parameter was not an error")}function C(n){return t=n,Object.prototype.toString.call(t)==="[object Error]"||n instanceof Error;var t}class x extends Error{constructor(t,e){const r=[...arguments],{options:u,shortMessage:i}=function(y){let A,I="";if(y.length===0)A={};else if(C(y[0]))A={cause:y[0]},I=y.slice(1).join(" ")||"";else if(y[0]&&typeof y[0]=="object")A=Object.assign({},y[0]),I=y.slice(1).join(" ")||"";else{if(typeof y[0]!="string")throw new Error("Invalid arguments passed to Layerr");A={},I=I=y.join(" ")||""}return{options:A,shortMessage:I}}(r);let m=i;if(u.cause&&(m="".concat(m,": ").concat(u.cause.message)),super(m),this.message=m,u.name&&typeof u.name=="string"?this.name=u.name:this.name="Layerr",u.cause&&Object.defineProperty(this,"_cause",{value:u.cause}),Object.defineProperty(this,"_info",{value:{}}),u.info&&typeof u.info=="object"&&Object.assign(this._info,u.info),Error.captureStackTrace){const y=u.constructorOpt||this.constructor;Error.captureStackTrace(this,y)}}static cause(t){return k(t),t._cause&&C(t._cause)?t._cause:null}static fullStack(t){k(t);const e=x.cause(t);return e?"".concat(t.stack,"\ncaused by: ").concat(x.fullStack(e)):t.stack}static info(t){k(t);const e={},r=x.cause(t);return r&&Object.assign(e,x.info(r)),t._info&&Object.assign(e,t._info),e}cause(){return x.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t="".concat(t,": ").concat(this.message)),t}}var j=tt(47),E=tt.n(j);const v="__PATH_SEPARATOR_POSIX__",N="__PATH_SEPARATOR_WINDOWS__";function a(n){try{const t=n.replace(/\//g,v).replace(/\\\\/g,N);return encodeURIComponent(t).split(N).join("\\\\").split(v).join("/")}catch(t){throw new x(t,"Failed encoding path")}}function s(n){return n.startsWith("/")?n:"/"+n}function l(n){let t=n;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function o(n){let t=new(R())(n).pathname;return t.length<=0&&(t="/"),l(t)}function c(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(){return function(r){var u=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var i=r.shift();r[0]=i+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var m=0;m<r.length;m++){var y=r[m];if(typeof y!="string")throw new TypeError("Url must be a string. Received "+y);y!==""&&(m>0&&(y=y.replace(/^[\/]+/,"")),y=m<r.length-1?y.replace(/[\/]+$/,""):y.replace(/[\/]+$/,"/"),u.push(y))}var A=u.join("/"),I=(A=A.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return I.shift()+(I.length>0?"?":"")+I.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(t.reduce((r,u,i)=>((i===0||u!=="/"||u==="/"&&r[r.length-1]!=="/")&&r.push(u),r),[]))}var p=tt(542),g=tt.n(p);const b="abcdef0123456789";function L(n,t){const e=n.url.replace("//",""),r=e.indexOf("/")==-1?"/":e.slice(e.indexOf("/")),u=n.method?n.method.toUpperCase():"GET",i=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",m="00000000".concat(t.nc).slice(-8),y=function(Z,Q,V,D,B,H,Y){const q=Y||g()("".concat(Q,":").concat(V,":").concat(D));return Z&&Z.toLowerCase()==="md5-sess"?g()("".concat(q,":").concat(B,":").concat(H)):q}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),A=g()("".concat(u,":").concat(r)),I=i?g()("".concat(y,":").concat(t.nonce,":").concat(m,":").concat(t.cnonce,":").concat(i,":").concat(A)):g()("".concat(y,":").concat(t.nonce,":").concat(A)),M={username:t.username,realm:t.realm,nonce:t.nonce,uri:r,qop:i,response:I,nc:m,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},W=[];for(const Z in M)M[Z]&&(Z==="qop"||Z==="nc"||Z==="algorithm"?W.push("".concat(Z,"=").concat(M[Z])):W.push("".concat(Z,'="').concat(M[Z],'"')));return"Digest ".concat(W.join(", "))}function h(n){return(n.headers&&n.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var d=tt(101),w=tt.n(d);function f(n){return w().decode(n)}function T(n,t){const e=(r="".concat(n,":").concat(t),w().encode(r));var r;return"Basic ".concat(e)}const O=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,P=O.fetch.bind(O),_=O.Request,$=O.Response;let F=function(n){return n.Auto="auto",n.Digest="digest",n.None="none",n.Password="password",n.Token="token",n}({}),U=function(n){return n.DataTypeNoLength="data-type-no-length",n.InvalidAuthType="invalid-auth-type",n.InvalidOutputFormat="invalid-output-format",n.LinkUnsupportedAuthType="link-unsupported-auth",n.InvalidUpdateRange="invalid-update-range",n.NotSupported="not-supported",n}({});function S(n,t,e,r,u){switch(n.authType){case F.Auto:t&&e&&(n.headers.Authorization=T(t,e));break;case F.Digest:n.digest=function(m,y,A){return{username:m,password:y,ha1:A,nc:0,algorithm:"md5",hasDigestAuth:!1}}(t,e,u);break;case F.None:break;case F.Password:n.headers.Authorization=T(t,e);break;case F.Token:n.headers.Authorization="".concat((i=r).token_type," ").concat(i.access_token);break;default:throw new x({info:{code:U.InvalidAuthType}},"Invalid auth type: ".concat(n.authType))}var i}tt(345),tt(800);const G="@@HOTPATCHER",J=()=>{};function ut(n){return{original:n,methods:[n],final:!1}}class K{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=G}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==G)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?e&&(this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])}),t._configuration=this.configuration,this}execute(t){const e=this.get(t)||J;for(var r=arguments.length,u=new Array(r>1?r-1:0),i=1;i<r;i++)u[i-1]=arguments[i];return e(...u)}get(t){const e=this.configuration.registry[t];if(!e)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error("Failed handling method request: No method provided for override: ".concat(t));default:throw new Error("Failed handling request which resulted in an empty method: Invalid empty-action specified: ".concat(this.getEmptyAction))}return function(){for(var r=arguments.length,u=new Array(r),i=0;i<r;i++)u[i]=arguments[i];if(u.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var m=arguments.length,y=new Array(m),A=0;A<m;A++)y[A]=arguments[A];let I=y;const M=this;for(;u.length>0;)I=[u.shift().apply(M,I)];return I[0]}}(...e.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:u=!1}=r;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error("Failed patching '".concat(t,"': Method marked as being final"));if(typeof e!="function")throw new Error("Failed patching '".concat(t,"': Provided method is not a function"));if(u)this.configuration.registry[t]?this.configuration.registry[t].methods.push(e):this.configuration.registry[t]=ut(e);else if(this.isPatched(t)){const{original:i}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(ut(e),{original:i})}else this.configuration.registry[t]=ut(e);return this}patchInline(t,e){this.isPatched(t)||this.patch(t,e);for(var r=arguments.length,u=new Array(r>2?r-2:0),i=2;i<r;i++)u[i-2]=arguments[i];return this.execute(t,...u)}plugin(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),u=1;u<e;u++)r[u-1]=arguments[u];return r.forEach(i=>{this.patch(t,i,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error("Failed restoring method: No method present for key: ".concat(t));if(typeof this.configuration.registry[t].original!="function")throw new Error("Failed restoring method: Original method not found or of invalid type for key: ".concat(t));return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error("Failed marking '".concat(t,"' as final: No method found for key"));return this.configuration.registry[t].final=!0,this}}let et=null;function rt(){return et||(et=new K),et}function ct(n){return function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(n)?Object.assign({},n):Object.setPrototypeOf(Object.assign({},n),Object.getPrototypeOf(n))}function dt(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];let r=null,u=[...t];for(;u.length>0;){const i=u.shift();r=r?yt(r,i):ct(i)}return r}function yt(n,t){const e=ct(n);return Object.keys(t).forEach(r=>{e.hasOwnProperty(r)?Array.isArray(t[r])?e[r]=Array.isArray(e[r])?[...e[r],...t[r]]:[...t[r]]:typeof t[r]=="object"&&t[r]?e[r]=typeof e[r]=="object"&&e[r]?yt(e[r],t[r]):ct(t[r]):e[r]=t[r]:e[r]=t[r]}),e}function St(n){const t={};for(const e of n.keys())t[e]=n.get(e);return t}function Ot(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];if(t.length===0)return{};const r={};return t.reduce((u,i)=>(Object.keys(i).forEach(m=>{const y=m.toLowerCase();r.hasOwnProperty(y)?u[r[y]]=i[m]:(r[y]=m,u[m]=i[m])}),u),{})}tt(805);const wt=typeof ArrayBuffer=="function",{toString:Dt}=Object.prototype;function re(n){return wt&&(n instanceof ArrayBuffer||Dt.call(n)==="[object ArrayBuffer]")}function oe(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function Bt(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}function $t(n,t,e){return n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n}const se=Bt(function(n){const t=n._digest;return delete n._digest,t.hasDigestAuth&&(n=dt(n,{headers:{Authorization:L(n,t)}})),$t(kt(n),function(e){let r=!1;return u=function(m){return r?m:e},(i=function(){if(e.status==401)return t.hasDigestAuth=function(m,y){if(!h(m))return!1;const A=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const I=m.headers&&m.headers.get("www-authenticate")||"",M=A.exec(I);if(!M)break;y[M[1]]=M[2]||M[3]}return y.nc+=1,y.cnonce=function(){let I="";for(let M=0;M<32;++M)I="".concat(I).concat(b[Math.floor(16*Math.random())]);return I}(),!0}(e,t),function(){if(t.hasDigestAuth)return $t(kt(n=dt(n,{headers:{Authorization:L(n,t)}})),function(m){return m.status==401?t.hasDigestAuth=!1:t.nc++,r=!0,m})}();t.nc++}())&&i.then?i.then(u):u(i);var u,i})}),Se=Bt(function(n,t){return $t(kt(n),function(e){return e.ok?(t.authType=F.Password,e):e.status==401&&h(e)?(t.authType=F.Digest,S(t,t.username,t.password,void 0,void 0),n._digest=t.digest,se(n)):e})}),ot=Bt(function(n,t){return t.authType===F.Auto?Se(n,t):n._digest?se(n):kt(n)});function st(n,t,e){const r=ct(n);return r.headers=Ot(t.headers,r.headers||{},e.headers||{}),e.data!==void 0&&(r.data=e.data),e.signal&&(r.signal=e.signal),t.httpAgent&&(r.httpAgent=t.httpAgent),t.httpsAgent&&(r.httpsAgent=t.httpsAgent),t.digest&&(r._digest=t.digest),typeof t.withCredentials=="boolean"&&(r.withCredentials=t.withCredentials),r}function kt(n){const t=rt();return t.patchInline("request",e=>t.patchInline("fetch",P,e.url,function(r){let u={};const i={method:r.method};if(r.headers&&(u=Ot(u,r.headers)),r.data!==void 0){const[m,y]=function(A){if(typeof A=="string")return[A,{}];if(oe(A))return[A,{}];if(re(A))return[A,{}];if(A&&typeof A=="object")return[JSON.stringify(A),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: ".concat(typeof A))}(r.data);i.body=m,u=Ot(u,y)}return r.signal&&(i.signal=r.signal),r.withCredentials&&(i.credentials="include"),i.headers=u,i}(e)),n)}var ke=tt(285);const Le={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},At=n=>n.replace(/[[\]\\-]/g,"\\$&"),ie=n=>n.join(""),Ie=(n,t)=>{const e=t;if(n.charAt(e)!=="[")throw new Error("not in a brace expression");const r=[],u=[];let i=e+1,m=!1,y=!1,A=!1,I=!1,M=e,W="";t:for(;i<n.length;){const D=n.charAt(i);if(D!=="!"&&D!=="^"||i!==e+1){if(D==="]"&&m&&!A){M=i+1;break}if(m=!0,D!=="\\"||A){if(D==="["&&!A){for(const[B,[H,Y,q]]of Object.entries(Le))if(n.startsWith(B,i)){if(W)return["$.",!1,n.length-e,!0];i+=B.length,q?u.push(H):r.push(H),y=y||Y;continue t}}A=!1,W?(D>W?r.push(At(W)+"-"+At(D)):D===W&&r.push(At(D)),W="",i++):n.startsWith("-]",i+1)?(r.push(At(D+"-")),i+=2):n.startsWith("-",i+1)?(W=D,i+=2):(r.push(At(D)),i++)}else A=!0,i++}else I=!0,i++}if(M<i)return["",!1,0,!1];if(!r.length&&!u.length)return["$.",!1,n.length-e,!0];if(u.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!I)return[(Z=r[0].length===2?r[0].slice(-1):r[0],Z.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,M-e,!1];var Z;const Q="["+(I?"^":"")+ie(r)+"]",V="["+(I?"":"^")+ie(u)+"]";return[r.length&&u.length?"("+Q+"|"+V+")":r.length?Q:V,y,M-e,!0]};function lt(n,t,e){var r;return(t=typeof(r=function(u,i){if(typeof u!="object"||!u)return u;var m=u[Symbol.toPrimitive];if(m!==void 0){var y=m.call(u,"string");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}(t))=="symbol"?r:String(r))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const ft=function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Lt(t),!(!e.nocomment&&t.charAt(0)==="#")&&new It(t,e).match(n)},Re=ft,_e=/^\*+([^+@!?\*\[\(]*)$/,Me=n=>t=>!t.startsWith(".")&&t.endsWith(n),Fe=n=>t=>t.endsWith(n),Ue=n=>(n=n.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(n)),De=n=>(n=n.toLowerCase(),t=>t.toLowerCase().endsWith(n)),Be=/^\*+\.\*+$/,$e=n=>!n.startsWith(".")&&n.includes("."),ze=n=>n!=="."&&n!==".."&&n.includes("."),We=/^\.\*+$/,Ge=n=>n!=="."&&n!==".."&&n.startsWith("."),Ve=/^\*+$/,qe=n=>n.length!==0&&!n.startsWith("."),Ze=n=>n.length!==0&&n!=="."&&n!=="..",He=/^\?+([^+@!?\*\[\(]*)?$/,Ye=n=>{let[t,e=""]=n;const r=ae([t]);return e?(e=e.toLowerCase(),u=>r(u)&&u.toLowerCase().endsWith(e)):r},Xe=n=>{let[t,e=""]=n;const r=ce([t]);return e?(e=e.toLowerCase(),u=>r(u)&&u.toLowerCase().endsWith(e)):r},Qe=n=>{let[t,e=""]=n;const r=ce([t]);return e?u=>r(u)&&u.endsWith(e):r},Ke=n=>{let[t,e=""]=n;const r=ae([t]);return e?u=>r(u)&&u.endsWith(e):r},ae=n=>{let[t]=n;const e=t.length;return r=>r.length===e&&!r.startsWith(".")},ce=n=>{let[t]=n;const e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},ue=typeof Ut=="object"&&Ut?typeof ne=="object"&&ne&&ne.__MINIMATCH_TESTING_PLATFORM__||Ut.platform:"posix";ft.sep=ue==="win32"?"\\":"/";const mt=Symbol("globstar **");ft.GLOBSTAR=mt;const le={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},zt="[^/]",Wt=zt+"*?",he=n=>n.split("").reduce((t,e)=>(t[e]=!0,t),{}),Je=he("().*{}+?[]^$\\!"),tn=he("[.(");ft.filter=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e=>ft(e,n,t)};const bt=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},n,t)};ft.defaults=n=>{if(!n||typeof n!="object"||!Object.keys(n).length)return ft;const t=ft;return Object.assign(function(e,r){return t(e,r,bt(n,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends t.Minimatch{constructor(e){super(e,bt(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(e){return t.defaults(bt(n,e)).Minimatch}},unescape:function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(e,bt(n,r))},escape:function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(e,bt(n,r))},filter:function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(e,bt(n,r))},defaults:e=>t.defaults(bt(n,e)),makeRe:function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(e,bt(n,r))},braceExpand:function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(e,bt(n,r))},match:function(e,r){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(e,r,bt(n,u))},sep:t.sep,GLOBSTAR:mt})};const pe=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Lt(n),t.nobrace||!/\{(?:(?!\{).)*\}/.test(n)?[n]:ke(n)};ft.braceExpand=pe;const Lt=n=>{if(typeof n!="string")throw new TypeError("invalid pattern");if(n.length>65536)throw new TypeError("pattern is too long")};ft.makeRe=function(n){return new It(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},ft.match=function(n,t){const e=new It(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return n=n.filter(r=>e.match(r)),e.options.nonull&&!n.length&&n.push(t),n};const fe=/[?*]|[+@!]\(.*?\)|\[|\]/,ge=n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class It{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};lt(this,"options",void 0),lt(this,"set",void 0),lt(this,"pattern",void 0),lt(this,"windowsPathsNoEscape",void 0),lt(this,"nonegate",void 0),lt(this,"negate",void 0),lt(this,"comment",void 0),lt(this,"empty",void 0),lt(this,"preserveMultipleSlashes",void 0),lt(this,"partial",void 0),lt(this,"globSet",void 0),lt(this,"globParts",void 0),lt(this,"nocase",void 0),lt(this,"isWindows",void 0),lt(this,"platform",void 0),lt(this,"windowsNoMagicRoot",void 0),lt(this,"regexp",void 0),Lt(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||ue,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if(typeof e!="string")return!0;return!1}debug(){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(i=>this.slashSplit(i));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let u=this.globParts.map((i,m,y)=>{if(this.isWindows&&this.windowsNoMagicRoot){const A=!(i[0]!==""||i[1]!==""||i[2]!=="?"&&fe.test(i[2])||fe.test(i[3])),I=/^[a-z]:/i.test(i[0]);if(A)return[...i.slice(0,4),...i.slice(4).map(M=>this.parse(M))];if(I)return[i[0],...i.slice(1).map(M=>this.parse(M))]}return i.map(A=>this.parse(A))});if(this.debug(this.pattern,u),this.set=u.filter(i=>i.indexOf(!1)===-1),this.isWindows)for(let i=0;i<this.set.length;i++){const m=this.set[i];m[0]===""&&m[1]===""&&this.globParts[i][2]==="?"&&typeof m[3]=="string"&&/^[a-z]:$/i.test(m[3])&&(m[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let u=0;u<t[r].length;u++)t[r][u]==="**"&&(t[r][u]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let r=-1;for(;(r=e.indexOf("**",r+1))!==-1;){let u=r;for(;e[u+1]==="**";)u++;u!==r&&e.splice(r,u-r)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((r,u)=>{const i=r[r.length-1];return u==="**"&&i==="**"?r:u===".."&&i&&i!==".."&&i!=="."&&i!=="**"?(r.pop(),r):(r.push(u),r)},[])).length===0?[""]:e)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let u=1;u<t.length-1;u++){const i=t[u];u===1&&i===""&&t[0]===""||i!=="."&&i!==""||(e=!0,t.splice(u,1),u--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(e=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){const u=t[r-1];u&&u!=="."&&u!==".."&&u!=="**"&&(e=!0,t.splice(r-1,2),r-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let r of t){let u=-1;for(;(u=r.indexOf("**",u+1))!==-1;){let m=u;for(;r[m+1]==="**";)m++;m>u&&r.splice(u+1,m-u);let y=r[u+1];const A=r[u+2],I=r[u+3];if(y!==".."||!A||A==="."||A===".."||!I||I==="."||I==="..")continue;e=!0,r.splice(u,1);const M=r.slice(0);M[u]="**",t.push(M),u--}if(!this.preserveMultipleSlashes){for(let m=1;m<r.length-1;m++){const y=r[m];m===1&&y===""&&r[0]===""||y!=="."&&y!==""||(e=!0,r.splice(m,1),m--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(e=!0,r.pop())}let i=0;for(;(i=r.indexOf("..",i+1))!==-1;){const m=r[i-1];if(m&&m!=="."&&m!==".."&&m!=="**"){e=!0;const y=i===1&&r[i+1]==="**"?["."]:[];r.splice(i-1,2,...y),r.length===0&&r.push(""),i-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let r=e+1;r<t.length;r++){const u=this.partsMatch(t[e],t[r],!this.preserveMultipleSlashes);u&&(t[e]=u,t[r]=[])}return t.filter(e=>e.length)}partsMatch(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=0,i=0,m=[],y="";for(;u<t.length&&i<e.length;)if(t[u]===e[i])m.push(y==="b"?e[i]:t[u]),u++,i++;else if(r&&t[u]==="**"&&e[i]===t[u+1])m.push(t[u]),u++;else if(r&&e[i]==="**"&&t[u]===e[i+1])m.push(e[i]),i++;else if(t[u]!=="*"||!e[i]||!this.options.dot&&e[i].startsWith(".")||e[i]==="**"){if(e[i]!=="*"||!t[u]||!this.options.dot&&t[u].startsWith(".")||t[u]==="**"||y==="a")return!1;y="b",m.push(e[i]),u++,i++}else{if(y==="b")return!1;y="a",m.push(t[u]),u++,i++}return t.length===e.length&&m}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let u=0;u<t.length&&t.charAt(u)==="!";u++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const u=this.options;if(this.isWindows){const D=t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),B=e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]);if(D&&B){const H=t[3],Y=e[3];H.toLowerCase()===Y.toLowerCase()&&(t[3]=Y)}else if(B&&typeof t[0]=="string"){const H=e[3],Y=t[0];H.toLowerCase()===Y.toLowerCase()&&(e[3]=Y,e=e.slice(3))}else if(D&&typeof e[0]=="string"){const H=t[3];H.toLowerCase()===e[0].toLowerCase()&&(e[0]=H,t=t.slice(3))}}const{optimizationLevel:i=1}=this.options;i>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var m=0,y=0,A=t.length,I=e.length;m<A&&y<I;m++,y++){this.debug("matchOne loop");var M=e[y],W=t[m];if(this.debug(e,M,W),M===!1)return!1;if(M===mt){this.debug("GLOBSTAR",[e,M,W]);var Z=m,Q=y+1;if(Q===I){for(this.debug("** at the end");m<A;m++)if(t[m]==="."||t[m]===".."||!u.dot&&t[m].charAt(0)===".")return!1;return!0}for(;Z<A;){var V=t[Z];if(this.debug("\nglobstar while",t,Z,e,Q,V),this.matchOne(t.slice(Z),e.slice(Q),r))return this.debug("globstar found match!",Z,A,V),!0;if(V==="."||V===".."||!u.dot&&V.charAt(0)==="."){this.debug("dot detected!",t,Z,e,Q);break}this.debug("globstar swallow a segment, and continue"),Z++}return!(!r||(this.debug("\n>>> no match, partial?",t,Z,e,Q),Z!==A))}let D;if(typeof M=="string"?(D=W===M,this.debug("string match",M,W,D)):(D=M.test(W),this.debug("pattern match",M,W,D)),!D)return!1}if(m===A&&y===I)return!0;if(m===A)return r;if(y===I)return m===A-1&&t[m]==="";throw new Error("wtf?")}braceExpand(){return pe(this.pattern,this.options)}parse(t){Lt(t);const e=this.options;if(t==="**")return mt;if(t==="")return"";let r,u=null;(r=t.match(Ve))?u=e.dot?Ze:qe:(r=t.match(_e))?u=(e.nocase?e.dot?De:Ue:e.dot?Fe:Me)(r[1]):(r=t.match(He))?u=(e.nocase?e.dot?Xe:Ye:e.dot?Qe:Ke)(r):(r=t.match(Be))?u=e.dot?ze:$e:(r=t.match(We))&&(u=Ge);let i="",m=!1,y=!1;const A=[],I=[];let M,W=!1,Z=!1,Q=t.charAt(0)===".",V=e.dot||Q;const D=q=>q.charAt(0)==="."?"":e.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",B=()=>{if(W){switch(W){case"*":i+=Wt,m=!0;break;case"?":i+=zt,m=!0;break;default:i+="\\"+W}this.debug("clearStateChar %j %j",W,i),W=!1}};for(let q,X=0;X<t.length&&(q=t.charAt(X));X++)if(this.debug("%s	%s %s %j",t,X,i,q),y){if(q==="/")return!1;Je[q]&&(i+="\\"),i+=q,y=!1}else switch(q){case"/":return!1;case"\\":B(),y=!0;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s	%s %s %j <-- stateChar",t,X,i,q),this.debug("call clearStateChar %j",W),B(),W=q,e.noext&&B();continue;case"(":{if(!W){i+="\\(";continue}const nt={type:W,start:X-1,reStart:i.length,open:le[W].open,close:le[W].close};this.debug(this.pattern,"	",nt),A.push(nt),i+=nt.open,nt.start===0&&nt.type!=="!"&&(Q=!0,i+=D(t.slice(X+1))),this.debug("plType %j %j",W,i),W=!1;continue}case")":{const nt=A[A.length-1];if(!nt){i+="\\)";continue}A.pop(),B(),m=!0,M=nt,i+=M.close,M.type==="!"&&I.push(Object.assign(M,{reEnd:i.length}));continue}case"|":{const nt=A[A.length-1];if(!nt){i+="\\|";continue}B(),i+="|",nt.start===0&&nt.type!=="!"&&(Q=!0,i+=D(t.slice(X+1)));continue}case"[":B();const[pt,at,ht,Ct]=Ie(t,X);ht?(i+=pt,Z=Z||at,X+=ht-1,m=m||Ct):i+="\\[";continue;case"]":i+="\\"+q;continue;default:B(),i+=ge(q)}for(M=A.pop();M;M=A.pop()){let q;q=i.slice(M.reStart+M.open.length),this.debug(this.pattern,"setting tail",i,M),q=q.replace(/((?:\\{2}){0,64})(\\?)\|/g,(pt,at,ht)=>(ht||(ht="\\"),at+at+ht+"|")),this.debug("tail=%j\n   %s",q,q,M,i);const X=M.type==="*"?Wt:M.type==="?"?zt:"\\"+M.type;m=!0,i=i.slice(0,M.reStart)+X+"\\("+q}B(),y&&(i+="\\\\");const H=tn[i.charAt(0)];for(let q=I.length-1;q>-1;q--){const X=I[q],pt=i.slice(0,X.reStart),at=i.slice(X.reStart,X.reEnd-8);let ht=i.slice(X.reEnd);const Ct=i.slice(X.reEnd-8,X.reEnd)+ht,nt=pt.split(")").length,kn=pt.split("(").length-nt;let ee=ht;for(let Te=0;Te<kn;Te++)ee=ee.replace(/\)[+*?]?/,"");ht=ee,i=pt+at+ht+(ht===""?"(?:$|\\/)":"")+Ct}if(i!==""&&m&&(i="(?=.)"+i),H&&(i=(Q?"":V?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+i),!e.nocase||m||e.nocaseMagicOnly||(m=t.toUpperCase()!==t.toLowerCase()),!m)return i.replace(/\\(.)/g,"$1");const Y=(e.nocase?"i":"")+(Z?"u":"");try{const q=u?{_glob:t,_src:i,test:u}:{_glob:t,_src:i};return Object.assign(new RegExp("^"+i+"$",Y),q)}catch(q){return this.debug("invalid regexp",q),new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,r=e.noglobstar?Wt:e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",u=e.nocase?"i":"";let i=t.map(m=>{const y=m.map(A=>typeof A=="string"?ge(A):A===mt?mt:A._src);return y.forEach((A,I)=>{const M=y[I+1],W=y[I-1];A===mt&&W!==mt&&(W===void 0?M!==void 0&&M!==mt?y[I+1]="(?:\\/|"+r+"\\/)?"+M:y[I]=r:M===void 0?y[I-1]=W+"(?:\\/|"+r+")?":M!==mt&&(y[I-1]=W+"(?:\\/|\\/"+r+"\\/)"+M,y[I+1]=mt))}),y.filter(A=>A!==mt).join("/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,u)}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const u=this.slashSplit(t);this.debug(this.pattern,"split",u);const i=this.set;this.debug(this.pattern,"set",i);let m=u[u.length-1];if(!m)for(let y=u.length-2;!m&&y>=0;y--)m=u[y];for(let y=0;y<i.length;y++){const A=i[y];let I=u;if(r.matchBase&&A.length===1&&(I=[m]),this.matchOne(I,A,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return ft.defaults(t).Minimatch}}function Gt(n){const t=new Error("".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"","Invalid response: ").concat(n.status," ").concat(n.statusText));return t.status=n.status,t.response=n,t}function it(n,t){const{status:e}=t;if(e===401&&n.digest)return t;if(e>=400)throw Gt(t);return t}function Nt(n,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:n.headers?St(n.headers):{},status:n.status,statusText:n.statusText}:t}ft.Minimatch=It,ft.escape=function(n){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?n.replace(/[?*()[\]]/g,"[$&]"):n.replace(/[?*()[\]\\]/g,"\\$&")},ft.unescape=function(n){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?n.replace(/\[([^\/\\])\]/g,"$1"):n.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")};const en=(de=function(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const u=st({url:c(n.remoteURL,a(t)),method:"COPY",headers:{Destination:c(n.remoteURL,a(e)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},n,r);return m=function(y){it(n,y)},(i=ot(u,n))&&i.then||(i=Promise.resolve(i)),m?i.then(m):i;var i,m},function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{return Promise.resolve(de.apply(this,n))}catch(e){return Promise.reject(e)}});var de,Vt=tt(635),nn=tt(829),xt=tt.n(nn),Pt=function(n){return n.Array="array",n.Object="object",n.Original="original",n}(Pt||{});function Rt(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pt.Original;const r=xt().get(n,t);return e==="array"&&Array.isArray(r)===!1?[r]:e==="object"&&Array.isArray(r)?r[0]:r}function jt(n){return new Promise(t=>{t(function(e){const{multistatus:r}=e;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const u={multistatus:Array.isArray(r)?r[0]:r};return xt().set(u,"multistatus.response",Rt(u,"multistatus.response",Pt.Array)),xt().set(u,"multistatus.response",xt().get(u,"multistatus.response").map(i=>function(m){const y=Object.assign({},m);return y.status?xt().set(y,"status",Rt(y,"status",Pt.Object)):(xt().set(y,"propstat",Rt(y,"propstat",Pt.Object)),xt().set(y,"propstat.prop",Rt(y,"propstat.prop",Pt.Object))),y}(i))),u}(new Vt.XMLParser({removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1}}).parse(n)))})}function _t(n,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:u="0",resourcetype:i=null,getcontenttype:m=null,getetag:y=null}=n,A=i&&typeof i=="object"&&i.collection!==void 0?"directory":"file",I={filename:t,basename:E().basename(t),lastmod:r,size:parseInt(u,10),type:A,etag:typeof y=="string"?y.replace(/"/g,""):null};return A==="file"&&(I.mime=m&&typeof m=="string"?m.split(";")[0]:""),e&&(I.props=n),I}function me(n,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{n.multistatus.response[0].propstat&&(r=n.multistatus.response[0])}catch{}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:u,status:i}}=r,[m,y,A]=i.split(" ",3),I=parseInt(y,10);if(I>=400){const M=new Error("Invalid response: ".concat(I," ").concat(A));throw M.status=I,M}return _t(u,l(t),e)}function ve(n){switch(n.toString()){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(n,10)}}function qt(n,t,e){return n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n}const Zt=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=e,u=st({url:c(n.remoteURL,a(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},n,e);return qt(ot(u,n),function(i){return it(n,i),qt(i.text(),function(m){return qt(jt(m),function(y){const A=me(y,t,r);return Nt(i,A,r)})})})});function ye(n,t,e){return n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n}const rn=be(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(i){if(!i||i==="/")return[];let m=i;const y=[];do y.push(m),m=E().dirname(m);while(m&&m!=="/");return y}(l(t));r.sort((i,m)=>i.length>m.length?1:m.length>i.length?-1:0);let u=!1;return function(i,m,y){if(typeof i[xe]=="function"){let D=function(B){try{for(;!(A=W.next()).done;)if((B=m(A.value))&&B.then){if(!Ne(B))return void B.then(D,M||(M=gt.bind(null,I=new Et,2)));B=B.v}I?gt(I,1,B):I=B}catch(H){gt(I||(I=new Et),2,H)}};var A,I,M,W=i[xe]();if(D(),W.return){var Z=function(B){try{A.done||W.return()}catch{}return B};if(I&&I.then)return I.then(Z,function(B){throw Z(B)});Z()}return I}if(!("length"in i))throw new TypeError("Object is not iterable");for(var Q=[],V=0;V<i.length;V++)Q.push(i[V]);return function(D,B,H){var Y,q,X=-1;return function pt(at){try{for(;++X<D.length&&(!H||!H());)if((at=B(X))&&at.then){if(!Ne(at))return void at.then(pt,q||(q=gt.bind(null,Y=new Et,2)));at=at.v}Y?gt(Y,1,at):Y=at}catch(ht){gt(Y||(Y=new Et),2,ht)}}(),Y}(Q,function(D){return m(Q[D])},y)}(r,function(i){return m=function(){return function(A,I){try{var M=ye(Zt(n,i),function(W){if(W.type!=="directory")throw new Error("Path includes a file: ".concat(t))})}catch(W){return I(W)}return M&&M.then?M.then(void 0,I):M}(0,function(A){const I=A;return function(){if(I.status===404)return u=!0,we(Ht(n,i,{...e,recursive:!1}));throw A}()})},(y=function(){if(u)return we(Ht(n,i,{...e,recursive:!1}))}())&&y.then?y.then(m):m();var m,y},function(){return!1})});function be(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}function on(){}function we(n,t){return n&&n.then?n.then(on):Promise.resolve()}const xe=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function gt(n,t,e){if(!n.s){if(e instanceof Et){if(!e.s)return void(e.o=gt.bind(null,n,t));1&t&&(t=e.s),e=e.v}if(e&&e.then)return void e.then(gt.bind(null,n,t),gt.bind(null,n,2));n.s=t,n.v=e;const r=n.o;r&&r(n)}}const Et=function(){function n(){}return n.prototype.then=function(t,e){const r=new n,u=this.s;if(u){const i=1&u?t:e;if(i){try{gt(r,1,i(this.v))}catch(m){gt(r,2,m)}return r}return this}return this.o=function(i){try{const m=i.v;1&i.s?gt(r,1,t?t(m):m):e?gt(r,1,e(m)):gt(r,2,m)}catch(m){gt(r,2,m)}},r},n}();function Ne(n){return n instanceof Et&&1&n.s}const Ht=be(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e.recursive===!0)return rn(n,t,e);const r=st({url:c(n.remoteURL,(u=a(t),u.endsWith("/")?u:u+"/")),method:"MKCOL"},n,e);var u;return ye(ot(r,n),function(i){it(n,i)})});var sn=tt(388),Oe=tt.n(sn);const an=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof e.range=="object"&&typeof e.range.start=="number"){let y="bytes=".concat(e.range.start,"-");typeof e.range.end=="number"&&(y="".concat(y).concat(e.range.end)),r.Range=y}const u=st({url:c(n.remoteURL,a(t)),method:"GET",headers:r},n,e);return m=function(y){if(it(n,y),r.Range&&y.status!==206){const A=new Error("Invalid response code for partial request: ".concat(y.status));throw A.status=y.status,A}return e.callback&&setTimeout(()=>{e.callback(y)},0),y.body},(i=ot(u,n))&&i.then||(i=Promise.resolve(i)),m?i.then(m):i;var i,m}),cn=()=>{},un=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(n,t,e){e.url||(e.url=c(n.remoteURL,a(t)));const r=st(e,n,{});return i=function(m){return it(n,m),m},(u=ot(r,n))&&u.then||(u=Promise.resolve(u)),i?u.then(i):u;var u,i}),ln=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=st({url:c(n.remoteURL,a(t)),method:"DELETE"},n,e);return i=function(m){it(n,m)},(u=ot(r,n))&&u.then||(u=Promise.resolve(u)),i?u.then(i):u;var u,i}),hn=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,u){try{var i=(m=Zt(n,t,e),y=function(){return!0},A?y?y(m):m:(m&&m.then||(m=Promise.resolve(m)),y?m.then(y):m))}catch(I){return u(I)}var m,y,A;return i&&i.then?i.then(void 0,u):i}(0,function(r){if(r.status===404)return!1;throw r})});function Yt(n,t,e){return n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n}const pn=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=st({url:c(n.remoteURL,a(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:e.deep?"infinity":"1"}},n,e);return Yt(ot(r,n),function(u){return it(n,u),Yt(u.text(),function(i){if(!i)throw new Error("Failed parsing directory contents: Empty response");return Yt(jt(i),function(m){const y=s(t);let A=function(I,M,W){let Z=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Q=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const V=E().join(M,"/"),{multistatus:{response:D}}=I,B=D.map(H=>{const Y=function(X){try{return X.replace(/^https?:\/\/[^\/]+/,"")}catch(pt){throw new x(pt,"Failed normalising HREF")}}(H.href),{propstat:{prop:q}}=H;return _t(q,V==="/"?decodeURIComponent(l(Y)):l(E().relative(decodeURIComponent(V),decodeURIComponent(Y))),Z)});return Q?B:B.filter(H=>H.basename&&(H.type==="file"||H.filename!==W.replace(/\/$/,"")))}(m,s(n.remoteBasePath||n.remotePath),y,e.details,e.includeSelf);return e.glob&&(A=function(I,M){return I.filter(W=>Re(W.filename,M,{matchBase:!0}))}(A,e.glob)),Nt(u,A,e.details)})})})});function Xt(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}const fn=Xt(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=st({url:c(n.remoteURL,a(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[mn]},n,e);return Mt(ot(r,n),function(u){return it(n,u),Mt(u.text(),function(i){return Nt(u,i,e.details)})})});function Mt(n,t,e){return n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n}const gn=Xt(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=st({url:c(n.remoteURL,a(t)),method:"GET"},n,e);return Mt(ot(r,n),function(u){let i;return it(n,u),function(m,y){var A=m();return A&&A.then?A.then(y):y()}(function(){return Mt(u.arrayBuffer(),function(m){i=m})},function(){return Nt(u,i,e.details)})})}),dn=Xt(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=e;if(r!=="binary"&&r!=="text")throw new x({info:{code:U.InvalidOutputFormat}},"Invalid output format: ".concat(r));return r==="text"?fn(n,t,e):gn(n,t,e)}),mn=n=>n;function vn(n){return new Vt.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(Pe({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:n}}},"d"))}function Pe(n,t){const e={...n};for(const r in e)e.hasOwnProperty(r)&&(e[r]&&typeof e[r]=="object"&&r.indexOf(":")===-1?(e["".concat(t,":").concat(r)]=Pe(e[r],t),delete e[r]):/^@_/.test(r)===!1&&(e["".concat(t,":").concat(r)]=e[r],delete e[r]));return e}function Qt(n,t,e){return n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n}function Ee(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}const yn=Ee(function(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const u=st({url:c(n.remoteURL,a(t)),method:"UNLOCK",headers:{"Lock-Token":e}},n,r);return Qt(ot(u,n),function(i){if(it(n,i),i.status!==204&&i.status!==200)throw Gt(i)})}),bn=Ee(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:u=wn}=e,i={Accept:"text/plain,application/xml",Timeout:u};r&&(i.If=r);const m=st({url:c(n.remoteURL,a(t)),method:"LOCK",headers:i,data:vn(n.contactHref)},n,e);return Qt(ot(m,n),function(y){return it(n,y),Qt(y.text(),function(A){const I=(Z=A,new Vt.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(Z)),M=xt().get(I,"prop.lockdiscovery.activelock.locktoken.href"),W=xt().get(I,"prop.lockdiscovery.activelock.timeout");var Z;if(!M)throw Gt(y,"No lock token received: ");return{token:M,serverTimeout:W}})})}),wn="Infinite, Second-4100000000";function Kt(n,t,e){return n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n}const xn=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const e=t.path||"/",r=st({url:c(n.remoteURL,e),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},n,t);return Kt(ot(r,n),function(u){return it(n,u),Kt(u.text(),function(i){return Kt(jt(i),function(m){const y=function(A){try{const[I]=A.multistatus.response,{propstat:{prop:{"quota-used-bytes":M,"quota-available-bytes":W}}}=I;return M!==void 0&&W!==void 0?{used:parseInt(M,10),available:ve(W)}:null}catch{}return null}(m);return Nt(u,y,t.details)})})})});function Jt(n,t,e){return n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n}const Nn=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=e,u=st({url:c(n.remoteURL,a(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":n.headers["Content-Type"]||"application/xml; charset=utf-8"}},n,e);return Jt(ot(u,n),function(i){return it(n,i),Jt(i.text(),function(m){return Jt(jt(m),function(y){const A=function(I,M,W){const Z={truncated:!1,results:[]};return Z.truncated=I.multistatus.response.some(Q=>{var V,D;return((V=(Q.status||((D=Q.propstat)===null||D===void 0?void 0:D.status)).split(" ",3))===null||V===void 0?void 0:V[1])==="507"&&Q.href.replace(/\/$/,"").endsWith(a(M).replace(/\/$/,""))}),I.multistatus.response.forEach(Q=>{if(Q.propstat===void 0)return;const V=Q.href.split("/").map(decodeURIComponent).join("/");Z.results.push(_t(Q.propstat.prop,V,W))}),Z}(y,t,r);return Nt(i,A,r)})})})}),On=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const u=st({url:c(n.remoteURL,a(t)),method:"MOVE",headers:{Destination:c(n.remoteURL,a(e)),Overwrite:r.overwrite===!1?"F":"T"}},n,r);return m=function(y){it(n,y)},(i=ot(u,n))&&i.then||(i=Promise.resolve(i)),m?i.then(m):i;var i,m});var Pn=tt(172);const En=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:u=!0,overwrite:i=!0}=r,m={"Content-Type":"application/octet-stream"};u===!1||(m["Content-Length"]="".concat(typeof u=="number"?u:function(M){if(re(M))return M.byteLength;if(oe(M))return M.length;if(typeof M=="string")return(0,Pn.d)(M);throw new x({info:{code:U.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(e))),i||(m["If-None-Match"]="*");const y=st({url:c(n.remoteURL,a(t)),method:"PUT",headers:m,data:e},n,r);return I=function(M){try{it(n,M)}catch(W){const Z=W;if(Z.status!==412||i)throw Z;return!1}return!0},(A=ot(y,n))&&A.then||(A=Promise.resolve(A)),I?A.then(I):A;var A,I}),Ae=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=st({url:c(n.remoteURL,a(t)),method:"OPTIONS"},n,e);return i=function(m){var y,A;try{it(n,m)}catch(I){throw I}return{compliance:((y=m.headers.get("DAV"))!==null&&y!==void 0?y:"").split(",").map(I=>I.trim()),server:(A=m.headers.get("Server"))!==null&&A!==void 0?A:""}},(u=ot(r,n))&&u.then||(u=Promise.resolve(u)),i?u.then(i):u;var u,i});function Tt(n,t,e){return n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n}const An=te(function(n,t,e,r,u){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(e>r||e<0)throw new x({info:{code:U.InvalidUpdateRange}},"Invalid update range ".concat(e," for partial update"));const m={"Content-Type":"application/octet-stream","Content-Length":"".concat(r-e+1),"Content-Range":"bytes ".concat(e,"-").concat(r,"/*")},y=st({url:c(n.remoteURL,a(t)),method:"PUT",headers:m,data:u},n,i);return Tt(ot(y,n),function(A){it(n,A)})});function je(n,t){var e=n();return e&&e.then?e.then(t):t(e)}const jn=te(function(n,t,e,r,u){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(e>r||e<0)throw new x({info:{code:U.InvalidUpdateRange}},"Invalid update range ".concat(e," for partial update"));const m={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":"".concat(r-e+1),"X-Update-Range":"bytes=".concat(e,"-").concat(r)},y=st({url:c(n.remoteURL,a(t)),method:"PATCH",headers:m,data:u},n,i);return Tt(ot(y,n),function(A){it(n,A)})});function te(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(r){return Promise.reject(r)}}}const Tn=te(function(n,t,e,r,u){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return Tt(Ae(n,t,i),function(m){let y=!1;return je(function(){if(m.compliance.includes("sabredav-partialupdate"))return Tt(jn(n,t,e,r,u,i),function(A){return y=!0,A})},function(A){let I=!1;return y?A:je(function(){if(m.server.includes("Apache")&&m.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return Tt(An(n,t,e,r,u,i),function(M){return I=!0,M})},function(M){if(I)return M;throw new x({info:{code:U.NotSupported}},"Not supported")})})})}),Cn="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function Sn(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:e=null,remoteBasePath:r,contactHref:u=Cn,ha1:i,headers:m={},httpAgent:y,httpsAgent:A,password:I,token:M,username:W,withCredentials:Z}=t;let Q=e;Q||(Q=W||I?F.Password:F.None);const V={authType:Q,remoteBasePath:r,contactHref:u,ha1:i,headers:Object.assign({},m),httpAgent:y,httpsAgent:A,password:I,remotePath:o(n),remoteURL:n,token:M,username:W,withCredentials:Z};return S(V,W,I,M,i),{copyFile:(D,B,H)=>en(V,D,B,H),createDirectory:(D,B)=>Ht(V,D,B),createReadStream:(D,B)=>function(H,Y){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const X=new(Oe()).PassThrough;return an(H,Y,q).then(pt=>{pt.pipe(X)}).catch(pt=>{X.emit("error",pt)}),X}(V,D,B),createWriteStream:(D,B,H)=>function(Y,q){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:cn;const at=new(Oe()).PassThrough,ht={};X.overwrite===!1&&(ht["If-None-Match"]="*");const Ct=st({url:c(Y.remoteURL,a(q)),method:"PUT",headers:ht,data:at,maxRedirects:0},Y,X);return ot(Ct,Y).then(nt=>it(Y,nt)).then(nt=>{setTimeout(()=>{pt(nt)},0)}).catch(nt=>{at.emit("error",nt)}),at}(V,D,B,H),customRequest:(D,B)=>un(V,D,B),deleteFile:(D,B)=>ln(V,D,B),exists:(D,B)=>hn(V,D,B),getDirectoryContents:(D,B)=>pn(V,D,B),getFileContents:(D,B)=>dn(V,D,B),getFileDownloadLink:D=>function(B,H){let Y=c(B.remoteURL,a(H));const q=/^https:/i.test(Y)?"https":"http";switch(B.authType){case F.None:break;case F.Password:{const X=f(B.headers.Authorization.replace(/^Basic /i,"").trim());Y=Y.replace(/^https?:\/\//,"".concat(q,"://").concat(X,"@"));break}default:throw new x({info:{code:U.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(B.authType))}return Y}(V,D),getFileUploadLink:D=>function(B,H){let Y="".concat(c(B.remoteURL,a(H)),"?Content-Type=application/octet-stream");const q=/^https:/i.test(Y)?"https":"http";switch(B.authType){case F.None:break;case F.Password:{const X=f(B.headers.Authorization.replace(/^Basic /i,"").trim());Y=Y.replace(/^https?:\/\//,"".concat(q,"://").concat(X,"@"));break}default:throw new x({info:{code:U.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(B.authType))}return Y}(V,D),getHeaders:()=>Object.assign({},V.headers),getQuota:D=>xn(V,D),lock:(D,B)=>bn(V,D,B),moveFile:(D,B,H)=>On(V,D,B,H),putFileContents:(D,B,H)=>En(V,D,B,H),partialUpdateFileContents:(D,B,H,Y,q)=>Tn(V,D,B,H,Y,q),getDAVCompliance:D=>Ae(V,D),search:(D,B)=>Nn(V,D,B),setHeaders:D=>{V.headers=Object.assign({},D)},stat:(D,B)=>Zt(V,D,B),unlock:(D,B,H)=>yn(V,D,B,H)}}})(),vt.hT,vt.O4,vt.Kd,vt.YK;var Rn=vt.UU,_n=vt.Gu;vt.ky;var Mn=vt.h4;vt.ch,vt.hq,vt.i5;export{Rn as c,Mn as h,_n as u};
