/*! third party licenses: dist/vendor.LICENSE.txt */
import{aV as q,cl as j,cm as R,cn as z,co as V,b8 as J,c3 as S,bc as I,a_ as $,F as X,bu as g,bS as E,c2 as Y,aX as G,bp as K}from"../core-common.mjs";import{S as Q}from"./sortable.esm-D5slCXxa.mjs";import{H as T,J as W,n as H}from"./icons-TElqpmA8.mjs";async function we(){const e=[...document.head.querySelectorAll("link.theme")].map(r=>new Promise(t=>{const a=new URL(r.href);a.searchParams.set("v",Date.now());const n=r.cloneNode();n.href=a.toString(),n.onload=()=>{r.remove(),t()},document.head.append(n)}));await Promise.allSettled(e)}q.util.warn;function Z(e,r,t={}){let a;const{document:n=V,...s}=t,i={onUpdate:o=>{ee(r,o.oldIndex,o.newIndex)}},l=()=>{const o=typeof e=="string"?n==null?void 0:n.querySelector(e):z(e);!o||a!==void 0||(a=new Q(o,{...i,...s}))},c=()=>{a==null||a.destroy(),a=void 0},b=(o,d)=>{if(d!==void 0)a==null||a.option(o,d);else return a==null?void 0:a.option(o)};return j(l),R(c),{stop:c,start:l,option:b}}function ee(e,r,t){const a=J(e),n=a?[...S(e)]:S(e);if(t>=0&&t<n.length){const s=n.splice(r,1)[0];I(()=>{n.splice(t,0,s),a&&(e.value=n)})}}const re=$({name:"AppOrderSelectorElement",components:{IconArrowDown:T,IconArrowUp:W,NcButton:X},props:{ariaDescribedby:{type:String,default:null},ariaDetails:{type:String,default:null},app:{type:Object,required:!0},isFirst:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1}},emits:{"move:up":()=>!0,"move:down":()=>!0,"update:focus":()=>!0},setup(e,{emit:r}){const t=g(),a=g();let n=0;return{buttonUp:t,buttonDown:a,moveUp:()=>{r("move:up"),n=1},moveDown:()=>{r("move:down"),n=-1},keepFocus:()=>{n!==0&&((n===1||e.isLast)&&!e.isFirst?I(()=>t.value.$el.focus()):I(()=>a.value.$el.focus())),n=0},t:E}}});var te=function(){var t;var e=this,r=e._self._c;return e._self._setupProxy,r("li",{class:{"order-selector-element":!0,"order-selector-element--disabled":e.app.default},attrs:{"data-cy-app-order-element":e.app.id},on:{focusin:function(a){return e.$emit("update:focus")}}},[r("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",role:"presentation"}},[r("image",{staticClass:"order-selector-element__icon",attrs:{preserveAspectRatio:"xMinYMin meet",x:"0",y:"0",width:"20",height:"20","xlink:href":e.app.icon}})]),r("div",{staticClass:"order-selector-element__label"},[e._v(" "+e._s((t=e.app.label)!=null?t:e.app.id)+" ")]),r("div",{staticClass:"order-selector-element__actions"},[r("NcButton",{directives:[{name:"show",rawName:"v-show",value:!e.isFirst&&!e.app.default,expression:"!isFirst && !app.default"}],ref:"buttonUp",attrs:{"aria-label":e.t("settings","Move up"),"aria-describedby":e.ariaDescribedby,"aria-details":e.ariaDetails,"data-cy-app-order-button":"up",type:"tertiary-no-background"},on:{click:e.moveUp},scopedSlots:e._u([{key:"icon",fn:function(){return[r("IconArrowUp",{attrs:{size:20}})]},proxy:!0}])}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isFirst||!!e.app.default,expression:"isFirst || !!app.default"}],staticClass:"order-selector-element__placeholder",attrs:{"aria-hidden":"true"}}),r("NcButton",{directives:[{name:"show",rawName:"v-show",value:!e.isLast&&!e.app.default,expression:"!isLast && !app.default"}],ref:"buttonDown",attrs:{"aria-label":e.t("settings","Move down"),"aria-describedby":e.ariaDescribedby,"aria-details":e.ariaDetails,"data-cy-app-order-button":"down",type:"tertiary-no-background"},on:{click:e.moveDown},scopedSlots:e._u([{key:"icon",fn:function(){return[r("IconArrowDown",{attrs:{size:20}})]},proxy:!0}])}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isLast||!!e.app.default,expression:"isLast || !!app.default"}],staticClass:"order-selector-element__placeholder",attrs:{"aria-hidden":"true"}})],1)])},ae=[],ne=H(re,te,ae,!1,null,"6782e006");const se=ne.exports,oe=$({name:"AppOrderSelector",components:{AppOrderSelectorElement:se,Fragment:Y},props:{ariaDetails:{type:String,default:null},value:{type:Array,required:!0}},emits:{"update:value":e=>Array.isArray(e)},setup(e,{emit:r}){const t=g(null),a=G({get:()=>e.value,set:o=>{const d=[...o].sort((h,m)=>(m.default?1:0)-(h.default?1:0)||o.indexOf(h)-o.indexOf(m));d.some(({id:h},m)=>h!==e.value[m].id)?r("update:value",d):n.value+=1}}),n=g(0);Z(t,a,{filter:".order-selector-element--disabled"});const s=g([]);K(()=>{s.value.forEach(o=>o.keepFocus())});const i=o=>{var d;const h=o>1?e.value.slice(0,o-1):[];if((d=e.value[o-1])!=null&&d.default)return;const m=[e.value[o-1]];o<e.value.length-1&&m.push(...e.value.slice(o+1)),r("update:value",[...h,e.value[o],...m])},l=o=>{const d=o>0?e.value.slice(0,o):[];d.push(e.value[o+1]);const h=o<e.value.length-2?e.value.slice(o+2):[];r("update:value",[...d,e.value[o],...h])},c=g(""),b="sorting-status-info-".concat((Math.random()+1).toString(36).substring(7));return{appList:a,listElement:t,moveDown:l,moveUp:i,statusInfoId:b,statusInfo:c,updateStatusInfo:o=>{c.value=E("theming","Current selected app: {app}, position {position} of {total}",{app:e.value[o].label,position:o+1,total:e.value.length})},renderCount:n,selectorElements:s}}});var ie=function(){var e=this,r=e._self._c;return e._self._setupProxy,r("Fragment",[r("div",{staticClass:"hidden-visually",attrs:{id:e.statusInfoId,"aria-live":"polite",role:"status"}},[e._v(" "+e._s(e.statusInfo)+" ")]),r("ol",{ref:"listElement",staticClass:"order-selector",attrs:{"data-cy-app-order":""}},e._l(e.appList,function(t,a){return r("AppOrderSelectorElement",e._g({key:"".concat(t.id).concat(e.renderCount),ref:"selectorElements",refInFor:!0,attrs:{app:t,"aria-details":e.ariaDetails,"aria-describedby":e.statusInfoId,"is-first":a===0||!!e.appList[a-1].default,"is-last":a===e.value.length-1}},t.default?{}:{"move:up":()=>e.moveUp(a),"move:down":()=>e.moveDown(a),"update:focus":()=>e.updateStatusInfo(a)}))}),1)])},ue=[],le=H(oe,ie,ue,!1,null,"26b7450a");const xe=le.exports;var pe={grad:.9,turn:360,rad:360/(2*Math.PI)},v=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},u=function(e,r,t){return r===void 0&&(r=0),t===void 0&&(t=Math.pow(10,r)),Math.round(t*e)/t+0},p=function(e,r,t){return r===void 0&&(r=0),t===void 0&&(t=1),e>t?t:e>r?e:r},O=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},D=function(e){return{r:p(e.r,0,255),g:p(e.g,0,255),b:p(e.b,0,255),a:p(e.a)}},x=function(e){return{r:u(e.r),g:u(e.g),b:u(e.b),a:u(e.a,3)}},de=/^#([0-9a-f]{3,8})$/i,w=function(e){var r=e.toString(16);return r.length<2?"0"+r:r},B=function(e){var r=e.r,t=e.g,a=e.b,n=e.a,s=Math.max(r,t,a),i=s-Math.min(r,t,a),l=i?s===r?(t-a)/i:s===t?2+(a-r)/i:4+(r-t)/i:0;return{h:60*(l<0?l+6:l),s:s?i/s*100:0,v:s/255*100,a:n}},P=function(e){var r=e.h,t=e.s,a=e.v,n=e.a;r=r/360*6,t/=100,a/=100;var s=Math.floor(r),i=a*(1-t),l=a*(1-(r-s)*t),c=a*(1-(1-r+s)*t),b=s%6;return{r:255*[a,l,i,i,c,a][b],g:255*[c,a,a,l,i,i][b],b:255*[i,i,c,a,a,l][b],a:n}},A=function(e){return{h:O(e.h),s:p(e.s,0,100),l:p(e.l,0,100),a:p(e.a)}},k=function(e){return{h:u(e.h),s:u(e.s),l:u(e.l),a:u(e.a,3)}},F=function(e){return P((t=(r=e).s,{h:r.h,s:(t*=((a=r.l)<50?a:100-a)/100)>0?2*t/(a+t)*100:0,v:a+t,a:r.a}));var r,t,a},y=function(e){return{h:(r=B(e)).h,s:(n=(200-(t=r.s))*(a=r.v)/100)>0&&n<200?t*a/100/(n<=100?n:200-n)*100:0,l:n/2,a:r.a};var r,t,a,n},ce=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ve=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,he=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,L={string:[[function(e){var r=de.exec(e);return r?(e=r[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?u(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?u(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var r=fe.exec(e)||he.exec(e);return r?r[2]!==r[4]||r[4]!==r[6]?null:D({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:r[7]===void 0?1:Number(r[7])/(r[8]?100:1)}):null},"rgb"],[function(e){var r=ce.exec(e)||ve.exec(e);if(!r)return null;var t,a,n=A({h:(t=r[1],a=r[2],a===void 0&&(a="deg"),Number(t)*(pe[a]||1)),s:Number(r[3]),l:Number(r[4]),a:r[5]===void 0?1:Number(r[5])/(r[6]?100:1)});return F(n)},"hsl"]],object:[[function(e){var r=e.r,t=e.g,a=e.b,n=e.a,s=n===void 0?1:n;return v(r)&&v(t)&&v(a)?D({r:Number(r),g:Number(t),b:Number(a),a:Number(s)}):null},"rgb"],[function(e){var r=e.h,t=e.s,a=e.l,n=e.a,s=n===void 0?1:n;if(!v(r)||!v(t)||!v(a))return null;var i=A({h:Number(r),s:Number(t),l:Number(a),a:Number(s)});return F(i)},"hsl"],[function(e){var r=e.h,t=e.s,a=e.v,n=e.a,s=n===void 0?1:n;if(!v(r)||!v(t)||!v(a))return null;var i=function(l){return{h:O(l.h),s:p(l.s,0,100),v:p(l.v,0,100),a:p(l.a)}}({h:Number(r),s:Number(t),v:Number(a),a:Number(s)});return P(i)},"hsv"]]},M=function(e,r){for(var t=0;t<r.length;t++){var a=r[t][0](e);if(a)return[a,r[t][1]]}return[null,void 0]},be=function(e){return typeof e=="string"?M(e.trim(),L.string):typeof e=="object"&&e!==null?M(e,L.object):[null,void 0]},N=function(e,r){var t=y(e);return{h:t.h,s:p(t.s+100*r,0,100),l:t.l,a:t.a}},_=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},C=function(e,r){var t=y(e);return{h:t.h,s:t.s,l:p(t.l+100*r,0,100),a:t.a}},U=function(){function e(r){this.parsed=be(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return u(_(this.rgba),2)},e.prototype.isDark=function(){return _(this.rgba)<.5},e.prototype.isLight=function(){return _(this.rgba)>=.5},e.prototype.toHex=function(){return r=x(this.rgba),t=r.r,a=r.g,n=r.b,i=(s=r.a)<1?w(u(255*s)):"","#"+w(t)+w(a)+w(n)+i;var r,t,a,n,s,i},e.prototype.toRgb=function(){return x(this.rgba)},e.prototype.toRgbString=function(){return r=x(this.rgba),t=r.r,a=r.g,n=r.b,(s=r.a)<1?"rgba("+t+", "+a+", "+n+", "+s+")":"rgb("+t+", "+a+", "+n+")";var r,t,a,n,s},e.prototype.toHsl=function(){return k(y(this.rgba))},e.prototype.toHslString=function(){return r=k(y(this.rgba)),t=r.h,a=r.s,n=r.l,(s=r.a)<1?"hsla("+t+", "+a+"%, "+n+"%, "+s+")":"hsl("+t+", "+a+"%, "+n+"%)";var r,t,a,n,s},e.prototype.toHsv=function(){return r=B(this.rgba),{h:u(r.h),s:u(r.s),v:u(r.v),a:u(r.a,3)};var r},e.prototype.invert=function(){return f({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},e.prototype.saturate=function(r){return r===void 0&&(r=.1),f(N(this.rgba,r))},e.prototype.desaturate=function(r){return r===void 0&&(r=.1),f(N(this.rgba,-r))},e.prototype.grayscale=function(){return f(N(this.rgba,-1))},e.prototype.lighten=function(r){return r===void 0&&(r=.1),f(C(this.rgba,r))},e.prototype.darken=function(r){return r===void 0&&(r=.1),f(C(this.rgba,-r))},e.prototype.rotate=function(r){return r===void 0&&(r=15),this.hue(this.hue()+r)},e.prototype.alpha=function(r){return typeof r=="number"?f({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):u(this.rgba.a,3);var t},e.prototype.hue=function(r){var t=y(this.rgba);return typeof r=="number"?f({h:r,s:t.s,l:t.l,a:t.a}):u(t.h)},e.prototype.isEqual=function(r){return this.toHex()===f(r).toHex()},e}(),f=function(e){return e instanceof U?e:new U(e)};export{xe as A,we as r,f as w};
