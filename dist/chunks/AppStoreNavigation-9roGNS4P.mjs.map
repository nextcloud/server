{"version":3,"file":"AppStoreNavigation-9roGNS4P.mjs","sources":["../../apps/settings/src/views/AppStoreNavigation.vue"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<!-- Categories & filters -->\n\t<NcAppNavigation :aria-label=\"t('settings', 'Apps')\">\n\t\t<template #list>\n\t\t\t<NcAppNavigationItem id=\"app-category-discover\"\n\t\t\t\t:to=\"{ name: 'apps-category', params: { category: 'discover'} }\"\n\t\t\t\t:name=\"APPS_SECTION_ENUM.discover\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<NcIconSvgWrapper :path=\"APPSTORE_CATEGORY_ICONS.discover\" />\n\t\t\t\t</template>\n\t\t\t</NcAppNavigationItem>\n\t\t\t<NcAppNavigationItem id=\"app-category-installed\"\n\t\t\t\t:to=\"{ name: 'apps-category', params: { category: 'installed'} }\"\n\t\t\t\t:name=\"APPS_SECTION_ENUM.installed\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<NcIconSvgWrapper :path=\"APPSTORE_CATEGORY_ICONS.installed\" />\n\t\t\t\t</template>\n\t\t\t</NcAppNavigationItem>\n\t\t\t<NcAppNavigationItem id=\"app-category-enabled\"\n\t\t\t\t:to=\"{ name: 'apps-category', params: { category: 'enabled' } }\"\n\t\t\t\t:name=\"APPS_SECTION_ENUM.enabled\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<NcIconSvgWrapper :path=\"APPSTORE_CATEGORY_ICONS.enabled\" />\n\t\t\t\t</template>\n\t\t\t</NcAppNavigationItem>\n\t\t\t<NcAppNavigationItem id=\"app-category-disabled\"\n\t\t\t\t:to=\"{ name: 'apps-category', params: { category: 'disabled' } }\"\n\t\t\t\t:name=\"APPS_SECTION_ENUM.disabled\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<NcIconSvgWrapper :path=\"APPSTORE_CATEGORY_ICONS.disabled\" />\n\t\t\t\t</template>\n\t\t\t</NcAppNavigationItem>\n\t\t\t<NcAppNavigationItem v-if=\"updateCount > 0\"\n\t\t\t\tid=\"app-category-updates\"\n\t\t\t\t:to=\"{ name: 'apps-category', params: { category: 'updates' } }\"\n\t\t\t\t:name=\"APPS_SECTION_ENUM.updates\">\n\t\t\t\t<template #counter>\n\t\t\t\t\t<NcCounterBubble>{{ updateCount }}</NcCounterBubble>\n\t\t\t\t</template>\n\t\t\t\t<template #icon>\n\t\t\t\t\t<NcIconSvgWrapper :path=\"APPSTORE_CATEGORY_ICONS.updates\" />\n\t\t\t\t</template>\n\t\t\t</NcAppNavigationItem>\n\t\t\t<NcAppNavigationItem id=\"app-category-your-bundles\"\n\t\t\t\t:to=\"{ name: 'apps-category', params: { category: 'app-bundles' } }\"\n\t\t\t\t:name=\"APPS_SECTION_ENUM['app-bundles']\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<NcIconSvgWrapper :path=\"APPSTORE_CATEGORY_ICONS.bundles\" />\n\t\t\t\t</template>\n\t\t\t</NcAppNavigationItem>\n\n\t\t\t<NcAppNavigationSpacer />\n\n\t\t\t<!-- App store categories -->\n\t\t\t<li v-if=\"appstoreEnabled && categoriesLoading\" class=\"categories--loading\">\n\t\t\t\t<NcLoadingIcon :size=\"20\" :aria-label=\"t('settings', 'Loading categories')\" />\n\t\t\t</li>\n\t\t\t<template v-else-if=\"appstoreEnabled && !categoriesLoading\">\n\t\t\t\t<NcAppNavigationItem v-if=\"isSubscribed\"\n\t\t\t\t\tid=\"app-category-supported\"\n\t\t\t\t\t:to=\"{ name: 'apps-category', params: { category: 'supported' } }\"\n\t\t\t\t\t:name=\"APPS_SECTION_ENUM.supported\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<NcIconSvgWrapper :path=\"APPSTORE_CATEGORY_ICONS.supported\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t\t<NcAppNavigationItem id=\"app-category-featured\"\n\t\t\t\t\t:to=\"{ name: 'apps-category', params: { category: 'featured' } }\"\n\t\t\t\t\t:name=\"APPS_SECTION_ENUM.featured\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<NcIconSvgWrapper :path=\"APPSTORE_CATEGORY_ICONS.featured\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\n\t\t\t\t<NcAppNavigationItem v-for=\"category in categories\"\n\t\t\t\t\t:id=\"`app-category-${category.id}`\"\n\t\t\t\t\t:key=\"category.id\"\n\t\t\t\t\t:name=\"category.displayName\"\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'apps-category',\n\t\t\t\t\t\tparams: { category: category.id },\n\t\t\t\t\t}\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<NcIconSvgWrapper :path=\"category.icon\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcAppNavigationItem>\n\t\t\t</template>\n\n\t\t\t<NcAppNavigationItem id=\"app-developer-docs\"\n\t\t\t\t:name=\"t('settings', 'Developer documentation â†—')\"\n\t\t\t\t:href=\"developerDocsUrl\" />\n\t\t</template>\n\t</NcAppNavigation>\n</template>\n\n<script setup lang=\"ts\">\nimport { loadState } from '@nextcloud/initial-state'\nimport { translate as t } from '@nextcloud/l10n'\nimport { computed, onBeforeMount } from 'vue'\nimport { APPS_SECTION_ENUM } from '../constants/AppsConstants'\nimport { useAppsStore } from '../store/apps-store'\n\nimport NcAppNavigation from '@nextcloud/vue/dist/Components/NcAppNavigation.js'\nimport NcAppNavigationItem from '@nextcloud/vue/dist/Components/NcAppNavigationItem.js'\nimport NcAppNavigationSpacer from '@nextcloud/vue/dist/Components/NcAppNavigationSpacer.js'\nimport NcCounterBubble from '@nextcloud/vue/dist/Components/NcCounterBubble.js'\nimport NcIconSvgWrapper from '@nextcloud/vue/dist/Components/NcIconSvgWrapper.js'\nimport NcLoadingIcon from '@nextcloud/vue/dist/Components/NcLoadingIcon.js'\n\nimport APPSTORE_CATEGORY_ICONS from '../constants/AppstoreCategoryIcons.ts'\n\nconst updateCount = loadState<number>('settings', 'appstoreUpdateCount', 0)\nconst appstoreEnabled = loadState<boolean>('settings', 'appstoreEnabled', true)\nconst developerDocsUrl = loadState<string>('settings', 'appstoreDeveloperDocs', '')\n\nconst store = useAppsStore()\nconst categories = computed(() => store.categories)\nconst categoriesLoading = computed(() => store.loading.categories)\n\n/**\n * Check if the current instance has a support subscription from the Nextcloud GmbH\n *\n * For customers of the Nextcloud GmbH the app level will be set to `300` for apps that are supported in their subscription\n */\nconst isSubscribed = computed(() => store.apps.find(({ level }) => level === 300) !== undefined)\n\n// load categories when component is mounted\nonBeforeMount(() => {\n\tstore.loadCategories()\n\tstore.loadApps()\n})\n</script>\n\n<style scoped>\n/* The categories-loading indicator */\n.categories--loading {\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n</style>\n"],"names":["updateCount","loadState","appstoreEnabled","developerDocsUrl","store","useAppsStore","categories","computed","categoriesLoading","isSubscribed","level","onBeforeMount"],"mappings":";geAmHA,MAAMA,EAAcC,EAAkB,WAAY,sBAAuB,CAAC,EACpEC,EAAkBD,EAAmB,WAAY,kBAAmB,EAAI,EACxEE,EAAmBF,EAAkB,WAAY,wBAAyB,EAAE,EAE5EG,EAAQC,IACRC,EAAaC,EAAS,IAAMH,EAAM,UAAU,EAC5CI,EAAoBD,EAAS,IAAMH,EAAM,QAAQ,UAAU,EAO3DK,EAAeF,EAAS,IAAMH,EAAM,KAAK,KAAK,CAAC,CAAE,MAAAM,CAAM,IAAMA,IAAU,GAAG,IAAM,MAAS,EAG/F,OAAAC,EAAc,IAAM,CACnBP,EAAM,eAAe,EACrBA,EAAM,SAAS,CAAA,CACf"}