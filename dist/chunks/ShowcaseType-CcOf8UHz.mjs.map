{"version":3,"file":"ShowcaseType-CcOf8UHz.mjs","sources":["../../apps/settings/src/components/AppStoreDiscover/AppType.vue","../../apps/settings/src/components/AppStoreDiscover/ShowcaseType.vue"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<AppItem v-if=\"app\"\n\t\t:app=\"app\"\n\t\tcategory=\"discover\"\n\t\tclass=\"app-discover-app\"\n\t\tinline\n\t\t:list-view=\"false\" />\n\t<a v-else\n\t\tclass=\"app-discover-app app-discover-app__skeleton\"\n\t\t:href=\"appStoreLink\"\n\t\ttarget=\"_blank\"\n\t\t:title=\"modelValue.appId\"\n\t\trel=\"noopener noreferrer\">\n\t\t<!-- This is a fallback skeleton -->\n\t\t<span class=\"skeleton-element\" />\n\t\t<span class=\"skeleton-element\" />\n\t\t<span class=\"skeleton-element\" />\n\t\t<span class=\"skeleton-element\" />\n\t\t<span class=\"skeleton-element\" />\n\t</a>\n</template>\n\n<script setup lang=\"ts\">\nimport type { IAppDiscoverApp } from '../../constants/AppDiscoverTypes'\n\nimport { computed } from 'vue'\nimport { useAppsStore } from '../../store/apps-store.ts'\n\nimport AppItem from '../AppList/AppItem.vue'\n\nconst props = defineProps<{\n\tmodelValue: IAppDiscoverApp\n}>()\n\nconst store = useAppsStore()\nconst app = computed(() => store.getAppById(props.modelValue.appId))\n\nconst appStoreLink = computed(() => props.modelValue.appId ? `https://apps.nextcloud.com/apps/${props.modelValue.appId}` : '#')\n</script>\n\n<style scoped lang=\"scss\">\n.app-discover-app {\n\twidth: 100% !important; // full with of the showcase item\n\n\t&:hover {\n\t\tbackground: var(--color-background-hover);\n\t\tborder-radius: var(--border-radius-rounded);\n\t}\n\n\t&__skeleton {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 8px;\n\n\t\tpadding: 30px; // Same as AppItem\n\n\t\t> :first-child {\n\t\t\theight: 50%;\n\t\t\tmin-height: 130px;\n\t\t}\n\n\t\t> :nth-child(2) {\n\t\t\twidth: 50px;\n\t\t}\n\n\t\t> :nth-child(5) {\n\t\t\theight: 20px;\n\t\t\twidth: 100px;\n\t\t}\n\n\t\t> :not(:first-child) {\n\t\t\tborder-radius: 4px;\n\t\t}\n\t}\n}\n\n.skeleton-element {\n\tmin-height: var(--default-font-size, 15px);\n\n\tbackground: linear-gradient(90deg, var(--color-background-dark), var(--color-background-darker), var(--color-background-dark));\n\tbackground-size: 400% 400%;\n\tanimation: gradient 6s ease infinite;\n}\n\n@keyframes gradient {\n\t0% {\n\t\tbackground-position: 0% 50%;\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%;\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%;\n\t}\n}\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<section ref=\"container\"\n\t\tclass=\"app-discover-showcase\"\n\t\t:class=\"{\n\t\t\t'app-discover-showcase--small': isSmallWidth,\n\t\t\t'app-discover-showcase--extra-small': isExtraSmallWidth,\n\t\t}\">\n\t\t<h3 v-if=\"translatedHeadline\">\n\t\t\t{{ translatedHeadline }}\n\t\t</h3>\n\t\t<ul class=\"app-discover-showcase__list\">\n\t\t\t<li v-for=\"(item, index) of content\"\n\t\t\t\t:key=\"item.id ?? index\"\n\t\t\t\tclass=\"app-discover-showcase__item\">\n\t\t\t\t<PostType v-if=\"item.type === 'post'\"\n\t\t\t\t\tv-bind=\"item\"\n\t\t\t\t\tinline />\n\t\t\t\t<AppType v-else-if=\"item.type === 'app'\" :model-value=\"item\" />\n\t\t\t</li>\n\t\t</ul>\n\t</section>\n</template>\n\n<script lang=\"ts\">\nimport type { PropType } from 'vue'\nimport type { IAppDiscoverShowcase } from '../../constants/AppDiscoverTypes.ts'\n\nimport { translate as t } from '@nextcloud/l10n'\nimport { useElementSize } from '@vueuse/core'\nimport { computed, defineComponent, ref } from 'vue'\nimport { commonAppDiscoverProps } from './common.ts'\nimport { useLocalizedValue } from '../../composables/useGetLocalizedValue.ts'\n\nimport AppType from './AppType.vue'\nimport PostType from './PostType.vue'\n\nexport default defineComponent({\n\tname: 'ShowcaseType',\n\n\tcomponents: {\n\t\tAppType,\n\t\tPostType,\n\t},\n\n\tprops: {\n\t\t...commonAppDiscoverProps,\n\n\t\t/**\n\t\t * The content of the carousel\n\t\t */\n\t\tcontent: {\n\t\t\ttype: Array as PropType<IAppDiscoverShowcase['content']>,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tsetup(props) {\n\t\tconst translatedHeadline = useLocalizedValue(computed(() => props.headline))\n\n\t\t/**\n\t\t * Make the element responsive based on the container width to also handle open navigation or sidebar\n\t\t */\n\t\tconst container = ref<HTMLElement>()\n\t\tconst { width: containerWidth } = useElementSize(container)\n\t\tconst isSmallWidth = computed(() => containerWidth.value < 768)\n\t\tconst isExtraSmallWidth = computed(() => containerWidth.value < 512)\n\n\t\treturn {\n\t\t\tt,\n\n\t\t\tcontainer,\n\t\t\tisSmallWidth,\n\t\t\tisExtraSmallWidth,\n\t\t\ttranslatedHeadline,\n\t\t}\n\t},\n})\n</script>\n\n<style scoped lang=\"scss\">\n$item-gap: calc(var(--default-clickable-area, 44px) / 2);\n\nh3 {\n\tfont-size: 24px;\n\tfont-weight: 600;\n\tmargin-block: 0 1em;\n}\n\n.app-discover-showcase {\n\t&__list {\n\t\tlist-style: none;\n\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: $item-gap;\n\t}\n\n\t&__item {\n\t\tdisplay: flex;\n\t\talign-items: stretch;\n\n\t\tposition: relative;\n\t\twidth: calc(33% - $item-gap);\n\t}\n}\n\n.app-discover-showcase--small {\n\t.app-discover-showcase__item {\n\t\twidth: calc(50% - $item-gap);\n\t}\n}\n\n.app-discover-showcase--extra-small {\n\t.app-discover-showcase__item {\n\t\twidth: 100%;\n\t}\n}\n</style>\n"],"names":["store","useAppsStore","app","computed","props","appStoreLink","_sfc_main","defineComponent","AppType","PostType","commonAppDiscoverProps","translatedHeadline","useLocalizedValue","container","ref","containerWidth","useElementSize","isSmallWidth","isExtraSmallWidth","t"],"mappings":";yvBAsCMA,EAAQC,IACRC,EAAMC,EAAS,IAAMH,EAAM,WAAWI,EAAM,WAAW,KAAK,CAAC,EAE7DC,EAAeF,EAAS,IAAMC,EAAM,WAAW,MAAQ,mCAAmC,OAAAA,EAAM,WAAW,KAAA,EAAU,GAAG,+qBCD9HE,EAAAC,EAAA,CACA,KAAA,eAEA,WAAA,CACA,QAAAC,EACA,SAAAC,CACA,EAEA,MAAA,CACA,GAAAC,EAKA,QAAA,CACA,KAAA,MACA,SAAA,EACA,CACA,EAEA,MAAAN,EAAA,CACA,MAAAO,EAAAC,EAAAT,EAAA,IAAAC,EAAA,QAAA,CAAA,EAKAS,EAAAC,IACA,CAAA,MAAAC,CAAA,EAAAC,EAAAH,CAAA,EACAI,EAAAd,EAAA,IAAAY,EAAA,MAAA,GAAA,EACAG,EAAAf,EAAA,IAAAY,EAAA,MAAA,GAAA,EAEA,MAAA,CAAA,EACAI,EAEA,UAAAN,EACA,aAAAI,EACA,kBAAAC,EACA,mBAAAP,CAAA,CAEA,CACA,CAAA"}