/*! third party licenses: dist/vendor.LICENSE.txt */
import{bU as m,bV as A}from"../core-common.mjs";function f(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function v(t,e){for(var n="",o=0,a=-1,r=0,h,i=0;i<=t.length;++i){if(i<t.length)h=t.charCodeAt(i);else{if(h===47)break;h=47}if(h===47){if(!(a===i-1||r===1))if(a!==i-1&&r===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",o=0):(n=n.slice(0,l),o=n.length-1-n.lastIndexOf("/")),a=i,r=0;continue}}else if(n.length===2||n.length===1){n="",o=0,a=i,r=0;continue}}e&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+t.slice(a+1,i):n=t.slice(a+1,i),o=i-a-1;a=i,r=0}else h===46&&r!==-1?++r:r=-1}return n}function C(t,e){var n=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+o:n+t+o:o}var s={resolve:function(){for(var t="",e=!1,n,o=arguments.length-1;o>=-1&&!e;o--){var a;o>=0?a=arguments[o]:(n===void 0&&(n=m.cwd()),a=n),f(a),a.length!==0&&(t=a+"/"+t,e=a.charCodeAt(0)===47)}return t=v(t,!e),e?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(f(t),t.length===0)return".";var e=t.charCodeAt(0)===47,n=t.charCodeAt(t.length-1)===47;return t=v(t,!e),t.length===0&&!e&&(t="."),t.length>0&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return f(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];f(n),n.length>0&&(t===void 0?t=n:t+="/"+n)}return t===void 0?".":s.normalize(t)},relative:function(t,e){if(f(t),f(e),t===e||(t=s.resolve(t),e=s.resolve(e),t===e))return"";for(var n=1;n<t.length&&t.charCodeAt(n)===47;++n);for(var o=t.length,a=o-n,r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var h=e.length,i=h-r,l=a<i?a:i,g=-1,c=0;c<=l;++c){if(c===l){if(i>l){if(e.charCodeAt(r+c)===47)return e.slice(r+c+1);if(c===0)return e.slice(r+c)}else a>l&&(t.charCodeAt(n+c)===47?g=c:c===0&&(g=0));break}var d=t.charCodeAt(n+c),b=e.charCodeAt(r+c);if(d!==b)break;d===47&&(g=c)}var u="";for(c=n+g+1;c<=o;++c)(c===o||t.charCodeAt(c)===47)&&(u.length===0?u+="..":u+="/..");return u.length>0?u+e.slice(r+g):(r+=g,e.charCodeAt(r)===47&&++r,e.slice(r))},_makeLong:function(t){return t},dirname:function(t){if(f(t),t.length===0)return".";for(var e=t.charCodeAt(0),n=e===47,o=-1,a=!0,r=t.length-1;r>=1;--r)if(e=t.charCodeAt(r),e===47){if(!a){o=r;break}}else a=!1;return o===-1?n?"/":".":n&&o===1?"//":t.slice(0,o)},basename:function(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');f(t);var n=0,o=-1,a=!0,r;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var h=e.length-1,i=-1;for(r=t.length-1;r>=0;--r){var l=t.charCodeAt(r);if(l===47){if(!a){n=r+1;break}}else i===-1&&(a=!1,i=r+1),h>=0&&(l===e.charCodeAt(h)?--h===-1&&(o=r):(h=-1,o=i))}return n===o?o=i:o===-1&&(o=t.length),t.slice(n,o)}else{for(r=t.length-1;r>=0;--r)if(t.charCodeAt(r)===47){if(!a){n=r+1;break}}else o===-1&&(a=!1,o=r+1);return o===-1?"":t.slice(n,o)}},extname:function(t){f(t);for(var e=-1,n=0,o=-1,a=!0,r=0,h=t.length-1;h>=0;--h){var i=t.charCodeAt(h);if(i===47){if(!a){n=h+1;break}continue}o===-1&&(a=!1,o=h+1),i===46?e===-1?e=h:r!==1&&(r=1):e!==-1&&(r=-1)}return e===-1||o===-1||r===0||r===1&&e===o-1&&e===n+1?"":t.slice(e,o)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return C("/",t)},parse:function(t){f(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;var n=t.charCodeAt(0),o=n===47,a;o?(e.root="/",a=1):a=0;for(var r=-1,h=0,i=-1,l=!0,g=t.length-1,c=0;g>=a;--g){if(n=t.charCodeAt(g),n===47){if(!l){h=g+1;break}continue}i===-1&&(l=!1,i=g+1),n===46?r===-1?r=g:c!==1&&(c=1):r!==-1&&(c=-1)}return r===-1||i===-1||c===0||c===1&&r===i-1&&r===h+1?i!==-1&&(h===0&&o?e.base=e.name=t.slice(1,i):e.base=e.name=t.slice(h,i)):(h===0&&o?(e.name=t.slice(1,r),e.base=t.slice(1,i)):(e.name=t.slice(h,r),e.base=t.slice(h,i)),e.ext=t.slice(r,i)),h>0?e.dir=t.slice(0,h-1):o&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s;var p=s;const y=A(p);export{y as a,p};
