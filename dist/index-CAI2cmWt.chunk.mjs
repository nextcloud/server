import{al as Te,am as Ie,an as Ct,X as Pe}from"./TrashCanOutline-DKvv_nn_.chunk.mjs";import{g as Ue}from"./ContentCopy-DXaCAmGe.chunk.mjs";function re(o){return o&&o.split("/").map(encodeURIComponent).join("/")}function pr(o){return o.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function dr(...o){return xe(...o)}function xe(...o){if(arguments.length<1)return"";const s=o.filter(E=>E.length>0);if(s.length<1)return"";const y=s[s.length-1],N=s[0].charAt(0)==="/",f=y.charAt(y.length-1)==="/",b=s.reduce((E,d)=>E.concat(d.split("/")),[]);let T=!N;const v=b.reduce((E,d)=>d===""?E:T?(T=!1,E+d):E+"/"+d,"");return f?v+"/":v}var Bt,ne;function $e(){if(ne)return Bt;ne=1;function o(f){if(typeof f!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(f))}function s(f,b){for(var T="",v=0,E=-1,d=0,p,O=0;O<=f.length;++O){if(O<f.length)p=f.charCodeAt(O);else{if(p===47)break;p=47}if(p===47){if(!(E===O-1||d===1))if(E!==O-1&&d===2){if(T.length<2||v!==2||T.charCodeAt(T.length-1)!==46||T.charCodeAt(T.length-2)!==46){if(T.length>2){var C=T.lastIndexOf("/");if(C!==T.length-1){C===-1?(T="",v=0):(T=T.slice(0,C),v=T.length-1-T.lastIndexOf("/")),E=O,d=0;continue}}else if(T.length===2||T.length===1){T="",v=0,E=O,d=0;continue}}b&&(T.length>0?T+="/..":T="..",v=2)}else T.length>0?T+="/"+f.slice(E+1,O):T=f.slice(E+1,O),v=O-E-1;E=O,d=0}else p===46&&d!==-1?++d:d=-1}return T}function y(f,b){var T=b.dir||b.root,v=b.base||(b.name||"")+(b.ext||"");return T?T===b.root?T+v:T+f+v:v}var N={resolve:function(){for(var f="",b=!1,T,v=arguments.length-1;v>=-1&&!b;v--){var E;v>=0?E=arguments[v]:(T===void 0&&(T=Te.cwd()),E=T),o(E),E.length!==0&&(f=E+"/"+f,b=E.charCodeAt(0)===47)}return f=s(f,!b),b?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(f){if(o(f),f.length===0)return".";var b=f.charCodeAt(0)===47,T=f.charCodeAt(f.length-1)===47;return f=s(f,!b),f.length===0&&!b&&(f="."),f.length>0&&T&&(f+="/"),b?"/"+f:f},isAbsolute:function(f){return o(f),f.length>0&&f.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var f,b=0;b<arguments.length;++b){var T=arguments[b];o(T),T.length>0&&(f===void 0?f=T:f+="/"+T)}return f===void 0?".":N.normalize(f)},relative:function(f,b){if(o(f),o(b),f===b||(f=N.resolve(f),b=N.resolve(b),f===b))return"";for(var T=1;T<f.length&&f.charCodeAt(T)===47;++T);for(var v=f.length,E=v-T,d=1;d<b.length&&b.charCodeAt(d)===47;++d);for(var p=b.length,O=p-d,C=E<O?E:O,F=-1,P=0;P<=C;++P){if(P===C){if(O>C){if(b.charCodeAt(d+P)===47)return b.slice(d+P+1);if(P===0)return b.slice(d+P)}else E>C&&(f.charCodeAt(T+P)===47?F=P:P===0&&(F=0));break}var S=f.charCodeAt(T+P),z=b.charCodeAt(d+P);if(S!==z)break;S===47&&(F=P)}var g="";for(P=T+F+1;P<=v;++P)(P===v||f.charCodeAt(P)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+b.slice(d+F):(d+=F,b.charCodeAt(d)===47&&++d,b.slice(d))},_makeLong:function(f){return f},dirname:function(f){if(o(f),f.length===0)return".";for(var b=f.charCodeAt(0),T=b===47,v=-1,E=!0,d=f.length-1;d>=1;--d)if(b=f.charCodeAt(d),b===47){if(!E){v=d;break}}else E=!1;return v===-1?T?"/":".":T&&v===1?"//":f.slice(0,v)},basename:function(f,b){if(b!==void 0&&typeof b!="string")throw new TypeError('"ext" argument must be a string');o(f);var T=0,v=-1,E=!0,d;if(b!==void 0&&b.length>0&&b.length<=f.length){if(b.length===f.length&&b===f)return"";var p=b.length-1,O=-1;for(d=f.length-1;d>=0;--d){var C=f.charCodeAt(d);if(C===47){if(!E){T=d+1;break}}else O===-1&&(E=!1,O=d+1),p>=0&&(C===b.charCodeAt(p)?--p===-1&&(v=d):(p=-1,v=O))}return T===v?v=O:v===-1&&(v=f.length),f.slice(T,v)}else{for(d=f.length-1;d>=0;--d)if(f.charCodeAt(d)===47){if(!E){T=d+1;break}}else v===-1&&(E=!1,v=d+1);return v===-1?"":f.slice(T,v)}},extname:function(f){o(f);for(var b=-1,T=0,v=-1,E=!0,d=0,p=f.length-1;p>=0;--p){var O=f.charCodeAt(p);if(O===47){if(!E){T=p+1;break}continue}v===-1&&(E=!1,v=p+1),O===46?b===-1?b=p:d!==1&&(d=1):b!==-1&&(d=-1)}return b===-1||v===-1||d===0||d===1&&b===v-1&&b===T+1?"":f.slice(b,v)},format:function(f){if(f===null||typeof f!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return y("/",f)},parse:function(f){o(f);var b={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return b;var T=f.charCodeAt(0),v=T===47,E;v?(b.root="/",E=1):E=0;for(var d=-1,p=0,O=-1,C=!0,F=f.length-1,P=0;F>=E;--F){if(T=f.charCodeAt(F),T===47){if(!C){p=F+1;break}continue}O===-1&&(C=!1,O=F+1),T===46?d===-1?d=F:P!==1&&(P=1):d!==-1&&(P=-1)}return d===-1||O===-1||P===0||P===1&&d===O-1&&d===p+1?O!==-1&&(p===0&&v?b.base=b.name=f.slice(1,O):b.base=b.name=f.slice(p,O)):(p===0&&v?(b.name=f.slice(1,d),b.base=f.slice(1,O)):(b.name=f.slice(p,d),b.base=f.slice(p,O)),b.ext=f.slice(d,O)),p>0?b.dir=f.slice(0,p-1):v&&(b.dir="/"),b},sep:"/",delimiter:":",win32:null,posix:null};return N.posix=N,Bt=N,Bt}var Et=$e();const Er=Ie(Et),At=Ue().setApp("@nextcloud/files").detectUser().build();var Ht=(o=>(o.Folder="folder",o.File="file",o))(Ht||{}),It=(o=>(o[o.NONE=0]="NONE",o[o.CREATE=4]="CREATE",o[o.READ=1]="READ",o[o.UPDATE=2]="UPDATE",o[o.DELETE=8]="DELETE",o[o.SHARE=16]="SHARE",o[o.ALL=31]="ALL",o))(It||{});const be=function(o,s){return o.match(s)!==null};function lt(o,s){if(o.id&&typeof o.id!="number")throw new Error("Invalid id type of value");if(!o.source)throw new Error("Missing mandatory source");try{new URL(o.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!o.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(!o.root)throw new Error("Missing mandatory root");if(typeof o.root!="string")throw new Error("Invalid root type");if(!o.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(!o.source.includes(o.root))throw new Error("Root must be part of the source");if(be(o.source,s)){const y=o.source.match(s)[0];if(!o.source.includes(Et.join(y,o.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(o.displayname&&typeof o.displayname!="string")throw new Error("Invalid displayname type");if(o.mtime&&!(o.mtime instanceof Date))throw new Error("Invalid mtime type");if(o.crtime&&!(o.crtime instanceof Date))throw new Error("Invalid crtime type");if(!o.mime||typeof o.mime!="string"||!o.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in o&&typeof o.size!="number"&&o.size!==void 0)throw new Error("Invalid size type");if("permissions"in o&&o.permissions!==void 0&&!(typeof o.permissions=="number"&&o.permissions>=It.NONE&&o.permissions<=It.ALL))throw new Error("Invalid permissions");if(o.owner&&o.owner!==null&&typeof o.owner!="string")throw new Error("Invalid owner type");if(o.attributes&&typeof o.attributes!="object")throw new Error("Invalid attributes type");if(o.status&&!Object.values(ve).includes(o.status))throw new Error("Status must be a valid NodeStatus")}const Me=o=>{o.mtime&&typeof o.mtime=="string"&&!isNaN(Date.parse(o.mtime))&&JSON.stringify(new Date(o.mtime))===JSON.stringify(o.mtime)&&(o.mtime=new Date(o.mtime)),o.crtime&&typeof o.crtime=="string"&&!isNaN(Date.parse(o.crtime))&&JSON.stringify(new Date(o.crtime))===JSON.stringify(o.crtime)&&(o.crtime=new Date(o.crtime))},Ge=o=>{if(o instanceof RegExp)return o;const s=o.match(/(\/?)(.+)\1([a-z]*)/i);if(!s)throw new Error("Invalid regular expression format.");const y=Array.from(new Set(s[3])).filter(N=>"gimsuy".includes(N)).join("");return new RegExp(s[2],y)};var ve=(o=>(o.NEW="new",o.FAILED="failed",o.LOADING="loading",o.LOCKED="locked",o))(ve||{});class _t{_attributes;_data;_knownDavService=/(remote|public)\.php\/(web)?dav/i;readonlyAttributes=Object.entries(Object.getOwnPropertyDescriptors(_t.prototype)).filter(s=>typeof s[1].get=="function"&&s[0]!=="__proto__").map(s=>s[0]);handler={set:(s,y,N)=>this.readonlyAttributes.includes(y)?!1:Reflect.set(s,y,N),deleteProperty:(s,y)=>this.readonlyAttributes.includes(y)?!1:Reflect.deleteProperty(s,y)};constructor(...[s,y]){s.mime||(s.mime="application/octet-stream"),Me(s),y=Ge(y||this._knownDavService),lt(s,y),this._data={...s,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update(s.attributes??{}),y&&(this._knownDavService=y)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:s}=new URL(this.source);return s+re(this.source.slice(s.length))}get basename(){return Et.basename(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(s){lt({...this._data,displayname:s},this._knownDavService),this._data.displayname=s}get extension(){return Et.extname(this.source)}get dirname(){return Et.dirname(this.path)}get mime(){return this._data.mime||"application/octet-stream"}set mime(s){s??="application/octet-stream",lt({...this._data,mime:s},this._knownDavService),this._data.mime=s}get mtime(){return this._data.mtime}set mtime(s){lt({...this._data,mtime:s},this._knownDavService),this._data.mtime=s}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(s){lt({...this._data,size:s},this._knownDavService),this.updateMtime(),this._data.size=s}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavResource?It.READ:this._data.permissions!==void 0?this._data.permissions:It.NONE}set permissions(s){lt({...this._data,permissions:s},this._knownDavService),this.updateMtime(),this._data.permissions=s}get owner(){return this.isDavResource?this._data.owner:null}get isDavResource(){return be(this.source,this._knownDavService)}get root(){return this._data.root.replace(/^(.+)\/$/,"$1")}get path(){const s=this.source.indexOf("://"),y=this.source.slice(0,s),N=this.source.slice(s+3),f=N.indexOf("/"),b=N.slice(0,f),T=N.slice(f),v=`${y}://${b}${re(T)}`,E=new URL(v);let d=decodeURIComponent(E.pathname);this.isDavResource&&(d=d.split(this._knownDavService).pop());const p=d.indexOf(this.root),O=this.root.replace(/\/$/,"");return d.slice(p+O.length)||"/"}get fileid(){return this._data?.id}get status(){return this._data?.status}set status(s){lt({...this._data,status:s},this._knownDavService),this._data.status=s}move(s){lt({...this._data,source:s},this._knownDavService);const y=this.basename;this._data.source=s,this.displayname===y&&this.basename!==y&&(this.displayname=this.basename)}rename(s){if(s.includes("/"))throw new Error("Invalid basename");this.move(Et.dirname(this.source)+"/"+s)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(s){for(const[y,N]of Object.entries(s))try{N===void 0?delete this.attributes[y]:this.attributes[y]=N}catch(f){if(f instanceof TypeError)continue;throw f}}clone(){return new this.constructor(structuredClone(this._data),this._knownDavService)}toJSON(){return JSON.stringify([structuredClone(this._data),this._knownDavService.toString()])}}class gr extends _t{constructor(...[s,y]){super(s,y)}get type(){return Ht.File}}class mr extends _t{constructor(...[s,y]){super({...s,mime:"httpd/unix-directory"},y)}get type(){return Ht.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}}var ke=class extends EventTarget{dispatchTypedEvent(o,s){return super.dispatchEvent(s)}},Ft={},Pt={exports:{}},ie={},oe;function Ve(){return oe||(oe=1,(function(o){Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var s={},y={};y.byteLength=p,y.toByteArray=C,y.fromByteArray=S;for(var N=[],f=[],b=typeof Uint8Array<"u"?Uint8Array:Array,T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=0,E=T.length;v<E;++v)N[v]=T[v],f[T.charCodeAt(v)]=v;f[45]=62,f[95]=63;function d(I){var A=I.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=I.indexOf("=");R===-1&&(R=A);var D=R===A?0:4-R%4;return[R,D]}function p(I){var A=d(I),R=A[0],D=A[1];return(R+D)*3/4-D}function O(I,A,R){return(A+R)*3/4-R}function C(I){var A,R=d(I),D=R[0],U=R[1],L=new b(O(I,D,U)),B=0,u=U>0?D-4:D,M;for(M=0;M<u;M+=4)A=f[I.charCodeAt(M)]<<18|f[I.charCodeAt(M+1)]<<12|f[I.charCodeAt(M+2)]<<6|f[I.charCodeAt(M+3)],L[B++]=A>>16&255,L[B++]=A>>8&255,L[B++]=A&255;return U===2&&(A=f[I.charCodeAt(M)]<<2|f[I.charCodeAt(M+1)]>>4,L[B++]=A&255),U===1&&(A=f[I.charCodeAt(M)]<<10|f[I.charCodeAt(M+1)]<<4|f[I.charCodeAt(M+2)]>>2,L[B++]=A>>8&255,L[B++]=A&255),L}function F(I){return N[I>>18&63]+N[I>>12&63]+N[I>>6&63]+N[I&63]}function P(I,A,R){for(var D,U=[],L=A;L<R;L+=3)D=(I[L]<<16&16711680)+(I[L+1]<<8&65280)+(I[L+2]&255),U.push(F(D));return U.join("")}function S(I){for(var A,R=I.length,D=R%3,U=[],L=16383,B=0,u=R-D;B<u;B+=L)U.push(P(I,B,B+L>u?u:B+L));return D===1?(A=I[R-1],U.push(N[A>>2]+N[A<<4&63]+"==")):D===2&&(A=(I[R-2]<<8)+I[R-1],U.push(N[A>>10]+N[A>>4&63]+N[A<<2&63]+"=")),U.join("")}var z={};z.read=function(I,A,R,D,U){var L,B,u=U*8-D-1,M=(1<<u)-1,j=M>>1,l=-7,X=R?U-1:0,rt=R?-1:1,J=I[A+X];for(X+=rt,L=J&(1<<-l)-1,J>>=-l,l+=u;l>0;L=L*256+I[A+X],X+=rt,l-=8);for(B=L&(1<<-l)-1,L>>=-l,l+=D;l>0;B=B*256+I[A+X],X+=rt,l-=8);if(L===0)L=1-j;else{if(L===M)return B?NaN:(J?-1:1)*(1/0);B=B+Math.pow(2,D),L=L-j}return(J?-1:1)*B*Math.pow(2,L-D)},z.write=function(I,A,R,D,U,L){var B,u,M,j=L*8-U-1,l=(1<<j)-1,X=l>>1,rt=U===23?Math.pow(2,-24)-Math.pow(2,-77):0,J=D?0:L-1,it=D?1:-1,x=A<0||A===0&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(u=isNaN(A)?1:0,B=l):(B=Math.floor(Math.log(A)/Math.LN2),A*(M=Math.pow(2,-B))<1&&(B--,M*=2),B+X>=1?A+=rt/M:A+=rt*Math.pow(2,1-X),A*M>=2&&(B++,M/=2),B+X>=l?(u=0,B=l):B+X>=1?(u=(A*M-1)*Math.pow(2,U),B=B+X):(u=A*Math.pow(2,X-1)*Math.pow(2,U),B=0));U>=8;I[R+J]=u&255,J+=it,u/=256,U-=8);for(B=B<<U|u,j+=U;j>0;I[R+J]=B&255,J+=it,B/=256,j-=8);I[R+J-it]|=x*128},(function(I){const A=y,R=z,D=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;I.Buffer=l,I.SlowBuffer=Ot,I.INSPECT_MAX_BYTES=50;const U=2147483647;I.kMaxLength=U;const{Uint8Array:L,ArrayBuffer:B,SharedArrayBuffer:u}=globalThis;l.TYPED_ARRAY_SUPPORT=M(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M(){try{const t=new L(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,L.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function j(t){if(t>U)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new L(t);return Object.setPrototypeOf(e,l.prototype),e}function l(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return it(t)}return X(t,e,r)}l.poolSize=8192;function X(t,e,r){if(typeof t=="string")return x(t,e);if(B.isView(t))return mt(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ot(t,B)||t&&ot(t.buffer,B)||typeof u<"u"&&(ot(t,u)||t&&ot(t.buffer,u)))return ft(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const a=t.valueOf&&t.valueOf();if(a!=null&&a!==t)return l.from(a,e,r);const h=st(t);if(h)return h;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return l.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}l.from=function(t,e,r){return X(t,e,r)},Object.setPrototypeOf(l.prototype,L.prototype),Object.setPrototypeOf(l,L);function rt(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function J(t,e,r){return rt(t),t<=0?j(t):e!==void 0?typeof r=="string"?j(t).fill(e,r):j(t).fill(e):j(t)}l.alloc=function(t,e,r){return J(t,e,r)};function it(t){return rt(t),j(t<0?0:ht(t)|0)}l.allocUnsafe=function(t){return it(t)},l.allocUnsafeSlow=function(t){return it(t)};function x(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=wt(t,e)|0;let a=j(r);const h=a.write(t,e);return h!==r&&(a=a.slice(0,h)),a}function gt(t){const e=t.length<0?0:ht(t.length)|0,r=j(e);for(let a=0;a<e;a+=1)r[a]=t[a]&255;return r}function mt(t){if(ot(t,L)){const e=new L(t);return ft(e.buffer,e.byteOffset,e.byteLength)}return gt(t)}function ft(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let a;return e===void 0&&r===void 0?a=new L(t):r===void 0?a=new L(t,e):a=new L(t,e,r),Object.setPrototypeOf(a,l.prototype),a}function st(t){if(l.isBuffer(t)){const e=ht(t.length)|0,r=j(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Dt(t.length)?j(0):gt(t);if(t.type==="Buffer"&&Array.isArray(t.data))return gt(t.data)}function ht(t){if(t>=U)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+U.toString(16)+" bytes");return t|0}function Ot(t){return+t!=t&&(t=0),l.alloc(+t)}l.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==l.prototype},l.compare=function(t,e){if(ot(t,L)&&(t=l.from(t,t.offset,t.byteLength)),ot(e,L)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,a=e.length;for(let h=0,m=Math.min(r,a);h<m;++h)if(t[h]!==e[h]){r=t[h],a=e[h];break}return r<a?-1:a<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return l.alloc(0);let r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const a=l.allocUnsafe(e);let h=0;for(r=0;r<t.length;++r){let m=t[r];if(ot(m,L))h+m.length>a.length?(l.isBuffer(m)||(m=l.from(m)),m.copy(a,h)):L.prototype.set.call(a,m,h);else if(l.isBuffer(m))m.copy(a,h);else throw new TypeError('"list" argument must be an Array of Buffers');h+=m.length}return a};function wt(t,e){if(l.isBuffer(t))return t.length;if(B.isView(t)||ot(t,B))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,a=arguments.length>2&&arguments[2]===!0;if(!a&&r===0)return 0;let h=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return St(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return ee(t).length;default:if(h)return a?-1:St(t).length;e=(""+e).toLowerCase(),h=!0}}l.byteLength=wt;function bt(t,e,r){let a=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return vt(this,e,r);case"utf8":case"utf-8":return Z(this,e,r);case"ascii":return nt(this,e,r);case"latin1":case"binary":return Rt(this,e,r);case"base64":return tt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,e,r);default:if(a)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),a=!0}}l.prototype._isBuffer=!0;function at(t,e,r){const a=t[e];t[e]=t[r],t[r]=a}l.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)at(this,e,e+1);return this},l.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)at(this,e,e+3),at(this,e+1,e+2);return this},l.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)at(this,e,e+7),at(this,e+1,e+6),at(this,e+2,e+5),at(this,e+3,e+4);return this},l.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?Z(this,0,t):bt.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:l.compare(this,t)===0},l.prototype.inspect=function(){let t="";const e=I.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},D&&(l.prototype[D]=l.prototype.inspect),l.prototype.compare=function(t,e,r,a,h){if(ot(t,L)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),a===void 0&&(a=0),h===void 0&&(h=this.length),e<0||r>t.length||a<0||h>this.length)throw new RangeError("out of range index");if(a>=h&&e>=r)return 0;if(a>=h)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,a>>>=0,h>>>=0,this===t)return 0;let m=h-a,_=r-e;const k=Math.min(m,_),K=this.slice(a,h),V=t.slice(e,r);for(let G=0;G<k;++G)if(K[G]!==V[G]){m=K[G],_=V[G];break}return m<_?-1:_<m?1:0};function i(t,e,r,a,h){if(t.length===0)return-1;if(typeof r=="string"?(a=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Dt(r)&&(r=h?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(h)return-1;r=t.length-1}else if(r<0)if(h)r=0;else return-1;if(typeof e=="string"&&(e=l.from(e,a)),l.isBuffer(e))return e.length===0?-1:n(t,e,r,a,h);if(typeof e=="number")return e=e&255,typeof L.prototype.indexOf=="function"?h?L.prototype.indexOf.call(t,e,r):L.prototype.lastIndexOf.call(t,e,r):n(t,[e],r,a,h);throw new TypeError("val must be string, number or Buffer")}function n(t,e,r,a,h){let m=1,_=t.length,k=e.length;if(a!==void 0&&(a=String(a).toLowerCase(),a==="ucs2"||a==="ucs-2"||a==="utf16le"||a==="utf-16le")){if(t.length<2||e.length<2)return-1;m=2,_/=2,k/=2,r/=2}function K(G,W){return m===1?G[W]:G.readUInt16BE(W*m)}let V;if(h){let G=-1;for(V=r;V<_;V++)if(K(t,V)===K(e,G===-1?0:V-G)){if(G===-1&&(G=V),V-G+1===k)return G*m}else G!==-1&&(V-=V-G),G=-1}else for(r+k>_&&(r=_-k),V=r;V>=0;V--){let G=!0;for(let W=0;W<k;W++)if(K(t,V+W)!==K(e,W)){G=!1;break}if(G)return V}return-1}l.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},l.prototype.indexOf=function(t,e,r){return i(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return i(this,t,e,r,!1)};function w(t,e,r,a){r=Number(r)||0;const h=t.length-r;a?(a=Number(a),a>h&&(a=h)):a=h;const m=e.length;a>m/2&&(a=m/2);let _;for(_=0;_<a;++_){const k=parseInt(e.substr(_*2,2),16);if(Dt(k))return _;t[r+_]=k}return _}function c(t,e,r,a){return Nt(St(e,t.length-r),t,r,a)}function $(t,e,r,a){return Nt(De(e),t,r,a)}function Y(t,e,r,a){return Nt(ee(e),t,r,a)}function q(t,e,r,a){return Nt(Ce(e,t.length-r),t,r,a)}l.prototype.write=function(t,e,r,a){if(e===void 0)a="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")a=e,r=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(r)?(r=r>>>0,a===void 0&&(a="utf8")):(a=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const h=this.length-e;if((r===void 0||r>h)&&(r=h),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let m=!1;for(;;)switch(a){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return c(this,t,e,r);case"ascii":case"latin1":case"binary":return $(this,t,e,r);case"base64":return Y(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,t,e,r);default:if(m)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),m=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function tt(t,e,r){return e===0&&r===t.length?A.fromByteArray(t):A.fromByteArray(t.slice(e,r))}function Z(t,e,r){r=Math.min(t.length,r);const a=[];let h=e;for(;h<r;){const m=t[h];let _=null,k=m>239?4:m>223?3:m>191?2:1;if(h+k<=r){let K,V,G,W;switch(k){case 1:m<128&&(_=m);break;case 2:K=t[h+1],(K&192)===128&&(W=(m&31)<<6|K&63,W>127&&(_=W));break;case 3:K=t[h+1],V=t[h+2],(K&192)===128&&(V&192)===128&&(W=(m&15)<<12|(K&63)<<6|V&63,W>2047&&(W<55296||W>57343)&&(_=W));break;case 4:K=t[h+1],V=t[h+2],G=t[h+3],(K&192)===128&&(V&192)===128&&(G&192)===128&&(W=(m&15)<<18|(K&63)<<12|(V&63)<<6|G&63,W>65535&&W<1114112&&(_=W))}}_===null?(_=65533,k=1):_>65535&&(_-=65536,a.push(_>>>10&1023|55296),_=56320|_&1023),a.push(_),h+=k}return Q(a)}const ut=4096;function Q(t){const e=t.length;if(e<=ut)return String.fromCharCode.apply(String,t);let r="",a=0;for(;a<e;)r+=String.fromCharCode.apply(String,t.slice(a,a+=ut));return r}function nt(t,e,r){let a="";r=Math.min(t.length,r);for(let h=e;h<r;++h)a+=String.fromCharCode(t[h]&127);return a}function Rt(t,e,r){let a="";r=Math.min(t.length,r);for(let h=e;h<r;++h)a+=String.fromCharCode(t[h]);return a}function vt(t,e,r){const a=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>a)&&(r=a);let h="";for(let m=e;m<r;++m)h+=Be[t[m]];return h}function yt(t,e,r){const a=t.slice(e,r);let h="";for(let m=0;m<a.length-1;m+=2)h+=String.fromCharCode(a[m]+a[m+1]*256);return h}l.prototype.slice=function(t,e){const r=this.length;t=~~t,e=e===void 0?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);const a=this.subarray(t,e);return Object.setPrototypeOf(a,l.prototype),a};function H(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(t,e,r){t=t>>>0,e=e>>>0,r||H(t,e,this.length);let a=this[t],h=1,m=0;for(;++m<e&&(h*=256);)a+=this[t+m]*h;return a},l.prototype.readUintBE=l.prototype.readUIntBE=function(t,e,r){t=t>>>0,e=e>>>0,r||H(t,e,this.length);let a=this[t+--e],h=1;for(;e>0&&(h*=256);)a+=this[t+--e]*h;return a},l.prototype.readUint8=l.prototype.readUInt8=function(t,e){return t=t>>>0,e||H(t,1,this.length),this[t]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||H(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||H(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||H(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||H(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readBigUInt64LE=ct(function(t){t=t>>>0,dt(t,"offset");const e=this[t],r=this[t+7];(e===void 0||r===void 0)&&Tt(t,this.length-8);const a=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,h=this[++t]+this[++t]*2**8+this[++t]*2**16+r*2**24;return BigInt(a)+(BigInt(h)<<BigInt(32))}),l.prototype.readBigUInt64BE=ct(function(t){t=t>>>0,dt(t,"offset");const e=this[t],r=this[t+7];(e===void 0||r===void 0)&&Tt(t,this.length-8);const a=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],h=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+r;return(BigInt(a)<<BigInt(32))+BigInt(h)}),l.prototype.readIntLE=function(t,e,r){t=t>>>0,e=e>>>0,r||H(t,e,this.length);let a=this[t],h=1,m=0;for(;++m<e&&(h*=256);)a+=this[t+m]*h;return h*=128,a>=h&&(a-=Math.pow(2,8*e)),a},l.prototype.readIntBE=function(t,e,r){t=t>>>0,e=e>>>0,r||H(t,e,this.length);let a=e,h=1,m=this[t+--a];for(;a>0&&(h*=256);)m+=this[t+--a]*h;return h*=128,m>=h&&(m-=Math.pow(2,8*e)),m},l.prototype.readInt8=function(t,e){return t=t>>>0,e||H(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},l.prototype.readInt16LE=function(t,e){t=t>>>0,e||H(t,2,this.length);const r=this[t]|this[t+1]<<8;return r&32768?r|4294901760:r},l.prototype.readInt16BE=function(t,e){t=t>>>0,e||H(t,2,this.length);const r=this[t+1]|this[t]<<8;return r&32768?r|4294901760:r},l.prototype.readInt32LE=function(t,e){return t=t>>>0,e||H(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t=t>>>0,e||H(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readBigInt64LE=ct(function(t){t=t>>>0,dt(t,"offset");const e=this[t],r=this[t+7];(e===void 0||r===void 0)&&Tt(t,this.length-8);const a=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(r<<24);return(BigInt(a)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)}),l.prototype.readBigInt64BE=ct(function(t){t=t>>>0,dt(t,"offset");const e=this[t],r=this[t+7];(e===void 0||r===void 0)&&Tt(t,this.length-8);const a=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(a)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+r)}),l.prototype.readFloatLE=function(t,e){return t=t>>>0,e||H(t,4,this.length),R.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t=t>>>0,e||H(t,4,this.length),R.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||H(t,8,this.length),R.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||H(t,8,this.length),R.read(this,t,!1,52,8)};function et(t,e,r,a,h,m){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>h||e<m)throw new RangeError('"value" argument is out of bounds');if(r+a>t.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,e,r,a){if(t=+t,e=e>>>0,r=r>>>0,!a){const _=Math.pow(2,8*r)-1;et(this,t,e,r,_,0)}let h=1,m=0;for(this[e]=t&255;++m<r&&(h*=256);)this[e+m]=t/h&255;return e+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,e,r,a){if(t=+t,e=e>>>0,r=r>>>0,!a){const _=Math.pow(2,8*r)-1;et(this,t,e,r,_,0)}let h=r-1,m=1;for(this[e+h]=t&255;--h>=0&&(m*=256);)this[e+h]=t/m&255;return e+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(t,e,r){return t=+t,e=e>>>0,r||et(this,t,e,1,255,0),this[e]=t&255,e+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=e>>>0,r||et(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=e>>>0,r||et(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=e>>>0,r||et(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=e>>>0,r||et(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function zt(t,e,r,a,h){te(e,a,h,t,r,7);let m=Number(e&BigInt(4294967295));t[r++]=m,m=m>>8,t[r++]=m,m=m>>8,t[r++]=m,m=m>>8,t[r++]=m;let _=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=_,_=_>>8,t[r++]=_,_=_>>8,t[r++]=_,_=_>>8,t[r++]=_,r}function Wt(t,e,r,a,h){te(e,a,h,t,r,7);let m=Number(e&BigInt(4294967295));t[r+7]=m,m=m>>8,t[r+6]=m,m=m>>8,t[r+5]=m,m=m>>8,t[r+4]=m;let _=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=_,_=_>>8,t[r+2]=_,_=_>>8,t[r+1]=_,_=_>>8,t[r]=_,r+8}l.prototype.writeBigUInt64LE=ct(function(t,e=0){return zt(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=ct(function(t,e=0){return Wt(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(t,e,r,a){if(t=+t,e=e>>>0,!a){const k=Math.pow(2,8*r-1);et(this,t,e,r,k-1,-k)}let h=0,m=1,_=0;for(this[e]=t&255;++h<r&&(m*=256);)t<0&&_===0&&this[e+h-1]!==0&&(_=1),this[e+h]=(t/m>>0)-_&255;return e+r},l.prototype.writeIntBE=function(t,e,r,a){if(t=+t,e=e>>>0,!a){const k=Math.pow(2,8*r-1);et(this,t,e,r,k-1,-k)}let h=r-1,m=1,_=0;for(this[e+h]=t&255;--h>=0&&(m*=256);)t<0&&_===0&&this[e+h+1]!==0&&(_=1),this[e+h]=(t/m>>0)-_&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e=e>>>0,r||et(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e=e>>>0,r||et(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e=e>>>0,r||et(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e=e>>>0,r||et(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e=e>>>0,r||et(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},l.prototype.writeBigInt64LE=ct(function(t,e=0){return zt(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=ct(function(t,e=0){return Wt(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Qt(t,e,r,a,h,m){if(r+a>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Jt(t,e,r,a,h){return e=+e,r=r>>>0,h||Qt(t,e,r,4),R.write(t,e,r,a,23,4),r+4}l.prototype.writeFloatLE=function(t,e,r){return Jt(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return Jt(this,t,e,!1,r)};function Zt(t,e,r,a,h){return e=+e,r=r>>>0,h||Qt(t,e,r,8),R.write(t,e,r,a,52,8),r+8}l.prototype.writeDoubleLE=function(t,e,r){return Zt(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return Zt(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,a){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),!a&&a!==0&&(a=this.length),e>=t.length&&(e=t.length),e||(e=0),a>0&&a<r&&(a=r),a===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-e<a-r&&(a=t.length-e+r);const h=a-r;return this===t&&typeof L.prototype.copyWithin=="function"?this.copyWithin(e,r,a):L.prototype.set.call(t,this.subarray(r,a),e),h},l.prototype.fill=function(t,e,r,a){if(typeof t=="string"){if(typeof e=="string"?(a=e,e=0,r=this.length):typeof r=="string"&&(a=r,r=this.length),a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(t.length===1){const m=t.charCodeAt(0);(a==="utf8"&&m<128||a==="latin1")&&(t=m)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e=e>>>0,r=r===void 0?this.length:r>>>0,t||(t=0);let h;if(typeof t=="number")for(h=e;h<r;++h)this[h]=t;else{const m=l.isBuffer(t)?t:l.from(t,a),_=m.length;if(_===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(h=0;h<r-e;++h)this[h+e]=m[h%_]}return this};const pt={};function Lt(t,e,r){pt[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Lt("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Lt("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),Lt("ERR_OUT_OF_RANGE",function(t,e,r){let a=`The value of "${t}" is out of range.`,h=r;return Number.isInteger(r)&&Math.abs(r)>2**32?h=Kt(String(r)):typeof r=="bigint"&&(h=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(h=Kt(h)),h+="n"),a+=` It must be ${e}. Received ${h}`,a},RangeError);function Kt(t){let e="",r=t.length;const a=t[0]==="-"?1:0;for(;r>=a+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Re(t,e,r){dt(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Tt(e,t.length-(r+1))}function te(t,e,r,a,h,m){if(t>r||t<e){const _=typeof e=="bigint"?"n":"";let k;throw e===0||e===BigInt(0)?k=`>= 0${_} and < 2${_} ** ${(m+1)*8}${_}`:k=`>= -(2${_} ** ${(m+1)*8-1}${_}) and < 2 ** ${(m+1)*8-1}${_}`,new pt.ERR_OUT_OF_RANGE("value",k,t)}Re(a,h,m)}function dt(t,e){if(typeof t!="number")throw new pt.ERR_INVALID_ARG_TYPE(e,"number",t)}function Tt(t,e,r){throw Math.floor(t)!==t?(dt(t,r),new pt.ERR_OUT_OF_RANGE("offset","an integer",t)):e<0?new pt.ERR_BUFFER_OUT_OF_BOUNDS:new pt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,t)}const Le=/[^+/0-9A-Za-z-_]/g;function Se(t){if(t=t.split("=")[0],t=t.trim().replace(Le,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function St(t,e){e=e||1/0;let r;const a=t.length;let h=null;const m=[];for(let _=0;_<a;++_){if(r=t.charCodeAt(_),r>55295&&r<57344){if(!h){if(r>56319){(e-=3)>-1&&m.push(239,191,189);continue}else if(_+1===a){(e-=3)>-1&&m.push(239,191,189);continue}h=r;continue}if(r<56320){(e-=3)>-1&&m.push(239,191,189),h=r;continue}r=(h-55296<<10|r-56320)+65536}else h&&(e-=3)>-1&&m.push(239,191,189);if(h=null,r<128){if((e-=1)<0)break;m.push(r)}else if(r<2048){if((e-=2)<0)break;m.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;m.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;m.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return m}function De(t){const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Ce(t,e){let r,a,h;const m=[];for(let _=0;_<t.length&&!((e-=2)<0);++_)r=t.charCodeAt(_),a=r>>8,h=r%256,m.push(h),m.push(a);return m}function ee(t){return A.toByteArray(Se(t))}function Nt(t,e,r,a){let h;for(h=0;h<a&&!(h+r>=e.length||h>=t.length);++h)e[h+r]=t[h];return h}function ot(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Dt(t){return t!==t}const Be=(function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const a=r*16;for(let h=0;h<16;++h)e[a+h]=t[r]+t[h]}return e})();function ct(t){return typeof BigInt>"u"?Fe:t}function Fe(){throw new Error("BigInt not supported")}})(s);const g=s.Buffer;o.Blob=s.Blob,o.BlobOptions=s.BlobOptions,o.Buffer=s.Buffer,o.File=s.File,o.FileOptions=s.FileOptions,o.INSPECT_MAX_BYTES=s.INSPECT_MAX_BYTES,o.SlowBuffer=s.SlowBuffer,o.TranscodeEncoding=s.TranscodeEncoding,o.atob=s.atob,o.btoa=s.btoa,o.constants=s.constants,o.default=g,o.isAscii=s.isAscii,o.isUtf8=s.isUtf8,o.kMaxLength=s.kMaxLength,o.kStringMaxLength=s.kStringMaxLength,o.resolveObjectURL=s.resolveObjectURL,o.transcode=s.transcode})(ie)),ie}var se;function je(){return se||(se=1,(function(o,s){var y=Ve(),N=y.Buffer;function f(T,v){for(var E in T)v[E]=T[E]}N.from&&N.alloc&&N.allocUnsafe&&N.allocUnsafeSlow?o.exports=y:(f(y,s),s.Buffer=b);function b(T,v,E){return N(T,v,E)}f(N,b),b.from=function(T,v,E){if(typeof T=="number")throw new TypeError("Argument must not be a number");return N(T,v,E)},b.alloc=function(T,v,E){if(typeof T!="number")throw new TypeError("Argument must be a number");var d=N(T);return v!==void 0?typeof E=="string"?d.fill(v,E):d.fill(v):d.fill(0),d},b.allocUnsafe=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return N(T)},b.allocUnsafeSlow=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(T)}})(Pt,Pt.exports)),Pt.exports}var ae;function Xe(){if(ae)return Ft;ae=1;var o=je().Buffer,s=o.isEncoding||function(g){switch(g=""+g,g&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function y(g){if(!g)return"utf8";for(var I;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(I)return;g=(""+g).toLowerCase(),I=!0}}function N(g){var I=y(g);if(typeof I!="string"&&(o.isEncoding===s||!s(g)))throw new Error("Unknown encoding: "+g);return I||g}Ft.StringDecoder=f;function f(g){this.encoding=N(g);var I;switch(this.encoding){case"utf16le":this.text=O,this.end=C,I=4;break;case"utf8":this.fillLast=E,I=4;break;case"base64":this.text=F,this.end=P,I=3;break;default:this.write=S,this.end=z;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(I)}f.prototype.write=function(g){if(g.length===0)return"";var I,A;if(this.lastNeed){if(I=this.fillLast(g),I===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<g.length?I?I+this.text(g,A):this.text(g,A):I||""},f.prototype.end=p,f.prototype.text=d,f.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length};function b(g){return g<=127?0:g>>5===6?2:g>>4===14?3:g>>3===30?4:g>>6===2?-1:-2}function T(g,I,A){var R=I.length-1;if(R<A)return 0;var D=b(I[R]);return D>=0?(D>0&&(g.lastNeed=D-1),D):--R<A||D===-2?0:(D=b(I[R]),D>=0?(D>0&&(g.lastNeed=D-2),D):--R<A||D===-2?0:(D=b(I[R]),D>=0?(D>0&&(D===2?D=0:g.lastNeed=D-3),D):0))}function v(g,I,A){if((I[0]&192)!==128)return g.lastNeed=0,"�";if(g.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return g.lastNeed=1,"�";if(g.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return g.lastNeed=2,"�"}}function E(g){var I=this.lastTotal-this.lastNeed,A=v(this,g);if(A!==void 0)return A;if(this.lastNeed<=g.length)return g.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,I,0,g.length),this.lastNeed-=g.length}function d(g,I){var A=T(this,g,I);if(!this.lastNeed)return g.toString("utf8",I);this.lastTotal=A;var R=g.length-(A-this.lastNeed);return g.copy(this.lastChar,0,R),g.toString("utf8",I,R)}function p(g){var I=g&&g.length?this.write(g):"";return this.lastNeed?I+"�":I}function O(g,I){if((g.length-I)%2===0){var A=g.toString("utf16le",I);if(A){var R=A.charCodeAt(A.length-1);if(R>=55296&&R<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",I,g.length-1)}function C(g){var I=g&&g.length?this.write(g):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,A)}return I}function F(g,I){var A=(g.length-I)%3;return A===0?g.toString("base64",I):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",I,g.length-A))}function P(g){var I=g&&g.length?this.write(g):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function S(g){return g.toString(this.encoding)}function z(g){return g&&g.length?this.write(g):""}return Ft}var Ye=Xe();const qe=Ie(Ye);var Ut={},Ne=(o=>(o.DEFAULT="default",o.HIDDEN="hidden",o))(Ne||{});class wr{_action;constructor(s){this.validateAction(s),this._action=s}get id(){return this._action.id}get displayName(){return this._action.displayName}get title(){return this._action.title}get iconSvgInline(){return this._action.iconSvgInline}get enabled(){return this._action.enabled}get exec(){return this._action.exec}get execBatch(){return this._action.execBatch}get hotkey(){return this._action.hotkey}get order(){return this._action.order}get parent(){return this._action.parent}get default(){return this._action.default}get destructive(){return this._action.destructive}get inline(){return this._action.inline}get renderInline(){return this._action.renderInline}validateAction(s){if(!s.id||typeof s.id!="string")throw new Error("Invalid id");if(!s.displayName||typeof s.displayName!="function")throw new Error("Invalid displayName function");if("title"in s&&typeof s.title!="function")throw new Error("Invalid title function");if(!s.iconSvgInline||typeof s.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if(!s.exec||typeof s.exec!="function")throw new Error("Invalid exec function");if("enabled"in s&&typeof s.enabled!="function")throw new Error("Invalid enabled function");if("execBatch"in s&&typeof s.execBatch!="function")throw new Error("Invalid execBatch function");if("order"in s&&typeof s.order!="number")throw new Error("Invalid order");if(s.destructive!==void 0&&typeof s.destructive!="boolean")throw new Error("Invalid destructive flag");if("parent"in s&&typeof s.parent!="string")throw new Error("Invalid parent");if(s.default&&!Object.values(Ne).includes(s.default))throw new Error("Invalid default");if("inline"in s&&typeof s.inline!="function")throw new Error("Invalid inline function");if("renderInline"in s&&typeof s.renderInline!="function")throw new Error("Invalid renderInline function");if("hotkey"in s&&s.hotkey!==void 0){if(typeof s.hotkey!="object")throw new Error("Invalid hotkey configuration");if(typeof s.hotkey.key!="string"||!s.hotkey.key)throw new Error("Missing or invalid hotkey key");if(typeof s.hotkey.description!="string"||!s.hotkey.description)throw new Error("Missing or invalid hotkey description")}}}const yr=function(o){if(typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],At.debug("FileActions initialized")),window._nc_fileactions.find(s=>s.id===o.id)){At.error(`FileAction ${o.id} already registered`,{action:o});return}window._nc_fileactions.push(o)};class Tr{_action;constructor(s){this.validateAction(s),this._action=s}get id(){return this._action.id}get displayName(){return this._action.displayName}get iconSvgInline(){return this._action.iconSvgInline}get order(){return this._action.order}get enabled(){return this._action.enabled}get exec(){return this._action.exec}validateAction(s){if(!s.id||typeof s.id!="string")throw new Error("Invalid id");if(!s.displayName||typeof s.displayName!="function")throw new Error("Invalid displayName function");if("iconSvgInline"in s&&typeof s.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if("order"in s&&typeof s.order!="number")throw new Error("Invalid order");if("enabled"in s&&typeof s.enabled!="function")throw new Error("Invalid enabled function");if(!s.exec||typeof s.exec!="function")throw new Error("Invalid exec function")}}const Ir=o=>{if(typeof window._nc_filelistactions>"u"&&(window._nc_filelistactions=[]),window._nc_filelistactions.find(s=>s.id===o.id)){At.error(`FileListAction with id "${o.id}" is already registered`,{action:o});return}window._nc_filelistactions.push(o)};function He(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var ue,ce;function Ae(){return ce||(ce=1,ue=typeof Te=="object"&&Ut&&Ut.NODE_DEBUG&&/\bsemver\b/i.test(Ut.NODE_DEBUG)?(...o)=>console.error("SEMVER",...o):()=>{}),ue}var xt,le;function _e(){if(le)return xt;le=1;const o="2.0.0",s=256,y=Number.MAX_SAFE_INTEGER||9007199254740991,N=16,f=s-6;return xt={MAX_LENGTH:s,MAX_SAFE_COMPONENT_LENGTH:N,MAX_SAFE_BUILD_LENGTH:f,MAX_SAFE_INTEGER:y,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:o,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},xt}var $t={exports:{}},he;function ze(){return he||(he=1,(function(o,s){const{MAX_SAFE_COMPONENT_LENGTH:y,MAX_SAFE_BUILD_LENGTH:N,MAX_LENGTH:f}=_e(),b=Ae();s=o.exports={};const T=s.re=[],v=s.safeRe=[],E=s.src=[],d=s.safeSrc=[],p=s.t={};let O=0;const C="[a-zA-Z0-9-]",F=[["\\s",1],["\\d",f],[C,N]],P=z=>{for(const[g,I]of F)z=z.split(`${g}*`).join(`${g}{0,${I}}`).split(`${g}+`).join(`${g}{1,${I}}`);return z},S=(z,g,I)=>{const A=P(g),R=O++;b(z,R,g),p[z]=R,E[R]=g,d[R]=A,T[R]=new RegExp(g,I?"g":void 0),v[R]=new RegExp(A,I?"g":void 0)};S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${C}*`),S("MAINVERSION",`(${E[p.NUMERICIDENTIFIER]})\\.(${E[p.NUMERICIDENTIFIER]})\\.(${E[p.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${E[p.NUMERICIDENTIFIERLOOSE]})\\.(${E[p.NUMERICIDENTIFIERLOOSE]})\\.(${E[p.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${E[p.NONNUMERICIDENTIFIER]}|${E[p.NUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${E[p.NONNUMERICIDENTIFIER]}|${E[p.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASE",`(?:-(${E[p.PRERELEASEIDENTIFIER]}(?:\\.${E[p.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${E[p.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${E[p.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${C}+`),S("BUILD",`(?:\\+(${E[p.BUILDIDENTIFIER]}(?:\\.${E[p.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${E[p.MAINVERSION]}${E[p.PRERELEASE]}?${E[p.BUILD]}?`),S("FULL",`^${E[p.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${E[p.MAINVERSIONLOOSE]}${E[p.PRERELEASELOOSE]}?${E[p.BUILD]}?`),S("LOOSE",`^${E[p.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${E[p.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${E[p.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${E[p.XRANGEIDENTIFIER]})(?:\\.(${E[p.XRANGEIDENTIFIER]})(?:\\.(${E[p.XRANGEIDENTIFIER]})(?:${E[p.PRERELEASE]})?${E[p.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${E[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E[p.XRANGEIDENTIFIERLOOSE]})(?:${E[p.PRERELEASELOOSE]})?${E[p.BUILD]}?)?)?`),S("XRANGE",`^${E[p.GTLT]}\\s*${E[p.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${E[p.GTLT]}\\s*${E[p.XRANGEPLAINLOOSE]}$`),S("COERCEPLAIN",`(^|[^\\d])(\\d{1,${y}})(?:\\.(\\d{1,${y}}))?(?:\\.(\\d{1,${y}}))?`),S("COERCE",`${E[p.COERCEPLAIN]}(?:$|[^\\d])`),S("COERCEFULL",E[p.COERCEPLAIN]+`(?:${E[p.PRERELEASE]})?(?:${E[p.BUILD]})?(?:$|[^\\d])`),S("COERCERTL",E[p.COERCE],!0),S("COERCERTLFULL",E[p.COERCEFULL],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${E[p.LONETILDE]}\\s+`,!0),s.tildeTrimReplace="$1~",S("TILDE",`^${E[p.LONETILDE]}${E[p.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${E[p.LONETILDE]}${E[p.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${E[p.LONECARET]}\\s+`,!0),s.caretTrimReplace="$1^",S("CARET",`^${E[p.LONECARET]}${E[p.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${E[p.LONECARET]}${E[p.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${E[p.GTLT]}\\s*(${E[p.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${E[p.GTLT]}\\s*(${E[p.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${E[p.GTLT]}\\s*(${E[p.LOOSEPLAIN]}|${E[p.XRANGEPLAIN]})`,!0),s.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${E[p.XRANGEPLAIN]})\\s+-\\s+(${E[p.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${E[p.XRANGEPLAINLOOSE]})\\s+-\\s+(${E[p.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})($t,$t.exports)),$t.exports}var Mt,fe;function We(){if(fe)return Mt;fe=1;const o=Object.freeze({loose:!0}),s=Object.freeze({});return Mt=y=>y?typeof y!="object"?o:y:s,Mt}var Gt,pe;function Qe(){if(pe)return Gt;pe=1;const o=/^[0-9]+$/,s=(y,N)=>{if(typeof y=="number"&&typeof N=="number")return y===N?0:y<N?-1:1;const f=o.test(y),b=o.test(N);return f&&b&&(y=+y,N=+N),y===N?0:f&&!b?-1:b&&!f?1:y<N?-1:1};return Gt={compareIdentifiers:s,rcompareIdentifiers:(y,N)=>s(N,y)},Gt}var kt,de;function Oe(){if(de)return kt;de=1;const o=Ae(),{MAX_LENGTH:s,MAX_SAFE_INTEGER:y}=_e(),{safeRe:N,t:f}=ze(),b=We(),{compareIdentifiers:T}=Qe();class v{constructor(d,p){if(p=b(p),d instanceof v){if(d.loose===!!p.loose&&d.includePrerelease===!!p.includePrerelease)return d;d=d.version}else if(typeof d!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof d}".`);if(d.length>s)throw new TypeError(`version is longer than ${s} characters`);o("SemVer",d,p),this.options=p,this.loose=!!p.loose,this.includePrerelease=!!p.includePrerelease;const O=d.trim().match(p.loose?N[f.LOOSE]:N[f.FULL]);if(!O)throw new TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+O[1],this.minor=+O[2],this.patch=+O[3],this.major>y||this.major<0)throw new TypeError("Invalid major version");if(this.minor>y||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>y||this.patch<0)throw new TypeError("Invalid patch version");O[4]?this.prerelease=O[4].split(".").map(C=>{if(/^[0-9]+$/.test(C)){const F=+C;if(F>=0&&F<y)return F}return C}):this.prerelease=[],this.build=O[5]?O[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(o("SemVer.compare",this.version,this.options,d),!(d instanceof v)){if(typeof d=="string"&&d===this.version)return 0;d=new v(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof v||(d=new v(d,this.options)),this.major<d.major?-1:this.major>d.major?1:this.minor<d.minor?-1:this.minor>d.minor?1:this.patch<d.patch?-1:this.patch>d.patch?1:0}comparePre(d){if(d instanceof v||(d=new v(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let p=0;do{const O=this.prerelease[p],C=d.prerelease[p];if(o("prerelease compare",p,O,C),O===void 0&&C===void 0)return 0;if(C===void 0)return 1;if(O===void 0)return-1;if(O!==C)return T(O,C)}while(++p)}compareBuild(d){d instanceof v||(d=new v(d,this.options));let p=0;do{const O=this.build[p],C=d.build[p];if(o("build compare",p,O,C),O===void 0&&C===void 0)return 0;if(C===void 0)return 1;if(O===void 0)return-1;if(O!==C)return T(O,C)}while(++p)}inc(d,p,O){if(d.startsWith("pre")){if(!p&&O===!1)throw new Error("invalid increment argument: identifier is empty");if(p){const C=`-${p}`.match(this.options.loose?N[f.PRERELEASELOOSE]:N[f.PRERELEASE]);if(!C||C[1]!==p)throw new Error(`invalid identifier: ${p}`)}}switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",p,O);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",p,O);break;case"prepatch":this.prerelease.length=0,this.inc("patch",p,O),this.inc("pre",p,O);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",p,O),this.inc("pre",p,O);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const C=Number(O)?1:0;if(this.prerelease.length===0)this.prerelease=[C];else{let F=this.prerelease.length;for(;--F>=0;)typeof this.prerelease[F]=="number"&&(this.prerelease[F]++,F=-2);if(F===-1){if(p===this.prerelease.join(".")&&O===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(C)}}if(p){let F=[p,C];O===!1&&(F=[p]),T(this.prerelease[0],p)===0?isNaN(this.prerelease[1])&&(this.prerelease=F):this.prerelease=F}break}default:throw new Error(`invalid increment argument: ${d}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return kt=v,kt}var Vt,Ee;function Je(){if(Ee)return Vt;Ee=1;const o=Oe();return Vt=(s,y)=>new o(s,y).major,Vt}Je();var jt,ge;function Ze(){if(ge)return jt;ge=1;const o=Oe();return jt=(s,y,N=!1)=>{if(s instanceof o)return s;try{return new o(s,y)}catch(f){if(!N)return null;throw f}},jt}var Xt,me;function Ke(){if(me)return Xt;me=1;const o=Ze();return Xt=(s,y)=>{const N=o(s,y);return N?N.version:null},Xt}Ke();class tr extends ke{_views=[];_currentView=null;register(s){if(this._views.find(y=>y.id===s.id))throw new Error(`View id ${s.id} is already registered`);this._views.push(s),this.dispatchTypedEvent("update",new CustomEvent("update"))}remove(s){const y=this._views.findIndex(N=>N.id===s);y!==-1&&(this._views.splice(y,1),this.dispatchTypedEvent("update",new CustomEvent("update")))}setActive(s){this._currentView=s;const y=new CustomEvent("updateActive",{detail:s});this.dispatchTypedEvent("updateActive",y)}get active(){return this._currentView}get views(){return this._views}}const br=function(){return typeof window._nc_navigation>"u"&&(window._nc_navigation=new tr,At.debug("Navigation service initialized")),window._nc_navigation};class er{_column;constructor(s){rr(s),this._column=s}get id(){return this._column.id}get title(){return this._column.title}get render(){return this._column.render}get sort(){return this._column.sort}get summary(){return this._column.summary}}const rr=function(o){if(!o.id||typeof o.id!="string")throw new Error("A column id is required");if(!o.title||typeof o.title!="string")throw new Error("A column title is required");if(!o.render||typeof o.render!="function")throw new Error("A render function is required");if(o.sort&&typeof o.sort!="function")throw new Error("Column sortFunction must be a function");if(o.summary&&typeof o.summary!="function")throw new Error("Column summary must be a function");return!0};var we={},ye;function nr(){return ye||(ye=1,(function(o){(function(s){s.parser=function(i,n){return new N(i,n)},s.SAXParser=N,s.SAXStream=p,s.createStream=d,s.MAX_BUFFER_LENGTH=64*1024;var y=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];s.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function N(i,n){if(!(this instanceof N))return new N(i,n);var w=this;b(w),w.q=w.c="",w.bufferCheckPosition=s.MAX_BUFFER_LENGTH,w.opt=n||{},w.opt.lowercase=w.opt.lowercase||w.opt.lowercasetags,w.looseCase=w.opt.lowercase?"toLowerCase":"toUpperCase",w.tags=[],w.closed=w.closedRoot=w.sawRoot=!1,w.tag=w.error=null,w.strict=!!i,w.noscript=!!(i||w.opt.noscript),w.state=u.BEGIN,w.strictEntities=w.opt.strictEntities,w.ENTITIES=w.strictEntities?Object.create(s.XML_ENTITIES):Object.create(s.ENTITIES),w.attribList=[],w.opt.xmlns&&(w.ns=Object.create(S)),w.opt.unquotedAttributeValues===void 0&&(w.opt.unquotedAttributeValues=!i),w.trackPosition=w.opt.position!==!1,w.trackPosition&&(w.position=w.line=w.column=0),j(w,"onready")}Object.create||(Object.create=function(i){function n(){}n.prototype=i;var w=new n;return w}),Object.keys||(Object.keys=function(i){var n=[];for(var w in i)i.hasOwnProperty(w)&&n.push(w);return n});function f(i){for(var n=Math.max(s.MAX_BUFFER_LENGTH,10),w=0,c=0,$=y.length;c<$;c++){var Y=i[y[c]].length;if(Y>n)switch(y[c]){case"textNode":X(i);break;case"cdata":l(i,"oncdata",i.cdata),i.cdata="";break;case"script":l(i,"onscript",i.script),i.script="";break;default:J(i,"Max buffer length exceeded: "+y[c])}w=Math.max(w,Y)}var q=s.MAX_BUFFER_LENGTH-w;i.bufferCheckPosition=q+i.position}function b(i){for(var n=0,w=y.length;n<w;n++)i[y[n]]=""}function T(i){X(i),i.cdata!==""&&(l(i,"oncdata",i.cdata),i.cdata=""),i.script!==""&&(l(i,"onscript",i.script),i.script="")}N.prototype={end:function(){it(this)},write:at,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){T(this)}};var v;try{v=require("stream").Stream}catch{v=function(){}}v||(v=function(){});var E=s.EVENTS.filter(function(i){return i!=="error"&&i!=="end"});function d(i,n){return new p(i,n)}function p(i,n){if(!(this instanceof p))return new p(i,n);v.apply(this),this._parser=new N(i,n),this.writable=!0,this.readable=!0;var w=this;this._parser.onend=function(){w.emit("end")},this._parser.onerror=function(c){w.emit("error",c),w._parser.error=null},this._decoder=null,E.forEach(function(c){Object.defineProperty(w,"on"+c,{get:function(){return w._parser["on"+c]},set:function($){if(!$)return w.removeAllListeners(c),w._parser["on"+c]=$,$;w.on(c,$)},enumerable:!0,configurable:!1})})}p.prototype=Object.create(v.prototype,{constructor:{value:p}}),p.prototype.write=function(i){if(typeof Ct=="function"&&typeof Ct.isBuffer=="function"&&Ct.isBuffer(i)){if(!this._decoder){var n=qe.StringDecoder;this._decoder=new n("utf8")}i=this._decoder.write(i)}return this._parser.write(i.toString()),this.emit("data",i),!0},p.prototype.end=function(i){return i&&i.length&&this.write(i),this._parser.end(),!0},p.prototype.on=function(i,n){var w=this;return!w._parser["on"+i]&&E.indexOf(i)!==-1&&(w._parser["on"+i]=function(){var c=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);c.splice(0,0,i),w.emit.apply(w,c)}),v.prototype.on.call(w,i,n)};var O="[CDATA[",C="DOCTYPE",F="http://www.w3.org/XML/1998/namespace",P="http://www.w3.org/2000/xmlns/",S={xml:F,xmlns:P},z=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,I=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function R(i){return i===" "||i===`
`||i==="\r"||i==="	"}function D(i){return i==='"'||i==="'"}function U(i){return i===">"||R(i)}function L(i,n){return i.test(n)}function B(i,n){return!L(i,n)}var u=0;s.STATE={BEGIN:u++,BEGIN_WHITESPACE:u++,TEXT:u++,TEXT_ENTITY:u++,OPEN_WAKA:u++,SGML_DECL:u++,SGML_DECL_QUOTED:u++,DOCTYPE:u++,DOCTYPE_QUOTED:u++,DOCTYPE_DTD:u++,DOCTYPE_DTD_QUOTED:u++,COMMENT_STARTING:u++,COMMENT:u++,COMMENT_ENDING:u++,COMMENT_ENDED:u++,CDATA:u++,CDATA_ENDING:u++,CDATA_ENDING_2:u++,PROC_INST:u++,PROC_INST_BODY:u++,PROC_INST_ENDING:u++,OPEN_TAG:u++,OPEN_TAG_SLASH:u++,ATTRIB:u++,ATTRIB_NAME:u++,ATTRIB_NAME_SAW_WHITE:u++,ATTRIB_VALUE:u++,ATTRIB_VALUE_QUOTED:u++,ATTRIB_VALUE_CLOSED:u++,ATTRIB_VALUE_UNQUOTED:u++,ATTRIB_VALUE_ENTITY_Q:u++,ATTRIB_VALUE_ENTITY_U:u++,CLOSE_TAG:u++,CLOSE_TAG_SAW_WHITE:u++,SCRIPT:u++,SCRIPT_ENDING:u++},s.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},s.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(s.ENTITIES).forEach(function(i){var n=s.ENTITIES[i],w=typeof n=="number"?String.fromCharCode(n):n;s.ENTITIES[i]=w});for(var M in s.STATE)s.STATE[s.STATE[M]]=M;u=s.STATE;function j(i,n,w){i[n]&&i[n](w)}function l(i,n,w){i.textNode&&X(i),j(i,n,w)}function X(i){i.textNode=rt(i.opt,i.textNode),i.textNode&&j(i,"ontext",i.textNode),i.textNode=""}function rt(i,n){return i.trim&&(n=n.trim()),i.normalize&&(n=n.replace(/\s+/g," ")),n}function J(i,n){return X(i),i.trackPosition&&(n+=`
Line: `+i.line+`
Column: `+i.column+`
Char: `+i.c),n=new Error(n),i.error=n,j(i,"onerror",n),i}function it(i){return i.sawRoot&&!i.closedRoot&&x(i,"Unclosed root tag"),i.state!==u.BEGIN&&i.state!==u.BEGIN_WHITESPACE&&i.state!==u.TEXT&&J(i,"Unexpected end"),X(i),i.c="",i.closed=!0,j(i,"onend"),N.call(i,i.strict,i.opt),i}function x(i,n){if(typeof i!="object"||!(i instanceof N))throw new Error("bad call to strictFail");i.strict&&J(i,n)}function gt(i){i.strict||(i.tagName=i.tagName[i.looseCase]());var n=i.tags[i.tags.length-1]||i,w=i.tag={name:i.tagName,attributes:{}};i.opt.xmlns&&(w.ns=n.ns),i.attribList.length=0,l(i,"onopentagstart",w)}function mt(i,n){var w=i.indexOf(":"),c=w<0?["",i]:i.split(":"),$=c[0],Y=c[1];return n&&i==="xmlns"&&($="xmlns",Y=""),{prefix:$,local:Y}}function ft(i){if(i.strict||(i.attribName=i.attribName[i.looseCase]()),i.attribList.indexOf(i.attribName)!==-1||i.tag.attributes.hasOwnProperty(i.attribName)){i.attribName=i.attribValue="";return}if(i.opt.xmlns){var n=mt(i.attribName,!0),w=n.prefix,c=n.local;if(w==="xmlns")if(c==="xml"&&i.attribValue!==F)x(i,"xml: prefix must be bound to "+F+`
Actual: `+i.attribValue);else if(c==="xmlns"&&i.attribValue!==P)x(i,"xmlns: prefix must be bound to "+P+`
Actual: `+i.attribValue);else{var $=i.tag,Y=i.tags[i.tags.length-1]||i;$.ns===Y.ns&&($.ns=Object.create(Y.ns)),$.ns[c]=i.attribValue}i.attribList.push([i.attribName,i.attribValue])}else i.tag.attributes[i.attribName]=i.attribValue,l(i,"onattribute",{name:i.attribName,value:i.attribValue});i.attribName=i.attribValue=""}function st(i,n){if(i.opt.xmlns){var w=i.tag,c=mt(i.tagName);w.prefix=c.prefix,w.local=c.local,w.uri=w.ns[c.prefix]||"",w.prefix&&!w.uri&&(x(i,"Unbound namespace prefix: "+JSON.stringify(i.tagName)),w.uri=c.prefix);var $=i.tags[i.tags.length-1]||i;w.ns&&$.ns!==w.ns&&Object.keys(w.ns).forEach(function(H){l(i,"onopennamespace",{prefix:H,uri:w.ns[H]})});for(var Y=0,q=i.attribList.length;Y<q;Y++){var tt=i.attribList[Y],Z=tt[0],ut=tt[1],Q=mt(Z,!0),nt=Q.prefix,Rt=Q.local,vt=nt===""?"":w.ns[nt]||"",yt={name:Z,value:ut,prefix:nt,local:Rt,uri:vt};nt&&nt!=="xmlns"&&!vt&&(x(i,"Unbound namespace prefix: "+JSON.stringify(nt)),yt.uri=nt),i.tag.attributes[Z]=yt,l(i,"onattribute",yt)}i.attribList.length=0}i.tag.isSelfClosing=!!n,i.sawRoot=!0,i.tags.push(i.tag),l(i,"onopentag",i.tag),n||(!i.noscript&&i.tagName.toLowerCase()==="script"?i.state=u.SCRIPT:i.state=u.TEXT,i.tag=null,i.tagName=""),i.attribName=i.attribValue="",i.attribList.length=0}function ht(i){if(!i.tagName){x(i,"Weird empty close tag."),i.textNode+="</>",i.state=u.TEXT;return}if(i.script){if(i.tagName!=="script"){i.script+="</"+i.tagName+">",i.tagName="",i.state=u.SCRIPT;return}l(i,"onscript",i.script),i.script=""}var n=i.tags.length,w=i.tagName;i.strict||(w=w[i.looseCase]());for(var c=w;n--;){var $=i.tags[n];if($.name!==c)x(i,"Unexpected close tag");else break}if(n<0){x(i,"Unmatched closing tag: "+i.tagName),i.textNode+="</"+i.tagName+">",i.state=u.TEXT;return}i.tagName=w;for(var Y=i.tags.length;Y-- >n;){var q=i.tag=i.tags.pop();i.tagName=i.tag.name,l(i,"onclosetag",i.tagName);var tt={};for(var Z in q.ns)tt[Z]=q.ns[Z];var ut=i.tags[i.tags.length-1]||i;i.opt.xmlns&&q.ns!==ut.ns&&Object.keys(q.ns).forEach(function(Q){var nt=q.ns[Q];l(i,"onclosenamespace",{prefix:Q,uri:nt})})}n===0&&(i.closedRoot=!0),i.tagName=i.attribValue=i.attribName="",i.attribList.length=0,i.state=u.TEXT}function Ot(i){var n=i.entity,w=n.toLowerCase(),c,$="";return i.ENTITIES[n]?i.ENTITIES[n]:i.ENTITIES[w]?i.ENTITIES[w]:(n=w,n.charAt(0)==="#"&&(n.charAt(1)==="x"?(n=n.slice(2),c=parseInt(n,16),$=c.toString(16)):(n=n.slice(1),c=parseInt(n,10),$=c.toString(10))),n=n.replace(/^0+/,""),isNaN(c)||$.toLowerCase()!==n?(x(i,"Invalid character entity"),"&"+i.entity+";"):String.fromCodePoint(c))}function wt(i,n){n==="<"?(i.state=u.OPEN_WAKA,i.startTagPosition=i.position):R(n)||(x(i,"Non-whitespace before first tag."),i.textNode=n,i.state=u.TEXT)}function bt(i,n){var w="";return n<i.length&&(w=i.charAt(n)),w}function at(i){var n=this;if(this.error)throw this.error;if(n.closed)return J(n,"Cannot write after close. Assign an onready handler.");if(i===null)return it(n);typeof i=="object"&&(i=i.toString());for(var w=0,c="";c=bt(i,w++),n.c=c,!!c;)switch(n.trackPosition&&(n.position++,c===`
`?(n.line++,n.column=0):n.column++),n.state){case u.BEGIN:if(n.state=u.BEGIN_WHITESPACE,c==="\uFEFF")continue;wt(n,c);continue;case u.BEGIN_WHITESPACE:wt(n,c);continue;case u.TEXT:if(n.sawRoot&&!n.closedRoot){for(var $=w-1;c&&c!=="<"&&c!=="&";)c=bt(i,w++),c&&n.trackPosition&&(n.position++,c===`
`?(n.line++,n.column=0):n.column++);n.textNode+=i.substring($,w-1)}c==="<"&&!(n.sawRoot&&n.closedRoot&&!n.strict)?(n.state=u.OPEN_WAKA,n.startTagPosition=n.position):(!R(c)&&(!n.sawRoot||n.closedRoot)&&x(n,"Text data outside of root node."),c==="&"?n.state=u.TEXT_ENTITY:n.textNode+=c);continue;case u.SCRIPT:c==="<"?n.state=u.SCRIPT_ENDING:n.script+=c;continue;case u.SCRIPT_ENDING:c==="/"?n.state=u.CLOSE_TAG:(n.script+="<"+c,n.state=u.SCRIPT);continue;case u.OPEN_WAKA:if(c==="!")n.state=u.SGML_DECL,n.sgmlDecl="";else if(!R(c))if(L(z,c))n.state=u.OPEN_TAG,n.tagName=c;else if(c==="/")n.state=u.CLOSE_TAG,n.tagName="";else if(c==="?")n.state=u.PROC_INST,n.procInstName=n.procInstBody="";else{if(x(n,"Unencoded <"),n.startTagPosition+1<n.position){var Y=n.position-n.startTagPosition;c=new Array(Y).join(" ")+c}n.textNode+="<"+c,n.state=u.TEXT}continue;case u.SGML_DECL:if(n.sgmlDecl+c==="--"){n.state=u.COMMENT,n.comment="",n.sgmlDecl="";continue}n.doctype&&n.doctype!==!0&&n.sgmlDecl?(n.state=u.DOCTYPE_DTD,n.doctype+="<!"+n.sgmlDecl+c,n.sgmlDecl=""):(n.sgmlDecl+c).toUpperCase()===O?(l(n,"onopencdata"),n.state=u.CDATA,n.sgmlDecl="",n.cdata=""):(n.sgmlDecl+c).toUpperCase()===C?(n.state=u.DOCTYPE,(n.doctype||n.sawRoot)&&x(n,"Inappropriately located doctype declaration"),n.doctype="",n.sgmlDecl=""):c===">"?(l(n,"onsgmldeclaration",n.sgmlDecl),n.sgmlDecl="",n.state=u.TEXT):(D(c)&&(n.state=u.SGML_DECL_QUOTED),n.sgmlDecl+=c);continue;case u.SGML_DECL_QUOTED:c===n.q&&(n.state=u.SGML_DECL,n.q=""),n.sgmlDecl+=c;continue;case u.DOCTYPE:c===">"?(n.state=u.TEXT,l(n,"ondoctype",n.doctype),n.doctype=!0):(n.doctype+=c,c==="["?n.state=u.DOCTYPE_DTD:D(c)&&(n.state=u.DOCTYPE_QUOTED,n.q=c));continue;case u.DOCTYPE_QUOTED:n.doctype+=c,c===n.q&&(n.q="",n.state=u.DOCTYPE);continue;case u.DOCTYPE_DTD:c==="]"?(n.doctype+=c,n.state=u.DOCTYPE):c==="<"?(n.state=u.OPEN_WAKA,n.startTagPosition=n.position):D(c)?(n.doctype+=c,n.state=u.DOCTYPE_DTD_QUOTED,n.q=c):n.doctype+=c;continue;case u.DOCTYPE_DTD_QUOTED:n.doctype+=c,c===n.q&&(n.state=u.DOCTYPE_DTD,n.q="");continue;case u.COMMENT:c==="-"?n.state=u.COMMENT_ENDING:n.comment+=c;continue;case u.COMMENT_ENDING:c==="-"?(n.state=u.COMMENT_ENDED,n.comment=rt(n.opt,n.comment),n.comment&&l(n,"oncomment",n.comment),n.comment=""):(n.comment+="-"+c,n.state=u.COMMENT);continue;case u.COMMENT_ENDED:c!==">"?(x(n,"Malformed comment"),n.comment+="--"+c,n.state=u.COMMENT):n.doctype&&n.doctype!==!0?n.state=u.DOCTYPE_DTD:n.state=u.TEXT;continue;case u.CDATA:c==="]"?n.state=u.CDATA_ENDING:n.cdata+=c;continue;case u.CDATA_ENDING:c==="]"?n.state=u.CDATA_ENDING_2:(n.cdata+="]"+c,n.state=u.CDATA);continue;case u.CDATA_ENDING_2:c===">"?(n.cdata&&l(n,"oncdata",n.cdata),l(n,"onclosecdata"),n.cdata="",n.state=u.TEXT):c==="]"?n.cdata+="]":(n.cdata+="]]"+c,n.state=u.CDATA);continue;case u.PROC_INST:c==="?"?n.state=u.PROC_INST_ENDING:R(c)?n.state=u.PROC_INST_BODY:n.procInstName+=c;continue;case u.PROC_INST_BODY:if(!n.procInstBody&&R(c))continue;c==="?"?n.state=u.PROC_INST_ENDING:n.procInstBody+=c;continue;case u.PROC_INST_ENDING:c===">"?(l(n,"onprocessinginstruction",{name:n.procInstName,body:n.procInstBody}),n.procInstName=n.procInstBody="",n.state=u.TEXT):(n.procInstBody+="?"+c,n.state=u.PROC_INST_BODY);continue;case u.OPEN_TAG:L(g,c)?n.tagName+=c:(gt(n),c===">"?st(n):c==="/"?n.state=u.OPEN_TAG_SLASH:(R(c)||x(n,"Invalid character in tag name"),n.state=u.ATTRIB));continue;case u.OPEN_TAG_SLASH:c===">"?(st(n,!0),ht(n)):(x(n,"Forward-slash in opening tag not followed by >"),n.state=u.ATTRIB);continue;case u.ATTRIB:if(R(c))continue;c===">"?st(n):c==="/"?n.state=u.OPEN_TAG_SLASH:L(z,c)?(n.attribName=c,n.attribValue="",n.state=u.ATTRIB_NAME):x(n,"Invalid attribute name");continue;case u.ATTRIB_NAME:c==="="?n.state=u.ATTRIB_VALUE:c===">"?(x(n,"Attribute without value"),n.attribValue=n.attribName,ft(n),st(n)):R(c)?n.state=u.ATTRIB_NAME_SAW_WHITE:L(g,c)?n.attribName+=c:x(n,"Invalid attribute name");continue;case u.ATTRIB_NAME_SAW_WHITE:if(c==="=")n.state=u.ATTRIB_VALUE;else{if(R(c))continue;x(n,"Attribute without value"),n.tag.attributes[n.attribName]="",n.attribValue="",l(n,"onattribute",{name:n.attribName,value:""}),n.attribName="",c===">"?st(n):L(z,c)?(n.attribName=c,n.state=u.ATTRIB_NAME):(x(n,"Invalid attribute name"),n.state=u.ATTRIB)}continue;case u.ATTRIB_VALUE:if(R(c))continue;D(c)?(n.q=c,n.state=u.ATTRIB_VALUE_QUOTED):(n.opt.unquotedAttributeValues||J(n,"Unquoted attribute value"),n.state=u.ATTRIB_VALUE_UNQUOTED,n.attribValue=c);continue;case u.ATTRIB_VALUE_QUOTED:if(c!==n.q){c==="&"?n.state=u.ATTRIB_VALUE_ENTITY_Q:n.attribValue+=c;continue}ft(n),n.q="",n.state=u.ATTRIB_VALUE_CLOSED;continue;case u.ATTRIB_VALUE_CLOSED:R(c)?n.state=u.ATTRIB:c===">"?st(n):c==="/"?n.state=u.OPEN_TAG_SLASH:L(z,c)?(x(n,"No whitespace between attributes"),n.attribName=c,n.attribValue="",n.state=u.ATTRIB_NAME):x(n,"Invalid attribute name");continue;case u.ATTRIB_VALUE_UNQUOTED:if(!U(c)){c==="&"?n.state=u.ATTRIB_VALUE_ENTITY_U:n.attribValue+=c;continue}ft(n),c===">"?st(n):n.state=u.ATTRIB;continue;case u.CLOSE_TAG:if(n.tagName)c===">"?ht(n):L(g,c)?n.tagName+=c:n.script?(n.script+="</"+n.tagName,n.tagName="",n.state=u.SCRIPT):(R(c)||x(n,"Invalid tagname in closing tag"),n.state=u.CLOSE_TAG_SAW_WHITE);else{if(R(c))continue;B(z,c)?n.script?(n.script+="</"+c,n.state=u.SCRIPT):x(n,"Invalid tagname in closing tag."):n.tagName=c}continue;case u.CLOSE_TAG_SAW_WHITE:if(R(c))continue;c===">"?ht(n):x(n,"Invalid characters in closing tag");continue;case u.TEXT_ENTITY:case u.ATTRIB_VALUE_ENTITY_Q:case u.ATTRIB_VALUE_ENTITY_U:var q,tt;switch(n.state){case u.TEXT_ENTITY:q=u.TEXT,tt="textNode";break;case u.ATTRIB_VALUE_ENTITY_Q:q=u.ATTRIB_VALUE_QUOTED,tt="attribValue";break;case u.ATTRIB_VALUE_ENTITY_U:q=u.ATTRIB_VALUE_UNQUOTED,tt="attribValue";break}if(c===";"){var Z=Ot(n);n.opt.unparsedEntities&&!Object.values(s.XML_ENTITIES).includes(Z)?(n.entity="",n.state=q,n.write(Z)):(n[tt]+=Z,n.entity="",n.state=q)}else L(n.entity.length?A:I,c)?n.entity+=c:(x(n,"Invalid character in entity name"),n[tt]+="&"+n.entity+c,n.entity="",n.state=q);continue;default:throw new Error(n,"Unknown state: "+n.state)}return n.position>=n.bufferCheckPosition&&f(n),n}String.fromCodePoint||(function(){var i=String.fromCharCode,n=Math.floor,w=function(){var c=16384,$=[],Y,q,tt=-1,Z=arguments.length;if(!Z)return"";for(var ut="";++tt<Z;){var Q=Number(arguments[tt]);if(!isFinite(Q)||Q<0||Q>1114111||n(Q)!==Q)throw RangeError("Invalid code point: "+Q);Q<=65535?$.push(Q):(Q-=65536,Y=(Q>>10)+55296,q=Q%1024+56320,$.push(Y,q)),(tt+1===Z||$.length>c)&&(ut+=i.apply(null,$),$.length=0)}return ut};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:w,configurable:!0,writable:!0}):String.fromCodePoint=w})()})(o)})(we)),we}var ir=nr();const or=He(ir),sr={"http://www.w3.org/2000/svg":{ext:"svg",mime:"image/svg+xml"},"http://www.w3.org/1999/xhtml":{ext:"xhtml",mime:"application/xhtml+xml"},"http://www.opengis.net/kml/2.2":{ext:"kml",mime:"application/vnd.google-earth.kml+xml"},"http://www.opengis.net/gml":{ext:"gml",mime:"application/gml+xml"}},ar={rss:{ext:"rss",mime:"application/rss+xml"},"score-partwise":{ext:"musicxml",mime:"application/vnd.recordare.musicxml+xml"},svg:{ext:"svg",mime:"image/svg+xml"}};class ur{constructor(s){this.options=s??{},this.firstTag=!0,this.onEnd=!1,this.parser=or.parser(!0,{xmlns:!0}),this.nesting=0,this.parser.onerror=y=>{y.message.startsWith("Invalid character entity")||(this.fileType=void 0,this.onEnd=!0)},this.parser.onopentag=y=>{++this.nesting,!(!this.firstTag||this.onEnd)&&(this.firstTag=!1,y.uri?this.fileType=sr[y.uri]:y.name&&(this.fileType=ar[y.name.toLowerCase()]),this.fileType&&!this.options.fullScan&&(this.onEnd=!0))},this.parser.onclosetag=()=>{--this.nesting}}write(s){this.parser.write(s)}close(){this.parser.close(),this.onEnd=!0}isValid(){return this.nesting===0}}function cr(o,{validate:s=!0}={}){if(typeof o!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof o}\``);if(o=o.trim(),o.length===0)return!1;const y=new ur({fullScan:s});if(s){if(y.write(o),!y.isValid())return!1}else{let N=0;for(;o.length>N&&!y.onEnd;)y.write(o.slice(N,Math.min(N+128,o.length))),N+=128}return y.fileType?.ext==="svg"}class vr{_view;constructor(s){lr(s),this._view=s}get id(){return this._view.id}get name(){return this._view.name}get caption(){return this._view.caption}get emptyTitle(){return this._view.emptyTitle}get emptyCaption(){return this._view.emptyCaption}get getContents(){return this._view.getContents}get hidden(){return this._view.hidden}get icon(){return this._view.icon}set icon(s){this._view.icon=s}get order(){return this._view.order}set order(s){this._view.order=s}get params(){return this._view.params}set params(s){this._view.params=s}get columns(){return this._view.columns}get emptyView(){return this._view.emptyView}get parent(){return this._view.parent}get sticky(){return this._view.sticky}get expanded(){return this._view.expanded}set expanded(s){this._view.expanded=s}get defaultSortKey(){return this._view.defaultSortKey}get loadChildViews(){return this._view.loadChildViews}}const lr=function(o){if(!o.id||typeof o.id!="string")throw new Error("View id is required and must be a string");if(!o.name||typeof o.name!="string")throw new Error("View name is required and must be a string");if("caption"in o&&typeof o.caption!="string")throw new Error("View caption must be a string");if(!o.getContents||typeof o.getContents!="function")throw new Error("View getContents is required and must be a function");if("hidden"in o&&typeof o.hidden!="boolean")throw new Error("View hidden must be a boolean");if(!o.icon||typeof o.icon!="string"||!cr(o.icon))throw new Error("View icon is required and must be a valid svg string");if("order"in o&&typeof o.order!="number")throw new Error("View order must be a number");if(o.columns&&o.columns.forEach(s=>{if(!(s instanceof er))throw new Error("View columns must be an array of Column. Invalid column found")}),o.emptyView&&typeof o.emptyView!="function")throw new Error("View emptyView must be a function");if(o.parent&&typeof o.parent!="string")throw new Error("View parent must be a string");if("sticky"in o&&typeof o.sticky!="boolean")throw new Error("View sticky must be a boolean");if("expanded"in o&&typeof o.expanded!="boolean")throw new Error("View expanded must be a boolean");if(o.defaultSortKey&&typeof o.defaultSortKey!="string")throw new Error("View defaultSortKey must be a string");if(o.loadChildViews&&typeof o.loadChildViews!="function")throw new Error("View loadChildViews must be a function");return!0},Yt=["B","KB","MB","GB","TB","PB"],qt=["B","KiB","MiB","GiB","TiB","PiB"];function Nr(o,s=!1,y=!1,N=!1){y=y&&!N,typeof o=="string"&&(o=Number(o));let f=o>0?Math.floor(Math.log(o)/Math.log(N?1e3:1024)):0;f=Math.min((y?qt.length:Yt.length)-1,f);const b=y?qt[f]:Yt[f];let T=(o/Math.pow(N?1e3:1024,f)).toFixed(1);return s===!0&&f===0?(T!=="0.0"?"< 1 ":"0 ")+(y?qt[1]:Yt[1]):(f<2?T=parseFloat(T).toFixed(0):T=parseFloat(T).toLocaleString(Pe()),T+" "+b)}export{er as C,gr as F,ve as N,It as P,vr as V,mr as a,wr as b,Tr as c,pr as d,re as e,Ir as f,br as g,Nr as h,dr as j,At as l,Er as p,yr as r};
//# sourceMappingURL=index-CAI2cmWt.chunk.mjs.map
