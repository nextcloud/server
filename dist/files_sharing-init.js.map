{"version":3,"file":"files_sharing-init.js?v=32ce83ac864ff26c2401","mappings":"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","sources":["webpack:///nextcloud/webpack/runtime/chunk loaded","webpack:///nextcloud/webpack/runtime/load script","webpack:///nextcloud/apps/files_sharing/src/files_views/shares.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/acceptShareAction.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/openInFilesAction.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/rejectShareAction.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/restoreShareAction.ts","webpack://nextcloud/./apps/files_sharing/src/files_actions/sharingStatusAction.scss?6b51","webpack:///nextcloud/apps/files_sharing/src/files_actions/sharingStatusAction.ts","webpack:///nextcloud/apps/files_sharing/src/utils/AccountIcon.ts","webpack:///nextcloud/core/src/OC/currentuser.js","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue","webpack://nextcloud/./apps/files_sharing/src/components/FileListFilterAccount.vue?f338","webpack://nextcloud/./apps/files_sharing/src/components/FileListFilterAccount.vue?64e4","webpack:///nextcloud/apps/files_sharing/src/files_filters/AccountFilter.ts","webpack:///nextcloud/apps/files_sharing/src/files_newMenu/newFileRequest.ts","webpack:///nextcloud/apps/files_sharing/src/init.ts","webpack:///nextcloud/apps/files_sharing/src/files_headers/noteToRecipient.ts","webpack:///nextcloud/apps/files_sharing/src/services/ConfigService.ts","webpack:///nextcloud/apps/files_sharing/src/services/SharingService.ts","webpack:///nextcloud/apps/files_sharing/src/services/logger.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/sharingStatusAction.scss","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue?vue&type=style&index=0&id=ec2dd1f8&prod&module=true&lang=css","webpack:///nextcloud/node_modules/@nextcloud/files/dist/dav.mjs","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/ensure chunk","webpack:///nextcloud/webpack/runtime/get javascript chunk filename","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/webpack/runtime/make namespace object","webpack:///nextcloud/webpack/runtime/node module decorator","webpack:///nextcloud/webpack/runtime/runtimeId","webpack:///nextcloud/webpack/runtime/publicPath","webpack:///nextcloud/webpack/runtime/jsonp chunk loading","webpack:///nextcloud/webpack/runtime/nonce","webpack:///nextcloud/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"nextcloud-ui-legacy:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport AccountClockSvg from '@mdi/svg/svg/account-clock-outline.svg?raw';\nimport AccountGroupSvg from '@mdi/svg/svg/account-group-outline.svg?raw';\nimport AccountSvg from '@mdi/svg/svg/account-outline.svg?raw';\nimport AccountPlusSvg from '@mdi/svg/svg/account-plus-outline.svg?raw';\nimport FileUploadSvg from '@mdi/svg/svg/file-upload-outline.svg?raw';\nimport LinkSvg from '@mdi/svg/svg/link.svg?raw';\nimport DeleteSvg from '@mdi/svg/svg/trash-can-outline.svg?raw';\nimport { getNavigation, View } from '@nextcloud/files';\nimport { loadState } from '@nextcloud/initial-state';\nimport { t } from '@nextcloud/l10n';\nimport { ShareType } from '@nextcloud/sharing';\nimport { getContents, isFileRequest } from '../services/SharingService.ts';\nexport const sharesViewId = 'shareoverview';\nexport const sharedWithYouViewId = 'sharingin';\nexport const sharedWithOthersViewId = 'sharingout';\nexport const sharingByLinksViewId = 'sharinglinks';\nexport const deletedSharesViewId = 'deletedshares';\nexport const pendingSharesViewId = 'pendingshares';\nexport const fileRequestViewId = 'filerequest';\nexport default () => {\n    const Navigation = getNavigation();\n    Navigation.register(new View({\n        id: sharesViewId,\n        name: t('files_sharing', 'Shares'),\n        caption: t('files_sharing', 'Overview of shared files.'),\n        emptyTitle: t('files_sharing', 'No shares'),\n        emptyCaption: t('files_sharing', 'Files and folders you shared or have been shared with you will show up here'),\n        icon: AccountPlusSvg,\n        order: 20,\n        columns: [],\n        getContents: () => getContents(),\n    }));\n    Navigation.register(new View({\n        id: sharedWithYouViewId,\n        name: t('files_sharing', 'Shared with you'),\n        caption: t('files_sharing', 'List of files that are shared with you.'),\n        emptyTitle: t('files_sharing', 'Nothing shared with you yet'),\n        emptyCaption: t('files_sharing', 'Files and folders others shared with you will show up here'),\n        icon: AccountSvg,\n        order: 1,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(true, false, false, false),\n    }));\n    // Don't show this view if the user has no storage quota\n    const storageStats = loadState('files', 'storageStats', { quota: -1 });\n    if (storageStats.quota !== 0) {\n        Navigation.register(new View({\n            id: sharedWithOthersViewId,\n            name: t('files_sharing', 'Shared with others'),\n            caption: t('files_sharing', 'List of files that you shared with others.'),\n            emptyTitle: t('files_sharing', 'Nothing shared yet'),\n            emptyCaption: t('files_sharing', 'Files and folders you shared will show up here'),\n            icon: AccountGroupSvg,\n            order: 2,\n            parent: sharesViewId,\n            columns: [],\n            getContents: () => getContents(false, true, false, false),\n        }));\n    }\n    Navigation.register(new View({\n        id: sharingByLinksViewId,\n        name: t('files_sharing', 'Shared by link'),\n        caption: t('files_sharing', 'List of files that are shared by link.'),\n        emptyTitle: t('files_sharing', 'No shared links'),\n        emptyCaption: t('files_sharing', 'Files and folders you shared by link will show up here'),\n        icon: LinkSvg,\n        order: 3,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(false, true, false, false, [ShareType.Link]),\n    }));\n    Navigation.register(new View({\n        id: fileRequestViewId,\n        name: t('files_sharing', 'File requests'),\n        caption: t('files_sharing', 'List of file requests.'),\n        emptyTitle: t('files_sharing', 'No file requests'),\n        emptyCaption: t('files_sharing', 'File requests you have created will show up here'),\n        icon: FileUploadSvg,\n        order: 4,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(false, true, false, false, [ShareType.Link, ShareType.Email])\n            .then(({ folder, contents }) => {\n            return {\n                folder,\n                contents: contents.filter((node) => isFileRequest(node.attributes?.['share-attributes'] || [])),\n            };\n        }),\n    }));\n    Navigation.register(new View({\n        id: deletedSharesViewId,\n        name: t('files_sharing', 'Deleted shares'),\n        caption: t('files_sharing', 'List of shares you left.'),\n        emptyTitle: t('files_sharing', 'No deleted shares'),\n        emptyCaption: t('files_sharing', 'Shares you have left will show up here'),\n        icon: DeleteSvg,\n        order: 5,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(false, false, false, true),\n    }));\n    Navigation.register(new View({\n        id: pendingSharesViewId,\n        name: t('files_sharing', 'Pending shares'),\n        caption: t('files_sharing', 'List of unapproved shares.'),\n        emptyTitle: t('files_sharing', 'No pending shares'),\n        emptyCaption: t('files_sharing', 'Shares you have received but not approved will show up here'),\n        icon: AccountClockSvg,\n        order: 6,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(false, false, true, false),\n    }));\n};\n","/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport CheckSvg from '@mdi/svg/svg/check.svg?raw';\nimport axios from '@nextcloud/axios';\nimport { emit } from '@nextcloud/event-bus';\nimport { translatePlural as n } from '@nextcloud/l10n';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport { pendingSharesViewId } from '../files_views/shares.ts';\nexport const action = {\n    id: 'accept-share',\n    displayName: ({ nodes }) => n('files_sharing', 'Accept share', 'Accept shares', nodes.length),\n    iconSvgInline: () => CheckSvg,\n    enabled: ({ nodes, view }) => nodes.length > 0 && view.id === pendingSharesViewId,\n    async exec({ nodes }) {\n        try {\n            const node = nodes[0];\n            const isRemote = !!node.attributes.remote;\n            const url = generateOcsUrl('apps/files_sharing/api/v1/{shareBase}/pending/{id}', {\n                shareBase: isRemote ? 'remote_shares' : 'shares',\n                id: node.id,\n            });\n            await axios.post(url);\n            // Remove from current view\n            emit('files:node:deleted', node);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    },\n    async execBatch({ nodes, view, folder, contents }) {\n        return Promise.all(nodes.map((node) => this.exec({\n            nodes: [node],\n            view,\n            folder,\n            contents,\n        })));\n    },\n    order: 1,\n    inline: () => true,\n};\n","/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { DefaultType, FileType } from '@nextcloud/files';\nimport { translate as t } from '@nextcloud/l10n';\nimport { sharedWithOthersViewId, sharedWithYouViewId, sharesViewId, sharingByLinksViewId } from '../files_views/shares.ts';\nexport const action = {\n    id: 'files_sharing:open-in-files',\n    displayName: () => t('files_sharing', 'Open in Files'),\n    iconSvgInline: () => '',\n    enabled: ({ view }) => [\n        sharesViewId,\n        sharedWithYouViewId,\n        sharedWithOthersViewId,\n        sharingByLinksViewId,\n        // Deleted and pending shares are not\n        // accessible in the files app.\n    ].includes(view.id),\n    async exec({ nodes }) {\n        const isFolder = nodes[0].type === FileType.Folder;\n        window.OCP.Files.Router.goToRoute(null, // use default route\n        {\n            view: 'files',\n            fileid: String(nodes[0].fileid),\n        }, {\n            // If this node is a folder open the folder in files\n            dir: isFolder ? nodes[0].path : nodes[0].dirname,\n            // otherwise if this is a file, we should open it\n            openfile: isFolder ? undefined : 'true',\n        });\n        return null;\n    },\n    // Before openFolderAction\n    order: -1000,\n    default: DefaultType.HIDDEN,\n};\n","/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport CloseSvg from '@mdi/svg/svg/close.svg?raw';\nimport axios from '@nextcloud/axios';\nimport { emit } from '@nextcloud/event-bus';\nimport { translatePlural as n } from '@nextcloud/l10n';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport { ShareType } from '@nextcloud/sharing';\nimport { pendingSharesViewId } from '../files_views/shares.ts';\nexport const action = {\n    id: 'reject-share',\n    displayName: ({ nodes }) => n('files_sharing', 'Reject share', 'Reject shares', nodes.length),\n    iconSvgInline: () => CloseSvg,\n    enabled: ({ nodes, view }) => {\n        if (view.id !== pendingSharesViewId) {\n            return false;\n        }\n        if (nodes.length === 0) {\n            return false;\n        }\n        // disable rejecting group shares from the pending list because they anyway\n        // land back into that same list after rejecting them\n        if (nodes.some((node) => node.attributes.remote_id\n            && node.attributes.share_type === ShareType.RemoteGroup)) {\n            return false;\n        }\n        return true;\n    },\n    async exec({ nodes }) {\n        try {\n            const node = nodes[0];\n            const isRemote = !!node.attributes.remote;\n            const shareBase = isRemote ? 'remote_shares' : 'shares';\n            const id = node.id;\n            let url;\n            if (node.attributes.accepted === 0) {\n                url = generateOcsUrl('apps/files_sharing/api/v1/{shareBase}/pending/{id}', {\n                    shareBase,\n                    id,\n                });\n            }\n            else {\n                url = generateOcsUrl('apps/files_sharing/api/v1/{shareBase}/{id}', {\n                    shareBase,\n                    id,\n                });\n            }\n            await axios.delete(url);\n            // Remove from current view\n            emit('files:node:deleted', node);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    },\n    async execBatch({ nodes, view, folder, contents }) {\n        return Promise.all(nodes.map((node) => this.exec({ nodes: [node], view, folder, contents })));\n    },\n    order: 2,\n    inline: () => true,\n};\n","/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport ArrowULeftTopSvg from '@mdi/svg/svg/arrow-u-left-top.svg?raw';\nimport axios from '@nextcloud/axios';\nimport { emit } from '@nextcloud/event-bus';\nimport { translatePlural as n } from '@nextcloud/l10n';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport { deletedSharesViewId } from '../files_views/shares.ts';\nexport const action = {\n    id: 'restore-share',\n    displayName: ({ nodes }) => n('files_sharing', 'Restore share', 'Restore shares', nodes.length),\n    iconSvgInline: () => ArrowULeftTopSvg,\n    enabled: ({ nodes, view }) => nodes.length > 0 && view.id === deletedSharesViewId,\n    async exec({ nodes }) {\n        try {\n            const node = nodes[0];\n            const url = generateOcsUrl('apps/files_sharing/api/v1/deletedshares/{id}', {\n                id: node.id,\n            });\n            await axios.post(url);\n            // Remove from current view\n            emit('files:node:deleted', node);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    },\n    async execBatch({ nodes, view, folder, contents }) {\n        return Promise.all(nodes.map((node) => this.exec({ nodes: [node], view, folder, contents })));\n    },\n    order: 1,\n    inline: () => true,\n};\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./sharingStatusAction.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./sharingStatusAction.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport AccountGroupSvg from '@mdi/svg/svg/account-group-outline.svg?raw';\nimport AccountPlusSvg from '@mdi/svg/svg/account-plus-outline.svg?raw';\nimport LinkSvg from '@mdi/svg/svg/link.svg?raw';\nimport { getCurrentUser } from '@nextcloud/auth';\nimport { showError } from '@nextcloud/dialogs';\nimport { getSidebar, Permission } from '@nextcloud/files';\nimport { translate as t } from '@nextcloud/l10n';\nimport { ShareType } from '@nextcloud/sharing';\nimport { isPublicShare } from '@nextcloud/sharing/public';\nimport CircleSvg from '../../../../core/img/apps/circles.svg?raw';\nimport { generateAvatarSvg } from '../utils/AccountIcon.ts';\nimport './sharingStatusAction.scss';\n/**\n * Check if the node is external (federated)\n *\n * @param node - The node to check\n */\nfunction isExternal(node) {\n    return node.attributes?.['is-federated'] ?? false;\n}\nexport const ACTION_SHARING_STATUS = 'sharing-status';\nexport const action = {\n    id: ACTION_SHARING_STATUS,\n    displayName({ nodes }) {\n        const node = nodes[0];\n        const shareTypes = Object.values(node?.attributes?.['share-types'] || {}).flat();\n        if (shareTypes.length > 0\n            || (node.owner !== getCurrentUser()?.uid || isExternal(node))) {\n            return t('files_sharing', 'Shared');\n        }\n        return '';\n    },\n    title({ nodes }) {\n        const node = nodes[0];\n        if (node.owner && (node.owner !== getCurrentUser()?.uid || isExternal(node))) {\n            const ownerDisplayName = node?.attributes?.['owner-display-name'];\n            return t('files_sharing', 'Shared by {ownerDisplayName}', { ownerDisplayName });\n        }\n        const shareTypes = Object.values(node?.attributes?.['share-types'] || {}).flat();\n        if (shareTypes.length > 1) {\n            return t('files_sharing', 'Shared multiple times with different people');\n        }\n        const sharees = node.attributes.sharees?.sharee;\n        if (!sharees) {\n            // No sharees so just show the default message to create a new share\n            return t('files_sharing', 'Sharing options');\n        }\n        const sharee = [sharees].flat()[0]; // the property is sometimes weirdly normalized, so we need to compensate\n        switch (sharee?.type) {\n            case ShareType.User:\n                return t('files_sharing', 'Shared with {user}', { user: sharee['display-name'] });\n            case ShareType.Group:\n                return t('files_sharing', 'Shared with group {group}', { group: sharee['display-name'] ?? sharee.id });\n            default:\n                return t('files_sharing', 'Shared with others');\n        }\n    },\n    iconSvgInline({ nodes }) {\n        const node = nodes[0];\n        const shareTypes = Object.values(node?.attributes?.['share-types'] || {}).flat();\n        // Mixed share types\n        if (Array.isArray(node.attributes?.['share-types']) && node.attributes?.['share-types'].length > 1) {\n            return AccountPlusSvg;\n        }\n        // Link shares\n        if (shareTypes.includes(ShareType.Link)\n            || shareTypes.includes(ShareType.Email)) {\n            return LinkSvg;\n        }\n        // Group shares\n        if (shareTypes.includes(ShareType.Group)\n            || shareTypes.includes(ShareType.RemoteGroup)) {\n            return AccountGroupSvg;\n        }\n        // Circle shares\n        if (shareTypes.includes(ShareType.Team)) {\n            return CircleSvg;\n        }\n        if (node.owner && (node.owner !== getCurrentUser()?.uid || isExternal(node))) {\n            return generateAvatarSvg(node.owner, isExternal(node));\n        }\n        return AccountPlusSvg;\n    },\n    enabled({ nodes }) {\n        if (nodes.length !== 1) {\n            return false;\n        }\n        // Do not leak information about users to public shares\n        if (isPublicShare()) {\n            return false;\n        }\n        const node = nodes[0];\n        const shareTypes = node.attributes?.['share-types'];\n        const isMixed = Array.isArray(shareTypes) && shareTypes.length > 0;\n        // If the node is shared multiple times with\n        // different share types to the current user\n        if (isMixed) {\n            return true;\n        }\n        // If the node is shared by someone else\n        if (node.owner !== getCurrentUser()?.uid || isExternal(node)) {\n            return true;\n        }\n        // You need share permissions to share this file\n        // and read permissions to see the sidebar\n        return (node.permissions & Permission.SHARE) !== 0\n            && (node.permissions & Permission.READ) !== 0;\n    },\n    async exec({ nodes }) {\n        // You need read permissions to see the sidebar\n        const node = nodes[0];\n        if ((node.permissions & Permission.READ) !== 0) {\n            const sidebar = getSidebar();\n            sidebar.open(node, 'sharing');\n            return null;\n        }\n        // Should not happen as the enabled check should prevent this\n        // leaving it here for safety or in case someone calls this action directly\n        showError(t('files_sharing', 'You do not have enough permissions to share this file.'));\n        return null;\n    },\n    inline: () => true,\n};\n","/*!\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { generateUrl } from '@nextcloud/router';\n/**\n *\n */\nfunction isDarkMode() {\n    return window?.matchMedia?.('(prefers-color-scheme: dark)')?.matches === true\n        || document.querySelector('[data-themes*=dark]') !== null;\n}\n/**\n *\n * @param userId\n * @param isGuest\n */\nexport function generateAvatarSvg(userId, isGuest = false) {\n    // normal avatar url: /avatar/{userId}/32?guestFallback=true\n    // dark avatar url: /avatar/{userId}/32/dark?guestFallback=true\n    // guest avatar url: /avatar/guest/{userId}/32\n    // guest dark avatar url: /avatar/guest/{userId}/32/dark\n    const basePath = isGuest ? `/avatar/guest/${userId}` : `/avatar/${userId}`;\n    const darkModePath = isDarkMode() ? '/dark' : '';\n    const guestFallback = isGuest ? '' : '?guestFallback=true';\n    const url = `${basePath}/32${darkModePath}${guestFallback}`;\n    const avatarUrl = generateUrl(url, { userId });\n    return `<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\"\n\t\txmlns=\"http://www.w3.org/2000/svg\" class=\"sharing-status__avatar\">\n\t\t<image href=\"${avatarUrl}\" height=\"32\" width=\"32\" />\n\t</svg>`;\n}\n","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nconst rawUid = document\n\t.getElementsByTagName('head')[0]\n\t.getAttribute('data-user')\nconst displayName = document\n\t.getElementsByTagName('head')[0]\n\t.getAttribute('data-user-displayname')\n\nexport const currentUser = rawUid !== undefined ? rawUid : false\n\n/**\n *\n */\nexport function getCurrentUser() {\n\treturn {\n\t\tuid: currentUser,\n\t\tdisplayName,\n\t}\n}\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-6.use[1]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-6.use[1]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:_vm.$style.fileListFilterAccount},[(_setup.availableAccounts.length > 1)?_c(_setup.NcTextField,{attrs:{\"type\":\"search\",\"label\":_setup.t('files_sharing', 'Filter accounts')},model:{value:(_setup.accountFilter),callback:function ($$v) {_setup.accountFilter=$$v},expression:\"accountFilter\"}}):_vm._e(),_vm._v(\" \"),_vm._l((_setup.shownAccounts),function(account){return _c(_setup.NcButton,{key:account.id,attrs:{\"alignment\":\"start\",\"pressed\":_setup.selectedAccounts.includes(account),\"variant\":\"tertiary\",\"wide\":\"\"},on:{\"update:pressed\":function($event){return _setup.toggleAccount(account.id, $event)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c(_setup.NcAvatar,_vm._b({class:_vm.$style.fileListFilterAccount__avatar,attrs:{\"size\":24,\"disable-menu\":\"\",\"hide-status\":\"\"}},'NcAvatar',account,false))]},proxy:true}],null,true)},[_vm._v(\"\\n\\t\\t\"+_vm._s(account.displayName)+\"\\n\\t\\t\"),(account.id === _setup.currentUserId)?_c('span',{class:_vm.$style.fileListFilterAccount__currentUser},[_vm._v(\"\\n\\t\\t\\t(\"+_vm._s(_setup.t('files', 'you'))+\")\\n\\t\\t\")]):_vm._e()])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-3.use[1]!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=style&index=0&id=ec2dd1f8&prod&module=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-3.use[1]!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=style&index=0&id=ec2dd1f8&prod&module=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./FileListFilterAccount.vue?vue&type=template&id=ec2dd1f8\"\nimport script from \"./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"\nimport style0 from \"./FileListFilterAccount.vue?vue&type=style&index=0&id=ec2dd1f8&prod&module=true&lang=css\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport svgAccountMultipleOutline from '@mdi/svg/svg/account-multiple-outline.svg?raw';\nimport { subscribe } from '@nextcloud/event-bus';\nimport { FileListFilter, registerFileListFilter } from '@nextcloud/files';\nimport { t } from '@nextcloud/l10n';\nimport { ShareType } from '@nextcloud/sharing';\nimport { isPublicShare } from '@nextcloud/sharing/public';\nimport wrap from '@vue/web-component-wrapper';\nimport Vue from 'vue';\nimport FileListFilterAccount from '../components/FileListFilterAccount.vue';\n// once files_sharing is migrated to the new frontend use the import instead:\n// import { TRASHBIN_VIEW_ID } from '../../../files_trashbin/src/files_views/trashbinView.ts'\nconst TRASHBIN_VIEW_ID = 'trashbin';\nconst tagName = 'files_sharing-file-list-filter-account';\n/**\n * File list filter to filter by owner / sharee\n */\nclass AccountFilter extends FileListFilter {\n    #availableAccounts;\n    #filterAccounts;\n    displayName = t('files_sharing', 'People');\n    iconSvgInline = svgAccountMultipleOutline;\n    tagName = tagName;\n    constructor() {\n        super('files_sharing:account', 100);\n        this.#availableAccounts = [];\n        subscribe('files:list:updated', ({ contents }) => {\n            this.updateAvailableAccounts(contents);\n        });\n    }\n    get availableAccounts() {\n        return this.#availableAccounts;\n    }\n    get filterAccounts() {\n        return this.#filterAccounts;\n    }\n    filter(nodes) {\n        if (!this.#filterAccounts || this.#filterAccounts.length === 0) {\n            return nodes;\n        }\n        const userIds = this.#filterAccounts.map(({ uid }) => uid);\n        // Filter if the owner of the node is in the list of filtered accounts\n        return nodes.filter((node) => {\n            if (window.OCP.Files.Router.params.view === TRASHBIN_VIEW_ID) {\n                const deletedBy = node.attributes?.['trashbin-deleted-by-id'];\n                if (deletedBy && userIds.includes(deletedBy)) {\n                    return true;\n                }\n                return false;\n            }\n            // if the owner matches\n            if (node.owner && userIds.includes(node.owner)) {\n                return true;\n            }\n            // Or any of the sharees (if only one share this will be an object, otherwise an array. So using `.flat()` to make it always an array)\n            const sharees = node.attributes.sharees?.sharee;\n            if (sharees && [sharees].flat().some(({ id }) => userIds.includes(id))) {\n                return true;\n            }\n            // If the node provides no information lets keep it\n            if (!node.owner && !sharees) {\n                return true;\n            }\n            // Not a valid node for the current filter\n            return false;\n        });\n    }\n    reset() {\n        this.dispatchEvent(new CustomEvent('reset'));\n    }\n    /**\n     * Set accounts that should be filtered.\n     *\n     * @param accounts - Account to filter or undefined if inactive.\n     */\n    setAccounts(accounts) {\n        this.#filterAccounts = accounts;\n        let chips = [];\n        if (this.#filterAccounts && this.#filterAccounts.length > 0) {\n            chips = this.#filterAccounts.map(({ displayName, uid }) => ({\n                text: displayName,\n                user: uid,\n                onclick: () => this.dispatchEvent(new CustomEvent('deselect', { detail: uid })),\n            }));\n        }\n        this.updateChips(chips);\n        this.filterUpdated();\n    }\n    /**\n     * Update the accounts owning nodes or have nodes shared to them.\n     *\n     * @param nodes - The current content of the file list.\n     */\n    updateAvailableAccounts(nodes) {\n        const available = new Map();\n        for (const node of nodes) {\n            const owner = node.owner;\n            if (owner && !available.has(owner)) {\n                available.set(owner, {\n                    uid: owner,\n                    displayName: node.attributes['owner-display-name'] ?? node.owner,\n                });\n            }\n            // ensure sharees is an array (if only one share then it is just an object)\n            const sharees = [node.attributes.sharees?.sharee].flat().filter(Boolean);\n            for (const sharee of [sharees].flat()) {\n                // Skip link shares and other without user\n                if (sharee.id === '') {\n                    continue;\n                }\n                if (sharee.type !== ShareType.User && sharee.type !== ShareType.Remote) {\n                    continue;\n                }\n                // Add if not already added\n                if (!available.has(sharee.id)) {\n                    available.set(sharee.id, {\n                        uid: sharee.id,\n                        displayName: sharee['display-name'],\n                    });\n                }\n            }\n            // lets also handle trashbin\n            const deletedBy = node.attributes?.['trashbin-deleted-by-id'];\n            if (deletedBy) {\n                available.set(deletedBy, {\n                    uid: deletedBy,\n                    displayName: node.attributes?.['trashbin-deleted-by-display-name'] || deletedBy,\n                });\n            }\n        }\n        this.#availableAccounts = [...available.values()];\n        this.dispatchEvent(new CustomEvent('accounts-updated'));\n    }\n}\n/**\n * Register the file list filter by owner or sharees\n */\nexport function registerAccountFilter() {\n    if (isPublicShare()) {\n        // We do not show the filter on public pages - it makes no sense\n        return;\n    }\n    const WrappedComponent = wrap(Vue, FileListFilterAccount);\n    // In Vue 2, wrap doesn't support disabling shadow :(\n    // Disable with a hack\n    Object.defineProperty(WrappedComponent.prototype, 'attachShadow', {\n        value() {\n            return this;\n        },\n    });\n    Object.defineProperty(WrappedComponent.prototype, 'shadowRoot', {\n        get() {\n            return this;\n        },\n    });\n    customElements.define(tagName, WrappedComponent);\n    registerFileListFilter(new AccountFilter());\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport FileUploadSvg from '@mdi/svg/svg/file-upload-outline.svg?raw';\nimport { t } from '@nextcloud/l10n';\nimport { isPublicShare } from '@nextcloud/sharing/public';\nimport { spawnDialog } from '@nextcloud/vue/functions/dialog';\nimport { defineAsyncComponent } from 'vue';\nimport Config from '../services/ConfigService.ts';\nconst sharingConfig = new Config();\nconst NewFileRequestDialogVue = defineAsyncComponent(() => import('../components/NewFileRequestDialog.vue'));\nexport const EntryId = 'file-request';\nexport const entry = {\n    id: EntryId,\n    displayName: t('files_sharing', 'Create file request'),\n    iconSvgInline: FileUploadSvg,\n    order: 10,\n    enabled() {\n        // not on public shares\n        if (isPublicShare()) {\n            return false;\n        }\n        if (!sharingConfig.isPublicUploadEnabled) {\n            return false;\n        }\n        // We will check for the folder permission on the dialog\n        return sharingConfig.isPublicShareAllowed;\n    },\n    async handler(context, content) {\n        spawnDialog(NewFileRequestDialogVue, {\n            context,\n            content,\n        });\n    },\n};\n","/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { addNewFileMenuEntry, registerFileAction } from '@nextcloud/files';\nimport { registerDavProperty } from '@nextcloud/files/dav';\nimport { action as acceptShareAction } from './files_actions/acceptShareAction.ts';\nimport { action as openInFilesAction } from './files_actions/openInFilesAction.ts';\nimport { action as rejectShareAction } from './files_actions/rejectShareAction.ts';\nimport { action as restoreShareAction } from './files_actions/restoreShareAction.ts';\nimport { action as sharingStatusAction } from './files_actions/sharingStatusAction.ts';\nimport { registerAccountFilter } from './files_filters/AccountFilter.ts';\nimport registerNoteToRecipient from './files_headers/noteToRecipient.ts';\nimport { entry as newFileRequest } from './files_newMenu/newFileRequest.ts';\nimport registerSharingViews from './files_views/shares.ts';\nregisterSharingViews();\naddNewFileMenuEntry(newFileRequest);\nregisterDavProperty('nc:note', { nc: 'http://nextcloud.org/ns' });\nregisterDavProperty('nc:sharees', { nc: 'http://nextcloud.org/ns' });\nregisterDavProperty('nc:hide-download', { nc: 'http://nextcloud.org/ns' });\nregisterDavProperty('nc:share-attributes', { nc: 'http://nextcloud.org/ns' });\nregisterDavProperty('oc:share-types', { oc: 'http://owncloud.org/ns' });\nregisterDavProperty('ocs:share-permissions', { ocs: 'http://open-collaboration-services.org/ns' });\nregisterFileAction(acceptShareAction);\nregisterFileAction(openInFilesAction);\nregisterFileAction(rejectShareAction);\nregisterFileAction(restoreShareAction);\nregisterFileAction(sharingStatusAction);\nregisterAccountFilter();\n// Add \"note to recipient\" message\nregisterNoteToRecipient();\n","/*!\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { registerFileListHeader } from '@nextcloud/files';\nimport Vue from 'vue';\n/**\n * Register the  \"note to recipient\" as a files list header\n */\nexport default function registerNoteToRecipient() {\n    let FilesHeaderNoteToRecipient;\n    let instance;\n    registerFileListHeader({\n        id: 'note-to-recipient',\n        order: 0,\n        // Always if there is a note\n        enabled: (folder) => Boolean(folder.attributes.note),\n        // Update the root folder if needed\n        updated: (folder) => {\n            if (instance) {\n                instance.updateFolder(folder);\n            }\n        },\n        // render simply spawns the component\n        render: async (el, folder) => {\n            if (FilesHeaderNoteToRecipient === undefined) {\n                const { default: component } = await import('../views/FilesHeaderNoteToRecipient.vue');\n                FilesHeaderNoteToRecipient = Vue.extend(component);\n            }\n            instance = new FilesHeaderNoteToRecipient().$mount(el);\n            instance.updateFolder(folder);\n        },\n    });\n}\n","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getCapabilities } from '@nextcloud/capabilities';\nimport { loadState } from '@nextcloud/initial-state';\nexport default class Config {\n    _capabilities;\n    constructor() {\n        this._capabilities = getCapabilities();\n    }\n    /**\n     * Get default share permissions, if any\n     */\n    get defaultPermissions() {\n        return this._capabilities.files_sharing?.default_permissions;\n    }\n    /**\n     * Should SHARE permission be excluded from \"Allow editing\" bundled permissions\n     */\n    get excludeReshareFromEdit() {\n        return this._capabilities.files_sharing?.exclude_reshare_from_edit === true;\n    }\n    /**\n     * Is public upload allowed on link shares ?\n     * This covers File request and Full upload/edit option.\n     */\n    get isPublicUploadEnabled() {\n        return this._capabilities.files_sharing?.public?.upload === true;\n    }\n    /**\n     * Get the federated sharing documentation link\n     */\n    get federatedShareDocLink() {\n        return window.OC.appConfig.core.federatedCloudShareDoc;\n    }\n    /**\n     * Get the default link share expiration date\n     */\n    get defaultExpirationDate() {\n        if (this.isDefaultExpireDateEnabled && this.defaultExpireDate !== null) {\n            return new Date(new Date().setDate(new Date().getDate() + this.defaultExpireDate));\n        }\n        return null;\n    }\n    /**\n     * Get the default internal expiration date\n     */\n    get defaultInternalExpirationDate() {\n        if (this.isDefaultInternalExpireDateEnabled && this.defaultInternalExpireDate !== null) {\n            return new Date(new Date().setDate(new Date().getDate() + this.defaultInternalExpireDate));\n        }\n        return null;\n    }\n    /**\n     * Get the default remote expiration date\n     */\n    get defaultRemoteExpirationDateString() {\n        if (this.isDefaultRemoteExpireDateEnabled && this.defaultRemoteExpireDate !== null) {\n            return new Date(new Date().setDate(new Date().getDate() + this.defaultRemoteExpireDate));\n        }\n        return null;\n    }\n    /**\n     * Are link shares password-enforced ?\n     */\n    get enforcePasswordForPublicLink() {\n        return window.OC.appConfig.core.enforcePasswordForPublicLink === true;\n    }\n    /**\n     * Is password asked by default on link shares ?\n     */\n    get enableLinkPasswordByDefault() {\n        return window.OC.appConfig.core.enableLinkPasswordByDefault === true;\n    }\n    /**\n     * Is link shares expiration enforced ?\n     */\n    get isDefaultExpireDateEnforced() {\n        return window.OC.appConfig.core.defaultExpireDateEnforced === true;\n    }\n    /**\n     * Is there a default expiration date for new link shares ?\n     */\n    get isDefaultExpireDateEnabled() {\n        return window.OC.appConfig.core.defaultExpireDateEnabled === true;\n    }\n    /**\n     * Is internal shares expiration enforced ?\n     */\n    get isDefaultInternalExpireDateEnforced() {\n        return window.OC.appConfig.core.defaultInternalExpireDateEnforced === true;\n    }\n    /**\n     * Is there a default expiration date for new internal shares ?\n     */\n    get isDefaultInternalExpireDateEnabled() {\n        return window.OC.appConfig.core.defaultInternalExpireDateEnabled === true;\n    }\n    /**\n     * Is remote shares expiration enforced ?\n     */\n    get isDefaultRemoteExpireDateEnforced() {\n        return window.OC.appConfig.core.defaultRemoteExpireDateEnforced === true;\n    }\n    /**\n     * Is there a default expiration date for new remote shares ?\n     */\n    get isDefaultRemoteExpireDateEnabled() {\n        return window.OC.appConfig.core.defaultRemoteExpireDateEnabled === true;\n    }\n    /**\n     * Are users on this server allowed to send shares to other servers ?\n     */\n    get isRemoteShareAllowed() {\n        return window.OC.appConfig.core.remoteShareAllowed === true;\n    }\n    /**\n     * Is federation enabled ?\n     */\n    get isFederationEnabled() {\n        return this._capabilities?.files_sharing?.federation?.outgoing === true;\n    }\n    /**\n     * Is public sharing enabled ?\n     */\n    get isPublicShareAllowed() {\n        return this._capabilities?.files_sharing?.public?.enabled === true;\n    }\n    /**\n     * Is sharing my mail (link share) enabled ?\n     */\n    get isMailShareAllowed() {\n        return this._capabilities?.files_sharing?.sharebymail?.enabled === true\n            && this.isPublicShareAllowed === true;\n    }\n    /**\n     * Get the default days to link shares expiration\n     */\n    get defaultExpireDate() {\n        return window.OC.appConfig.core.defaultExpireDate;\n    }\n    /**\n     * Get the default days to internal shares expiration\n     */\n    get defaultInternalExpireDate() {\n        return window.OC.appConfig.core.defaultInternalExpireDate;\n    }\n    /**\n     * Get the default days to remote shares expiration\n     */\n    get defaultRemoteExpireDate() {\n        return window.OC.appConfig.core.defaultRemoteExpireDate;\n    }\n    /**\n     * Is resharing allowed ?\n     */\n    get isResharingAllowed() {\n        return window.OC.appConfig.core.resharingAllowed === true;\n    }\n    /**\n     * Is password enforced for mail shares ?\n     */\n    get isPasswordForMailSharesRequired() {\n        return this._capabilities.files_sharing?.sharebymail?.password?.enforced === true;\n    }\n    /**\n     * Always show the email or userid unique sharee label if enabled by the admin\n     */\n    get shouldAlwaysShowUnique() {\n        return this._capabilities.files_sharing?.sharee?.always_show_unique === true;\n    }\n    /**\n     * Is sharing with groups allowed ?\n     */\n    get allowGroupSharing() {\n        return window.OC.appConfig.core.allowGroupSharing === true;\n    }\n    /**\n     * Get the maximum results of a share search\n     */\n    get maxAutocompleteResults() {\n        return parseInt(window.OC.config['sharing.maxAutocompleteResults'], 10) || 25;\n    }\n    /**\n     * Get the minimal string length\n     * to initiate a share search\n     */\n    get minSearchStringLength() {\n        return parseInt(window.OC.config['sharing.minSearchStringLength'], 10) || 0;\n    }\n    /**\n     * Get the password policy configuration\n     */\n    get passwordPolicy() {\n        return this._capabilities?.password_policy || {};\n    }\n    /**\n     * Returns true if custom tokens are allowed\n     */\n    get allowCustomTokens() {\n        return this._capabilities?.files_sharing?.public?.custom_tokens;\n    }\n    /**\n     * Show federated shares as internal shares\n     *\n     * @return\n     */\n    get showFederatedSharesAsInternal() {\n        return loadState('files_sharing', 'showFederatedSharesAsInternal', false);\n    }\n    /**\n     * Show federated shares to trusted servers as internal shares\n     *\n     * @return\n     */\n    get showFederatedSharesToTrustedServersAsInternal() {\n        return loadState('files_sharing', 'showFederatedSharesToTrustedServersAsInternal', false);\n    }\n    /**\n     * Show the external share ui\n     */\n    get showExternalSharing() {\n        return loadState('files_sharing', 'showExternalSharing', true);\n    }\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n// TODO: Fix this instead of disabling ESLint!!!\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { getCurrentUser } from '@nextcloud/auth';\nimport axios from '@nextcloud/axios';\nimport { File, Folder, Permission } from '@nextcloud/files';\nimport { getRemoteURL, getRootPath } from '@nextcloud/files/dav';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport logger from './logger.ts';\nconst headers = {\n    'Content-Type': 'application/json',\n};\n/**\n *\n * @param ocsEntry\n */\nasync function ocsEntryToNode(ocsEntry) {\n    try {\n        // Federated share handling\n        if (ocsEntry?.remote_id !== undefined) {\n            if (!ocsEntry.mimetype) {\n                const mime = (await import('mime')).default;\n                // This won't catch files without an extension, but this is the best we can do\n                ocsEntry.mimetype = mime.getType(ocsEntry.name);\n            }\n            const type = ocsEntry.type === 'dir' ? 'folder' : ocsEntry.type;\n            ocsEntry.item_type = type || (ocsEntry.mimetype ? 'file' : 'folder');\n            // different naming for remote shares\n            ocsEntry.item_mtime = ocsEntry.mtime;\n            ocsEntry.file_target = ocsEntry.file_target || ocsEntry.mountpoint;\n            if (ocsEntry.file_target.includes('TemporaryMountPointName')) {\n                ocsEntry.file_target = ocsEntry.name;\n            }\n            // If the share is not accepted yet we don't know which permissions it will have\n            if (!ocsEntry.accepted) {\n                // Need to set permissions to NONE for federated shares\n                ocsEntry.item_permissions = Permission.NONE;\n                ocsEntry.permissions = Permission.NONE;\n            }\n            ocsEntry.uid_owner = ocsEntry.owner;\n            // TODO: have the real display name stored somewhere\n            ocsEntry.displayname_owner = ocsEntry.owner;\n        }\n        const isFolder = ocsEntry?.item_type === 'folder';\n        const hasPreview = ocsEntry?.has_preview === true;\n        const Node = isFolder ? Folder : File;\n        // If this is an external share that is not yet accepted,\n        // we don't have an id. We can fallback to the row id temporarily\n        // local shares (this server) use `file_source`, but remote shares (federated) use `file_id`\n        const fileid = ocsEntry.file_source || ocsEntry.file_id || ocsEntry.id;\n        // Generate path and strip double slashes\n        const path = ocsEntry.path || ocsEntry.file_target || ocsEntry.name;\n        const source = `${getRemoteURL()}${getRootPath()}/${path.replace(/^\\/+/, '')}`;\n        let mtime = ocsEntry.item_mtime ? new Date((ocsEntry.item_mtime) * 1000) : undefined;\n        // Prefer share time if more recent than item mtime\n        if (ocsEntry?.stime > (ocsEntry?.item_mtime || 0)) {\n            mtime = new Date((ocsEntry.stime) * 1000);\n        }\n        let sharees;\n        if ('share_with' in ocsEntry) {\n            sharees = {\n                sharee: {\n                    id: ocsEntry.share_with,\n                    'display-name': ocsEntry.share_with_displayname || ocsEntry.share_with,\n                    type: ocsEntry.share_type,\n                },\n            };\n        }\n        return new Node({\n            id: fileid,\n            source,\n            owner: ocsEntry?.uid_owner,\n            mime: ocsEntry?.mimetype || 'application/octet-stream',\n            mtime,\n            size: ocsEntry?.item_size,\n            permissions: ocsEntry?.item_permissions || ocsEntry?.permissions,\n            root: getRootPath(),\n            attributes: {\n                ...ocsEntry,\n                'has-preview': hasPreview,\n                'hide-download': ocsEntry?.hide_download === 1,\n                // Also check the sharingStatusAction.ts code\n                'owner-id': ocsEntry?.uid_owner,\n                'owner-display-name': ocsEntry?.displayname_owner,\n                'share-types': ocsEntry?.share_type,\n                'share-attributes': ocsEntry?.attributes || '[]',\n                sharees,\n                favorite: ocsEntry?.tags?.includes(window.OC.TAG_FAVORITE) ? 1 : 0,\n            },\n        });\n    }\n    catch (error) {\n        logger.error('Error while parsing OCS entry', { error });\n        return null;\n    }\n}\n/**\n *\n * @param shareWithMe\n */\nfunction getShares(shareWithMe = false) {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/shares');\n    return axios.get(url, {\n        headers,\n        params: {\n            shared_with_me: shareWithMe,\n            include_tags: true,\n        },\n    });\n}\n/**\n *\n */\nfunction getSharedWithYou() {\n    return getShares(true);\n}\n/**\n *\n */\nfunction getSharedWithOthers() {\n    return getShares();\n}\n/**\n *\n */\nfunction getRemoteShares() {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/remote_shares');\n    return axios.get(url, {\n        headers,\n        params: {\n            include_tags: true,\n        },\n    });\n}\n/**\n *\n */\nfunction getPendingShares() {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/shares/pending');\n    return axios.get(url, {\n        headers,\n        params: {\n            include_tags: true,\n        },\n    });\n}\n/**\n *\n */\nfunction getRemotePendingShares() {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/remote_shares/pending');\n    return axios.get(url, {\n        headers,\n        params: {\n            include_tags: true,\n        },\n    });\n}\n/**\n *\n */\nfunction getDeletedShares() {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/deletedshares');\n    return axios.get(url, {\n        headers,\n        params: {\n            include_tags: true,\n        },\n    });\n}\n/**\n * Check if a file request is enabled\n *\n * @param attributes the share attributes json-encoded array\n */\nexport function isFileRequest(attributes = '[]') {\n    const isFileRequest = (attribute) => {\n        return attribute.scope === 'fileRequest' && attribute.key === 'enabled' && attribute.value === true;\n    };\n    try {\n        const attributesArray = JSON.parse(attributes);\n        return attributesArray.some(isFileRequest);\n    }\n    catch (error) {\n        logger.error('Error while parsing share attributes', { error });\n        return false;\n    }\n}\n/**\n * Group an array of objects (here Nodes) by a key\n * and return an array of arrays of them.\n *\n * @param nodes Nodes to group\n * @param key The attribute to group by\n */\nfunction groupBy(nodes, key) {\n    return Object.values(nodes.reduce(function (acc, curr) {\n        (acc[curr[key]] = acc[curr[key]] || []).push(curr);\n        return acc;\n    }, {}));\n}\n/**\n *\n * @param sharedWithYou\n * @param sharedWithOthers\n * @param pendingShares\n * @param deletedshares\n * @param filterTypes\n */\nexport async function getContents(sharedWithYou = true, sharedWithOthers = true, pendingShares = false, deletedshares = false, filterTypes = []) {\n    const promises = [];\n    if (sharedWithYou) {\n        promises.push(getSharedWithYou(), getRemoteShares());\n    }\n    if (sharedWithOthers) {\n        promises.push(getSharedWithOthers());\n    }\n    if (pendingShares) {\n        promises.push(getPendingShares(), getRemotePendingShares());\n    }\n    if (deletedshares) {\n        promises.push(getDeletedShares());\n    }\n    const responses = await Promise.all(promises);\n    const data = responses.map((response) => response.data.ocs.data).flat();\n    let contents = (await Promise.all(data.map(ocsEntryToNode)))\n        .filter((node) => node !== null);\n    if (filterTypes.length > 0) {\n        contents = contents.filter((node) => filterTypes.includes(node.attributes?.share_type));\n    }\n    // Merge duplicate shares and group their attributes\n    // Also check the sharingStatusAction.ts code\n    contents = groupBy(contents, 'source').map((nodes) => {\n        const node = nodes[0];\n        node.attributes['share-types'] = nodes.map((node) => node.attributes['share-types']);\n        return node;\n    });\n    return {\n        folder: new Folder({\n            id: 0,\n            source: `${getRemoteURL()}${getRootPath()}`,\n            owner: getCurrentUser()?.uid || null,\n            root: getRootPath(),\n        }),\n        contents,\n    };\n}\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getLoggerBuilder } from '@nextcloud/logger';\nexport default getLoggerBuilder()\n    .setApp('files_sharing')\n    .detectUser()\n    .build();\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.action-items>.files-list__row-action-sharing-status{padding-inline:0 !important}.action-items>.files-list__row-action-sharing-status .button-vue__wrapper{flex-direction:row-reverse;gap:var(--default-grid-baseline)}svg.sharing-status__avatar{height:var(--button-inner-size, 32px) !important;width:var(--button-inner-size, 32px) !important;max-height:var(--button-inner-size, 32px) !important;max-width:var(--button-inner-size, 32px) !important;border-radius:var(--button-inner-size, 32px);overflow:hidden}.files-list__row-action-sharing-status .button-vue__text{color:var(--color-primary-element)}.files-list__row-action-sharing-status .button-vue__icon{color:var(--color-primary-element)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/files_actions/sharingStatusAction.scss\"],\"names\":[],\"mappings\":\"AAMA,qDAEC,2BAAA,CAEA,0EAEC,0BAAA,CACA,gCAAA,CAIF,2BACC,gDAAA,CACA,+CAAA,CACA,oDAAA,CACA,mDAAA,CACA,4CAAA,CACA,eAAA,CAIA,yDACC,kCAAA,CAED,yDACC,kCAAA\",\"sourcesContent\":[\"/*\\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\\n * SPDX-License-Identifier: AGPL-3.0-or-later\\n */\\n\\n // Only when rendered inline, when not enough space, this is put in the menu\\n.action-items > .files-list__row-action-sharing-status {\\n\\t// align icons with text-less inline actions\\n\\tpadding-inline: 0 !important;\\n\\n\\t.button-vue__wrapper {\\n\\t\\t// put icon at the end of the button\\n\\t\\tflex-direction: row-reverse;\\n\\t\\tgap: var(--default-grid-baseline);\\n\\t}\\n}\\n\\nsvg.sharing-status__avatar {\\n\\theight: var(--button-inner-size, 32px) !important;\\n\\twidth: var(--button-inner-size, 32px) !important;\\n\\tmax-height: var(--button-inner-size, 32px) !important;\\n\\tmax-width: var(--button-inner-size, 32px) !important;\\n\\tborder-radius: var(--button-inner-size, 32px);\\n\\toverflow: hidden;\\n}\\n\\n.files-list__row-action-sharing-status {\\n\\t.button-vue__text {\\n\\t\\tcolor: var(--color-primary-element);\\n\\t}\\n\\t.button-vue__icon {\\n\\t\\tcolor: var(--color-primary-element);\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n._fileListFilterAccount_ZW91g {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: var(--default-grid-baseline);\n}\n._fileListFilterAccount__avatar_V0YuN {\n\t/* 24px is the avatar size */\n\tmargin: calc((var(--default-clickable-area) - 24px) / 2);\n}\n._fileListFilterAccount__currentUser_PqQfx {\n\tfont-weight: normal !important;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/components/FileListFilterAccount.vue\"],\"names\":[],\"mappings\":\";AA4JA;CACA,aAAA;CACA,sBAAA;CACA,iCAAA;AACA;AAEA;CACA,4BAAA;CACA,wDAAA;AACA;AAEA;CACA,8BAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n<template>\\n\\t<div :class=\\\"$style.fileListFilterAccount\\\">\\n\\t\\t<NcTextField\\n\\t\\t\\tv-if=\\\"availableAccounts.length > 1\\\"\\n\\t\\t\\tv-model=\\\"accountFilter\\\"\\n\\t\\t\\ttype=\\\"search\\\"\\n\\t\\t\\t:label=\\\"t('files_sharing', 'Filter accounts')\\\" />\\n\\t\\t<NcButton\\n\\t\\t\\tv-for=\\\"account of shownAccounts\\\"\\n\\t\\t\\t:key=\\\"account.id\\\"\\n\\t\\t\\talignment=\\\"start\\\"\\n\\t\\t\\t:pressed=\\\"selectedAccounts.includes(account)\\\"\\n\\t\\t\\tvariant=\\\"tertiary\\\"\\n\\t\\t\\twide\\n\\t\\t\\t@update:pressed=\\\"toggleAccount(account.id, $event)\\\">\\n\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t<NcAvatar\\n\\t\\t\\t\\t\\t:class=\\\"$style.fileListFilterAccount__avatar\\\"\\n\\t\\t\\t\\t\\tv-bind=\\\"account\\\"\\n\\t\\t\\t\\t\\t:size=\\\"24\\\"\\n\\t\\t\\t\\t\\tdisable-menu\\n\\t\\t\\t\\t\\thide-status />\\n\\t\\t\\t</template>\\n\\t\\t\\t{{ account.displayName }}\\n\\t\\t\\t<span v-if=\\\"account.id === currentUserId\\\" :class=\\\"$style.fileListFilterAccount__currentUser\\\">\\n\\t\\t\\t\\t({{ t('files', 'you') }})\\n\\t\\t\\t</span>\\n\\t\\t</NcButton>\\n\\t</div>\\n</template>\\n\\n<script setup lang=\\\"ts\\\">\\nimport type { AccountFilter, IAccountData } from '../files_filters/AccountFilter.ts'\\n\\nimport { t } from '@nextcloud/l10n'\\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\\nimport NcAvatar from '@nextcloud/vue/components/NcAvatar'\\nimport NcButton from '@nextcloud/vue/components/NcButton'\\nimport NcTextField from '@nextcloud/vue/components/NcTextField'\\nimport { getCurrentUser } from '../../../../core/src/OC/currentuser.js'\\n\\ninterface IUserSelectData {\\n\\tid: string\\n\\tuser: string\\n\\tdisplayName: string\\n}\\n\\nconst props = defineProps<{\\n\\tfilter: AccountFilter\\n}>()\\n\\nconst currentUserId = getCurrentUser()!.uid\\n\\nconst accountFilter = ref('')\\nconst availableAccounts = ref<IUserSelectData[]>([])\\nconst selectedAccounts = ref<IUserSelectData[]>([])\\nwatch(selectedAccounts, () => {\\n\\tconst accounts = selectedAccounts.value.map(({ id: uid, displayName }) => ({ uid, displayName }))\\n\\tprops.filter.setAccounts(accounts.length > 0 ? accounts : undefined)\\n})\\n\\nonMounted(() => {\\n\\tsetAvailableAccounts(props.filter.availableAccounts)\\n\\tselectedAccounts.value = availableAccounts.value.filter(({ id }) => props.filter.filterAccounts?.some(({ uid }) => uid === id)) ?? []\\n\\tprops.filter.addEventListener('accounts-updated', setAvailableAccounts)\\n\\tprops.filter.addEventListener('reset', resetFilter)\\n\\tprops.filter.addEventListener('deselect', deselect)\\n})\\nonUnmounted(() => {\\n\\tprops.filter.removeEventListener('accounts-updated', setAvailableAccounts)\\n\\tprops.filter.removeEventListener('reset', resetFilter)\\n\\tprops.filter.removeEventListener('deselect', deselect)\\n})\\n\\n/**\\n * Currently shown accounts (filtered)\\n */\\nconst shownAccounts = computed(() => {\\n\\tif (!accountFilter.value) {\\n\\t\\treturn [...availableAccounts.value].sort(sortAccounts)\\n\\t}\\n\\n\\tconst queryParts = accountFilter.value.toLocaleLowerCase().trim().split(' ')\\n\\tconst accounts = availableAccounts.value.filter((account) => queryParts.every((part) => account.user.toLocaleLowerCase().includes(part)\\n\\t\\t|| account.displayName.toLocaleLowerCase().includes(part)))\\n\\treturn accounts.sort(sortAccounts)\\n})\\n\\n/**\\n * Sort accounts, putting the current user at the begin\\n *\\n * @param a - First account\\n * @param b - Second account\\n */\\nfunction sortAccounts(a: IUserSelectData, b: IUserSelectData) {\\n\\tif (a.id === currentUserId) {\\n\\t\\treturn -1\\n\\t}\\n\\tif (b.id === currentUserId) {\\n\\t\\treturn 1\\n\\t}\\n\\treturn a.displayName.localeCompare(b.displayName)\\n}\\n\\n/**\\n * Toggle an account as selected\\n *\\n * @param accountId The account to toggle\\n * @param selected Whether to select or deselect the account\\n */\\nfunction toggleAccount(accountId: string, selected: boolean) {\\n\\tselectedAccounts.value = selectedAccounts.value.filter(({ id }) => id !== accountId)\\n\\tif (selected) {\\n\\t\\tconst account = availableAccounts.value.find(({ id }) => id === accountId)\\n\\t\\tif (account) {\\n\\t\\t\\tselectedAccounts.value = [...selectedAccounts.value, account]\\n\\t\\t}\\n\\t}\\n}\\n\\n/**\\n * Deselect an account\\n *\\n * @param event - The custom event\\n */\\nfunction deselect(event: CustomEvent) {\\n\\tconst accountId = event.detail as string\\n\\tselectedAccounts.value = selectedAccounts.value.filter(({ id }) => id !== accountId)\\n}\\n\\n/**\\n * Reset this filter\\n */\\nfunction resetFilter() {\\n\\tselectedAccounts.value = []\\n\\taccountFilter.value = ''\\n}\\n\\n/**\\n * Update list of available accounts in current view.\\n *\\n * @param accounts - Accounts to use\\n */\\nfunction setAvailableAccounts(accounts: IAccountData[] | CustomEvent): void {\\n\\tif (accounts instanceof CustomEvent) {\\n\\t\\taccounts = accounts.detail as IAccountData[]\\n\\t}\\n\\tavailableAccounts.value = accounts.map(({ uid, displayName }) => ({ displayName, id: uid, user: uid }))\\n}\\n</script>\\n\\n<style module>\\n.fileListFilterAccount {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tgap: var(--default-grid-baseline);\\n}\\n\\n.fileListFilterAccount__avatar {\\n\\t/* 24px is the avatar size */\\n\\tmargin: calc((var(--default-clickable-area) - 24px) / 2);\\n}\\n\\n.fileListFilterAccount__currentUser {\\n\\tfont-weight: normal !important;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"fileListFilterAccount\": `_fileListFilterAccount_ZW91g`,\n\t\"fileListFilterAccount__avatar\": `_fileListFilterAccount__avatar_V0YuN`,\n\t\"fileListFilterAccount__currentUser\": `_fileListFilterAccount__currentUser_PqQfx`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","import { getCurrentUser, onRequestTokenUpdate, getRequestToken } from \"@nextcloud/auth\";\nimport { generateRemoteUrl } from \"@nextcloud/router\";\nimport { isPublicShare, getSharingToken } from \"@nextcloud/sharing/public\";\nimport { createClient, getPatcher } from \"webdav\";\nimport { P as Permission, s as scopedGlobals, l as logger, c as NodeStatus, a as File, b as Folder } from \"./chunks/folder-29HuacU_.mjs\";\nimport \"@nextcloud/paths\";\n/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nfunction parsePermissions(permString = \"\") {\n  let permissions = Permission.NONE;\n  if (!permString) {\n    return permissions;\n  }\n  if (permString.includes(\"G\")) {\n    permissions |= Permission.READ;\n  }\n  if (permString.includes(\"W\")) {\n    permissions |= Permission.WRITE;\n  }\n  if (permString.includes(\"CK\")) {\n    permissions |= Permission.CREATE;\n  }\n  if (permString.includes(\"NV\")) {\n    permissions |= Permission.UPDATE;\n  }\n  if (permString.includes(\"D\")) {\n    permissions |= Permission.DELETE;\n  }\n  if (permString.includes(\"R\")) {\n    permissions |= Permission.SHARE;\n  }\n  return permissions;\n}\nconst defaultDavProperties = [\n  \"d:getcontentlength\",\n  \"d:getcontenttype\",\n  \"d:getetag\",\n  \"d:getlastmodified\",\n  \"d:creationdate\",\n  \"d:displayname\",\n  \"d:quota-available-bytes\",\n  \"d:resourcetype\",\n  \"nc:has-preview\",\n  \"nc:is-encrypted\",\n  \"nc:mount-type\",\n  \"oc:comments-unread\",\n  \"oc:favorite\",\n  \"oc:fileid\",\n  \"oc:owner-display-name\",\n  \"oc:owner-id\",\n  \"oc:permissions\",\n  \"oc:size\"\n];\nconst defaultDavNamespaces = {\n  d: \"DAV:\",\n  nc: \"http://nextcloud.org/ns\",\n  oc: \"http://owncloud.org/ns\",\n  ocs: \"http://open-collaboration-services.org/ns\"\n};\nfunction registerDavProperty(prop, namespace = { nc: \"http://nextcloud.org/ns\" }) {\n  scopedGlobals.davNamespaces ??= { ...defaultDavNamespaces };\n  scopedGlobals.davProperties ??= [...defaultDavProperties];\n  const namespaces = { ...scopedGlobals.davNamespaces, ...namespace };\n  if (scopedGlobals.davProperties.find((search) => search === prop)) {\n    logger.warn(`${prop} already registered`, { prop });\n    return false;\n  }\n  if (prop.startsWith(\"<\") || prop.split(\":\").length !== 2) {\n    logger.error(`${prop} is not valid. See example: 'oc:fileid'`, { prop });\n    return false;\n  }\n  const ns = prop.split(\":\")[0];\n  if (!namespaces[ns]) {\n    logger.error(`${prop} namespace unknown`, { prop, namespaces });\n    return false;\n  }\n  scopedGlobals.davProperties.push(prop);\n  scopedGlobals.davNamespaces = namespaces;\n  return true;\n}\nfunction getDavProperties() {\n  scopedGlobals.davProperties ??= [...defaultDavProperties];\n  return scopedGlobals.davProperties.map((prop) => `<${prop} />`).join(\" \");\n}\nfunction getDavNameSpaces() {\n  scopedGlobals.davNamespaces ??= { ...defaultDavNamespaces };\n  return Object.keys(scopedGlobals.davNamespaces).map((ns) => `xmlns:${ns}=\"${scopedGlobals.davNamespaces?.[ns]}\"`).join(\" \");\n}\nfunction getDefaultPropfind() {\n  return `<?xml version=\"1.0\"?>\n\t\t<d:propfind ${getDavNameSpaces()}>\n\t\t\t<d:prop>\n\t\t\t\t${getDavProperties()}\n\t\t\t</d:prop>\n\t\t</d:propfind>`;\n}\nfunction getFavoritesReport() {\n  return `<?xml version=\"1.0\"?>\n\t\t<oc:filter-files ${getDavNameSpaces()}>\n\t\t\t<d:prop>\n\t\t\t\t${getDavProperties()}\n\t\t\t</d:prop>\n\t\t\t<oc:filter-rules>\n\t\t\t\t<oc:favorite>1</oc:favorite>\n\t\t\t</oc:filter-rules>\n\t\t</oc:filter-files>`;\n}\nfunction getRecentSearch(lastModified) {\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<d:searchrequest ${getDavNameSpaces()}\n\txmlns:ns=\"https://github.com/icewind1991/SearchDAV/ns\">\n\t<d:basicsearch>\n\t\t<d:select>\n\t\t\t<d:prop>\n\t\t\t\t${getDavProperties()}\n\t\t\t</d:prop>\n\t\t</d:select>\n\t\t<d:from>\n\t\t\t<d:scope>\n\t\t\t\t<d:href>/files/${getCurrentUser()?.uid}/</d:href>\n\t\t\t\t<d:depth>infinity</d:depth>\n\t\t\t</d:scope>\n\t\t</d:from>\n\t\t<d:where>\n\t\t\t<d:and>\n\t\t\t\t<d:or>\n\t\t\t\t\t<d:not>\n\t\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t\t<d:getcontenttype/>\n\t\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t\t<d:literal>httpd/unix-directory</d:literal>\n\t\t\t\t\t\t</d:eq>\n\t\t\t\t\t</d:not>\n\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t<oc:size/>\n\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t<d:literal>0</d:literal>\n\t\t\t\t\t</d:eq>\n\t\t\t\t</d:or>\n\t\t\t\t<d:gt>\n\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t\t</d:prop>\n\t\t\t\t\t<d:literal>${lastModified}</d:literal>\n\t\t\t\t</d:gt>\n\t\t\t</d:and>\n\t\t</d:where>\n\t\t<d:orderby>\n\t\t\t<d:order>\n\t\t\t\t<d:prop>\n\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t</d:prop>\n\t\t\t\t<d:descending/>\n\t\t\t</d:order>\n\t\t</d:orderby>\n\t\t<d:limit>\n\t\t\t<d:nresults>100</d:nresults>\n\t\t\t<ns:firstresult>0</ns:firstresult>\n\t\t</d:limit>\n\t</d:basicsearch>\n</d:searchrequest>`;\n}\nfunction getRootPath() {\n  if (isPublicShare()) {\n    return `/files/${getSharingToken()}`;\n  }\n  return `/files/${getCurrentUser()?.uid}`;\n}\nconst defaultRootPath = getRootPath();\nfunction getRemoteURL() {\n  const url = generateRemoteUrl(\"dav\");\n  if (isPublicShare()) {\n    return url.replace(\"remote.php\", \"public.php\");\n  }\n  return url;\n}\nconst defaultRemoteURL = getRemoteURL();\nfunction getClient(remoteURL = defaultRemoteURL, headers = {}) {\n  const client = createClient(remoteURL, { headers });\n  function setHeaders(token) {\n    client.setHeaders({\n      ...headers,\n      // Add this so the server knows it is an request from the browser\n      \"X-Requested-With\": \"XMLHttpRequest\",\n      // Inject user auth\n      requesttoken: token ?? \"\"\n    });\n  }\n  onRequestTokenUpdate(setHeaders);\n  setHeaders(getRequestToken());\n  const patcher = getPatcher();\n  patcher.patch(\"fetch\", (url, options) => {\n    const headers2 = options.headers;\n    if (headers2?.method) {\n      options.method = headers2.method;\n      delete headers2.method;\n    }\n    return fetch(url, options);\n  });\n  return client;\n}\nasync function getFavoriteNodes(options = {}) {\n  const client = options.client ?? getClient();\n  const path = options.path ?? \"/\";\n  const davRoot = options.davRoot ?? defaultRootPath;\n  const contentsResponse = await client.getDirectoryContents(`${davRoot}${path}`, {\n    signal: options.signal,\n    details: true,\n    data: getFavoritesReport(),\n    headers: {\n      // see getClient for patched webdav client\n      method: \"REPORT\"\n    },\n    includeSelf: true\n  });\n  return contentsResponse.data.filter((node) => node.filename !== path).map((result) => resultToNode(result, davRoot));\n}\nfunction resultToNode(node, filesRoot = defaultRootPath, remoteURL = defaultRemoteURL) {\n  let userId = getCurrentUser()?.uid;\n  if (isPublicShare()) {\n    userId = userId ?? \"anonymous\";\n  } else if (!userId) {\n    throw new Error(\"No user id found\");\n  }\n  const props = node.props;\n  const permissions = parsePermissions(props?.permissions);\n  const owner = String(props?.[\"owner-id\"] || userId);\n  const id = props.fileid || 0;\n  const mtime = new Date(Date.parse(node.lastmod));\n  const crtime = new Date(Date.parse(props.creationdate));\n  const nodeData = {\n    id,\n    source: `${remoteURL}${node.filename}`,\n    mtime: !isNaN(mtime.getTime()) && mtime.getTime() !== 0 ? mtime : void 0,\n    crtime: !isNaN(crtime.getTime()) && crtime.getTime() !== 0 ? crtime : void 0,\n    mime: node.mime || \"application/octet-stream\",\n    // Manually cast to work around for https://github.com/perry-mitchell/webdav-client/pull/380\n    displayname: props.displayname !== void 0 ? String(props.displayname) : void 0,\n    size: props?.size || Number.parseInt(props.getcontentlength || \"0\"),\n    // The fileid is set to -1 for failed requests\n    status: id < 0 ? NodeStatus.FAILED : void 0,\n    permissions,\n    owner,\n    root: filesRoot,\n    attributes: {\n      ...node,\n      ...props,\n      hasPreview: props?.[\"has-preview\"]\n    }\n  };\n  delete nodeData.attributes?.props;\n  return node.type === \"file\" ? new File(nodeData) : new Folder(nodeData);\n}\nexport {\n  defaultDavNamespaces,\n  defaultDavProperties,\n  defaultRemoteURL,\n  defaultRootPath,\n  getClient,\n  getDavNameSpaces,\n  getDavProperties,\n  getDefaultPropfind,\n  getFavoriteNodes,\n  getFavoritesReport,\n  getRecentSearch,\n  getRemoteURL,\n  getRootPath,\n  parsePermissions,\n  registerDavProperty,\n  resultToNode\n};\n//# sourceMappingURL=dav.mjs.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \"-\" + chunkId + \".js?v=\" + {\"857\":\"3d28157955f39376ab2c\",\"1140\":\"490e17ed9c8948d5a9e8\",\"1404\":\"e021afe5d02634220086\",\"1598\":\"e29bd09628011e365d33\",\"2221\":\"849c733a93f5261d3bde\",\"5448\":\"71cfe268d6f1213c4735\",\"6015\":\"ebcb6885c1fc8c461988\",\"7859\":\"740587c0c8c350dad157\",\"7910\":\"de857920f8beb5205bbc\",\"8815\":\"9a5c507c75429c9c04e4\"}[chunkId] + \"\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 5928;","var scriptUrl;\nif (globalThis.importScripts) scriptUrl = globalThis.location + \"\";\nvar document = globalThis.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = (typeof document !== 'undefined' && document.baseURI) || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t5928: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunknextcloud_ui_legacy\"] = globalThis[\"webpackChunknextcloud_ui_legacy\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [4208], () => (__webpack_require__(81382)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","inProgress","dataWebpackPrefix","sharesViewId","sharedWithYouViewId","sharedWithOthersViewId","sharingByLinksViewId","deletedSharesViewId","pendingSharesViewId","action","id","displayName","nodes","n","length","iconSvgInline","CheckSvg","enabled","view","exec","node","isRemote","attributes","remote","url","generateOcsUrl","shareBase","axios","post","emit","execBatch","folder","contents","Promise","all","map","this","order","inline","t","includes","isFolder","type","FileType","Folder","window","OCP","Files","Router","goToRoute","fileid","String","dir","path","dirname","openfile","undefined","default","DefaultType","HIDDEN","some","remote_id","share_type","ShareType","RemoteGroup","accepted","delete","options","isExternal","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","Object","values","flat","owner","getCurrentUser","uid","title","ownerDisplayName","sharees","sharee","User","user","Group","group","shareTypes","Array","isArray","AccountPlusSvg","Link","Email","LinkSvg","AccountGroupSvg","Team","userId","isGuest","matchMedia","matches","document","querySelector","generateUrl","generateAvatarSvg","isPublicShare","permissions","Permission","SHARE","READ","getSidebar","open","showError","rawUid","getElementsByTagName","getAttribute","currentUser","_defineComponent","__name","props","filter","setup","__props","currentUserId","accountFilter","ref","availableAccounts","selectedAccounts","watch","accounts","value","setAccounts","onMounted","setAvailableAccounts","filterAccounts","addEventListener","resetFilter","deselect","onUnmounted","removeEventListener","shownAccounts","computed","sort","sortAccounts","queryParts","toLocaleLowerCase","trim","split","account","every","part","a","b","localeCompare","event","accountId","detail","CustomEvent","__sfc","toggleAccount","selected","find","NcAvatar","NcButton","NcTextField","_vm","_c","_self","_setup","_setupProxy","class","$style","fileListFilterAccount","attrs","model","callback","$$v","expression","_e","_v","_l","key","on","$event","scopedSlots","_u","fn","_b","fileListFilterAccount__avatar","proxy","_s","fileListFilterAccount__currentUser","context","tagName","_availableAccounts","WeakMap","_filterAccounts","AccountFilter","FileListFilter","constructor","super","_classPrivateFieldInitSpec","_defineProperty","_classPrivateFieldSet","subscribe","updateAvailableAccounts","_classPrivateFieldGet","userIds","params","deletedBy","reset","dispatchEvent","chips","text","onclick","updateChips","filterUpdated","available","Map","has","set","Boolean","Remote","sharingConfig","Config","NewFileRequestDialogVue","defineAsyncComponent","entry","FileUploadSvg","isPublicUploadEnabled","isPublicShareAllowed","handler","content","spawnDialog","Navigation","getNavigation","register","View","name","caption","emptyTitle","emptyCaption","icon","columns","getContents","parent","loadState","quota","then","isFileRequest","registerSharingViews","addNewFileMenuEntry","newFileRequest","registerDavProperty","nc","oc","ocs","registerFileAction","acceptShareAction","openInFilesAction","rejectShareAction","restoreShareAction","sharingStatusAction","WrappedComponent","wrap","Vue","FileListFilterAccount","defineProperty","prototype","get","customElements","define","registerFileListFilter","registerAccountFilter","FilesHeaderNoteToRecipient","instance","registerFileListHeader","note","updated","updateFolder","render","async","el","component","extend","$mount","registerNoteToRecipient","_capabilities","getCapabilities","defaultPermissions","files_sharing","default_permissions","excludeReshareFromEdit","exclude_reshare_from_edit","public","upload","federatedShareDocLink","OC","appConfig","core","federatedCloudShareDoc","defaultExpirationDate","isDefaultExpireDateEnabled","defaultExpireDate","Date","setDate","getDate","defaultInternalExpirationDate","isDefaultInternalExpireDateEnabled","defaultInternalExpireDate","defaultRemoteExpirationDateString","isDefaultRemoteExpireDateEnabled","defaultRemoteExpireDate","enforcePasswordForPublicLink","enableLinkPasswordByDefault","isDefaultExpireDateEnforced","defaultExpireDateEnforced","defaultExpireDateEnabled","isDefaultInternalExpireDateEnforced","defaultInternalExpireDateEnforced","defaultInternalExpireDateEnabled","isDefaultRemoteExpireDateEnforced","defaultRemoteExpireDateEnforced","defaultRemoteExpireDateEnabled","isRemoteShareAllowed","remoteShareAllowed","isFederationEnabled","federation","outgoing","isMailShareAllowed","sharebymail","isResharingAllowed","resharingAllowed","isPasswordForMailSharesRequired","password","enforced","shouldAlwaysShowUnique","always_show_unique","allowGroupSharing","maxAutocompleteResults","parseInt","config","minSearchStringLength","passwordPolicy","password_policy","allowCustomTokens","custom_tokens","showFederatedSharesAsInternal","showFederatedSharesToTrustedServersAsInternal","showExternalSharing","headers","ocsEntryToNode","ocsEntry","mimetype","mime","getType","item_type","item_mtime","mtime","file_target","mountpoint","item_permissions","NONE","uid_owner","displayname_owner","hasPreview","has_preview","Node","File","file_source","file_id","source","getRemoteURL","getRootPath","replace","stime","share_with","share_with_displayname","size","item_size","root","hide_download","favorite","tags","TAG_FAVORITE","error","logger","getShares","shareWithMe","shared_with_me","include_tags","attribute","scope","JSON","parse","sharedWithYou","sharedWithOthers","pendingShares","deletedshares","filterTypes","promises","push","getRemoteShares","getPendingShares","getRemotePendingShares","getDeletedShares","data","response","reduce","acc","curr","getLoggerBuilder","setApp","detectUser","build","___CSS_LOADER_EXPORT___","module","defaultDavProperties","defaultDavNamespaces","d","prop","namespace","s","davNamespaces","davProperties","namespaces","search","l","warn","startsWith","getDavProperties","join","getDavNameSpaces","keys","ns","getDefaultPropfind","getRecentSearch","lastModified","defaultRootPath","defaultRemoteURL","getClient","remoteURL","client","setHeaders","token","requesttoken","patch","headers2","method","fetch","getFavoriteNodes","davRoot","getDirectoryContents","signal","details","includeSelf","filename","result","resultToNode","filesRoot","Error","permString","P","WRITE","CREATE","UPDATE","DELETE","parsePermissions","lastmod","crtime","creationdate","nodeData","isNaN","getTime","displayname","Number","getcontentlength","status","FAILED","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","loaded","__webpack_modules__","call","m","O","chunkIds","priority","notFulfilled","Infinity","i","fulfilled","j","splice","r","getter","__esModule","definition","o","enumerable","f","e","chunkId","u","obj","hasOwnProperty","done","script","needAttach","scripts","createElement","charset","setAttribute","src","onScriptComplete","prev","onerror","onload","clearTimeout","timeout","doneFns","parentNode","removeChild","forEach","setTimeout","bind","target","head","appendChild","Symbol","toStringTag","nmd","paths","children","scriptUrl","globalThis","importScripts","location","currentScript","toUpperCase","test","p","baseURI","self","href","installedChunks","installedChunkData","promise","resolve","reject","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}