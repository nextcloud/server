{"version":3,"file":"files_sharing-init.js?v=24c53e883925f3e831cc","mappings":"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","sources":["webpack:///nextcloud/webpack/runtime/chunk loaded","webpack:///nextcloud/webpack/runtime/load script","webpack:///nextcloud/core/src/OC/currentuser.js","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue","webpack://nextcloud/./apps/files_sharing/src/components/FileListFilterAccount.vue?f338","webpack://nextcloud/./apps/files_sharing/src/components/FileListFilterAccount.vue?64e4","webpack:///nextcloud/apps/files_sharing/src/files_filters/AccountFilter.ts","webpack:///nextcloud/apps/files_sharing/src/files_newMenu/newFileRequest.ts","webpack:///nextcloud/apps/files_sharing/src/files_views/shares.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/acceptShareAction.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/openInFilesAction.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/rejectShareAction.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/restoreShareAction.ts","webpack://nextcloud/./apps/files_sharing/src/files_actions/sharingStatusAction.scss?6b51","webpack:///nextcloud/apps/files_sharing/src/files_actions/sharingStatusAction.ts","webpack:///nextcloud/apps/files_sharing/src/utils/AccountIcon.ts","webpack:///nextcloud/apps/files_sharing/src/init.ts","webpack:///nextcloud/apps/files_sharing/src/files_headers/noteToRecipient.ts","webpack:///nextcloud/apps/files_sharing/src/services/ConfigService.ts","webpack:///nextcloud/apps/files_sharing/src/services/SharingService.ts","webpack:///nextcloud/apps/files_sharing/src/services/logger.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/sharingStatusAction.scss","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue?vue&type=style&index=0&id=ec2dd1f8&prod&module=true&lang=css","webpack:///nextcloud/node_modules/@nextcloud/files/dist/dav.mjs","webpack:///nextcloud/node_modules/@nextcloud/files/dist/index.mjs","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/ensure chunk","webpack:///nextcloud/webpack/runtime/get javascript chunk filename","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/webpack/runtime/make namespace object","webpack:///nextcloud/webpack/runtime/node module decorator","webpack:///nextcloud/webpack/runtime/runtimeId","webpack:///nextcloud/webpack/runtime/publicPath","webpack:///nextcloud/webpack/runtime/jsonp chunk loading","webpack:///nextcloud/webpack/runtime/nonce","webpack:///nextcloud/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"nextcloud-ui-legacy:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nconst rawUid = document\n\t.getElementsByTagName('head')[0]\n\t.getAttribute('data-user')\nconst displayName = document\n\t.getElementsByTagName('head')[0]\n\t.getAttribute('data-user-displayname')\n\nexport const currentUser = rawUid !== undefined ? rawUid : false\n\n/**\n *\n */\nexport function getCurrentUser() {\n\treturn {\n\t\tuid: currentUser,\n\t\tdisplayName,\n\t}\n}\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-6.use[1]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-6.use[1]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:_vm.$style.fileListFilterAccount},[(_setup.availableAccounts.length > 1)?_c(_setup.NcTextField,{attrs:{\"type\":\"search\",\"label\":_setup.t('files_sharing', 'Filter accounts')},model:{value:(_setup.accountFilter),callback:function ($$v) {_setup.accountFilter=$$v},expression:\"accountFilter\"}}):_vm._e(),_vm._v(\" \"),_vm._l((_setup.shownAccounts),function(account){return _c(_setup.NcButton,{key:account.id,attrs:{\"alignment\":\"start\",\"pressed\":_setup.selectedAccounts.includes(account),\"variant\":\"tertiary\",\"wide\":\"\"},on:{\"update:pressed\":function($event){return _setup.toggleAccount(account.id, $event)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c(_setup.NcAvatar,_vm._b({class:_vm.$style.fileListFilterAccount__avatar,attrs:{\"size\":24,\"disable-menu\":\"\",\"hide-status\":\"\"}},'NcAvatar',account,false))]},proxy:true}],null,true)},[_vm._v(\"\\n\\t\\t\"+_vm._s(account.displayName)+\"\\n\\t\\t\"),(account.id === _setup.currentUserId)?_c('span',{class:_vm.$style.fileListFilterAccount__currentUser},[_vm._v(\"\\n\\t\\t\\t(\"+_vm._s(_setup.t('files', 'you'))+\")\\n\\t\\t\")]):_vm._e()])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-3.use[1]!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=style&index=0&id=ec2dd1f8&prod&module=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-3.use[1]!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=style&index=0&id=ec2dd1f8&prod&module=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./FileListFilterAccount.vue?vue&type=template&id=ec2dd1f8\"\nimport script from \"./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"\nimport style0 from \"./FileListFilterAccount.vue?vue&type=style&index=0&id=ec2dd1f8&prod&module=true&lang=css\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport svgAccountMultipleOutline from '@mdi/svg/svg/account-multiple-outline.svg?raw';\nimport { subscribe } from '@nextcloud/event-bus';\nimport { FileListFilter, registerFileListFilter } from '@nextcloud/files';\nimport { t } from '@nextcloud/l10n';\nimport { ShareType } from '@nextcloud/sharing';\nimport { isPublicShare } from '@nextcloud/sharing/public';\nimport wrap from '@vue/web-component-wrapper';\nimport Vue from 'vue';\nimport FileListFilterAccount from '../components/FileListFilterAccount.vue';\n// once files_sharing is migrated to the new frontend use the import instead:\n// import { TRASHBIN_VIEW_ID } from '../../../files_trashbin/src/files_views/trashbinView.ts'\nconst TRASHBIN_VIEW_ID = 'trashbin';\nconst tagName = 'files_sharing-file-list-filter-account';\n/**\n * File list filter to filter by owner / sharee\n */\nclass AccountFilter extends FileListFilter {\n    #availableAccounts;\n    #filterAccounts;\n    displayName = t('files_sharing', 'People');\n    iconSvgInline = svgAccountMultipleOutline;\n    tagName = tagName;\n    constructor() {\n        super('files_sharing:account', 100);\n        this.#availableAccounts = [];\n        subscribe('files:list:updated', ({ contents }) => {\n            this.updateAvailableAccounts(contents);\n        });\n    }\n    get availableAccounts() {\n        return this.#availableAccounts;\n    }\n    get filterAccounts() {\n        return this.#filterAccounts;\n    }\n    filter(nodes) {\n        if (!this.#filterAccounts || this.#filterAccounts.length === 0) {\n            return nodes;\n        }\n        const userIds = this.#filterAccounts.map(({ uid }) => uid);\n        // Filter if the owner of the node is in the list of filtered accounts\n        return nodes.filter((node) => {\n            if (window.OCP.Files.Router.params.view === TRASHBIN_VIEW_ID) {\n                const deletedBy = node.attributes?.['trashbin-deleted-by-id'];\n                if (deletedBy && userIds.includes(deletedBy)) {\n                    return true;\n                }\n                return false;\n            }\n            // if the owner matches\n            if (node.owner && userIds.includes(node.owner)) {\n                return true;\n            }\n            // Or any of the sharees (if only one share this will be an object, otherwise an array. So using `.flat()` to make it always an array)\n            const sharees = node.attributes.sharees?.sharee;\n            if (sharees && [sharees].flat().some(({ id }) => userIds.includes(id))) {\n                return true;\n            }\n            // If the node provides no information lets keep it\n            if (!node.owner && !sharees) {\n                return true;\n            }\n            // Not a valid node for the current filter\n            return false;\n        });\n    }\n    reset() {\n        this.dispatchEvent(new CustomEvent('reset'));\n    }\n    /**\n     * Set accounts that should be filtered.\n     *\n     * @param accounts - Account to filter or undefined if inactive.\n     */\n    setAccounts(accounts) {\n        this.#filterAccounts = accounts;\n        let chips = [];\n        if (this.#filterAccounts && this.#filterAccounts.length > 0) {\n            chips = this.#filterAccounts.map(({ displayName, uid }) => ({\n                text: displayName,\n                user: uid,\n                onclick: () => this.dispatchEvent(new CustomEvent('deselect', { detail: uid })),\n            }));\n        }\n        this.updateChips(chips);\n        this.filterUpdated();\n    }\n    /**\n     * Update the accounts owning nodes or have nodes shared to them.\n     *\n     * @param nodes - The current content of the file list.\n     */\n    updateAvailableAccounts(nodes) {\n        const available = new Map();\n        for (const node of nodes) {\n            const owner = node.owner;\n            if (owner && !available.has(owner)) {\n                available.set(owner, {\n                    uid: owner,\n                    displayName: node.attributes['owner-display-name'] ?? node.owner,\n                });\n            }\n            // ensure sharees is an array (if only one share then it is just an object)\n            const sharees = [node.attributes.sharees?.sharee].flat().filter(Boolean);\n            for (const sharee of [sharees].flat()) {\n                // Skip link shares and other without user\n                if (sharee.id === '') {\n                    continue;\n                }\n                if (sharee.type !== ShareType.User && sharee.type !== ShareType.Remote) {\n                    continue;\n                }\n                // Add if not already added\n                if (!available.has(sharee.id)) {\n                    available.set(sharee.id, {\n                        uid: sharee.id,\n                        displayName: sharee['display-name'],\n                    });\n                }\n            }\n            // lets also handle trashbin\n            const deletedBy = node.attributes?.['trashbin-deleted-by-id'];\n            if (deletedBy) {\n                available.set(deletedBy, {\n                    uid: deletedBy,\n                    displayName: node.attributes?.['trashbin-deleted-by-display-name'] || deletedBy,\n                });\n            }\n        }\n        this.#availableAccounts = [...available.values()];\n        this.dispatchEvent(new CustomEvent('accounts-updated'));\n    }\n}\n/**\n * Register the file list filter by owner or sharees\n */\nexport function registerAccountFilter() {\n    if (isPublicShare()) {\n        // We do not show the filter on public pages - it makes no sense\n        return;\n    }\n    const WrappedComponent = wrap(Vue, FileListFilterAccount);\n    // In Vue 2, wrap doesn't support disabling shadow :(\n    // Disable with a hack\n    Object.defineProperty(WrappedComponent.prototype, 'attachShadow', {\n        value() {\n            return this;\n        },\n    });\n    Object.defineProperty(WrappedComponent.prototype, 'shadowRoot', {\n        get() {\n            return this;\n        },\n    });\n    customElements.define(tagName, WrappedComponent);\n    registerFileListFilter(new AccountFilter());\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport FileUploadSvg from '@mdi/svg/svg/file-upload-outline.svg?raw';\nimport { t } from '@nextcloud/l10n';\nimport { isPublicShare } from '@nextcloud/sharing/public';\nimport { spawnDialog } from '@nextcloud/vue/functions/dialog';\nimport { defineAsyncComponent } from 'vue';\nimport Config from '../services/ConfigService.ts';\nconst sharingConfig = new Config();\nconst NewFileRequestDialogVue = defineAsyncComponent(() => import('../components/NewFileRequestDialog.vue'));\nexport const EntryId = 'file-request';\nexport const entry = {\n    id: EntryId,\n    displayName: t('files_sharing', 'Create file request'),\n    iconSvgInline: FileUploadSvg,\n    order: 10,\n    enabled() {\n        // not on public shares\n        if (isPublicShare()) {\n            return false;\n        }\n        if (!sharingConfig.isPublicUploadEnabled) {\n            return false;\n        }\n        // We will check for the folder permission on the dialog\n        return sharingConfig.isPublicShareAllowed;\n    },\n    async handler(context, content) {\n        spawnDialog(NewFileRequestDialogVue, {\n            context,\n            content,\n        });\n    },\n};\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport AccountClockSvg from '@mdi/svg/svg/account-clock-outline.svg?raw';\nimport AccountGroupSvg from '@mdi/svg/svg/account-group-outline.svg?raw';\nimport AccountSvg from '@mdi/svg/svg/account-outline.svg?raw';\nimport AccountPlusSvg from '@mdi/svg/svg/account-plus-outline.svg?raw';\nimport FileUploadSvg from '@mdi/svg/svg/file-upload-outline.svg?raw';\nimport LinkSvg from '@mdi/svg/svg/link.svg?raw';\nimport DeleteSvg from '@mdi/svg/svg/trash-can-outline.svg?raw';\nimport { getNavigation, View } from '@nextcloud/files';\nimport { loadState } from '@nextcloud/initial-state';\nimport { t } from '@nextcloud/l10n';\nimport { ShareType } from '@nextcloud/sharing';\nimport { getContents, isFileRequest } from '../services/SharingService.ts';\nexport const sharesViewId = 'shareoverview';\nexport const sharedWithYouViewId = 'sharingin';\nexport const sharedWithOthersViewId = 'sharingout';\nexport const sharingByLinksViewId = 'sharinglinks';\nexport const deletedSharesViewId = 'deletedshares';\nexport const pendingSharesViewId = 'pendingshares';\nexport const fileRequestViewId = 'filerequest';\nexport default () => {\n    const Navigation = getNavigation();\n    Navigation.register(new View({\n        id: sharesViewId,\n        name: t('files_sharing', 'Shares'),\n        caption: t('files_sharing', 'Overview of shared files.'),\n        emptyTitle: t('files_sharing', 'No shares'),\n        emptyCaption: t('files_sharing', 'Files and folders you shared or have been shared with you will show up here'),\n        icon: AccountPlusSvg,\n        order: 20,\n        columns: [],\n        getContents: () => getContents(),\n    }));\n    Navigation.register(new View({\n        id: sharedWithYouViewId,\n        name: t('files_sharing', 'Shared with you'),\n        caption: t('files_sharing', 'List of files that are shared with you.'),\n        emptyTitle: t('files_sharing', 'Nothing shared with you yet'),\n        emptyCaption: t('files_sharing', 'Files and folders others shared with you will show up here'),\n        icon: AccountSvg,\n        order: 1,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(true, false, false, false),\n    }));\n    // Don't show this view if the user has no storage quota\n    const storageStats = loadState('files', 'storageStats', { quota: -1 });\n    if (storageStats.quota !== 0) {\n        Navigation.register(new View({\n            id: sharedWithOthersViewId,\n            name: t('files_sharing', 'Shared with others'),\n            caption: t('files_sharing', 'List of files that you shared with others.'),\n            emptyTitle: t('files_sharing', 'Nothing shared yet'),\n            emptyCaption: t('files_sharing', 'Files and folders you shared will show up here'),\n            icon: AccountGroupSvg,\n            order: 2,\n            parent: sharesViewId,\n            columns: [],\n            getContents: () => getContents(false, true, false, false),\n        }));\n    }\n    Navigation.register(new View({\n        id: sharingByLinksViewId,\n        name: t('files_sharing', 'Shared by link'),\n        caption: t('files_sharing', 'List of files that are shared by link.'),\n        emptyTitle: t('files_sharing', 'No shared links'),\n        emptyCaption: t('files_sharing', 'Files and folders you shared by link will show up here'),\n        icon: LinkSvg,\n        order: 3,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(false, true, false, false, [ShareType.Link]),\n    }));\n    Navigation.register(new View({\n        id: fileRequestViewId,\n        name: t('files_sharing', 'File requests'),\n        caption: t('files_sharing', 'List of file requests.'),\n        emptyTitle: t('files_sharing', 'No file requests'),\n        emptyCaption: t('files_sharing', 'File requests you have created will show up here'),\n        icon: FileUploadSvg,\n        order: 4,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(false, true, false, false, [ShareType.Link, ShareType.Email])\n            .then(({ folder, contents }) => {\n            return {\n                folder,\n                contents: contents.filter((node) => isFileRequest(node.attributes?.['share-attributes'] || [])),\n            };\n        }),\n    }));\n    Navigation.register(new View({\n        id: deletedSharesViewId,\n        name: t('files_sharing', 'Deleted shares'),\n        caption: t('files_sharing', 'List of shares you left.'),\n        emptyTitle: t('files_sharing', 'No deleted shares'),\n        emptyCaption: t('files_sharing', 'Shares you have left will show up here'),\n        icon: DeleteSvg,\n        order: 5,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(false, false, false, true),\n    }));\n    Navigation.register(new View({\n        id: pendingSharesViewId,\n        name: t('files_sharing', 'Pending shares'),\n        caption: t('files_sharing', 'List of unapproved shares.'),\n        emptyTitle: t('files_sharing', 'No pending shares'),\n        emptyCaption: t('files_sharing', 'Shares you have received but not approved will show up here'),\n        icon: AccountClockSvg,\n        order: 6,\n        parent: sharesViewId,\n        columns: [],\n        getContents: () => getContents(false, false, true, false),\n    }));\n};\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport CheckSvg from '@mdi/svg/svg/check.svg?raw';\nimport axios from '@nextcloud/axios';\nimport { emit } from '@nextcloud/event-bus';\nimport { FileAction, registerFileAction } from '@nextcloud/files';\nimport { translatePlural as n } from '@nextcloud/l10n';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport { pendingSharesViewId } from '../files_views/shares.ts';\nexport const action = new FileAction({\n    id: 'accept-share',\n    displayName: ({ nodes }) => n('files_sharing', 'Accept share', 'Accept shares', nodes.length),\n    iconSvgInline: () => CheckSvg,\n    enabled: ({ nodes, view }) => nodes.length > 0 && view.id === pendingSharesViewId,\n    async exec({ nodes }) {\n        try {\n            const node = nodes[0];\n            const isRemote = !!node.attributes.remote;\n            const url = generateOcsUrl('apps/files_sharing/api/v1/{shareBase}/pending/{id}', {\n                shareBase: isRemote ? 'remote_shares' : 'shares',\n                id: node.attributes.id,\n            });\n            await axios.post(url);\n            // Remove from current view\n            emit('files:node:deleted', node);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    },\n    async execBatch({ nodes, view, folder, contents }) {\n        return Promise.all(nodes.map((node) => this.exec({\n            nodes: [node],\n            view,\n            folder,\n            contents,\n        })));\n    },\n    order: 1,\n    inline: () => true,\n});\nregisterFileAction(action);\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { DefaultType, FileAction, FileType, registerFileAction } from '@nextcloud/files';\nimport { translate as t } from '@nextcloud/l10n';\nimport { sharedWithOthersViewId, sharedWithYouViewId, sharesViewId, sharingByLinksViewId } from '../files_views/shares.ts';\nexport const action = new FileAction({\n    id: 'files_sharing:open-in-files',\n    displayName: () => t('files_sharing', 'Open in Files'),\n    iconSvgInline: () => '',\n    enabled: ({ view }) => [\n        sharesViewId,\n        sharedWithYouViewId,\n        sharedWithOthersViewId,\n        sharingByLinksViewId,\n        // Deleted and pending shares are not\n        // accessible in the files app.\n    ].includes(view.id),\n    async exec({ nodes }) {\n        const isFolder = nodes[0].type === FileType.Folder;\n        window.OCP.Files.Router.goToRoute(null, // use default route\n        {\n            view: 'files',\n            fileid: String(nodes[0].fileid),\n        }, {\n            // If this node is a folder open the folder in files\n            dir: isFolder ? nodes[0].path : nodes[0].dirname,\n            // otherwise if this is a file, we should open it\n            openfile: isFolder ? undefined : 'true',\n        });\n        return null;\n    },\n    // Before openFolderAction\n    order: -1000,\n    default: DefaultType.HIDDEN,\n});\nregisterFileAction(action);\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport CloseSvg from '@mdi/svg/svg/close.svg?raw';\nimport axios from '@nextcloud/axios';\nimport { emit } from '@nextcloud/event-bus';\nimport { FileAction, registerFileAction } from '@nextcloud/files';\nimport { translatePlural as n } from '@nextcloud/l10n';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport { ShareType } from '@nextcloud/sharing';\nimport { pendingSharesViewId } from '../files_views/shares.ts';\nexport const action = new FileAction({\n    id: 'reject-share',\n    displayName: ({ nodes }) => n('files_sharing', 'Reject share', 'Reject shares', nodes.length),\n    iconSvgInline: () => CloseSvg,\n    enabled: ({ nodes, view }) => {\n        if (view.id !== pendingSharesViewId) {\n            return false;\n        }\n        if (nodes.length === 0) {\n            return false;\n        }\n        // disable rejecting group shares from the pending list because they anyway\n        // land back into that same list after rejecting them\n        if (nodes.some((node) => node.attributes.remote_id\n            && node.attributes.share_type === ShareType.RemoteGroup)) {\n            return false;\n        }\n        return true;\n    },\n    async exec({ nodes }) {\n        try {\n            const node = nodes[0];\n            const isRemote = !!node.attributes.remote;\n            const shareBase = isRemote ? 'remote_shares' : 'shares';\n            const id = node.attributes.id;\n            let url;\n            if (node.attributes.accepted === 0) {\n                url = generateOcsUrl('apps/files_sharing/api/v1/{shareBase}/pending/{id}', {\n                    shareBase,\n                    id,\n                });\n            }\n            else {\n                url = generateOcsUrl('apps/files_sharing/api/v1/{shareBase}/{id}', {\n                    shareBase,\n                    id,\n                });\n            }\n            await axios.delete(url);\n            // Remove from current view\n            emit('files:node:deleted', node);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    },\n    async execBatch({ nodes, view, folder, contents }) {\n        return Promise.all(nodes.map((node) => this.exec({ nodes: [node], view, folder, contents })));\n    },\n    order: 2,\n    inline: () => true,\n});\nregisterFileAction(action);\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport ArrowULeftTopSvg from '@mdi/svg/svg/arrow-u-left-top.svg?raw';\nimport axios from '@nextcloud/axios';\nimport { emit } from '@nextcloud/event-bus';\nimport { FileAction, registerFileAction } from '@nextcloud/files';\nimport { translatePlural as n } from '@nextcloud/l10n';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport { deletedSharesViewId } from '../files_views/shares.ts';\nexport const action = new FileAction({\n    id: 'restore-share',\n    displayName: ({ nodes }) => n('files_sharing', 'Restore share', 'Restore shares', nodes.length),\n    iconSvgInline: () => ArrowULeftTopSvg,\n    enabled: ({ nodes, view }) => nodes.length > 0 && view.id === deletedSharesViewId,\n    async exec({ nodes }) {\n        try {\n            const node = nodes[0];\n            const url = generateOcsUrl('apps/files_sharing/api/v1/deletedshares/{id}', {\n                id: node.attributes.id,\n            });\n            await axios.post(url);\n            // Remove from current view\n            emit('files:node:deleted', node);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    },\n    async execBatch({ nodes, view, folder, contents }) {\n        return Promise.all(nodes.map((node) => this.exec({ nodes: [node], view, folder, contents })));\n    },\n    order: 1,\n    inline: () => true,\n});\nregisterFileAction(action);\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./sharingStatusAction.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./sharingStatusAction.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport AccountGroupSvg from '@mdi/svg/svg/account-group-outline.svg?raw';\nimport AccountPlusSvg from '@mdi/svg/svg/account-plus-outline.svg?raw';\nimport LinkSvg from '@mdi/svg/svg/link.svg?raw';\nimport { getCurrentUser } from '@nextcloud/auth';\nimport { showError } from '@nextcloud/dialogs';\nimport { FileAction, getSidebar, Permission, registerFileAction } from '@nextcloud/files';\nimport { translate as t } from '@nextcloud/l10n';\nimport { ShareType } from '@nextcloud/sharing';\nimport { isPublicShare } from '@nextcloud/sharing/public';\nimport CircleSvg from '../../../../core/img/apps/circles.svg?raw';\nimport { generateAvatarSvg } from '../utils/AccountIcon.ts';\nimport './sharingStatusAction.scss';\n/**\n * Check if the node is external (federated)\n *\n * @param node - The node to check\n */\nfunction isExternal(node) {\n    return node.attributes?.['is-federated'] ?? false;\n}\nexport const ACTION_SHARING_STATUS = 'sharing-status';\nexport const action = new FileAction({\n    id: ACTION_SHARING_STATUS,\n    displayName({ nodes }) {\n        const node = nodes[0];\n        const shareTypes = Object.values(node?.attributes?.['share-types'] || {}).flat();\n        if (shareTypes.length > 0\n            || (node.owner !== getCurrentUser()?.uid || isExternal(node))) {\n            return t('files_sharing', 'Shared');\n        }\n        return '';\n    },\n    title({ nodes }) {\n        const node = nodes[0];\n        if (node.owner && (node.owner !== getCurrentUser()?.uid || isExternal(node))) {\n            const ownerDisplayName = node?.attributes?.['owner-display-name'];\n            return t('files_sharing', 'Shared by {ownerDisplayName}', { ownerDisplayName });\n        }\n        const shareTypes = Object.values(node?.attributes?.['share-types'] || {}).flat();\n        if (shareTypes.length > 1) {\n            return t('files_sharing', 'Shared multiple times with different people');\n        }\n        const sharees = node.attributes.sharees?.sharee;\n        if (!sharees) {\n            // No sharees so just show the default message to create a new share\n            return t('files_sharing', 'Sharing options');\n        }\n        const sharee = [sharees].flat()[0]; // the property is sometimes weirdly normalized, so we need to compensate\n        switch (sharee?.type) {\n            case ShareType.User:\n                return t('files_sharing', 'Shared with {user}', { user: sharee['display-name'] });\n            case ShareType.Group:\n                return t('files_sharing', 'Shared with group {group}', { group: sharee['display-name'] ?? sharee.id });\n            default:\n                return t('files_sharing', 'Shared with others');\n        }\n    },\n    iconSvgInline({ nodes }) {\n        const node = nodes[0];\n        const shareTypes = Object.values(node?.attributes?.['share-types'] || {}).flat();\n        // Mixed share types\n        if (Array.isArray(node.attributes?.['share-types']) && node.attributes?.['share-types'].length > 1) {\n            return AccountPlusSvg;\n        }\n        // Link shares\n        if (shareTypes.includes(ShareType.Link)\n            || shareTypes.includes(ShareType.Email)) {\n            return LinkSvg;\n        }\n        // Group shares\n        if (shareTypes.includes(ShareType.Group)\n            || shareTypes.includes(ShareType.RemoteGroup)) {\n            return AccountGroupSvg;\n        }\n        // Circle shares\n        if (shareTypes.includes(ShareType.Team)) {\n            return CircleSvg;\n        }\n        if (node.owner && (node.owner !== getCurrentUser()?.uid || isExternal(node))) {\n            return generateAvatarSvg(node.owner, isExternal(node));\n        }\n        return AccountPlusSvg;\n    },\n    enabled({ nodes }) {\n        if (nodes.length !== 1) {\n            return false;\n        }\n        // Do not leak information about users to public shares\n        if (isPublicShare()) {\n            return false;\n        }\n        const node = nodes[0];\n        const shareTypes = node.attributes?.['share-types'];\n        const isMixed = Array.isArray(shareTypes) && shareTypes.length > 0;\n        // If the node is shared multiple times with\n        // different share types to the current user\n        if (isMixed) {\n            return true;\n        }\n        // If the node is shared by someone else\n        if (node.owner !== getCurrentUser()?.uid || isExternal(node)) {\n            return true;\n        }\n        // You need share permissions to share this file\n        // and read permissions to see the sidebar\n        return (node.permissions & Permission.SHARE) !== 0\n            && (node.permissions & Permission.READ) !== 0;\n    },\n    async exec({ nodes }) {\n        // You need read permissions to see the sidebar\n        const node = nodes[0];\n        if ((node.permissions & Permission.READ) !== 0) {\n            const sidebar = getSidebar();\n            sidebar.open(node, 'sharing');\n            return null;\n        }\n        // Should not happen as the enabled check should prevent this\n        // leaving it here for safety or in case someone calls this action directly\n        showError(t('files_sharing', 'You do not have enough permissions to share this file.'));\n        return null;\n    },\n    inline: () => true,\n});\nregisterFileAction(action);\n","/*!\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { generateUrl } from '@nextcloud/router';\n/**\n *\n */\nfunction isDarkMode() {\n    return window?.matchMedia?.('(prefers-color-scheme: dark)')?.matches === true\n        || document.querySelector('[data-themes*=dark]') !== null;\n}\n/**\n *\n * @param userId\n * @param isGuest\n */\nexport function generateAvatarSvg(userId, isGuest = false) {\n    // normal avatar url: /avatar/{userId}/32?guestFallback=true\n    // dark avatar url: /avatar/{userId}/32/dark?guestFallback=true\n    // guest avatar url: /avatar/guest/{userId}/32\n    // guest dark avatar url: /avatar/guest/{userId}/32/dark\n    const basePath = isGuest ? `/avatar/guest/${userId}` : `/avatar/${userId}`;\n    const darkModePath = isDarkMode() ? '/dark' : '';\n    const guestFallback = isGuest ? '' : '?guestFallback=true';\n    const url = `${basePath}/32${darkModePath}${guestFallback}`;\n    const avatarUrl = generateUrl(url, { userId });\n    return `<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\"\n\t\txmlns=\"http://www.w3.org/2000/svg\" class=\"sharing-status__avatar\">\n\t\t<image href=\"${avatarUrl}\" height=\"32\" width=\"32\" />\n\t</svg>`;\n}\n","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { addNewFileMenuEntry } from '@nextcloud/files';\nimport { registerDavProperty } from '@nextcloud/files/dav';\nimport { registerAccountFilter } from './files_filters/AccountFilter.ts';\nimport registerNoteToRecipient from './files_headers/noteToRecipient.ts';\nimport { entry as newFileRequest } from './files_newMenu/newFileRequest.ts';\nimport registerSharingViews from './files_views/shares.ts';\nimport './files_actions/acceptShareAction.ts';\nimport './files_actions/openInFilesAction.ts';\nimport './files_actions/rejectShareAction.ts';\nimport './files_actions/restoreShareAction.ts';\nimport './files_actions/sharingStatusAction.ts';\nregisterSharingViews();\naddNewFileMenuEntry(newFileRequest);\nregisterDavProperty('nc:note', { nc: 'http://nextcloud.org/ns' });\nregisterDavProperty('nc:sharees', { nc: 'http://nextcloud.org/ns' });\nregisterDavProperty('nc:hide-download', { nc: 'http://nextcloud.org/ns' });\nregisterDavProperty('nc:share-attributes', { nc: 'http://nextcloud.org/ns' });\nregisterDavProperty('oc:share-types', { oc: 'http://owncloud.org/ns' });\nregisterDavProperty('ocs:share-permissions', { ocs: 'http://open-collaboration-services.org/ns' });\nregisterAccountFilter();\n// Add \"note to recipient\" message\nregisterNoteToRecipient();\n","import { Header, registerFileListHeaders } from '@nextcloud/files';\nimport Vue from 'vue';\n/**\n * Register the  \"note to recipient\" as a files list header\n */\nexport default function registerNoteToRecipient() {\n    let FilesHeaderNoteToRecipient;\n    let instance;\n    registerFileListHeaders(new Header({\n        id: 'note-to-recipient',\n        order: 0,\n        // Always if there is a note\n        enabled: (folder) => Boolean(folder.attributes.note),\n        // Update the root folder if needed\n        updated: (folder) => {\n            if (instance) {\n                instance.updateFolder(folder);\n            }\n        },\n        // render simply spawns the component\n        render: async (el, folder) => {\n            if (FilesHeaderNoteToRecipient === undefined) {\n                const { default: component } = await import('../views/FilesHeaderNoteToRecipient.vue');\n                FilesHeaderNoteToRecipient = Vue.extend(component);\n            }\n            instance = new FilesHeaderNoteToRecipient().$mount(el);\n            instance.updateFolder(folder);\n        },\n    }));\n}\n","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getCapabilities } from '@nextcloud/capabilities';\nimport { loadState } from '@nextcloud/initial-state';\nexport default class Config {\n    _capabilities;\n    constructor() {\n        this._capabilities = getCapabilities();\n    }\n    /**\n     * Get default share permissions, if any\n     */\n    get defaultPermissions() {\n        return this._capabilities.files_sharing?.default_permissions;\n    }\n    /**\n     * Should SHARE permission be excluded from \"Allow editing\" bundled permissions\n     */\n    get excludeReshareFromEdit() {\n        return this._capabilities.files_sharing?.exclude_reshare_from_edit === true;\n    }\n    /**\n     * Is public upload allowed on link shares ?\n     * This covers File request and Full upload/edit option.\n     */\n    get isPublicUploadEnabled() {\n        return this._capabilities.files_sharing?.public?.upload === true;\n    }\n    /**\n     * Get the federated sharing documentation link\n     */\n    get federatedShareDocLink() {\n        return window.OC.appConfig.core.federatedCloudShareDoc;\n    }\n    /**\n     * Get the default link share expiration date\n     */\n    get defaultExpirationDate() {\n        if (this.isDefaultExpireDateEnabled && this.defaultExpireDate !== null) {\n            return new Date(new Date().setDate(new Date().getDate() + this.defaultExpireDate));\n        }\n        return null;\n    }\n    /**\n     * Get the default internal expiration date\n     */\n    get defaultInternalExpirationDate() {\n        if (this.isDefaultInternalExpireDateEnabled && this.defaultInternalExpireDate !== null) {\n            return new Date(new Date().setDate(new Date().getDate() + this.defaultInternalExpireDate));\n        }\n        return null;\n    }\n    /**\n     * Get the default remote expiration date\n     */\n    get defaultRemoteExpirationDateString() {\n        if (this.isDefaultRemoteExpireDateEnabled && this.defaultRemoteExpireDate !== null) {\n            return new Date(new Date().setDate(new Date().getDate() + this.defaultRemoteExpireDate));\n        }\n        return null;\n    }\n    /**\n     * Are link shares password-enforced ?\n     */\n    get enforcePasswordForPublicLink() {\n        return window.OC.appConfig.core.enforcePasswordForPublicLink === true;\n    }\n    /**\n     * Is password asked by default on link shares ?\n     */\n    get enableLinkPasswordByDefault() {\n        return window.OC.appConfig.core.enableLinkPasswordByDefault === true;\n    }\n    /**\n     * Is link shares expiration enforced ?\n     */\n    get isDefaultExpireDateEnforced() {\n        return window.OC.appConfig.core.defaultExpireDateEnforced === true;\n    }\n    /**\n     * Is there a default expiration date for new link shares ?\n     */\n    get isDefaultExpireDateEnabled() {\n        return window.OC.appConfig.core.defaultExpireDateEnabled === true;\n    }\n    /**\n     * Is internal shares expiration enforced ?\n     */\n    get isDefaultInternalExpireDateEnforced() {\n        return window.OC.appConfig.core.defaultInternalExpireDateEnforced === true;\n    }\n    /**\n     * Is there a default expiration date for new internal shares ?\n     */\n    get isDefaultInternalExpireDateEnabled() {\n        return window.OC.appConfig.core.defaultInternalExpireDateEnabled === true;\n    }\n    /**\n     * Is remote shares expiration enforced ?\n     */\n    get isDefaultRemoteExpireDateEnforced() {\n        return window.OC.appConfig.core.defaultRemoteExpireDateEnforced === true;\n    }\n    /**\n     * Is there a default expiration date for new remote shares ?\n     */\n    get isDefaultRemoteExpireDateEnabled() {\n        return window.OC.appConfig.core.defaultRemoteExpireDateEnabled === true;\n    }\n    /**\n     * Are users on this server allowed to send shares to other servers ?\n     */\n    get isRemoteShareAllowed() {\n        return window.OC.appConfig.core.remoteShareAllowed === true;\n    }\n    /**\n     * Is federation enabled ?\n     */\n    get isFederationEnabled() {\n        return this._capabilities?.files_sharing?.federation?.outgoing === true;\n    }\n    /**\n     * Is public sharing enabled ?\n     */\n    get isPublicShareAllowed() {\n        return this._capabilities?.files_sharing?.public?.enabled === true;\n    }\n    /**\n     * Is sharing my mail (link share) enabled ?\n     */\n    get isMailShareAllowed() {\n        return this._capabilities?.files_sharing?.sharebymail?.enabled === true\n            && this.isPublicShareAllowed === true;\n    }\n    /**\n     * Get the default days to link shares expiration\n     */\n    get defaultExpireDate() {\n        return window.OC.appConfig.core.defaultExpireDate;\n    }\n    /**\n     * Get the default days to internal shares expiration\n     */\n    get defaultInternalExpireDate() {\n        return window.OC.appConfig.core.defaultInternalExpireDate;\n    }\n    /**\n     * Get the default days to remote shares expiration\n     */\n    get defaultRemoteExpireDate() {\n        return window.OC.appConfig.core.defaultRemoteExpireDate;\n    }\n    /**\n     * Is resharing allowed ?\n     */\n    get isResharingAllowed() {\n        return window.OC.appConfig.core.resharingAllowed === true;\n    }\n    /**\n     * Is password enforced for mail shares ?\n     */\n    get isPasswordForMailSharesRequired() {\n        return this._capabilities.files_sharing?.sharebymail?.password?.enforced === true;\n    }\n    /**\n     * Always show the email or userid unique sharee label if enabled by the admin\n     */\n    get shouldAlwaysShowUnique() {\n        return this._capabilities.files_sharing?.sharee?.always_show_unique === true;\n    }\n    /**\n     * Is sharing with groups allowed ?\n     */\n    get allowGroupSharing() {\n        return window.OC.appConfig.core.allowGroupSharing === true;\n    }\n    /**\n     * Get the maximum results of a share search\n     */\n    get maxAutocompleteResults() {\n        return parseInt(window.OC.config['sharing.maxAutocompleteResults'], 10) || 25;\n    }\n    /**\n     * Get the minimal string length\n     * to initiate a share search\n     */\n    get minSearchStringLength() {\n        return parseInt(window.OC.config['sharing.minSearchStringLength'], 10) || 0;\n    }\n    /**\n     * Get the password policy configuration\n     */\n    get passwordPolicy() {\n        return this._capabilities?.password_policy || {};\n    }\n    /**\n     * Returns true if custom tokens are allowed\n     */\n    get allowCustomTokens() {\n        return this._capabilities?.files_sharing?.public?.custom_tokens;\n    }\n    /**\n     * Show federated shares as internal shares\n     *\n     * @return\n     */\n    get showFederatedSharesAsInternal() {\n        return loadState('files_sharing', 'showFederatedSharesAsInternal', false);\n    }\n    /**\n     * Show federated shares to trusted servers as internal shares\n     *\n     * @return\n     */\n    get showFederatedSharesToTrustedServersAsInternal() {\n        return loadState('files_sharing', 'showFederatedSharesToTrustedServersAsInternal', false);\n    }\n    /**\n     * Show the external share ui\n     */\n    get showExternalSharing() {\n        return loadState('files_sharing', 'showExternalSharing', true);\n    }\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n// TODO: Fix this instead of disabling ESLint!!!\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { getCurrentUser } from '@nextcloud/auth';\nimport axios from '@nextcloud/axios';\nimport { File, Folder, Permission } from '@nextcloud/files';\nimport { getRemoteURL, getRootPath } from '@nextcloud/files/dav';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport logger from './logger.ts';\nconst headers = {\n    'Content-Type': 'application/json',\n};\n/**\n *\n * @param ocsEntry\n */\nasync function ocsEntryToNode(ocsEntry) {\n    try {\n        // Federated share handling\n        if (ocsEntry?.remote_id !== undefined) {\n            if (!ocsEntry.mimetype) {\n                const mime = (await import('mime')).default;\n                // This won't catch files without an extension, but this is the best we can do\n                ocsEntry.mimetype = mime.getType(ocsEntry.name);\n            }\n            const type = ocsEntry.type === 'dir' ? 'folder' : ocsEntry.type;\n            ocsEntry.item_type = type || (ocsEntry.mimetype ? 'file' : 'folder');\n            // different naming for remote shares\n            ocsEntry.item_mtime = ocsEntry.mtime;\n            ocsEntry.file_target = ocsEntry.file_target || ocsEntry.mountpoint;\n            if (ocsEntry.file_target.includes('TemporaryMountPointName')) {\n                ocsEntry.file_target = ocsEntry.name;\n            }\n            // If the share is not accepted yet we don't know which permissions it will have\n            if (!ocsEntry.accepted) {\n                // Need to set permissions to NONE for federated shares\n                ocsEntry.item_permissions = Permission.NONE;\n                ocsEntry.permissions = Permission.NONE;\n            }\n            ocsEntry.uid_owner = ocsEntry.owner;\n            // TODO: have the real display name stored somewhere\n            ocsEntry.displayname_owner = ocsEntry.owner;\n        }\n        const isFolder = ocsEntry?.item_type === 'folder';\n        const hasPreview = ocsEntry?.has_preview === true;\n        const Node = isFolder ? Folder : File;\n        // If this is an external share that is not yet accepted,\n        // we don't have an id. We can fallback to the row id temporarily\n        // local shares (this server) use `file_source`, but remote shares (federated) use `file_id`\n        const fileid = ocsEntry.file_source || ocsEntry.file_id || ocsEntry.id;\n        // Generate path and strip double slashes\n        const path = ocsEntry.path || ocsEntry.file_target || ocsEntry.name;\n        const source = `${getRemoteURL()}${getRootPath()}/${path.replace(/^\\/+/, '')}`;\n        let mtime = ocsEntry.item_mtime ? new Date((ocsEntry.item_mtime) * 1000) : undefined;\n        // Prefer share time if more recent than item mtime\n        if (ocsEntry?.stime > (ocsEntry?.item_mtime || 0)) {\n            mtime = new Date((ocsEntry.stime) * 1000);\n        }\n        let sharees;\n        if ('share_with' in ocsEntry) {\n            sharees = {\n                sharee: {\n                    id: ocsEntry.share_with,\n                    'display-name': ocsEntry.share_with_displayname || ocsEntry.share_with,\n                    type: ocsEntry.share_type,\n                },\n            };\n        }\n        return new Node({\n            id: fileid,\n            source,\n            owner: ocsEntry?.uid_owner,\n            mime: ocsEntry?.mimetype || 'application/octet-stream',\n            mtime,\n            size: ocsEntry?.item_size,\n            permissions: ocsEntry?.item_permissions || ocsEntry?.permissions,\n            root: getRootPath(),\n            attributes: {\n                ...ocsEntry,\n                'has-preview': hasPreview,\n                'hide-download': ocsEntry?.hide_download === 1,\n                // Also check the sharingStatusAction.ts code\n                'owner-id': ocsEntry?.uid_owner,\n                'owner-display-name': ocsEntry?.displayname_owner,\n                'share-types': ocsEntry?.share_type,\n                'share-attributes': ocsEntry?.attributes || '[]',\n                sharees,\n                favorite: ocsEntry?.tags?.includes(window.OC.TAG_FAVORITE) ? 1 : 0,\n            },\n        });\n    }\n    catch (error) {\n        logger.error('Error while parsing OCS entry', { error });\n        return null;\n    }\n}\n/**\n *\n * @param shareWithMe\n */\nfunction getShares(shareWithMe = false) {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/shares');\n    return axios.get(url, {\n        headers,\n        params: {\n            shared_with_me: shareWithMe,\n            include_tags: true,\n        },\n    });\n}\n/**\n *\n */\nfunction getSharedWithYou() {\n    return getShares(true);\n}\n/**\n *\n */\nfunction getSharedWithOthers() {\n    return getShares();\n}\n/**\n *\n */\nfunction getRemoteShares() {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/remote_shares');\n    return axios.get(url, {\n        headers,\n        params: {\n            include_tags: true,\n        },\n    });\n}\n/**\n *\n */\nfunction getPendingShares() {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/shares/pending');\n    return axios.get(url, {\n        headers,\n        params: {\n            include_tags: true,\n        },\n    });\n}\n/**\n *\n */\nfunction getRemotePendingShares() {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/remote_shares/pending');\n    return axios.get(url, {\n        headers,\n        params: {\n            include_tags: true,\n        },\n    });\n}\n/**\n *\n */\nfunction getDeletedShares() {\n    const url = generateOcsUrl('apps/files_sharing/api/v1/deletedshares');\n    return axios.get(url, {\n        headers,\n        params: {\n            include_tags: true,\n        },\n    });\n}\n/**\n * Check if a file request is enabled\n *\n * @param attributes the share attributes json-encoded array\n */\nexport function isFileRequest(attributes = '[]') {\n    const isFileRequest = (attribute) => {\n        return attribute.scope === 'fileRequest' && attribute.key === 'enabled' && attribute.value === true;\n    };\n    try {\n        const attributesArray = JSON.parse(attributes);\n        return attributesArray.some(isFileRequest);\n    }\n    catch (error) {\n        logger.error('Error while parsing share attributes', { error });\n        return false;\n    }\n}\n/**\n * Group an array of objects (here Nodes) by a key\n * and return an array of arrays of them.\n *\n * @param nodes Nodes to group\n * @param key The attribute to group by\n */\nfunction groupBy(nodes, key) {\n    return Object.values(nodes.reduce(function (acc, curr) {\n        (acc[curr[key]] = acc[curr[key]] || []).push(curr);\n        return acc;\n    }, {}));\n}\n/**\n *\n * @param sharedWithYou\n * @param sharedWithOthers\n * @param pendingShares\n * @param deletedshares\n * @param filterTypes\n */\nexport async function getContents(sharedWithYou = true, sharedWithOthers = true, pendingShares = false, deletedshares = false, filterTypes = []) {\n    const promises = [];\n    if (sharedWithYou) {\n        promises.push(getSharedWithYou(), getRemoteShares());\n    }\n    if (sharedWithOthers) {\n        promises.push(getSharedWithOthers());\n    }\n    if (pendingShares) {\n        promises.push(getPendingShares(), getRemotePendingShares());\n    }\n    if (deletedshares) {\n        promises.push(getDeletedShares());\n    }\n    const responses = await Promise.all(promises);\n    const data = responses.map((response) => response.data.ocs.data).flat();\n    let contents = (await Promise.all(data.map(ocsEntryToNode)))\n        .filter((node) => node !== null);\n    if (filterTypes.length > 0) {\n        contents = contents.filter((node) => filterTypes.includes(node.attributes?.share_type));\n    }\n    // Merge duplicate shares and group their attributes\n    // Also check the sharingStatusAction.ts code\n    contents = groupBy(contents, 'source').map((nodes) => {\n        const node = nodes[0];\n        node.attributes['share-types'] = nodes.map((node) => node.attributes['share-types']);\n        return node;\n    });\n    return {\n        folder: new Folder({\n            id: 0,\n            source: `${getRemoteURL()}${getRootPath()}`,\n            owner: getCurrentUser()?.uid || null,\n            root: getRootPath(),\n        }),\n        contents,\n    };\n}\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getLoggerBuilder } from '@nextcloud/logger';\nexport default getLoggerBuilder()\n    .setApp('files_sharing')\n    .detectUser()\n    .build();\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.action-items>.files-list__row-action-sharing-status{padding-inline:0 !important}.action-items>.files-list__row-action-sharing-status .button-vue__wrapper{flex-direction:row-reverse;gap:var(--default-grid-baseline)}svg.sharing-status__avatar{height:var(--button-inner-size, 32px) !important;width:var(--button-inner-size, 32px) !important;max-height:var(--button-inner-size, 32px) !important;max-width:var(--button-inner-size, 32px) !important;border-radius:var(--button-inner-size, 32px);overflow:hidden}.files-list__row-action-sharing-status .button-vue__text{color:var(--color-primary-element)}.files-list__row-action-sharing-status .button-vue__icon{color:var(--color-primary-element)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/files_actions/sharingStatusAction.scss\"],\"names\":[],\"mappings\":\"AAKA,qDAEC,2BAAA,CAEA,0EAEC,0BAAA,CACA,gCAAA,CAIF,2BACC,gDAAA,CACA,+CAAA,CACA,oDAAA,CACA,mDAAA,CACA,4CAAA,CACA,eAAA,CAIA,yDACC,kCAAA,CAED,yDACC,kCAAA\",\"sourcesContent\":[\"/**\\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\\n * SPDX-License-Identifier: AGPL-3.0-or-later\\n */\\n // Only when rendered inline, when not enough space, this is put in the menu\\n.action-items > .files-list__row-action-sharing-status {\\n\\t// align icons with text-less inline actions\\n\\tpadding-inline: 0 !important;\\n\\n\\t.button-vue__wrapper {\\n\\t\\t// put icon at the end of the button\\n\\t\\tflex-direction: row-reverse;\\n\\t\\tgap: var(--default-grid-baseline);\\n\\t}\\n}\\n\\nsvg.sharing-status__avatar {\\n\\theight: var(--button-inner-size, 32px) !important;\\n\\twidth: var(--button-inner-size, 32px) !important;\\n\\tmax-height: var(--button-inner-size, 32px) !important;\\n\\tmax-width: var(--button-inner-size, 32px) !important;\\n\\tborder-radius: var(--button-inner-size, 32px);\\n\\toverflow: hidden;\\n}\\n\\n.files-list__row-action-sharing-status {\\n\\t.button-vue__text {\\n\\t\\tcolor: var(--color-primary-element);\\n\\t}\\n\\t.button-vue__icon {\\n\\t\\tcolor: var(--color-primary-element);\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n._fileListFilterAccount_ZW91g {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: var(--default-grid-baseline);\n}\n._fileListFilterAccount__avatar_V0YuN {\n\t/* 24px is the avatar size */\n\tmargin: calc((var(--default-clickable-area) - 24px) / 2);\n}\n._fileListFilterAccount__currentUser_PqQfx {\n\tfont-weight: normal !important;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/components/FileListFilterAccount.vue\"],\"names\":[],\"mappings\":\";AA4JA;CACA,aAAA;CACA,sBAAA;CACA,iCAAA;AACA;AAEA;CACA,4BAAA;CACA,wDAAA;AACA;AAEA;CACA,8BAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n<template>\\n\\t<div :class=\\\"$style.fileListFilterAccount\\\">\\n\\t\\t<NcTextField\\n\\t\\t\\tv-if=\\\"availableAccounts.length > 1\\\"\\n\\t\\t\\tv-model=\\\"accountFilter\\\"\\n\\t\\t\\ttype=\\\"search\\\"\\n\\t\\t\\t:label=\\\"t('files_sharing', 'Filter accounts')\\\" />\\n\\t\\t<NcButton\\n\\t\\t\\tv-for=\\\"account of shownAccounts\\\"\\n\\t\\t\\t:key=\\\"account.id\\\"\\n\\t\\t\\talignment=\\\"start\\\"\\n\\t\\t\\t:pressed=\\\"selectedAccounts.includes(account)\\\"\\n\\t\\t\\tvariant=\\\"tertiary\\\"\\n\\t\\t\\twide\\n\\t\\t\\t@update:pressed=\\\"toggleAccount(account.id, $event)\\\">\\n\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t<NcAvatar\\n\\t\\t\\t\\t\\t:class=\\\"$style.fileListFilterAccount__avatar\\\"\\n\\t\\t\\t\\t\\tv-bind=\\\"account\\\"\\n\\t\\t\\t\\t\\t:size=\\\"24\\\"\\n\\t\\t\\t\\t\\tdisable-menu\\n\\t\\t\\t\\t\\thide-status />\\n\\t\\t\\t</template>\\n\\t\\t\\t{{ account.displayName }}\\n\\t\\t\\t<span v-if=\\\"account.id === currentUserId\\\" :class=\\\"$style.fileListFilterAccount__currentUser\\\">\\n\\t\\t\\t\\t({{ t('files', 'you') }})\\n\\t\\t\\t</span>\\n\\t\\t</NcButton>\\n\\t</div>\\n</template>\\n\\n<script setup lang=\\\"ts\\\">\\nimport type { AccountFilter, IAccountData } from '../files_filters/AccountFilter.ts'\\n\\nimport { t } from '@nextcloud/l10n'\\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\\nimport NcAvatar from '@nextcloud/vue/components/NcAvatar'\\nimport NcButton from '@nextcloud/vue/components/NcButton'\\nimport NcTextField from '@nextcloud/vue/components/NcTextField'\\nimport { getCurrentUser } from '../../../../core/src/OC/currentuser.js'\\n\\ninterface IUserSelectData {\\n\\tid: string\\n\\tuser: string\\n\\tdisplayName: string\\n}\\n\\nconst props = defineProps<{\\n\\tfilter: AccountFilter\\n}>()\\n\\nconst currentUserId = getCurrentUser()!.uid\\n\\nconst accountFilter = ref('')\\nconst availableAccounts = ref<IUserSelectData[]>([])\\nconst selectedAccounts = ref<IUserSelectData[]>([])\\nwatch(selectedAccounts, () => {\\n\\tconst accounts = selectedAccounts.value.map(({ id: uid, displayName }) => ({ uid, displayName }))\\n\\tprops.filter.setAccounts(accounts.length > 0 ? accounts : undefined)\\n})\\n\\nonMounted(() => {\\n\\tsetAvailableAccounts(props.filter.availableAccounts)\\n\\tselectedAccounts.value = availableAccounts.value.filter(({ id }) => props.filter.filterAccounts?.some(({ uid }) => uid === id)) ?? []\\n\\tprops.filter.addEventListener('accounts-updated', setAvailableAccounts)\\n\\tprops.filter.addEventListener('reset', resetFilter)\\n\\tprops.filter.addEventListener('deselect', deselect)\\n})\\nonUnmounted(() => {\\n\\tprops.filter.removeEventListener('accounts-updated', setAvailableAccounts)\\n\\tprops.filter.removeEventListener('reset', resetFilter)\\n\\tprops.filter.removeEventListener('deselect', deselect)\\n})\\n\\n/**\\n * Currently shown accounts (filtered)\\n */\\nconst shownAccounts = computed(() => {\\n\\tif (!accountFilter.value) {\\n\\t\\treturn [...availableAccounts.value].sort(sortAccounts)\\n\\t}\\n\\n\\tconst queryParts = accountFilter.value.toLocaleLowerCase().trim().split(' ')\\n\\tconst accounts = availableAccounts.value.filter((account) => queryParts.every((part) => account.user.toLocaleLowerCase().includes(part)\\n\\t\\t|| account.displayName.toLocaleLowerCase().includes(part)))\\n\\treturn accounts.sort(sortAccounts)\\n})\\n\\n/**\\n * Sort accounts, putting the current user at the begin\\n *\\n * @param a - First account\\n * @param b - Second account\\n */\\nfunction sortAccounts(a: IUserSelectData, b: IUserSelectData) {\\n\\tif (a.id === currentUserId) {\\n\\t\\treturn -1\\n\\t}\\n\\tif (b.id === currentUserId) {\\n\\t\\treturn 1\\n\\t}\\n\\treturn a.displayName.localeCompare(b.displayName)\\n}\\n\\n/**\\n * Toggle an account as selected\\n *\\n * @param accountId The account to toggle\\n * @param selected Whether to select or deselect the account\\n */\\nfunction toggleAccount(accountId: string, selected: boolean) {\\n\\tselectedAccounts.value = selectedAccounts.value.filter(({ id }) => id !== accountId)\\n\\tif (selected) {\\n\\t\\tconst account = availableAccounts.value.find(({ id }) => id === accountId)\\n\\t\\tif (account) {\\n\\t\\t\\tselectedAccounts.value = [...selectedAccounts.value, account]\\n\\t\\t}\\n\\t}\\n}\\n\\n/**\\n * Deselect an account\\n *\\n * @param event - The custom event\\n */\\nfunction deselect(event: CustomEvent) {\\n\\tconst accountId = event.detail as string\\n\\tselectedAccounts.value = selectedAccounts.value.filter(({ id }) => id !== accountId)\\n}\\n\\n/**\\n * Reset this filter\\n */\\nfunction resetFilter() {\\n\\tselectedAccounts.value = []\\n\\taccountFilter.value = ''\\n}\\n\\n/**\\n * Update list of available accounts in current view.\\n *\\n * @param accounts - Accounts to use\\n */\\nfunction setAvailableAccounts(accounts: IAccountData[] | CustomEvent): void {\\n\\tif (accounts instanceof CustomEvent) {\\n\\t\\taccounts = accounts.detail as IAccountData[]\\n\\t}\\n\\tavailableAccounts.value = accounts.map(({ uid, displayName }) => ({ displayName, id: uid, user: uid }))\\n}\\n</script>\\n\\n<style module>\\n.fileListFilterAccount {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tgap: var(--default-grid-baseline);\\n}\\n\\n.fileListFilterAccount__avatar {\\n\\t/* 24px is the avatar size */\\n\\tmargin: calc((var(--default-clickable-area) - 24px) / 2);\\n}\\n\\n.fileListFilterAccount__currentUser {\\n\\tfont-weight: normal !important;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"fileListFilterAccount\": `_fileListFilterAccount_ZW91g`,\n\t\"fileListFilterAccount__avatar\": `_fileListFilterAccount__avatar_V0YuN`,\n\t\"fileListFilterAccount__currentUser\": `_fileListFilterAccount__currentUser_PqQfx`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","import { getCurrentUser, onRequestTokenUpdate, getRequestToken } from \"@nextcloud/auth\";\nimport { generateRemoteUrl } from \"@nextcloud/router\";\nimport { isPublicShare, getSharingToken } from \"@nextcloud/sharing/public\";\nimport { createClient, getPatcher } from \"webdav\";\nimport { P as Permission, l as logger, c as NodeStatus, a as File, b as Folder } from \"./chunks/folder-CeyZUHai.mjs\";\n/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nfunction parsePermissions(permString = \"\") {\n  let permissions = Permission.NONE;\n  if (!permString) {\n    return permissions;\n  }\n  if (permString.includes(\"G\")) {\n    permissions |= Permission.READ;\n  }\n  if (permString.includes(\"W\")) {\n    permissions |= Permission.WRITE;\n  }\n  if (permString.includes(\"CK\")) {\n    permissions |= Permission.CREATE;\n  }\n  if (permString.includes(\"NV\")) {\n    permissions |= Permission.UPDATE;\n  }\n  if (permString.includes(\"D\")) {\n    permissions |= Permission.DELETE;\n  }\n  if (permString.includes(\"R\")) {\n    permissions |= Permission.SHARE;\n  }\n  return permissions;\n}\nconst defaultDavProperties = [\n  \"d:getcontentlength\",\n  \"d:getcontenttype\",\n  \"d:getetag\",\n  \"d:getlastmodified\",\n  \"d:creationdate\",\n  \"d:displayname\",\n  \"d:quota-available-bytes\",\n  \"d:resourcetype\",\n  \"nc:has-preview\",\n  \"nc:is-encrypted\",\n  \"nc:mount-type\",\n  \"oc:comments-unread\",\n  \"oc:favorite\",\n  \"oc:fileid\",\n  \"oc:owner-display-name\",\n  \"oc:owner-id\",\n  \"oc:permissions\",\n  \"oc:size\"\n];\nconst defaultDavNamespaces = {\n  d: \"DAV:\",\n  nc: \"http://nextcloud.org/ns\",\n  oc: \"http://owncloud.org/ns\",\n  ocs: \"http://open-collaboration-services.org/ns\"\n};\nfunction registerDavProperty(prop, namespace = { nc: \"http://nextcloud.org/ns\" }) {\n  if (typeof window._nc_dav_properties === \"undefined\") {\n    window._nc_dav_properties = [...defaultDavProperties];\n    window._nc_dav_namespaces = { ...defaultDavNamespaces };\n  }\n  const namespaces = { ...window._nc_dav_namespaces, ...namespace };\n  if (window._nc_dav_properties.find((search) => search === prop)) {\n    logger.warn(`${prop} already registered`, { prop });\n    return false;\n  }\n  if (prop.startsWith(\"<\") || prop.split(\":\").length !== 2) {\n    logger.error(`${prop} is not valid. See example: 'oc:fileid'`, { prop });\n    return false;\n  }\n  const ns = prop.split(\":\")[0];\n  if (!namespaces[ns]) {\n    logger.error(`${prop} namespace unknown`, { prop, namespaces });\n    return false;\n  }\n  window._nc_dav_properties.push(prop);\n  window._nc_dav_namespaces = namespaces;\n  return true;\n}\nfunction getDavProperties() {\n  if (typeof window._nc_dav_properties === \"undefined\") {\n    window._nc_dav_properties = [...defaultDavProperties];\n  }\n  return window._nc_dav_properties.map((prop) => `<${prop} />`).join(\" \");\n}\nfunction getDavNameSpaces() {\n  if (typeof window._nc_dav_namespaces === \"undefined\") {\n    window._nc_dav_namespaces = { ...defaultDavNamespaces };\n  }\n  return Object.keys(window._nc_dav_namespaces).map((ns) => `xmlns:${ns}=\"${window._nc_dav_namespaces?.[ns]}\"`).join(\" \");\n}\nfunction getDefaultPropfind() {\n  return `<?xml version=\"1.0\"?>\n\t\t<d:propfind ${getDavNameSpaces()}>\n\t\t\t<d:prop>\n\t\t\t\t${getDavProperties()}\n\t\t\t</d:prop>\n\t\t</d:propfind>`;\n}\nfunction getFavoritesReport() {\n  return `<?xml version=\"1.0\"?>\n\t\t<oc:filter-files ${getDavNameSpaces()}>\n\t\t\t<d:prop>\n\t\t\t\t${getDavProperties()}\n\t\t\t</d:prop>\n\t\t\t<oc:filter-rules>\n\t\t\t\t<oc:favorite>1</oc:favorite>\n\t\t\t</oc:filter-rules>\n\t\t</oc:filter-files>`;\n}\nfunction getRecentSearch(lastModified) {\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<d:searchrequest ${getDavNameSpaces()}\n\txmlns:ns=\"https://github.com/icewind1991/SearchDAV/ns\">\n\t<d:basicsearch>\n\t\t<d:select>\n\t\t\t<d:prop>\n\t\t\t\t${getDavProperties()}\n\t\t\t</d:prop>\n\t\t</d:select>\n\t\t<d:from>\n\t\t\t<d:scope>\n\t\t\t\t<d:href>/files/${getCurrentUser()?.uid}/</d:href>\n\t\t\t\t<d:depth>infinity</d:depth>\n\t\t\t</d:scope>\n\t\t</d:from>\n\t\t<d:where>\n\t\t\t<d:and>\n\t\t\t\t<d:or>\n\t\t\t\t\t<d:not>\n\t\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t\t<d:getcontenttype/>\n\t\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t\t<d:literal>httpd/unix-directory</d:literal>\n\t\t\t\t\t\t</d:eq>\n\t\t\t\t\t</d:not>\n\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t<oc:size/>\n\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t<d:literal>0</d:literal>\n\t\t\t\t\t</d:eq>\n\t\t\t\t</d:or>\n\t\t\t\t<d:gt>\n\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t\t</d:prop>\n\t\t\t\t\t<d:literal>${lastModified}</d:literal>\n\t\t\t\t</d:gt>\n\t\t\t</d:and>\n\t\t</d:where>\n\t\t<d:orderby>\n\t\t\t<d:order>\n\t\t\t\t<d:prop>\n\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t</d:prop>\n\t\t\t\t<d:descending/>\n\t\t\t</d:order>\n\t\t</d:orderby>\n\t\t<d:limit>\n\t\t\t<d:nresults>100</d:nresults>\n\t\t\t<ns:firstresult>0</ns:firstresult>\n\t\t</d:limit>\n\t</d:basicsearch>\n</d:searchrequest>`;\n}\nfunction getRootPath() {\n  if (isPublicShare()) {\n    return `/files/${getSharingToken()}`;\n  }\n  return `/files/${getCurrentUser()?.uid}`;\n}\nconst defaultRootPath = getRootPath();\nfunction getRemoteURL() {\n  const url = generateRemoteUrl(\"dav\");\n  if (isPublicShare()) {\n    return url.replace(\"remote.php\", \"public.php\");\n  }\n  return url;\n}\nconst defaultRemoteURL = getRemoteURL();\nfunction getClient(remoteURL = defaultRemoteURL, headers = {}) {\n  const client = createClient(remoteURL, { headers });\n  function setHeaders(token) {\n    client.setHeaders({\n      ...headers,\n      // Add this so the server knows it is an request from the browser\n      \"X-Requested-With\": \"XMLHttpRequest\",\n      // Inject user auth\n      requesttoken: token ?? \"\"\n    });\n  }\n  onRequestTokenUpdate(setHeaders);\n  setHeaders(getRequestToken());\n  const patcher = getPatcher();\n  patcher.patch(\"fetch\", (url, options) => {\n    const headers2 = options.headers;\n    if (headers2?.method) {\n      options.method = headers2.method;\n      delete headers2.method;\n    }\n    return fetch(url, options);\n  });\n  return client;\n}\nasync function getFavoriteNodes(options = {}) {\n  const client = options.client ?? getClient();\n  const path = options.path ?? \"/\";\n  const davRoot = options.davRoot ?? defaultRootPath;\n  const contentsResponse = await client.getDirectoryContents(`${davRoot}${path}`, {\n    signal: options.signal,\n    details: true,\n    data: getFavoritesReport(),\n    headers: {\n      // see getClient for patched webdav client\n      method: \"REPORT\"\n    },\n    includeSelf: true\n  });\n  return contentsResponse.data.filter((node) => node.filename !== path).map((result) => resultToNode(result, davRoot));\n}\nfunction resultToNode(node, filesRoot = defaultRootPath, remoteURL = defaultRemoteURL) {\n  let userId = getCurrentUser()?.uid;\n  if (isPublicShare()) {\n    userId = userId ?? \"anonymous\";\n  } else if (!userId) {\n    throw new Error(\"No user id found\");\n  }\n  const props = node.props;\n  const permissions = parsePermissions(props?.permissions);\n  const owner = String(props?.[\"owner-id\"] || userId);\n  const id = props.fileid || 0;\n  const mtime = new Date(Date.parse(node.lastmod));\n  const crtime = new Date(Date.parse(props.creationdate));\n  const nodeData = {\n    id,\n    source: `${remoteURL}${node.filename}`,\n    mtime: !isNaN(mtime.getTime()) && mtime.getTime() !== 0 ? mtime : void 0,\n    crtime: !isNaN(crtime.getTime()) && crtime.getTime() !== 0 ? crtime : void 0,\n    mime: node.mime || \"application/octet-stream\",\n    // Manually cast to work around for https://github.com/perry-mitchell/webdav-client/pull/380\n    displayname: props.displayname !== void 0 ? String(props.displayname) : void 0,\n    size: props?.size || Number.parseInt(props.getcontentlength || \"0\"),\n    // The fileid is set to -1 for failed requests\n    status: id < 0 ? NodeStatus.FAILED : void 0,\n    permissions,\n    owner,\n    root: filesRoot,\n    attributes: {\n      ...node,\n      ...props,\n      hasPreview: props?.[\"has-preview\"]\n    }\n  };\n  delete nodeData.attributes?.props;\n  return node.type === \"file\" ? new File(nodeData) : new Folder(nodeData);\n}\nexport {\n  defaultDavNamespaces,\n  defaultDavProperties,\n  defaultRemoteURL,\n  defaultRootPath,\n  getClient,\n  getDavNameSpaces,\n  getDavProperties,\n  getDefaultPropfind,\n  getFavoriteNodes,\n  getFavoritesReport,\n  getRecentSearch,\n  getRemoteURL,\n  getRootPath,\n  parsePermissions,\n  registerDavProperty,\n  resultToNode\n};\n//# sourceMappingURL=dav.mjs.map\n","import { l as logger, F as FileType } from \"./chunks/folder-CeyZUHai.mjs\";\nimport { a, b, N, c, P } from \"./chunks/folder-CeyZUHai.mjs\";\nimport { TypedEventTarget } from \"typescript-event-target\";\nimport isSvg from \"is-svg\";\nimport { getCapabilities } from \"@nextcloud/capabilities\";\nimport { extname, basename } from \"@nextcloud/paths\";\nimport { getCanonicalLocale, getLanguage } from \"@nextcloud/l10n\";\nconst DefaultType = Object.freeze({\n  DEFAULT: \"default\",\n  HIDDEN: \"hidden\"\n});\nclass FileAction {\n  _action;\n  constructor(action) {\n    this.validateAction(action);\n    this._action = action;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get title() {\n    return this._action.title;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  get execBatch() {\n    return this._action.execBatch;\n  }\n  get hotkey() {\n    return this._action.hotkey;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get parent() {\n    return this._action.parent;\n  }\n  get default() {\n    return this._action.default;\n  }\n  get destructive() {\n    return this._action.destructive;\n  }\n  get inline() {\n    return this._action.inline;\n  }\n  get renderInline() {\n    return this._action.renderInline;\n  }\n  validateAction(action) {\n    if (!action.id || typeof action.id !== \"string\") {\n      throw new Error(\"Invalid id\");\n    }\n    if (!action.displayName || typeof action.displayName !== \"function\") {\n      throw new Error(\"Invalid displayName function\");\n    }\n    if (\"title\" in action && typeof action.title !== \"function\") {\n      throw new Error(\"Invalid title function\");\n    }\n    if (!action.iconSvgInline || typeof action.iconSvgInline !== \"function\") {\n      throw new Error(\"Invalid iconSvgInline function\");\n    }\n    if (!action.exec || typeof action.exec !== \"function\") {\n      throw new Error(\"Invalid exec function\");\n    }\n    if (\"enabled\" in action && typeof action.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled function\");\n    }\n    if (\"execBatch\" in action && typeof action.execBatch !== \"function\") {\n      throw new Error(\"Invalid execBatch function\");\n    }\n    if (\"order\" in action && typeof action.order !== \"number\") {\n      throw new Error(\"Invalid order\");\n    }\n    if (action.destructive !== void 0 && typeof action.destructive !== \"boolean\") {\n      throw new Error(\"Invalid destructive flag\");\n    }\n    if (\"parent\" in action && typeof action.parent !== \"string\") {\n      throw new Error(\"Invalid parent\");\n    }\n    if (action.default && !Object.values(DefaultType).includes(action.default)) {\n      throw new Error(\"Invalid default\");\n    }\n    if (\"inline\" in action && typeof action.inline !== \"function\") {\n      throw new Error(\"Invalid inline function\");\n    }\n    if (\"renderInline\" in action && typeof action.renderInline !== \"function\") {\n      throw new Error(\"Invalid renderInline function\");\n    }\n    if (\"hotkey\" in action && action.hotkey !== void 0) {\n      if (typeof action.hotkey !== \"object\") {\n        throw new Error(\"Invalid hotkey configuration\");\n      }\n      if (typeof action.hotkey.key !== \"string\" || !action.hotkey.key) {\n        throw new Error(\"Missing or invalid hotkey key\");\n      }\n      if (typeof action.hotkey.description !== \"string\" || !action.hotkey.description) {\n        throw new Error(\"Missing or invalid hotkey description\");\n      }\n    }\n  }\n}\nfunction registerFileAction(action) {\n  if (typeof window._nc_fileactions === \"undefined\") {\n    window._nc_fileactions = [];\n    logger.debug(\"FileActions initialized\");\n  }\n  if (window._nc_fileactions.find((search) => search.id === action.id)) {\n    logger.error(`FileAction ${action.id} already registered`, { action });\n    return;\n  }\n  window._nc_fileactions.push(action);\n}\nfunction getFileActions() {\n  if (typeof window._nc_fileactions === \"undefined\") {\n    window._nc_fileactions = [];\n    logger.debug(\"FileActions initialized\");\n  }\n  return window._nc_fileactions;\n}\nclass FileListAction {\n  _action;\n  constructor(action) {\n    this.validateAction(action);\n    this._action = action;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  validateAction(action) {\n    if (!action.id || typeof action.id !== \"string\") {\n      throw new Error(\"Invalid id\");\n    }\n    if (!action.displayName || typeof action.displayName !== \"function\") {\n      throw new Error(\"Invalid displayName function\");\n    }\n    if (\"iconSvgInline\" in action && typeof action.iconSvgInline !== \"function\") {\n      throw new Error(\"Invalid iconSvgInline function\");\n    }\n    if (\"order\" in action && typeof action.order !== \"number\") {\n      throw new Error(\"Invalid order\");\n    }\n    if (\"enabled\" in action && typeof action.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled function\");\n    }\n    if (!action.exec || typeof action.exec !== \"function\") {\n      throw new Error(\"Invalid exec function\");\n    }\n  }\n}\nfunction registerFileListAction(action) {\n  if (typeof window._nc_filelistactions === \"undefined\") {\n    window._nc_filelistactions = [];\n  }\n  if (window._nc_filelistactions.find((listAction) => listAction.id === action.id)) {\n    logger.error(`FileListAction with id \"${action.id}\" is already registered`, { action });\n    return;\n  }\n  window._nc_filelistactions.push(action);\n}\nfunction getFileListActions() {\n  if (typeof window._nc_filelistactions === \"undefined\") {\n    window._nc_filelistactions = [];\n  }\n  return window._nc_filelistactions;\n}\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nvar debug_1;\nvar hasRequiredDebug;\nfunction requireDebug() {\n  if (hasRequiredDebug) return debug_1;\n  hasRequiredDebug = 1;\n  const debug = typeof process === \"object\" && process.env && process.env.NODE_DEBUG && /\\bsemver\\b/i.test(process.env.NODE_DEBUG) ? (...args) => console.error(\"SEMVER\", ...args) : () => {\n  };\n  debug_1 = debug;\n  return debug_1;\n}\nvar constants;\nvar hasRequiredConstants;\nfunction requireConstants() {\n  if (hasRequiredConstants) return constants;\n  hasRequiredConstants = 1;\n  const SEMVER_SPEC_VERSION = \"2.0.0\";\n  const MAX_LENGTH = 256;\n  const MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || /* istanbul ignore next */\n  9007199254740991;\n  const MAX_SAFE_COMPONENT_LENGTH = 16;\n  const MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6;\n  const RELEASE_TYPES = [\n    \"major\",\n    \"premajor\",\n    \"minor\",\n    \"preminor\",\n    \"patch\",\n    \"prepatch\",\n    \"prerelease\"\n  ];\n  constants = {\n    MAX_LENGTH,\n    MAX_SAFE_COMPONENT_LENGTH,\n    MAX_SAFE_BUILD_LENGTH,\n    MAX_SAFE_INTEGER,\n    RELEASE_TYPES,\n    SEMVER_SPEC_VERSION,\n    FLAG_INCLUDE_PRERELEASE: 1,\n    FLAG_LOOSE: 2\n  };\n  return constants;\n}\nvar re = { exports: {} };\nvar hasRequiredRe;\nfunction requireRe() {\n  if (hasRequiredRe) return re.exports;\n  hasRequiredRe = 1;\n  (function(module, exports) {\n    const {\n      MAX_SAFE_COMPONENT_LENGTH,\n      MAX_SAFE_BUILD_LENGTH,\n      MAX_LENGTH\n    } = requireConstants();\n    const debug = requireDebug();\n    exports = module.exports = {};\n    const re2 = exports.re = [];\n    const safeRe = exports.safeRe = [];\n    const src = exports.src = [];\n    const safeSrc = exports.safeSrc = [];\n    const t = exports.t = {};\n    let R = 0;\n    const LETTERDASHNUMBER = \"[a-zA-Z0-9-]\";\n    const safeRegexReplacements = [\n      [\"\\\\s\", 1],\n      [\"\\\\d\", MAX_LENGTH],\n      [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH]\n    ];\n    const makeSafeRegex = (value) => {\n      for (const [token, max] of safeRegexReplacements) {\n        value = value.split(`${token}*`).join(`${token}{0,${max}}`).split(`${token}+`).join(`${token}{1,${max}}`);\n      }\n      return value;\n    };\n    const createToken = (name, value, isGlobal) => {\n      const safe = makeSafeRegex(value);\n      const index = R++;\n      debug(name, index, value);\n      t[name] = index;\n      src[index] = value;\n      safeSrc[index] = safe;\n      re2[index] = new RegExp(value, isGlobal ? \"g\" : void 0);\n      safeRe[index] = new RegExp(safe, isGlobal ? \"g\" : void 0);\n    };\n    createToken(\"NUMERICIDENTIFIER\", \"0|[1-9]\\\\d*\");\n    createToken(\"NUMERICIDENTIFIERLOOSE\", \"\\\\d+\");\n    createToken(\"NONNUMERICIDENTIFIER\", `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`);\n    createToken(\"MAINVERSION\", `(${src[t.NUMERICIDENTIFIER]})\\\\.(${src[t.NUMERICIDENTIFIER]})\\\\.(${src[t.NUMERICIDENTIFIER]})`);\n    createToken(\"MAINVERSIONLOOSE\", `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.(${src[t.NUMERICIDENTIFIERLOOSE]})`);\n    createToken(\"PRERELEASEIDENTIFIER\", `(?:${src[t.NONNUMERICIDENTIFIER]}|${src[t.NUMERICIDENTIFIER]})`);\n    createToken(\"PRERELEASEIDENTIFIERLOOSE\", `(?:${src[t.NONNUMERICIDENTIFIER]}|${src[t.NUMERICIDENTIFIERLOOSE]})`);\n    createToken(\"PRERELEASE\", `(?:-(${src[t.PRERELEASEIDENTIFIER]}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`);\n    createToken(\"PRERELEASELOOSE\", `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`);\n    createToken(\"BUILDIDENTIFIER\", `${LETTERDASHNUMBER}+`);\n    createToken(\"BUILD\", `(?:\\\\+(${src[t.BUILDIDENTIFIER]}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`);\n    createToken(\"FULLPLAIN\", `v?${src[t.MAINVERSION]}${src[t.PRERELEASE]}?${src[t.BUILD]}?`);\n    createToken(\"FULL\", `^${src[t.FULLPLAIN]}$`);\n    createToken(\"LOOSEPLAIN\", `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]}${src[t.PRERELEASELOOSE]}?${src[t.BUILD]}?`);\n    createToken(\"LOOSE\", `^${src[t.LOOSEPLAIN]}$`);\n    createToken(\"GTLT\", \"((?:<|>)?=?)\");\n    createToken(\"XRANGEIDENTIFIERLOOSE\", `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`);\n    createToken(\"XRANGEIDENTIFIER\", `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`);\n    createToken(\"XRANGEPLAIN\", `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})(?:\\\\.(${src[t.XRANGEIDENTIFIER]})(?:\\\\.(${src[t.XRANGEIDENTIFIER]})(?:${src[t.PRERELEASE]})?${src[t.BUILD]}?)?)?`);\n    createToken(\"XRANGEPLAINLOOSE\", `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})(?:${src[t.PRERELEASELOOSE]})?${src[t.BUILD]}?)?)?`);\n    createToken(\"XRANGE\", `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`);\n    createToken(\"XRANGELOOSE\", `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`);\n    createToken(\"COERCEPLAIN\", `${\"(^|[^\\\\d])(\\\\d{1,\"}${MAX_SAFE_COMPONENT_LENGTH}})(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`);\n    createToken(\"COERCE\", `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`);\n    createToken(\"COERCEFULL\", src[t.COERCEPLAIN] + `(?:${src[t.PRERELEASE]})?(?:${src[t.BUILD]})?(?:$|[^\\\\d])`);\n    createToken(\"COERCERTL\", src[t.COERCE], true);\n    createToken(\"COERCERTLFULL\", src[t.COERCEFULL], true);\n    createToken(\"LONETILDE\", \"(?:~>?)\");\n    createToken(\"TILDETRIM\", `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true);\n    exports.tildeTrimReplace = \"$1~\";\n    createToken(\"TILDE\", `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);\n    createToken(\"TILDELOOSE\", `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`);\n    createToken(\"LONECARET\", \"(?:\\\\^)\");\n    createToken(\"CARETTRIM\", `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true);\n    exports.caretTrimReplace = \"$1^\";\n    createToken(\"CARET\", `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);\n    createToken(\"CARETLOOSE\", `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`);\n    createToken(\"COMPARATORLOOSE\", `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`);\n    createToken(\"COMPARATOR\", `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`);\n    createToken(\"COMPARATORTRIM\", `(\\\\s*)${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true);\n    exports.comparatorTrimReplace = \"$1$2$3\";\n    createToken(\"HYPHENRANGE\", `^\\\\s*(${src[t.XRANGEPLAIN]})\\\\s+-\\\\s+(${src[t.XRANGEPLAIN]})\\\\s*$`);\n    createToken(\"HYPHENRANGELOOSE\", `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})\\\\s+-\\\\s+(${src[t.XRANGEPLAINLOOSE]})\\\\s*$`);\n    createToken(\"STAR\", \"(<|>)?=?\\\\s*\\\\*\");\n    createToken(\"GTE0\", \"^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$\");\n    createToken(\"GTE0PRE\", \"^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$\");\n  })(re, re.exports);\n  return re.exports;\n}\nvar parseOptions_1;\nvar hasRequiredParseOptions;\nfunction requireParseOptions() {\n  if (hasRequiredParseOptions) return parseOptions_1;\n  hasRequiredParseOptions = 1;\n  const looseOption = Object.freeze({ loose: true });\n  const emptyOpts = Object.freeze({});\n  const parseOptions = (options) => {\n    if (!options) {\n      return emptyOpts;\n    }\n    if (typeof options !== \"object\") {\n      return looseOption;\n    }\n    return options;\n  };\n  parseOptions_1 = parseOptions;\n  return parseOptions_1;\n}\nvar identifiers;\nvar hasRequiredIdentifiers;\nfunction requireIdentifiers() {\n  if (hasRequiredIdentifiers) return identifiers;\n  hasRequiredIdentifiers = 1;\n  const numeric = /^[0-9]+$/;\n  const compareIdentifiers = (a2, b2) => {\n    if (typeof a2 === \"number\" && typeof b2 === \"number\") {\n      return a2 === b2 ? 0 : a2 < b2 ? -1 : 1;\n    }\n    const anum = numeric.test(a2);\n    const bnum = numeric.test(b2);\n    if (anum && bnum) {\n      a2 = +a2;\n      b2 = +b2;\n    }\n    return a2 === b2 ? 0 : anum && !bnum ? -1 : bnum && !anum ? 1 : a2 < b2 ? -1 : 1;\n  };\n  const rcompareIdentifiers = (a2, b2) => compareIdentifiers(b2, a2);\n  identifiers = {\n    compareIdentifiers,\n    rcompareIdentifiers\n  };\n  return identifiers;\n}\nvar semver;\nvar hasRequiredSemver;\nfunction requireSemver() {\n  if (hasRequiredSemver) return semver;\n  hasRequiredSemver = 1;\n  const debug = requireDebug();\n  const { MAX_LENGTH, MAX_SAFE_INTEGER } = requireConstants();\n  const { safeRe: re2, t } = requireRe();\n  const parseOptions = requireParseOptions();\n  const { compareIdentifiers } = requireIdentifiers();\n  class SemVer {\n    constructor(version, options) {\n      options = parseOptions(options);\n      if (version instanceof SemVer) {\n        if (version.loose === !!options.loose && version.includePrerelease === !!options.includePrerelease) {\n          return version;\n        } else {\n          version = version.version;\n        }\n      } else if (typeof version !== \"string\") {\n        throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`);\n      }\n      if (version.length > MAX_LENGTH) {\n        throw new TypeError(\n          `version is longer than ${MAX_LENGTH} characters`\n        );\n      }\n      debug(\"SemVer\", version, options);\n      this.options = options;\n      this.loose = !!options.loose;\n      this.includePrerelease = !!options.includePrerelease;\n      const m = version.trim().match(options.loose ? re2[t.LOOSE] : re2[t.FULL]);\n      if (!m) {\n        throw new TypeError(`Invalid Version: ${version}`);\n      }\n      this.raw = version;\n      this.major = +m[1];\n      this.minor = +m[2];\n      this.patch = +m[3];\n      if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n        throw new TypeError(\"Invalid major version\");\n      }\n      if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n        throw new TypeError(\"Invalid minor version\");\n      }\n      if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n        throw new TypeError(\"Invalid patch version\");\n      }\n      if (!m[4]) {\n        this.prerelease = [];\n      } else {\n        this.prerelease = m[4].split(\".\").map((id) => {\n          if (/^[0-9]+$/.test(id)) {\n            const num = +id;\n            if (num >= 0 && num < MAX_SAFE_INTEGER) {\n              return num;\n            }\n          }\n          return id;\n        });\n      }\n      this.build = m[5] ? m[5].split(\".\") : [];\n      this.format();\n    }\n    format() {\n      this.version = `${this.major}.${this.minor}.${this.patch}`;\n      if (this.prerelease.length) {\n        this.version += `-${this.prerelease.join(\".\")}`;\n      }\n      return this.version;\n    }\n    toString() {\n      return this.version;\n    }\n    compare(other) {\n      debug(\"SemVer.compare\", this.version, this.options, other);\n      if (!(other instanceof SemVer)) {\n        if (typeof other === \"string\" && other === this.version) {\n          return 0;\n        }\n        other = new SemVer(other, this.options);\n      }\n      if (other.version === this.version) {\n        return 0;\n      }\n      return this.compareMain(other) || this.comparePre(other);\n    }\n    compareMain(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      if (this.major < other.major) {\n        return -1;\n      }\n      if (this.major > other.major) {\n        return 1;\n      }\n      if (this.minor < other.minor) {\n        return -1;\n      }\n      if (this.minor > other.minor) {\n        return 1;\n      }\n      if (this.patch < other.patch) {\n        return -1;\n      }\n      if (this.patch > other.patch) {\n        return 1;\n      }\n      return 0;\n    }\n    comparePre(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      if (this.prerelease.length && !other.prerelease.length) {\n        return -1;\n      } else if (!this.prerelease.length && other.prerelease.length) {\n        return 1;\n      } else if (!this.prerelease.length && !other.prerelease.length) {\n        return 0;\n      }\n      let i = 0;\n      do {\n        const a2 = this.prerelease[i];\n        const b2 = other.prerelease[i];\n        debug(\"prerelease compare\", i, a2, b2);\n        if (a2 === void 0 && b2 === void 0) {\n          return 0;\n        } else if (b2 === void 0) {\n          return 1;\n        } else if (a2 === void 0) {\n          return -1;\n        } else if (a2 === b2) {\n          continue;\n        } else {\n          return compareIdentifiers(a2, b2);\n        }\n      } while (++i);\n    }\n    compareBuild(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      let i = 0;\n      do {\n        const a2 = this.build[i];\n        const b2 = other.build[i];\n        debug(\"build compare\", i, a2, b2);\n        if (a2 === void 0 && b2 === void 0) {\n          return 0;\n        } else if (b2 === void 0) {\n          return 1;\n        } else if (a2 === void 0) {\n          return -1;\n        } else if (a2 === b2) {\n          continue;\n        } else {\n          return compareIdentifiers(a2, b2);\n        }\n      } while (++i);\n    }\n    // preminor will bump the version up to the next minor release, and immediately\n    // down to pre-release. premajor and prepatch work the same way.\n    inc(release, identifier, identifierBase) {\n      if (release.startsWith(\"pre\")) {\n        if (!identifier && identifierBase === false) {\n          throw new Error(\"invalid increment argument: identifier is empty\");\n        }\n        if (identifier) {\n          const match = `-${identifier}`.match(this.options.loose ? re2[t.PRERELEASELOOSE] : re2[t.PRERELEASE]);\n          if (!match || match[1] !== identifier) {\n            throw new Error(`invalid identifier: ${identifier}`);\n          }\n        }\n      }\n      switch (release) {\n        case \"premajor\":\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor = 0;\n          this.major++;\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"preminor\":\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor++;\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"prepatch\":\n          this.prerelease.length = 0;\n          this.inc(\"patch\", identifier, identifierBase);\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        // If the input is a non-prerelease version, this acts the same as\n        // prepatch.\n        case \"prerelease\":\n          if (this.prerelease.length === 0) {\n            this.inc(\"patch\", identifier, identifierBase);\n          }\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"release\":\n          if (this.prerelease.length === 0) {\n            throw new Error(`version ${this.raw} is not a prerelease`);\n          }\n          this.prerelease.length = 0;\n          break;\n        case \"major\":\n          if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0) {\n            this.major++;\n          }\n          this.minor = 0;\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n        case \"minor\":\n          if (this.patch !== 0 || this.prerelease.length === 0) {\n            this.minor++;\n          }\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n        case \"patch\":\n          if (this.prerelease.length === 0) {\n            this.patch++;\n          }\n          this.prerelease = [];\n          break;\n        // This probably shouldn't be used publicly.\n        // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n        case \"pre\": {\n          const base = Number(identifierBase) ? 1 : 0;\n          if (this.prerelease.length === 0) {\n            this.prerelease = [base];\n          } else {\n            let i = this.prerelease.length;\n            while (--i >= 0) {\n              if (typeof this.prerelease[i] === \"number\") {\n                this.prerelease[i]++;\n                i = -2;\n              }\n            }\n            if (i === -1) {\n              if (identifier === this.prerelease.join(\".\") && identifierBase === false) {\n                throw new Error(\"invalid increment argument: identifier already exists\");\n              }\n              this.prerelease.push(base);\n            }\n          }\n          if (identifier) {\n            let prerelease = [identifier, base];\n            if (identifierBase === false) {\n              prerelease = [identifier];\n            }\n            if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n              if (isNaN(this.prerelease[1])) {\n                this.prerelease = prerelease;\n              }\n            } else {\n              this.prerelease = prerelease;\n            }\n          }\n          break;\n        }\n        default:\n          throw new Error(`invalid increment argument: ${release}`);\n      }\n      this.raw = this.format();\n      if (this.build.length) {\n        this.raw += `+${this.build.join(\".\")}`;\n      }\n      return this;\n    }\n  }\n  semver = SemVer;\n  return semver;\n}\nvar major_1;\nvar hasRequiredMajor;\nfunction requireMajor() {\n  if (hasRequiredMajor) return major_1;\n  hasRequiredMajor = 1;\n  const SemVer = requireSemver();\n  const major2 = (a2, loose) => new SemVer(a2, loose).major;\n  major_1 = major2;\n  return major_1;\n}\nvar majorExports = requireMajor();\nconst major = /* @__PURE__ */ getDefaultExportFromCjs(majorExports);\nvar parse_1;\nvar hasRequiredParse;\nfunction requireParse() {\n  if (hasRequiredParse) return parse_1;\n  hasRequiredParse = 1;\n  const SemVer = requireSemver();\n  const parse = (version, options, throwErrors = false) => {\n    if (version instanceof SemVer) {\n      return version;\n    }\n    try {\n      return new SemVer(version, options);\n    } catch (er) {\n      if (!throwErrors) {\n        return null;\n      }\n      throw er;\n    }\n  };\n  parse_1 = parse;\n  return parse_1;\n}\nvar valid_1;\nvar hasRequiredValid;\nfunction requireValid() {\n  if (hasRequiredValid) return valid_1;\n  hasRequiredValid = 1;\n  const parse = requireParse();\n  const valid2 = (version, options) => {\n    const v = parse(version, options);\n    return v ? v.version : null;\n  };\n  valid_1 = valid2;\n  return valid_1;\n}\nvar validExports = requireValid();\nconst valid = /* @__PURE__ */ getDefaultExportFromCjs(validExports);\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nclass ProxyBus {\n  bus;\n  constructor(bus2) {\n    if (typeof bus2.getVersion !== \"function\" || !valid(bus2.getVersion())) {\n      console.warn(\"Proxying an event bus with an unknown or invalid version\");\n    } else if (major(bus2.getVersion()) !== major(this.getVersion())) {\n      console.warn(\n        \"Proxying an event bus of version \" + bus2.getVersion() + \" with \" + this.getVersion()\n      );\n    }\n    this.bus = bus2;\n  }\n  getVersion() {\n    return \"3.3.3\";\n  }\n  subscribe(name, handler) {\n    this.bus.subscribe(name, handler);\n  }\n  unsubscribe(name, handler) {\n    this.bus.unsubscribe(name, handler);\n  }\n  emit(name, ...event) {\n    this.bus.emit(name, ...event);\n  }\n}\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nclass SimpleBus {\n  handlers = /* @__PURE__ */ new Map();\n  getVersion() {\n    return \"3.3.3\";\n  }\n  subscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).concat(\n        handler\n      )\n    );\n  }\n  unsubscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).filter((h) => h !== handler)\n    );\n  }\n  emit(name, ...event) {\n    const handlers = this.handlers.get(name) || [];\n    handlers.forEach((h) => {\n      try {\n        ;\n        h(event[0]);\n      } catch (e) {\n        console.error(\"could not invoke event listener\", e);\n      }\n    });\n  }\n}\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nlet bus = null;\nfunction getBus() {\n  if (bus !== null) {\n    return bus;\n  }\n  if (typeof window === \"undefined\") {\n    return new Proxy({}, {\n      get: () => {\n        return () => console.error(\n          \"Window not available, EventBus can not be established!\"\n        );\n      }\n    });\n  }\n  if (window.OC?._eventBus && typeof window._nc_event_bus === \"undefined\") {\n    console.warn(\n      \"found old event bus instance at OC._eventBus. Update your version!\"\n    );\n    window._nc_event_bus = window.OC._eventBus;\n  }\n  if (typeof window?._nc_event_bus !== \"undefined\") {\n    bus = new ProxyBus(window._nc_event_bus);\n  } else {\n    bus = window._nc_event_bus = new SimpleBus();\n  }\n  return bus;\n}\nfunction emit(name, ...event) {\n  getBus().emit(name, ...event);\n}\n/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nclass FileListFilter extends TypedEventTarget {\n  id;\n  order;\n  constructor(id, order = 100) {\n    super();\n    this.id = id;\n    this.order = order;\n  }\n  filter(nodes) {\n    throw new Error(\"Not implemented\");\n  }\n  updateChips(chips) {\n    this.dispatchTypedEvent(\"update:chips\", new CustomEvent(\"update:chips\", { detail: chips }));\n  }\n  filterUpdated() {\n    this.dispatchTypedEvent(\"update:filter\", new CustomEvent(\"update:filter\"));\n  }\n}\nfunction registerFileListFilter(filter) {\n  if (!window._nc_filelist_filters) {\n    window._nc_filelist_filters = /* @__PURE__ */ new Map();\n  }\n  if (window._nc_filelist_filters.has(filter.id)) {\n    throw new Error(`File list filter \"${filter.id}\" already registered`);\n  }\n  window._nc_filelist_filters.set(filter.id, filter);\n  emit(\"files:filter:added\", filter);\n}\nfunction unregisterFileListFilter(filterId) {\n  if (window._nc_filelist_filters && window._nc_filelist_filters.has(filterId)) {\n    window._nc_filelist_filters.delete(filterId);\n    emit(\"files:filter:removed\", filterId);\n  }\n}\nfunction getFileListFilters() {\n  if (!window._nc_filelist_filters) {\n    return [];\n  }\n  return [...window._nc_filelist_filters.values()];\n}\nclass Header {\n  _header;\n  constructor(header) {\n    this.validateHeader(header);\n    this._header = header;\n  }\n  get id() {\n    return this._header.id;\n  }\n  get order() {\n    return this._header.order;\n  }\n  get enabled() {\n    return this._header.enabled;\n  }\n  get render() {\n    return this._header.render;\n  }\n  get updated() {\n    return this._header.updated;\n  }\n  validateHeader(header) {\n    if (!header.id || !header.render || !header.updated) {\n      throw new Error(\"Invalid header: id, render and updated are required\");\n    }\n    if (typeof header.id !== \"string\") {\n      throw new Error(\"Invalid id property\");\n    }\n    if (header.enabled !== void 0 && typeof header.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled property\");\n    }\n    if (header.render && typeof header.render !== \"function\") {\n      throw new Error(\"Invalid render property\");\n    }\n    if (header.updated && typeof header.updated !== \"function\") {\n      throw new Error(\"Invalid updated property\");\n    }\n  }\n}\nfunction registerFileListHeaders(header) {\n  if (typeof window._nc_filelistheader === \"undefined\") {\n    window._nc_filelistheader = [];\n    logger.debug(\"FileListHeaders initialized\");\n  }\n  if (window._nc_filelistheader.find((search) => search.id === header.id)) {\n    logger.error(`Header ${header.id} already registered`, { header });\n    return;\n  }\n  window._nc_filelistheader.push(header);\n}\nfunction getFileListHeaders() {\n  if (typeof window._nc_filelistheader === \"undefined\") {\n    window._nc_filelistheader = [];\n    logger.debug(\"FileListHeaders initialized\");\n  }\n  return window._nc_filelistheader;\n}\nfunction checkOptionalProperty(obj, property, type) {\n  if (typeof obj[property] !== \"undefined\") {\n    if (type === \"array\") {\n      if (!Array.isArray(obj[property])) {\n        throw new Error(`View ${property} must be an array`);\n      }\n    } else if (typeof obj[property] !== type) {\n      throw new Error(`View ${property} must be a ${type}`);\n    } else if (type === \"object\" && (obj[property] === null || Array.isArray(obj[property]))) {\n      throw new Error(`View ${property} must be an object`);\n    }\n  }\n}\nclass Column {\n  _column;\n  constructor(column) {\n    validateColumn(column);\n    this._column = column;\n  }\n  get id() {\n    return this._column.id;\n  }\n  get title() {\n    return this._column.title;\n  }\n  get render() {\n    return this._column.render;\n  }\n  get sort() {\n    return this._column.sort;\n  }\n  get summary() {\n    return this._column.summary;\n  }\n}\nfunction validateColumn(column) {\n  if (typeof column !== \"object\" || column === null) {\n    throw new Error(\"View column must be an object\");\n  }\n  if (!column.id || typeof column.id !== \"string\") {\n    throw new Error(\"A column id is required\");\n  }\n  if (!column.title || typeof column.title !== \"string\") {\n    throw new Error(\"A column title is required\");\n  }\n  if (!column.render || typeof column.render !== \"function\") {\n    throw new Error(\"A render function is required\");\n  }\n  checkOptionalProperty(column, \"sort\", \"function\");\n  checkOptionalProperty(column, \"summary\", \"function\");\n}\nclass View {\n  _view;\n  constructor(view) {\n    validateView(view);\n    this._view = view;\n  }\n  get id() {\n    return this._view.id;\n  }\n  get name() {\n    return this._view.name;\n  }\n  get caption() {\n    return this._view.caption;\n  }\n  get emptyTitle() {\n    return this._view.emptyTitle;\n  }\n  get emptyCaption() {\n    return this._view.emptyCaption;\n  }\n  get getContents() {\n    return this._view.getContents;\n  }\n  get hidden() {\n    return this._view.hidden;\n  }\n  get icon() {\n    return this._view.icon;\n  }\n  set icon(icon) {\n    this._view.icon = icon;\n  }\n  get order() {\n    return this._view.order;\n  }\n  set order(order) {\n    this._view.order = order;\n  }\n  get params() {\n    return this._view.params;\n  }\n  set params(params) {\n    this._view.params = params;\n  }\n  get columns() {\n    return this._view.columns;\n  }\n  get emptyView() {\n    return this._view.emptyView;\n  }\n  get parent() {\n    return this._view.parent;\n  }\n  get sticky() {\n    return this._view.sticky;\n  }\n  get expanded() {\n    return this._view.expanded;\n  }\n  set expanded(expanded) {\n    this._view.expanded = expanded;\n  }\n  get defaultSortKey() {\n    return this._view.defaultSortKey;\n  }\n  get loadChildViews() {\n    return this._view.loadChildViews;\n  }\n}\nfunction validateView(view) {\n  if (!view.icon || typeof view.icon !== \"string\" || !isSvg(view.icon)) {\n    throw new Error(\"View icon is required and must be a valid svg string\");\n  }\n  if (!view.id || typeof view.id !== \"string\") {\n    throw new Error(\"View id is required and must be a string\");\n  }\n  if (!view.getContents || typeof view.getContents !== \"function\") {\n    throw new Error(\"View getContents is required and must be a function\");\n  }\n  if (!view.name || typeof view.name !== \"string\") {\n    throw new Error(\"View name is required and must be a string\");\n  }\n  checkOptionalProperty(view, \"caption\", \"string\");\n  checkOptionalProperty(view, \"columns\", \"array\");\n  checkOptionalProperty(view, \"defaultSortKey\", \"string\");\n  checkOptionalProperty(view, \"emptyCaption\", \"string\");\n  checkOptionalProperty(view, \"emptyTitle\", \"string\");\n  checkOptionalProperty(view, \"emptyView\", \"function\");\n  checkOptionalProperty(view, \"expanded\", \"boolean\");\n  checkOptionalProperty(view, \"hidden\", \"boolean\");\n  checkOptionalProperty(view, \"loadChildViews\", \"function\");\n  checkOptionalProperty(view, \"order\", \"number\");\n  checkOptionalProperty(view, \"params\", \"object\");\n  checkOptionalProperty(view, \"parent\", \"string\");\n  checkOptionalProperty(view, \"sticky\", \"boolean\");\n  if (view.columns) {\n    view.columns.forEach(validateColumn);\n    const columnIds = view.columns.reduce((set, column) => set.add(column.id), /* @__PURE__ */ new Set());\n    if (columnIds.size !== view.columns.length) {\n      throw new Error(\"View columns must have unique ids\");\n    }\n  }\n}\nclass Navigation extends TypedEventTarget {\n  _views = [];\n  _currentView = null;\n  /**\n   * Register a new view on the navigation\n   *\n   * @param view The view to register\n   * @throws {Error} if a view with the same id is already registered\n   * @throws {Error} if the registered view is invalid\n   */\n  register(view) {\n    if (this._views.find((search) => search.id === view.id)) {\n      throw new Error(`IView id ${view.id} is already registered`);\n    }\n    validateView(view);\n    this._views.push(view);\n    this.dispatchTypedEvent(\"update\", new CustomEvent(\"update\"));\n  }\n  /**\n   * Remove a registered view\n   *\n   * @param id The id of the view to remove\n   */\n  remove(id) {\n    const index = this._views.findIndex((view) => view.id === id);\n    if (index !== -1) {\n      this._views.splice(index, 1);\n      this.dispatchTypedEvent(\"update\", new CustomEvent(\"update\"));\n    }\n  }\n  /**\n   * Set the currently active view\n   *\n   * @param id - The id of the view to set as active\n   * @throws {Error} If no view with the given id was registered\n   * @fires UpdateActiveViewEvent\n   */\n  setActive(id) {\n    if (id === null) {\n      this._currentView = null;\n    } else {\n      const view = this._views.find(({ id: viewId }) => viewId === id);\n      if (!view) {\n        throw new Error(`No view with ${id} registered`);\n      }\n      this._currentView = view;\n    }\n    const event = new CustomEvent(\"updateActive\", { detail: this._currentView });\n    this.dispatchTypedEvent(\"updateActive\", event);\n  }\n  /**\n   * The currently active files view\n   */\n  get active() {\n    return this._currentView;\n  }\n  /**\n   * All registered views\n   */\n  get views() {\n    return this._views;\n  }\n}\nfunction getNavigation() {\n  if (typeof window._nc_navigation === \"undefined\") {\n    window._nc_navigation = new Navigation();\n    logger.debug(\"Navigation service initialized\");\n  }\n  return window._nc_navigation;\n}\nconst NewMenuEntryCategory = Object.freeze({\n  /**\n   * For actions where the user is intended to upload from their device\n   */\n  UploadFromDevice: 0,\n  /**\n   * For actions that create new nodes on the server without uploading\n   */\n  CreateNew: 1,\n  /**\n   * For everything not matching the other categories\n   */\n  Other: 2\n});\nclass NewMenu {\n  _entries = [];\n  registerEntry(entry) {\n    this.validateEntry(entry);\n    entry.category = entry.category ?? NewMenuEntryCategory.CreateNew;\n    this._entries.push(entry);\n  }\n  unregisterEntry(entry) {\n    const entryIndex = typeof entry === \"string\" ? this.getEntryIndex(entry) : this.getEntryIndex(entry.id);\n    if (entryIndex === -1) {\n      logger.warn(\"Entry not found, nothing removed\", { entry, entries: this.getEntries() });\n      return;\n    }\n    this._entries.splice(entryIndex, 1);\n  }\n  /**\n   * Get the list of registered entries\n   *\n   * @param context - The creation context. Usually the current folder\n   */\n  getEntries(context) {\n    if (context) {\n      return this._entries.filter((entry) => typeof entry.enabled === \"function\" ? entry.enabled(context) : true);\n    }\n    return this._entries;\n  }\n  getEntryIndex(id) {\n    return this._entries.findIndex((entry) => entry.id === id);\n  }\n  validateEntry(entry) {\n    if (!entry.id || !entry.displayName || !entry.iconSvgInline || !entry.handler) {\n      throw new Error(\"Invalid entry\");\n    }\n    if (typeof entry.id !== \"string\" || typeof entry.displayName !== \"string\") {\n      throw new Error(\"Invalid id or displayName property\");\n    }\n    if (entry.iconSvgInline && typeof entry.iconSvgInline !== \"string\") {\n      throw new Error(\"Invalid icon provided\");\n    }\n    if (entry.enabled !== void 0 && typeof entry.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled property\");\n    }\n    if (typeof entry.handler !== \"function\") {\n      throw new Error(\"Invalid handler property\");\n    }\n    if (\"order\" in entry && typeof entry.order !== \"number\") {\n      throw new Error(\"Invalid order property\");\n    }\n    if (this.getEntryIndex(entry.id) !== -1) {\n      throw new Error(\"Duplicate entry\");\n    }\n  }\n}\nfunction getNewFileMenu() {\n  if (typeof window._nc_newfilemenu === \"undefined\") {\n    window._nc_newfilemenu = new NewMenu();\n    logger.debug(\"NewFileMenu initialized\");\n  }\n  return window._nc_newfilemenu;\n}\nfunction addNewFileMenuEntry(entry) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.registerEntry(entry);\n}\nfunction removeNewFileMenuEntry(entry) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.unregisterEntry(entry);\n}\nfunction getNewFileMenuEntries(context) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.getEntries(context).sort((a2, b2) => {\n    if (a2.order !== void 0 && b2.order !== void 0 && a2.order !== b2.order) {\n      return a2.order - b2.order;\n    }\n    return a2.displayName.localeCompare(b2.displayName, void 0, { numeric: true, sensitivity: \"base\" });\n  });\n}\nfunction registerSidebarAction(action) {\n  validateSidebarAction(action);\n  window._nc_files_sidebar_actions ??= /* @__PURE__ */ new Map();\n  if (window._nc_files_sidebar_actions.has(action.id)) {\n    logger.warn(`Sidebar action with id \"${action.id}\" already registered. Skipping.`);\n    return;\n  }\n  window._nc_files_sidebar_actions.set(action.id, action);\n  logger.debug(`New sidebar action with id \"${action.id}\" registered.`);\n}\nfunction getSidebarActions() {\n  if (window._nc_files_sidebar_actions) {\n    return [...window._nc_files_sidebar_actions.values()];\n  }\n  return [];\n}\nfunction validateSidebarAction(action) {\n  if (typeof action !== \"object\") {\n    throw new Error(\"Sidebar action is not an object\");\n  }\n  if (!action.id || typeof action.id !== \"string\" || action.id !== CSS.escape(action.id)) {\n    throw new Error(\"Sidebar actions need to have an id conforming to the HTML id attribute specifications\");\n  }\n  if (!action.displayName || typeof action.displayName !== \"function\") {\n    throw new Error(\"Sidebar actions need to have a displayName function\");\n  }\n  if (!action.iconSvgInline || typeof action.iconSvgInline !== \"function\") {\n    throw new Error(\"Sidebar actions need to have a iconSvgInline function\");\n  }\n  if (!action.enabled || typeof action.enabled !== \"function\") {\n    throw new Error(\"Sidebar actions need to have an enabled function\");\n  }\n  if (!action.onClick || typeof action.onClick !== \"function\") {\n    throw new Error(\"Sidebar actions need to have an onClick function\");\n  }\n}\nfunction registerSidebarTab(tab) {\n  validateSidebarTab(tab);\n  window._nc_files_sidebar_tabs ??= /* @__PURE__ */ new Map();\n  if (window._nc_files_sidebar_tabs.has(tab.id)) {\n    logger.warn(`Sidebar tab with id \"${tab.id}\" already registered. Skipping.`);\n    return;\n  }\n  window._nc_files_sidebar_tabs.set(tab.id, tab);\n  logger.debug(`New sidebar tab with id \"${tab.id}\" registered.`);\n}\nfunction getSidebarTabs() {\n  if (window._nc_files_sidebar_tabs) {\n    return [...window._nc_files_sidebar_tabs.values()];\n  }\n  return [];\n}\nfunction validateSidebarTab(tab) {\n  if (typeof tab !== \"object\") {\n    throw new Error(\"Sidebar tab is not an object\");\n  }\n  if (!tab.id || typeof tab.id !== \"string\" || tab.id !== CSS.escape(tab.id)) {\n    throw new Error(\"Sidebar tabs need to have an id conforming to the HTML id attribute specifications\");\n  }\n  if (!tab.tagName || typeof tab.tagName !== \"string\") {\n    throw new Error(\"Sidebar tabs need to have the tagName name set\");\n  }\n  if (!tab.tagName.match(/^[a-z][a-z0-9-_]+$/)) {\n    throw new Error('Sidebar tab \"tagName\" is invalid');\n  }\n  if (!tab.displayName || typeof tab.displayName !== \"string\") {\n    throw new Error(\"Sidebar tabs need to have a name set\");\n  }\n  if (typeof tab.iconSvgInline !== \"string\" || !isSvg(tab.iconSvgInline)) {\n    throw new Error(\"Sidebar tabs need to have an valid SVG icon\");\n  }\n  if (typeof tab.order !== \"number\") {\n    throw new Error(\"Sidebar tabs need to have a numeric order set\");\n  }\n  if (tab.enabled && typeof tab.enabled !== \"function\") {\n    throw new Error('Sidebar tab \"enabled\" is not a function');\n  }\n  if (tab.onInit && typeof tab.onInit !== \"function\") {\n    throw new Error('Sidebar tab \"onInit\" is not a function');\n  }\n}\nclass SidebarProxy {\n  get #impl() {\n    return window.OCA?.Files?._sidebar?.();\n  }\n  get available() {\n    return !!this.#impl;\n  }\n  get isOpen() {\n    return this.#impl?.isOpen ?? false;\n  }\n  get activeTab() {\n    return this.#impl?.activeTab;\n  }\n  get node() {\n    return this.#impl?.node;\n  }\n  open(node, tab) {\n    this.#impl?.open(node, tab);\n  }\n  close() {\n    this.#impl?.close();\n  }\n  setActiveTab(tabId) {\n    this.#impl?.setActiveTab(tabId);\n  }\n  registerTab(tab) {\n    registerSidebarTab(tab);\n  }\n  getTabs(context) {\n    return this.#impl?.getTabs(context) ?? [];\n  }\n  getActions(context) {\n    return this.#impl?.getActions(context) ?? [];\n  }\n  registerAction(action) {\n    registerSidebarAction(action);\n  }\n}\nfunction getSidebar() {\n  return new SidebarProxy();\n}\nconst InvalidFilenameErrorReason = Object.freeze({\n  ReservedName: \"reserved name\",\n  Character: \"character\",\n  Extension: \"extension\"\n});\nclass InvalidFilenameError extends Error {\n  constructor(options) {\n    super(`Invalid ${options.reason} '${options.segment}' in filename '${options.filename}'`, { cause: options });\n  }\n  /**\n   * The filename that was validated\n   */\n  get filename() {\n    return this.cause.filename;\n  }\n  /**\n   * Reason why the validation failed\n   */\n  get reason() {\n    return this.cause.reason;\n  }\n  /**\n   * Part of the filename that caused this error\n   */\n  get segment() {\n    return this.cause.segment;\n  }\n}\nfunction validateFilename(filename) {\n  const capabilities = getCapabilities().files;\n  const forbiddenCharacters = capabilities.forbidden_filename_characters ?? [\"/\", \"\\\\\"];\n  for (const character of forbiddenCharacters) {\n    if (filename.includes(character)) {\n      throw new InvalidFilenameError({ segment: character, reason: InvalidFilenameErrorReason.Character, filename });\n    }\n  }\n  filename = filename.toLocaleLowerCase();\n  const forbiddenFilenames = capabilities.forbidden_filenames ?? [\".htaccess\"];\n  if (forbiddenFilenames.includes(filename)) {\n    throw new InvalidFilenameError({ filename, segment: filename, reason: InvalidFilenameErrorReason.ReservedName });\n  }\n  const endOfBasename = filename.indexOf(\".\", 1);\n  const basename2 = filename.substring(0, endOfBasename === -1 ? void 0 : endOfBasename);\n  const forbiddenFilenameBasenames = capabilities.forbidden_filename_basenames ?? [];\n  if (forbiddenFilenameBasenames.includes(basename2)) {\n    throw new InvalidFilenameError({ filename, segment: basename2, reason: InvalidFilenameErrorReason.ReservedName });\n  }\n  const forbiddenFilenameExtensions = capabilities.forbidden_filename_extensions ?? [];\n  for (const extension of forbiddenFilenameExtensions) {\n    if (filename.length > extension.length && filename.endsWith(extension)) {\n      throw new InvalidFilenameError({ segment: extension, reason: InvalidFilenameErrorReason.Extension, filename });\n    }\n  }\n}\nfunction isFilenameValid(filename) {\n  try {\n    validateFilename(filename);\n    return true;\n  } catch (error) {\n    if (error instanceof InvalidFilenameError) {\n      return false;\n    }\n    throw error;\n  }\n}\nfunction getUniqueName(name, otherNames, options) {\n  const opts = {\n    suffix: (n) => `(${n})`,\n    ignoreFileExtension: false,\n    ...options\n  };\n  let newName = name;\n  let i = 1;\n  while (otherNames.includes(newName)) {\n    const ext = opts.ignoreFileExtension ? \"\" : extname(name);\n    const base = basename(name, ext);\n    newName = `${base} ${opts.suffix(i++)}${ext}`;\n  }\n  return newName;\n}\nconst humanList = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\"];\nconst humanListBinary = [\"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\"];\nfunction formatFileSize(size, skipSmallSizes = false, binaryPrefixes = false, base1000 = false) {\n  binaryPrefixes = binaryPrefixes && !base1000;\n  if (typeof size === \"string\") {\n    size = Number(size);\n  }\n  let order = size > 0 ? Math.floor(Math.log(size) / Math.log(base1000 ? 1e3 : 1024)) : 0;\n  order = Math.min((binaryPrefixes ? humanListBinary.length : humanList.length) - 1, order);\n  const readableFormat = binaryPrefixes ? humanListBinary[order] : humanList[order];\n  let relativeSize = (size / Math.pow(base1000 ? 1e3 : 1024, order)).toFixed(1);\n  if (skipSmallSizes === true && order === 0) {\n    return (relativeSize !== \"0.0\" ? \"< 1 \" : \"0 \") + (binaryPrefixes ? humanListBinary[1] : humanList[1]);\n  }\n  if (order < 2) {\n    relativeSize = parseFloat(relativeSize).toFixed(0);\n  } else {\n    relativeSize = parseFloat(relativeSize).toLocaleString(getCanonicalLocale());\n  }\n  return relativeSize + \" \" + readableFormat;\n}\nfunction parseFileSize(value, forceBinary = false) {\n  try {\n    value = `${value}`.toLocaleLowerCase().replaceAll(/\\s+/g, \"\").replaceAll(\",\", \".\");\n  } catch {\n    return null;\n  }\n  const match = value.match(/^([0-9]*(\\.[0-9]*)?)([kmgtp]?)(i?)b?$/);\n  if (match === null || match[1] === \".\" || match[1] === \"\") {\n    return null;\n  }\n  const bytesArray = {\n    \"\": 0,\n    k: 1,\n    m: 2,\n    g: 3,\n    t: 4,\n    p: 5,\n    e: 6\n  };\n  const decimalString = `${match[1]}`;\n  const base = match[4] === \"i\" || forceBinary ? 1024 : 1e3;\n  return Math.round(Number.parseFloat(decimalString) * base ** bytesArray[match[3]]);\n}\nfunction stringify(value) {\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n  return String(value);\n}\nfunction orderBy(collection, identifiers2, orders) {\n  identifiers2 = identifiers2 ?? [(value) => value];\n  orders = orders ?? [];\n  const sorting = identifiers2.map((_, index) => (orders[index] ?? \"asc\") === \"asc\" ? 1 : -1);\n  const collator = Intl.Collator(\n    [getLanguage(), getCanonicalLocale()],\n    {\n      // handle 10 as ten and not as one-zero\n      numeric: true,\n      usage: \"sort\"\n    }\n  );\n  return [...collection].sort((a2, b2) => {\n    for (const [index, identifier] of identifiers2.entries()) {\n      const value = collator.compare(stringify(identifier(a2)), stringify(identifier(b2)));\n      if (value !== 0) {\n        return value * sorting[index];\n      }\n    }\n    return 0;\n  });\n}\nconst FilesSortingMode = Object.freeze({\n  Name: \"basename\",\n  Modified: \"mtime\",\n  Size: \"size\"\n});\nfunction sortNodes(nodes, options = {}) {\n  const sortingOptions = {\n    // Default to sort by name\n    sortingMode: FilesSortingMode.Name,\n    // Default to sort ascending\n    sortingOrder: \"asc\",\n    ...options\n  };\n  function basename2(node) {\n    const name = node.displayname || node.attributes?.displayname || node.basename || \"\";\n    if (node.type === FileType.Folder) {\n      return name;\n    }\n    return name.lastIndexOf(\".\") > 0 ? name.slice(0, name.lastIndexOf(\".\")) : name;\n  }\n  const identifiers2 = [\n    // 1: Sort favorites first if enabled\n    ...sortingOptions.sortFavoritesFirst ? [(v) => v.attributes?.favorite !== 1] : [],\n    // 2: Sort folders first if sorting by name\n    ...sortingOptions.sortFoldersFirst ? [(v) => v.type !== \"folder\"] : [],\n    // 3: Use sorting mode if NOT basename (to be able to use display name too)\n    ...sortingOptions.sortingMode !== FilesSortingMode.Name ? [(v) => v[sortingOptions.sortingMode] ?? v.attributes[sortingOptions.sortingMode]] : [],\n    // 4: Use display name if available, fallback to name\n    (v) => basename2(v),\n    // 5: Finally, use basename if all previous sorting methods failed\n    (v) => v.basename\n  ];\n  const orders = [\n    // (for 1): always sort favorites before normal files\n    ...sortingOptions.sortFavoritesFirst ? [\"asc\"] : [],\n    // (for 2): always sort folders before files\n    ...sortingOptions.sortFoldersFirst ? [\"asc\"] : [],\n    // (for 3): Reverse if sorting by mtime as mtime higher means edited more recent -> lower\n    ...sortingOptions.sortingMode === FilesSortingMode.Modified ? [sortingOptions.sortingOrder === \"asc\" ? \"desc\" : \"asc\"] : [],\n    // (also for 3 so make sure not to conflict with 2 and 3)\n    ...sortingOptions.sortingMode !== FilesSortingMode.Modified && sortingOptions.sortingMode !== FilesSortingMode.Name ? [sortingOptions.sortingOrder] : [],\n    // for 4: use configured sorting direction\n    sortingOptions.sortingOrder,\n    // for 5: use configured sorting direction\n    sortingOptions.sortingOrder\n  ];\n  return orderBy(nodes, identifiers2, orders);\n}\nexport {\n  Column,\n  DefaultType,\n  a as File,\n  FileAction,\n  FileListAction,\n  FileListFilter,\n  FileType,\n  FilesSortingMode,\n  b as Folder,\n  Header,\n  InvalidFilenameError,\n  InvalidFilenameErrorReason,\n  Navigation,\n  NewMenuEntryCategory,\n  N as Node,\n  c as NodeStatus,\n  P as Permission,\n  View,\n  addNewFileMenuEntry,\n  formatFileSize,\n  getFileActions,\n  getFileListActions,\n  getFileListFilters,\n  getFileListHeaders,\n  getNavigation,\n  getNewFileMenu,\n  getNewFileMenuEntries,\n  getSidebar,\n  getSidebarActions,\n  getSidebarTabs,\n  getUniqueName,\n  isFilenameValid,\n  orderBy,\n  parseFileSize,\n  registerFileAction,\n  registerFileListAction,\n  registerFileListFilter,\n  registerFileListHeaders,\n  registerSidebarAction,\n  registerSidebarTab,\n  removeNewFileMenuEntry,\n  sortNodes,\n  unregisterFileListFilter,\n  validateColumn,\n  validateFilename,\n  validateView\n};\n//# sourceMappingURL=index.mjs.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \"-\" + chunkId + \".js?v=\" + {\"857\":\"3d28157955f39376ab2c\",\"1404\":\"e021afe5d02634220086\",\"1598\":\"02c1e723bdde4ead393f\",\"2710\":\"0319a4b5398392025378\",\"4471\":\"9b3c8620f038b7593241\",\"7004\":\"da5a822695a273d4d2eb\",\"7394\":\"00400962a1291d103feb\",\"7859\":\"449c6cbdb74832a2f6c7\",\"8127\":\"8825f856581210b8af66\",\"8453\":\"d4f76450bf0c442af291\"}[chunkId] + \"\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 5928;","var scriptUrl;\nif (globalThis.importScripts) scriptUrl = globalThis.location + \"\";\nvar document = globalThis.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = (typeof document !== 'undefined' && document.baseURI) || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t5928: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunknextcloud_ui_legacy\"] = globalThis[\"webpackChunknextcloud_ui_legacy\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [4208], () => (__webpack_require__(81382)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","inProgress","dataWebpackPrefix","rawUid","document","getElementsByTagName","getAttribute","currentUser","undefined","_defineComponent","__name","props","filter","setup","__props","currentUserId","accountFilter","ref","availableAccounts","selectedAccounts","watch","accounts","value","map","id","uid","displayName","setAccounts","length","onMounted","setAvailableAccounts","filterAccounts","some","addEventListener","resetFilter","deselect","onUnmounted","removeEventListener","shownAccounts","computed","sort","sortAccounts","queryParts","toLocaleLowerCase","trim","split","account","every","part","user","includes","a","b","localeCompare","event","accountId","detail","CustomEvent","__sfc","toggleAccount","selected","find","t","NcAvatar","NcButton","NcTextField","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_vm","this","_c","_self","_setup","_setupProxy","class","$style","fileListFilterAccount","attrs","model","callback","$$v","expression","_e","_v","_l","key","on","$event","scopedSlots","_u","fn","_b","fileListFilterAccount__avatar","proxy","_s","fileListFilterAccount__currentUser","context","tagName","_availableAccounts","WeakMap","_filterAccounts","AccountFilter","FileListFilter","constructor","super","_classPrivateFieldInitSpec","_defineProperty","_classPrivateFieldSet","subscribe","contents","updateAvailableAccounts","_classPrivateFieldGet","nodes","userIds","node","window","OCP","Files","Router","params","view","deletedBy","attributes","owner","sharees","sharee","flat","reset","dispatchEvent","chips","text","onclick","updateChips","filterUpdated","available","Map","has","set","Boolean","type","ShareType","User","Remote","values","sharingConfig","Config","NewFileRequestDialogVue","defineAsyncComponent","entry","iconSvgInline","FileUploadSvg","order","enabled","isPublicShare","isPublicUploadEnabled","isPublicShareAllowed","handler","content","spawnDialog","sharesViewId","sharedWithYouViewId","sharedWithOthersViewId","sharingByLinksViewId","deletedSharesViewId","pendingSharesViewId","action","FileAction","n","CheckSvg","exec","isRemote","remote","url","generateOcsUrl","shareBase","axios","post","emit","execBatch","folder","Promise","all","inline","registerFileAction","isFolder","FileType","Folder","goToRoute","fileid","String","dir","path","dirname","openfile","default","DefaultType","HIDDEN","remote_id","share_type","RemoteGroup","accepted","delete","isExternal","Object","getCurrentUser","title","ownerDisplayName","Group","group","shareTypes","Array","isArray","AccountPlusSvg","Link","Email","LinkSvg","AccountGroupSvg","Team","userId","isGuest","matchMedia","matches","querySelector","generateUrl","generateAvatarSvg","permissions","Permission","SHARE","READ","getSidebar","open","showError","Navigation","getNavigation","register","View","name","caption","emptyTitle","emptyCaption","icon","columns","getContents","parent","loadState","quota","then","isFileRequest","registerSharingViews","addNewFileMenuEntry","newFileRequest","registerDavProperty","nc","oc","ocs","WrappedComponent","wrap","Vue","FileListFilterAccount","defineProperty","prototype","get","customElements","define","registerFileListFilter","registerAccountFilter","FilesHeaderNoteToRecipient","instance","registerFileListHeaders","Header","note","updated","updateFolder","render","async","el","component","extend","$mount","registerNoteToRecipient","_capabilities","getCapabilities","defaultPermissions","files_sharing","default_permissions","excludeReshareFromEdit","exclude_reshare_from_edit","public","upload","federatedShareDocLink","OC","appConfig","core","federatedCloudShareDoc","defaultExpirationDate","isDefaultExpireDateEnabled","defaultExpireDate","Date","setDate","getDate","defaultInternalExpirationDate","isDefaultInternalExpireDateEnabled","defaultInternalExpireDate","defaultRemoteExpirationDateString","isDefaultRemoteExpireDateEnabled","defaultRemoteExpireDate","enforcePasswordForPublicLink","enableLinkPasswordByDefault","isDefaultExpireDateEnforced","defaultExpireDateEnforced","defaultExpireDateEnabled","isDefaultInternalExpireDateEnforced","defaultInternalExpireDateEnforced","defaultInternalExpireDateEnabled","isDefaultRemoteExpireDateEnforced","defaultRemoteExpireDateEnforced","defaultRemoteExpireDateEnabled","isRemoteShareAllowed","remoteShareAllowed","isFederationEnabled","federation","outgoing","isMailShareAllowed","sharebymail","isResharingAllowed","resharingAllowed","isPasswordForMailSharesRequired","password","enforced","shouldAlwaysShowUnique","always_show_unique","allowGroupSharing","maxAutocompleteResults","parseInt","config","minSearchStringLength","passwordPolicy","password_policy","allowCustomTokens","custom_tokens","showFederatedSharesAsInternal","showFederatedSharesToTrustedServersAsInternal","showExternalSharing","headers","ocsEntryToNode","ocsEntry","mimetype","mime","getType","item_type","item_mtime","mtime","file_target","mountpoint","item_permissions","NONE","uid_owner","displayname_owner","hasPreview","has_preview","Node","File","file_source","file_id","source","getRemoteURL","getRootPath","replace","stime","share_with","share_with_displayname","size","item_size","root","hide_download","favorite","tags","TAG_FAVORITE","error","logger","getShares","shareWithMe","shared_with_me","include_tags","attribute","scope","JSON","parse","sharedWithYou","sharedWithOthers","pendingShares","deletedshares","filterTypes","promises","push","getRemoteShares","getPendingShares","getRemotePendingShares","getDeletedShares","data","response","reduce","acc","curr","getLoggerBuilder","setApp","detectUser","build","___CSS_LOADER_EXPORT___","module","defaultDavProperties","defaultDavNamespaces","d","prop","namespace","_nc_dav_properties","_nc_dav_namespaces","namespaces","search","l","warn","startsWith","freeze","DEFAULT","_action","validateAction","hotkey","destructive","renderInline","Error","description","_nc_fileactions","debug","getDefaultExportFromCjs","x","__esModule","hasOwnProperty","call","debug_1","hasRequiredDebug","constants","hasRequiredConstants","requireDebug","process","env","NODE_DEBUG","test","args","console","requireConstants","MAX_SAFE_INTEGER","Number","MAX_LENGTH","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","RELEASE_TYPES","SEMVER_SPEC_VERSION","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","hasRequiredRe","parseOptions_1","hasRequiredParseOptions","identifiers","hasRequiredIdentifiers","semver","hasRequiredSemver","major_1","hasRequiredMajor","re","exports","requireSemver","safeRe","re2","src","safeSrc","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","isGlobal","safe","token","max","join","makeSafeRegex","index","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","COERCE","COERCEFULL","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","parseOptions","looseOption","loose","emptyOpts","requireParseOptions","compareIdentifiers","numeric","a2","b2","anum","bnum","rcompareIdentifiers","requireIdentifiers","SemVer","version","includePrerelease","TypeError","m","match","LOOSE","FULL","raw","major","minor","patch","prerelease","num","format","toString","compare","other","compareMain","comparePre","i","compareBuild","inc","release","identifier","identifierBase","base","isNaN","requireMajor","parse_1","hasRequiredParse","valid_1","hasRequiredValid","valid","throwErrors","er","requireParse","v","requireValid","ProxyBus","bus","bus2","getVersion","unsubscribe","SimpleBus","handlers","concat","h","forEach","e","dispatchTypedEvent","_nc_filelist_filters","Proxy","_eventBus","_nc_event_bus","_header","header","validateHeader","_nc_filelistheader","checkOptionalProperty","obj","property","validateColumn","column","_view","validateView","hidden","emptyView","sticky","expanded","defaultSortKey","loadChildViews","add","Set","_views","_currentView","remove","findIndex","splice","setActive","viewId","active","views","_nc_navigation","NewMenuEntryCategory","UploadFromDevice","CreateNew","Other","NewMenu","_entries","registerEntry","validateEntry","category","unregisterEntry","entryIndex","getEntryIndex","entries","getEntries","_nc_newfilemenu","SidebarProxy","OCA","_sidebar","isOpen","activeTab","tab","close","setActiveTab","tabId","registerTab","CSS","escape","onInit","validateSidebarTab","_nc_files_sidebar_tabs","registerSidebarTab","getTabs","getActions","registerAction","onClick","validateSidebarAction","_nc_files_sidebar_actions","registerSidebarAction","ReservedName","Character","Extension","Name","Modified","Size","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","keys","r","getter","definition","o","enumerable","f","chunkId","u","done","script","needAttach","scripts","s","createElement","charset","setAttribute","onScriptComplete","prev","onerror","onload","clearTimeout","timeout","doneFns","parentNode","removeChild","setTimeout","bind","target","head","appendChild","Symbol","toStringTag","nmd","paths","children","scriptUrl","globalThis","importScripts","location","currentScript","toUpperCase","p","baseURI","self","href","installedChunks","installedChunkData","promise","resolve","reject","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}