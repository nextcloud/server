{"version":3,"file":"files_sharing-init.js?v=22ba7b671a9d847c1d2b","mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAkBA;AACA;;;;;;;;;;;;;;;ACvCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAkBA;AACA;;;;;;;;;;;;;;;ACvCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AGAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACxNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC1NA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACRA;AACA;AACA;AACA;AACA;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACNA;AACA;AACA;AACA;AACA;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACvFA;;;;;AEAA;AACA;AACA;AACA;AACA","sources":["webpack:///nextcloud/apps/files/src/actions/sidebarAction.ts","webpack:///nextcloud/apps/files/src/components/FileListFilter/FileListFilter.vue","webpack://nextcloud/./apps/files/src/components/FileListFilter/FileListFilter.vue?7bd9","webpack:///nextcloud/apps/files/src/logger.ts","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue","webpack://nextcloud/./apps/files_sharing/src/components/FileListFilterAccount.vue?072c","webpack://nextcloud/./apps/files_sharing/src/components/FileListFilterAccount.vue?e871","webpack://nextcloud/./apps/files_sharing/src/components/FileListFilterAccount.vue?02cf","webpack:///nextcloud/apps/files_sharing/src/files_actions/acceptShareAction.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/openInFilesAction.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/rejectShareAction.ts","webpack:///nextcloud/apps/files_sharing/src/files_actions/restoreShareAction.ts","webpack://nextcloud/./apps/files_sharing/src/files_actions/sharingStatusAction.scss?6b51","webpack:///nextcloud/apps/files_sharing/src/files_actions/sharingStatusAction.ts","webpack:///nextcloud/apps/files_sharing/src/files_filters/AccountFilter.ts","webpack:///nextcloud/apps/files_sharing/src/files_headers/noteToRecipient.ts","webpack:///nextcloud/apps/files_sharing/src/files_newMenu/newFileRequest.ts","webpack:///nextcloud/apps/files_sharing/src/files_views/shares.ts","webpack:///nextcloud/apps/files_sharing/src/init.ts","webpack:///nextcloud/apps/files_sharing/src/services/ConfigService.ts","webpack:///nextcloud/apps/files_sharing/src/services/SharingService.ts","webpack:///nextcloud/apps/files_sharing/src/services/logger.ts","webpack:///nextcloud/apps/files_sharing/src/utils/AccountIcon.ts","webpack:///nextcloud/apps/files/src/components/FileListFilter/FileListFilter.vue?vue&type=script&setup=true&lang=ts","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts","webpack:///nextcloud/apps/files/src/components/FileListFilter/FileListFilter.vue?vue&type=template&id=5c291778&scoped=true","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue?vue&type=template&id=40ba7127&scoped=true","webpack:///nextcloud/apps/files_sharing/src/files_actions/sharingStatusAction.scss","webpack:///nextcloud/apps/files_sharing/src/components/FileListFilterAccount.vue?vue&type=style&index=0&id=40ba7127&scoped=true&lang=scss","webpack:///nextcloud/apps/files/src/components/FileListFilter/FileListFilter.vue?vue&type=style&index=0&id=5c291778&scoped=true&lang=css","webpack://nextcloud/./apps/files_sharing/src/components/FileListFilterAccount.vue?2d53","webpack://nextcloud/./apps/files/src/components/FileListFilter/FileListFilter.vue?fbd5","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/chunk loaded","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/ensure chunk","webpack:///nextcloud/webpack/runtime/get javascript chunk filename","webpack:///nextcloud/webpack/runtime/global","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/webpack/runtime/load script","webpack:///nextcloud/webpack/runtime/make namespace object","webpack:///nextcloud/webpack/runtime/node module decorator","webpack:///nextcloud/webpack/runtime/publicPath","webpack:///nextcloud/webpack/runtime/jsonp chunk loading","webpack:///nextcloud/webpack/runtime/nonce","webpack:///nextcloud/webpack/before-startup","webpack:///nextcloud/webpack/startup","webpack:///nextcloud/webpack/after-startup"],"sourcesContent":["import { Permission, FileAction } from '@nextcloud/files';\nimport { translate as t } from '@nextcloud/l10n';\nimport { isPublicShare } from '@nextcloud/sharing/public';\nimport InformationSvg from '@mdi/svg/svg/information-outline.svg?raw';\nimport logger from \"../logger.ts\";\nexport const ACTION_DETAILS = 'details';\nexport const action = new FileAction({\n  id: ACTION_DETAILS,\n  displayName: () => t('files', 'Details'),\n  iconSvgInline: () => InformationSvg,\n  // Sidebar currently supports user folder only, /files/USER\n  enabled: nodes => {\n    if (isPublicShare()) {\n      return false;\n    }\n    // Only works on single node\n    if (nodes.length !== 1) {\n      return false;\n    }\n    if (!nodes[0]) {\n      return false;\n    }\n    // Only work if the sidebar is available\n    if (!window?.OCA?.Files?.Sidebar) {\n      return false;\n    }\n    return (nodes[0].root?.startsWith('/files/') && nodes[0].permissions !== Permission.NONE) ?? false;\n  },\n  async exec(node, view, dir) {\n    try {\n      // If the sidebar is already open for the current file, do nothing\n      if (window.OCA.Files.Sidebar.file === node.path) {\n        logger.debug('Sidebar already open for this file', {\n          node\n        });\n        return null;\n      }\n      // Open sidebar and set active tab to sharing by default\n      window.OCA.Files.Sidebar.setActiveTab('sharing');\n      // TODO: migrate Sidebar to use a Node instead\n      await window.OCA.Files.Sidebar.open(node.path);\n      // Silently update current fileid\n      window.OCP?.Files?.Router?.goToRoute(null, {\n        view: view.id,\n        fileid: String(node.fileid)\n      }, {\n        ...window.OCP.Files.Router.query,\n        dir,\n        opendetails: 'true'\n      }, true);\n      return null;\n    } catch (error) {\n      logger.error('Error while opening sidebar', {\n        error\n      });\n      return false;\n    }\n  },\n  order: -50\n});","import { render, staticRenderFns } from \"./FileListFilter.vue?vue&type=template&id=5c291778&scoped=true\"\nimport script from \"./FileListFilter.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FileListFilter.vue?vue&type=script&setup=true&lang=ts\"\nimport style0 from \"./FileListFilter.vue?vue&type=style&index=0&id=5c291778&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c291778\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/louis/workspace/nextcloud/instances/master/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5c291778')) {\n      api.createRecord('5c291778', component.options)\n    } else {\n      api.reload('5c291778', component.options)\n    }\n    module.hot.accept(\"./FileListFilter.vue?vue&type=template&id=5c291778&scoped=true\", function () {\n      api.rerender('5c291778', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/files/src/components/FileListFilter/FileListFilter.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-4.use[1]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilter.vue?vue&type=script&setup=true&lang=ts\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-4.use[1]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilter.vue?vue&type=script&setup=true&lang=ts\"","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getLoggerBuilder } from '@nextcloud/logger';\nexport default getLoggerBuilder().setApp('files').detectUser().build();","import { render, staticRenderFns } from \"./FileListFilterAccount.vue?vue&type=template&id=40ba7127&scoped=true\"\nimport script from \"./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"\nimport style0 from \"./FileListFilterAccount.vue?vue&type=style&index=0&id=40ba7127&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40ba7127\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/louis/workspace/nextcloud/instances/master/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('40ba7127')) {\n      api.createRecord('40ba7127', component.options)\n    } else {\n      api.reload('40ba7127', component.options)\n    }\n    module.hot.accept(\"./FileListFilterAccount.vue?vue&type=template&id=40ba7127&scoped=true\", function () {\n      api.rerender('40ba7127', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"apps/files_sharing/src/components/FileListFilterAccount.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-4.use[1]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-4.use[1]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=script&setup=true&lang=ts\"","export * from \"-!../../../../node_modules/style-loader/dist/cjs.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=style&index=0&id=40ba7127&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=template&id=40ba7127&scoped=true\"","import { emit } from '@nextcloud/event-bus';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport { registerFileAction, FileAction } from '@nextcloud/files';\nimport { translatePlural as n } from '@nextcloud/l10n';\nimport axios from '@nextcloud/axios';\nimport CheckSvg from '@mdi/svg/svg/check.svg?raw';\nimport { pendingSharesViewId } from \"../files_views/shares\";\nexport const action = new FileAction({\n  id: 'accept-share',\n  displayName: nodes => n('files_sharing', 'Accept share', 'Accept shares', nodes.length),\n  iconSvgInline: () => CheckSvg,\n  enabled: (nodes, view) => nodes.length > 0 && view.id === pendingSharesViewId,\n  async exec(node) {\n    try {\n      const isRemote = !!node.attributes.remote;\n      const url = generateOcsUrl('apps/files_sharing/api/v1/{shareBase}/pending/{id}', {\n        shareBase: isRemote ? 'remote_shares' : 'shares',\n        id: node.attributes.id\n      });\n      await axios.post(url);\n      // Remove from current view\n      emit('files:node:deleted', node);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  },\n  async execBatch(nodes, view, dir) {\n    return Promise.all(nodes.map(node => this.exec(node, view, dir)));\n  },\n  order: 1,\n  inline: () => true\n});\nregisterFileAction(action);","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { registerFileAction, FileAction, DefaultType, FileType } from '@nextcloud/files';\nimport { translate as t } from '@nextcloud/l10n';\nimport { sharesViewId, sharedWithYouViewId, sharedWithOthersViewId, sharingByLinksViewId } from \"../files_views/shares\";\nexport const action = new FileAction({\n  id: 'files_sharing:open-in-files',\n  displayName: () => t('files_sharing', 'Open in Files'),\n  iconSvgInline: () => '',\n  enabled: (nodes, view) => [sharesViewId, sharedWithYouViewId, sharedWithOthersViewId, sharingByLinksViewId\n  // Deleted and pending shares are not\n  // accessible in the files app.\n  ].includes(view.id),\n  async exec(node) {\n    const isFolder = node.type === FileType.Folder;\n    window.OCP.Files.Router.goToRoute(null,\n    // use default route\n    {\n      view: 'files',\n      fileid: String(node.fileid)\n    }, {\n      // If this node is a folder open the folder in files\n      dir: isFolder ? node.path : node.dirname,\n      // otherwise if this is a file, we should open it\n      openfile: isFolder ? undefined : 'true'\n    });\n    return null;\n  },\n  // Before openFolderAction\n  order: -1000,\n  default: DefaultType.HIDDEN\n});\nregisterFileAction(action);","import { emit } from '@nextcloud/event-bus';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport { registerFileAction, FileAction } from '@nextcloud/files';\nimport { translatePlural as n } from '@nextcloud/l10n';\nimport { ShareType } from '@nextcloud/sharing';\nimport { pendingSharesViewId } from \"../files_views/shares\";\nimport axios from '@nextcloud/axios';\nimport CloseSvg from '@mdi/svg/svg/close.svg?raw';\nexport const action = new FileAction({\n  id: 'reject-share',\n  displayName: nodes => n('files_sharing', 'Reject share', 'Reject shares', nodes.length),\n  iconSvgInline: () => CloseSvg,\n  enabled: (nodes, view) => {\n    if (view.id !== pendingSharesViewId) {\n      return false;\n    }\n    if (nodes.length === 0) {\n      return false;\n    }\n    // disable rejecting group shares from the pending list because they anyway\n    // land back into that same list after rejecting them\n    if (nodes.some(node => node.attributes.remote_id && node.attributes.share_type === ShareType.RemoteGroup)) {\n      return false;\n    }\n    return true;\n  },\n  async exec(node) {\n    try {\n      const isRemote = !!node.attributes.remote;\n      const shareBase = isRemote ? 'remote_shares' : 'shares';\n      const id = node.attributes.id;\n      let url;\n      if (node.attributes.accepted === 0) {\n        url = generateOcsUrl('apps/files_sharing/api/v1/{shareBase}/pending/{id}', {\n          shareBase,\n          id\n        });\n      } else {\n        url = generateOcsUrl('apps/files_sharing/api/v1/{shareBase}/{id}', {\n          shareBase,\n          id\n        });\n      }\n      await axios.delete(url);\n      // Remove from current view\n      emit('files:node:deleted', node);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  },\n  async execBatch(nodes, view, dir) {\n    return Promise.all(nodes.map(node => this.exec(node, view, dir)));\n  },\n  order: 2,\n  inline: () => true\n});\nregisterFileAction(action);","import { emit } from '@nextcloud/event-bus';\nimport { FileAction, registerFileAction } from '@nextcloud/files';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport { translatePlural as n } from '@nextcloud/l10n';\nimport ArrowULeftTopSvg from '@mdi/svg/svg/arrow-u-left-top.svg?raw';\nimport axios from '@nextcloud/axios';\nimport { deletedSharesViewId } from \"../files_views/shares\";\nexport const action = new FileAction({\n  id: 'restore-share',\n  displayName: nodes => n('files_sharing', 'Restore share', 'Restore shares', nodes.length),\n  iconSvgInline: () => ArrowULeftTopSvg,\n  enabled: (nodes, view) => nodes.length > 0 && view.id === deletedSharesViewId,\n  async exec(node) {\n    try {\n      const url = generateOcsUrl('apps/files_sharing/api/v1/deletedshares/{id}', {\n        id: node.attributes.id\n      });\n      await axios.post(url);\n      // Remove from current view\n      emit('files:node:deleted', node);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  },\n  async execBatch(nodes, view, dir) {\n    return Promise.all(nodes.map(node => this.exec(node, view, dir)));\n  },\n  order: 1,\n  inline: () => true\n});\nregisterFileAction(action);","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./sharingStatusAction.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./sharingStatusAction.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getCurrentUser } from '@nextcloud/auth';\nimport { registerFileAction, FileAction, Permission } from '@nextcloud/files';\nimport { translate as t } from '@nextcloud/l10n';\nimport { ShareType } from '@nextcloud/sharing';\nimport { isPublicShare } from '@nextcloud/sharing/public';\nimport AccountGroupSvg from '@mdi/svg/svg/account-group-outline.svg?raw';\nimport AccountPlusSvg from '@mdi/svg/svg/account-plus-outline.svg?raw';\nimport LinkSvg from '@mdi/svg/svg/link.svg?raw';\nimport CircleSvg from \"../../../../core/img/apps/circles.svg?raw\";\nimport { action as sidebarAction } from \"../../../files/src/actions/sidebarAction\";\nimport { generateAvatarSvg } from \"../utils/AccountIcon\";\nimport \"./sharingStatusAction.scss\";\nimport { showError } from '@nextcloud/dialogs';\nconst isExternal = node => {\n  return node.attributes?.['is-federated'] ?? false;\n};\nexport const ACTION_SHARING_STATUS = 'sharing-status';\nexport const action = new FileAction({\n  id: ACTION_SHARING_STATUS,\n  displayName(nodes) {\n    const node = nodes[0];\n    const shareTypes = Object.values(node?.attributes?.['share-types'] || {}).flat();\n    if (shareTypes.length > 0 || node.owner !== getCurrentUser()?.uid || isExternal(node)) {\n      return t('files_sharing', 'Shared');\n    }\n    return '';\n  },\n  title(nodes) {\n    const node = nodes[0];\n    if (node.owner && (node.owner !== getCurrentUser()?.uid || isExternal(node))) {\n      const ownerDisplayName = node?.attributes?.['owner-display-name'];\n      return t('files_sharing', 'Shared by {ownerDisplayName}', {\n        ownerDisplayName\n      });\n    }\n    const shareTypes = Object.values(node?.attributes?.['share-types'] || {}).flat();\n    if (shareTypes.length > 1) {\n      return t('files_sharing', 'Shared multiple times with different people');\n    }\n    const sharees = node.attributes.sharees?.sharee;\n    if (!sharees) {\n      // No sharees so just show the default message to create a new share\n      return t('files_sharing', 'Sharing options');\n    }\n    const sharee = [sharees].flat()[0]; // the property is sometimes weirdly normalized, so we need to compensate\n    switch (sharee.type) {\n      case ShareType.User:\n        return t('files_sharing', 'Shared with {user}', {\n          user: sharee['display-name']\n        });\n      case ShareType.Group:\n        return t('files_sharing', 'Shared with group {group}', {\n          group: sharee['display-name'] ?? sharee.id\n        });\n      default:\n        return t('files_sharing', 'Shared with others');\n    }\n  },\n  iconSvgInline(nodes) {\n    const node = nodes[0];\n    const shareTypes = Object.values(node?.attributes?.['share-types'] || {}).flat();\n    // Mixed share types\n    if (Array.isArray(node.attributes?.['share-types']) && node.attributes?.['share-types'].length > 1) {\n      return AccountPlusSvg;\n    }\n    // Link shares\n    if (shareTypes.includes(ShareType.Link) || shareTypes.includes(ShareType.Email)) {\n      return LinkSvg;\n    }\n    // Group shares\n    if (shareTypes.includes(ShareType.Group) || shareTypes.includes(ShareType.RemoteGroup)) {\n      return AccountGroupSvg;\n    }\n    // Circle shares\n    if (shareTypes.includes(ShareType.Team)) {\n      return CircleSvg;\n    }\n    if (node.owner && (node.owner !== getCurrentUser()?.uid || isExternal(node))) {\n      return generateAvatarSvg(node.owner, isExternal(node));\n    }\n    return AccountPlusSvg;\n  },\n  enabled(nodes) {\n    if (nodes.length !== 1) {\n      return false;\n    }\n    // Do not leak information about users to public shares\n    if (isPublicShare()) {\n      return false;\n    }\n    const node = nodes[0];\n    const shareTypes = node.attributes?.['share-types'];\n    const isMixed = Array.isArray(shareTypes) && shareTypes.length > 0;\n    // If the node is shared multiple times with\n    // different share types to the current user\n    if (isMixed) {\n      return true;\n    }\n    // If the node is shared by someone else\n    if (node.owner !== getCurrentUser()?.uid || isExternal(node)) {\n      return true;\n    }\n    // You need share permissions to share this file\n    // and read permissions to see the sidebar\n    return (node.permissions & Permission.SHARE) !== 0 && (node.permissions & Permission.READ) !== 0;\n  },\n  async exec(node, view, dir) {\n    // You need read permissions to see the sidebar\n    if ((node.permissions & Permission.READ) !== 0) {\n      window.OCA?.Files?.Sidebar?.setActiveTab?.('sharing');\n      sidebarAction.exec(node, view, dir);\n      return null;\n    }\n    // Should not happen as the enabled check should prevent this\n    // leaving it here for safety or in case someone calls this action directly\n    showError(t('files_sharing', 'You do not have enough permissions to share this file.'));\n    return null;\n  },\n  inline: () => true\n});\nregisterFileAction(action);","function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { subscribe } from '@nextcloud/event-bus';\nimport { FileListFilter, registerFileListFilter } from '@nextcloud/files';\nimport { ShareType } from '@nextcloud/sharing';\nimport Vue from 'vue';\nimport FileListFilterAccount from \"../components/FileListFilterAccount.vue\";\nimport { isPublicShare } from '@nextcloud/sharing/public';\n/**\n * File list filter to filter by owner / sharee\n */\nclass AccountFilter extends FileListFilter {\n  constructor() {\n    super('files_sharing:account', 100);\n    _defineProperty(this, \"availableAccounts\", void 0);\n    _defineProperty(this, \"currentInstance\", void 0);\n    _defineProperty(this, \"filterAccounts\", void 0);\n    this.availableAccounts = [];\n    subscribe('files:list:updated', _ref => {\n      let {\n        contents\n      } = _ref;\n      this.updateAvailableAccounts(contents);\n    });\n  }\n  mount(el) {\n    if (this.currentInstance) {\n      this.currentInstance.$destroy();\n    }\n    const View = Vue.extend(FileListFilterAccount);\n    this.currentInstance = new View({\n      el\n    }).$on('update:accounts', accounts => this.setAccounts(accounts)).$mount();\n    this.currentInstance.setAvailableAccounts(this.availableAccounts);\n  }\n  filter(nodes) {\n    if (!this.filterAccounts || this.filterAccounts.length === 0) {\n      return nodes;\n    }\n    const userIds = this.filterAccounts.map(_ref2 => {\n      let {\n        uid\n      } = _ref2;\n      return uid;\n    });\n    // Filter if the owner of the node is in the list of filtered accounts\n    return nodes.filter(node => {\n      const sharees = node.attributes.sharees?.sharee;\n      // If the node provides no information lets keep it\n      if (!node.owner && !sharees) {\n        return true;\n      }\n      // if the owner matches\n      if (node.owner && userIds.includes(node.owner)) {\n        return true;\n      }\n      // Or any of the sharees (if only one share this will be an object, otherwise an array. So using `.flat()` to make it always an array)\n      if (sharees && [sharees].flat().some(_ref3 => {\n        let {\n          id\n        } = _ref3;\n        return userIds.includes(id);\n      })) {\n        return true;\n      }\n      // Not a valid node for the current filter\n      return false;\n    });\n  }\n  reset() {\n    this.currentInstance?.resetFilter();\n  }\n  /**\n   * Set accounts that should be filtered.\n   *\n   * @param accounts - Account to filter or undefined if inactive.\n   */\n  setAccounts(accounts) {\n    this.filterAccounts = accounts;\n    let chips = [];\n    if (this.filterAccounts && this.filterAccounts.length > 0) {\n      chips = this.filterAccounts.map(_ref4 => {\n        let {\n          displayName,\n          uid\n        } = _ref4;\n        return {\n          text: displayName,\n          user: uid,\n          onclick: () => this.currentInstance?.toggleAccount(uid)\n        };\n      });\n    }\n    this.updateChips(chips);\n    this.filterUpdated();\n  }\n  /**\n   * Update the accounts owning nodes or have nodes shared to them.\n   *\n   * @param nodes - The current content of the file list.\n   */\n  updateAvailableAccounts(nodes) {\n    const available = new Map();\n    for (const node of nodes) {\n      const owner = node.owner;\n      if (owner && !available.has(owner)) {\n        available.set(owner, {\n          uid: owner,\n          displayName: node.attributes['owner-display-name'] ?? node.owner\n        });\n      }\n      // ensure sharees is an array (if only one share then it is just an object)\n      const sharees = [node.attributes.sharees?.sharee].flat().filter(Boolean);\n      for (const sharee of [sharees].flat()) {\n        // Skip link shares and other without user\n        if (sharee.id === '') {\n          continue;\n        }\n        if (sharee.type !== ShareType.User && sharee.type !== ShareType.Remote) {\n          continue;\n        }\n        // Add if not already added\n        if (!available.has(sharee.id)) {\n          available.set(sharee.id, {\n            uid: sharee.id,\n            displayName: sharee['display-name']\n          });\n        }\n      }\n    }\n    this.availableAccounts = [...available.values()];\n    if (this.currentInstance) {\n      this.currentInstance.setAvailableAccounts(this.availableAccounts);\n    }\n  }\n}\n/**\n * Register the file list filter by owner or sharees\n */\nexport function registerAccountFilter() {\n  if (isPublicShare()) {\n    // We do not show the filter on public pages - it makes no sense\n    return;\n  }\n  registerFileListFilter(new AccountFilter());\n}","import { Header, registerFileListHeaders } from '@nextcloud/files';\nimport Vue from 'vue';\n/**\n * Register the  \"note to recipient\" as a files list header\n */\nexport default function registerNoteToRecipient() {\n  let FilesHeaderNoteToRecipient;\n  let instance;\n  registerFileListHeaders(new Header({\n    id: 'note-to-recipient',\n    order: 0,\n    // Always if there is a note\n    enabled: folder => Boolean(folder.attributes.note),\n    // Update the root folder if needed\n    updated: folder => {\n      if (instance) {\n        instance.updateFolder(folder);\n      }\n    },\n    // render simply spawns the component\n    render: async (el, folder) => {\n      if (FilesHeaderNoteToRecipient === undefined) {\n        const {\n          default: component\n        } = await import(\"../views/FilesHeaderNoteToRecipient.vue\");\n        FilesHeaderNoteToRecipient = Vue.extend(component);\n      }\n      instance = new FilesHeaderNoteToRecipient().$mount(el);\n      instance.updateFolder(folder);\n    }\n  }));\n}","import { defineAsyncComponent } from 'vue';\nimport { spawnDialog } from '@nextcloud/dialogs';\nimport { translate as t } from '@nextcloud/l10n';\nimport FileUploadSvg from '@mdi/svg/svg/file-upload-outline.svg?raw';\nimport Config from \"../services/ConfigService\";\nimport { isPublicShare } from '@nextcloud/sharing/public';\nconst sharingConfig = new Config();\nconst NewFileRequestDialogVue = defineAsyncComponent(() => import(\"../components/NewFileRequestDialog.vue\"));\nexport const EntryId = 'file-request';\nexport const entry = {\n  id: EntryId,\n  displayName: t('files_sharing', 'Create file request'),\n  iconSvgInline: FileUploadSvg,\n  order: 10,\n  enabled() {\n    // not on public shares\n    if (isPublicShare()) {\n      return false;\n    }\n    if (!sharingConfig.isPublicUploadEnabled) {\n      return false;\n    }\n    // We will check for the folder permission on the dialog\n    return sharingConfig.isPublicShareAllowed;\n  },\n  async handler(context, content) {\n    spawnDialog(NewFileRequestDialogVue, {\n      context,\n      content\n    });\n  }\n};","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { translate as t } from '@nextcloud/l10n';\nimport { View, getNavigation } from '@nextcloud/files';\nimport { ShareType } from '@nextcloud/sharing';\nimport AccountClockSvg from '@mdi/svg/svg/account-clock-outline.svg?raw';\nimport AccountGroupSvg from '@mdi/svg/svg/account-group-outline.svg?raw';\nimport AccountPlusSvg from '@mdi/svg/svg/account-plus-outline.svg?raw';\nimport AccountSvg from '@mdi/svg/svg/account-outline.svg?raw';\nimport DeleteSvg from '@mdi/svg/svg/trash-can-outline.svg?raw';\nimport FileUploadSvg from '@mdi/svg/svg/file-upload-outline.svg?raw';\nimport LinkSvg from '@mdi/svg/svg/link.svg?raw';\nimport { getContents, isFileRequest } from \"../services/SharingService\";\nimport { loadState } from '@nextcloud/initial-state';\nexport const sharesViewId = 'shareoverview';\nexport const sharedWithYouViewId = 'sharingin';\nexport const sharedWithOthersViewId = 'sharingout';\nexport const sharingByLinksViewId = 'sharinglinks';\nexport const deletedSharesViewId = 'deletedshares';\nexport const pendingSharesViewId = 'pendingshares';\nexport const fileRequestViewId = 'filerequest';\nexport default () => {\n  const Navigation = getNavigation();\n  Navigation.register(new View({\n    id: sharesViewId,\n    name: t('files_sharing', 'Shares'),\n    caption: t('files_sharing', 'Overview of shared files.'),\n    emptyTitle: t('files_sharing', 'No shares'),\n    emptyCaption: t('files_sharing', 'Files and folders you shared or have been shared with you will show up here'),\n    icon: AccountPlusSvg,\n    order: 20,\n    columns: [],\n    getContents: () => getContents()\n  }));\n  Navigation.register(new View({\n    id: sharedWithYouViewId,\n    name: t('files_sharing', 'Shared with you'),\n    caption: t('files_sharing', 'List of files that are shared with you.'),\n    emptyTitle: t('files_sharing', 'Nothing shared with you yet'),\n    emptyCaption: t('files_sharing', 'Files and folders others shared with you will show up here'),\n    icon: AccountSvg,\n    order: 1,\n    parent: sharesViewId,\n    columns: [],\n    getContents: () => getContents(true, false, false, false)\n  }));\n  // Don't show this view if the user has no storage quota\n  const storageStats = loadState('files', 'storageStats', {\n    quota: -1\n  });\n  if (storageStats.quota !== 0) {\n    Navigation.register(new View({\n      id: sharedWithOthersViewId,\n      name: t('files_sharing', 'Shared with others'),\n      caption: t('files_sharing', 'List of files that you shared with others.'),\n      emptyTitle: t('files_sharing', 'Nothing shared yet'),\n      emptyCaption: t('files_sharing', 'Files and folders you shared will show up here'),\n      icon: AccountGroupSvg,\n      order: 2,\n      parent: sharesViewId,\n      columns: [],\n      getContents: () => getContents(false, true, false, false)\n    }));\n  }\n  Navigation.register(new View({\n    id: sharingByLinksViewId,\n    name: t('files_sharing', 'Shared by link'),\n    caption: t('files_sharing', 'List of files that are shared by link.'),\n    emptyTitle: t('files_sharing', 'No shared links'),\n    emptyCaption: t('files_sharing', 'Files and folders you shared by link will show up here'),\n    icon: LinkSvg,\n    order: 3,\n    parent: sharesViewId,\n    columns: [],\n    getContents: () => getContents(false, true, false, false, [ShareType.Link])\n  }));\n  Navigation.register(new View({\n    id: fileRequestViewId,\n    name: t('files_sharing', 'File requests'),\n    caption: t('files_sharing', 'List of file requests.'),\n    emptyTitle: t('files_sharing', 'No file requests'),\n    emptyCaption: t('files_sharing', 'File requests you have created will show up here'),\n    icon: FileUploadSvg,\n    order: 4,\n    parent: sharesViewId,\n    columns: [],\n    getContents: () => getContents(false, true, false, false, [ShareType.Link, ShareType.Email]).then(_ref => {\n      let {\n        folder,\n        contents\n      } = _ref;\n      return {\n        folder,\n        contents: contents.filter(node => isFileRequest(node.attributes?.['share-attributes'] || []))\n      };\n    })\n  }));\n  Navigation.register(new View({\n    id: deletedSharesViewId,\n    name: t('files_sharing', 'Deleted shares'),\n    caption: t('files_sharing', 'List of shares you left.'),\n    emptyTitle: t('files_sharing', 'No deleted shares'),\n    emptyCaption: t('files_sharing', 'Shares you have left will show up here'),\n    icon: DeleteSvg,\n    order: 5,\n    parent: sharesViewId,\n    columns: [],\n    getContents: () => getContents(false, false, false, true)\n  }));\n  Navigation.register(new View({\n    id: pendingSharesViewId,\n    name: t('files_sharing', 'Pending shares'),\n    caption: t('files_sharing', 'List of unapproved shares.'),\n    emptyTitle: t('files_sharing', 'No pending shares'),\n    emptyCaption: t('files_sharing', 'Shares you have received but not approved will show up here'),\n    icon: AccountClockSvg,\n    order: 6,\n    parent: sharesViewId,\n    columns: [],\n    getContents: () => getContents(false, false, true, false)\n  }));\n};","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { addNewFileMenuEntry } from '@nextcloud/files';\nimport { registerDavProperty } from '@nextcloud/files/dav';\nimport { registerAccountFilter } from \"./files_filters/AccountFilter\";\nimport { entry as newFileRequest } from \"./files_newMenu/newFileRequest\";\nimport registerNoteToRecipient from \"./files_headers/noteToRecipient\";\nimport registerSharingViews from \"./files_views/shares\";\nimport \"./files_actions/acceptShareAction\";\nimport \"./files_actions/openInFilesAction\";\nimport \"./files_actions/rejectShareAction\";\nimport \"./files_actions/restoreShareAction\";\nimport \"./files_actions/sharingStatusAction\";\nregisterSharingViews();\naddNewFileMenuEntry(newFileRequest);\nregisterDavProperty('nc:note', {\n  nc: 'http://nextcloud.org/ns'\n});\nregisterDavProperty('nc:sharees', {\n  nc: 'http://nextcloud.org/ns'\n});\nregisterDavProperty('nc:hide-download', {\n  nc: 'http://nextcloud.org/ns'\n});\nregisterDavProperty('nc:share-attributes', {\n  nc: 'http://nextcloud.org/ns'\n});\nregisterDavProperty('oc:share-types', {\n  oc: 'http://owncloud.org/ns'\n});\nregisterDavProperty('ocs:share-permissions', {\n  ocs: 'http://open-collaboration-services.org/ns'\n});\nregisterAccountFilter();\n// Add \"note to recipient\" message\nregisterNoteToRecipient();","function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getCapabilities } from '@nextcloud/capabilities';\nimport { loadState } from '@nextcloud/initial-state';\nexport default class Config {\n  constructor() {\n    _defineProperty(this, \"_capabilities\", void 0);\n    this._capabilities = getCapabilities();\n  }\n  /**\n   * Get default share permissions, if any\n   */\n  get defaultPermissions() {\n    return this._capabilities.files_sharing?.default_permissions;\n  }\n  /**\n   * Is public upload allowed on link shares ?\n   * This covers File request and Full upload/edit option.\n   */\n  get isPublicUploadEnabled() {\n    return this._capabilities.files_sharing?.public?.upload === true;\n  }\n  /**\n   * Get the federated sharing documentation link\n   */\n  get federatedShareDocLink() {\n    return window.OC.appConfig.core.federatedCloudShareDoc;\n  }\n  /**\n   * Get the default link share expiration date\n   */\n  get defaultExpirationDate() {\n    if (this.isDefaultExpireDateEnabled && this.defaultExpireDate !== null) {\n      return new Date(new Date().setDate(new Date().getDate() + this.defaultExpireDate));\n    }\n    return null;\n  }\n  /**\n   * Get the default internal expiration date\n   */\n  get defaultInternalExpirationDate() {\n    if (this.isDefaultInternalExpireDateEnabled && this.defaultInternalExpireDate !== null) {\n      return new Date(new Date().setDate(new Date().getDate() + this.defaultInternalExpireDate));\n    }\n    return null;\n  }\n  /**\n   * Get the default remote expiration date\n   */\n  get defaultRemoteExpirationDateString() {\n    if (this.isDefaultRemoteExpireDateEnabled && this.defaultRemoteExpireDate !== null) {\n      return new Date(new Date().setDate(new Date().getDate() + this.defaultRemoteExpireDate));\n    }\n    return null;\n  }\n  /**\n   * Are link shares password-enforced ?\n   */\n  get enforcePasswordForPublicLink() {\n    return window.OC.appConfig.core.enforcePasswordForPublicLink === true;\n  }\n  /**\n   * Is password asked by default on link shares ?\n   */\n  get enableLinkPasswordByDefault() {\n    return window.OC.appConfig.core.enableLinkPasswordByDefault === true;\n  }\n  /**\n   * Is link shares expiration enforced ?\n   */\n  get isDefaultExpireDateEnforced() {\n    return window.OC.appConfig.core.defaultExpireDateEnforced === true;\n  }\n  /**\n   * Is there a default expiration date for new link shares ?\n   */\n  get isDefaultExpireDateEnabled() {\n    return window.OC.appConfig.core.defaultExpireDateEnabled === true;\n  }\n  /**\n   * Is internal shares expiration enforced ?\n   */\n  get isDefaultInternalExpireDateEnforced() {\n    return window.OC.appConfig.core.defaultInternalExpireDateEnforced === true;\n  }\n  /**\n   * Is there a default expiration date for new internal shares ?\n   */\n  get isDefaultInternalExpireDateEnabled() {\n    return window.OC.appConfig.core.defaultInternalExpireDateEnabled === true;\n  }\n  /**\n   * Is remote shares expiration enforced ?\n   */\n  get isDefaultRemoteExpireDateEnforced() {\n    return window.OC.appConfig.core.defaultRemoteExpireDateEnforced === true;\n  }\n  /**\n   * Is there a default expiration date for new remote shares ?\n   */\n  get isDefaultRemoteExpireDateEnabled() {\n    return window.OC.appConfig.core.defaultRemoteExpireDateEnabled === true;\n  }\n  /**\n   * Are users on this server allowed to send shares to other servers ?\n   */\n  get isRemoteShareAllowed() {\n    return window.OC.appConfig.core.remoteShareAllowed === true;\n  }\n  /**\n   * Is federation enabled ?\n   */\n  get isFederationEnabled() {\n    return this._capabilities?.files_sharing?.federation?.outgoing === true;\n  }\n  /**\n   * Is public sharing enabled ?\n   */\n  get isPublicShareAllowed() {\n    return this._capabilities?.files_sharing?.public?.enabled === true;\n  }\n  /**\n   * Is sharing my mail (link share) enabled ?\n   */\n  get isMailShareAllowed() {\n    // eslint-disable-next-line camelcase\n    return this._capabilities?.files_sharing?.sharebymail?.enabled === true\n    // eslint-disable-next-line camelcase\n    && this.isPublicShareAllowed === true;\n  }\n  /**\n   * Get the default days to link shares expiration\n   */\n  get defaultExpireDate() {\n    return window.OC.appConfig.core.defaultExpireDate;\n  }\n  /**\n   * Get the default days to internal shares expiration\n   */\n  get defaultInternalExpireDate() {\n    return window.OC.appConfig.core.defaultInternalExpireDate;\n  }\n  /**\n   * Get the default days to remote shares expiration\n   */\n  get defaultRemoteExpireDate() {\n    return window.OC.appConfig.core.defaultRemoteExpireDate;\n  }\n  /**\n   * Is resharing allowed ?\n   */\n  get isResharingAllowed() {\n    return window.OC.appConfig.core.resharingAllowed === true;\n  }\n  /**\n   * Is password enforced for mail shares ?\n   */\n  get isPasswordForMailSharesRequired() {\n    return this._capabilities.files_sharing?.sharebymail?.password?.enforced === true;\n  }\n  /**\n   * Always show the email or userid unique sharee label if enabled by the admin\n   */\n  get shouldAlwaysShowUnique() {\n    return this._capabilities.files_sharing?.sharee?.always_show_unique === true;\n  }\n  /**\n   * Is sharing with groups allowed ?\n   */\n  get allowGroupSharing() {\n    return window.OC.appConfig.core.allowGroupSharing === true;\n  }\n  /**\n   * Get the maximum results of a share search\n   */\n  get maxAutocompleteResults() {\n    return parseInt(window.OC.config['sharing.maxAutocompleteResults'], 10) || 25;\n  }\n  /**\n   * Get the minimal string length\n   * to initiate a share search\n   */\n  get minSearchStringLength() {\n    return parseInt(window.OC.config['sharing.minSearchStringLength'], 10) || 0;\n  }\n  /**\n   * Get the password policy configuration\n   */\n  get passwordPolicy() {\n    return this._capabilities?.password_policy || {};\n  }\n  /**\n   * Returns true if custom tokens are allowed\n   */\n  get allowCustomTokens() {\n    return this._capabilities?.files_sharing?.public?.custom_tokens;\n  }\n  /**\n   * Show federated shares as internal shares\n   * @return {boolean}\n   */\n  get showFederatedSharesAsInternal() {\n    return loadState('files_sharing', 'showFederatedSharesAsInternal', false);\n  }\n  /**\n   * Show federated shares to trusted servers as internal shares\n   * @return {boolean}\n   */\n  get showFederatedSharesToTrustedServersAsInternal() {\n    return loadState('files_sharing', 'showFederatedSharesToTrustedServersAsInternal', false);\n  }\n}","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n// TODO: Fix this instead of disabling ESLint!!!\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { getCurrentUser } from '@nextcloud/auth';\nimport { Folder, File, Permission, davRemoteURL, davRootPath } from '@nextcloud/files';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport axios from '@nextcloud/axios';\nimport logger from \"./logger\";\nconst headers = {\n  'Content-Type': 'application/json'\n};\nconst ocsEntryToNode = async function (ocsEntry) {\n  try {\n    // Federated share handling\n    if (ocsEntry?.remote_id !== undefined) {\n      if (!ocsEntry.mimetype) {\n        const mime = (await import('mime')).default;\n        // This won't catch files without an extension, but this is the best we can do\n        ocsEntry.mimetype = mime.getType(ocsEntry.name);\n      }\n      ocsEntry.item_type = ocsEntry.type || (ocsEntry.mimetype ? 'file' : 'folder');\n      // different naming for remote shares\n      ocsEntry.item_mtime = ocsEntry.mtime;\n      ocsEntry.file_target = ocsEntry.file_target || ocsEntry.mountpoint;\n      if (ocsEntry.file_target.includes('TemporaryMountPointName')) {\n        ocsEntry.file_target = ocsEntry.name;\n      }\n      // If the share is not accepted yet we don't know which permissions it will have\n      if (!ocsEntry.accepted) {\n        // Need to set permissions to NONE for federated shares\n        ocsEntry.item_permissions = Permission.NONE;\n        ocsEntry.permissions = Permission.NONE;\n      }\n      ocsEntry.uid_owner = ocsEntry.owner;\n      // TODO: have the real display name stored somewhere\n      ocsEntry.displayname_owner = ocsEntry.owner;\n    }\n    const isFolder = ocsEntry?.item_type === 'folder';\n    const hasPreview = ocsEntry?.has_preview === true;\n    const Node = isFolder ? Folder : File;\n    // If this is an external share that is not yet accepted,\n    // we don't have an id. We can fallback to the row id temporarily\n    // local shares (this server) use `file_source`, but remote shares (federated) use `file_id`\n    const fileid = ocsEntry.file_source || ocsEntry.file_id || ocsEntry.id;\n    // Generate path and strip double slashes\n    const path = ocsEntry.path || ocsEntry.file_target || ocsEntry.name;\n    const source = `${davRemoteURL}${davRootPath}/${path.replace(/^\\/+/, '')}`;\n    let mtime = ocsEntry.item_mtime ? new Date(ocsEntry.item_mtime * 1000) : undefined;\n    // Prefer share time if more recent than item mtime\n    if (ocsEntry?.stime > (ocsEntry?.item_mtime || 0)) {\n      mtime = new Date(ocsEntry.stime * 1000);\n    }\n    let sharees;\n    if ('share_with' in ocsEntry) {\n      sharees = {\n        sharee: {\n          id: ocsEntry.share_with,\n          'display-name': ocsEntry.share_with_displayname || ocsEntry.share_with,\n          type: ocsEntry.share_type\n        }\n      };\n    }\n    return new Node({\n      id: fileid,\n      source,\n      owner: ocsEntry?.uid_owner,\n      mime: ocsEntry?.mimetype || 'application/octet-stream',\n      mtime,\n      size: ocsEntry?.item_size,\n      permissions: ocsEntry?.item_permissions || ocsEntry?.permissions,\n      root: davRootPath,\n      attributes: {\n        ...ocsEntry,\n        'has-preview': hasPreview,\n        'hide-download': ocsEntry?.hide_download === 1,\n        // Also check the sharingStatusAction.ts code\n        'owner-id': ocsEntry?.uid_owner,\n        'owner-display-name': ocsEntry?.displayname_owner,\n        'share-types': ocsEntry?.share_type,\n        'share-attributes': ocsEntry?.attributes || '[]',\n        sharees,\n        favorite: ocsEntry?.tags?.includes(window.OC.TAG_FAVORITE) ? 1 : 0\n      }\n    });\n  } catch (error) {\n    logger.error('Error while parsing OCS entry', {\n      error\n    });\n    return null;\n  }\n};\nconst getShares = function () {\n  let shareWithMe = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  const url = generateOcsUrl('apps/files_sharing/api/v1/shares');\n  return axios.get(url, {\n    headers,\n    params: {\n      shared_with_me: shareWithMe,\n      include_tags: true\n    }\n  });\n};\nconst getSharedWithYou = function () {\n  return getShares(true);\n};\nconst getSharedWithOthers = function () {\n  return getShares();\n};\nconst getRemoteShares = function () {\n  const url = generateOcsUrl('apps/files_sharing/api/v1/remote_shares');\n  return axios.get(url, {\n    headers,\n    params: {\n      include_tags: true\n    }\n  });\n};\nconst getPendingShares = function () {\n  const url = generateOcsUrl('apps/files_sharing/api/v1/shares/pending');\n  return axios.get(url, {\n    headers,\n    params: {\n      include_tags: true\n    }\n  });\n};\nconst getRemotePendingShares = function () {\n  const url = generateOcsUrl('apps/files_sharing/api/v1/remote_shares/pending');\n  return axios.get(url, {\n    headers,\n    params: {\n      include_tags: true\n    }\n  });\n};\nconst getDeletedShares = function () {\n  const url = generateOcsUrl('apps/files_sharing/api/v1/deletedshares');\n  return axios.get(url, {\n    headers,\n    params: {\n      include_tags: true\n    }\n  });\n};\n/**\n * Check if a file request is enabled\n * @param attributes the share attributes json-encoded array\n */\nexport const isFileRequest = function () {\n  let attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '[]';\n  const isFileRequest = attribute => {\n    return attribute.scope === 'fileRequest' && attribute.key === 'enabled' && attribute.value === true;\n  };\n  try {\n    const attributesArray = JSON.parse(attributes);\n    return attributesArray.some(isFileRequest);\n  } catch (error) {\n    logger.error('Error while parsing share attributes', {\n      error\n    });\n    return false;\n  }\n};\n/**\n * Group an array of objects (here Nodes) by a key\n * and return an array of arrays of them.\n * @param nodes Nodes to group\n * @param key The attribute to group by\n */\nconst groupBy = function (nodes, key) {\n  return Object.values(nodes.reduce(function (acc, curr) {\n    (acc[curr[key]] = acc[curr[key]] || []).push(curr);\n    return acc;\n  }, {}));\n};\nexport const getContents = async function () {\n  let sharedWithYou = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  let sharedWithOthers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  let pendingShares = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  let deletedshares = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  let filterTypes = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  const promises = [];\n  if (sharedWithYou) {\n    promises.push(getSharedWithYou(), getRemoteShares());\n  }\n  if (sharedWithOthers) {\n    promises.push(getSharedWithOthers());\n  }\n  if (pendingShares) {\n    promises.push(getPendingShares(), getRemotePendingShares());\n  }\n  if (deletedshares) {\n    promises.push(getDeletedShares());\n  }\n  const responses = await Promise.all(promises);\n  const data = responses.map(response => response.data.ocs.data).flat();\n  let contents = (await Promise.all(data.map(ocsEntryToNode))).filter(node => node !== null);\n  if (filterTypes.length > 0) {\n    contents = contents.filter(node => filterTypes.includes(node.attributes?.share_type));\n  }\n  // Merge duplicate shares and group their attributes\n  // Also check the sharingStatusAction.ts code\n  contents = groupBy(contents, 'source').map(nodes => {\n    const node = nodes[0];\n    node.attributes['share-types'] = nodes.map(node => node.attributes['share-types']);\n    return node;\n  });\n  return {\n    folder: new Folder({\n      id: 0,\n      source: `${davRemoteURL}${davRootPath}`,\n      owner: getCurrentUser()?.uid || null\n    }),\n    contents\n  };\n};","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getLoggerBuilder } from '@nextcloud/logger';\nexport default getLoggerBuilder().setApp('files_sharing').detectUser().build();","/*!\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { generateUrl } from '@nextcloud/router';\nconst isDarkMode = () => {\n  return window?.matchMedia?.('(prefers-color-scheme: dark)')?.matches === true || document.querySelector('[data-themes*=dark]') !== null;\n};\nexport const generateAvatarSvg = function (userId) {\n  let isGuest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  // normal avatar url: /avatar/{userId}/32?guestFallback=true\n  // dark avatar url: /avatar/{userId}/32/dark?guestFallback=true\n  // guest avatar url: /avatar/guest/{userId}/32\n  // guest dark avatar url: /avatar/guest/{userId}/32/dark\n  const basePath = isGuest ? `/avatar/guest/${userId}` : `/avatar/${userId}`;\n  const darkModePath = isDarkMode() ? '/dark' : '';\n  const guestFallback = isGuest ? '' : '?guestFallback=true';\n  const url = `${basePath}/32${darkModePath}${guestFallback}`;\n  const avatarUrl = generateUrl(url, {\n    userId\n  });\n  return `<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\"\n\t\txmlns=\"http://www.w3.org/2000/svg\" class=\"sharing-status__avatar\">\n\t\t<image href=\"${avatarUrl}\" height=\"32\" width=\"32\" />\n\t</svg>`;\n};","import { defineComponent as _defineComponent } from 'vue';\nimport { t } from '@nextcloud/l10n';\nimport NcActions from '@nextcloud/vue/components/NcActions';\nimport NcActionButton from '@nextcloud/vue/components/NcActionButton';\nimport NcActionSeparator from '@nextcloud/vue/components/NcActionSeparator';\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FileListFilter',\n  props: {\n    isActive: {\n      type: Boolean,\n      required: true\n    },\n    filterName: {\n      type: String,\n      required: true\n    }\n  },\n  emits: [\"reset-filter\"],\n  setup(__props) {\n    return {\n      __sfc: true,\n      t,\n      NcActions,\n      NcActionButton,\n      NcActionSeparator\n    };\n  }\n});","import { defineComponent as _defineComponent } from 'vue';\nimport { translate as t } from '@nextcloud/l10n';\nimport { mdiAccountMultipleOutline } from '@mdi/js';\nimport { computed, ref, watch } from 'vue';\nimport FileListFilter from \"../../../files/src/components/FileListFilter/FileListFilter.vue\";\nimport NcActionButton from '@nextcloud/vue/components/NcActionButton';\nimport NcActionInput from '@nextcloud/vue/components/NcActionInput';\nimport NcAvatar from '@nextcloud/vue/components/NcAvatar';\nimport NcIconSvgWrapper from '@nextcloud/vue/components/NcIconSvgWrapper';\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FileListFilterAccount',\n  emits: [\"update:accounts\"],\n  setup(__props, _ref) {\n    let {\n      expose,\n      emit\n    } = _ref;\n    const accountFilter = ref('');\n    const availableAccounts = ref([]);\n    const selectedAccounts = ref([]);\n    /**\n     * Currently shown accounts (filtered)\n     */\n    const shownAccounts = computed(() => {\n      if (!accountFilter.value) {\n        return availableAccounts.value;\n      }\n      const queryParts = accountFilter.value.toLocaleLowerCase().trim().split(' ');\n      return availableAccounts.value.filter(account => queryParts.every(part => account.user.toLocaleLowerCase().includes(part) || account.displayName.toLocaleLowerCase().includes(part)));\n    });\n    /**\n     * Toggle an account as selected\n     * @param accountId The account to toggle\n     */\n    function toggleAccount(accountId) {\n      const account = availableAccounts.value.find(_ref2 => {\n        let {\n          id\n        } = _ref2;\n        return id === accountId;\n      });\n      if (account && selectedAccounts.value.includes(account)) {\n        selectedAccounts.value = selectedAccounts.value.filter(_ref3 => {\n          let {\n            id\n          } = _ref3;\n          return id !== accountId;\n        });\n      } else {\n        if (account) {\n          selectedAccounts.value = [...selectedAccounts.value, account];\n        }\n      }\n    }\n    // Watch selected account, on change we emit the new account data to the filter instance\n    watch(selectedAccounts, () => {\n      // Emit selected accounts as account data\n      const accounts = selectedAccounts.value.map(_ref4 => {\n        let {\n          id: uid,\n          displayName\n        } = _ref4;\n        return {\n          uid,\n          displayName\n        };\n      });\n      emit('update:accounts', accounts);\n    });\n    /**\n     * Reset this filter\n     */\n    function resetFilter() {\n      selectedAccounts.value = [];\n      accountFilter.value = '';\n    }\n    /**\n     * Update list of available accounts in current view.\n     *\n     * @param accounts - Accounts to use\n     */\n    function setAvailableAccounts(accounts) {\n      availableAccounts.value = accounts.map(_ref5 => {\n        let {\n          uid,\n          displayName\n        } = _ref5;\n        return {\n          displayName,\n          id: uid,\n          user: uid\n        };\n      });\n    }\n    expose({\n      resetFilter,\n      setAvailableAccounts,\n      toggleAccount\n    });\n    return {\n      __sfc: true,\n      emit,\n      accountFilter,\n      availableAccounts,\n      selectedAccounts,\n      shownAccounts,\n      toggleAccount,\n      resetFilter,\n      setAvailableAccounts,\n      t,\n      mdiAccountMultipleOutline,\n      FileListFilter,\n      NcActionButton,\n      NcActionInput,\n      NcAvatar,\n      NcIconSvgWrapper\n    };\n  }\n});","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c,\n    _setup = _vm._self._setupProxy;\n  return _c(_setup.NcActions, {\n    attrs: {\n      \"force-menu\": \"\",\n      type: _vm.isActive ? \"secondary\" : \"tertiary\",\n      \"menu-name\": _vm.filterName\n    },\n    scopedSlots: _vm._u([{\n      key: \"icon\",\n      fn: function () {\n        return [_vm._t(\"icon\")];\n      },\n      proxy: true\n    }], null, true)\n  }, [_vm._v(\" \"), _vm._t(\"default\"), _vm._v(\" \"), _vm.isActive ? [_c(_setup.NcActionSeparator), _vm._v(\" \"), _c(_setup.NcActionButton, {\n    staticClass: \"files-list-filter__clear-button\",\n    attrs: {\n      \"close-after-click\": \"\"\n    },\n    on: {\n      click: function ($event) {\n        return _vm.$emit(\"reset-filter\");\n      }\n    }\n  }, [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_setup.t(\"files\", \"Clear filter\")) + \"\\n\\t\\t\")])] : _vm._e()], 2);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\nexport { render, staticRenderFns };","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c,\n    _setup = _vm._self._setupProxy;\n  return _c(_setup.FileListFilter, {\n    staticClass: \"file-list-filter-accounts\",\n    attrs: {\n      \"is-active\": _setup.selectedAccounts.length > 0,\n      \"filter-name\": _setup.t(\"files_sharing\", \"People\")\n    },\n    on: {\n      \"reset-filter\": _setup.resetFilter\n    },\n    scopedSlots: _vm._u([{\n      key: \"icon\",\n      fn: function () {\n        return [_c(_setup.NcIconSvgWrapper, {\n          attrs: {\n            path: _setup.mdiAccountMultipleOutline\n          }\n        })];\n      },\n      proxy: true\n    }])\n  }, [_vm._v(\" \"), _setup.availableAccounts.length > 1 ? _c(_setup.NcActionInput, {\n    attrs: {\n      label: _setup.t(\"files_sharing\", \"Filter accounts\"),\n      \"label-outside\": false,\n      \"show-trailing-button\": false,\n      type: \"search\",\n      value: _setup.accountFilter\n    },\n    on: {\n      \"update:value\": function ($event) {\n        _setup.accountFilter = $event;\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), _vm._l(_setup.shownAccounts, function (account) {\n    return _c(_setup.NcActionButton, {\n      key: account.id,\n      staticClass: \"file-list-filter-accounts__item\",\n      attrs: {\n        type: \"radio\",\n        \"model-value\": _setup.selectedAccounts.includes(account),\n        value: account.id\n      },\n      on: {\n        click: function ($event) {\n          return _setup.toggleAccount(account.id);\n        }\n      },\n      scopedSlots: _vm._u([{\n        key: \"icon\",\n        fn: function () {\n          return [_c(_setup.NcAvatar, _vm._b({\n            staticClass: \"file-list-filter-accounts__avatar\",\n            attrs: {\n              size: 24,\n              \"disable-menu\": \"\",\n              \"show-user-status\": false\n            }\n          }, \"NcAvatar\", account, false))];\n        },\n        proxy: true\n      }], null, true)\n    }, [_vm._v(\"\\n\\t\\t\" + _vm._s(account.displayName) + \"\\n\\t\")]);\n  })], 2);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\nexport { render, staticRenderFns };","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n.action-items > .files-list__row-action-sharing-status {\n  direction: rtl;\n  padding-inline-end: 0 !important;\n}\n\nsvg.sharing-status__avatar {\n  height: 32px !important;\n  width: 32px !important;\n  max-height: 32px !important;\n  max-width: 32px !important;\n  border-radius: 32px;\n  overflow: hidden;\n}\n\n.files-list__row-action-sharing-status .button-vue__text {\n  color: var(--color-primary-element);\n}\n.files-list__row-action-sharing-status .button-vue__icon {\n  color: var(--color-primary-element);\n}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.file-list-filter-accounts__item[data-v-40ba7127] {\n  min-width: 250px;\n}\n.file-list-filter-accounts__avatar[data-v-40ba7127] {\n  margin: calc((var(--default-clickable-area) - 24px) / 2);\n}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.files-list-filter__clear-button[data-v-5c291778] .action-button__text {\n\tcolor: var(--color-error-text);\n}\n[data-v-5c291778] .button-vue {\n\tfont-weight: normal !important;\n*[data-v-5c291778] {\n\t\tfont-weight: normal !important;\n}\n}\n`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=style&index=0&id=40ba7127&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilterAccount.vue?vue&type=style&index=0&id=40ba7127&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilter.vue?vue&type=style&index=0&id=5c291778&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileListFilter.vue?vue&type=style&index=0&id=5c291778&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \"-\" + chunkId + \".js?v=\" + {\"node_modules_nextcloud_dialogs_dist_chunks_index-BC-7VPxC_mjs\":\"2fcef36253529e5f48bc\",\"node_modules_nextcloud_dialogs_dist_chunks_PublicAuthPrompt-BSFsDqYB_mjs\":\"f3a3966faa81f9b81fa8\",\"data_image_svg_xml_3c_21--_20-_20SPDX-FileCopyrightText_202020_20Google_20Inc_20-_20SPDX-Lice-cc29b1\":\"9fa10a9863e5b78deec8\",\"apps_files_sharing_src_models_Share_ts-apps_files_sharing_src_utils_GeneratePassword_ts\":\"fdd3d746f857f7a26f8d\",\"apps_files_sharing_src_components_NewFileRequestDialog_vue\":\"13776a81a7f2f9271f0e\",\"apps_files_sharing_src_views_FilesHeaderNoteToRecipient_vue\":\"6c0cc9feb7cebba8e6ed\",\"node_modules_mime_dist_src_index_js\":\"81767346a574e7848085\",\"node_modules_nextcloud_dialogs_dist_chunks_FilePicker-CsU6FfAP_mjs\":\"8bce3ebf3ef868f175e5\"}[chunkId] + \"\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"nextcloud:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"files_sharing-init\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknextcloud\"] = self[\"webpackChunknextcloud\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"core-common\"], () => (__webpack_require__(\"./apps/files_sharing/src/init.ts\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":[],"sourceRoot":""}