{"version":3,"mappings":"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","names":["t","isUndefined","isFunction","isArrayBufferView","isArrayBuffer","isArray","isString","isNumber","isObject","isBoolean","isDate","global","bind","inherits","isTypedArray","TypedArray","hasOwnProperty","isRegExp","process","DOMPurify","escapeHTML","_sfc_render","_sfc_main$1","options","_sfc_main","browserStorage","getCapabilities","EventEmitter","undefined","$Object","$Error","$EvalError","$RangeError","$ReferenceError","$SyntaxError","$TypeError","$URIError","abs","floor","max","min","pow","round","sign","$Function","getEvalledConstructor","$gOPD","$defineProperty","throwTypeError","ThrowTypeError","hasSymbols","getProto","$ObjectGPO","$ReflectGPO","$apply","$call","needsEval","INTRINSICS","e","doEval","LEGACY_ALIASES","hasOwn","$concat","$spliceApply","$replace","$strSlice","$exec","rePropName","reEscapeChar","stringToPath","getBaseIntrinsic","x","re","self","Writable","CorkedRequest","Duplex","WritableState","internalUtil","Stream","Buffer","OurUint8Array","_uint8ArrayToBuffer","_isUint8Array","destroyImpl","nop","realHasInstance","writeAfterEnd","validChunk","writeOrBuffer","decodeChunk","doWrite","onwriteError","finishMaybe","onwriteStateUpdate","onwrite","needFinish","afterWrite","onwriteDrain","clearBuffer","callFinal","prefinish","endWritable","onCorkedFinish","pna","asyncWrite","util","BN","utils","getNAF","getJSF","assert","BaseCurve","BasePoint","Base","EdwardsCurve","Point","h","common","rotr64_hi","rotr64_lo","shr64_hi","shr64_lo","sum64","sum64_hi","sum64_lo","sum64_4_hi","sum64_4_lo","sum64_5_hi","sum64_5_lo","BlockHash","sha512_K","SHA512","g1_512_hi","g1_512_lo","g0_512_hi","g0_512_lo","s1_512_hi","s1_512_lo","ch64_hi","ch64_lo","s0_512_hi","s0_512_lo","maj64_hi","maj64_lo","Reporter","EncoderBuffer","DecoderBuffer","tags","methods","overrided","Node","stateProps","child","state","v","obj","_hoisted_2","_hoisted_3","createElementVNode","_hoisted_1","axios","generateOcsUrl","generateUrl","once","names","#setupRateLimitTracking","#tryToStartAnother","#onInterval","#initializeIntervalIfNeeded","#onResumeInterval","#intervalId","#timeoutId","#clearIntervalTimer","#clearTimeoutTimer","#scheduleRateLimitUpdate","#interval","#processQueue","#pending","#next","#updateRateLimitState","VueSelect","TinyColor","R","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","script$1","script$2","script$3","script$4","emit","Chrome","VueDatePicker","_sfc_render$1","_hoisted_3$1","_hoisted_4$1","_hoisted_2$1","_hoisted_1$1","_sfc_main$4","_sfc_main$3","_sfc_main$2","offset"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43],"sources":["../node_modules/semver/classes/semver.js","../node_modules/axios/lib/utils.js","../node_modules/@nextcloud/l10n/dist/chunks/translation-DoG5ZELJ.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcActionInput-_ccoTcPV.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcPopover-C-MTaPCs.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcAppContent-CFhtQHrc.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcAppNavigationItem-C08oNLGX.mjs","../build/frontend/node_modules/events/events.js","../build/frontend/node_modules/get-intrinsic/index.js","../build/frontend/node_modules/util/support/types.js","../build/frontend/node_modules/util/util.js","../build/frontend/node_modules/readable-stream/lib/_stream_writable.js","../build/frontend/node_modules/string_decoder/lib/string_decoder.js","../node_modules/get-intrinsic/index.js","../node_modules/readable-stream/lib/_stream_writable.js","../build/frontend/node_modules/ripemd160/node_modules/readable-stream/lib/_stream_writable.js","../build/frontend/node_modules/browserify-sign/node_modules/readable-stream/lib/_stream_writable.js","../build/frontend/node_modules/elliptic/lib/elliptic/curve/base.js","../build/frontend/node_modules/elliptic/lib/elliptic/curve/edwards.js","../build/frontend/node_modules/hash.js/lib/hash/sha/512.js","../build/frontend/node_modules/asn1.js/lib/asn1/base/node.js","../node_modules/elliptic/lib/elliptic/curve/base.js","../node_modules/elliptic/lib/elliptic/curve/short.js","../node_modules/elliptic/lib/elliptic/curve/edwards.js","../node_modules/hash.js/lib/hash/sha/512.js","../node_modules/asn1.js/lib/asn1/base/node.js","../node_modules/@nextcloud/vue/dist/chunks/NcAvatar-BkmHv-oY.mjs","../node_modules/eventemitter3/index.js","../node_modules/p-queue/dist/index.js","../node_modules/@nextcloud/vue/dist/chunks/NcSelect-BN2tEhoU.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcCollectionList-DGNf9nD5.mjs","../node_modules/@ctrl/tinycolor/dist/module/index.js","../node_modules/@ckpack/vue-color/libs/components/chrome/index.js","../node_modules/@nextcloud/vue/dist/chunks/NcColorPicker-Cs5tFS-S.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcContent-BhYN55Pl.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcDateTimePicker-B5u2bt7M.mjs","../node_modules/emoji-mart-vue-fast/src/svgs/index.js","../node_modules/emoji-mart-vue-fast/src/utils/emoji-data.js","../node_modules/emoji-mart-vue-fast/src/utils/picker.js","../node_modules/emoji-mart-vue-fast/src/components/Picker.vue","../node_modules/@nextcloud/vue/dist/chunks/NcEmojiPicker-DWI-aSaL.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcRelatedResourcesPanel-C044oJVp.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcSelectTags-Ctd1Tqch.mjs","../node_modules/toastify-js/src/toastify.js"],"sourcesContent":["'use strict'\n\nconst debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n        version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    if (this.major < other.major) {\n      return -1\n    }\n    if (this.major > other.major) {\n      return 1\n    }\n    if (this.minor < other.minor) {\n      return -1\n    }\n    if (this.minor > other.minor) {\n      return 1\n    }\n    if (this.patch < other.patch) {\n      return -1\n    }\n    if (this.patch > other.patch) {\n      return 1\n    }\n    return 0\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    if (release.startsWith('pre')) {\n      if (!identifier && identifierBase === false) {\n        throw new Error('invalid increment argument: identifier is empty')\n      }\n      // Avoid an invalid semver results\n      if (identifier) {\n        const match = `-${identifier}`.match(this.options.loose ? re[t.PRERELEASELOOSE] : re[t.PRERELEASE])\n        if (!match || match[1] !== identifier) {\n          throw new Error(`invalid identifier: ${identifier}`)\n        }\n      }\n    }\n\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'release':\n        if (this.prerelease.length === 0) {\n          throw new Error(`version ${this.raw} is not a prerelease`)\n        }\n        this.prerelease.length = 0\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n}\n\n/**\n * Determine if a value is an empty object (safely handles Buffers)\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an empty object, otherwise false\n */\nconst isEmptyObject = (val) => {\n  // Early return for non-objects or Buffers to prevent RangeError\n  if (!isObject(val) || isBuffer(val)) {\n    return false;\n  }\n\n  try {\n    return Object.keys(val).length === 0 && Object.getPrototypeOf(val) === Object.prototype;\n  } catch (e) {\n    // Fallback for any other objects that might cause RangeError with Object.keys()\n    return false;\n  }\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Buffer check\n    if (isBuffer(obj)) {\n      return;\n    }\n\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  if (isBuffer(obj)){\n    return null;\n  }\n\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless, skipUndefined} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else if (!skipUndefined || !isUndefined(val)) {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      //Buffer check\n      if (isBuffer(source)) {\n        return source;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction(thing[iterator]);\n\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isEmptyObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n","import { generateFilePath } from \"@nextcloud/router\";\nimport DOMPurify from \"dompurify\";\nimport escapeHTML from \"escape-html\";\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nfunction getLocale() {\n  return globalThis._nc_l10n_locale;\n}\nfunction getCanonicalLocale() {\n  return getLocale().replaceAll(/_/g, \"-\");\n}\nfunction setLocale(locale) {\n  globalThis._nc_l10n_locale = locale;\n  if (typeof document !== \"undefined\") {\n    document.documentElement.dataset.locale = locale;\n  }\n}\nfunction getLanguage() {\n  return globalThis._nc_l10n_language;\n}\nfunction setLanguage(lang) {\n  globalThis._nc_l10n_language = lang;\n  if (typeof document !== \"undefined\") {\n    document.documentElement.lang = lang;\n  }\n}\nfunction isRTL(language) {\n  const languageCode = language || getLanguage();\n  const rtlLanguages = [\n    \"ae\",\n    // Avestan\n    \"ar\",\n    // 'العربية', Arabic\n    \"arc\",\n    // Aramaic\n    \"arz\",\n    // 'مصرى', Egyptian\n    \"bcc\",\n    // 'بلوچی مکرانی', Southern Balochi\n    \"bqi\",\n    // 'بختياري', Bakthiari\n    \"ckb\",\n    // 'Soranî / کوردی', Sorani\n    \"dv\",\n    // Dhivehi\n    \"fa\",\n    // 'فارسی', Persian\n    \"glk\",\n    // 'گیلکی', Gilaki\n    \"ha\",\n    // 'هَوُسَ', Hausa\n    \"he\",\n    // 'עברית', Hebrew\n    \"khw\",\n    // 'کھوار', Khowar\n    \"ks\",\n    // 'कॉशुर / کٲشُر', Kashmiri\n    \"ku\",\n    // 'Kurdî / كوردی', Kurdish\n    \"mzn\",\n    // 'مازِرونی', Mazanderani\n    \"nqo\",\n    // 'ߒߞߏ', N’Ko\n    \"pnb\",\n    // 'پنجابی', Western Punjabi\n    \"ps\",\n    // 'پښتو', Pashto,\n    \"sd\",\n    // 'سنڌي', Sindhi\n    \"ug\",\n    // 'Uyghurche / ئۇيغۇرچە', Uyghur\n    \"ur\",\n    // 'اردو', Urdu\n    \"ur-PK\",\n    // 'اردو', Urdu (nextcloud BCP47 variant)\n    \"uz-AF\",\n    // 'اوزبیکی', Uzbek Afghan\n    \"yi\"\n    // 'ייִדיש', Yiddish\n  ];\n  return rtlLanguages.includes(languageCode);\n}\nglobalThis._nc_l10n_locale ??= typeof document !== \"undefined\" && document.documentElement.dataset.locale || Intl.DateTimeFormat().resolvedOptions().locale.replaceAll(/-/g, \"_\");\nglobalThis._nc_l10n_language ??= typeof document !== \"undefined\" && document.documentElement.lang || (globalThis.navigator?.language ?? \"en\");\n/*!\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nfunction hasAppTranslations(appId) {\n  return appId in globalThis._oc_l10n_registry_translations && appId in globalThis._oc_l10n_registry_plural_functions;\n}\nfunction registerAppTranslations(appId, translations, pluralFunction) {\n  if (appId === \"__proto__\" || appId === \"constructor\" || appId === \"prototype\") {\n    throw new Error(\"Invalid appId\");\n  }\n  globalThis._oc_l10n_registry_translations[appId] = {\n    ...globalThis._oc_l10n_registry_translations[appId] || {},\n    ...translations\n  };\n  globalThis._oc_l10n_registry_plural_functions[appId] = pluralFunction;\n}\nfunction unregisterAppTranslations(appId) {\n  delete globalThis._oc_l10n_registry_translations[appId];\n  delete globalThis._oc_l10n_registry_plural_functions[appId];\n}\nfunction getAppTranslations(appId) {\n  return {\n    translations: globalThis._oc_l10n_registry_translations[appId] ?? {},\n    pluralFunction: globalThis._oc_l10n_registry_plural_functions[appId] ?? ((number) => number)\n  };\n}\nglobalThis._oc_l10n_registry_translations ??= {};\nglobalThis._oc_l10n_registry_plural_functions ??= {};\n/*!\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nfunction translate(app, text, placeholdersOrNumber, optionsOrNumber, options) {\n  const vars = typeof placeholdersOrNumber === \"object\" ? placeholdersOrNumber : void 0;\n  const number = typeof optionsOrNumber === \"number\" ? optionsOrNumber : typeof placeholdersOrNumber === \"number\" ? placeholdersOrNumber : void 0;\n  const allOptions = {\n    // defaults\n    escape: true,\n    sanitize: true,\n    // overwrite with user config\n    ...typeof options === \"object\" ? options : typeof optionsOrNumber === \"object\" ? optionsOrNumber : {}\n  };\n  const identity = (value) => value;\n  const optSanitize = (allOptions.sanitize ? DOMPurify.sanitize : identity) || identity;\n  const optEscape = allOptions.escape ? escapeHTML : identity;\n  const isValidReplacement = (value) => typeof value === \"string\" || typeof value === \"number\";\n  const _build = (text2, vars2, number2) => {\n    return text2.replace(/%n/g, \"\" + number2).replace(/{([^{}]*)}/g, (match, key) => {\n      if (vars2 === void 0 || !(key in vars2)) {\n        return optEscape(match);\n      }\n      const replacement = vars2[key];\n      if (isValidReplacement(replacement)) {\n        return optEscape(`${replacement}`);\n      } else if (typeof replacement === \"object\" && isValidReplacement(replacement.value)) {\n        const escape = replacement.escape !== false ? escapeHTML : identity;\n        return escape(`${replacement.value}`);\n      } else {\n        return optEscape(match);\n      }\n    });\n  };\n  const bundle = options?.bundle ?? getAppTranslations(app);\n  let translation = bundle.translations[text] || text;\n  translation = Array.isArray(translation) ? translation[0] : translation;\n  if (typeof vars === \"object\" || number !== void 0) {\n    return optSanitize(_build(\n      translation,\n      vars,\n      number\n    ));\n  } else {\n    return optSanitize(translation);\n  }\n}\nfunction translatePlural(app, textSingular, textPlural, number, vars, options) {\n  const identifier = \"_\" + textSingular + \"_::_\" + textPlural + \"_\";\n  const bundle = options?.bundle ?? getAppTranslations(app);\n  const value = bundle.translations[identifier];\n  if (typeof value !== \"undefined\") {\n    const translation = value;\n    if (Array.isArray(translation)) {\n      const plural = bundle.pluralFunction(number);\n      return translate(app, translation[plural], vars, number, options);\n    }\n  }\n  if (number === 1) {\n    return translate(app, textSingular, vars, number, options);\n  } else {\n    return translate(app, textPlural, vars, number, options);\n  }\n}\nasync function loadTranslations(appName, callback) {\n  if (hasAppTranslations(appName) || getLanguage() === \"en\") {\n    const bundle = getAppTranslations(appName);\n    callback?.(bundle);\n    return bundle;\n  }\n  let response;\n  try {\n    const url = generateFilePath(appName, \"l10n\", getLanguage() + \".json\");\n    response = await fetch(url);\n  } catch (error) {\n    throw new Error(\"Network error\", { cause: error });\n  }\n  if (response.ok) {\n    try {\n      const bundle = await response.json();\n      if (typeof bundle.translations === \"object\") {\n        register(appName, bundle.translations);\n        callback?.(bundle);\n        return bundle;\n      }\n    } catch {\n    }\n    throw new Error(\"Invalid content of translation bundle\");\n  } else {\n    throw new Error(response.statusText);\n  }\n}\nfunction register(appName, bundle) {\n  registerAppTranslations(appName, bundle, getPlural);\n}\nfunction unregister(appName) {\n  return unregisterAppTranslations(appName);\n}\nfunction getPlural(number, language = getLanguage()) {\n  if (language === \"pt-BR\") {\n    language = \"xbr\";\n  }\n  if (language.length > 3) {\n    language = language.substring(0, language.lastIndexOf(\"-\"));\n  }\n  switch (language) {\n    case \"az\":\n    case \"bo\":\n    case \"dz\":\n    case \"id\":\n    case \"ja\":\n    case \"jv\":\n    case \"ka\":\n    case \"km\":\n    case \"kn\":\n    case \"ko\":\n    case \"ms\":\n    case \"th\":\n    case \"tr\":\n    case \"vi\":\n    case \"zh\":\n      return 0;\n    case \"af\":\n    case \"bn\":\n    case \"bg\":\n    case \"ca\":\n    case \"da\":\n    case \"de\":\n    case \"el\":\n    case \"en\":\n    case \"eo\":\n    case \"es\":\n    case \"et\":\n    case \"eu\":\n    case \"fa\":\n    case \"fi\":\n    case \"fo\":\n    case \"fur\":\n    case \"fy\":\n    case \"gl\":\n    case \"gu\":\n    case \"ha\":\n    case \"he\":\n    case \"hu\":\n    case \"is\":\n    case \"it\":\n    case \"ku\":\n    case \"lb\":\n    case \"ml\":\n    case \"mn\":\n    case \"mr\":\n    case \"nah\":\n    case \"nb\":\n    case \"ne\":\n    case \"nl\":\n    case \"nn\":\n    case \"no\":\n    case \"oc\":\n    case \"om\":\n    case \"or\":\n    case \"pa\":\n    case \"pap\":\n    case \"ps\":\n    case \"pt\":\n    case \"so\":\n    case \"sq\":\n    case \"sv\":\n    case \"sw\":\n    case \"ta\":\n    case \"te\":\n    case \"tk\":\n    case \"ur\":\n    case \"zu\":\n      return number === 1 ? 0 : 1;\n    case \"am\":\n    case \"bh\":\n    case \"fil\":\n    case \"fr\":\n    case \"gun\":\n    case \"hi\":\n    case \"hy\":\n    case \"ln\":\n    case \"mg\":\n    case \"nso\":\n    case \"xbr\":\n    case \"ti\":\n    case \"wa\":\n      return number === 0 || number === 1 ? 0 : 1;\n    case \"be\":\n    case \"bs\":\n    case \"hr\":\n    case \"ru\":\n    case \"sh\":\n    case \"sr\":\n    case \"uk\":\n      return number % 10 === 1 && number % 100 !== 11 ? 0 : number % 10 >= 2 && number % 10 <= 4 && (number % 100 < 10 || number % 100 >= 20) ? 1 : 2;\n    case \"cs\":\n    case \"sk\":\n      return number === 1 ? 0 : number >= 2 && number <= 4 ? 1 : 2;\n    case \"ga\":\n      return number === 1 ? 0 : number === 2 ? 1 : 2;\n    case \"lt\":\n      return number % 10 === 1 && number % 100 !== 11 ? 0 : number % 10 >= 2 && (number % 100 < 10 || number % 100 >= 20) ? 1 : 2;\n    case \"sl\":\n      return number % 100 === 1 ? 0 : number % 100 === 2 ? 1 : number % 100 === 3 || number % 100 === 4 ? 2 : 3;\n    case \"mk\":\n      return number % 10 === 1 ? 0 : 1;\n    case \"mt\":\n      return number === 1 ? 0 : number === 0 || number % 100 > 1 && number % 100 < 11 ? 1 : number % 100 > 10 && number % 100 < 20 ? 2 : 3;\n    case \"lv\":\n      return number === 0 ? 0 : number % 10 === 1 && number % 100 !== 11 ? 1 : 2;\n    case \"pl\":\n      return number === 1 ? 0 : number % 10 >= 2 && number % 10 <= 4 && (number % 100 < 12 || number % 100 > 14) ? 1 : 2;\n    case \"cy\":\n      return number === 1 ? 0 : number === 2 ? 1 : number === 8 || number === 11 ? 2 : 3;\n    case \"ro\":\n      return number === 1 ? 0 : number === 0 || number % 100 > 0 && number % 100 < 20 ? 1 : 2;\n    case \"ar\":\n      return number === 0 ? 0 : number === 1 ? 1 : number === 2 ? 2 : number % 100 >= 3 && number % 100 <= 10 ? 3 : number % 100 >= 11 && number % 100 <= 99 ? 4 : 5;\n    default:\n      return 0;\n  }\n}\nexport {\n  getLanguage as a,\n  getLocale as b,\n  setLanguage as c,\n  translatePlural as d,\n  getPlural as e,\n  getCanonicalLocale as g,\n  isRTL as i,\n  loadTranslations as l,\n  register as r,\n  setLocale as s,\n  translate as t,\n  unregister as u\n};\n//# sourceMappingURL=translation-DoG5ZELJ.mjs.map\n","import '../assets/NcActionInput--OC-0kRP.css';\nimport { defineAsyncComponent, resolveComponent, createElementBlock, openBlock, normalizeClass, createElementVNode, renderSlot, normalizeStyle, withModifiers, createCommentVNode, toDisplayString, createBlock, mergeProps, createVNode, withCtx } from \"vue\";\nimport { r as register, g as t46, a as t } from \"./_l10n-BPfpECk_.mjs\";\nimport { A as ActionGlobalMixin } from \"./actionGlobal-BZFdtdJL.mjs\";\nimport { c as createElementId } from \"./createElementId-DhjFt1I9.mjs\";\nimport { N as NcDateTimePickerNative } from \"./NcDateTimePickerNative-MeggPJLT.mjs\";\nimport { N as NcPasswordField } from \"./NcPasswordField-CLv9QZOP.mjs\";\nimport { _ as _sfc_main$1 } from \"./NcTextField.vue_vue_type_script_setup_true_lang-Dl9AQfwW.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nregister(t46);\nconst _sfc_main = {\n  name: \"NcActionInput\",\n  components: {\n    NcDateTimePickerNative,\n    NcPasswordField,\n    NcTextField: _sfc_main$1,\n    // Lazy load components with more than 50kB bundle size impact\n    NcColorPicker: defineAsyncComponent(() => import(\"../components/NcColorPicker/index.mjs\")),\n    NcDateTimePicker: defineAsyncComponent(() => import(\"../components/NcDateTimePicker/index.mjs\")),\n    NcSelect: defineAsyncComponent(() => import(\"../components/NcSelect/index.mjs\"))\n  },\n  mixins: [ActionGlobalMixin],\n  inheritAttrs: false,\n  props: {\n    /**\n     * id attribute of the checkbox element\n     */\n    id: {\n      type: String,\n      default: () => \"action-\" + createElementId(),\n      validator: (id) => id.trim() !== \"\"\n    },\n    /**\n     * id attribute of the text input element\n     */\n    inputId: {\n      type: String,\n      default: () => \"action-input-\" + createElementId(),\n      validator: (id) => id.trim() !== \"\"\n    },\n    /**\n     * Icon to show with the action, can be either a CSS class or an URL\n     */\n    icon: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * type attribute of the input field\n     */\n    type: {\n      type: String,\n      default: \"text\",\n      validator(type) {\n        return [\n          \"date\",\n          \"datetime-local\",\n          \"month\",\n          \"multiselect\",\n          \"number\",\n          \"password\",\n          \"search\",\n          \"tel\",\n          \"text\",\n          \"time\",\n          \"url\",\n          \"week\",\n          \"color\",\n          \"email\"\n        ].includes(type);\n      }\n    },\n    /**\n     * id attribute for the native date time picker\n     */\n    idNativeDateTimePicker: {\n      type: String,\n      default: \"date-time-picker_id\"\n    },\n    /**\n     * Flag to use a native date time picker\n     */\n    isNativePicker: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * The visible input label for accessibility purposes.\n     */\n    label: {\n      type: String,\n      default: null\n    },\n    /**\n     * If you want to show the label just above the\n     * input field, pass in `true` to this prop.\n     */\n    labelOutside: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * value attribute of the input field\n     */\n    modelValue: {\n      type: [String, Date, Number, Array],\n      default: \"\"\n    },\n    /**\n     * disabled state of the input field\n     */\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * aria-label attribute of the input field\n     */\n    ariaLabel: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Attribute forwarded to the underlying NcPasswordField and NcTextField\n     */\n    showTrailingButton: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Trailing button label forwarded to the underlying NcTextField\n     */\n    trailingButtonLabel: {\n      type: String,\n      default: t(\"Submit\")\n    },\n    /**\n     * CSS class to apply to the root element.\n     */\n    class: {\n      type: [String, Array, Object],\n      default: \"\"\n    }\n  },\n  emits: [\n    \"submit\",\n    \"update:modelValue\"\n  ],\n  computed: {\n    isIconUrl() {\n      try {\n        return new URL(this.icon);\n      } catch {\n        return false;\n      }\n    },\n    isMultiselectType() {\n      return this.type === \"multiselect\";\n    },\n    nativeDatePickerType() {\n      switch (this.type) {\n        case \"date\":\n        case \"month\":\n        case \"time\":\n        case \"week\":\n        case \"datetime-local\":\n          return this.type;\n      }\n      return false;\n    },\n    datePickerType() {\n      if (!this.isNativePicker) {\n        switch (this.type) {\n          case \"date\":\n          case \"month\":\n          case \"time\":\n            return this.type;\n          case \"datetime-local\":\n            return \"datetime\";\n        }\n      }\n      return false;\n    },\n    /**\n     * determines if the action is focusable\n     *\n     * @return {boolean} is the action focusable ?\n     */\n    isFocusable() {\n      return !this.disabled;\n    }\n  },\n  methods: {\n    // closing datepicker popup on mouseleave = unfocus\n    onLeave() {\n      if (this.$refs.datetimepicker && this.$refs.datetimepicker.$refs.datepicker) {\n        this.$refs.datetimepicker.$refs.datepicker.closePopup();\n      }\n    },\n    onSubmit(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (!this.disabled) {\n        this.$emit(\"submit\", event);\n      } else {\n        return false;\n      }\n    },\n    onUpdateModelValue(event) {\n      this.$emit(\"update:modelValue\", event);\n    }\n  }\n};\nconst _hoisted_1 = { class: \"action-input__icon-wrapper\" };\nconst _hoisted_2 = [\"disabled\"];\nconst _hoisted_3 = { class: \"action-input__container\" };\nconst _hoisted_4 = [\"for\"];\nconst _hoisted_5 = { class: \"action-input__input-container\" };\nconst _hoisted_6 = {\n  key: 4,\n  class: \"action-input__container\"\n};\nconst _hoisted_7 = [\"for\"];\nconst _hoisted_8 = { class: \"action-input__input-container\" };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcDateTimePicker = resolveComponent(\"NcDateTimePicker\");\n  const _component_NcDateTimePickerNative = resolveComponent(\"NcDateTimePickerNative\");\n  const _component_NcSelect = resolveComponent(\"NcSelect\");\n  const _component_NcPasswordField = resolveComponent(\"NcPasswordField\");\n  const _component_NcColorPicker = resolveComponent(\"NcColorPicker\");\n  const _component_NcTextField = resolveComponent(\"NcTextField\");\n  return openBlock(), createElementBlock(\"li\", {\n    class: normalizeClass([\"action\", [{ \"action--disabled\": $props.disabled }, _ctx.$props.class]])\n  }, [\n    createElementVNode(\"span\", {\n      class: normalizeClass([\"action-input\", {\n        \"action-input-picker--disabled\": $props.disabled,\n        \"action-input--visible-label\": $props.labelOutside && $props.label\n      }]),\n      onMouseleave: _cache[3] || (_cache[3] = (...args) => $options.onLeave && $options.onLeave(...args))\n    }, [\n      createElementVNode(\"span\", _hoisted_1, [\n        renderSlot(_ctx.$slots, \"icon\", {}, () => [\n          createElementVNode(\"span\", {\n            \"aria-hidden\": \"true\",\n            class: normalizeClass([\"action-input__icon\", [$options.isIconUrl ? \"action-input__icon--url\" : $props.icon]]),\n            style: normalizeStyle({ backgroundImage: $options.isIconUrl ? `url(${$props.icon})` : null })\n          }, null, 6)\n        ], true)\n      ]),\n      createElementVNode(\"form\", {\n        ref: \"form\",\n        class: \"action-input__form\",\n        disabled: $props.disabled,\n        onSubmit: _cache[2] || (_cache[2] = withModifiers((...args) => $options.onSubmit && $options.onSubmit(...args), [\"prevent\"]))\n      }, [\n        createElementVNode(\"div\", _hoisted_3, [\n          $props.label && $props.labelOutside ? (openBlock(), createElementBlock(\"label\", {\n            key: 0,\n            class: normalizeClass([\"action-input__text-label\", { \"action-input__text-label--hidden\": !$props.labelOutside }]),\n            for: $props.inputId\n          }, toDisplayString($props.label), 11, _hoisted_4)) : createCommentVNode(\"\", true),\n          createElementVNode(\"div\", _hoisted_5, [\n            $options.datePickerType ? (openBlock(), createBlock(_component_NcDateTimePicker, mergeProps({\n              key: 0,\n              ref: \"datetimepicker\",\n              \"model-value\": $props.modelValue,\n              style: { \"z-index\": \"99999999999\" },\n              placeholder: _ctx.text,\n              disabled: $props.disabled,\n              type: $options.datePickerType,\n              \"input-class\": [\"mx-input\", { focusable: $options.isFocusable }],\n              class: \"action-input__datetimepicker\"\n            }, _ctx.$attrs, { \"onUpdate:modelValue\": $options.onUpdateModelValue }), null, 16, [\"model-value\", \"placeholder\", \"disabled\", \"type\", \"input-class\", \"onUpdate:modelValue\"])) : $props.isNativePicker ? (openBlock(), createBlock(_component_NcDateTimePickerNative, mergeProps({\n              key: 1,\n              id: $props.idNativeDateTimePicker,\n              \"model-value\": $props.modelValue,\n              type: $options.nativeDatePickerType,\n              \"input-class\": { focusable: $options.isFocusable },\n              class: \"action-input__datetimepicker\"\n            }, _ctx.$attrs, { \"onUpdate:modelValue\": $options.onUpdateModelValue }), null, 16, [\"id\", \"model-value\", \"type\", \"input-class\", \"onUpdate:modelValue\"])) : $options.isMultiselectType ? (openBlock(), createBlock(_component_NcSelect, mergeProps({\n              key: 2,\n              \"model-value\": $props.modelValue,\n              placeholder: _ctx.text,\n              disabled: $props.disabled,\n              \"append-to-body\": false,\n              \"input-class\": { focusable: $options.isFocusable },\n              class: \"action-input__multi\"\n            }, _ctx.$attrs, { \"onUpdate:modelValue\": $options.onUpdateModelValue }), null, 16, [\"model-value\", \"placeholder\", \"disabled\", \"input-class\", \"onUpdate:modelValue\"])) : $props.type === \"password\" ? (openBlock(), createBlock(_component_NcPasswordField, mergeProps({\n              key: 3,\n              id: $props.inputId,\n              \"model-value\": $props.modelValue,\n              label: $props.label,\n              \"label-outside\": !$props.label || $props.labelOutside,\n              placeholder: _ctx.text,\n              disabled: $props.disabled,\n              \"input-class\": { focusable: $options.isFocusable },\n              \"show-trailing-button\": $props.showTrailingButton && !$props.disabled\n            }, _ctx.$attrs, { \"onUpdate:modelValue\": $options.onUpdateModelValue }), null, 16, [\"id\", \"model-value\", \"label\", \"label-outside\", \"placeholder\", \"disabled\", \"input-class\", \"show-trailing-button\", \"onUpdate:modelValue\"])) : $props.type === \"color\" ? (openBlock(), createElementBlock(\"div\", _hoisted_6, [\n              $props.label && $props.type === \"color\" ? (openBlock(), createElementBlock(\"label\", {\n                key: 0,\n                class: normalizeClass([\"action-input__text-label\", { \"action-input__text-label--hidden\": !$props.labelOutside }]),\n                for: $props.inputId\n              }, toDisplayString($props.label), 11, _hoisted_7)) : createCommentVNode(\"\", true),\n              createElementVNode(\"div\", _hoisted_8, [\n                createVNode(_component_NcColorPicker, mergeProps({\n                  id: \"inputId\",\n                  \"model-value\": $props.modelValue,\n                  class: \"colorpicker__trigger\"\n                }, _ctx.$attrs, {\n                  \"onUpdate:modelValue\": $options.onUpdateModelValue,\n                  onSubmit: _cache[0] || (_cache[0] = ($event) => _ctx.$refs.form.requestSubmit())\n                }), {\n                  default: withCtx(() => [\n                    createElementVNode(\"button\", {\n                      class: normalizeClass([\"colorpicker__preview\", { focusable: $options.isFocusable }]),\n                      style: normalizeStyle({ \"background-color\": $props.modelValue })\n                    }, null, 6)\n                  ]),\n                  _: 1\n                }, 16, [\"model-value\", \"onUpdate:modelValue\"])\n              ])\n            ])) : (openBlock(), createBlock(_component_NcTextField, mergeProps({\n              key: 5,\n              id: $props.inputId,\n              \"model-value\": $props.modelValue,\n              label: $props.label,\n              \"label-outside\": !$props.label || $props.labelOutside,\n              placeholder: _ctx.text,\n              disabled: $props.disabled,\n              \"input-class\": { focusable: $options.isFocusable },\n              type: $props.type,\n              \"trailing-button-icon\": \"arrowRight\",\n              \"trailing-button-label\": $props.trailingButtonLabel,\n              \"show-trailing-button\": $props.showTrailingButton && !$props.disabled\n            }, _ctx.$attrs, {\n              onTrailingButtonClick: _cache[1] || (_cache[1] = ($event) => _ctx.$refs.form.requestSubmit()),\n              \"onUpdate:modelValue\": $options.onUpdateModelValue\n            }), null, 16, [\"id\", \"model-value\", \"label\", \"label-outside\", \"placeholder\", \"disabled\", \"input-class\", \"type\", \"trailing-button-label\", \"show-trailing-button\", \"onUpdate:modelValue\"]))\n          ])\n        ])\n      ], 40, _hoisted_2)\n    ], 34)\n  ], 2);\n}\nconst NcActionInput = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__scopeId\", \"data-v-0fc02b30\"]]);\nexport {\n  NcActionInput as N\n};\n//# sourceMappingURL=NcActionInput-_ccoTcPV.mjs.map\n","import '../assets/NcPopover-CZ3pMU6Y.css';\nimport { options, Dropdown } from \"floating-vue\";\nimport { createFocusTrap } from \"focus-trap\";\nimport { defineComponent, warn, resolveComponent, createBlock, openBlock, withCtx, createVNode, renderSlot, normalizeProps, guardReactiveProps } from \"vue\";\nimport { g as getTrapStack } from \"./focusTrap-HJQ4pqHV.mjs\";\nimport { l as logger } from \"./logger-D3RVzcfQ.mjs\";\nimport { i as isRtl } from \"./rtl-v0UOPAM7.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nconst _sfc_main$1 = defineComponent({\n  name: \"NcPopoverTriggerProvider\",\n  provide() {\n    return {\n      \"NcPopover:trigger:shown\": () => this.shown,\n      \"NcPopover:trigger:attrs\": () => this.triggerAttrs\n    };\n  },\n  props: {\n    /**\n     * Is the popover currently shown\n     */\n    shown: {\n      type: Boolean,\n      required: true\n    },\n    /**\n     * ARIA Role of the popup\n     */\n    popupRole: {\n      type: String,\n      default: void 0\n    }\n  },\n  computed: {\n    triggerAttrs() {\n      return {\n        \"aria-haspopup\": this.popupRole,\n        \"aria-expanded\": this.shown.toString()\n      };\n    }\n  },\n  render() {\n    return this.$slots.default?.({\n      attrs: this.triggerAttrs\n    });\n  }\n});\nconst ncPopover = \"_ncPopover_wpltc_20\";\nconst style0 = {\n  \"material-design-icon\": \"_material-design-icon_wpltc_12\",\n  ncPopover\n};\nconst theme = \"nc-popover-9\";\noptions.themes[theme] = structuredClone(options.themes.dropdown);\nconst _sfc_main = {\n  name: \"NcPopover\",\n  components: {\n    Dropdown,\n    NcPopoverTriggerProvider: _sfc_main$1\n  },\n  props: {\n    /**\n     * Element to use for calculating the popper boundary (size and position).\n     * Either a query string or the actual HTMLElement.\n     */\n    boundary: {\n      type: [String, Object],\n      default: \"\"\n    },\n    /**\n     * Automatically hide the popover on click outside.\n     *\n     * @deprecated Use `no-close-on-click-outside` instead (inverted value)\n     */\n    closeOnClickOutside: {\n      type: Boolean,\n      // eslint-disable-next-line vue/no-boolean-default\n      default: true\n    },\n    /**\n     * Disable the automatic popover hide on click outside.\n     */\n    noCloseOnClickOutside: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Container where to mount the popover.\n     * Either a select query or `false` to mount to the parent node.\n     */\n    container: {\n      type: [Boolean, String],\n      default: \"body\"\n    },\n    /**\n     * Delay for showing or hiding the popover.\n     *\n     * Can either be a number or an object to configure different delays (`{ show: number, hide: number }`).\n     */\n    delay: {\n      type: [Number, Object],\n      default: 0\n    },\n    /**\n     * Disable the popover focus trap.\n     */\n    noFocusTrap: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Where to place the popover.\n     *\n     * This consists of the vertical placement and the horizontal placement.\n     * E.g. `bottom` will place the popover on the bottom of the trigger (horizontally centered),\n     * while `buttom-start` will horizontally align the popover on the logical start (e.g. for LTR layout on the left.).\n     * The `start` or `end` placement will align the popover on the left or right side or the trigger element.\n     *\n     * @type {'auto'|'auto-start'|'auto-end'|'top'|'top-start'|'top-end'|'bottom'|'bottom-start'|'bottom-end'|'start'|'end'}\n     */\n    placement: {\n      type: String,\n      default: \"bottom\"\n    },\n    /**\n     * Class to be applied to the popover base\n     */\n    popoverBaseClass: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Events that trigger the popover on the popover container itself.\n     * This is useful if you set `triggers` to `hover` and also want the popover to stay open while hovering the popover itself.\n     *\n     * It is possible to also pass an object to define different triggers for hide and show `{ show: ['hover'], hide: ['click'] }`.\n     */\n    popoverTriggers: {\n      type: [Array, Object],\n      default: null\n    },\n    /**\n     * Popup role\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-haspopup#values\n     */\n    popupRole: {\n      type: String,\n      default: void 0,\n      validator: (value) => [\"menu\", \"listbox\", \"tree\", \"grid\", \"dialog\", \"true\"].includes(value)\n    },\n    /**\n     * Set element to return focus to after focus trap deactivation\n     *\n     * @type {SetReturnFocus}\n     */\n    setReturnFocus: {\n      default: void 0,\n      type: [Boolean, HTMLElement, SVGElement, String, Function]\n    },\n    /**\n     * Show or hide the popper\n     */\n    shown: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Events that trigger the popover.\n     *\n     * If you pass an empty array then only the `shown` prop can control the popover state.\n     * Following events are available:\n     * - `'hover'`\n     * - `'click'`\n     * - `'focus'`\n     * - `'touch'`\n     *\n     * It is also possible to pass an object to have different events for show and hide:\n     * `{ hide: ['click'], show: ['click', 'hover'] }`\n     */\n    triggers: {\n      type: [Array, Object],\n      default: () => [\"click\"]\n    }\n  },\n  emits: [\n    \"afterShow\",\n    \"afterHide\",\n    \"update:shown\"\n  ],\n  setup() {\n    return {\n      theme\n    };\n  },\n  data() {\n    return {\n      internalShown: this.shown\n    };\n  },\n  computed: {\n    popperTriggers() {\n      if (this.popoverTriggers && Array.isArray(this.popoverTriggers)) {\n        return this.popoverTriggers;\n      }\n      return void 0;\n    },\n    popperHideTriggers() {\n      if (this.popoverTriggers && typeof this.popoverTriggers === \"object\") {\n        return this.popoverTriggers.hide;\n      }\n      return void 0;\n    },\n    popperShowTriggers() {\n      if (this.popoverTriggers && typeof this.popoverTriggers === \"object\") {\n        return this.popoverTriggers.show;\n      }\n      return void 0;\n    },\n    internalTriggers() {\n      if (this.triggers && Array.isArray(this.triggers)) {\n        return this.triggers;\n      }\n      return void 0;\n    },\n    hideTriggers() {\n      if (this.triggers && typeof this.triggers === \"object\") {\n        return this.triggers.hide;\n      }\n      return void 0;\n    },\n    showTriggers() {\n      if (this.triggers && typeof this.triggers === \"object\") {\n        return this.triggers.show;\n      }\n      return void 0;\n    },\n    internalPlacement() {\n      if (this.placement === \"start\") {\n        return isRtl ? \"right\" : \"left\";\n      } else if (this.placement === \"end\") {\n        return isRtl ? \"left\" : \"right\";\n      }\n      return this.placement;\n    }\n  },\n  watch: {\n    shown(value) {\n      this.internalShown = value;\n    },\n    internalShown(value) {\n      this.$emit(\"update:shown\", value);\n    }\n  },\n  mounted() {\n    this.checkTriggerA11y();\n  },\n  beforeUnmount() {\n    this.clearFocusTrap();\n    this.clearEscapeStopPropagation();\n  },\n  methods: {\n    /**\n     * Check if the trigger has all required a11y attributes.\n     * Important to check custom trigger button.\n     */\n    checkTriggerA11y() {\n      if (window.OC?.debug) {\n        const triggerContainer = this.getPopoverTriggerContainerElement();\n        const requiredTriggerButton = triggerContainer.querySelector(\"[aria-expanded]\");\n        if (!requiredTriggerButton) {\n          warn(\"It looks like you are using a custom button as a <NcPopover> or other popover #trigger. If you are not using <NcButton> as a trigger, you need to bind attrs from the #trigger slot props to your custom button. See <NcPopover> docs for an example.\");\n        }\n      }\n    },\n    /**\n     * Remove incorrect aria-describedby attribute from the trigger.\n     *\n     * @see https://github.com/Akryum/floating-vue/blob/8d4f7125aae0e3ea00ba4093d6d2001ab15058f1/packages/floating-vue/src/components/Popper.ts#L734\n     */\n    removeFloatingVueAriaDescribedBy() {\n      const triggerContainer = this.getPopoverTriggerContainerElement();\n      const triggerElements = triggerContainer.querySelectorAll(\"[data-popper-shown]\");\n      for (const el of triggerElements) {\n        el.removeAttribute(\"aria-describedby\");\n      }\n    },\n    /**\n     * @return {HTMLElement|undefined}\n     */\n    getPopoverContentElement() {\n      return this.$refs.popover?.$refs.popperContent?.$el;\n    },\n    /**\n     * @return {HTMLElement|undefined}\n     */\n    getPopoverTriggerContainerElement() {\n      return this.$refs.popover?.$refs.popper?.$refs.reference;\n    },\n    /**\n     * Add focus trap for accessibility.\n     */\n    async useFocusTrap() {\n      await this.$nextTick();\n      if (this.noFocusTrap) {\n        return;\n      }\n      const el = this.getPopoverContentElement();\n      el.tabIndex = -1;\n      if (!el) {\n        return;\n      }\n      this.$focusTrap = createFocusTrap(el, {\n        // Prevents to lose focus using esc key\n        // Focus will be release when popover be hide\n        escapeDeactivates: false,\n        allowOutsideClick: true,\n        setReturnFocus: this.setReturnFocus,\n        trapStack: getTrapStack(),\n        fallBackFocus: el\n      });\n      this.$focusTrap.activate();\n    },\n    /**\n     * Remove focus trap\n     *\n     * @param {object} options The configuration options for focusTrap\n     */\n    clearFocusTrap(options2 = {}) {\n      try {\n        this.$focusTrap?.deactivate(options2);\n        this.$focusTrap = null;\n      } catch (error) {\n        logger.warn(\"[NcPopover] Failed to clear focus trap\", { error });\n      }\n    },\n    /**\n     * Add stopPropagation for Escape.\n     * It prevents global Escape handling after closing popover.\n     *\n     * Manual event handling is used here instead of v-on because there is no direct access to the node.\n     * Alternative - wrap <template #popover> in a div wrapper.\n     */\n    addEscapeStopPropagation() {\n      const el = this.getPopoverContentElement();\n      el?.addEventListener(\"keydown\", this.stopKeydownEscapeHandler);\n    },\n    /**\n     * Remove stop Escape handler\n     */\n    clearEscapeStopPropagation() {\n      const el = this.getPopoverContentElement();\n      el?.removeEventListener(\"keydown\", this.stopKeydownEscapeHandler);\n    },\n    /**\n     * @param {KeyboardEvent} event - native keydown event\n     */\n    stopKeydownEscapeHandler(event) {\n      if (event.type === \"keydown\" && event.key === \"Escape\") {\n        event.stopPropagation();\n      }\n    },\n    async afterShow() {\n      this.getPopoverContentElement().addEventListener(\"transitionend\", () => {\n        this.$emit(\"afterShow\");\n      }, { once: true, passive: true });\n      this.removeFloatingVueAriaDescribedBy();\n      await this.$nextTick();\n      await this.useFocusTrap();\n      this.addEscapeStopPropagation();\n    },\n    afterHide() {\n      this.getPopoverContentElement()?.addEventListener(\"transitionend\", () => {\n        this.$emit(\"afterHide\");\n      }, { once: true, passive: true });\n      this.clearFocusTrap();\n      this.clearEscapeStopPropagation();\n    }\n  }\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcPopoverTriggerProvider = resolveComponent(\"NcPopoverTriggerProvider\");\n  const _component_Dropdown = resolveComponent(\"Dropdown\");\n  return openBlock(), createBlock(_component_Dropdown, {\n    ref: \"popover\",\n    shown: $data.internalShown,\n    \"onUpdate:shown\": [\n      _cache[0] || (_cache[0] = ($event) => $data.internalShown = $event),\n      _cache[1] || (_cache[1] = ($event) => $data.internalShown = $event)\n    ],\n    \"arrow-padding\": 10,\n    \"auto-hide\": !$props.noCloseOnClickOutside && $props.closeOnClickOutside,\n    boundary: $props.boundary || void 0,\n    container: $props.container,\n    delay: $props.delay,\n    distance: 10,\n    \"handle-resize\": \"\",\n    \"no-auto-focus\": true,\n    placement: $options.internalPlacement,\n    \"popper-class\": [_ctx.$style.ncPopover, $props.popoverBaseClass],\n    \"popper-triggers\": $options.popperTriggers,\n    \"popper-hide-triggers\": $options.popperHideTriggers,\n    \"popper-show-triggers\": $options.popperShowTriggers,\n    theme: $setup.theme,\n    triggers: $options.internalTriggers,\n    \"hide-triggers\": $options.hideTriggers,\n    \"show-triggers\": $options.showTriggers,\n    onApplyShow: $options.afterShow,\n    onApplyHide: $options.afterHide\n  }, {\n    popper: withCtx((slotProps) => [\n      renderSlot(_ctx.$slots, \"default\", normalizeProps(guardReactiveProps(slotProps)))\n    ]),\n    default: withCtx(() => [\n      createVNode(_component_NcPopoverTriggerProvider, {\n        shown: $data.internalShown,\n        \"popup-role\": $props.popupRole\n      }, {\n        default: withCtx((slotProps) => [\n          renderSlot(_ctx.$slots, \"trigger\", normalizeProps(guardReactiveProps(slotProps)))\n        ]),\n        _: 3\n      }, 8, [\"shown\", \"popup-role\"])\n    ]),\n    _: 3\n  }, 8, [\"shown\", \"auto-hide\", \"boundary\", \"container\", \"delay\", \"placement\", \"popper-class\", \"popper-triggers\", \"popper-hide-triggers\", \"popper-show-triggers\", \"theme\", \"triggers\", \"hide-triggers\", \"show-triggers\", \"onApplyShow\", \"onApplyHide\"]);\n}\nconst cssModules = {\n  \"$style\": style0\n};\nconst NcPopover = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__cssModules\", cssModules]]);\nexport {\n  NcPopover as N\n};\n//# sourceMappingURL=NcPopover-C-MTaPCs.mjs.map\n","import '../assets/NcAppContent-w2GK951A.css';\nimport { getBuilder } from \"@nextcloud/browser-storage\";\nimport { getCapabilities } from \"@nextcloud/capabilities\";\nimport { emit } from \"@nextcloud/event-bus\";\nimport { loadState } from \"@nextcloud/initial-state\";\nimport { useSwipe } from \"@vueuse/core\";\nimport { Splitpanes, Pane } from \"splitpanes\";\nimport { defineComponent, watch, onBeforeUnmount, createBlock, openBlock, unref, normalizeClass, withCtx, createVNode, resolveComponent, createElementBlock, createCommentVNode, renderSlot, toDisplayString, Fragment, withDirectives, withModifiers, createElementVNode, vShow } from \"vue\";\nimport { m as mdiArrowRight } from \"./mdi-Cjx8NyEs.mjs\";\nimport { useIsMobile } from \"../composables/useIsMobile/index.mjs\";\nimport { r as register, a as t } from \"./_l10n-BPfpECk_.mjs\";\nimport { N as NcButton } from \"./NcButton-DkC5k3Lb.mjs\";\nimport { N as NcIconSvgWrapper } from \"./NcIconSvgWrapper-5AA93z-F.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { l as logger } from \"./logger-D3RVzcfQ.mjs\";\nimport { i as isRtl } from \"./rtl-v0UOPAM7.mjs\";\nimport \"splitpanes/dist/splitpanes.css\";\nregister();\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"NcAppContentDetailsToggle\",\n  setup(__props) {\n    const isMobile = useIsMobile();\n    watch(isMobile, toggleAppNavigationButton, { immediate: true });\n    onBeforeUnmount(() => {\n      if (isMobile.value) {\n        toggleAppNavigationButton(false);\n      }\n    });\n    function toggleAppNavigationButton(hide = true) {\n      const appNavigationToggle = document.querySelector(\".app-navigation .app-navigation-toggle\");\n      if (appNavigationToggle) {\n        appNavigationToggle.style.display = hide ? \"none\" : \"\";\n        if (hide === true) {\n          emit(\"toggle-navigation\", { open: false });\n        }\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcButton), {\n        \"aria-label\": unref(t)(\"Go back to the list\"),\n        class: normalizeClass([\"app-details-toggle\", { \"app-details-toggle--mobile\": unref(isMobile) }]),\n        title: unref(t)(\"Go back to the list\"),\n        variant: \"tertiary\"\n      }, {\n        icon: withCtx(() => [\n          createVNode(unref(NcIconSvgWrapper), {\n            directional: \"\",\n            path: unref(mdiArrowRight)\n          }, null, 8, [\"path\"])\n        ]),\n        _: 1\n      }, 8, [\"aria-label\", \"class\", \"title\"]);\n    };\n  }\n});\nconst NcAppContentDetailsToggle = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"__scopeId\", \"data-v-b3f8ea5e\"]]);\nlet realAppName = \"missing-app-name\";\ntry {\n  realAppName = appName;\n} catch {\n  logger.error(\"The `@nextcloud/vue` library was used without setting / replacing the `appName`.\");\n}\nconst APP_NAME = realAppName;\nconst browserStorage = getBuilder(\"nextcloud\").persist().build();\nconst instanceName = getCapabilities().theming?.name ?? \"Nextcloud\";\nconst activeApp = loadState(\"core\", \"active-app\", APP_NAME);\nconst localizedAppName = loadState(\"core\", \"apps\", []).find(({ id }) => id === activeApp)?.name ?? APP_NAME;\nconst _sfc_main = {\n  name: \"NcAppContent\",\n  components: {\n    NcAppContentDetailsToggle,\n    Pane,\n    Splitpanes\n  },\n  props: {\n    /**\n     * Allows to disable the control by swipe of the app navigation open state.\n     */\n    disableSwipe: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Allows you to set the default width of the resizable list in % on vertical-split\n     * or respectively the default height on horizontal-split.\n     *\n     * Must be between `listMinWidth` and `listMaxWidth`.\n     */\n    listSize: {\n      type: Number,\n      default: 20\n    },\n    /**\n     * Allows you to set the minimum width of the list column in % on vertical-split\n     * or respectively the minimum height on horizontal-split.\n     */\n    listMinWidth: {\n      type: Number,\n      default: 15\n    },\n    /**\n     * Allows you to set the maximum width of the list column in % on vertical-split\n     * or respectively the maximum height on horizontal-split.\n     */\n    listMaxWidth: {\n      type: Number,\n      default: 40\n    },\n    /**\n     * Specify the config key for the pane config sizes\n     * Default is the global var appName if you use the webpack-vue-config\n     */\n    paneConfigKey: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * When in mobile view, only the list or the details are shown.\n     *\n     * If you provide a list, you need to provide a variable\n     * that will be set to true by the user when an element of\n     * the list gets selected. The details will then show a back\n     * arrow to return to the list that will update this prop to false.\n     */\n    showDetails: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Content layout used when there is a list together with content:\n     * - `vertical-split` - a 2-column layout with list and default content separated vertically\n     * - `no-split` - a single column layout; List is shown when `showDetails` is `false`, otherwise the default slot content is shown with a back button to return to the list.\n     * - 'horizontal-split' - a 2-column layout with list and default content separated horizontally\n     * On mobile screen `no-split` layout is forced.\n     */\n    layout: {\n      type: String,\n      default: \"vertical-split\",\n      validator(value) {\n        return [\"no-split\", \"vertical-split\", \"horizontal-split\"].includes(value);\n      }\n    },\n    /**\n     * Specify the `<h1>` page heading\n     */\n    pageHeading: {\n      type: String,\n      default: null\n    },\n    /**\n     * Allow setting the page's `<title>`\n     *\n     * If a page heading is set it defaults to `{pageHeading} - {appName} - {instanceName}` e.g. `Favorites - Files - MyPersonalCloud`.\n     * When the page heading and the app name is the same only one is used, e.g. `Files - Files - MyPersonalCloud` is shown as `Files - MyPersonalCloud`.\n     * When setting the prop then the following format will be used: `{pageTitle} - {instanceName}`\n     */\n    pageTitle: {\n      type: String,\n      default: null\n    }\n  },\n  emits: [\n    \"update:showDetails\",\n    \"resizeList\"\n  ],\n  setup() {\n    return {\n      isMobile: useIsMobile(),\n      isRtl\n    };\n  },\n  data() {\n    return {\n      contentHeight: 0,\n      swiping: {},\n      listPaneSize: this.restorePaneConfig()\n    };\n  },\n  computed: {\n    paneConfigID() {\n      if (this.paneConfigKey !== \"\") {\n        return `pane-list-size-${this.paneConfigKey}`;\n      }\n      try {\n        return `pane-list-size-${APP_NAME}`;\n      } catch {\n        logger.info(\"[NcAppContent]: falling back to global nextcloud pane config\");\n        return \"pane-list-size-nextcloud\";\n      }\n    },\n    detailsPaneSize() {\n      if (this.listPaneSize) {\n        return 100 - this.listPaneSize;\n      }\n      return this.paneDefaults.details.size;\n    },\n    paneDefaults() {\n      return {\n        list: {\n          size: this.listSize,\n          min: this.listMinWidth,\n          max: this.listMaxWidth\n        },\n        // set the inverse values of the details column\n        // based on the provided (or default) values of the list column\n        details: {\n          size: 100 - this.listSize,\n          min: 100 - this.listMaxWidth,\n          max: 100 - this.listMinWidth\n        }\n      };\n    },\n    realPageTitle() {\n      const entries = /* @__PURE__ */ new Set();\n      if (this.pageTitle) {\n        for (const part of this.pageTitle.split(\" - \")) {\n          entries.add(part);\n        }\n      } else if (this.pageHeading) {\n        for (const part of this.pageHeading.split(\" - \")) {\n          entries.add(part);\n        }\n        if (entries.size > 0) {\n          entries.add(localizedAppName);\n        }\n      } else {\n        return null;\n      }\n      entries.add(instanceName);\n      return [...entries.values()].join(\" - \");\n    }\n  },\n  watch: {\n    realPageTitle: {\n      immediate: true,\n      handler() {\n        if (this.realPageTitle !== null) {\n          document.title = this.realPageTitle;\n        }\n      }\n    },\n    paneConfigKey: {\n      immediate: true,\n      handler() {\n        this.restorePaneConfig();\n      }\n    }\n  },\n  mounted() {\n    if (!this.disableSwipe) {\n      this.swiping = useSwipe(this.$el, {\n        onSwipeEnd: this.handleSwipe\n      });\n    }\n    this.restorePaneConfig();\n  },\n  methods: {\n    /**\n     * handle the swipe event\n     *\n     * @param {TouchEvent} e The touch event\n     * @param {import('@vueuse/core').SwipeDirection} direction The swipe direction of the event\n     */\n    handleSwipe(e, direction) {\n      const minSwipeX = 70;\n      const touchZone = 300;\n      if (Math.abs(this.swiping.lengthX) > minSwipeX) {\n        if (this.swiping.coordsStart.x < touchZone / 2 && direction === \"right\") {\n          emit(\"toggle-navigation\", {\n            open: true\n          });\n        } else if (this.swiping.coordsStart.x < touchZone * 1.5 && direction === \"left\") {\n          emit(\"toggle-navigation\", {\n            open: false\n          });\n        }\n      }\n    },\n    handlePaneResize(event) {\n      const listPaneSize = parseInt(event.panes[0].size, 10);\n      browserStorage.setItem(this.paneConfigID, JSON.stringify(listPaneSize));\n      this.listPaneSize = listPaneSize;\n      this.$emit(\"resizeList\", { size: listPaneSize });\n      logger.debug(\"[NcAppContent] pane config\", { listPaneSize });\n    },\n    // browserStorage is not reactive, we need to update this manually\n    restorePaneConfig() {\n      const listPaneSize = parseInt(browserStorage.getItem(this.paneConfigID), 10);\n      if (!isNaN(listPaneSize) && listPaneSize !== this.listPaneSize) {\n        logger.debug(\"[NcAppContent] pane config\", { listPaneSize });\n        this.listPaneSize = listPaneSize;\n        return listPaneSize;\n      }\n    },\n    /**\n     * The user clicked the back arrow from the details view\n     */\n    hideDetails() {\n      this.$emit(\"update:showDetails\", false);\n    }\n  }\n};\nconst _hoisted_1 = {\n  key: 0,\n  class: \"hidden-visually\"\n};\nconst _hoisted_2 = {\n  key: 1,\n  class: \"app-content-wrapper\"\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcAppContentDetailsToggle = resolveComponent(\"NcAppContentDetailsToggle\");\n  const _component_Pane = resolveComponent(\"Pane\");\n  const _component_Splitpanes = resolveComponent(\"Splitpanes\");\n  return openBlock(), createElementBlock(\"main\", {\n    id: \"app-content-vue\",\n    class: normalizeClass([\"app-content no-snapper\", { \"app-content--has-list\": !!_ctx.$slots.list }])\n  }, [\n    $props.pageHeading ? (openBlock(), createElementBlock(\"h1\", _hoisted_1, toDisplayString($props.pageHeading), 1)) : createCommentVNode(\"\", true),\n    !!_ctx.$slots.list ? (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n      $setup.isMobile || $props.layout === \"no-split\" ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass([\"app-content-wrapper app-content-wrapper--no-split\", {\n          \"app-content-wrapper--show-details\": $props.showDetails,\n          \"app-content-wrapper--show-list\": !$props.showDetails,\n          \"app-content-wrapper--mobile\": $setup.isMobile\n        }])\n      }, [\n        $props.showDetails ? (openBlock(), createBlock(_component_NcAppContentDetailsToggle, {\n          key: 0,\n          onClick: withModifiers($options.hideDetails, [\"stop\", \"prevent\"])\n        }, null, 8, [\"onClick\"])) : createCommentVNode(\"\", true),\n        withDirectives(createElementVNode(\"div\", null, [\n          renderSlot(_ctx.$slots, \"list\", {}, void 0, true)\n        ], 512), [\n          [vShow, !$props.showDetails]\n        ]),\n        $props.showDetails ? renderSlot(_ctx.$slots, \"default\", { key: 1 }, void 0, true) : createCommentVNode(\"\", true)\n      ], 2)) : $props.layout === \"vertical-split\" || $props.layout === \"horizontal-split\" ? (openBlock(), createElementBlock(\"div\", _hoisted_2, [\n        createVNode(_component_Splitpanes, {\n          horizontal: $props.layout === \"horizontal-split\",\n          class: normalizeClass([\"default-theme\", {\n            \"splitpanes--horizontal\": $props.layout === \"horizontal-split\",\n            \"splitpanes--vertical\": $props.layout === \"vertical-split\"\n          }]),\n          rtl: $setup.isRtl,\n          onResized: $options.handlePaneResize\n        }, {\n          default: withCtx(() => [\n            createVNode(_component_Pane, {\n              class: \"splitpanes__pane-list\",\n              size: $data.listPaneSize || $options.paneDefaults.list.size,\n              \"min-size\": $options.paneDefaults.list.min,\n              \"max-size\": $options.paneDefaults.list.max\n            }, {\n              default: withCtx(() => [\n                renderSlot(_ctx.$slots, \"list\", {}, void 0, true)\n              ]),\n              _: 3\n            }, 8, [\"size\", \"min-size\", \"max-size\"]),\n            createVNode(_component_Pane, {\n              class: \"splitpanes__pane-details\",\n              size: $options.detailsPaneSize,\n              \"min-size\": $options.paneDefaults.details.min,\n              \"max-size\": $options.paneDefaults.details.max\n            }, {\n              default: withCtx(() => [\n                renderSlot(_ctx.$slots, \"default\", {}, void 0, true)\n              ]),\n              _: 3\n            }, 8, [\"size\", \"min-size\", \"max-size\"])\n          ]),\n          _: 3\n        }, 8, [\"horizontal\", \"class\", \"rtl\", \"onResized\"])\n      ])) : createCommentVNode(\"\", true)\n    ], 64)) : createCommentVNode(\"\", true),\n    !_ctx.$slots.list ? renderSlot(_ctx.$slots, \"default\", { key: 2 }, void 0, true) : createCommentVNode(\"\", true)\n  ], 2);\n}\nconst NcAppContent = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__scopeId\", \"data-v-4d51da87\"]]);\nexport {\n  NcAppContent as N\n};\n//# sourceMappingURL=NcAppContent-CFhtQHrc.mjs.map\n","import '../assets/NcAppNavigationItem-6ZUh2hMu.css';\nimport { createElementBlock, openBlock, mergeProps, createElementVNode, createCommentVNode, toDisplayString, resolveComponent, createBlock, normalizeClass, withCtx, resolveDynamicComponent, normalizeProps, guardReactiveProps, renderSlot, withKeys, withModifiers, createVNode, createTextVNode } from \"vue\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { C as ChevronDown } from \"./ChevronDown-FiGpp0KT.mjs\";\nimport { C as ChevronUp } from \"./ChevronUp-DPXFp1ss.mjs\";\nimport { r as register, w as t21, a as t, x as t48, y as t22 } from \"./_l10n-BPfpECk_.mjs\";\nimport { N as NcButton } from \"./NcButton-DkC5k3Lb.mjs\";\nimport { N as NcInputConfirmCancel } from \"./NcInputConfirmCancel-D3HznHAG.mjs\";\nimport { useIsMobile } from \"../composables/useIsMobile/index.mjs\";\nimport { c as createElementId } from \"./createElementId-DhjFt1I9.mjs\";\nimport { N as NcActionButton } from \"./NcActionButton-BAaRMesp.mjs\";\nimport { N as NcActions } from \"./NcActions-Ccr8kkyh.mjs\";\nimport { N as NcLoadingIcon } from \"./NcLoadingIcon-b_ajZ_nQ.mjs\";\nimport { _ as _sfc_main$4 } from \"./NcVNodes.vue_vue_type_script_lang-BqUHinRZ.mjs\";\nconst _sfc_main$3 = {\n  name: \"PencilIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$2 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$2 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$2 = { d: \"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z\" };\nconst _hoisted_4$2 = { key: 0 };\nfunction _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon pencil-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$2, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$2, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$2))\n  ], 16, _hoisted_1$2);\n}\nconst Pencil = /* @__PURE__ */ _export_sfc(_sfc_main$3, [[\"render\", _sfc_render$3]]);\nconst _sfc_main$2 = {\n  name: \"UndoIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$1 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$1 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$1 = { d: \"M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z\" };\nconst _hoisted_4$1 = { key: 0 };\nfunction _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon undo-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$1, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$1, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$1))\n  ], 16, _hoisted_1$1);\n}\nconst Undo = /* @__PURE__ */ _export_sfc(_sfc_main$2, [[\"render\", _sfc_render$2]]);\nregister(t21);\nconst _sfc_main$1 = {\n  name: \"NcAppNavigationIconCollapsible\",\n  components: {\n    NcButton,\n    ChevronDown,\n    ChevronUp\n  },\n  props: {\n    /**\n     * Is the list currently open (or collapsed)\n     */\n    open: {\n      type: Boolean,\n      required: true\n    },\n    /**\n     * Is the navigation item currently active.\n     */\n    active: {\n      type: Boolean,\n      required: true\n    }\n  },\n  emits: [\"click\"],\n  computed: {\n    labelButton() {\n      return this.open ? t(\"Collapse menu\") : t(\"Open menu\");\n    }\n  },\n  methods: {\n    onClick(e) {\n      this.$emit(\"click\", e);\n    }\n  }\n};\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ChevronUp = resolveComponent(\"ChevronUp\");\n  const _component_ChevronDown = resolveComponent(\"ChevronDown\");\n  const _component_NcButton = resolveComponent(\"NcButton\");\n  return openBlock(), createBlock(_component_NcButton, {\n    class: normalizeClass([\"icon-collapse\", {\n      \"icon-collapse--active\": $props.active,\n      \"icon-collapse--open\": $props.open\n    }]),\n    \"aria-label\": $options.labelButton,\n    variant: $props.active ? \"tertiary-on-primary\" : \"tertiary\",\n    onClick: $options.onClick\n  }, {\n    icon: withCtx(() => [\n      $props.open ? (openBlock(), createBlock(_component_ChevronUp, {\n        key: 0,\n        size: 20\n      })) : (openBlock(), createBlock(_component_ChevronDown, {\n        key: 1,\n        size: 20\n      }))\n    ]),\n    _: 1\n  }, 8, [\"class\", \"aria-label\", \"variant\", \"onClick\"]);\n}\nconst NcAppNavigationIconCollapsible = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"render\", _sfc_render$1], [\"__scopeId\", \"data-v-e6236e50\"]]);\nregister(t22, t48);\nconst _sfc_main = {\n  name: \"NcAppNavigationItem\",\n  components: {\n    NcActions,\n    NcActionButton,\n    NcAppNavigationIconCollapsible,\n    NcInputConfirmCancel,\n    NcLoadingIcon,\n    NcVNodes: _sfc_main$4,\n    Pencil,\n    Undo\n  },\n  props: {\n    /**\n     * If you are not using vue-router you can use the property to set this item as the active navigation entry.\n     * When using vue-router and the `to` property this is set automatically.\n     */\n    active: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * The main text content of the entry.\n     */\n    name: {\n      type: String,\n      required: true\n    },\n    /**\n     * The title attribute of the element.\n     */\n    title: {\n      type: String,\n      default: null\n    },\n    /**\n     * id attribute of the list item element\n     */\n    id: {\n      type: String,\n      default: () => createElementId(),\n      validator: (id) => id.trim() !== \"\"\n    },\n    /**\n     * Refers to the icon on the left, this prop accepts a class\n     * like 'icon-category-enabled'.\n     */\n    icon: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Displays a loading animated icon on the left of the element\n     * instead of the icon.\n     */\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Passing in a route will make the root element of this\n     * component a `<router-link />` that points to that route.\n     * By leaving this blank, the root element will be a `<li>`.\n     */\n    to: {\n      type: [String, Object],\n      default: null\n    },\n    /**\n     * A direct link. This will be used as the `href` attribute.\n     * This will ignore any `to` prop being defined.\n     */\n    href: {\n      type: String,\n      default: null\n    },\n    /**\n     * Gives the possibility to collapse the children elements into the\n     * parent element (true) or expands the children elements (false).\n     */\n    allowCollapse: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Makes the name of the item editable by providing an `ActionButton`\n     * component that toggles a form\n     */\n    editable: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Only for 'editable' items, sets label for the edit action button.\n     */\n    editLabel: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Only for items in 'editable' mode, sets the placeholder text for the editing form.\n     */\n    editPlaceholder: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Pins the item to the bottom left area, above the settings. Do not\n     * place 'non-pinned' `AppnavigationItem` components below `pinned`\n     * ones.\n     */\n    pinned: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Puts the item in the 'undo' state.\n     */\n    undo: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * The navigation collapsible state (synced)\n     */\n    open: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * The actions menu open state (synced)\n     */\n    menuOpen: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Force the actions to display in a three dot menu\n     */\n    forceMenu: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * The action's menu default icon\n     */\n    menuIcon: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * The action's menu direction\n     */\n    menuPlacement: {\n      type: String,\n      default: \"bottom\"\n    },\n    /**\n     * Entry aria details\n     */\n    ariaDescription: {\n      type: String,\n      default: null\n    },\n    /**\n     * To be used only when the elements in the actions menu are very important\n     */\n    forceDisplayActions: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Number of action items outside the menu\n     */\n    inlineActions: {\n      type: Number,\n      default: 0\n    }\n  },\n  emits: [\n    \"update:menuOpen\",\n    \"update:open\",\n    \"update:name\",\n    \"click\",\n    \"undo\"\n  ],\n  setup() {\n    return {\n      isMobile: useIsMobile()\n    };\n  },\n  data() {\n    return {\n      actionsBoundariesElement: void 0,\n      editingValue: \"\",\n      opened: this.open,\n      // Collapsible state\n      editingActive: false,\n      /**\n       * Tracks the open state of the actions menu\n       */\n      menuOpenLocalValue: false,\n      focused: false\n    };\n  },\n  computed: {\n    isRouterLink() {\n      return this.to && !this.href;\n    },\n    // Checks if the component is already a children of another\n    // instance of AppNavigationItem\n    canHaveChildren() {\n      if (this.$parent.$options._componentTag === \"AppNavigationItem\") {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    editButtonAriaLabel() {\n      return this.editLabel ? this.editLabel : t(\"Edit item\");\n    },\n    undoButtonAriaLabel() {\n      return t(\"Undo changes\");\n    }\n  },\n  watch: {\n    open(newVal) {\n      this.opened = newVal;\n    }\n  },\n  mounted() {\n    this.actionsBoundariesElement = document.querySelector(\"#content-vue\") || void 0;\n  },\n  methods: {\n    // sync opened menu state with prop\n    onMenuToggle(state) {\n      this.$emit(\"update:menuOpen\", state);\n      this.menuOpenLocalValue = state;\n    },\n    // toggle the collapsible state\n    toggleCollapse() {\n      this.opened = !this.opened;\n      this.$emit(\"update:open\", this.opened);\n    },\n    /**\n     * Handle link click\n     *\n     * @param {PointerEvent} event - Native click event\n     * @param {Function} [navigate] - VueRouter link's navigate if any\n     * @param {string} [routerLinkHref] - VueRouter link's href\n     */\n    onClick(event, navigate, routerLinkHref) {\n      this.$emit(\"click\", event);\n      if (event.metaKey || event.altKey || event.ctrlKey || event.shiftKey) {\n        return;\n      }\n      if (routerLinkHref) {\n        navigate?.(event);\n        event.preventDefault();\n      }\n    },\n    // Edition methods\n    handleEdit() {\n      this.editingValue = this.name;\n      this.editingActive = true;\n      this.onMenuToggle(false);\n      this.$nextTick(() => {\n        this.$refs.editingInput.focusInput();\n      });\n    },\n    cancelEditing() {\n      this.editingActive = false;\n    },\n    handleEditingDone() {\n      this.$emit(\"update:name\", this.editingValue);\n      this.editingValue = \"\";\n      this.editingActive = false;\n    },\n    // Undo methods\n    handleUndo() {\n      this.$emit(\"undo\");\n    },\n    /**\n     * Show actions upon focus\n     */\n    handleFocus() {\n      this.focused = true;\n    },\n    handleBlur() {\n      this.focused = false;\n    },\n    /**\n     * This method checks if the root element of the component is focused and\n     * if that's the case it focuses the actions button if available\n     *\n     * @param {Event} e the keydown event\n     */\n    handleTab(e) {\n      if (!this.$refs.actions) {\n        return;\n      }\n      if (this.focused) {\n        e.preventDefault();\n        this.$refs.actions.$refs.triggerButton.$el.focus();\n        this.focused = false;\n      } else {\n        this.$refs.actions.$refs.triggerButton.$el.blur();\n      }\n    },\n    /**\n     * Is this an external link\n     *\n     * @param {string} href The link to check\n     * @return {boolean} Whether it is external or not\n     */\n    isExternal(href) {\n      return href && href.match(/[a-z]+:\\/\\//i);\n    }\n  }\n};\nconst _hoisted_1 = [\"id\"];\nconst _hoisted_2 = [\"aria-current\", \"aria-description\", \"aria-expanded\", \"href\", \"target\", \"title\", \"onClick\"];\nconst _hoisted_3 = {\n  key: 0,\n  class: \"editingContainer\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"app-navigation-entry__deleted\"\n};\nconst _hoisted_5 = { class: \"app-navigation-entry__deleted-description\" };\nconst _hoisted_6 = {\n  key: 0,\n  class: \"app-navigation-entry__counter-wrapper\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"app-navigation-entry__children\"\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcLoadingIcon = resolveComponent(\"NcLoadingIcon\");\n  const _component_NcInputConfirmCancel = resolveComponent(\"NcInputConfirmCancel\");\n  const _component_Pencil = resolveComponent(\"Pencil\");\n  const _component_NcActionButton = resolveComponent(\"NcActionButton\");\n  const _component_Undo = resolveComponent(\"Undo\");\n  const _component_NcActions = resolveComponent(\"NcActions\");\n  const _component_NcAppNavigationIconCollapsible = resolveComponent(\"NcAppNavigationIconCollapsible\");\n  return openBlock(), createElementBlock(\"li\", {\n    id: $props.id,\n    class: normalizeClass([{\n      \"app-navigation-entry--opened\": $data.opened,\n      \"app-navigation-entry--pinned\": $props.pinned,\n      \"app-navigation-entry--collapsible\": $props.allowCollapse && !!_ctx.$slots.default\n    }, \"app-navigation-entry-wrapper\"])\n  }, [\n    (openBlock(), createBlock(resolveDynamicComponent($options.isRouterLink ? \"router-link\" : \"NcVNodes\"), normalizeProps(guardReactiveProps({ ...$options.isRouterLink && { custom: true, to: $props.to } })), {\n      default: withCtx(({ href: routerLinkHref, navigate, isActive }) => [\n        createElementVNode(\"div\", {\n          class: normalizeClass([\"app-navigation-entry\", {\n            \"app-navigation-entry--editing\": $data.editingActive,\n            \"app-navigation-entry--deleted\": $props.undo,\n            active: $props.to && isActive || $props.active\n          }])\n        }, [\n          !$props.undo ? (openBlock(), createElementBlock(\"a\", {\n            key: 0,\n            class: \"app-navigation-entry-link\",\n            \"aria-current\": $props.active || $props.to && isActive ? \"page\" : void 0,\n            \"aria-description\": $props.ariaDescription,\n            \"aria-expanded\": !!_ctx.$slots.default ? $data.opened.toString() : void 0,\n            href: $props.href || routerLinkHref || \"#\",\n            target: $options.isExternal($props.href) ? \"_blank\" : void 0,\n            title: $props.title || $props.name,\n            onBlur: _cache[1] || (_cache[1] = (...args) => $options.handleBlur && $options.handleBlur(...args)),\n            onClick: ($event) => $options.onClick($event, navigate, routerLinkHref),\n            onFocus: _cache[2] || (_cache[2] = (...args) => $options.handleFocus && $options.handleFocus(...args)),\n            onKeydown: _cache[3] || (_cache[3] = withKeys(withModifiers((...args) => $options.handleTab && $options.handleTab(...args), [\"exact\"]), [\"tab\"]))\n          }, [\n            createElementVNode(\"div\", {\n              class: normalizeClass([\"app-navigation-entry-icon\", { [$props.icon]: $props.icon }])\n            }, [\n              $props.loading ? (openBlock(), createBlock(_component_NcLoadingIcon, { key: 0 })) : renderSlot(_ctx.$slots, \"icon\", {\n                key: 1,\n                active: $props.active || $props.to && isActive\n              }, void 0, true)\n            ], 2),\n            createElementVNode(\"span\", {\n              class: normalizeClass([\"app-navigation-entry__name\", { \"hidden-visually\": $data.editingActive }])\n            }, toDisplayString($props.name), 3),\n            $data.editingActive ? (openBlock(), createElementBlock(\"div\", _hoisted_3, [\n              createVNode(_component_NcInputConfirmCancel, {\n                ref: \"editingInput\",\n                modelValue: $data.editingValue,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => $data.editingValue = $event),\n                placeholder: $props.editPlaceholder !== \"\" ? $props.editPlaceholder : $props.name,\n                primary: $props.to && isActive || $props.active,\n                onCancel: $options.cancelEditing,\n                onConfirm: $options.handleEditingDone\n              }, null, 8, [\"modelValue\", \"placeholder\", \"primary\", \"onCancel\", \"onConfirm\"])\n            ])) : createCommentVNode(\"\", true)\n          ], 40, _hoisted_2)) : createCommentVNode(\"\", true),\n          $props.undo ? (openBlock(), createElementBlock(\"div\", _hoisted_4, [\n            createElementVNode(\"div\", _hoisted_5, toDisplayString($props.name), 1)\n          ])) : createCommentVNode(\"\", true),\n          (!!_ctx.$slots.actions || !!_ctx.$slots.counter || $props.editable || $props.undo) && !$data.editingActive ? (openBlock(), createElementBlock(\"div\", {\n            key: 2,\n            class: normalizeClass([\"app-navigation-entry__utils\", { \"app-navigation-entry__utils--display-actions\": $props.forceDisplayActions || $data.menuOpenLocalValue || $props.menuOpen }])\n          }, [\n            !!_ctx.$slots.counter ? (openBlock(), createElementBlock(\"div\", _hoisted_6, [\n              renderSlot(_ctx.$slots, \"counter\", {}, void 0, true)\n            ])) : createCommentVNode(\"\", true),\n            !!_ctx.$slots.actions || $props.editable && !$data.editingActive || $props.undo ? (openBlock(), createBlock(_component_NcActions, {\n              key: 1,\n              ref: \"actions\",\n              class: \"app-navigation-entry__actions\",\n              container: \"#app-navigation-vue\",\n              \"boundaries-element\": $data.actionsBoundariesElement,\n              inline: $props.inlineActions,\n              placement: $props.menuPlacement,\n              open: $props.menuOpen,\n              \"force-menu\": $props.forceMenu,\n              \"default-icon\": $props.menuIcon,\n              variant: $props.to && isActive || $props.active ? \"tertiary-on-primary\" : \"tertiary\",\n              \"onUpdate:open\": $options.onMenuToggle\n            }, {\n              icon: withCtx(() => [\n                renderSlot(_ctx.$slots, \"menu-icon\", {}, void 0, true)\n              ]),\n              default: withCtx(() => [\n                $props.editable && !$data.editingActive ? (openBlock(), createBlock(_component_NcActionButton, {\n                  key: 0,\n                  \"aria-label\": $options.editButtonAriaLabel,\n                  onClick: $options.handleEdit\n                }, {\n                  icon: withCtx(() => [\n                    createVNode(_component_Pencil, { size: 20 })\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString($props.editLabel), 1)\n                  ]),\n                  _: 1\n                }, 8, [\"aria-label\", \"onClick\"])) : createCommentVNode(\"\", true),\n                $props.undo ? (openBlock(), createBlock(_component_NcActionButton, {\n                  key: 1,\n                  \"aria-label\": $options.undoButtonAriaLabel,\n                  onClick: $options.handleUndo\n                }, {\n                  icon: withCtx(() => [\n                    createVNode(_component_Undo, { size: 20 })\n                  ]),\n                  _: 1\n                }, 8, [\"aria-label\", \"onClick\"])) : createCommentVNode(\"\", true),\n                renderSlot(_ctx.$slots, \"actions\", {}, void 0, true)\n              ]),\n              _: 2\n            }, 1032, [\"boundaries-element\", \"inline\", \"placement\", \"open\", \"force-menu\", \"default-icon\", \"variant\", \"onUpdate:open\"])) : createCommentVNode(\"\", true)\n          ], 2)) : createCommentVNode(\"\", true),\n          $props.allowCollapse && !!_ctx.$slots.default ? (openBlock(), createBlock(_component_NcAppNavigationIconCollapsible, {\n            key: 3,\n            active: $props.to && isActive || $props.active,\n            open: $data.opened,\n            onClick: withModifiers($options.toggleCollapse, [\"prevent\", \"stop\"])\n          }, null, 8, [\"active\", \"open\", \"onClick\"])) : createCommentVNode(\"\", true),\n          renderSlot(_ctx.$slots, \"extra\", {}, void 0, true)\n        ], 2)\n      ]),\n      _: 3\n    }, 16)),\n    $options.canHaveChildren && !!_ctx.$slots.default ? (openBlock(), createElementBlock(\"ul\", _hoisted_7, [\n      renderSlot(_ctx.$slots, \"default\", {}, void 0, true)\n    ])) : createCommentVNode(\"\", true)\n  ], 10, _hoisted_1);\n}\nconst NcAppNavigationItem = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__scopeId\", \"data-v-f813ce7a\"]]);\nexport {\n  NcAppNavigationItem as N\n};\n//# sourceMappingURL=NcAppNavigationItem-C08oNLGX.mjs.map\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","'use strict';\n\nvar undefined;\n\nvar $Object = require('es-object-atoms');\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar abs = require('math-intrinsics/abs');\nvar floor = require('math-intrinsics/floor');\nvar max = require('math-intrinsics/max');\nvar min = require('math-intrinsics/min');\nvar pow = require('math-intrinsics/pow');\nvar round = require('math-intrinsics/round');\nvar sign = require('math-intrinsics/sign');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = require('gopd');\nvar $defineProperty = require('es-define-property');\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = require('get-proto');\nvar $ObjectGPO = require('get-proto/Object.getPrototypeOf');\nvar $ReflectGPO = require('get-proto/Reflect.getPrototypeOf');\n\nvar $apply = require('call-bind-apply-helpers/functionApply');\nvar $call = require('call-bind-apply-helpers/functionCall');\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float16Array%': typeof Float16Array === 'undefined' ? undefined : Float16Array,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': $Object,\n\t'%Object.getOwnPropertyDescriptor%': $gOPD,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\n\t'%Function.prototype.call%': $call,\n\t'%Function.prototype.apply%': $apply,\n\t'%Object.defineProperty%': $defineProperty,\n\t'%Object.getPrototypeOf%': $ObjectGPO,\n\t'%Math.abs%': abs,\n\t'%Math.floor%': floor,\n\t'%Math.max%': max,\n\t'%Math.min%': min,\n\t'%Math.pow%': pow,\n\t'%Math.round%': round,\n\t'%Math.sign%': sign,\n\t'%Reflect.getPrototypeOf%': $ReflectGPO\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call($call, Array.prototype.concat);\nvar $spliceApply = bind.call($apply, Array.prototype.splice);\nvar $replace = bind.call($call, String.prototype.replace);\nvar $strSlice = bind.call($call, String.prototype.slice);\nvar $exec = bind.call($call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","// Currently in sync with Node.js lib/internal/util/types.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n\n'use strict';\n\nvar isArgumentsObject = require('is-arguments');\nvar isGeneratorFunction = require('is-generator-function');\nvar whichTypedArray = require('which-typed-array');\nvar isTypedArray = require('is-typed-array');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar BigIntSupported = typeof BigInt !== 'undefined';\nvar SymbolSupported = typeof Symbol !== 'undefined';\n\nvar ObjectToString = uncurryThis(Object.prototype.toString);\n\nvar numberValue = uncurryThis(Number.prototype.valueOf);\nvar stringValue = uncurryThis(String.prototype.valueOf);\nvar booleanValue = uncurryThis(Boolean.prototype.valueOf);\n\nif (BigIntSupported) {\n  var bigIntValue = uncurryThis(BigInt.prototype.valueOf);\n}\n\nif (SymbolSupported) {\n  var symbolValue = uncurryThis(Symbol.prototype.valueOf);\n}\n\nfunction checkBoxedPrimitive(value, prototypeValueOf) {\n  if (typeof value !== 'object') {\n    return false;\n  }\n  try {\n    prototypeValueOf(value);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\nexports.isArgumentsObject = isArgumentsObject;\nexports.isGeneratorFunction = isGeneratorFunction;\nexports.isTypedArray = isTypedArray;\n\n// Taken from here and modified for better browser support\n// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js\nfunction isPromise(input) {\n\treturn (\n\t\t(\n\t\t\ttypeof Promise !== 'undefined' &&\n\t\t\tinput instanceof Promise\n\t\t) ||\n\t\t(\n\t\t\tinput !== null &&\n\t\t\ttypeof input === 'object' &&\n\t\t\ttypeof input.then === 'function' &&\n\t\t\ttypeof input.catch === 'function'\n\t\t)\n\t);\n}\nexports.isPromise = isPromise;\n\nfunction isArrayBufferView(value) {\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    return ArrayBuffer.isView(value);\n  }\n\n  return (\n    isTypedArray(value) ||\n    isDataView(value)\n  );\n}\nexports.isArrayBufferView = isArrayBufferView;\n\n\nfunction isUint8Array(value) {\n  return whichTypedArray(value) === 'Uint8Array';\n}\nexports.isUint8Array = isUint8Array;\n\nfunction isUint8ClampedArray(value) {\n  return whichTypedArray(value) === 'Uint8ClampedArray';\n}\nexports.isUint8ClampedArray = isUint8ClampedArray;\n\nfunction isUint16Array(value) {\n  return whichTypedArray(value) === 'Uint16Array';\n}\nexports.isUint16Array = isUint16Array;\n\nfunction isUint32Array(value) {\n  return whichTypedArray(value) === 'Uint32Array';\n}\nexports.isUint32Array = isUint32Array;\n\nfunction isInt8Array(value) {\n  return whichTypedArray(value) === 'Int8Array';\n}\nexports.isInt8Array = isInt8Array;\n\nfunction isInt16Array(value) {\n  return whichTypedArray(value) === 'Int16Array';\n}\nexports.isInt16Array = isInt16Array;\n\nfunction isInt32Array(value) {\n  return whichTypedArray(value) === 'Int32Array';\n}\nexports.isInt32Array = isInt32Array;\n\nfunction isFloat32Array(value) {\n  return whichTypedArray(value) === 'Float32Array';\n}\nexports.isFloat32Array = isFloat32Array;\n\nfunction isFloat64Array(value) {\n  return whichTypedArray(value) === 'Float64Array';\n}\nexports.isFloat64Array = isFloat64Array;\n\nfunction isBigInt64Array(value) {\n  return whichTypedArray(value) === 'BigInt64Array';\n}\nexports.isBigInt64Array = isBigInt64Array;\n\nfunction isBigUint64Array(value) {\n  return whichTypedArray(value) === 'BigUint64Array';\n}\nexports.isBigUint64Array = isBigUint64Array;\n\nfunction isMapToString(value) {\n  return ObjectToString(value) === '[object Map]';\n}\nisMapToString.working = (\n  typeof Map !== 'undefined' &&\n  isMapToString(new Map())\n);\n\nfunction isMap(value) {\n  if (typeof Map === 'undefined') {\n    return false;\n  }\n\n  return isMapToString.working\n    ? isMapToString(value)\n    : value instanceof Map;\n}\nexports.isMap = isMap;\n\nfunction isSetToString(value) {\n  return ObjectToString(value) === '[object Set]';\n}\nisSetToString.working = (\n  typeof Set !== 'undefined' &&\n  isSetToString(new Set())\n);\nfunction isSet(value) {\n  if (typeof Set === 'undefined') {\n    return false;\n  }\n\n  return isSetToString.working\n    ? isSetToString(value)\n    : value instanceof Set;\n}\nexports.isSet = isSet;\n\nfunction isWeakMapToString(value) {\n  return ObjectToString(value) === '[object WeakMap]';\n}\nisWeakMapToString.working = (\n  typeof WeakMap !== 'undefined' &&\n  isWeakMapToString(new WeakMap())\n);\nfunction isWeakMap(value) {\n  if (typeof WeakMap === 'undefined') {\n    return false;\n  }\n\n  return isWeakMapToString.working\n    ? isWeakMapToString(value)\n    : value instanceof WeakMap;\n}\nexports.isWeakMap = isWeakMap;\n\nfunction isWeakSetToString(value) {\n  return ObjectToString(value) === '[object WeakSet]';\n}\nisWeakSetToString.working = (\n  typeof WeakSet !== 'undefined' &&\n  isWeakSetToString(new WeakSet())\n);\nfunction isWeakSet(value) {\n  return isWeakSetToString(value);\n}\nexports.isWeakSet = isWeakSet;\n\nfunction isArrayBufferToString(value) {\n  return ObjectToString(value) === '[object ArrayBuffer]';\n}\nisArrayBufferToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  isArrayBufferToString(new ArrayBuffer())\n);\nfunction isArrayBuffer(value) {\n  if (typeof ArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isArrayBufferToString.working\n    ? isArrayBufferToString(value)\n    : value instanceof ArrayBuffer;\n}\nexports.isArrayBuffer = isArrayBuffer;\n\nfunction isDataViewToString(value) {\n  return ObjectToString(value) === '[object DataView]';\n}\nisDataViewToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  typeof DataView !== 'undefined' &&\n  isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1))\n);\nfunction isDataView(value) {\n  if (typeof DataView === 'undefined') {\n    return false;\n  }\n\n  return isDataViewToString.working\n    ? isDataViewToString(value)\n    : value instanceof DataView;\n}\nexports.isDataView = isDataView;\n\n// Store a copy of SharedArrayBuffer in case it's deleted elsewhere\nvar SharedArrayBufferCopy = typeof SharedArrayBuffer !== 'undefined' ? SharedArrayBuffer : undefined;\nfunction isSharedArrayBufferToString(value) {\n  return ObjectToString(value) === '[object SharedArrayBuffer]';\n}\nfunction isSharedArrayBuffer(value) {\n  if (typeof SharedArrayBufferCopy === 'undefined') {\n    return false;\n  }\n\n  if (typeof isSharedArrayBufferToString.working === 'undefined') {\n    isSharedArrayBufferToString.working = isSharedArrayBufferToString(new SharedArrayBufferCopy());\n  }\n\n  return isSharedArrayBufferToString.working\n    ? isSharedArrayBufferToString(value)\n    : value instanceof SharedArrayBufferCopy;\n}\nexports.isSharedArrayBuffer = isSharedArrayBuffer;\n\nfunction isAsyncFunction(value) {\n  return ObjectToString(value) === '[object AsyncFunction]';\n}\nexports.isAsyncFunction = isAsyncFunction;\n\nfunction isMapIterator(value) {\n  return ObjectToString(value) === '[object Map Iterator]';\n}\nexports.isMapIterator = isMapIterator;\n\nfunction isSetIterator(value) {\n  return ObjectToString(value) === '[object Set Iterator]';\n}\nexports.isSetIterator = isSetIterator;\n\nfunction isGeneratorObject(value) {\n  return ObjectToString(value) === '[object Generator]';\n}\nexports.isGeneratorObject = isGeneratorObject;\n\nfunction isWebAssemblyCompiledModule(value) {\n  return ObjectToString(value) === '[object WebAssembly.Module]';\n}\nexports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;\n\nfunction isNumberObject(value) {\n  return checkBoxedPrimitive(value, numberValue);\n}\nexports.isNumberObject = isNumberObject;\n\nfunction isStringObject(value) {\n  return checkBoxedPrimitive(value, stringValue);\n}\nexports.isStringObject = isStringObject;\n\nfunction isBooleanObject(value) {\n  return checkBoxedPrimitive(value, booleanValue);\n}\nexports.isBooleanObject = isBooleanObject;\n\nfunction isBigIntObject(value) {\n  return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);\n}\nexports.isBigIntObject = isBigIntObject;\n\nfunction isSymbolObject(value) {\n  return SymbolSupported && checkBoxedPrimitive(value, symbolValue);\n}\nexports.isSymbolObject = isSymbolObject;\n\nfunction isBoxedPrimitive(value) {\n  return (\n    isNumberObject(value) ||\n    isStringObject(value) ||\n    isBooleanObject(value) ||\n    isBigIntObject(value) ||\n    isSymbolObject(value)\n  );\n}\nexports.isBoxedPrimitive = isBoxedPrimitive;\n\nfunction isAnyArrayBuffer(value) {\n  return typeof Uint8Array !== 'undefined' && (\n    isArrayBuffer(value) ||\n    isSharedArrayBuffer(value)\n  );\n}\nexports.isAnyArrayBuffer = isAnyArrayBuffer;\n\n['isProxy', 'isExternal', 'isModuleNamespaceObject'].forEach(function(method) {\n  Object.defineProperty(exports, method, {\n    enumerable: false,\n    value: function() {\n      throw new Error(method + ' is not supported in userland');\n    }\n  });\n});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnvRegex = /^$/;\n\nif (process.env.NODE_DEBUG) {\n  var debugEnv = process.env.NODE_DEBUG;\n  debugEnv = debugEnv.replace(/[|\\\\{}()[\\]^$+?.]/g, '\\\\$&')\n    .replace(/\\*/g, '.*')\n    .replace(/,/g, '$|^')\n    .toUpperCase();\n  debugEnvRegex = new RegExp('^' + debugEnv + '$', 'i');\n}\nexports.debuglog = function(set) {\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (debugEnvRegex.test(set)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').slice(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.slice(1, -1);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexports.types = require('./support/types');\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\nexports.types.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\nexports.types.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\nexports.types.isNativeError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb.bind(null, null, ret)) },\n            function(rej) { process.nextTick(callbackifyOnRejected.bind(null, rej, cb)) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\nvar Buffer = require('buffer').Buffer;\nvar OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\nvar destroyImpl = require('./internal/streams/destroy');\nvar _require = require('./internal/streams/state'),\n  getHighWaterMark = _require.getHighWaterMark;\nvar _require$codes = require('../errors').codes,\n  ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n  ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nrequire('inherits')(Writable, Stream);\nfunction nop() {}\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = options.emitClose !== false;\n\n  // Should .destroy() be called after 'finish' (and potentially 'end')\n  this.autoDestroy = !!options.autoDestroy;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex);\n\n  // legacy.\n  this.writable = true;\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END();\n  // TODO: defer error events consistently everywhere, not just the cb\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n  return true;\n}\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n  return ret;\n}\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\nWritable.prototype._writev = null;\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n  return need;\n}\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n\n  // reuse the free corkReq.\n  state.corkedRequestsFree.next = corkReq;\n}\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","'use strict';\n\nvar undefined;\n\nvar $Object = require('es-object-atoms');\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar abs = require('math-intrinsics/abs');\nvar floor = require('math-intrinsics/floor');\nvar max = require('math-intrinsics/max');\nvar min = require('math-intrinsics/min');\nvar pow = require('math-intrinsics/pow');\nvar round = require('math-intrinsics/round');\nvar sign = require('math-intrinsics/sign');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = require('gopd');\nvar $defineProperty = require('es-define-property');\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = require('get-proto');\nvar $ObjectGPO = require('get-proto/Object.getPrototypeOf');\nvar $ReflectGPO = require('get-proto/Reflect.getPrototypeOf');\n\nvar $apply = require('call-bind-apply-helpers/functionApply');\nvar $call = require('call-bind-apply-helpers/functionCall');\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float16Array%': typeof Float16Array === 'undefined' ? undefined : Float16Array,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': $Object,\n\t'%Object.getOwnPropertyDescriptor%': $gOPD,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\n\t'%Function.prototype.call%': $call,\n\t'%Function.prototype.apply%': $apply,\n\t'%Object.defineProperty%': $defineProperty,\n\t'%Object.getPrototypeOf%': $ObjectGPO,\n\t'%Math.abs%': abs,\n\t'%Math.floor%': floor,\n\t'%Math.max%': max,\n\t'%Math.min%': min,\n\t'%Math.pow%': pow,\n\t'%Math.round%': round,\n\t'%Math.sign%': sign,\n\t'%Reflect.getPrototypeOf%': $ReflectGPO\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call($call, Array.prototype.concat);\nvar $spliceApply = bind.call($apply, Array.prototype.splice);\nvar $replace = bind.call($call, String.prototype.replace);\nvar $strSlice = bind.call($call, String.prototype.slice);\nvar $exec = bind.call($call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n\n  // reuse the free corkReq.\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n\n  // reuse the free corkReq.\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n\n  // reuse the free corkReq.\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","'use strict';\n\nvar BN = require('bn.js');\nvar utils = require('../utils');\nvar getNAF = utils.getNAF;\nvar getJSF = utils.getJSF;\nvar assert = utils.assert;\n\nfunction BaseCurve(type, conf) {\n  this.type = type;\n  this.p = new BN(conf.p, 16);\n\n  // Use Montgomery, when there is no fast reduction for the prime\n  this.red = conf.prime ? BN.red(conf.prime) : BN.mont(this.p);\n\n  // Useful for many curves\n  this.zero = new BN(0).toRed(this.red);\n  this.one = new BN(1).toRed(this.red);\n  this.two = new BN(2).toRed(this.red);\n\n  // Curve configuration, optional\n  this.n = conf.n && new BN(conf.n, 16);\n  this.g = conf.g && this.pointFromJSON(conf.g, conf.gRed);\n\n  // Temporary arrays\n  this._wnafT1 = new Array(4);\n  this._wnafT2 = new Array(4);\n  this._wnafT3 = new Array(4);\n  this._wnafT4 = new Array(4);\n\n  this._bitLength = this.n ? this.n.bitLength() : 0;\n\n  // Generalized Greg Maxwell's trick\n  var adjustCount = this.n && this.p.div(this.n);\n  if (!adjustCount || adjustCount.cmpn(100) > 0) {\n    this.redN = null;\n  } else {\n    this._maxwellTrick = true;\n    this.redN = this.n.toRed(this.red);\n  }\n}\nmodule.exports = BaseCurve;\n\nBaseCurve.prototype.point = function point() {\n  throw new Error('Not implemented');\n};\n\nBaseCurve.prototype.validate = function validate() {\n  throw new Error('Not implemented');\n};\n\nBaseCurve.prototype._fixedNafMul = function _fixedNafMul(p, k) {\n  assert(p.precomputed);\n  var doubles = p._getDoubles();\n\n  var naf = getNAF(k, 1, this._bitLength);\n  var I = (1 << (doubles.step + 1)) - (doubles.step % 2 === 0 ? 2 : 1);\n  I /= 3;\n\n  // Translate into more windowed form\n  var repr = [];\n  var j;\n  var nafW;\n  for (j = 0; j < naf.length; j += doubles.step) {\n    nafW = 0;\n    for (var l = j + doubles.step - 1; l >= j; l--)\n      nafW = (nafW << 1) + naf[l];\n    repr.push(nafW);\n  }\n\n  var a = this.jpoint(null, null, null);\n  var b = this.jpoint(null, null, null);\n  for (var i = I; i > 0; i--) {\n    for (j = 0; j < repr.length; j++) {\n      nafW = repr[j];\n      if (nafW === i)\n        b = b.mixedAdd(doubles.points[j]);\n      else if (nafW === -i)\n        b = b.mixedAdd(doubles.points[j].neg());\n    }\n    a = a.add(b);\n  }\n  return a.toP();\n};\n\nBaseCurve.prototype._wnafMul = function _wnafMul(p, k) {\n  var w = 4;\n\n  // Precompute window\n  var nafPoints = p._getNAFPoints(w);\n  w = nafPoints.wnd;\n  var wnd = nafPoints.points;\n\n  // Get NAF form\n  var naf = getNAF(k, w, this._bitLength);\n\n  // Add `this`*(N+1) for every w-NAF index\n  var acc = this.jpoint(null, null, null);\n  for (var i = naf.length - 1; i >= 0; i--) {\n    // Count zeroes\n    for (var l = 0; i >= 0 && naf[i] === 0; i--)\n      l++;\n    if (i >= 0)\n      l++;\n    acc = acc.dblp(l);\n\n    if (i < 0)\n      break;\n    var z = naf[i];\n    assert(z !== 0);\n    if (p.type === 'affine') {\n      // J +- P\n      if (z > 0)\n        acc = acc.mixedAdd(wnd[(z - 1) >> 1]);\n      else\n        acc = acc.mixedAdd(wnd[(-z - 1) >> 1].neg());\n    } else {\n      // J +- J\n      if (z > 0)\n        acc = acc.add(wnd[(z - 1) >> 1]);\n      else\n        acc = acc.add(wnd[(-z - 1) >> 1].neg());\n    }\n  }\n  return p.type === 'affine' ? acc.toP() : acc;\n};\n\nBaseCurve.prototype._wnafMulAdd = function _wnafMulAdd(defW,\n  points,\n  coeffs,\n  len,\n  jacobianResult) {\n  var wndWidth = this._wnafT1;\n  var wnd = this._wnafT2;\n  var naf = this._wnafT3;\n\n  // Fill all arrays\n  var max = 0;\n  var i;\n  var j;\n  var p;\n  for (i = 0; i < len; i++) {\n    p = points[i];\n    var nafPoints = p._getNAFPoints(defW);\n    wndWidth[i] = nafPoints.wnd;\n    wnd[i] = nafPoints.points;\n  }\n\n  // Comb small window NAFs\n  for (i = len - 1; i >= 1; i -= 2) {\n    var a = i - 1;\n    var b = i;\n    if (wndWidth[a] !== 1 || wndWidth[b] !== 1) {\n      naf[a] = getNAF(coeffs[a], wndWidth[a], this._bitLength);\n      naf[b] = getNAF(coeffs[b], wndWidth[b], this._bitLength);\n      max = Math.max(naf[a].length, max);\n      max = Math.max(naf[b].length, max);\n      continue;\n    }\n\n    var comb = [\n      points[a], /* 1 */\n      null, /* 3 */\n      null, /* 5 */\n      points[b], /* 7 */\n    ];\n\n    // Try to avoid Projective points, if possible\n    if (points[a].y.cmp(points[b].y) === 0) {\n      comb[1] = points[a].add(points[b]);\n      comb[2] = points[a].toJ().mixedAdd(points[b].neg());\n    } else if (points[a].y.cmp(points[b].y.redNeg()) === 0) {\n      comb[1] = points[a].toJ().mixedAdd(points[b]);\n      comb[2] = points[a].add(points[b].neg());\n    } else {\n      comb[1] = points[a].toJ().mixedAdd(points[b]);\n      comb[2] = points[a].toJ().mixedAdd(points[b].neg());\n    }\n\n    var index = [\n      -3, /* -1 -1 */\n      -1, /* -1 0 */\n      -5, /* -1 1 */\n      -7, /* 0 -1 */\n      0, /* 0 0 */\n      7, /* 0 1 */\n      5, /* 1 -1 */\n      1, /* 1 0 */\n      3,  /* 1 1 */\n    ];\n\n    var jsf = getJSF(coeffs[a], coeffs[b]);\n    max = Math.max(jsf[0].length, max);\n    naf[a] = new Array(max);\n    naf[b] = new Array(max);\n    for (j = 0; j < max; j++) {\n      var ja = jsf[0][j] | 0;\n      var jb = jsf[1][j] | 0;\n\n      naf[a][j] = index[(ja + 1) * 3 + (jb + 1)];\n      naf[b][j] = 0;\n      wnd[a] = comb;\n    }\n  }\n\n  var acc = this.jpoint(null, null, null);\n  var tmp = this._wnafT4;\n  for (i = max; i >= 0; i--) {\n    var k = 0;\n\n    while (i >= 0) {\n      var zero = true;\n      for (j = 0; j < len; j++) {\n        tmp[j] = naf[j][i] | 0;\n        if (tmp[j] !== 0)\n          zero = false;\n      }\n      if (!zero)\n        break;\n      k++;\n      i--;\n    }\n    if (i >= 0)\n      k++;\n    acc = acc.dblp(k);\n    if (i < 0)\n      break;\n\n    for (j = 0; j < len; j++) {\n      var z = tmp[j];\n      p;\n      if (z === 0)\n        continue;\n      else if (z > 0)\n        p = wnd[j][(z - 1) >> 1];\n      else if (z < 0)\n        p = wnd[j][(-z - 1) >> 1].neg();\n\n      if (p.type === 'affine')\n        acc = acc.mixedAdd(p);\n      else\n        acc = acc.add(p);\n    }\n  }\n  // Zeroify references\n  for (i = 0; i < len; i++)\n    wnd[i] = null;\n\n  if (jacobianResult)\n    return acc;\n  else\n    return acc.toP();\n};\n\nfunction BasePoint(curve, type) {\n  this.curve = curve;\n  this.type = type;\n  this.precomputed = null;\n}\nBaseCurve.BasePoint = BasePoint;\n\nBasePoint.prototype.eq = function eq(/*other*/) {\n  throw new Error('Not implemented');\n};\n\nBasePoint.prototype.validate = function validate() {\n  return this.curve.validate(this);\n};\n\nBaseCurve.prototype.decodePoint = function decodePoint(bytes, enc) {\n  bytes = utils.toArray(bytes, enc);\n\n  var len = this.p.byteLength();\n\n  // uncompressed, hybrid-odd, hybrid-even\n  if ((bytes[0] === 0x04 || bytes[0] === 0x06 || bytes[0] === 0x07) &&\n      bytes.length - 1 === 2 * len) {\n    if (bytes[0] === 0x06)\n      assert(bytes[bytes.length - 1] % 2 === 0);\n    else if (bytes[0] === 0x07)\n      assert(bytes[bytes.length - 1] % 2 === 1);\n\n    var res =  this.point(bytes.slice(1, 1 + len),\n      bytes.slice(1 + len, 1 + 2 * len));\n\n    return res;\n  } else if ((bytes[0] === 0x02 || bytes[0] === 0x03) &&\n              bytes.length - 1 === len) {\n    return this.pointFromX(bytes.slice(1, 1 + len), bytes[0] === 0x03);\n  }\n  throw new Error('Unknown point format');\n};\n\nBasePoint.prototype.encodeCompressed = function encodeCompressed(enc) {\n  return this.encode(enc, true);\n};\n\nBasePoint.prototype._encode = function _encode(compact) {\n  var len = this.curve.p.byteLength();\n  var x = this.getX().toArray('be', len);\n\n  if (compact)\n    return [ this.getY().isEven() ? 0x02 : 0x03 ].concat(x);\n\n  return [ 0x04 ].concat(x, this.getY().toArray('be', len));\n};\n\nBasePoint.prototype.encode = function encode(enc, compact) {\n  return utils.encode(this._encode(compact), enc);\n};\n\nBasePoint.prototype.precompute = function precompute(power) {\n  if (this.precomputed)\n    return this;\n\n  var precomputed = {\n    doubles: null,\n    naf: null,\n    beta: null,\n  };\n  precomputed.naf = this._getNAFPoints(8);\n  precomputed.doubles = this._getDoubles(4, power);\n  precomputed.beta = this._getBeta();\n  this.precomputed = precomputed;\n\n  return this;\n};\n\nBasePoint.prototype._hasDoubles = function _hasDoubles(k) {\n  if (!this.precomputed)\n    return false;\n\n  var doubles = this.precomputed.doubles;\n  if (!doubles)\n    return false;\n\n  return doubles.points.length >= Math.ceil((k.bitLength() + 1) / doubles.step);\n};\n\nBasePoint.prototype._getDoubles = function _getDoubles(step, power) {\n  if (this.precomputed && this.precomputed.doubles)\n    return this.precomputed.doubles;\n\n  var doubles = [ this ];\n  var acc = this;\n  for (var i = 0; i < power; i += step) {\n    for (var j = 0; j < step; j++)\n      acc = acc.dbl();\n    doubles.push(acc);\n  }\n  return {\n    step: step,\n    points: doubles,\n  };\n};\n\nBasePoint.prototype._getNAFPoints = function _getNAFPoints(wnd) {\n  if (this.precomputed && this.precomputed.naf)\n    return this.precomputed.naf;\n\n  var res = [ this ];\n  var max = (1 << wnd) - 1;\n  var dbl = max === 1 ? null : this.dbl();\n  for (var i = 1; i < max; i++)\n    res[i] = res[i - 1].add(dbl);\n  return {\n    wnd: wnd,\n    points: res,\n  };\n};\n\nBasePoint.prototype._getBeta = function _getBeta() {\n  return null;\n};\n\nBasePoint.prototype.dblp = function dblp(k) {\n  var r = this;\n  for (var i = 0; i < k; i++)\n    r = r.dbl();\n  return r;\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar BN = require('bn.js');\nvar inherits = require('inherits');\nvar Base = require('./base');\n\nvar assert = utils.assert;\n\nfunction EdwardsCurve(conf) {\n  // NOTE: Important as we are creating point in Base.call()\n  this.twisted = (conf.a | 0) !== 1;\n  this.mOneA = this.twisted && (conf.a | 0) === -1;\n  this.extended = this.mOneA;\n\n  Base.call(this, 'edwards', conf);\n\n  this.a = new BN(conf.a, 16).umod(this.red.m);\n  this.a = this.a.toRed(this.red);\n  this.c = new BN(conf.c, 16).toRed(this.red);\n  this.c2 = this.c.redSqr();\n  this.d = new BN(conf.d, 16).toRed(this.red);\n  this.dd = this.d.redAdd(this.d);\n\n  assert(!this.twisted || this.c.fromRed().cmpn(1) === 0);\n  this.oneC = (conf.c | 0) === 1;\n}\ninherits(EdwardsCurve, Base);\nmodule.exports = EdwardsCurve;\n\nEdwardsCurve.prototype._mulA = function _mulA(num) {\n  if (this.mOneA)\n    return num.redNeg();\n  else\n    return this.a.redMul(num);\n};\n\nEdwardsCurve.prototype._mulC = function _mulC(num) {\n  if (this.oneC)\n    return num;\n  else\n    return this.c.redMul(num);\n};\n\n// Just for compatibility with Short curve\nEdwardsCurve.prototype.jpoint = function jpoint(x, y, z, t) {\n  return this.point(x, y, z, t);\n};\n\nEdwardsCurve.prototype.pointFromX = function pointFromX(x, odd) {\n  x = new BN(x, 16);\n  if (!x.red)\n    x = x.toRed(this.red);\n\n  var x2 = x.redSqr();\n  var rhs = this.c2.redSub(this.a.redMul(x2));\n  var lhs = this.one.redSub(this.c2.redMul(this.d).redMul(x2));\n\n  var y2 = rhs.redMul(lhs.redInvm());\n  var y = y2.redSqrt();\n  if (y.redSqr().redSub(y2).cmp(this.zero) !== 0)\n    throw new Error('invalid point');\n\n  var isOdd = y.fromRed().isOdd();\n  if (odd && !isOdd || !odd && isOdd)\n    y = y.redNeg();\n\n  return this.point(x, y);\n};\n\nEdwardsCurve.prototype.pointFromY = function pointFromY(y, odd) {\n  y = new BN(y, 16);\n  if (!y.red)\n    y = y.toRed(this.red);\n\n  // x^2 = (y^2 - c^2) / (c^2 d y^2 - a)\n  var y2 = y.redSqr();\n  var lhs = y2.redSub(this.c2);\n  var rhs = y2.redMul(this.d).redMul(this.c2).redSub(this.a);\n  var x2 = lhs.redMul(rhs.redInvm());\n\n  if (x2.cmp(this.zero) === 0) {\n    if (odd)\n      throw new Error('invalid point');\n    else\n      return this.point(this.zero, y);\n  }\n\n  var x = x2.redSqrt();\n  if (x.redSqr().redSub(x2).cmp(this.zero) !== 0)\n    throw new Error('invalid point');\n\n  if (x.fromRed().isOdd() !== odd)\n    x = x.redNeg();\n\n  return this.point(x, y);\n};\n\nEdwardsCurve.prototype.validate = function validate(point) {\n  if (point.isInfinity())\n    return true;\n\n  // Curve: A * X^2 + Y^2 = C^2 * (1 + D * X^2 * Y^2)\n  point.normalize();\n\n  var x2 = point.x.redSqr();\n  var y2 = point.y.redSqr();\n  var lhs = x2.redMul(this.a).redAdd(y2);\n  var rhs = this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));\n\n  return lhs.cmp(rhs) === 0;\n};\n\nfunction Point(curve, x, y, z, t) {\n  Base.BasePoint.call(this, curve, 'projective');\n  if (x === null && y === null && z === null) {\n    this.x = this.curve.zero;\n    this.y = this.curve.one;\n    this.z = this.curve.one;\n    this.t = this.curve.zero;\n    this.zOne = true;\n  } else {\n    this.x = new BN(x, 16);\n    this.y = new BN(y, 16);\n    this.z = z ? new BN(z, 16) : this.curve.one;\n    this.t = t && new BN(t, 16);\n    if (!this.x.red)\n      this.x = this.x.toRed(this.curve.red);\n    if (!this.y.red)\n      this.y = this.y.toRed(this.curve.red);\n    if (!this.z.red)\n      this.z = this.z.toRed(this.curve.red);\n    if (this.t && !this.t.red)\n      this.t = this.t.toRed(this.curve.red);\n    this.zOne = this.z === this.curve.one;\n\n    // Use extended coordinates\n    if (this.curve.extended && !this.t) {\n      this.t = this.x.redMul(this.y);\n      if (!this.zOne)\n        this.t = this.t.redMul(this.z.redInvm());\n    }\n  }\n}\ninherits(Point, Base.BasePoint);\n\nEdwardsCurve.prototype.pointFromJSON = function pointFromJSON(obj) {\n  return Point.fromJSON(this, obj);\n};\n\nEdwardsCurve.prototype.point = function point(x, y, z, t) {\n  return new Point(this, x, y, z, t);\n};\n\nPoint.fromJSON = function fromJSON(curve, obj) {\n  return new Point(curve, obj[0], obj[1], obj[2]);\n};\n\nPoint.prototype.inspect = function inspect() {\n  if (this.isInfinity())\n    return '<EC Point Infinity>';\n  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +\n      ' y: ' + this.y.fromRed().toString(16, 2) +\n      ' z: ' + this.z.fromRed().toString(16, 2) + '>';\n};\n\nPoint.prototype.isInfinity = function isInfinity() {\n  // XXX This code assumes that zero is always zero in red\n  return this.x.cmpn(0) === 0 &&\n    (this.y.cmp(this.z) === 0 ||\n    (this.zOne && this.y.cmp(this.curve.c) === 0));\n};\n\nPoint.prototype._extDbl = function _extDbl() {\n  // hyperelliptic.org/EFD/g1p/auto-twisted-extended-1.html\n  //     #doubling-dbl-2008-hwcd\n  // 4M + 4S\n\n  // A = X1^2\n  var a = this.x.redSqr();\n  // B = Y1^2\n  var b = this.y.redSqr();\n  // C = 2 * Z1^2\n  var c = this.z.redSqr();\n  c = c.redIAdd(c);\n  // D = a * A\n  var d = this.curve._mulA(a);\n  // E = (X1 + Y1)^2 - A - B\n  var e = this.x.redAdd(this.y).redSqr().redISub(a).redISub(b);\n  // G = D + B\n  var g = d.redAdd(b);\n  // F = G - C\n  var f = g.redSub(c);\n  // H = D - B\n  var h = d.redSub(b);\n  // X3 = E * F\n  var nx = e.redMul(f);\n  // Y3 = G * H\n  var ny = g.redMul(h);\n  // T3 = E * H\n  var nt = e.redMul(h);\n  // Z3 = F * G\n  var nz = f.redMul(g);\n  return this.curve.point(nx, ny, nz, nt);\n};\n\nPoint.prototype._projDbl = function _projDbl() {\n  // hyperelliptic.org/EFD/g1p/auto-twisted-projective.html\n  //     #doubling-dbl-2008-bbjlp\n  //     #doubling-dbl-2007-bl\n  // and others\n  // Generally 3M + 4S or 2M + 4S\n\n  // B = (X1 + Y1)^2\n  var b = this.x.redAdd(this.y).redSqr();\n  // C = X1^2\n  var c = this.x.redSqr();\n  // D = Y1^2\n  var d = this.y.redSqr();\n\n  var nx;\n  var ny;\n  var nz;\n  var e;\n  var h;\n  var j;\n  if (this.curve.twisted) {\n    // E = a * C\n    e = this.curve._mulA(c);\n    // F = E + D\n    var f = e.redAdd(d);\n    if (this.zOne) {\n      // X3 = (B - C - D) * (F - 2)\n      nx = b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two));\n      // Y3 = F * (E - D)\n      ny = f.redMul(e.redSub(d));\n      // Z3 = F^2 - 2 * F\n      nz = f.redSqr().redSub(f).redSub(f);\n    } else {\n      // H = Z1^2\n      h = this.z.redSqr();\n      // J = F - 2 * H\n      j = f.redSub(h).redISub(h);\n      // X3 = (B-C-D)*J\n      nx = b.redSub(c).redISub(d).redMul(j);\n      // Y3 = F * (E - D)\n      ny = f.redMul(e.redSub(d));\n      // Z3 = F * J\n      nz = f.redMul(j);\n    }\n  } else {\n    // E = C + D\n    e = c.redAdd(d);\n    // H = (c * Z1)^2\n    h = this.curve._mulC(this.z).redSqr();\n    // J = E - 2 * H\n    j = e.redSub(h).redSub(h);\n    // X3 = c * (B - E) * J\n    nx = this.curve._mulC(b.redISub(e)).redMul(j);\n    // Y3 = c * E * (C - D)\n    ny = this.curve._mulC(e).redMul(c.redISub(d));\n    // Z3 = E * J\n    nz = e.redMul(j);\n  }\n  return this.curve.point(nx, ny, nz);\n};\n\nPoint.prototype.dbl = function dbl() {\n  if (this.isInfinity())\n    return this;\n\n  // Double in extended coordinates\n  if (this.curve.extended)\n    return this._extDbl();\n  else\n    return this._projDbl();\n};\n\nPoint.prototype._extAdd = function _extAdd(p) {\n  // hyperelliptic.org/EFD/g1p/auto-twisted-extended-1.html\n  //     #addition-add-2008-hwcd-3\n  // 8M\n\n  // A = (Y1 - X1) * (Y2 - X2)\n  var a = this.y.redSub(this.x).redMul(p.y.redSub(p.x));\n  // B = (Y1 + X1) * (Y2 + X2)\n  var b = this.y.redAdd(this.x).redMul(p.y.redAdd(p.x));\n  // C = T1 * k * T2\n  var c = this.t.redMul(this.curve.dd).redMul(p.t);\n  // D = Z1 * 2 * Z2\n  var d = this.z.redMul(p.z.redAdd(p.z));\n  // E = B - A\n  var e = b.redSub(a);\n  // F = D - C\n  var f = d.redSub(c);\n  // G = D + C\n  var g = d.redAdd(c);\n  // H = B + A\n  var h = b.redAdd(a);\n  // X3 = E * F\n  var nx = e.redMul(f);\n  // Y3 = G * H\n  var ny = g.redMul(h);\n  // T3 = E * H\n  var nt = e.redMul(h);\n  // Z3 = F * G\n  var nz = f.redMul(g);\n  return this.curve.point(nx, ny, nz, nt);\n};\n\nPoint.prototype._projAdd = function _projAdd(p) {\n  // hyperelliptic.org/EFD/g1p/auto-twisted-projective.html\n  //     #addition-add-2008-bbjlp\n  //     #addition-add-2007-bl\n  // 10M + 1S\n\n  // A = Z1 * Z2\n  var a = this.z.redMul(p.z);\n  // B = A^2\n  var b = a.redSqr();\n  // C = X1 * X2\n  var c = this.x.redMul(p.x);\n  // D = Y1 * Y2\n  var d = this.y.redMul(p.y);\n  // E = d * C * D\n  var e = this.curve.d.redMul(c).redMul(d);\n  // F = B - E\n  var f = b.redSub(e);\n  // G = B + E\n  var g = b.redAdd(e);\n  // X3 = A * F * ((X1 + Y1) * (X2 + Y2) - C - D)\n  var tmp = this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d);\n  var nx = a.redMul(f).redMul(tmp);\n  var ny;\n  var nz;\n  if (this.curve.twisted) {\n    // Y3 = A * G * (D - a * C)\n    ny = a.redMul(g).redMul(d.redSub(this.curve._mulA(c)));\n    // Z3 = F * G\n    nz = f.redMul(g);\n  } else {\n    // Y3 = A * G * (D - C)\n    ny = a.redMul(g).redMul(d.redSub(c));\n    // Z3 = c * F * G\n    nz = this.curve._mulC(f).redMul(g);\n  }\n  return this.curve.point(nx, ny, nz);\n};\n\nPoint.prototype.add = function add(p) {\n  if (this.isInfinity())\n    return p;\n  if (p.isInfinity())\n    return this;\n\n  if (this.curve.extended)\n    return this._extAdd(p);\n  else\n    return this._projAdd(p);\n};\n\nPoint.prototype.mul = function mul(k) {\n  if (this._hasDoubles(k))\n    return this.curve._fixedNafMul(this, k);\n  else\n    return this.curve._wnafMul(this, k);\n};\n\nPoint.prototype.mulAdd = function mulAdd(k1, p, k2) {\n  return this.curve._wnafMulAdd(1, [ this, p ], [ k1, k2 ], 2, false);\n};\n\nPoint.prototype.jmulAdd = function jmulAdd(k1, p, k2) {\n  return this.curve._wnafMulAdd(1, [ this, p ], [ k1, k2 ], 2, true);\n};\n\nPoint.prototype.normalize = function normalize() {\n  if (this.zOne)\n    return this;\n\n  // Normalize coordinates\n  var zi = this.z.redInvm();\n  this.x = this.x.redMul(zi);\n  this.y = this.y.redMul(zi);\n  if (this.t)\n    this.t = this.t.redMul(zi);\n  this.z = this.curve.one;\n  this.zOne = true;\n  return this;\n};\n\nPoint.prototype.neg = function neg() {\n  return this.curve.point(this.x.redNeg(),\n    this.y,\n    this.z,\n    this.t && this.t.redNeg());\n};\n\nPoint.prototype.getX = function getX() {\n  this.normalize();\n  return this.x.fromRed();\n};\n\nPoint.prototype.getY = function getY() {\n  this.normalize();\n  return this.y.fromRed();\n};\n\nPoint.prototype.eq = function eq(other) {\n  return this === other ||\n         this.getX().cmp(other.getX()) === 0 &&\n         this.getY().cmp(other.getY()) === 0;\n};\n\nPoint.prototype.eqXToP = function eqXToP(x) {\n  var rx = x.toRed(this.curve.red).redMul(this.z);\n  if (this.x.cmp(rx) === 0)\n    return true;\n\n  var xc = x.clone();\n  var t = this.curve.redN.redMul(this.z);\n  for (;;) {\n    xc.iadd(this.curve.n);\n    if (xc.cmp(this.curve.p) >= 0)\n      return false;\n\n    rx.redIAdd(t);\n    if (this.x.cmp(rx) === 0)\n      return true;\n  }\n};\n\n// Compatibility with BaseCurve\nPoint.prototype.toP = Point.prototype.normalize;\nPoint.prototype.mixedAdd = Point.prototype.add;\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar assert = require('minimalistic-assert');\n\nvar rotr64_hi = utils.rotr64_hi;\nvar rotr64_lo = utils.rotr64_lo;\nvar shr64_hi = utils.shr64_hi;\nvar shr64_lo = utils.shr64_lo;\nvar sum64 = utils.sum64;\nvar sum64_hi = utils.sum64_hi;\nvar sum64_lo = utils.sum64_lo;\nvar sum64_4_hi = utils.sum64_4_hi;\nvar sum64_4_lo = utils.sum64_4_lo;\nvar sum64_5_hi = utils.sum64_5_hi;\nvar sum64_5_lo = utils.sum64_5_lo;\n\nvar BlockHash = common.BlockHash;\n\nvar sha512_K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction SHA512() {\n  if (!(this instanceof SHA512))\n    return new SHA512();\n\n  BlockHash.call(this);\n  this.h = [\n    0x6a09e667, 0xf3bcc908,\n    0xbb67ae85, 0x84caa73b,\n    0x3c6ef372, 0xfe94f82b,\n    0xa54ff53a, 0x5f1d36f1,\n    0x510e527f, 0xade682d1,\n    0x9b05688c, 0x2b3e6c1f,\n    0x1f83d9ab, 0xfb41bd6b,\n    0x5be0cd19, 0x137e2179 ];\n  this.k = sha512_K;\n  this.W = new Array(160);\n}\nutils.inherits(SHA512, BlockHash);\nmodule.exports = SHA512;\n\nSHA512.blockSize = 1024;\nSHA512.outSize = 512;\nSHA512.hmacStrength = 192;\nSHA512.padLength = 128;\n\nSHA512.prototype._prepareBlock = function _prepareBlock(msg, start) {\n  var W = this.W;\n\n  // 32 x 32bit words\n  for (var i = 0; i < 32; i++)\n    W[i] = msg[start + i];\n  for (; i < W.length; i += 2) {\n    var c0_hi = g1_512_hi(W[i - 4], W[i - 3]);  // i - 2\n    var c0_lo = g1_512_lo(W[i - 4], W[i - 3]);\n    var c1_hi = W[i - 14];  // i - 7\n    var c1_lo = W[i - 13];\n    var c2_hi = g0_512_hi(W[i - 30], W[i - 29]);  // i - 15\n    var c2_lo = g0_512_lo(W[i - 30], W[i - 29]);\n    var c3_hi = W[i - 32];  // i - 16\n    var c3_lo = W[i - 31];\n\n    W[i] = sum64_4_hi(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo);\n    W[i + 1] = sum64_4_lo(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo);\n  }\n};\n\nSHA512.prototype._update = function _update(msg, start) {\n  this._prepareBlock(msg, start);\n\n  var W = this.W;\n\n  var ah = this.h[0];\n  var al = this.h[1];\n  var bh = this.h[2];\n  var bl = this.h[3];\n  var ch = this.h[4];\n  var cl = this.h[5];\n  var dh = this.h[6];\n  var dl = this.h[7];\n  var eh = this.h[8];\n  var el = this.h[9];\n  var fh = this.h[10];\n  var fl = this.h[11];\n  var gh = this.h[12];\n  var gl = this.h[13];\n  var hh = this.h[14];\n  var hl = this.h[15];\n\n  assert(this.k.length === W.length);\n  for (var i = 0; i < W.length; i += 2) {\n    var c0_hi = hh;\n    var c0_lo = hl;\n    var c1_hi = s1_512_hi(eh, el);\n    var c1_lo = s1_512_lo(eh, el);\n    var c2_hi = ch64_hi(eh, el, fh, fl, gh, gl);\n    var c2_lo = ch64_lo(eh, el, fh, fl, gh, gl);\n    var c3_hi = this.k[i];\n    var c3_lo = this.k[i + 1];\n    var c4_hi = W[i];\n    var c4_lo = W[i + 1];\n\n    var T1_hi = sum64_5_hi(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo,\n      c4_hi, c4_lo);\n    var T1_lo = sum64_5_lo(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo,\n      c4_hi, c4_lo);\n\n    c0_hi = s0_512_hi(ah, al);\n    c0_lo = s0_512_lo(ah, al);\n    c1_hi = maj64_hi(ah, al, bh, bl, ch, cl);\n    c1_lo = maj64_lo(ah, al, bh, bl, ch, cl);\n\n    var T2_hi = sum64_hi(c0_hi, c0_lo, c1_hi, c1_lo);\n    var T2_lo = sum64_lo(c0_hi, c0_lo, c1_hi, c1_lo);\n\n    hh = gh;\n    hl = gl;\n\n    gh = fh;\n    gl = fl;\n\n    fh = eh;\n    fl = el;\n\n    eh = sum64_hi(dh, dl, T1_hi, T1_lo);\n    el = sum64_lo(dl, dl, T1_hi, T1_lo);\n\n    dh = ch;\n    dl = cl;\n\n    ch = bh;\n    cl = bl;\n\n    bh = ah;\n    bl = al;\n\n    ah = sum64_hi(T1_hi, T1_lo, T2_hi, T2_lo);\n    al = sum64_lo(T1_hi, T1_lo, T2_hi, T2_lo);\n  }\n\n  sum64(this.h, 0, ah, al);\n  sum64(this.h, 2, bh, bl);\n  sum64(this.h, 4, ch, cl);\n  sum64(this.h, 6, dh, dl);\n  sum64(this.h, 8, eh, el);\n  sum64(this.h, 10, fh, fl);\n  sum64(this.h, 12, gh, gl);\n  sum64(this.h, 14, hh, hl);\n};\n\nSHA512.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n\nfunction ch64_hi(xh, xl, yh, yl, zh) {\n  var r = (xh & yh) ^ ((~xh) & zh);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction ch64_lo(xh, xl, yh, yl, zh, zl) {\n  var r = (xl & yl) ^ ((~xl) & zl);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction maj64_hi(xh, xl, yh, yl, zh) {\n  var r = (xh & yh) ^ (xh & zh) ^ (yh & zh);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction maj64_lo(xh, xl, yh, yl, zh, zl) {\n  var r = (xl & yl) ^ (xl & zl) ^ (yl & zl);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s0_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 28);\n  var c1_hi = rotr64_hi(xl, xh, 2);  // 34\n  var c2_hi = rotr64_hi(xl, xh, 7);  // 39\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s0_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 28);\n  var c1_lo = rotr64_lo(xl, xh, 2);  // 34\n  var c2_lo = rotr64_lo(xl, xh, 7);  // 39\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s1_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 14);\n  var c1_hi = rotr64_hi(xh, xl, 18);\n  var c2_hi = rotr64_hi(xl, xh, 9);  // 41\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s1_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 14);\n  var c1_lo = rotr64_lo(xh, xl, 18);\n  var c2_lo = rotr64_lo(xl, xh, 9);  // 41\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g0_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 1);\n  var c1_hi = rotr64_hi(xh, xl, 8);\n  var c2_hi = shr64_hi(xh, xl, 7);\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g0_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 1);\n  var c1_lo = rotr64_lo(xh, xl, 8);\n  var c2_lo = shr64_lo(xh, xl, 7);\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g1_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 19);\n  var c1_hi = rotr64_hi(xl, xh, 29);  // 61\n  var c2_hi = shr64_hi(xh, xl, 6);\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g1_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 19);\n  var c1_lo = rotr64_lo(xl, xh, 29);  // 61\n  var c2_lo = shr64_lo(xh, xl, 6);\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n","var Reporter = require('../base').Reporter;\nvar EncoderBuffer = require('../base').EncoderBuffer;\nvar DecoderBuffer = require('../base').DecoderBuffer;\nvar assert = require('minimalistic-assert');\n\n// Supported tags\nvar tags = [\n  'seq', 'seqof', 'set', 'setof', 'objid', 'bool',\n  'gentime', 'utctime', 'null_', 'enum', 'int', 'objDesc',\n  'bitstr', 'bmpstr', 'charstr', 'genstr', 'graphstr', 'ia5str', 'iso646str',\n  'numstr', 'octstr', 'printstr', 't61str', 'unistr', 'utf8str', 'videostr'\n];\n\n// Public methods list\nvar methods = [\n  'key', 'obj', 'use', 'optional', 'explicit', 'implicit', 'def', 'choice',\n  'any', 'contains'\n].concat(tags);\n\n// Overrided methods list\nvar overrided = [\n  '_peekTag', '_decodeTag', '_use',\n  '_decodeStr', '_decodeObjid', '_decodeTime',\n  '_decodeNull', '_decodeInt', '_decodeBool', '_decodeList',\n\n  '_encodeComposite', '_encodeStr', '_encodeObjid', '_encodeTime',\n  '_encodeNull', '_encodeInt', '_encodeBool'\n];\n\nfunction Node(enc, parent) {\n  var state = {};\n  this._baseState = state;\n\n  state.enc = enc;\n\n  state.parent = parent || null;\n  state.children = null;\n\n  // State\n  state.tag = null;\n  state.args = null;\n  state.reverseArgs = null;\n  state.choice = null;\n  state.optional = false;\n  state.any = false;\n  state.obj = false;\n  state.use = null;\n  state.useDecoder = null;\n  state.key = null;\n  state['default'] = null;\n  state.explicit = null;\n  state.implicit = null;\n  state.contains = null;\n\n  // Should create new instance on each method\n  if (!state.parent) {\n    state.children = [];\n    this._wrap();\n  }\n}\nmodule.exports = Node;\n\nvar stateProps = [\n  'enc', 'parent', 'children', 'tag', 'args', 'reverseArgs', 'choice',\n  'optional', 'any', 'obj', 'use', 'alteredUse', 'key', 'default', 'explicit',\n  'implicit', 'contains'\n];\n\nNode.prototype.clone = function clone() {\n  var state = this._baseState;\n  var cstate = {};\n  stateProps.forEach(function(prop) {\n    cstate[prop] = state[prop];\n  });\n  var res = new this.constructor(cstate.parent);\n  res._baseState = cstate;\n  return res;\n};\n\nNode.prototype._wrap = function wrap() {\n  var state = this._baseState;\n  methods.forEach(function(method) {\n    this[method] = function _wrappedMethod() {\n      var clone = new this.constructor(this);\n      state.children.push(clone);\n      return clone[method].apply(clone, arguments);\n    };\n  }, this);\n};\n\nNode.prototype._init = function init(body) {\n  var state = this._baseState;\n\n  assert(state.parent === null);\n  body.call(this);\n\n  // Filter children\n  state.children = state.children.filter(function(child) {\n    return child._baseState.parent === this;\n  }, this);\n  assert.equal(state.children.length, 1, 'Root node can have only one child');\n};\n\nNode.prototype._useArgs = function useArgs(args) {\n  var state = this._baseState;\n\n  // Filter children and args\n  var children = args.filter(function(arg) {\n    return arg instanceof this.constructor;\n  }, this);\n  args = args.filter(function(arg) {\n    return !(arg instanceof this.constructor);\n  }, this);\n\n  if (children.length !== 0) {\n    assert(state.children === null);\n    state.children = children;\n\n    // Replace parent to maintain backward link\n    children.forEach(function(child) {\n      child._baseState.parent = this;\n    }, this);\n  }\n  if (args.length !== 0) {\n    assert(state.args === null);\n    state.args = args;\n    state.reverseArgs = args.map(function(arg) {\n      if (typeof arg !== 'object' || arg.constructor !== Object)\n        return arg;\n\n      var res = {};\n      Object.keys(arg).forEach(function(key) {\n        if (key == (key | 0))\n          key |= 0;\n        var value = arg[key];\n        res[value] = key;\n      });\n      return res;\n    });\n  }\n};\n\n//\n// Overrided methods\n//\n\noverrided.forEach(function(method) {\n  Node.prototype[method] = function _overrided() {\n    var state = this._baseState;\n    throw new Error(method + ' not implemented for encoding: ' + state.enc);\n  };\n});\n\n//\n// Public methods\n//\n\ntags.forEach(function(tag) {\n  Node.prototype[tag] = function _tagMethod() {\n    var state = this._baseState;\n    var args = Array.prototype.slice.call(arguments);\n\n    assert(state.tag === null);\n    state.tag = tag;\n\n    this._useArgs(args);\n\n    return this;\n  };\n});\n\nNode.prototype.use = function use(item) {\n  assert(item);\n  var state = this._baseState;\n\n  assert(state.use === null);\n  state.use = item;\n\n  return this;\n};\n\nNode.prototype.optional = function optional() {\n  var state = this._baseState;\n\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.def = function def(val) {\n  var state = this._baseState;\n\n  assert(state['default'] === null);\n  state['default'] = val;\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.explicit = function explicit(num) {\n  var state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.explicit = num;\n\n  return this;\n};\n\nNode.prototype.implicit = function implicit(num) {\n  var state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.implicit = num;\n\n  return this;\n};\n\nNode.prototype.obj = function obj() {\n  var state = this._baseState;\n  var args = Array.prototype.slice.call(arguments);\n\n  state.obj = true;\n\n  if (args.length !== 0)\n    this._useArgs(args);\n\n  return this;\n};\n\nNode.prototype.key = function key(newKey) {\n  var state = this._baseState;\n\n  assert(state.key === null);\n  state.key = newKey;\n\n  return this;\n};\n\nNode.prototype.any = function any() {\n  var state = this._baseState;\n\n  state.any = true;\n\n  return this;\n};\n\nNode.prototype.choice = function choice(obj) {\n  var state = this._baseState;\n\n  assert(state.choice === null);\n  state.choice = obj;\n  this._useArgs(Object.keys(obj).map(function(key) {\n    return obj[key];\n  }));\n\n  return this;\n};\n\nNode.prototype.contains = function contains(item) {\n  var state = this._baseState;\n\n  assert(state.use === null);\n  state.contains = item;\n\n  return this;\n};\n\n//\n// Decoding\n//\n\nNode.prototype._decode = function decode(input, options) {\n  var state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return input.wrapResult(state.children[0]._decode(input, options));\n\n  var result = state['default'];\n  var present = true;\n\n  var prevKey = null;\n  if (state.key !== null)\n    prevKey = input.enterKey(state.key);\n\n  // Check if tag is there\n  if (state.optional) {\n    var tag = null;\n    if (state.explicit !== null)\n      tag = state.explicit;\n    else if (state.implicit !== null)\n      tag = state.implicit;\n    else if (state.tag !== null)\n      tag = state.tag;\n\n    if (tag === null && !state.any) {\n      // Trial and Error\n      var save = input.save();\n      try {\n        if (state.choice === null)\n          this._decodeGeneric(state.tag, input, options);\n        else\n          this._decodeChoice(input, options);\n        present = true;\n      } catch (e) {\n        present = false;\n      }\n      input.restore(save);\n    } else {\n      present = this._peekTag(input, tag, state.any);\n\n      if (input.isError(present))\n        return present;\n    }\n  }\n\n  // Push object on stack\n  var prevObj;\n  if (state.obj && present)\n    prevObj = input.enterObject();\n\n  if (present) {\n    // Unwrap explicit values\n    if (state.explicit !== null) {\n      var explicit = this._decodeTag(input, state.explicit);\n      if (input.isError(explicit))\n        return explicit;\n      input = explicit;\n    }\n\n    var start = input.offset;\n\n    // Unwrap implicit and normal values\n    if (state.use === null && state.choice === null) {\n      if (state.any)\n        var save = input.save();\n      var body = this._decodeTag(\n        input,\n        state.implicit !== null ? state.implicit : state.tag,\n        state.any\n      );\n      if (input.isError(body))\n        return body;\n\n      if (state.any)\n        result = input.raw(save);\n      else\n        input = body;\n    }\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), start, input.length, 'tagged');\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), input.offset, input.length, 'content');\n\n    // Select proper method for tag\n    if (state.any)\n      result = result;\n    else if (state.choice === null)\n      result = this._decodeGeneric(state.tag, input, options);\n    else\n      result = this._decodeChoice(input, options);\n\n    if (input.isError(result))\n      return result;\n\n    // Decode children\n    if (!state.any && state.choice === null && state.children !== null) {\n      state.children.forEach(function decodeChildren(child) {\n        // NOTE: We are ignoring errors here, to let parser continue with other\n        // parts of encoded data\n        child._decode(input, options);\n      });\n    }\n\n    // Decode contained/encoded by schema, only in bit or octet strings\n    if (state.contains && (state.tag === 'octstr' || state.tag === 'bitstr')) {\n      var data = new DecoderBuffer(result);\n      result = this._getUse(state.contains, input._reporterState.obj)\n          ._decode(data, options);\n    }\n  }\n\n  // Pop object\n  if (state.obj && present)\n    result = input.leaveObject(prevObj);\n\n  // Set key\n  if (state.key !== null && (result !== null || present === true))\n    input.leaveKey(prevKey, state.key, result);\n  else if (prevKey !== null)\n    input.exitKey(prevKey);\n\n  return result;\n};\n\nNode.prototype._decodeGeneric = function decodeGeneric(tag, input, options) {\n  var state = this._baseState;\n\n  if (tag === 'seq' || tag === 'set')\n    return null;\n  if (tag === 'seqof' || tag === 'setof')\n    return this._decodeList(input, tag, state.args[0], options);\n  else if (/str$/.test(tag))\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'objid' && state.args)\n    return this._decodeObjid(input, state.args[0], state.args[1], options);\n  else if (tag === 'objid')\n    return this._decodeObjid(input, null, null, options);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._decodeTime(input, tag, options);\n  else if (tag === 'null_')\n    return this._decodeNull(input, options);\n  else if (tag === 'bool')\n    return this._decodeBool(input, options);\n  else if (tag === 'objDesc')\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'int' || tag === 'enum')\n    return this._decodeInt(input, state.args && state.args[0], options);\n\n  if (state.use !== null) {\n    return this._getUse(state.use, input._reporterState.obj)\n        ._decode(input, options);\n  } else {\n    return input.error('unknown tag: ' + tag);\n  }\n};\n\nNode.prototype._getUse = function _getUse(entity, obj) {\n\n  var state = this._baseState;\n  // Create altered use decoder if implicit is set\n  state.useDecoder = this._use(entity, obj);\n  assert(state.useDecoder._baseState.parent === null);\n  state.useDecoder = state.useDecoder._baseState.children[0];\n  if (state.implicit !== state.useDecoder._baseState.implicit) {\n    state.useDecoder = state.useDecoder.clone();\n    state.useDecoder._baseState.implicit = state.implicit;\n  }\n  return state.useDecoder;\n};\n\nNode.prototype._decodeChoice = function decodeChoice(input, options) {\n  var state = this._baseState;\n  var result = null;\n  var match = false;\n\n  Object.keys(state.choice).some(function(key) {\n    var save = input.save();\n    var node = state.choice[key];\n    try {\n      var value = node._decode(input, options);\n      if (input.isError(value))\n        return false;\n\n      result = { type: key, value: value };\n      match = true;\n    } catch (e) {\n      input.restore(save);\n      return false;\n    }\n    return true;\n  }, this);\n\n  if (!match)\n    return input.error('Choice not matched');\n\n  return result;\n};\n\n//\n// Encoding\n//\n\nNode.prototype._createEncoderBuffer = function createEncoderBuffer(data) {\n  return new EncoderBuffer(data, this.reporter);\n};\n\nNode.prototype._encode = function encode(data, reporter, parent) {\n  var state = this._baseState;\n  if (state['default'] !== null && state['default'] === data)\n    return;\n\n  var result = this._encodeValue(data, reporter, parent);\n  if (result === undefined)\n    return;\n\n  if (this._skipDefault(result, reporter, parent))\n    return;\n\n  return result;\n};\n\nNode.prototype._encodeValue = function encode(data, reporter, parent) {\n  var state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return state.children[0]._encode(data, reporter || new Reporter());\n\n  var result = null;\n\n  // Set reporter to share it with a child class\n  this.reporter = reporter;\n\n  // Check if data is there\n  if (state.optional && data === undefined) {\n    if (state['default'] !== null)\n      data = state['default']\n    else\n      return;\n  }\n\n  // Encode children first\n  var content = null;\n  var primitive = false;\n  if (state.any) {\n    // Anything that was given is translated to buffer\n    result = this._createEncoderBuffer(data);\n  } else if (state.choice) {\n    result = this._encodeChoice(data, reporter);\n  } else if (state.contains) {\n    content = this._getUse(state.contains, parent)._encode(data, reporter);\n    primitive = true;\n  } else if (state.children) {\n    content = state.children.map(function(child) {\n      if (child._baseState.tag === 'null_')\n        return child._encode(null, reporter, data);\n\n      if (child._baseState.key === null)\n        return reporter.error('Child should have a key');\n      var prevKey = reporter.enterKey(child._baseState.key);\n\n      if (typeof data !== 'object')\n        return reporter.error('Child expected, but input is not object');\n\n      var res = child._encode(data[child._baseState.key], reporter, data);\n      reporter.leaveKey(prevKey);\n\n      return res;\n    }, this).filter(function(child) {\n      return child;\n    });\n    content = this._createEncoderBuffer(content);\n  } else {\n    if (state.tag === 'seqof' || state.tag === 'setof') {\n      // TODO(indutny): this should be thrown on DSL level\n      if (!(state.args && state.args.length === 1))\n        return reporter.error('Too many args for : ' + state.tag);\n\n      if (!Array.isArray(data))\n        return reporter.error('seqof/setof, but data is not Array');\n\n      var child = this.clone();\n      child._baseState.implicit = null;\n      content = this._createEncoderBuffer(data.map(function(item) {\n        var state = this._baseState;\n\n        return this._getUse(state.args[0], data)._encode(item, reporter);\n      }, child));\n    } else if (state.use !== null) {\n      result = this._getUse(state.use, parent)._encode(data, reporter);\n    } else {\n      content = this._encodePrimitive(state.tag, data);\n      primitive = true;\n    }\n  }\n\n  // Encode data itself\n  var result;\n  if (!state.any && state.choice === null) {\n    var tag = state.implicit !== null ? state.implicit : state.tag;\n    var cls = state.implicit === null ? 'universal' : 'context';\n\n    if (tag === null) {\n      if (state.use === null)\n        reporter.error('Tag could be omitted only for .use()');\n    } else {\n      if (state.use === null)\n        result = this._encodeComposite(tag, primitive, cls, content);\n    }\n  }\n\n  // Wrap in explicit\n  if (state.explicit !== null)\n    result = this._encodeComposite(state.explicit, false, 'context', result);\n\n  return result;\n};\n\nNode.prototype._encodeChoice = function encodeChoice(data, reporter) {\n  var state = this._baseState;\n\n  var node = state.choice[data.type];\n  if (!node) {\n    assert(\n        false,\n        data.type + ' not found in ' +\n            JSON.stringify(Object.keys(state.choice)));\n  }\n  return node._encode(data.value, reporter);\n};\n\nNode.prototype._encodePrimitive = function encodePrimitive(tag, data) {\n  var state = this._baseState;\n\n  if (/str$/.test(tag))\n    return this._encodeStr(data, tag);\n  else if (tag === 'objid' && state.args)\n    return this._encodeObjid(data, state.reverseArgs[0], state.args[1]);\n  else if (tag === 'objid')\n    return this._encodeObjid(data, null, null);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._encodeTime(data, tag);\n  else if (tag === 'null_')\n    return this._encodeNull();\n  else if (tag === 'int' || tag === 'enum')\n    return this._encodeInt(data, state.args && state.reverseArgs[0]);\n  else if (tag === 'bool')\n    return this._encodeBool(data);\n  else if (tag === 'objDesc')\n    return this._encodeStr(data, tag);\n  else\n    throw new Error('Unsupported tag: ' + tag);\n};\n\nNode.prototype._isNumstr = function isNumstr(str) {\n  return /^[0-9 ]*$/.test(str);\n};\n\nNode.prototype._isPrintstr = function isPrintstr(str) {\n  return /^[A-Za-z0-9 '\\(\\)\\+,\\-\\.\\/:=\\?]*$/.test(str);\n};\n","'use strict';\n\nvar BN = require('bn.js');\nvar utils = require('../utils');\nvar getNAF = utils.getNAF;\nvar getJSF = utils.getJSF;\nvar assert = utils.assert;\n\nfunction BaseCurve(type, conf) {\n  this.type = type;\n  this.p = new BN(conf.p, 16);\n\n  // Use Montgomery, when there is no fast reduction for the prime\n  this.red = conf.prime ? BN.red(conf.prime) : BN.mont(this.p);\n\n  // Useful for many curves\n  this.zero = new BN(0).toRed(this.red);\n  this.one = new BN(1).toRed(this.red);\n  this.two = new BN(2).toRed(this.red);\n\n  // Curve configuration, optional\n  this.n = conf.n && new BN(conf.n, 16);\n  this.g = conf.g && this.pointFromJSON(conf.g, conf.gRed);\n\n  // Temporary arrays\n  this._wnafT1 = new Array(4);\n  this._wnafT2 = new Array(4);\n  this._wnafT3 = new Array(4);\n  this._wnafT4 = new Array(4);\n\n  this._bitLength = this.n ? this.n.bitLength() : 0;\n\n  // Generalized Greg Maxwell's trick\n  var adjustCount = this.n && this.p.div(this.n);\n  if (!adjustCount || adjustCount.cmpn(100) > 0) {\n    this.redN = null;\n  } else {\n    this._maxwellTrick = true;\n    this.redN = this.n.toRed(this.red);\n  }\n}\nmodule.exports = BaseCurve;\n\nBaseCurve.prototype.point = function point() {\n  throw new Error('Not implemented');\n};\n\nBaseCurve.prototype.validate = function validate() {\n  throw new Error('Not implemented');\n};\n\nBaseCurve.prototype._fixedNafMul = function _fixedNafMul(p, k) {\n  assert(p.precomputed);\n  var doubles = p._getDoubles();\n\n  var naf = getNAF(k, 1, this._bitLength);\n  var I = (1 << (doubles.step + 1)) - (doubles.step % 2 === 0 ? 2 : 1);\n  I /= 3;\n\n  // Translate into more windowed form\n  var repr = [];\n  var j;\n  var nafW;\n  for (j = 0; j < naf.length; j += doubles.step) {\n    nafW = 0;\n    for (var l = j + doubles.step - 1; l >= j; l--)\n      nafW = (nafW << 1) + naf[l];\n    repr.push(nafW);\n  }\n\n  var a = this.jpoint(null, null, null);\n  var b = this.jpoint(null, null, null);\n  for (var i = I; i > 0; i--) {\n    for (j = 0; j < repr.length; j++) {\n      nafW = repr[j];\n      if (nafW === i)\n        b = b.mixedAdd(doubles.points[j]);\n      else if (nafW === -i)\n        b = b.mixedAdd(doubles.points[j].neg());\n    }\n    a = a.add(b);\n  }\n  return a.toP();\n};\n\nBaseCurve.prototype._wnafMul = function _wnafMul(p, k) {\n  var w = 4;\n\n  // Precompute window\n  var nafPoints = p._getNAFPoints(w);\n  w = nafPoints.wnd;\n  var wnd = nafPoints.points;\n\n  // Get NAF form\n  var naf = getNAF(k, w, this._bitLength);\n\n  // Add `this`*(N+1) for every w-NAF index\n  var acc = this.jpoint(null, null, null);\n  for (var i = naf.length - 1; i >= 0; i--) {\n    // Count zeroes\n    for (var l = 0; i >= 0 && naf[i] === 0; i--)\n      l++;\n    if (i >= 0)\n      l++;\n    acc = acc.dblp(l);\n\n    if (i < 0)\n      break;\n    var z = naf[i];\n    assert(z !== 0);\n    if (p.type === 'affine') {\n      // J +- P\n      if (z > 0)\n        acc = acc.mixedAdd(wnd[(z - 1) >> 1]);\n      else\n        acc = acc.mixedAdd(wnd[(-z - 1) >> 1].neg());\n    } else {\n      // J +- J\n      if (z > 0)\n        acc = acc.add(wnd[(z - 1) >> 1]);\n      else\n        acc = acc.add(wnd[(-z - 1) >> 1].neg());\n    }\n  }\n  return p.type === 'affine' ? acc.toP() : acc;\n};\n\nBaseCurve.prototype._wnafMulAdd = function _wnafMulAdd(defW,\n  points,\n  coeffs,\n  len,\n  jacobianResult) {\n  var wndWidth = this._wnafT1;\n  var wnd = this._wnafT2;\n  var naf = this._wnafT3;\n\n  // Fill all arrays\n  var max = 0;\n  var i;\n  var j;\n  var p;\n  for (i = 0; i < len; i++) {\n    p = points[i];\n    var nafPoints = p._getNAFPoints(defW);\n    wndWidth[i] = nafPoints.wnd;\n    wnd[i] = nafPoints.points;\n  }\n\n  // Comb small window NAFs\n  for (i = len - 1; i >= 1; i -= 2) {\n    var a = i - 1;\n    var b = i;\n    if (wndWidth[a] !== 1 || wndWidth[b] !== 1) {\n      naf[a] = getNAF(coeffs[a], wndWidth[a], this._bitLength);\n      naf[b] = getNAF(coeffs[b], wndWidth[b], this._bitLength);\n      max = Math.max(naf[a].length, max);\n      max = Math.max(naf[b].length, max);\n      continue;\n    }\n\n    var comb = [\n      points[a], /* 1 */\n      null, /* 3 */\n      null, /* 5 */\n      points[b], /* 7 */\n    ];\n\n    // Try to avoid Projective points, if possible\n    if (points[a].y.cmp(points[b].y) === 0) {\n      comb[1] = points[a].add(points[b]);\n      comb[2] = points[a].toJ().mixedAdd(points[b].neg());\n    } else if (points[a].y.cmp(points[b].y.redNeg()) === 0) {\n      comb[1] = points[a].toJ().mixedAdd(points[b]);\n      comb[2] = points[a].add(points[b].neg());\n    } else {\n      comb[1] = points[a].toJ().mixedAdd(points[b]);\n      comb[2] = points[a].toJ().mixedAdd(points[b].neg());\n    }\n\n    var index = [\n      -3, /* -1 -1 */\n      -1, /* -1 0 */\n      -5, /* -1 1 */\n      -7, /* 0 -1 */\n      0, /* 0 0 */\n      7, /* 0 1 */\n      5, /* 1 -1 */\n      1, /* 1 0 */\n      3,  /* 1 1 */\n    ];\n\n    var jsf = getJSF(coeffs[a], coeffs[b]);\n    max = Math.max(jsf[0].length, max);\n    naf[a] = new Array(max);\n    naf[b] = new Array(max);\n    for (j = 0; j < max; j++) {\n      var ja = jsf[0][j] | 0;\n      var jb = jsf[1][j] | 0;\n\n      naf[a][j] = index[(ja + 1) * 3 + (jb + 1)];\n      naf[b][j] = 0;\n      wnd[a] = comb;\n    }\n  }\n\n  var acc = this.jpoint(null, null, null);\n  var tmp = this._wnafT4;\n  for (i = max; i >= 0; i--) {\n    var k = 0;\n\n    while (i >= 0) {\n      var zero = true;\n      for (j = 0; j < len; j++) {\n        tmp[j] = naf[j][i] | 0;\n        if (tmp[j] !== 0)\n          zero = false;\n      }\n      if (!zero)\n        break;\n      k++;\n      i--;\n    }\n    if (i >= 0)\n      k++;\n    acc = acc.dblp(k);\n    if (i < 0)\n      break;\n\n    for (j = 0; j < len; j++) {\n      var z = tmp[j];\n      p;\n      if (z === 0)\n        continue;\n      else if (z > 0)\n        p = wnd[j][(z - 1) >> 1];\n      else if (z < 0)\n        p = wnd[j][(-z - 1) >> 1].neg();\n\n      if (p.type === 'affine')\n        acc = acc.mixedAdd(p);\n      else\n        acc = acc.add(p);\n    }\n  }\n  // Zeroify references\n  for (i = 0; i < len; i++)\n    wnd[i] = null;\n\n  if (jacobianResult)\n    return acc;\n  else\n    return acc.toP();\n};\n\nfunction BasePoint(curve, type) {\n  this.curve = curve;\n  this.type = type;\n  this.precomputed = null;\n}\nBaseCurve.BasePoint = BasePoint;\n\nBasePoint.prototype.eq = function eq(/*other*/) {\n  throw new Error('Not implemented');\n};\n\nBasePoint.prototype.validate = function validate() {\n  return this.curve.validate(this);\n};\n\nBaseCurve.prototype.decodePoint = function decodePoint(bytes, enc) {\n  bytes = utils.toArray(bytes, enc);\n\n  var len = this.p.byteLength();\n\n  // uncompressed, hybrid-odd, hybrid-even\n  if ((bytes[0] === 0x04 || bytes[0] === 0x06 || bytes[0] === 0x07) &&\n      bytes.length - 1 === 2 * len) {\n    if (bytes[0] === 0x06)\n      assert(bytes[bytes.length - 1] % 2 === 0);\n    else if (bytes[0] === 0x07)\n      assert(bytes[bytes.length - 1] % 2 === 1);\n\n    var res =  this.point(bytes.slice(1, 1 + len),\n      bytes.slice(1 + len, 1 + 2 * len));\n\n    return res;\n  } else if ((bytes[0] === 0x02 || bytes[0] === 0x03) &&\n              bytes.length - 1 === len) {\n    return this.pointFromX(bytes.slice(1, 1 + len), bytes[0] === 0x03);\n  }\n  throw new Error('Unknown point format');\n};\n\nBasePoint.prototype.encodeCompressed = function encodeCompressed(enc) {\n  return this.encode(enc, true);\n};\n\nBasePoint.prototype._encode = function _encode(compact) {\n  var len = this.curve.p.byteLength();\n  var x = this.getX().toArray('be', len);\n\n  if (compact)\n    return [ this.getY().isEven() ? 0x02 : 0x03 ].concat(x);\n\n  return [ 0x04 ].concat(x, this.getY().toArray('be', len));\n};\n\nBasePoint.prototype.encode = function encode(enc, compact) {\n  return utils.encode(this._encode(compact), enc);\n};\n\nBasePoint.prototype.precompute = function precompute(power) {\n  if (this.precomputed)\n    return this;\n\n  var precomputed = {\n    doubles: null,\n    naf: null,\n    beta: null,\n  };\n  precomputed.naf = this._getNAFPoints(8);\n  precomputed.doubles = this._getDoubles(4, power);\n  precomputed.beta = this._getBeta();\n  this.precomputed = precomputed;\n\n  return this;\n};\n\nBasePoint.prototype._hasDoubles = function _hasDoubles(k) {\n  if (!this.precomputed)\n    return false;\n\n  var doubles = this.precomputed.doubles;\n  if (!doubles)\n    return false;\n\n  return doubles.points.length >= Math.ceil((k.bitLength() + 1) / doubles.step);\n};\n\nBasePoint.prototype._getDoubles = function _getDoubles(step, power) {\n  if (this.precomputed && this.precomputed.doubles)\n    return this.precomputed.doubles;\n\n  var doubles = [ this ];\n  var acc = this;\n  for (var i = 0; i < power; i += step) {\n    for (var j = 0; j < step; j++)\n      acc = acc.dbl();\n    doubles.push(acc);\n  }\n  return {\n    step: step,\n    points: doubles,\n  };\n};\n\nBasePoint.prototype._getNAFPoints = function _getNAFPoints(wnd) {\n  if (this.precomputed && this.precomputed.naf)\n    return this.precomputed.naf;\n\n  var res = [ this ];\n  var max = (1 << wnd) - 1;\n  var dbl = max === 1 ? null : this.dbl();\n  for (var i = 1; i < max; i++)\n    res[i] = res[i - 1].add(dbl);\n  return {\n    wnd: wnd,\n    points: res,\n  };\n};\n\nBasePoint.prototype._getBeta = function _getBeta() {\n  return null;\n};\n\nBasePoint.prototype.dblp = function dblp(k) {\n  var r = this;\n  for (var i = 0; i < k; i++)\n    r = r.dbl();\n  return r;\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar BN = require('bn.js');\nvar inherits = require('inherits');\nvar Base = require('./base');\n\nvar assert = utils.assert;\n\nfunction ShortCurve(conf) {\n  Base.call(this, 'short', conf);\n\n  this.a = new BN(conf.a, 16).toRed(this.red);\n  this.b = new BN(conf.b, 16).toRed(this.red);\n  this.tinv = this.two.redInvm();\n\n  this.zeroA = this.a.fromRed().cmpn(0) === 0;\n  this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0;\n\n  // If the curve is endomorphic, precalculate beta and lambda\n  this.endo = this._getEndomorphism(conf);\n  this._endoWnafT1 = new Array(4);\n  this._endoWnafT2 = new Array(4);\n}\ninherits(ShortCurve, Base);\nmodule.exports = ShortCurve;\n\nShortCurve.prototype._getEndomorphism = function _getEndomorphism(conf) {\n  // No efficient endomorphism\n  if (!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)\n    return;\n\n  // Compute beta and lambda, that lambda * P = (beta * Px; Py)\n  var beta;\n  var lambda;\n  if (conf.beta) {\n    beta = new BN(conf.beta, 16).toRed(this.red);\n  } else {\n    var betas = this._getEndoRoots(this.p);\n    // Choose the smallest beta\n    beta = betas[0].cmp(betas[1]) < 0 ? betas[0] : betas[1];\n    beta = beta.toRed(this.red);\n  }\n  if (conf.lambda) {\n    lambda = new BN(conf.lambda, 16);\n  } else {\n    // Choose the lambda that is matching selected beta\n    var lambdas = this._getEndoRoots(this.n);\n    if (this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta)) === 0) {\n      lambda = lambdas[0];\n    } else {\n      lambda = lambdas[1];\n      assert(this.g.mul(lambda).x.cmp(this.g.x.redMul(beta)) === 0);\n    }\n  }\n\n  // Get basis vectors, used for balanced length-two representation\n  var basis;\n  if (conf.basis) {\n    basis = conf.basis.map(function(vec) {\n      return {\n        a: new BN(vec.a, 16),\n        b: new BN(vec.b, 16),\n      };\n    });\n  } else {\n    basis = this._getEndoBasis(lambda);\n  }\n\n  return {\n    beta: beta,\n    lambda: lambda,\n    basis: basis,\n  };\n};\n\nShortCurve.prototype._getEndoRoots = function _getEndoRoots(num) {\n  // Find roots of for x^2 + x + 1 in F\n  // Root = (-1 +- Sqrt(-3)) / 2\n  //\n  var red = num === this.p ? this.red : BN.mont(num);\n  var tinv = new BN(2).toRed(red).redInvm();\n  var ntinv = tinv.redNeg();\n\n  var s = new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv);\n\n  var l1 = ntinv.redAdd(s).fromRed();\n  var l2 = ntinv.redSub(s).fromRed();\n  return [ l1, l2 ];\n};\n\nShortCurve.prototype._getEndoBasis = function _getEndoBasis(lambda) {\n  // aprxSqrt >= sqrt(this.n)\n  var aprxSqrt = this.n.ushrn(Math.floor(this.n.bitLength() / 2));\n\n  // 3.74\n  // Run EGCD, until r(L + 1) < aprxSqrt\n  var u = lambda;\n  var v = this.n.clone();\n  var x1 = new BN(1);\n  var y1 = new BN(0);\n  var x2 = new BN(0);\n  var y2 = new BN(1);\n\n  // NOTE: all vectors are roots of: a + b * lambda = 0 (mod n)\n  var a0;\n  var b0;\n  // First vector\n  var a1;\n  var b1;\n  // Second vector\n  var a2;\n  var b2;\n\n  var prevR;\n  var i = 0;\n  var r;\n  var x;\n  while (u.cmpn(0) !== 0) {\n    var q = v.div(u);\n    r = v.sub(q.mul(u));\n    x = x2.sub(q.mul(x1));\n    var y = y2.sub(q.mul(y1));\n\n    if (!a1 && r.cmp(aprxSqrt) < 0) {\n      a0 = prevR.neg();\n      b0 = x1;\n      a1 = r.neg();\n      b1 = x;\n    } else if (a1 && ++i === 2) {\n      break;\n    }\n    prevR = r;\n\n    v = u;\n    u = r;\n    x2 = x1;\n    x1 = x;\n    y2 = y1;\n    y1 = y;\n  }\n  a2 = r.neg();\n  b2 = x;\n\n  var len1 = a1.sqr().add(b1.sqr());\n  var len2 = a2.sqr().add(b2.sqr());\n  if (len2.cmp(len1) >= 0) {\n    a2 = a0;\n    b2 = b0;\n  }\n\n  // Normalize signs\n  if (a1.negative) {\n    a1 = a1.neg();\n    b1 = b1.neg();\n  }\n  if (a2.negative) {\n    a2 = a2.neg();\n    b2 = b2.neg();\n  }\n\n  return [\n    { a: a1, b: b1 },\n    { a: a2, b: b2 },\n  ];\n};\n\nShortCurve.prototype._endoSplit = function _endoSplit(k) {\n  var basis = this.endo.basis;\n  var v1 = basis[0];\n  var v2 = basis[1];\n\n  var c1 = v2.b.mul(k).divRound(this.n);\n  var c2 = v1.b.neg().mul(k).divRound(this.n);\n\n  var p1 = c1.mul(v1.a);\n  var p2 = c2.mul(v2.a);\n  var q1 = c1.mul(v1.b);\n  var q2 = c2.mul(v2.b);\n\n  // Calculate answer\n  var k1 = k.sub(p1).sub(p2);\n  var k2 = q1.add(q2).neg();\n  return { k1: k1, k2: k2 };\n};\n\nShortCurve.prototype.pointFromX = function pointFromX(x, odd) {\n  x = new BN(x, 16);\n  if (!x.red)\n    x = x.toRed(this.red);\n\n  var y2 = x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b);\n  var y = y2.redSqrt();\n  if (y.redSqr().redSub(y2).cmp(this.zero) !== 0)\n    throw new Error('invalid point');\n\n  // XXX Is there any way to tell if the number is odd without converting it\n  // to non-red form?\n  var isOdd = y.fromRed().isOdd();\n  if (odd && !isOdd || !odd && isOdd)\n    y = y.redNeg();\n\n  return this.point(x, y);\n};\n\nShortCurve.prototype.validate = function validate(point) {\n  if (point.inf)\n    return true;\n\n  var x = point.x;\n  var y = point.y;\n\n  var ax = this.a.redMul(x);\n  var rhs = x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);\n  return y.redSqr().redISub(rhs).cmpn(0) === 0;\n};\n\nShortCurve.prototype._endoWnafMulAdd =\n    function _endoWnafMulAdd(points, coeffs, jacobianResult) {\n      var npoints = this._endoWnafT1;\n      var ncoeffs = this._endoWnafT2;\n      for (var i = 0; i < points.length; i++) {\n        var split = this._endoSplit(coeffs[i]);\n        var p = points[i];\n        var beta = p._getBeta();\n\n        if (split.k1.negative) {\n          split.k1.ineg();\n          p = p.neg(true);\n        }\n        if (split.k2.negative) {\n          split.k2.ineg();\n          beta = beta.neg(true);\n        }\n\n        npoints[i * 2] = p;\n        npoints[i * 2 + 1] = beta;\n        ncoeffs[i * 2] = split.k1;\n        ncoeffs[i * 2 + 1] = split.k2;\n      }\n      var res = this._wnafMulAdd(1, npoints, ncoeffs, i * 2, jacobianResult);\n\n      // Clean-up references to points and coefficients\n      for (var j = 0; j < i * 2; j++) {\n        npoints[j] = null;\n        ncoeffs[j] = null;\n      }\n      return res;\n    };\n\nfunction Point(curve, x, y, isRed) {\n  Base.BasePoint.call(this, curve, 'affine');\n  if (x === null && y === null) {\n    this.x = null;\n    this.y = null;\n    this.inf = true;\n  } else {\n    this.x = new BN(x, 16);\n    this.y = new BN(y, 16);\n    // Force redgomery representation when loading from JSON\n    if (isRed) {\n      this.x.forceRed(this.curve.red);\n      this.y.forceRed(this.curve.red);\n    }\n    if (!this.x.red)\n      this.x = this.x.toRed(this.curve.red);\n    if (!this.y.red)\n      this.y = this.y.toRed(this.curve.red);\n    this.inf = false;\n  }\n}\ninherits(Point, Base.BasePoint);\n\nShortCurve.prototype.point = function point(x, y, isRed) {\n  return new Point(this, x, y, isRed);\n};\n\nShortCurve.prototype.pointFromJSON = function pointFromJSON(obj, red) {\n  return Point.fromJSON(this, obj, red);\n};\n\nPoint.prototype._getBeta = function _getBeta() {\n  if (!this.curve.endo)\n    return;\n\n  var pre = this.precomputed;\n  if (pre && pre.beta)\n    return pre.beta;\n\n  var beta = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);\n  if (pre) {\n    var curve = this.curve;\n    var endoMul = function(p) {\n      return curve.point(p.x.redMul(curve.endo.beta), p.y);\n    };\n    pre.beta = beta;\n    beta.precomputed = {\n      beta: null,\n      naf: pre.naf && {\n        wnd: pre.naf.wnd,\n        points: pre.naf.points.map(endoMul),\n      },\n      doubles: pre.doubles && {\n        step: pre.doubles.step,\n        points: pre.doubles.points.map(endoMul),\n      },\n    };\n  }\n  return beta;\n};\n\nPoint.prototype.toJSON = function toJSON() {\n  if (!this.precomputed)\n    return [ this.x, this.y ];\n\n  return [ this.x, this.y, this.precomputed && {\n    doubles: this.precomputed.doubles && {\n      step: this.precomputed.doubles.step,\n      points: this.precomputed.doubles.points.slice(1),\n    },\n    naf: this.precomputed.naf && {\n      wnd: this.precomputed.naf.wnd,\n      points: this.precomputed.naf.points.slice(1),\n    },\n  } ];\n};\n\nPoint.fromJSON = function fromJSON(curve, obj, red) {\n  if (typeof obj === 'string')\n    obj = JSON.parse(obj);\n  var res = curve.point(obj[0], obj[1], red);\n  if (!obj[2])\n    return res;\n\n  function obj2point(obj) {\n    return curve.point(obj[0], obj[1], red);\n  }\n\n  var pre = obj[2];\n  res.precomputed = {\n    beta: null,\n    doubles: pre.doubles && {\n      step: pre.doubles.step,\n      points: [ res ].concat(pre.doubles.points.map(obj2point)),\n    },\n    naf: pre.naf && {\n      wnd: pre.naf.wnd,\n      points: [ res ].concat(pre.naf.points.map(obj2point)),\n    },\n  };\n  return res;\n};\n\nPoint.prototype.inspect = function inspect() {\n  if (this.isInfinity())\n    return '<EC Point Infinity>';\n  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +\n      ' y: ' + this.y.fromRed().toString(16, 2) + '>';\n};\n\nPoint.prototype.isInfinity = function isInfinity() {\n  return this.inf;\n};\n\nPoint.prototype.add = function add(p) {\n  // O + P = P\n  if (this.inf)\n    return p;\n\n  // P + O = P\n  if (p.inf)\n    return this;\n\n  // P + P = 2P\n  if (this.eq(p))\n    return this.dbl();\n\n  // P + (-P) = O\n  if (this.neg().eq(p))\n    return this.curve.point(null, null);\n\n  // P + Q = O\n  if (this.x.cmp(p.x) === 0)\n    return this.curve.point(null, null);\n\n  var c = this.y.redSub(p.y);\n  if (c.cmpn(0) !== 0)\n    c = c.redMul(this.x.redSub(p.x).redInvm());\n  var nx = c.redSqr().redISub(this.x).redISub(p.x);\n  var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);\n  return this.curve.point(nx, ny);\n};\n\nPoint.prototype.dbl = function dbl() {\n  if (this.inf)\n    return this;\n\n  // 2P = O\n  var ys1 = this.y.redAdd(this.y);\n  if (ys1.cmpn(0) === 0)\n    return this.curve.point(null, null);\n\n  var a = this.curve.a;\n\n  var x2 = this.x.redSqr();\n  var dyinv = ys1.redInvm();\n  var c = x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv);\n\n  var nx = c.redSqr().redISub(this.x.redAdd(this.x));\n  var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);\n  return this.curve.point(nx, ny);\n};\n\nPoint.prototype.getX = function getX() {\n  return this.x.fromRed();\n};\n\nPoint.prototype.getY = function getY() {\n  return this.y.fromRed();\n};\n\nPoint.prototype.mul = function mul(k) {\n  k = new BN(k, 16);\n  if (this.isInfinity())\n    return this;\n  else if (this._hasDoubles(k))\n    return this.curve._fixedNafMul(this, k);\n  else if (this.curve.endo)\n    return this.curve._endoWnafMulAdd([ this ], [ k ]);\n  else\n    return this.curve._wnafMul(this, k);\n};\n\nPoint.prototype.mulAdd = function mulAdd(k1, p2, k2) {\n  var points = [ this, p2 ];\n  var coeffs = [ k1, k2 ];\n  if (this.curve.endo)\n    return this.curve._endoWnafMulAdd(points, coeffs);\n  else\n    return this.curve._wnafMulAdd(1, points, coeffs, 2);\n};\n\nPoint.prototype.jmulAdd = function jmulAdd(k1, p2, k2) {\n  var points = [ this, p2 ];\n  var coeffs = [ k1, k2 ];\n  if (this.curve.endo)\n    return this.curve._endoWnafMulAdd(points, coeffs, true);\n  else\n    return this.curve._wnafMulAdd(1, points, coeffs, 2, true);\n};\n\nPoint.prototype.eq = function eq(p) {\n  return this === p ||\n         this.inf === p.inf &&\n             (this.inf || this.x.cmp(p.x) === 0 && this.y.cmp(p.y) === 0);\n};\n\nPoint.prototype.neg = function neg(_precompute) {\n  if (this.inf)\n    return this;\n\n  var res = this.curve.point(this.x, this.y.redNeg());\n  if (_precompute && this.precomputed) {\n    var pre = this.precomputed;\n    var negate = function(p) {\n      return p.neg();\n    };\n    res.precomputed = {\n      naf: pre.naf && {\n        wnd: pre.naf.wnd,\n        points: pre.naf.points.map(negate),\n      },\n      doubles: pre.doubles && {\n        step: pre.doubles.step,\n        points: pre.doubles.points.map(negate),\n      },\n    };\n  }\n  return res;\n};\n\nPoint.prototype.toJ = function toJ() {\n  if (this.inf)\n    return this.curve.jpoint(null, null, null);\n\n  var res = this.curve.jpoint(this.x, this.y, this.curve.one);\n  return res;\n};\n\nfunction JPoint(curve, x, y, z) {\n  Base.BasePoint.call(this, curve, 'jacobian');\n  if (x === null && y === null && z === null) {\n    this.x = this.curve.one;\n    this.y = this.curve.one;\n    this.z = new BN(0);\n  } else {\n    this.x = new BN(x, 16);\n    this.y = new BN(y, 16);\n    this.z = new BN(z, 16);\n  }\n  if (!this.x.red)\n    this.x = this.x.toRed(this.curve.red);\n  if (!this.y.red)\n    this.y = this.y.toRed(this.curve.red);\n  if (!this.z.red)\n    this.z = this.z.toRed(this.curve.red);\n\n  this.zOne = this.z === this.curve.one;\n}\ninherits(JPoint, Base.BasePoint);\n\nShortCurve.prototype.jpoint = function jpoint(x, y, z) {\n  return new JPoint(this, x, y, z);\n};\n\nJPoint.prototype.toP = function toP() {\n  if (this.isInfinity())\n    return this.curve.point(null, null);\n\n  var zinv = this.z.redInvm();\n  var zinv2 = zinv.redSqr();\n  var ax = this.x.redMul(zinv2);\n  var ay = this.y.redMul(zinv2).redMul(zinv);\n\n  return this.curve.point(ax, ay);\n};\n\nJPoint.prototype.neg = function neg() {\n  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);\n};\n\nJPoint.prototype.add = function add(p) {\n  // O + P = P\n  if (this.isInfinity())\n    return p;\n\n  // P + O = P\n  if (p.isInfinity())\n    return this;\n\n  // 12M + 4S + 7A\n  var pz2 = p.z.redSqr();\n  var z2 = this.z.redSqr();\n  var u1 = this.x.redMul(pz2);\n  var u2 = p.x.redMul(z2);\n  var s1 = this.y.redMul(pz2.redMul(p.z));\n  var s2 = p.y.redMul(z2.redMul(this.z));\n\n  var h = u1.redSub(u2);\n  var r = s1.redSub(s2);\n  if (h.cmpn(0) === 0) {\n    if (r.cmpn(0) !== 0)\n      return this.curve.jpoint(null, null, null);\n    else\n      return this.dbl();\n  }\n\n  var h2 = h.redSqr();\n  var h3 = h2.redMul(h);\n  var v = u1.redMul(h2);\n\n  var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);\n  var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));\n  var nz = this.z.redMul(p.z).redMul(h);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.mixedAdd = function mixedAdd(p) {\n  // O + P = P\n  if (this.isInfinity())\n    return p.toJ();\n\n  // P + O = P\n  if (p.isInfinity())\n    return this;\n\n  // 8M + 3S + 7A\n  var z2 = this.z.redSqr();\n  var u1 = this.x;\n  var u2 = p.x.redMul(z2);\n  var s1 = this.y;\n  var s2 = p.y.redMul(z2).redMul(this.z);\n\n  var h = u1.redSub(u2);\n  var r = s1.redSub(s2);\n  if (h.cmpn(0) === 0) {\n    if (r.cmpn(0) !== 0)\n      return this.curve.jpoint(null, null, null);\n    else\n      return this.dbl();\n  }\n\n  var h2 = h.redSqr();\n  var h3 = h2.redMul(h);\n  var v = u1.redMul(h2);\n\n  var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);\n  var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));\n  var nz = this.z.redMul(h);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.dblp = function dblp(pow) {\n  if (pow === 0)\n    return this;\n  if (this.isInfinity())\n    return this;\n  if (!pow)\n    return this.dbl();\n\n  var i;\n  if (this.curve.zeroA || this.curve.threeA) {\n    var r = this;\n    for (i = 0; i < pow; i++)\n      r = r.dbl();\n    return r;\n  }\n\n  // 1M + 2S + 1A + N * (4S + 5M + 8A)\n  // N = 1 => 6M + 6S + 9A\n  var a = this.curve.a;\n  var tinv = this.curve.tinv;\n\n  var jx = this.x;\n  var jy = this.y;\n  var jz = this.z;\n  var jz4 = jz.redSqr().redSqr();\n\n  // Reuse results\n  var jyd = jy.redAdd(jy);\n  for (i = 0; i < pow; i++) {\n    var jx2 = jx.redSqr();\n    var jyd2 = jyd.redSqr();\n    var jyd4 = jyd2.redSqr();\n    var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));\n\n    var t1 = jx.redMul(jyd2);\n    var nx = c.redSqr().redISub(t1.redAdd(t1));\n    var t2 = t1.redISub(nx);\n    var dny = c.redMul(t2);\n    dny = dny.redIAdd(dny).redISub(jyd4);\n    var nz = jyd.redMul(jz);\n    if (i + 1 < pow)\n      jz4 = jz4.redMul(jyd4);\n\n    jx = nx;\n    jz = nz;\n    jyd = dny;\n  }\n\n  return this.curve.jpoint(jx, jyd.redMul(tinv), jz);\n};\n\nJPoint.prototype.dbl = function dbl() {\n  if (this.isInfinity())\n    return this;\n\n  if (this.curve.zeroA)\n    return this._zeroDbl();\n  else if (this.curve.threeA)\n    return this._threeDbl();\n  else\n    return this._dbl();\n};\n\nJPoint.prototype._zeroDbl = function _zeroDbl() {\n  var nx;\n  var ny;\n  var nz;\n  // Z = 1\n  if (this.zOne) {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html\n    //     #doubling-mdbl-2007-bl\n    // 1M + 5S + 14A\n\n    // XX = X1^2\n    var xx = this.x.redSqr();\n    // YY = Y1^2\n    var yy = this.y.redSqr();\n    // YYYY = YY^2\n    var yyyy = yy.redSqr();\n    // S = 2 * ((X1 + YY)^2 - XX - YYYY)\n    var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);\n    s = s.redIAdd(s);\n    // M = 3 * XX + a; a = 0\n    var m = xx.redAdd(xx).redIAdd(xx);\n    // T = M ^ 2 - 2*S\n    var t = m.redSqr().redISub(s).redISub(s);\n\n    // 8 * YYYY\n    var yyyy8 = yyyy.redIAdd(yyyy);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n\n    // X3 = T\n    nx = t;\n    // Y3 = M * (S - T) - 8 * YYYY\n    ny = m.redMul(s.redISub(t)).redISub(yyyy8);\n    // Z3 = 2*Y1\n    nz = this.y.redAdd(this.y);\n  } else {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html\n    //     #doubling-dbl-2009-l\n    // 2M + 5S + 13A\n\n    // A = X1^2\n    var a = this.x.redSqr();\n    // B = Y1^2\n    var b = this.y.redSqr();\n    // C = B^2\n    var c = b.redSqr();\n    // D = 2 * ((X1 + B)^2 - A - C)\n    var d = this.x.redAdd(b).redSqr().redISub(a).redISub(c);\n    d = d.redIAdd(d);\n    // E = 3 * A\n    var e = a.redAdd(a).redIAdd(a);\n    // F = E^2\n    var f = e.redSqr();\n\n    // 8 * C\n    var c8 = c.redIAdd(c);\n    c8 = c8.redIAdd(c8);\n    c8 = c8.redIAdd(c8);\n\n    // X3 = F - 2 * D\n    nx = f.redISub(d).redISub(d);\n    // Y3 = E * (D - X3) - 8 * C\n    ny = e.redMul(d.redISub(nx)).redISub(c8);\n    // Z3 = 2 * Y1 * Z1\n    nz = this.y.redMul(this.z);\n    nz = nz.redIAdd(nz);\n  }\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype._threeDbl = function _threeDbl() {\n  var nx;\n  var ny;\n  var nz;\n  // Z = 1\n  if (this.zOne) {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-3.html\n    //     #doubling-mdbl-2007-bl\n    // 1M + 5S + 15A\n\n    // XX = X1^2\n    var xx = this.x.redSqr();\n    // YY = Y1^2\n    var yy = this.y.redSqr();\n    // YYYY = YY^2\n    var yyyy = yy.redSqr();\n    // S = 2 * ((X1 + YY)^2 - XX - YYYY)\n    var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);\n    s = s.redIAdd(s);\n    // M = 3 * XX + a\n    var m = xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a);\n    // T = M^2 - 2 * S\n    var t = m.redSqr().redISub(s).redISub(s);\n    // X3 = T\n    nx = t;\n    // Y3 = M * (S - T) - 8 * YYYY\n    var yyyy8 = yyyy.redIAdd(yyyy);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n    ny = m.redMul(s.redISub(t)).redISub(yyyy8);\n    // Z3 = 2 * Y1\n    nz = this.y.redAdd(this.y);\n  } else {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-3.html#doubling-dbl-2001-b\n    // 3M + 5S\n\n    // delta = Z1^2\n    var delta = this.z.redSqr();\n    // gamma = Y1^2\n    var gamma = this.y.redSqr();\n    // beta = X1 * gamma\n    var beta = this.x.redMul(gamma);\n    // alpha = 3 * (X1 - delta) * (X1 + delta)\n    var alpha = this.x.redSub(delta).redMul(this.x.redAdd(delta));\n    alpha = alpha.redAdd(alpha).redIAdd(alpha);\n    // X3 = alpha^2 - 8 * beta\n    var beta4 = beta.redIAdd(beta);\n    beta4 = beta4.redIAdd(beta4);\n    var beta8 = beta4.redAdd(beta4);\n    nx = alpha.redSqr().redISub(beta8);\n    // Z3 = (Y1 + Z1)^2 - gamma - delta\n    nz = this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);\n    // Y3 = alpha * (4 * beta - X3) - 8 * gamma^2\n    var ggamma8 = gamma.redSqr();\n    ggamma8 = ggamma8.redIAdd(ggamma8);\n    ggamma8 = ggamma8.redIAdd(ggamma8);\n    ggamma8 = ggamma8.redIAdd(ggamma8);\n    ny = alpha.redMul(beta4.redISub(nx)).redISub(ggamma8);\n  }\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype._dbl = function _dbl() {\n  var a = this.curve.a;\n\n  // 4M + 6S + 10A\n  var jx = this.x;\n  var jy = this.y;\n  var jz = this.z;\n  var jz4 = jz.redSqr().redSqr();\n\n  var jx2 = jx.redSqr();\n  var jy2 = jy.redSqr();\n\n  var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));\n\n  var jxd4 = jx.redAdd(jx);\n  jxd4 = jxd4.redIAdd(jxd4);\n  var t1 = jxd4.redMul(jy2);\n  var nx = c.redSqr().redISub(t1.redAdd(t1));\n  var t2 = t1.redISub(nx);\n\n  var jyd8 = jy2.redSqr();\n  jyd8 = jyd8.redIAdd(jyd8);\n  jyd8 = jyd8.redIAdd(jyd8);\n  jyd8 = jyd8.redIAdd(jyd8);\n  var ny = c.redMul(t2).redISub(jyd8);\n  var nz = jy.redAdd(jy).redMul(jz);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.trpl = function trpl() {\n  if (!this.curve.zeroA)\n    return this.dbl().add(this);\n\n  // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html#tripling-tpl-2007-bl\n  // 5M + 10S + ...\n\n  // XX = X1^2\n  var xx = this.x.redSqr();\n  // YY = Y1^2\n  var yy = this.y.redSqr();\n  // ZZ = Z1^2\n  var zz = this.z.redSqr();\n  // YYYY = YY^2\n  var yyyy = yy.redSqr();\n  // M = 3 * XX + a * ZZ2; a = 0\n  var m = xx.redAdd(xx).redIAdd(xx);\n  // MM = M^2\n  var mm = m.redSqr();\n  // E = 6 * ((X1 + YY)^2 - XX - YYYY) - MM\n  var e = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);\n  e = e.redIAdd(e);\n  e = e.redAdd(e).redIAdd(e);\n  e = e.redISub(mm);\n  // EE = E^2\n  var ee = e.redSqr();\n  // T = 16*YYYY\n  var t = yyyy.redIAdd(yyyy);\n  t = t.redIAdd(t);\n  t = t.redIAdd(t);\n  t = t.redIAdd(t);\n  // U = (M + E)^2 - MM - EE - T\n  var u = m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t);\n  // X3 = 4 * (X1 * EE - 4 * YY * U)\n  var yyu4 = yy.redMul(u);\n  yyu4 = yyu4.redIAdd(yyu4);\n  yyu4 = yyu4.redIAdd(yyu4);\n  var nx = this.x.redMul(ee).redISub(yyu4);\n  nx = nx.redIAdd(nx);\n  nx = nx.redIAdd(nx);\n  // Y3 = 8 * Y1 * (U * (T - U) - E * EE)\n  var ny = this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));\n  ny = ny.redIAdd(ny);\n  ny = ny.redIAdd(ny);\n  ny = ny.redIAdd(ny);\n  // Z3 = (Z1 + E)^2 - ZZ - EE\n  var nz = this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.mul = function mul(k, kbase) {\n  k = new BN(k, kbase);\n\n  return this.curve._wnafMul(this, k);\n};\n\nJPoint.prototype.eq = function eq(p) {\n  if (p.type === 'affine')\n    return this.eq(p.toJ());\n\n  if (this === p)\n    return true;\n\n  // x1 * z2^2 == x2 * z1^2\n  var z2 = this.z.redSqr();\n  var pz2 = p.z.redSqr();\n  if (this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0) !== 0)\n    return false;\n\n  // y1 * z2^3 == y2 * z1^3\n  var z3 = z2.redMul(this.z);\n  var pz3 = pz2.redMul(p.z);\n  return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0) === 0;\n};\n\nJPoint.prototype.eqXToP = function eqXToP(x) {\n  var zs = this.z.redSqr();\n  var rx = x.toRed(this.curve.red).redMul(zs);\n  if (this.x.cmp(rx) === 0)\n    return true;\n\n  var xc = x.clone();\n  var t = this.curve.redN.redMul(zs);\n  for (;;) {\n    xc.iadd(this.curve.n);\n    if (xc.cmp(this.curve.p) >= 0)\n      return false;\n\n    rx.redIAdd(t);\n    if (this.x.cmp(rx) === 0)\n      return true;\n  }\n};\n\nJPoint.prototype.inspect = function inspect() {\n  if (this.isInfinity())\n    return '<EC JPoint Infinity>';\n  return '<EC JPoint x: ' + this.x.toString(16, 2) +\n      ' y: ' + this.y.toString(16, 2) +\n      ' z: ' + this.z.toString(16, 2) + '>';\n};\n\nJPoint.prototype.isInfinity = function isInfinity() {\n  // XXX This code assumes that zero is always zero in red\n  return this.z.cmpn(0) === 0;\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar BN = require('bn.js');\nvar inherits = require('inherits');\nvar Base = require('./base');\n\nvar assert = utils.assert;\n\nfunction EdwardsCurve(conf) {\n  // NOTE: Important as we are creating point in Base.call()\n  this.twisted = (conf.a | 0) !== 1;\n  this.mOneA = this.twisted && (conf.a | 0) === -1;\n  this.extended = this.mOneA;\n\n  Base.call(this, 'edwards', conf);\n\n  this.a = new BN(conf.a, 16).umod(this.red.m);\n  this.a = this.a.toRed(this.red);\n  this.c = new BN(conf.c, 16).toRed(this.red);\n  this.c2 = this.c.redSqr();\n  this.d = new BN(conf.d, 16).toRed(this.red);\n  this.dd = this.d.redAdd(this.d);\n\n  assert(!this.twisted || this.c.fromRed().cmpn(1) === 0);\n  this.oneC = (conf.c | 0) === 1;\n}\ninherits(EdwardsCurve, Base);\nmodule.exports = EdwardsCurve;\n\nEdwardsCurve.prototype._mulA = function _mulA(num) {\n  if (this.mOneA)\n    return num.redNeg();\n  else\n    return this.a.redMul(num);\n};\n\nEdwardsCurve.prototype._mulC = function _mulC(num) {\n  if (this.oneC)\n    return num;\n  else\n    return this.c.redMul(num);\n};\n\n// Just for compatibility with Short curve\nEdwardsCurve.prototype.jpoint = function jpoint(x, y, z, t) {\n  return this.point(x, y, z, t);\n};\n\nEdwardsCurve.prototype.pointFromX = function pointFromX(x, odd) {\n  x = new BN(x, 16);\n  if (!x.red)\n    x = x.toRed(this.red);\n\n  var x2 = x.redSqr();\n  var rhs = this.c2.redSub(this.a.redMul(x2));\n  var lhs = this.one.redSub(this.c2.redMul(this.d).redMul(x2));\n\n  var y2 = rhs.redMul(lhs.redInvm());\n  var y = y2.redSqrt();\n  if (y.redSqr().redSub(y2).cmp(this.zero) !== 0)\n    throw new Error('invalid point');\n\n  var isOdd = y.fromRed().isOdd();\n  if (odd && !isOdd || !odd && isOdd)\n    y = y.redNeg();\n\n  return this.point(x, y);\n};\n\nEdwardsCurve.prototype.pointFromY = function pointFromY(y, odd) {\n  y = new BN(y, 16);\n  if (!y.red)\n    y = y.toRed(this.red);\n\n  // x^2 = (y^2 - c^2) / (c^2 d y^2 - a)\n  var y2 = y.redSqr();\n  var lhs = y2.redSub(this.c2);\n  var rhs = y2.redMul(this.d).redMul(this.c2).redSub(this.a);\n  var x2 = lhs.redMul(rhs.redInvm());\n\n  if (x2.cmp(this.zero) === 0) {\n    if (odd)\n      throw new Error('invalid point');\n    else\n      return this.point(this.zero, y);\n  }\n\n  var x = x2.redSqrt();\n  if (x.redSqr().redSub(x2).cmp(this.zero) !== 0)\n    throw new Error('invalid point');\n\n  if (x.fromRed().isOdd() !== odd)\n    x = x.redNeg();\n\n  return this.point(x, y);\n};\n\nEdwardsCurve.prototype.validate = function validate(point) {\n  if (point.isInfinity())\n    return true;\n\n  // Curve: A * X^2 + Y^2 = C^2 * (1 + D * X^2 * Y^2)\n  point.normalize();\n\n  var x2 = point.x.redSqr();\n  var y2 = point.y.redSqr();\n  var lhs = x2.redMul(this.a).redAdd(y2);\n  var rhs = this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));\n\n  return lhs.cmp(rhs) === 0;\n};\n\nfunction Point(curve, x, y, z, t) {\n  Base.BasePoint.call(this, curve, 'projective');\n  if (x === null && y === null && z === null) {\n    this.x = this.curve.zero;\n    this.y = this.curve.one;\n    this.z = this.curve.one;\n    this.t = this.curve.zero;\n    this.zOne = true;\n  } else {\n    this.x = new BN(x, 16);\n    this.y = new BN(y, 16);\n    this.z = z ? new BN(z, 16) : this.curve.one;\n    this.t = t && new BN(t, 16);\n    if (!this.x.red)\n      this.x = this.x.toRed(this.curve.red);\n    if (!this.y.red)\n      this.y = this.y.toRed(this.curve.red);\n    if (!this.z.red)\n      this.z = this.z.toRed(this.curve.red);\n    if (this.t && !this.t.red)\n      this.t = this.t.toRed(this.curve.red);\n    this.zOne = this.z === this.curve.one;\n\n    // Use extended coordinates\n    if (this.curve.extended && !this.t) {\n      this.t = this.x.redMul(this.y);\n      if (!this.zOne)\n        this.t = this.t.redMul(this.z.redInvm());\n    }\n  }\n}\ninherits(Point, Base.BasePoint);\n\nEdwardsCurve.prototype.pointFromJSON = function pointFromJSON(obj) {\n  return Point.fromJSON(this, obj);\n};\n\nEdwardsCurve.prototype.point = function point(x, y, z, t) {\n  return new Point(this, x, y, z, t);\n};\n\nPoint.fromJSON = function fromJSON(curve, obj) {\n  return new Point(curve, obj[0], obj[1], obj[2]);\n};\n\nPoint.prototype.inspect = function inspect() {\n  if (this.isInfinity())\n    return '<EC Point Infinity>';\n  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +\n      ' y: ' + this.y.fromRed().toString(16, 2) +\n      ' z: ' + this.z.fromRed().toString(16, 2) + '>';\n};\n\nPoint.prototype.isInfinity = function isInfinity() {\n  // XXX This code assumes that zero is always zero in red\n  return this.x.cmpn(0) === 0 &&\n    (this.y.cmp(this.z) === 0 ||\n    (this.zOne && this.y.cmp(this.curve.c) === 0));\n};\n\nPoint.prototype._extDbl = function _extDbl() {\n  // hyperelliptic.org/EFD/g1p/auto-twisted-extended-1.html\n  //     #doubling-dbl-2008-hwcd\n  // 4M + 4S\n\n  // A = X1^2\n  var a = this.x.redSqr();\n  // B = Y1^2\n  var b = this.y.redSqr();\n  // C = 2 * Z1^2\n  var c = this.z.redSqr();\n  c = c.redIAdd(c);\n  // D = a * A\n  var d = this.curve._mulA(a);\n  // E = (X1 + Y1)^2 - A - B\n  var e = this.x.redAdd(this.y).redSqr().redISub(a).redISub(b);\n  // G = D + B\n  var g = d.redAdd(b);\n  // F = G - C\n  var f = g.redSub(c);\n  // H = D - B\n  var h = d.redSub(b);\n  // X3 = E * F\n  var nx = e.redMul(f);\n  // Y3 = G * H\n  var ny = g.redMul(h);\n  // T3 = E * H\n  var nt = e.redMul(h);\n  // Z3 = F * G\n  var nz = f.redMul(g);\n  return this.curve.point(nx, ny, nz, nt);\n};\n\nPoint.prototype._projDbl = function _projDbl() {\n  // hyperelliptic.org/EFD/g1p/auto-twisted-projective.html\n  //     #doubling-dbl-2008-bbjlp\n  //     #doubling-dbl-2007-bl\n  // and others\n  // Generally 3M + 4S or 2M + 4S\n\n  // B = (X1 + Y1)^2\n  var b = this.x.redAdd(this.y).redSqr();\n  // C = X1^2\n  var c = this.x.redSqr();\n  // D = Y1^2\n  var d = this.y.redSqr();\n\n  var nx;\n  var ny;\n  var nz;\n  var e;\n  var h;\n  var j;\n  if (this.curve.twisted) {\n    // E = a * C\n    e = this.curve._mulA(c);\n    // F = E + D\n    var f = e.redAdd(d);\n    if (this.zOne) {\n      // X3 = (B - C - D) * (F - 2)\n      nx = b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two));\n      // Y3 = F * (E - D)\n      ny = f.redMul(e.redSub(d));\n      // Z3 = F^2 - 2 * F\n      nz = f.redSqr().redSub(f).redSub(f);\n    } else {\n      // H = Z1^2\n      h = this.z.redSqr();\n      // J = F - 2 * H\n      j = f.redSub(h).redISub(h);\n      // X3 = (B-C-D)*J\n      nx = b.redSub(c).redISub(d).redMul(j);\n      // Y3 = F * (E - D)\n      ny = f.redMul(e.redSub(d));\n      // Z3 = F * J\n      nz = f.redMul(j);\n    }\n  } else {\n    // E = C + D\n    e = c.redAdd(d);\n    // H = (c * Z1)^2\n    h = this.curve._mulC(this.z).redSqr();\n    // J = E - 2 * H\n    j = e.redSub(h).redSub(h);\n    // X3 = c * (B - E) * J\n    nx = this.curve._mulC(b.redISub(e)).redMul(j);\n    // Y3 = c * E * (C - D)\n    ny = this.curve._mulC(e).redMul(c.redISub(d));\n    // Z3 = E * J\n    nz = e.redMul(j);\n  }\n  return this.curve.point(nx, ny, nz);\n};\n\nPoint.prototype.dbl = function dbl() {\n  if (this.isInfinity())\n    return this;\n\n  // Double in extended coordinates\n  if (this.curve.extended)\n    return this._extDbl();\n  else\n    return this._projDbl();\n};\n\nPoint.prototype._extAdd = function _extAdd(p) {\n  // hyperelliptic.org/EFD/g1p/auto-twisted-extended-1.html\n  //     #addition-add-2008-hwcd-3\n  // 8M\n\n  // A = (Y1 - X1) * (Y2 - X2)\n  var a = this.y.redSub(this.x).redMul(p.y.redSub(p.x));\n  // B = (Y1 + X1) * (Y2 + X2)\n  var b = this.y.redAdd(this.x).redMul(p.y.redAdd(p.x));\n  // C = T1 * k * T2\n  var c = this.t.redMul(this.curve.dd).redMul(p.t);\n  // D = Z1 * 2 * Z2\n  var d = this.z.redMul(p.z.redAdd(p.z));\n  // E = B - A\n  var e = b.redSub(a);\n  // F = D - C\n  var f = d.redSub(c);\n  // G = D + C\n  var g = d.redAdd(c);\n  // H = B + A\n  var h = b.redAdd(a);\n  // X3 = E * F\n  var nx = e.redMul(f);\n  // Y3 = G * H\n  var ny = g.redMul(h);\n  // T3 = E * H\n  var nt = e.redMul(h);\n  // Z3 = F * G\n  var nz = f.redMul(g);\n  return this.curve.point(nx, ny, nz, nt);\n};\n\nPoint.prototype._projAdd = function _projAdd(p) {\n  // hyperelliptic.org/EFD/g1p/auto-twisted-projective.html\n  //     #addition-add-2008-bbjlp\n  //     #addition-add-2007-bl\n  // 10M + 1S\n\n  // A = Z1 * Z2\n  var a = this.z.redMul(p.z);\n  // B = A^2\n  var b = a.redSqr();\n  // C = X1 * X2\n  var c = this.x.redMul(p.x);\n  // D = Y1 * Y2\n  var d = this.y.redMul(p.y);\n  // E = d * C * D\n  var e = this.curve.d.redMul(c).redMul(d);\n  // F = B - E\n  var f = b.redSub(e);\n  // G = B + E\n  var g = b.redAdd(e);\n  // X3 = A * F * ((X1 + Y1) * (X2 + Y2) - C - D)\n  var tmp = this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d);\n  var nx = a.redMul(f).redMul(tmp);\n  var ny;\n  var nz;\n  if (this.curve.twisted) {\n    // Y3 = A * G * (D - a * C)\n    ny = a.redMul(g).redMul(d.redSub(this.curve._mulA(c)));\n    // Z3 = F * G\n    nz = f.redMul(g);\n  } else {\n    // Y3 = A * G * (D - C)\n    ny = a.redMul(g).redMul(d.redSub(c));\n    // Z3 = c * F * G\n    nz = this.curve._mulC(f).redMul(g);\n  }\n  return this.curve.point(nx, ny, nz);\n};\n\nPoint.prototype.add = function add(p) {\n  if (this.isInfinity())\n    return p;\n  if (p.isInfinity())\n    return this;\n\n  if (this.curve.extended)\n    return this._extAdd(p);\n  else\n    return this._projAdd(p);\n};\n\nPoint.prototype.mul = function mul(k) {\n  if (this._hasDoubles(k))\n    return this.curve._fixedNafMul(this, k);\n  else\n    return this.curve._wnafMul(this, k);\n};\n\nPoint.prototype.mulAdd = function mulAdd(k1, p, k2) {\n  return this.curve._wnafMulAdd(1, [ this, p ], [ k1, k2 ], 2, false);\n};\n\nPoint.prototype.jmulAdd = function jmulAdd(k1, p, k2) {\n  return this.curve._wnafMulAdd(1, [ this, p ], [ k1, k2 ], 2, true);\n};\n\nPoint.prototype.normalize = function normalize() {\n  if (this.zOne)\n    return this;\n\n  // Normalize coordinates\n  var zi = this.z.redInvm();\n  this.x = this.x.redMul(zi);\n  this.y = this.y.redMul(zi);\n  if (this.t)\n    this.t = this.t.redMul(zi);\n  this.z = this.curve.one;\n  this.zOne = true;\n  return this;\n};\n\nPoint.prototype.neg = function neg() {\n  return this.curve.point(this.x.redNeg(),\n    this.y,\n    this.z,\n    this.t && this.t.redNeg());\n};\n\nPoint.prototype.getX = function getX() {\n  this.normalize();\n  return this.x.fromRed();\n};\n\nPoint.prototype.getY = function getY() {\n  this.normalize();\n  return this.y.fromRed();\n};\n\nPoint.prototype.eq = function eq(other) {\n  return this === other ||\n         this.getX().cmp(other.getX()) === 0 &&\n         this.getY().cmp(other.getY()) === 0;\n};\n\nPoint.prototype.eqXToP = function eqXToP(x) {\n  var rx = x.toRed(this.curve.red).redMul(this.z);\n  if (this.x.cmp(rx) === 0)\n    return true;\n\n  var xc = x.clone();\n  var t = this.curve.redN.redMul(this.z);\n  for (;;) {\n    xc.iadd(this.curve.n);\n    if (xc.cmp(this.curve.p) >= 0)\n      return false;\n\n    rx.redIAdd(t);\n    if (this.x.cmp(rx) === 0)\n      return true;\n  }\n};\n\n// Compatibility with BaseCurve\nPoint.prototype.toP = Point.prototype.normalize;\nPoint.prototype.mixedAdd = Point.prototype.add;\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar assert = require('minimalistic-assert');\n\nvar rotr64_hi = utils.rotr64_hi;\nvar rotr64_lo = utils.rotr64_lo;\nvar shr64_hi = utils.shr64_hi;\nvar shr64_lo = utils.shr64_lo;\nvar sum64 = utils.sum64;\nvar sum64_hi = utils.sum64_hi;\nvar sum64_lo = utils.sum64_lo;\nvar sum64_4_hi = utils.sum64_4_hi;\nvar sum64_4_lo = utils.sum64_4_lo;\nvar sum64_5_hi = utils.sum64_5_hi;\nvar sum64_5_lo = utils.sum64_5_lo;\n\nvar BlockHash = common.BlockHash;\n\nvar sha512_K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction SHA512() {\n  if (!(this instanceof SHA512))\n    return new SHA512();\n\n  BlockHash.call(this);\n  this.h = [\n    0x6a09e667, 0xf3bcc908,\n    0xbb67ae85, 0x84caa73b,\n    0x3c6ef372, 0xfe94f82b,\n    0xa54ff53a, 0x5f1d36f1,\n    0x510e527f, 0xade682d1,\n    0x9b05688c, 0x2b3e6c1f,\n    0x1f83d9ab, 0xfb41bd6b,\n    0x5be0cd19, 0x137e2179 ];\n  this.k = sha512_K;\n  this.W = new Array(160);\n}\nutils.inherits(SHA512, BlockHash);\nmodule.exports = SHA512;\n\nSHA512.blockSize = 1024;\nSHA512.outSize = 512;\nSHA512.hmacStrength = 192;\nSHA512.padLength = 128;\n\nSHA512.prototype._prepareBlock = function _prepareBlock(msg, start) {\n  var W = this.W;\n\n  // 32 x 32bit words\n  for (var i = 0; i < 32; i++)\n    W[i] = msg[start + i];\n  for (; i < W.length; i += 2) {\n    var c0_hi = g1_512_hi(W[i - 4], W[i - 3]);  // i - 2\n    var c0_lo = g1_512_lo(W[i - 4], W[i - 3]);\n    var c1_hi = W[i - 14];  // i - 7\n    var c1_lo = W[i - 13];\n    var c2_hi = g0_512_hi(W[i - 30], W[i - 29]);  // i - 15\n    var c2_lo = g0_512_lo(W[i - 30], W[i - 29]);\n    var c3_hi = W[i - 32];  // i - 16\n    var c3_lo = W[i - 31];\n\n    W[i] = sum64_4_hi(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo);\n    W[i + 1] = sum64_4_lo(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo);\n  }\n};\n\nSHA512.prototype._update = function _update(msg, start) {\n  this._prepareBlock(msg, start);\n\n  var W = this.W;\n\n  var ah = this.h[0];\n  var al = this.h[1];\n  var bh = this.h[2];\n  var bl = this.h[3];\n  var ch = this.h[4];\n  var cl = this.h[5];\n  var dh = this.h[6];\n  var dl = this.h[7];\n  var eh = this.h[8];\n  var el = this.h[9];\n  var fh = this.h[10];\n  var fl = this.h[11];\n  var gh = this.h[12];\n  var gl = this.h[13];\n  var hh = this.h[14];\n  var hl = this.h[15];\n\n  assert(this.k.length === W.length);\n  for (var i = 0; i < W.length; i += 2) {\n    var c0_hi = hh;\n    var c0_lo = hl;\n    var c1_hi = s1_512_hi(eh, el);\n    var c1_lo = s1_512_lo(eh, el);\n    var c2_hi = ch64_hi(eh, el, fh, fl, gh, gl);\n    var c2_lo = ch64_lo(eh, el, fh, fl, gh, gl);\n    var c3_hi = this.k[i];\n    var c3_lo = this.k[i + 1];\n    var c4_hi = W[i];\n    var c4_lo = W[i + 1];\n\n    var T1_hi = sum64_5_hi(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo,\n      c4_hi, c4_lo);\n    var T1_lo = sum64_5_lo(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo,\n      c4_hi, c4_lo);\n\n    c0_hi = s0_512_hi(ah, al);\n    c0_lo = s0_512_lo(ah, al);\n    c1_hi = maj64_hi(ah, al, bh, bl, ch, cl);\n    c1_lo = maj64_lo(ah, al, bh, bl, ch, cl);\n\n    var T2_hi = sum64_hi(c0_hi, c0_lo, c1_hi, c1_lo);\n    var T2_lo = sum64_lo(c0_hi, c0_lo, c1_hi, c1_lo);\n\n    hh = gh;\n    hl = gl;\n\n    gh = fh;\n    gl = fl;\n\n    fh = eh;\n    fl = el;\n\n    eh = sum64_hi(dh, dl, T1_hi, T1_lo);\n    el = sum64_lo(dl, dl, T1_hi, T1_lo);\n\n    dh = ch;\n    dl = cl;\n\n    ch = bh;\n    cl = bl;\n\n    bh = ah;\n    bl = al;\n\n    ah = sum64_hi(T1_hi, T1_lo, T2_hi, T2_lo);\n    al = sum64_lo(T1_hi, T1_lo, T2_hi, T2_lo);\n  }\n\n  sum64(this.h, 0, ah, al);\n  sum64(this.h, 2, bh, bl);\n  sum64(this.h, 4, ch, cl);\n  sum64(this.h, 6, dh, dl);\n  sum64(this.h, 8, eh, el);\n  sum64(this.h, 10, fh, fl);\n  sum64(this.h, 12, gh, gl);\n  sum64(this.h, 14, hh, hl);\n};\n\nSHA512.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n\nfunction ch64_hi(xh, xl, yh, yl, zh) {\n  var r = (xh & yh) ^ ((~xh) & zh);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction ch64_lo(xh, xl, yh, yl, zh, zl) {\n  var r = (xl & yl) ^ ((~xl) & zl);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction maj64_hi(xh, xl, yh, yl, zh) {\n  var r = (xh & yh) ^ (xh & zh) ^ (yh & zh);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction maj64_lo(xh, xl, yh, yl, zh, zl) {\n  var r = (xl & yl) ^ (xl & zl) ^ (yl & zl);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s0_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 28);\n  var c1_hi = rotr64_hi(xl, xh, 2);  // 34\n  var c2_hi = rotr64_hi(xl, xh, 7);  // 39\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s0_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 28);\n  var c1_lo = rotr64_lo(xl, xh, 2);  // 34\n  var c2_lo = rotr64_lo(xl, xh, 7);  // 39\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s1_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 14);\n  var c1_hi = rotr64_hi(xh, xl, 18);\n  var c2_hi = rotr64_hi(xl, xh, 9);  // 41\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s1_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 14);\n  var c1_lo = rotr64_lo(xh, xl, 18);\n  var c2_lo = rotr64_lo(xl, xh, 9);  // 41\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g0_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 1);\n  var c1_hi = rotr64_hi(xh, xl, 8);\n  var c2_hi = shr64_hi(xh, xl, 7);\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g0_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 1);\n  var c1_lo = rotr64_lo(xh, xl, 8);\n  var c2_lo = shr64_lo(xh, xl, 7);\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g1_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 19);\n  var c1_hi = rotr64_hi(xl, xh, 29);  // 61\n  var c2_hi = shr64_hi(xh, xl, 6);\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g1_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 19);\n  var c1_lo = rotr64_lo(xl, xh, 29);  // 61\n  var c2_lo = shr64_lo(xh, xl, 6);\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n","var Reporter = require('../base').Reporter;\nvar EncoderBuffer = require('../base').EncoderBuffer;\nvar DecoderBuffer = require('../base').DecoderBuffer;\nvar assert = require('minimalistic-assert');\n\n// Supported tags\nvar tags = [\n  'seq', 'seqof', 'set', 'setof', 'objid', 'bool',\n  'gentime', 'utctime', 'null_', 'enum', 'int', 'objDesc',\n  'bitstr', 'bmpstr', 'charstr', 'genstr', 'graphstr', 'ia5str', 'iso646str',\n  'numstr', 'octstr', 'printstr', 't61str', 'unistr', 'utf8str', 'videostr'\n];\n\n// Public methods list\nvar methods = [\n  'key', 'obj', 'use', 'optional', 'explicit', 'implicit', 'def', 'choice',\n  'any', 'contains'\n].concat(tags);\n\n// Overrided methods list\nvar overrided = [\n  '_peekTag', '_decodeTag', '_use',\n  '_decodeStr', '_decodeObjid', '_decodeTime',\n  '_decodeNull', '_decodeInt', '_decodeBool', '_decodeList',\n\n  '_encodeComposite', '_encodeStr', '_encodeObjid', '_encodeTime',\n  '_encodeNull', '_encodeInt', '_encodeBool'\n];\n\nfunction Node(enc, parent) {\n  var state = {};\n  this._baseState = state;\n\n  state.enc = enc;\n\n  state.parent = parent || null;\n  state.children = null;\n\n  // State\n  state.tag = null;\n  state.args = null;\n  state.reverseArgs = null;\n  state.choice = null;\n  state.optional = false;\n  state.any = false;\n  state.obj = false;\n  state.use = null;\n  state.useDecoder = null;\n  state.key = null;\n  state['default'] = null;\n  state.explicit = null;\n  state.implicit = null;\n  state.contains = null;\n\n  // Should create new instance on each method\n  if (!state.parent) {\n    state.children = [];\n    this._wrap();\n  }\n}\nmodule.exports = Node;\n\nvar stateProps = [\n  'enc', 'parent', 'children', 'tag', 'args', 'reverseArgs', 'choice',\n  'optional', 'any', 'obj', 'use', 'alteredUse', 'key', 'default', 'explicit',\n  'implicit', 'contains'\n];\n\nNode.prototype.clone = function clone() {\n  var state = this._baseState;\n  var cstate = {};\n  stateProps.forEach(function(prop) {\n    cstate[prop] = state[prop];\n  });\n  var res = new this.constructor(cstate.parent);\n  res._baseState = cstate;\n  return res;\n};\n\nNode.prototype._wrap = function wrap() {\n  var state = this._baseState;\n  methods.forEach(function(method) {\n    this[method] = function _wrappedMethod() {\n      var clone = new this.constructor(this);\n      state.children.push(clone);\n      return clone[method].apply(clone, arguments);\n    };\n  }, this);\n};\n\nNode.prototype._init = function init(body) {\n  var state = this._baseState;\n\n  assert(state.parent === null);\n  body.call(this);\n\n  // Filter children\n  state.children = state.children.filter(function(child) {\n    return child._baseState.parent === this;\n  }, this);\n  assert.equal(state.children.length, 1, 'Root node can have only one child');\n};\n\nNode.prototype._useArgs = function useArgs(args) {\n  var state = this._baseState;\n\n  // Filter children and args\n  var children = args.filter(function(arg) {\n    return arg instanceof this.constructor;\n  }, this);\n  args = args.filter(function(arg) {\n    return !(arg instanceof this.constructor);\n  }, this);\n\n  if (children.length !== 0) {\n    assert(state.children === null);\n    state.children = children;\n\n    // Replace parent to maintain backward link\n    children.forEach(function(child) {\n      child._baseState.parent = this;\n    }, this);\n  }\n  if (args.length !== 0) {\n    assert(state.args === null);\n    state.args = args;\n    state.reverseArgs = args.map(function(arg) {\n      if (typeof arg !== 'object' || arg.constructor !== Object)\n        return arg;\n\n      var res = {};\n      Object.keys(arg).forEach(function(key) {\n        if (key == (key | 0))\n          key |= 0;\n        var value = arg[key];\n        res[value] = key;\n      });\n      return res;\n    });\n  }\n};\n\n//\n// Overrided methods\n//\n\noverrided.forEach(function(method) {\n  Node.prototype[method] = function _overrided() {\n    var state = this._baseState;\n    throw new Error(method + ' not implemented for encoding: ' + state.enc);\n  };\n});\n\n//\n// Public methods\n//\n\ntags.forEach(function(tag) {\n  Node.prototype[tag] = function _tagMethod() {\n    var state = this._baseState;\n    var args = Array.prototype.slice.call(arguments);\n\n    assert(state.tag === null);\n    state.tag = tag;\n\n    this._useArgs(args);\n\n    return this;\n  };\n});\n\nNode.prototype.use = function use(item) {\n  assert(item);\n  var state = this._baseState;\n\n  assert(state.use === null);\n  state.use = item;\n\n  return this;\n};\n\nNode.prototype.optional = function optional() {\n  var state = this._baseState;\n\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.def = function def(val) {\n  var state = this._baseState;\n\n  assert(state['default'] === null);\n  state['default'] = val;\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.explicit = function explicit(num) {\n  var state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.explicit = num;\n\n  return this;\n};\n\nNode.prototype.implicit = function implicit(num) {\n  var state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.implicit = num;\n\n  return this;\n};\n\nNode.prototype.obj = function obj() {\n  var state = this._baseState;\n  var args = Array.prototype.slice.call(arguments);\n\n  state.obj = true;\n\n  if (args.length !== 0)\n    this._useArgs(args);\n\n  return this;\n};\n\nNode.prototype.key = function key(newKey) {\n  var state = this._baseState;\n\n  assert(state.key === null);\n  state.key = newKey;\n\n  return this;\n};\n\nNode.prototype.any = function any() {\n  var state = this._baseState;\n\n  state.any = true;\n\n  return this;\n};\n\nNode.prototype.choice = function choice(obj) {\n  var state = this._baseState;\n\n  assert(state.choice === null);\n  state.choice = obj;\n  this._useArgs(Object.keys(obj).map(function(key) {\n    return obj[key];\n  }));\n\n  return this;\n};\n\nNode.prototype.contains = function contains(item) {\n  var state = this._baseState;\n\n  assert(state.use === null);\n  state.contains = item;\n\n  return this;\n};\n\n//\n// Decoding\n//\n\nNode.prototype._decode = function decode(input, options) {\n  var state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return input.wrapResult(state.children[0]._decode(input, options));\n\n  var result = state['default'];\n  var present = true;\n\n  var prevKey = null;\n  if (state.key !== null)\n    prevKey = input.enterKey(state.key);\n\n  // Check if tag is there\n  if (state.optional) {\n    var tag = null;\n    if (state.explicit !== null)\n      tag = state.explicit;\n    else if (state.implicit !== null)\n      tag = state.implicit;\n    else if (state.tag !== null)\n      tag = state.tag;\n\n    if (tag === null && !state.any) {\n      // Trial and Error\n      var save = input.save();\n      try {\n        if (state.choice === null)\n          this._decodeGeneric(state.tag, input, options);\n        else\n          this._decodeChoice(input, options);\n        present = true;\n      } catch (e) {\n        present = false;\n      }\n      input.restore(save);\n    } else {\n      present = this._peekTag(input, tag, state.any);\n\n      if (input.isError(present))\n        return present;\n    }\n  }\n\n  // Push object on stack\n  var prevObj;\n  if (state.obj && present)\n    prevObj = input.enterObject();\n\n  if (present) {\n    // Unwrap explicit values\n    if (state.explicit !== null) {\n      var explicit = this._decodeTag(input, state.explicit);\n      if (input.isError(explicit))\n        return explicit;\n      input = explicit;\n    }\n\n    var start = input.offset;\n\n    // Unwrap implicit and normal values\n    if (state.use === null && state.choice === null) {\n      if (state.any)\n        var save = input.save();\n      var body = this._decodeTag(\n        input,\n        state.implicit !== null ? state.implicit : state.tag,\n        state.any\n      );\n      if (input.isError(body))\n        return body;\n\n      if (state.any)\n        result = input.raw(save);\n      else\n        input = body;\n    }\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), start, input.length, 'tagged');\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), input.offset, input.length, 'content');\n\n    // Select proper method for tag\n    if (state.any)\n      result = result;\n    else if (state.choice === null)\n      result = this._decodeGeneric(state.tag, input, options);\n    else\n      result = this._decodeChoice(input, options);\n\n    if (input.isError(result))\n      return result;\n\n    // Decode children\n    if (!state.any && state.choice === null && state.children !== null) {\n      state.children.forEach(function decodeChildren(child) {\n        // NOTE: We are ignoring errors here, to let parser continue with other\n        // parts of encoded data\n        child._decode(input, options);\n      });\n    }\n\n    // Decode contained/encoded by schema, only in bit or octet strings\n    if (state.contains && (state.tag === 'octstr' || state.tag === 'bitstr')) {\n      var data = new DecoderBuffer(result);\n      result = this._getUse(state.contains, input._reporterState.obj)\n          ._decode(data, options);\n    }\n  }\n\n  // Pop object\n  if (state.obj && present)\n    result = input.leaveObject(prevObj);\n\n  // Set key\n  if (state.key !== null && (result !== null || present === true))\n    input.leaveKey(prevKey, state.key, result);\n  else if (prevKey !== null)\n    input.exitKey(prevKey);\n\n  return result;\n};\n\nNode.prototype._decodeGeneric = function decodeGeneric(tag, input, options) {\n  var state = this._baseState;\n\n  if (tag === 'seq' || tag === 'set')\n    return null;\n  if (tag === 'seqof' || tag === 'setof')\n    return this._decodeList(input, tag, state.args[0], options);\n  else if (/str$/.test(tag))\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'objid' && state.args)\n    return this._decodeObjid(input, state.args[0], state.args[1], options);\n  else if (tag === 'objid')\n    return this._decodeObjid(input, null, null, options);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._decodeTime(input, tag, options);\n  else if (tag === 'null_')\n    return this._decodeNull(input, options);\n  else if (tag === 'bool')\n    return this._decodeBool(input, options);\n  else if (tag === 'objDesc')\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'int' || tag === 'enum')\n    return this._decodeInt(input, state.args && state.args[0], options);\n\n  if (state.use !== null) {\n    return this._getUse(state.use, input._reporterState.obj)\n        ._decode(input, options);\n  } else {\n    return input.error('unknown tag: ' + tag);\n  }\n};\n\nNode.prototype._getUse = function _getUse(entity, obj) {\n\n  var state = this._baseState;\n  // Create altered use decoder if implicit is set\n  state.useDecoder = this._use(entity, obj);\n  assert(state.useDecoder._baseState.parent === null);\n  state.useDecoder = state.useDecoder._baseState.children[0];\n  if (state.implicit !== state.useDecoder._baseState.implicit) {\n    state.useDecoder = state.useDecoder.clone();\n    state.useDecoder._baseState.implicit = state.implicit;\n  }\n  return state.useDecoder;\n};\n\nNode.prototype._decodeChoice = function decodeChoice(input, options) {\n  var state = this._baseState;\n  var result = null;\n  var match = false;\n\n  Object.keys(state.choice).some(function(key) {\n    var save = input.save();\n    var node = state.choice[key];\n    try {\n      var value = node._decode(input, options);\n      if (input.isError(value))\n        return false;\n\n      result = { type: key, value: value };\n      match = true;\n    } catch (e) {\n      input.restore(save);\n      return false;\n    }\n    return true;\n  }, this);\n\n  if (!match)\n    return input.error('Choice not matched');\n\n  return result;\n};\n\n//\n// Encoding\n//\n\nNode.prototype._createEncoderBuffer = function createEncoderBuffer(data) {\n  return new EncoderBuffer(data, this.reporter);\n};\n\nNode.prototype._encode = function encode(data, reporter, parent) {\n  var state = this._baseState;\n  if (state['default'] !== null && state['default'] === data)\n    return;\n\n  var result = this._encodeValue(data, reporter, parent);\n  if (result === undefined)\n    return;\n\n  if (this._skipDefault(result, reporter, parent))\n    return;\n\n  return result;\n};\n\nNode.prototype._encodeValue = function encode(data, reporter, parent) {\n  var state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return state.children[0]._encode(data, reporter || new Reporter());\n\n  var result = null;\n\n  // Set reporter to share it with a child class\n  this.reporter = reporter;\n\n  // Check if data is there\n  if (state.optional && data === undefined) {\n    if (state['default'] !== null)\n      data = state['default']\n    else\n      return;\n  }\n\n  // Encode children first\n  var content = null;\n  var primitive = false;\n  if (state.any) {\n    // Anything that was given is translated to buffer\n    result = this._createEncoderBuffer(data);\n  } else if (state.choice) {\n    result = this._encodeChoice(data, reporter);\n  } else if (state.contains) {\n    content = this._getUse(state.contains, parent)._encode(data, reporter);\n    primitive = true;\n  } else if (state.children) {\n    content = state.children.map(function(child) {\n      if (child._baseState.tag === 'null_')\n        return child._encode(null, reporter, data);\n\n      if (child._baseState.key === null)\n        return reporter.error('Child should have a key');\n      var prevKey = reporter.enterKey(child._baseState.key);\n\n      if (typeof data !== 'object')\n        return reporter.error('Child expected, but input is not object');\n\n      var res = child._encode(data[child._baseState.key], reporter, data);\n      reporter.leaveKey(prevKey);\n\n      return res;\n    }, this).filter(function(child) {\n      return child;\n    });\n    content = this._createEncoderBuffer(content);\n  } else {\n    if (state.tag === 'seqof' || state.tag === 'setof') {\n      // TODO(indutny): this should be thrown on DSL level\n      if (!(state.args && state.args.length === 1))\n        return reporter.error('Too many args for : ' + state.tag);\n\n      if (!Array.isArray(data))\n        return reporter.error('seqof/setof, but data is not Array');\n\n      var child = this.clone();\n      child._baseState.implicit = null;\n      content = this._createEncoderBuffer(data.map(function(item) {\n        var state = this._baseState;\n\n        return this._getUse(state.args[0], data)._encode(item, reporter);\n      }, child));\n    } else if (state.use !== null) {\n      result = this._getUse(state.use, parent)._encode(data, reporter);\n    } else {\n      content = this._encodePrimitive(state.tag, data);\n      primitive = true;\n    }\n  }\n\n  // Encode data itself\n  var result;\n  if (!state.any && state.choice === null) {\n    var tag = state.implicit !== null ? state.implicit : state.tag;\n    var cls = state.implicit === null ? 'universal' : 'context';\n\n    if (tag === null) {\n      if (state.use === null)\n        reporter.error('Tag could be omitted only for .use()');\n    } else {\n      if (state.use === null)\n        result = this._encodeComposite(tag, primitive, cls, content);\n    }\n  }\n\n  // Wrap in explicit\n  if (state.explicit !== null)\n    result = this._encodeComposite(state.explicit, false, 'context', result);\n\n  return result;\n};\n\nNode.prototype._encodeChoice = function encodeChoice(data, reporter) {\n  var state = this._baseState;\n\n  var node = state.choice[data.type];\n  if (!node) {\n    assert(\n        false,\n        data.type + ' not found in ' +\n            JSON.stringify(Object.keys(state.choice)));\n  }\n  return node._encode(data.value, reporter);\n};\n\nNode.prototype._encodePrimitive = function encodePrimitive(tag, data) {\n  var state = this._baseState;\n\n  if (/str$/.test(tag))\n    return this._encodeStr(data, tag);\n  else if (tag === 'objid' && state.args)\n    return this._encodeObjid(data, state.reverseArgs[0], state.args[1]);\n  else if (tag === 'objid')\n    return this._encodeObjid(data, null, null);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._encodeTime(data, tag);\n  else if (tag === 'null_')\n    return this._encodeNull();\n  else if (tag === 'int' || tag === 'enum')\n    return this._encodeInt(data, state.args && state.reverseArgs[0]);\n  else if (tag === 'bool')\n    return this._encodeBool(data);\n  else if (tag === 'objDesc')\n    return this._encodeStr(data, tag);\n  else\n    throw new Error('Unsupported tag: ' + tag);\n};\n\nNode.prototype._isNumstr = function isNumstr(str) {\n  return /^[0-9 ]*$/.test(str);\n};\n\nNode.prototype._isPrintstr = function isPrintstr(str) {\n  return /^[A-Za-z0-9 '\\(\\)\\+,\\-\\.\\/:=\\?]*$/.test(str);\n};\n","import '../assets/NcAvatar-CtFA4-sC.css';\nimport { getCurrentUser } from \"@nextcloud/auth\";\nimport axios from \"@nextcloud/axios\";\nimport { getBuilder } from \"@nextcloud/browser-storage\";\nimport { unsubscribe, subscribe } from \"@nextcloud/event-bus\";\nimport { generateOcsUrl, generateUrl } from \"@nextcloud/router\";\nimport { vOnClickOutside } from \"@vueuse/components\";\nimport { N as NcActions, I as IconDotsHorizontal } from \"./NcActions-Ccr8kkyh.mjs\";\nimport { g as getRoute } from \"./autolink-U5pBzLgI.mjs\";\nimport \"../composables/useFormatDateTime/index.mjs\";\nimport \"../composables/useHotKey/index.mjs\";\nimport { useIsDarkTheme } from \"../composables/useIsDarkTheme/index.mjs\";\nimport \"../composables/useIsFullscreen/index.mjs\";\nimport \"../composables/useIsMobile/index.mjs\";\nimport { getEnabledContactsMenuActions } from \"../functions/contactsMenu/index.mjs\";\nimport { usernameToColor } from \"../functions/usernameToColor/index.mjs\";\nimport { r as register, h as t10, a as t } from \"./_l10n-BPfpECk_.mjs\";\nimport \"escape-html\";\nimport \"striptags\";\nimport { resolveComponent, resolveDirective, withDirectives, createElementBlock, openBlock, normalizeStyle, normalizeClass, renderSlot, createBlock, createCommentVNode, withCtx, createSlots, Fragment, renderList, resolveDynamicComponent, mergeProps, createTextVNode, toDisplayString, createVNode, createElementVNode } from \"vue\";\nimport { g as getAvatarUrl } from \"./NcMentionBubble.vue_vue_type_style_index_0_scoped_45238efd_lang-D6LzDiYf.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { getCapabilities } from \"@nextcloud/capabilities\";\nimport { l as logger } from \"./logger-D3RVzcfQ.mjs\";\nimport { N as NcUserStatusIcon, g as getUserStatusText } from \"./NcUserStatusIcon-GpeB4Zhc.mjs\";\nimport { N as NcActionButton } from \"./NcActionButton-BAaRMesp.mjs\";\nimport { N as NcActionLink } from \"./NcActionLink-afakPM_N.mjs\";\nimport { N as NcActionRouter } from \"./NcActionRouter-oT-YU_jf.mjs\";\nimport { N as NcActionText } from \"./NcActionText-uKvLcEY6.mjs\";\nimport { N as NcButton } from \"./NcButton-DkC5k3Lb.mjs\";\nimport { N as NcIconSvgWrapper } from \"./NcIconSvgWrapper-5AA93z-F.mjs\";\nimport { N as NcLoadingIcon } from \"./NcLoadingIcon-b_ajZ_nQ.mjs\";\nregister(t10);\nconst userStatus = {\n  data() {\n    return {\n      hasStatus: false,\n      userStatus: {\n        status: null,\n        message: null,\n        icon: null\n      }\n    };\n  },\n  methods: {\n    /**\n     * Fetches the user-status from the server\n     *\n     * @param {string} userId UserId of the user to fetch the status for\n     *\n     * @return {Promise<void>}\n     */\n    async fetchUserStatus(userId) {\n      if (!userId) {\n        return;\n      }\n      const capabilities = getCapabilities();\n      if (!Object.hasOwn(capabilities, \"user_status\") || !capabilities.user_status.enabled) {\n        return;\n      }\n      if (!getCurrentUser()) {\n        return;\n      }\n      try {\n        const { data } = await axios.get(generateOcsUrl(\"apps/user_status/api/v1/statuses/{userId}\", { userId }));\n        const {\n          status,\n          message,\n          icon\n        } = data.ocs.data;\n        this.userStatus.status = status;\n        this.userStatus.message = message || \"\";\n        this.userStatus.icon = icon || \"\";\n        this.hasStatus = true;\n      } catch (e) {\n        if (e.response.status === 404 && e.response.data.ocs?.data?.length === 0) {\n          return;\n        }\n        logger.error(\"Failed to fetch user status\", { error: e });\n      }\n    }\n  }\n};\nconst browserStorage = getBuilder(\"nextcloud\").persist().build();\nfunction getUserHasAvatar(userId) {\n  const flag = browserStorage.getItem(\"user-has-avatar.\" + userId);\n  if (typeof flag === \"string\") {\n    return Boolean(flag);\n  }\n  return null;\n}\nfunction setUserHasAvatar(userId, flag) {\n  if (userId) {\n    browserStorage.setItem(\"user-has-avatar.\" + userId, flag);\n  }\n}\nconst _sfc_main = {\n  name: \"NcAvatar\",\n  directives: {\n    /** @type {import('vue').ObjectDirective} */\n    ClickOutside: vOnClickOutside\n  },\n  components: {\n    IconDotsHorizontal,\n    NcActions,\n    NcButton,\n    NcIconSvgWrapper,\n    NcLoadingIcon,\n    NcUserStatusIcon\n  },\n  mixins: [userStatus],\n  props: {\n    /**\n     * Set a custom url to the avatar image\n     * either the url, user or displayName property must be defined\n     */\n    url: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * Set a css icon-class for an icon to be used instead of the avatar.\n     */\n    iconClass: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * Set the user id to fetch the avatar\n     * either the url, user or displayName property must be defined\n     */\n    user: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * Do not show the user status on the avatar.\n     */\n    hideStatus: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Show the verbose user status (e.g. \"online\" / \"away\") instead of just the status icon.\n     */\n    verboseStatus: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * When the user status was preloaded via another source it can be handed in with this property to save the request.\n     * If this property is not set the status will be fetched automatically.\n     * If a preloaded no-status is available provide this object with properties \"status\", \"icon\" and \"message\" set to null.\n     */\n    preloadedUserStatus: {\n      type: Object,\n      default: void 0\n    },\n    /**\n     * Is the user a guest user (then we have to user a different endpoint)\n     */\n    isGuest: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Set a display name that will be rendered as a tooltip\n     * either the url, user or displayName property must be defined\n     * specify just the displayname to generate a placeholder avatar without\n     * trying to fetch the avatar based on the user id\n     */\n    displayName: {\n      type: String,\n      default: void 0\n    },\n    /**\n     * Set a size in px for the rendered avatar\n     */\n    size: {\n      type: Number,\n      default: 32\n    },\n    /**\n     * Do not automatically generate a placeholder avatars if there is no real avatar is available.\n     */\n    noPlaceholder: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Disable the tooltip\n     */\n    disableTooltip: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Disable the menu\n     */\n    disableMenu: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Declares a custom tooltip when not null\n     * Fallback will be the displayName\n     *\n     * requires disableTooltip not to be set to true\n     */\n    tooltipMessage: {\n      type: String,\n      default: null\n    },\n    /**\n     * Declares username is not a user's name, when true.\n     * Prevents loading user's avatar from server and forces generating colored initials,\n     * i.e. if the user is a group\n     */\n    isNoUser: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Selector for the popover menu container\n     */\n    menuContainer: {\n      type: [Boolean, String, Object, Element],\n      default: \"body\"\n    }\n  },\n  setup() {\n    const isDarkTheme = useIsDarkTheme();\n    return {\n      isDarkTheme\n    };\n  },\n  data() {\n    return {\n      avatarUrlLoaded: null,\n      avatarSrcSetLoaded: null,\n      userDoesNotExist: false,\n      isAvatarLoaded: false,\n      isMenuLoaded: false,\n      contactsMenuLoading: false,\n      contactsMenuData: {},\n      contactsMenuActions: [],\n      contactsMenuOpenState: false\n    };\n  },\n  computed: {\n    avatarAriaLabel() {\n      if (!this.hasMenu) {\n        return;\n      }\n      if (this.canDisplayUserStatus || this.showUserStatusIconOnAvatar) {\n        return t(\"Avatar of {displayName}, {status}\", { displayName: this.displayName ?? this.user, status: getUserStatusText(this.userStatus.status) });\n      }\n      return t(\"Avatar of {displayName}\", { displayName: this.displayName ?? this.user });\n    },\n    canDisplayUserStatus() {\n      return !this.hideStatus && this.hasStatus && [\"online\", \"away\", \"busy\", \"dnd\"].includes(this.userStatus.status);\n    },\n    showUserStatusIconOnAvatar() {\n      return !this.hideStatus && !this.verboseStatus && this.hasStatus && this.userStatus.status !== \"dnd\" && this.userStatus.icon;\n    },\n    /**\n     * The user identifier, either the display name if set or the user property\n     * If both properties are not set an empty string is returned\n     */\n    userIdentifier() {\n      if (this.isDisplayNameDefined) {\n        return this.displayName;\n      }\n      if (this.isUserDefined) {\n        return this.user;\n      }\n      return \"\";\n    },\n    isUserDefined() {\n      return typeof this.user !== \"undefined\";\n    },\n    isDisplayNameDefined() {\n      return typeof this.displayName !== \"undefined\";\n    },\n    isUrlDefined() {\n      return typeof this.url !== \"undefined\";\n    },\n    hasMenu() {\n      if (this.disableMenu) {\n        return false;\n      }\n      if (this.isMenuLoaded) {\n        return this.menu.length > 0;\n      }\n      return !(this.user === getCurrentUser()?.uid || this.userDoesNotExist || this.url);\n    },\n    /**\n     * True if initials should be shown as the user icon fallback\n     */\n    showInitials() {\n      return !this.noPlaceholder && this.userDoesNotExist && !(this.iconClass || this.$slots.icon);\n    },\n    avatarStyle() {\n      return {\n        \"--avatar-size\": this.size + \"px\",\n        lineHeight: this.showInitials ? this.size + \"px\" : 0,\n        fontSize: Math.round(this.size * 0.45) + \"px\"\n      };\n    },\n    initialsWrapperStyle() {\n      const { r, g, b } = usernameToColor(this.userIdentifier);\n      return {\n        backgroundColor: `rgba(${r}, ${g}, ${b}, 0.1)`\n      };\n    },\n    initialsStyle() {\n      const { r, g, b } = usernameToColor(this.userIdentifier);\n      return {\n        color: `rgb(${r}, ${g}, ${b})`\n      };\n    },\n    tooltip() {\n      if (this.disableTooltip) {\n        return null;\n      }\n      if (this.tooltipMessage) {\n        return this.tooltipMessage;\n      }\n      return this.displayName;\n    },\n    /**\n     * Get the (max. two) initials of the user as uppcase string\n     */\n    initials() {\n      let initials = \"?\";\n      if (this.showInitials) {\n        const user = this.userIdentifier.trim();\n        if (user === \"\") {\n          return initials;\n        }\n        const filteredChars = user.match(/[\\p{L}\\p{N}\\s]/gu);\n        if (!filteredChars) {\n          return initials;\n        }\n        const filtered = filteredChars.join(\"\");\n        const idx = filtered.lastIndexOf(\" \");\n        initials = String.fromCodePoint(filtered.codePointAt(0));\n        if (idx !== -1) {\n          initials = initials.concat(String.fromCodePoint(filtered.codePointAt(idx + 1)));\n        }\n      }\n      return initials.toLocaleUpperCase();\n    },\n    menu() {\n      const actions = this.contactsMenuActions.map((item) => {\n        const route = getRoute(this.$router, item.hyperlink);\n        return {\n          ncActionComponent: route ? NcActionRouter : NcActionLink,\n          ncActionComponentProps: route ? {\n            to: route,\n            icon: item.icon\n          } : {\n            href: item.hyperlink,\n            icon: item.icon\n          },\n          text: item.title\n        };\n      });\n      for (const action of getEnabledContactsMenuActions(this.contactsMenuData)) {\n        try {\n          actions.push({\n            ncActionComponent: NcActionButton,\n            ncActionComponentProps: {\n              onClick: () => action.callback(this.contactsMenuData)\n            },\n            text: action.displayName(this.contactsMenuData),\n            iconSvg: action.iconSvg(this.contactsMenuData)\n          });\n        } catch (error) {\n          logger.error(`Failed to render ContactsMenu action ${action.id}`, {\n            error,\n            action\n          });\n        }\n      }\n      function escape(html) {\n        const text = document.createTextNode(html);\n        const p = document.createElement(\"p\");\n        p.appendChild(text);\n        return p.innerHTML;\n      }\n      if (!this.hideStatus && (this.userStatus.icon || this.userStatus.message)) {\n        const emojiIcon = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\">\n\t\t\t\t\t<text x=\"50%\" y=\"50%\" text-anchor=\"middle\" style=\"dominant-baseline: central; font-size: 85%\">${escape(this.userStatus.icon)}</text>\n\t\t\t\t</svg>`;\n        return [{\n          ncActionComponent: NcActionText,\n          ncActionComponentProps: {},\n          iconSvg: this.userStatus.icon ? emojiIcon : void 0,\n          text: `${this.userStatus.message}`\n        }].concat(actions);\n      }\n      return actions;\n    }\n  },\n  watch: {\n    url() {\n      this.userDoesNotExist = false;\n      this.loadAvatarUrl();\n    },\n    user() {\n      this.userDoesNotExist = false;\n      this.isMenuLoaded = false;\n      this.loadAvatarUrl();\n    }\n  },\n  mounted() {\n    this.loadAvatarUrl();\n    subscribe(\"settings:avatar:updated\", this.loadAvatarUrl);\n    subscribe(\"settings:display-name:updated\", this.loadAvatarUrl);\n    if (!this.hideStatus && this.user && !this.isNoUser) {\n      if (!this.preloadedUserStatus) {\n        this.fetchUserStatus(this.user);\n      } else {\n        this.userStatus.status = this.preloadedUserStatus.status || \"\";\n        this.userStatus.message = this.preloadedUserStatus.message || \"\";\n        this.userStatus.icon = this.preloadedUserStatus.icon || \"\";\n        this.hasStatus = this.preloadedUserStatus.status !== null;\n      }\n      subscribe(\"user_status:status.updated\", this.handleUserStatusUpdated);\n    }\n  },\n  beforeUnmount() {\n    unsubscribe(\"settings:avatar:updated\", this.loadAvatarUrl);\n    unsubscribe(\"settings:display-name:updated\", this.loadAvatarUrl);\n    unsubscribe(\"user_status:status.updated\", this.handleUserStatusUpdated);\n  },\n  methods: {\n    t,\n    handleUserStatusUpdated(state) {\n      if (this.user === state.userId) {\n        this.userStatus = {\n          status: state.status,\n          icon: state.icon,\n          message: state.message\n        };\n        this.hasStatus = state.status !== null;\n      }\n    },\n    /**\n     * Toggle the popover menu on click or enter\n     *\n     * @param {KeyboardEvent|MouseEvent} event the UI event\n     */\n    async toggleMenu(event) {\n      if (event.type === \"keydown\" && event.key !== \"Enter\") {\n        return;\n      }\n      if (!this.contactsMenuOpenState) {\n        await this.fetchContactsMenu();\n      }\n      this.contactsMenuOpenState = !this.contactsMenuOpenState;\n    },\n    closeMenu() {\n      this.contactsMenuOpenState = false;\n    },\n    async fetchContactsMenu() {\n      this.contactsMenuLoading = true;\n      try {\n        const user = encodeURIComponent(this.user);\n        const { data } = await axios.post(generateUrl(\"contactsmenu/findOne\"), `shareType=0&shareWith=${user}`);\n        this.contactsMenuData = data;\n        this.contactsMenuActions = data.topAction ? [data.topAction].concat(data.actions) : data.actions;\n      } catch {\n        this.contactsMenuOpenState = false;\n      }\n      this.contactsMenuLoading = false;\n      this.isMenuLoaded = true;\n    },\n    /**\n     * Handle avatar loading if user or url defined\n     */\n    loadAvatarUrl() {\n      this.isAvatarLoaded = false;\n      if (!this.isUrlDefined && (!this.isUserDefined || this.isNoUser || this.iconClass)) {\n        this.isAvatarLoaded = true;\n        this.userDoesNotExist = true;\n        return;\n      }\n      if (this.isUrlDefined) {\n        this.updateImageIfValid(this.url);\n        return;\n      }\n      if (this.size <= 64) {\n        const avatarUrl = this.avatarUrlGenerator(this.user, 64);\n        const srcset = [\n          avatarUrl + \" 1x\",\n          this.avatarUrlGenerator(this.user, 512) + \" 8x\"\n        ].join(\", \");\n        this.updateImageIfValid(avatarUrl, srcset);\n      } else {\n        const avatarUrl = this.avatarUrlGenerator(this.user, 512);\n        this.updateImageIfValid(avatarUrl);\n      }\n    },\n    /**\n     * Generate an avatar url from the server's avatar endpoint\n     *\n     * @param {string} user the user id\n     * @param {number} size the desired size\n     * @return {string}\n     */\n    avatarUrlGenerator(user, size) {\n      let avatarUrl = getAvatarUrl(user, {\n        size,\n        isDarkTheme: this.isDarkTheme,\n        isGuest: this.isGuest\n      });\n      if (user === getCurrentUser()?.uid && typeof oc_userconfig !== \"undefined\") {\n        avatarUrl += \"?v=\" + window.oc_userconfig.avatar.version;\n      }\n      return avatarUrl;\n    },\n    /**\n     * Check if the provided url is valid and update Avatar if so\n     *\n     * @param {string} url the avatar url\n     * @param {Array} srcset the avatar srcset\n     */\n    updateImageIfValid(url, srcset = null) {\n      const userHasAvatar = getUserHasAvatar(this.user);\n      if (this.isUserDefined && typeof userHasAvatar === \"boolean\") {\n        this.isAvatarLoaded = true;\n        this.avatarUrlLoaded = url;\n        if (srcset) {\n          this.avatarSrcSetLoaded = srcset;\n        }\n        if (userHasAvatar === false) {\n          this.userDoesNotExist = true;\n        }\n        return;\n      }\n      const img = new Image();\n      img.onload = () => {\n        this.avatarUrlLoaded = url;\n        if (srcset) {\n          this.avatarSrcSetLoaded = srcset;\n        }\n        this.isAvatarLoaded = true;\n        setUserHasAvatar(this.user, true);\n      };\n      img.onerror = (error) => {\n        logger.debug(\"[NcAvatar] Invalid avatar url\", { error, url });\n        this.avatarUrlLoaded = null;\n        this.avatarSrcSetLoaded = null;\n        this.userDoesNotExist = true;\n        this.isAvatarLoaded = false;\n        setUserHasAvatar(this.user, false);\n      };\n      if (srcset) {\n        img.srcset = srcset;\n      }\n      img.src = url;\n    }\n  }\n};\nconst _hoisted_1 = [\"title\"];\nconst _hoisted_2 = [\"src\", \"srcset\"];\nconst _hoisted_3 = {\n  key: 2,\n  class: \"avatardiv__user-status avatardiv__user-status--icon\"\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcLoadingIcon = resolveComponent(\"NcLoadingIcon\");\n  const _component_IconDotsHorizontal = resolveComponent(\"IconDotsHorizontal\");\n  const _component_NcButton = resolveComponent(\"NcButton\");\n  const _component_NcIconSvgWrapper = resolveComponent(\"NcIconSvgWrapper\");\n  const _component_NcActions = resolveComponent(\"NcActions\");\n  const _component_NcUserStatusIcon = resolveComponent(\"NcUserStatusIcon\");\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n  return withDirectives((openBlock(), createElementBlock(\"span\", {\n    class: normalizeClass([\"avatardiv popovermenu-wrapper\", {\n      \"avatardiv--unknown\": $data.userDoesNotExist,\n      \"avatardiv--with-menu\": $options.hasMenu,\n      \"avatardiv--with-menu-loading\": $data.contactsMenuLoading\n    }]),\n    style: normalizeStyle($options.avatarStyle),\n    title: $options.tooltip\n  }, [\n    renderSlot(_ctx.$slots, \"icon\", {}, () => [\n      $props.iconClass ? (openBlock(), createElementBlock(\"span\", {\n        key: 0,\n        class: normalizeClass([$props.iconClass, \"avatar-class-icon\"])\n      }, null, 2)) : $data.isAvatarLoaded && !$data.userDoesNotExist ? (openBlock(), createElementBlock(\"img\", {\n        key: 1,\n        src: $data.avatarUrlLoaded,\n        srcset: $data.avatarSrcSetLoaded,\n        alt: \"\"\n      }, null, 8, _hoisted_2)) : createCommentVNode(\"\", true)\n    ], true),\n    $options.hasMenu && $options.menu.length === 0 ? (openBlock(), createBlock(_component_NcButton, {\n      key: 0,\n      \"aria-label\": $options.avatarAriaLabel,\n      class: \"action-item action-item__menutoggle\",\n      variant: \"tertiary-no-background\",\n      onClick: $options.toggleMenu\n    }, {\n      icon: withCtx(() => [\n        $data.contactsMenuLoading ? (openBlock(), createBlock(_component_NcLoadingIcon, { key: 0 })) : (openBlock(), createBlock(_component_IconDotsHorizontal, {\n          key: 1,\n          size: 20\n        }))\n      ]),\n      _: 1\n    }, 8, [\"aria-label\", \"onClick\"])) : $options.hasMenu ? (openBlock(), createBlock(_component_NcActions, {\n      key: 1,\n      open: $data.contactsMenuOpenState,\n      \"onUpdate:open\": _cache[0] || (_cache[0] = ($event) => $data.contactsMenuOpenState = $event),\n      \"aria-label\": $options.avatarAriaLabel,\n      container: $props.menuContainer,\n      \"force-menu\": \"\",\n      \"manual-open\": \"\",\n      variant: \"tertiary-no-background\",\n      onClick: $options.toggleMenu\n    }, createSlots({\n      default: withCtx(() => [\n        (openBlock(true), createElementBlock(Fragment, null, renderList($options.menu, (item, key) => {\n          return openBlock(), createBlock(resolveDynamicComponent(item.ncActionComponent), mergeProps({ key }, { ref_for: true }, item.ncActionComponentProps), createSlots({\n            default: withCtx(() => [\n              createTextVNode(\" \" + toDisplayString(item.text), 1)\n            ]),\n            _: 2\n          }, [\n            item.iconSvg ? {\n              name: \"icon\",\n              fn: withCtx(() => [\n                createVNode(_component_NcIconSvgWrapper, {\n                  svg: item.iconSvg\n                }, null, 8, [\"svg\"])\n              ]),\n              key: \"0\"\n            } : void 0\n          ]), 1040);\n        }), 128))\n      ]),\n      _: 2\n    }, [\n      $data.contactsMenuLoading ? {\n        name: \"icon\",\n        fn: withCtx(() => [\n          createVNode(_component_NcLoadingIcon)\n        ]),\n        key: \"0\"\n      } : void 0\n    ]), 1032, [\"open\", \"aria-label\", \"container\", \"onClick\"])) : createCommentVNode(\"\", true),\n    $options.showUserStatusIconOnAvatar ? (openBlock(), createElementBlock(\"span\", _hoisted_3, toDisplayString(_ctx.userStatus.icon), 1)) : $options.canDisplayUserStatus ? (openBlock(), createBlock(_component_NcUserStatusIcon, {\n      key: 3,\n      class: \"avatardiv__user-status\",\n      status: _ctx.userStatus.status,\n      \"aria-hidden\": String($options.hasMenu)\n    }, null, 8, [\"status\", \"aria-hidden\"])) : createCommentVNode(\"\", true),\n    $options.showInitials ? (openBlock(), createElementBlock(\"span\", {\n      key: 4,\n      style: normalizeStyle($options.initialsWrapperStyle),\n      class: \"avatardiv__initials-wrapper\"\n    }, [\n      createElementVNode(\"span\", {\n        style: normalizeStyle($options.initialsStyle),\n        class: \"avatardiv__initials\"\n      }, toDisplayString($options.initials), 5)\n    ], 4)) : createCommentVNode(\"\", true)\n  ], 14, _hoisted_1)), [\n    [_directive_click_outside, $options.closeMenu]\n  ]);\n}\nconst NcAvatar = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__scopeId\", \"data-v-786083b4\"]]);\nexport {\n  NcAvatar as N,\n  userStatus as u\n};\n//# sourceMappingURL=NcAvatar-BkmHv-oY.mjs.map\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import { EventEmitter } from 'eventemitter3';\nimport pTimeout from 'p-timeout';\nimport PriorityQueue from './priority-queue.js';\n/**\nPromise queue with concurrency control.\n*/\nexport default class PQueue extends EventEmitter {\n    #carryoverIntervalCount;\n    #isIntervalIgnored;\n    #intervalCount = 0;\n    #intervalCap;\n    #rateLimitedInInterval = false;\n    #rateLimitFlushScheduled = false;\n    #interval;\n    #intervalEnd = 0;\n    #lastExecutionTime = 0;\n    #intervalId;\n    #timeoutId;\n    #queue;\n    #queueClass;\n    #pending = 0;\n    // The `!` is needed because of https://github.com/microsoft/TypeScript/issues/32194\n    #concurrency;\n    #isPaused;\n    // Use to assign a unique identifier to a promise function, if not explicitly specified\n    #idAssigner = 1n;\n    // Track currently running tasks for debugging\n    #runningTasks = new Map();\n    /**\n    Get or set the default timeout for all tasks. Can be changed at runtime.\n\n    Operations will throw a `TimeoutError` if they don't complete within the specified time.\n\n    The timeout begins when the operation is dequeued and starts execution, not while it's waiting in the queue.\n\n    @example\n    ```\n    const queue = new PQueue({timeout: 5000});\n\n    // Change timeout for all future tasks\n    queue.timeout = 10000;\n    ```\n    */\n    timeout;\n    constructor(options) {\n        super();\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        options = {\n            carryoverIntervalCount: false,\n            intervalCap: Number.POSITIVE_INFINITY,\n            interval: 0,\n            concurrency: Number.POSITIVE_INFINITY,\n            autoStart: true,\n            queueClass: PriorityQueue,\n            ...options,\n        };\n        if (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n            throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${options.intervalCap?.toString() ?? ''}\\` (${typeof options.intervalCap})`);\n        }\n        if (options.interval === undefined || !(Number.isFinite(options.interval) && options.interval >= 0)) {\n            throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${options.interval?.toString() ?? ''}\\` (${typeof options.interval})`);\n        }\n        // TODO: Remove this fallback in the next major version\n        // eslint-disable-next-line @typescript-eslint/no-deprecated\n        this.#carryoverIntervalCount = options.carryoverIntervalCount ?? options.carryoverConcurrencyCount ?? false;\n        this.#isIntervalIgnored = options.intervalCap === Number.POSITIVE_INFINITY || options.interval === 0;\n        this.#intervalCap = options.intervalCap;\n        this.#interval = options.interval;\n        this.#queue = new options.queueClass();\n        this.#queueClass = options.queueClass;\n        this.concurrency = options.concurrency;\n        if (options.timeout !== undefined && !(Number.isFinite(options.timeout) && options.timeout > 0)) {\n            throw new TypeError(`Expected \\`timeout\\` to be a positive finite number, got \\`${options.timeout}\\` (${typeof options.timeout})`);\n        }\n        this.timeout = options.timeout;\n        this.#isPaused = options.autoStart === false;\n        this.#setupRateLimitTracking();\n    }\n    get #doesIntervalAllowAnother() {\n        return this.#isIntervalIgnored || this.#intervalCount < this.#intervalCap;\n    }\n    get #doesConcurrentAllowAnother() {\n        return this.#pending < this.#concurrency;\n    }\n    #next() {\n        this.#pending--;\n        if (this.#pending === 0) {\n            this.emit('pendingZero');\n        }\n        this.#tryToStartAnother();\n        this.emit('next');\n    }\n    #onResumeInterval() {\n        this.#onInterval(); // Already schedules update\n        this.#initializeIntervalIfNeeded();\n        this.#timeoutId = undefined;\n    }\n    get #isIntervalPaused() {\n        const now = Date.now();\n        if (this.#intervalId === undefined) {\n            const delay = this.#intervalEnd - now;\n            if (delay < 0) {\n                // If the interval has expired while idle, check if we should enforce the interval\n                // from the last task execution. This ensures proper spacing between tasks even\n                // when the queue becomes empty and then new tasks are added.\n                if (this.#lastExecutionTime > 0) {\n                    const timeSinceLastExecution = now - this.#lastExecutionTime;\n                    if (timeSinceLastExecution < this.#interval) {\n                        // Not enough time has passed since the last task execution\n                        this.#createIntervalTimeout(this.#interval - timeSinceLastExecution);\n                        return true;\n                    }\n                }\n                // Enough time has passed or no previous execution, allow execution\n                this.#intervalCount = (this.#carryoverIntervalCount) ? this.#pending : 0;\n            }\n            else {\n                // Act as the interval is pending\n                this.#createIntervalTimeout(delay);\n                return true;\n            }\n        }\n        return false;\n    }\n    #createIntervalTimeout(delay) {\n        if (this.#timeoutId !== undefined) {\n            return;\n        }\n        this.#timeoutId = setTimeout(() => {\n            this.#onResumeInterval();\n        }, delay);\n    }\n    #clearIntervalTimer() {\n        if (this.#intervalId) {\n            clearInterval(this.#intervalId);\n            this.#intervalId = undefined;\n        }\n    }\n    #clearTimeoutTimer() {\n        if (this.#timeoutId) {\n            clearTimeout(this.#timeoutId);\n            this.#timeoutId = undefined;\n        }\n    }\n    #tryToStartAnother() {\n        if (this.#queue.size === 0) {\n            // We can clear the interval (\"pause\")\n            // Because we can redo it later (\"resume\")\n            this.#clearIntervalTimer();\n            this.emit('empty');\n            if (this.#pending === 0) {\n                // Clear timeout as well when completely idle\n                this.#clearTimeoutTimer();\n                this.emit('idle');\n            }\n            return false;\n        }\n        let taskStarted = false;\n        if (!this.#isPaused) {\n            const canInitializeInterval = !this.#isIntervalPaused;\n            if (this.#doesIntervalAllowAnother && this.#doesConcurrentAllowAnother) {\n                const job = this.#queue.dequeue();\n                // Increment interval count immediately to prevent race conditions\n                if (!this.#isIntervalIgnored) {\n                    this.#intervalCount++;\n                    this.#scheduleRateLimitUpdate();\n                }\n                this.emit('active');\n                this.#lastExecutionTime = Date.now();\n                job();\n                if (canInitializeInterval) {\n                    this.#initializeIntervalIfNeeded();\n                }\n                taskStarted = true;\n            }\n        }\n        return taskStarted;\n    }\n    #initializeIntervalIfNeeded() {\n        if (this.#isIntervalIgnored || this.#intervalId !== undefined) {\n            return;\n        }\n        this.#intervalId = setInterval(() => {\n            this.#onInterval();\n        }, this.#interval);\n        this.#intervalEnd = Date.now() + this.#interval;\n    }\n    #onInterval() {\n        if (this.#intervalCount === 0 && this.#pending === 0 && this.#intervalId) {\n            this.#clearIntervalTimer();\n        }\n        this.#intervalCount = this.#carryoverIntervalCount ? this.#pending : 0;\n        this.#processQueue();\n        this.#scheduleRateLimitUpdate();\n    }\n    /**\n    Executes all queued functions until it reaches the limit.\n    */\n    #processQueue() {\n        // eslint-disable-next-line no-empty\n        while (this.#tryToStartAnother()) { }\n    }\n    get concurrency() {\n        return this.#concurrency;\n    }\n    set concurrency(newConcurrency) {\n        if (!(typeof newConcurrency === 'number' && newConcurrency >= 1)) {\n            throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${newConcurrency}\\` (${typeof newConcurrency})`);\n        }\n        this.#concurrency = newConcurrency;\n        this.#processQueue();\n    }\n    async #throwOnAbort(signal) {\n        return new Promise((_resolve, reject) => {\n            signal.addEventListener('abort', () => {\n                reject(signal.reason);\n            }, { once: true });\n        });\n    }\n    /**\n    Updates the priority of a promise function by its id, affecting its execution order. Requires a defined concurrency limit to take effect.\n\n    For example, this can be used to prioritize a promise function to run earlier.\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 1});\n\n    queue.add(async () => '🦄', {priority: 1});\n    queue.add(async () => '🦀', {priority: 0, id: '🦀'});\n    queue.add(async () => '🦄', {priority: 1});\n    queue.add(async () => '🦄', {priority: 1});\n\n    queue.setPriority('🦀', 2);\n    ```\n\n    In this case, the promise function with `id: '🦀'` runs second.\n\n    You can also deprioritize a promise function to delay its execution:\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 1});\n\n    queue.add(async () => '🦄', {priority: 1});\n    queue.add(async () => '🦀', {priority: 1, id: '🦀'});\n    queue.add(async () => '🦄');\n    queue.add(async () => '🦄', {priority: 0});\n\n    queue.setPriority('🦀', -1);\n    ```\n    Here, the promise function with `id: '🦀'` executes last.\n    */\n    setPriority(id, priority) {\n        if (typeof priority !== 'number' || !Number.isFinite(priority)) {\n            throw new TypeError(`Expected \\`priority\\` to be a finite number, got \\`${priority}\\` (${typeof priority})`);\n        }\n        this.#queue.setPriority(id, priority);\n    }\n    async add(function_, options = {}) {\n        // In case `id` is not defined.\n        options.id ??= (this.#idAssigner++).toString();\n        options = {\n            timeout: this.timeout,\n            ...options,\n        };\n        return new Promise((resolve, reject) => {\n            // Create a unique symbol for tracking this task\n            const taskSymbol = Symbol(`task-${options.id}`);\n            this.#queue.enqueue(async () => {\n                this.#pending++;\n                // Track this running task\n                this.#runningTasks.set(taskSymbol, {\n                    id: options.id,\n                    priority: options.priority ?? 0, // Match priority-queue default\n                    startTime: Date.now(),\n                    timeout: options.timeout,\n                });\n                try {\n                    // Check abort signal - if aborted, need to decrement the counter\n                    // that was incremented in tryToStartAnother\n                    try {\n                        options.signal?.throwIfAborted();\n                    }\n                    catch (error) {\n                        // Decrement the counter that was already incremented\n                        if (!this.#isIntervalIgnored) {\n                            this.#intervalCount--;\n                        }\n                        // Clean up tracking before throwing\n                        this.#runningTasks.delete(taskSymbol);\n                        throw error;\n                    }\n                    let operation = function_({ signal: options.signal });\n                    if (options.timeout) {\n                        operation = pTimeout(Promise.resolve(operation), {\n                            milliseconds: options.timeout,\n                            message: `Task timed out after ${options.timeout}ms (queue has ${this.#pending} running, ${this.#queue.size} waiting)`,\n                        });\n                    }\n                    if (options.signal) {\n                        operation = Promise.race([operation, this.#throwOnAbort(options.signal)]);\n                    }\n                    const result = await operation;\n                    resolve(result);\n                    this.emit('completed', result);\n                }\n                catch (error) {\n                    reject(error);\n                    this.emit('error', error);\n                }\n                finally {\n                    // Remove from running tasks\n                    this.#runningTasks.delete(taskSymbol);\n                    // Use queueMicrotask to prevent deep recursion while maintaining timing\n                    queueMicrotask(() => {\n                        this.#next();\n                    });\n                }\n            }, options);\n            this.emit('add');\n            this.#tryToStartAnother();\n        });\n    }\n    async addAll(functions, options) {\n        return Promise.all(functions.map(async (function_) => this.add(function_, options)));\n    }\n    /**\n    Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)\n    */\n    start() {\n        if (!this.#isPaused) {\n            return this;\n        }\n        this.#isPaused = false;\n        this.#processQueue();\n        return this;\n    }\n    /**\n    Put queue execution on hold.\n    */\n    pause() {\n        this.#isPaused = true;\n    }\n    /**\n    Clear the queue.\n    */\n    clear() {\n        this.#queue = new this.#queueClass();\n        // Note: We don't clear #runningTasks as those tasks are still running\n        // They will be removed when they complete in the finally block\n        // Force synchronous update since clear() should have immediate effect\n        this.#updateRateLimitState();\n    }\n    /**\n    Can be called multiple times. Useful if you for example add additional items at a later time.\n\n    @returns A promise that settles when the queue becomes empty.\n    */\n    async onEmpty() {\n        // Instantly resolve if the queue is empty\n        if (this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('empty');\n    }\n    /**\n    @returns A promise that settles when the queue size is less than the given limit: `queue.size < limit`.\n\n    If you want to avoid having the queue grow beyond a certain size you can `await queue.onSizeLessThan()` before adding a new item.\n\n    Note that this only limits the number of items waiting to start. There could still be up to `concurrency` jobs already running that this call does not include in its calculation.\n    */\n    async onSizeLessThan(limit) {\n        // Instantly resolve if the queue is empty.\n        if (this.#queue.size < limit) {\n            return;\n        }\n        await this.#onEvent('next', () => this.#queue.size < limit);\n    }\n    /**\n    The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.\n\n    @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.\n    */\n    async onIdle() {\n        // Instantly resolve if none pending and if nothing else is queued\n        if (this.#pending === 0 && this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('idle');\n    }\n    /**\n    The difference with `.onIdle` is that `.onPendingZero` only waits for currently running tasks to finish, ignoring queued tasks.\n\n    @returns A promise that settles when all currently running tasks have completed; `queue.pending === 0`.\n    */\n    async onPendingZero() {\n        if (this.#pending === 0) {\n            return;\n        }\n        await this.#onEvent('pendingZero');\n    }\n    /**\n    @returns A promise that settles when the queue becomes rate-limited due to intervalCap.\n    */\n    async onRateLimit() {\n        if (this.isRateLimited) {\n            return;\n        }\n        await this.#onEvent('rateLimit');\n    }\n    /**\n    @returns A promise that settles when the queue is no longer rate-limited.\n    */\n    async onRateLimitCleared() {\n        if (!this.isRateLimited) {\n            return;\n        }\n        await this.#onEvent('rateLimitCleared');\n    }\n    /**\n    @returns A promise that rejects when any task in the queue errors.\n\n    Use with `Promise.race([queue.onError(), queue.onIdle()])` to fail fast on the first error while still resolving normally when the queue goes idle.\n\n    Important: The promise returned by `add()` still rejects. You must handle each `add()` promise (for example, `.catch(() => {})`) to avoid unhandled rejections.\n\n    @example\n    ```\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 2});\n\n    queue.add(() => fetchData(1)).catch(() => {});\n    queue.add(() => fetchData(2)).catch(() => {});\n    queue.add(() => fetchData(3)).catch(() => {});\n\n    // Stop processing on first error\n    try {\n        await Promise.race([\n            queue.onError(),\n            queue.onIdle()\n        ]);\n    } catch (error) {\n        queue.pause(); // Stop processing remaining tasks\n        console.error('Queue failed:', error);\n    }\n    ```\n    */\n    // eslint-disable-next-line @typescript-eslint/promise-function-async\n    async onError() {\n        return new Promise((_resolve, reject) => {\n            const handleError = (error) => {\n                this.off('error', handleError);\n                reject(error);\n            };\n            this.on('error', handleError);\n        });\n    }\n    async #onEvent(event, filter) {\n        return new Promise(resolve => {\n            const listener = () => {\n                if (filter && !filter()) {\n                    return;\n                }\n                this.off(event, listener);\n                resolve();\n            };\n            this.on(event, listener);\n        });\n    }\n    /**\n    Size of the queue, the number of queued items waiting to run.\n    */\n    get size() {\n        return this.#queue.size;\n    }\n    /**\n    Size of the queue, filtered by the given options.\n\n    For example, this can be used to find the number of items remaining in the queue with a specific priority level.\n    */\n    sizeBy(options) {\n        // eslint-disable-next-line unicorn/no-array-callback-reference\n        return this.#queue.filter(options).length;\n    }\n    /**\n    Number of running items (no longer in the queue).\n    */\n    get pending() {\n        return this.#pending;\n    }\n    /**\n    Whether the queue is currently paused.\n    */\n    get isPaused() {\n        return this.#isPaused;\n    }\n    #setupRateLimitTracking() {\n        // Only schedule updates when rate limiting is enabled\n        if (this.#isIntervalIgnored) {\n            return;\n        }\n        // Wire up to lifecycle events that affect rate limit state\n        // Only 'add' and 'next' can actually change rate limit state\n        this.on('add', () => {\n            if (this.#queue.size > 0) {\n                this.#scheduleRateLimitUpdate();\n            }\n        });\n        this.on('next', () => {\n            this.#scheduleRateLimitUpdate();\n        });\n    }\n    #scheduleRateLimitUpdate() {\n        // Skip if rate limiting is not enabled or already scheduled\n        if (this.#isIntervalIgnored || this.#rateLimitFlushScheduled) {\n            return;\n        }\n        this.#rateLimitFlushScheduled = true;\n        queueMicrotask(() => {\n            this.#rateLimitFlushScheduled = false;\n            this.#updateRateLimitState();\n        });\n    }\n    #updateRateLimitState() {\n        const previous = this.#rateLimitedInInterval;\n        const shouldBeRateLimited = !this.#isIntervalIgnored\n            && this.#intervalCount >= this.#intervalCap\n            && this.#queue.size > 0;\n        if (shouldBeRateLimited !== previous) {\n            this.#rateLimitedInInterval = shouldBeRateLimited;\n            this.emit(shouldBeRateLimited ? 'rateLimit' : 'rateLimitCleared');\n        }\n    }\n    /**\n    Whether the queue is currently rate-limited due to intervalCap.\n    */\n    get isRateLimited() {\n        return this.#rateLimitedInInterval;\n    }\n    /**\n    Whether the queue is saturated. Returns `true` when:\n    - All concurrency slots are occupied and tasks are waiting, OR\n    - The queue is rate-limited and tasks are waiting\n\n    Useful for detecting backpressure and potential hanging tasks.\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 2});\n\n    // Backpressure handling\n    if (queue.isSaturated) {\n        console.log('Queue is saturated, waiting for capacity...');\n        await queue.onSizeLessThan(queue.concurrency);\n    }\n\n    // Monitoring for stuck tasks\n    setInterval(() => {\n        if (queue.isSaturated) {\n            console.warn(`Queue saturated: ${queue.pending} running, ${queue.size} waiting`);\n        }\n    }, 60000);\n    ```\n    */\n    get isSaturated() {\n        return (this.#pending === this.#concurrency && this.#queue.size > 0)\n            || (this.isRateLimited && this.#queue.size > 0);\n    }\n    /**\n    The tasks currently being executed. Each task includes its `id`, `priority`, `startTime`, and `timeout` (if set).\n\n    Returns an array of task info objects.\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 2});\n\n    // Add tasks with IDs for better debugging\n    queue.add(() => fetchUser(123), {id: 'user-123'});\n    queue.add(() => fetchPosts(456), {id: 'posts-456', priority: 1});\n\n    // Check what's running\n    console.log(queue.runningTasks);\n    // => [{\n    //   id: 'user-123',\n    //   priority: 0,\n    //   startTime: 1759253001716,\n    //   timeout: undefined\n    // }, {\n    //   id: 'posts-456',\n    //   priority: 1,\n    //   startTime: 1759253001916,\n    //   timeout: undefined\n    // }]\n    ```\n    */\n    get runningTasks() {\n        // Return fresh array with fresh objects to prevent mutations\n        return [...this.#runningTasks.values()].map(task => ({ ...task }));\n    }\n}\n/**\nError thrown when a task times out.\n\n@example\n```\nimport PQueue, {TimeoutError} from 'p-queue';\n\nconst queue = new PQueue({timeout: 1000});\n\ntry {\n    await queue.add(() => someTask());\n} catch (error) {\n    if (error instanceof TimeoutError) {\n        console.log('Task timed out');\n    }\n}\n```\n*/\nexport { TimeoutError } from 'p-timeout';\n","import '../assets/NcSelect-BTLcqg7Y.css';\nimport { autoUpdate, computePosition, offset, flip, shift, limitShift } from \"@floating-ui/dom\";\nimport { h, resolveComponent, createBlock, openBlock, mergeProps, createSlots, withCtx, createTextVNode, toDisplayString, createCommentVNode, renderSlot, createVNode, normalizeProps, guardReactiveProps, createElementVNode, toHandlers, renderList, warn } from \"vue\";\nimport VueSelect from \"vue-select\";\nimport { C as ChevronDown } from \"./ChevronDown-FiGpp0KT.mjs\";\nimport { I as IconClose } from \"./Close-D6ngJ4t9.mjs\";\nimport { r as register, c as t17, a as t } from \"./_l10n-BPfpECk_.mjs\";\nimport { c as createElementId } from \"./createElementId-DhjFt1I9.mjs\";\nimport { N as NcEllipsisedOption } from \"./NcEllipsisedOption-dT-CtXYp.mjs\";\nimport { N as NcLoadingIcon } from \"./NcLoadingIcon-b_ajZ_nQ.mjs\";\nimport \"vue-select/dist/vue-select.css\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nregister(t17);\nconst _sfc_main = {\n  name: \"NcSelect\",\n  components: {\n    ChevronDown,\n    NcEllipsisedOption,\n    NcLoadingIcon,\n    VueSelect\n  },\n  props: {\n    // Add VueSelect props to $props\n    ...VueSelect.props,\n    ...VueSelect.mixins.reduce((allProps, mixin) => ({ ...allProps, ...mixin.props }), {}),\n    /**\n     * `aria-label` for the clear input button\n     */\n    ariaLabelClearSelected: {\n      type: String,\n      default: t(\"Clear selected\")\n    },\n    /**\n     * `aria-label` for the search input\n     *\n     * A descriptive `inputLabel` is preferred as this is not visible.\n     */\n    ariaLabelCombobox: {\n      type: String,\n      default: null\n    },\n    /**\n     * `aria-label` for the listbox element\n     */\n    ariaLabelListbox: {\n      type: String,\n      default: t(\"Options\")\n    },\n    /**\n     * Allows to customize the `aria-label` for the deselect-option button\n     * The default is \"Deselect \" + optionLabel\n     *\n     * @type {(optionLabel: string) => string}\n     */\n    ariaLabelDeselectOption: {\n      type: Function,\n      default: (optionLabel) => t(\"Deselect {option}\", { option: optionLabel })\n    },\n    /**\n     * Append the dropdown element to the end of the body\n     * and size/position it dynamically.\n     *\n     * @see https://vue-select.org/api/props.html#appendtobody\n     */\n    appendToBody: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * When `appendToBody` is true, this function is responsible for\n     * positioning the drop down list.\n     *\n     * If a function is returned from `calculatePosition`, it will\n     * be called when the drop down list is removed from the DOM.\n     * This allows for any garbage collection you may need to do.\n     *\n     * @see https://vue-select.org/api/props.html#calculateposition\n     */\n    calculatePosition: {\n      type: Function,\n      default: null\n    },\n    /**\n     * Keep the dropdown open after selecting an option.\n     *\n     * @default false\n     * @since 8.25.0\n     */\n    keepOpen: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Replace default vue-select components\n     *\n     * @see https://vue-select.org/api/props.html#components\n     */\n    components: {\n      type: Object,\n      default: () => ({\n        Deselect: {\n          render: () => h(IconClose, {\n            size: 20,\n            fillColor: \"var(--vs-controls-color)\",\n            style: [\n              { cursor: \"pointer\" }\n            ]\n          })\n        }\n      })\n    },\n    /**\n     * Sets the maximum number of options to display in the dropdown list\n     */\n    limit: {\n      type: Number,\n      default: null\n    },\n    /**\n     * Disable the component\n     *\n     * @see https://vue-select.org/api/props.html#disabled\n     */\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Determines whether the dropdown should be open.\n     * Receives the component instance as the only argument.\n     *\n     * @see https://vue-select.org/api/props.html#dropdownshouldopen\n     */\n    dropdownShouldOpen: {\n      type: Function,\n      default: ({ noDrop, open }) => {\n        return noDrop ? false : open;\n      }\n    },\n    /**\n     * Callback to determine if the provided option should\n     * match the current search text. Used to determine\n     * if the option should be displayed.\n     *\n     * Defaults to the internal vue-select function documented at the link\n     * below\n     *\n     * @see https://vue-select.org/api/props.html#filterby\n     */\n    filterBy: {\n      type: Function,\n      default: null\n    },\n    /**\n     * Class for the `input`\n     *\n     * Necessary for use in NcActionInput\n     */\n    inputClass: {\n      type: [String, Object],\n      default: null\n    },\n    /**\n     * Input element id\n     */\n    inputId: {\n      type: String,\n      default: () => createElementId()\n    },\n    /**\n     * Visible label for the input element\n     */\n    inputLabel: {\n      type: String,\n      default: null\n    },\n    /**\n     * Pass true if you are using an external label\n     */\n    labelOutside: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Display a visible border around dropdown options\n     * which have keyboard focus\n     */\n    keyboardFocusBorder: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Key of the displayed label for object options\n     *\n     * Defaults to the internal vue-select string documented at the link\n     * below\n     *\n     * @see https://vue-select.org/api/props.html#label\n     */\n    label: {\n      type: String,\n      default: null\n    },\n    /**\n     * Show the loading icon\n     *\n     * @see https://vue-select.org/api/props.html#loading\n     */\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Allow selection of multiple options\n     *\n     * @see https://vue-select.org/api/props.html#multiple\n     */\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Disable automatic wrapping when selected options overflow the width\n     */\n    noWrap: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Array of options\n     *\n     * @type {Array<string | number | Record<string | number, any>>}\n     *\n     * @see https://vue-select.org/api/props.html#options\n     */\n    options: {\n      type: Array,\n      default: () => []\n    },\n    /**\n     * Placeholder text\n     *\n     * @see https://vue-select.org/api/props.html#placeholder\n     */\n    placeholder: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Customized component's response to keydown events while the search input has focus\n     *\n     * @see https://vue-select.org/guide/keydown.html#mapkeydown\n     */\n    mapKeydown: {\n      type: Function,\n      /**\n       * Patched Vue-Select keydown events handlers map to stop Escape propagation in open select\n       *\n       * @param {Record<number, Function>} map - Mapped keyCode to handlers { <keyCode>:<callback> }\n       * @param {import('@nextcloud/vue-select').VueSelect} vm - VueSelect instance\n       * @return {Record<number, Function>} patched keydown event handlers\n       */\n      default(map, vm) {\n        return {\n          ...map,\n          /**\n           * Patched Escape handler to stop propagation from open select\n           *\n           * @param {KeyboardEvent} event - default keydown event handler\n           */\n          27: (event) => {\n            if (vm.open) {\n              event.stopPropagation();\n            }\n            map[27](event);\n          }\n        };\n      }\n    },\n    /**\n     * A unique identifier used to generate IDs and DOM attributes. Must be unique for every instance of the component.\n     *\n     * @see https://vue-select.org/api/props.html#uid\n     */\n    uid: {\n      type: String,\n      default: () => createElementId()\n    },\n    /**\n     * When `appendToBody` is true, this sets the placement of the dropdown\n     *\n     * @type {'bottom' | 'top'}\n     */\n    placement: {\n      type: String,\n      default: \"bottom\"\n    },\n    /**\n     * If false, the focused dropdown option will not be reset when filtered\n     * options change\n     */\n    resetFocusOnOptionsChange: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Currently selected value\n     *\n     * The `v-model` directive may be used for two-way data binding\n     *\n     * @type {string | number | Record<string | number, any> | Array<any>}\n     *\n     * @see https://vue-select.org/api/props.html#value\n     */\n    modelValue: {\n      type: [String, Number, Object, Array],\n      default: null\n    },\n    /**\n     * Enable if a value is required for native form validation\n     */\n    required: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Any available prop\n     *\n     * @see https://vue-select.org/api/props.html\n     */\n    // Not an actual prop but needed to show in vue-styleguidist docs\n    // eslint-disable-next-line\n    \" \": {}\n  },\n  emits: [\n    /**\n     * All events from https://vue-select.org/api/events.html\n     */\n    // Not an actual event but needed to show in vue-styleguidist docs\n    \" \",\n    \"update:modelValue\"\n  ],\n  setup() {\n    const clickableArea = Number.parseInt(window.getComputedStyle(document.body).getPropertyValue(\"--default-clickable-area\"));\n    const gridBaseLine = Number.parseInt(window.getComputedStyle(document.body).getPropertyValue(\"--default-grid-baseline\"));\n    const avatarSize = clickableArea - 2 * gridBaseLine;\n    return {\n      avatarSize\n    };\n  },\n  data() {\n    return {\n      search: \"\"\n    };\n  },\n  computed: {\n    inputRequired() {\n      if (!this.required) {\n        return null;\n      }\n      return this.modelValue === null || Array.isArray(this.modelValue) && this.modelValue.length === 0;\n    },\n    localCalculatePosition() {\n      if (this.calculatePosition !== null) {\n        return this.calculatePosition;\n      }\n      return (dropdownMenu, component, { width }) => {\n        dropdownMenu.style.width = width;\n        const addClass = {\n          name: \"addClass\",\n          fn() {\n            dropdownMenu.classList.add(\"vs__dropdown-menu--floating\");\n            return {};\n          }\n        };\n        const togglePlacementClass = {\n          name: \"togglePlacementClass\",\n          fn({ placement }) {\n            component.$el.classList.toggle(\n              \"select--drop-up\",\n              placement === \"top\"\n            );\n            dropdownMenu.classList.toggle(\n              \"vs__dropdown-menu--floating-placement-top\",\n              placement === \"top\"\n            );\n            return {};\n          }\n        };\n        const updatePosition = () => {\n          computePosition(component.$refs.toggle, dropdownMenu, {\n            placement: this.placement,\n            middleware: [\n              offset(-1),\n              addClass,\n              togglePlacementClass,\n              // Match popperjs default collision prevention behavior by appending the following middleware in order\n              flip(),\n              shift({ limiter: limitShift() })\n            ]\n          }).then(({ x, y }) => {\n            Object.assign(dropdownMenu.style, {\n              left: `${x}px`,\n              top: `${y}px`,\n              width: `${component.$refs.toggle.getBoundingClientRect().width}px`\n            });\n          });\n        };\n        const cleanup = autoUpdate(\n          component.$refs.toggle,\n          dropdownMenu,\n          updatePosition\n        );\n        return cleanup;\n      };\n    },\n    localFilterBy() {\n      return this.filterBy ?? VueSelect.props.filterBy.default;\n    },\n    localLabel() {\n      return this.label ?? VueSelect.props.label.default;\n    },\n    propsToForward() {\n      const vueSelectKeys = [\n        ...Object.keys(VueSelect.props),\n        ...VueSelect.mixins.flatMap((mixin) => Object.keys(mixin.props ?? {}))\n      ];\n      const initialPropsToForward = Object.fromEntries(Object.entries(this.$props).filter(([key, _value]) => vueSelectKeys.includes(key)));\n      const propsToForward = {\n        ...initialPropsToForward,\n        // Custom overrides of vue-select props\n        calculatePosition: this.localCalculatePosition,\n        closeOnSelect: !this.keepOpen,\n        filterBy: this.localFilterBy,\n        label: this.localLabel\n      };\n      return propsToForward;\n    }\n  },\n  mounted() {\n    if (!this.labelOutside && !this.inputLabel && !this.ariaLabelCombobox) {\n      warn(\"[NcSelect] An `inputLabel` or `ariaLabelCombobox` should be set. If an external label is used, `labelOutside` should be set to `true`.\");\n    }\n    if (this.inputLabel && this.ariaLabelCombobox) {\n      warn(\"[NcSelect] Only one of `inputLabel` or `ariaLabelCombobox` should to be set.\");\n    }\n  },\n  methods: {\n    t\n  }\n};\nconst _hoisted_1 = [\"for\"];\nconst _hoisted_2 = [\"required\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ChevronDown = resolveComponent(\"ChevronDown\");\n  const _component_NcEllipsisedOption = resolveComponent(\"NcEllipsisedOption\");\n  const _component_NcLoadingIcon = resolveComponent(\"NcLoadingIcon\");\n  const _component_VueSelect = resolveComponent(\"VueSelect\");\n  return openBlock(), createBlock(_component_VueSelect, mergeProps({\n    class: [\"select\", {\n      \"select--no-wrap\": $props.noWrap\n    }]\n  }, $options.propsToForward, {\n    onSearch: _cache[0] || (_cache[0] = ($event) => $data.search = $event),\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => _ctx.$emit(\"update:modelValue\", $event))\n  }), createSlots({\n    search: withCtx(({ attributes, events }) => [\n      createElementVNode(\"input\", mergeProps({\n        class: [\"vs__search\", [$props.inputClass]]\n      }, attributes, {\n        required: $options.inputRequired,\n        dir: \"auto\"\n      }, toHandlers(events, true)), null, 16, _hoisted_2)\n    ]),\n    \"open-indicator\": withCtx(({ attributes }) => [\n      createVNode(_component_ChevronDown, mergeProps(attributes, {\n        \"fill-color\": \"var(--vs-controls-color)\",\n        style: {\n          cursor: !$props.disabled ? \"pointer\" : null\n        },\n        size: 26\n      }), null, 16, [\"style\"])\n    ]),\n    option: withCtx((option) => [\n      renderSlot(_ctx.$slots, \"option\", normalizeProps(guardReactiveProps(option)), () => [\n        createVNode(_component_NcEllipsisedOption, {\n          name: String(option[$options.localLabel]),\n          search: $data.search\n        }, null, 8, [\"name\", \"search\"])\n      ])\n    ]),\n    \"selected-option\": withCtx((selectedOption) => [\n      renderSlot(_ctx.$slots, \"selected-option\", { vBind: selectedOption }, () => [\n        createVNode(_component_NcEllipsisedOption, {\n          name: String(selectedOption[$options.localLabel]),\n          search: $data.search\n        }, null, 8, [\"name\", \"search\"])\n      ])\n    ]),\n    spinner: withCtx((spinner) => [\n      spinner.loading ? (openBlock(), createBlock(_component_NcLoadingIcon, { key: 0 })) : createCommentVNode(\"\", true)\n    ]),\n    \"no-options\": withCtx(() => [\n      createTextVNode(toDisplayString($options.t(\"No results\")), 1)\n    ]),\n    _: 2\n  }, [\n    !$props.labelOutside && $props.inputLabel ? {\n      name: \"header\",\n      fn: withCtx(() => [\n        createElementVNode(\"label\", {\n          for: $props.inputId,\n          class: \"select__label\"\n        }, toDisplayString($props.inputLabel), 9, _hoisted_1)\n      ]),\n      key: \"0\"\n    } : void 0,\n    renderList(_ctx.$slots, (_, name) => {\n      return {\n        name,\n        fn: withCtx((data) => [\n          renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n        ])\n      };\n    })\n  ]), 1040, [\"class\"]);\n}\nconst NcSelect = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport {\n  NcSelect as N\n};\n//# sourceMappingURL=NcSelect-BN2tEhoU.mjs.map\n","import '../assets/NcCollectionList-D9dOsdP2.css';\nimport debounce from \"debounce\";\nimport { resolveComponent, createElementBlock, openBlock, createVNode, createCommentVNode, toDisplayString, withModifiers, normalizeClass, withDirectives, createElementVNode, vModelText, Fragment, renderList, createBlock, resolveDynamicComponent, withCtx, createTextVNode, Transition, ref } from \"vue\";\nimport { r as register, u as t27, a as t, v as t6 } from \"./_l10n-BPfpECk_.mjs\";\nimport { N as NcActionButton } from \"./NcActionButton-BAaRMesp.mjs\";\nimport { N as NcActions } from \"./NcActions-Ccr8kkyh.mjs\";\nimport { N as NcAvatar } from \"./NcAvatar-BkmHv-oY.mjs\";\nimport { g as getRoute } from \"./autolink-U5pBzLgI.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { N as NcSelect } from \"./NcSelect-BN2tEhoU.mjs\";\nimport axios from \"@nextcloud/axios\";\nimport { generateOcsUrl } from \"@nextcloud/router\";\nregister(t27);\nconst _sfc_main$1 = {\n  name: \"NcCollectionListItem\",\n  components: {\n    NcAvatar,\n    NcActions,\n    NcActionButton\n  },\n  props: {\n    /**\n     * The collection\n     */\n    collection: {\n      type: Object,\n      default: null\n    },\n    /**\n     * Current error if any\n     */\n    error: {\n      type: String,\n      default: void 0\n    }\n  },\n  emits: [\n    \"removeResource\",\n    \"renameCollection\"\n  ],\n  data() {\n    return {\n      detailsOpen: false,\n      newName: null\n    };\n  },\n  computed: {\n    getIcon() {\n      return (resource) => [resource.iconClass];\n    },\n    typeClass() {\n      return (resource) => \"resource-type-\" + resource.type;\n    },\n    resources() {\n      return this.collection.resources?.filter((resource) => !Array.isArray(resource)) ?? [];\n    },\n    getComponent() {\n      return (resource) => {\n        const route = getRoute(this.$router, resource.link);\n        return route ? { component: \"router-link\", to: route, href: void 0 } : { component: \"a\", to: void 0, href: resource.link };\n      };\n    },\n    iconUrl() {\n      return (resource) => {\n        if (resource.mimetype) {\n          return OC.MimeType.getIconUrl(resource.mimetype);\n        }\n        if (resource.iconUrl) {\n          return resource.iconUrl;\n        }\n        return \"\";\n      };\n    }\n  },\n  methods: {\n    t,\n    toggleDetails() {\n      this.detailsOpen = !this.detailsOpen;\n    },\n    showDetails() {\n      this.detailsOpen = true;\n    },\n    removeResource(collection, resource) {\n      this.$emit(\"removeResource\", {\n        collectionId: collection.id,\n        resourceType: resource.type,\n        resourceId: resource.id\n      });\n    },\n    openRename() {\n      this.newName = this.collection.name;\n    },\n    renameCollection() {\n      if (this.newName) {\n        this.$emit(\"renameCollection\", {\n          collectionId: this.collection.id,\n          name: this.newName\n        });\n      }\n      this.newName = null;\n    }\n  }\n};\nconst _hoisted_1$1 = { class: \"collection-list-item\" };\nconst _hoisted_2$1 = {\n  key: 2,\n  class: \"linked-icons\"\n};\nconst _hoisted_3$1 = [\"src\", \"alt\"];\nconst _hoisted_4$1 = {\n  key: 3,\n  class: \"sharingOptionsGroup\"\n};\nconst _hoisted_5$1 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_6$1 = {\n  key: 0,\n  class: \"resource-list-details\"\n};\nconst _hoisted_7$1 = [\"src\", \"alt\"];\nconst _hoisted_8$1 = { class: \"resource-name\" };\nconst _hoisted_9 = [\"onClick\"];\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcAvatar = resolveComponent(\"NcAvatar\");\n  const _component_NcActionButton = resolveComponent(\"NcActionButton\");\n  const _component_NcActions = resolveComponent(\"NcActions\");\n  return openBlock(), createElementBlock(\"li\", _hoisted_1$1, [\n    createVNode(_component_NcAvatar, {\n      \"display-name\": $props.collection.name,\n      \"allow-placeholder\": \"\",\n      class: \"collection-avatar\"\n    }, null, 8, [\"display-name\"]),\n    $data.newName === null ? (openBlock(), createElementBlock(\"span\", {\n      key: 0,\n      class: \"collection-item-name\",\n      title: \"\",\n      onClick: _cache[0] || (_cache[0] = (...args) => $options.showDetails && $options.showDetails(...args))\n    }, toDisplayString($props.collection.name), 1)) : (openBlock(), createElementBlock(\"form\", {\n      key: 1,\n      class: normalizeClass({ \"should-shake\": $props.error }),\n      onSubmit: _cache[2] || (_cache[2] = withModifiers((...args) => $options.renameCollection && $options.renameCollection(...args), [\"prevent\"]))\n    }, [\n      withDirectives(createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => $data.newName = $event),\n        type: \"text\",\n        autocomplete: \"off\",\n        autocapitalize: \"off\"\n      }, null, 512), [\n        [vModelText, $data.newName]\n      ]),\n      _cache[3] || (_cache[3] = createElementVNode(\"input\", {\n        type: \"submit\",\n        value: \"\",\n        class: \"icon-confirm\"\n      }, null, -1))\n    ], 34)),\n    !$data.detailsOpen && $data.newName === null ? (openBlock(), createElementBlock(\"div\", _hoisted_2$1, [\n      (openBlock(true), createElementBlock(Fragment, null, renderList($options.resources.slice(0, 2), (resource) => {\n        return openBlock(), createBlock(resolveDynamicComponent($options.getComponent(resource).component), {\n          key: resource.type + \"|\" + resource.id,\n          title: resource.name,\n          to: $options.getComponent(resource).to,\n          href: $options.getComponent(resource).href,\n          class: normalizeClass($options.typeClass(resource))\n        }, {\n          default: withCtx(() => [\n            createElementVNode(\"img\", {\n              src: $options.iconUrl(resource),\n              alt: resource.name\n            }, null, 8, _hoisted_3$1)\n          ]),\n          _: 2\n        }, 1032, [\"title\", \"to\", \"href\", \"class\"]);\n      }), 128))\n    ])) : createCommentVNode(\"\", true),\n    $data.newName === null ? (openBlock(), createElementBlock(\"span\", _hoisted_4$1, [\n      createVNode(_component_NcActions, null, {\n        default: withCtx(() => [\n          createVNode(_component_NcActionButton, {\n            icon: \"icon-info\",\n            onClick: withModifiers($options.toggleDetails, [\"prevent\"])\n          }, {\n            default: withCtx(() => [\n              createTextVNode(toDisplayString($data.detailsOpen ? $options.t(\"Hide details\") : $options.t(\"Show details\")), 1)\n            ]),\n            _: 1\n          }, 8, [\"onClick\"]),\n          createVNode(_component_NcActionButton, {\n            icon: \"icon-rename\",\n            onClick: withModifiers($options.openRename, [\"prevent\"])\n          }, {\n            default: withCtx(() => [\n              createTextVNode(toDisplayString($options.t(\"Rename project\")), 1)\n            ]),\n            _: 1\n          }, 8, [\"onClick\"])\n        ]),\n        _: 1\n      })\n    ])) : createCommentVNode(\"\", true),\n    createVNode(Transition, { name: \"fade\" }, {\n      default: withCtx(() => [\n        $props.error ? (openBlock(), createElementBlock(\"div\", _hoisted_5$1, toDisplayString($props.error), 1)) : createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }),\n    createVNode(Transition, { name: \"fade\" }, {\n      default: withCtx(() => [\n        $data.detailsOpen ? (openBlock(), createElementBlock(\"ul\", _hoisted_6$1, [\n          (openBlock(true), createElementBlock(Fragment, null, renderList($options.resources, (resource) => {\n            return openBlock(), createElementBlock(\"li\", {\n              key: resource.type + \"|\" + resource.id,\n              class: normalizeClass($options.typeClass(resource))\n            }, [\n              (openBlock(), createBlock(resolveDynamicComponent($options.getComponent(resource).component), {\n                to: $options.getComponent(resource).to,\n                href: $options.getComponent(resource).href\n              }, {\n                default: withCtx(() => [\n                  createElementVNode(\"img\", {\n                    src: $options.iconUrl(resource),\n                    alt: resource.name\n                  }, null, 8, _hoisted_7$1),\n                  createElementVNode(\"span\", _hoisted_8$1, toDisplayString(resource.name || \"\"), 1)\n                ]),\n                _: 2\n              }, 1032, [\"to\", \"href\"])),\n              createElementVNode(\"span\", {\n                class: \"icon-close\",\n                onClick: ($event) => $options.removeResource($props.collection, resource)\n              }, null, 8, _hoisted_9)\n            ], 2);\n          }), 128))\n        ])) : createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ]);\n}\nconst NcCollectionListItem = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"render\", _sfc_render$1], [\"__scopeId\", \"data-v-52d18b4a\"]]);\nregister(t6);\nfunction extractOcsData(response) {\n  return response.data.ocs.data;\n}\nfunction renameCollectionService(collectionId, collectionName) {\n  return axios.put(generateOcsUrl(\"collaboration/resources/collections/{collectionId}\", { collectionId }), { collectionName }).then(extractOcsData);\n}\nfunction getCollectionsByResourceService(resourceType, resourceId) {\n  return axios.get(generateOcsUrl(\"collaboration/resources/{resourceType}/{resourceId}\", { resourceType, resourceId })).then(extractOcsData);\n}\nfunction createCollectionService(resourceType, resourceId, name) {\n  return axios.post(generateOcsUrl(\"collaboration/resources/{resourceType}/{resourceId}\", { resourceType, resourceId }), { name }).then(extractOcsData);\n}\nfunction addResourceService(collectionId, resourceType, resourceId) {\n  return axios.post(generateOcsUrl(\"collaboration/resources/collections/{collectionId}\", { collectionId }), { resourceType, resourceId }).then(extractOcsData);\n}\nfunction removeResourceService(collectionId, resourceType, resourceId) {\n  return axios.delete(generateOcsUrl(\"collaboration/resources/collections/{collectionId}\", { collectionId }), { params: { resourceType, resourceId } }).then(extractOcsData);\n}\nfunction searchService(query) {\n  return axios.get(generateOcsUrl(\"collaboration/resources/collections/search/{query}\", { query })).then(extractOcsData);\n}\nfunction useCollections() {\n  const storedCollections = ref([]);\n  const addCollections = (collections) => {\n    storedCollections.value = collections;\n  };\n  const addCollection = (collection) => {\n    storedCollections.value.push(collection);\n  };\n  const removeCollection = (collectionId) => {\n    storedCollections.value = storedCollections.value.filter((item) => item.id !== collectionId);\n  };\n  const updateCollection = (collection) => {\n    const index = storedCollections.value.findIndex((item) => item.id === collection.id);\n    if (index !== -1) {\n      storedCollections.value[index] = collection;\n    } else {\n      addCollection(collection);\n    }\n  };\n  const fetchCollectionsByResource = async ({ resourceType, resourceId }) => {\n    const collections = await getCollectionsByResourceService(resourceType, resourceId);\n    addCollections(collections);\n  };\n  const createCollection = async ({ baseResourceType, baseResourceId, resourceType, resourceId, name }) => {\n    const collection = await createCollectionService(baseResourceType, baseResourceId, name);\n    addCollection(collection);\n    await addResourceToCollection({\n      collectionId: collection.id,\n      resourceType,\n      resourceId\n    });\n  };\n  const renameCollection = async ({ collectionId, name }) => {\n    const collection = await renameCollectionService(collectionId, name);\n    updateCollection(collection);\n  };\n  async function addResourceToCollection({ collectionId, resourceType, resourceId }) {\n    const collection = await addResourceService(collectionId, resourceType, String(resourceId));\n    updateCollection(collection);\n  }\n  const removeResourceFromCollection = async ({ collectionId, resourceType, resourceId }) => {\n    const collection = await removeResourceService(collectionId, resourceType, String(resourceId));\n    if (collection.resources.length > 0) {\n      updateCollection(collection);\n    } else {\n      removeCollection(collectionId);\n    }\n  };\n  return {\n    storedCollections,\n    fetchCollectionsByResource,\n    createCollection,\n    renameCollection,\n    addResourceToCollection,\n    removeResourceFromCollection\n  };\n}\nconst METHOD_CREATE_COLLECTION = 0;\nconst METHOD_ADD_TO_COLLECTION = 1;\nconst _sfc_main = {\n  name: \"NcCollectionList\",\n  components: {\n    NcCollectionListItem,\n    NcAvatar,\n    NcSelect\n  },\n  props: {\n    /**\n     * Resource type identifier\n     */\n    type: {\n      type: String,\n      default: null\n    },\n    /**\n     * Unique id of the resource\n     */\n    id: {\n      type: String,\n      default: null\n    },\n    /**\n     * Name of the resource\n     */\n    name: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Whether the component is active (to start fetch resources)\n     */\n    isActive: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup() {\n    const {\n      storedCollections,\n      fetchCollectionsByResource,\n      createCollection,\n      addResourceToCollection,\n      removeResourceFromCollection,\n      renameCollection\n    } = useCollections();\n    const searchCollections = ref([]);\n    const search = debounce(function(query, loading) {\n      if (query !== \"\") {\n        loading(true);\n        searchService(query).then((collections) => {\n          searchCollections.value = collections;\n        }).catch((error) => {\n          logger.error(\"Failed to search for collections\", { error });\n        }).finally(() => {\n          loading(false);\n        });\n      }\n    }, 500);\n    return {\n      storedCollections,\n      fetchCollectionsByResource,\n      createCollection,\n      addResourceToCollection,\n      removeResourceFromCollection,\n      renameCollection,\n      searchCollections,\n      search\n    };\n  },\n  data() {\n    return {\n      selectIsOpen: false,\n      generatingCodes: false,\n      codes: void 0,\n      value: null,\n      model: {},\n      collectionsError: {},\n      error: null,\n      isSelectOpen: false\n    };\n  },\n  computed: {\n    collections() {\n      return this.storedCollections.filter((collection) => collection.resources.some((resource) => resource && resource.id === String(this.id) && resource.type === this.type));\n    },\n    placeholder() {\n      return this.isSelectOpen ? t(\"Type to search for existing projects\") : t(\"Add to a project\");\n    },\n    options() {\n      const options = [];\n      window.OCP.Collaboration.getTypes().sort().forEach((type) => {\n        options.push({\n          method: METHOD_CREATE_COLLECTION,\n          type,\n          title: window.OCP.Collaboration.getLabel(type),\n          class: window.OCP.Collaboration.getIcon(type),\n          action: () => window.OCP.Collaboration.trigger(type)\n        });\n      });\n      for (const index in this.searchCollections) {\n        if (!this.collections.find((collection) => collection.id === this.searchCollections[index].id)) {\n          options.push({\n            method: METHOD_ADD_TO_COLLECTION,\n            title: this.searchCollections[index].name,\n            collectionId: this.searchCollections[index].id\n          });\n        }\n      }\n      return options;\n    },\n    resourceIdentifier() {\n      return {\n        resourceType: this.type,\n        resourceId: this.id,\n        isActive: this.isActive\n      };\n    }\n  },\n  watch: {\n    resourceIdentifier: {\n      deep: true,\n      immediate: true,\n      handler(resourceIdentifier) {\n        if (!resourceIdentifier.isActive || !resourceIdentifier.resourceId || !resourceIdentifier.resourceType) {\n          return;\n        }\n        this.fetchCollectionsByResource(resourceIdentifier);\n      }\n    }\n  },\n  methods: {\n    t,\n    select(selectedOption) {\n      if (selectedOption.method === METHOD_CREATE_COLLECTION) {\n        selectedOption.action().then((resourceId) => {\n          this.createCollection({\n            baseResourceType: this.type,\n            baseResourceId: this.id,\n            resourceType: selectedOption.type,\n            resourceId,\n            name: this.name\n          }).catch((e) => {\n            this.setError(t(\"Failed to create a project\"), e);\n          });\n        }).catch((e) => {\n          loger.error(\"[NcCollectionList] No resource selected\", e);\n        });\n      }\n      if (selectedOption.method === METHOD_ADD_TO_COLLECTION) {\n        this.addResourceToCollection({\n          collectionId: selectedOption.collectionId,\n          resourceType: this.type,\n          resourceId: this.id\n        }).catch((e) => {\n          this.setError(t(\"Failed to add the item to the project\"), e);\n        });\n      }\n      this.value = null;\n    },\n    showSelect() {\n      this.selectIsOpen = true;\n      this.$refs.select.$el.focus();\n    },\n    setError(error, e) {\n      logger.error(error, { error: e });\n      this.error = error;\n      setTimeout(() => {\n        this.error = null;\n      }, 5e3);\n    },\n    renameCollectionFromItem({ collectionId, name }) {\n      this.renameCollection({ collectionId, name }).catch((e) => {\n        logger.error(t(\"Failed to rename the project\"), { error: e });\n        this.collectionsError[collectionId] = t(\"Failed to rename the project\");\n        setTimeout(() => {\n          this.collectionsError[collectionId] = null;\n        }, 5e3);\n      });\n    }\n  }\n};\nconst _hoisted_1 = {\n  key: 0,\n  id: \"collection-list\",\n  class: \"collection-list\"\n};\nconst _hoisted_2 = { id: \"collection-select-container\" };\nconst _hoisted_3 = { class: \"option__desc\" };\nconst _hoisted_4 = { class: \"option__title\" };\nconst _hoisted_5 = { class: \"option__wrapper\" };\nconst _hoisted_6 = { class: \"option__title\" };\nconst _hoisted_7 = { class: \"hint\" };\nconst _hoisted_8 = {\n  key: 0,\n  class: \"error\"\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcAvatar = resolveComponent(\"NcAvatar\");\n  const _component_NcSelect = resolveComponent(\"NcSelect\");\n  const _component_NcCollectionListItem = resolveComponent(\"NcCollectionListItem\");\n  return $options.collections && $props.type && $props.id ? (openBlock(), createElementBlock(\"ul\", _hoisted_1, [\n    createElementVNode(\"li\", {\n      onClick: _cache[3] || (_cache[3] = (...args) => $options.showSelect && $options.showSelect(...args))\n    }, [\n      _cache[4] || (_cache[4] = createElementVNode(\"div\", { class: \"avatar\" }, [\n        createElementVNode(\"span\", { class: \"icon-projects\" })\n      ], -1)),\n      createElementVNode(\"div\", _hoisted_2, [\n        createVNode(_component_NcSelect, {\n          ref: \"select\",\n          modelValue: $data.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => $data.value = $event),\n          \"aria-label-combobox\": $options.t(\"Add to a project\"),\n          options: $options.options,\n          placeholder: $options.placeholder,\n          label: \"title\",\n          limit: 5,\n          onClose: _cache[1] || (_cache[1] = ($event) => $data.isSelectOpen = false),\n          onOpen: _cache[2] || (_cache[2] = ($event) => $data.isSelectOpen = true),\n          \"onOption:selected\": $options.select,\n          onSearch: $setup.search\n        }, {\n          \"selected-option\": withCtx((option) => [\n            createElementVNode(\"span\", _hoisted_3, [\n              createElementVNode(\"span\", _hoisted_4, toDisplayString(option.title), 1)\n            ])\n          ]),\n          option: withCtx((option) => [\n            createElementVNode(\"span\", _hoisted_5, [\n              option.class ? (openBlock(), createElementBlock(\"span\", {\n                key: 0,\n                class: normalizeClass([option.class, \"avatar\"])\n              }, null, 2)) : option.method !== 2 ? (openBlock(), createBlock(_component_NcAvatar, {\n                key: 1,\n                \"allow-placeholder\": \"\",\n                \"display-name\": option.title\n              }, null, 8, [\"display-name\"])) : createCommentVNode(\"\", true),\n              createElementVNode(\"span\", _hoisted_6, toDisplayString(option.title), 1)\n            ])\n          ]),\n          default: withCtx(() => [\n            createElementVNode(\"p\", _hoisted_7, toDisplayString($options.t(\"Connect items to a project to make them easier to find\")), 1)\n          ]),\n          _: 1\n        }, 8, [\"modelValue\", \"aria-label-combobox\", \"options\", \"placeholder\", \"onOption:selected\", \"onSearch\"])\n      ])\n    ]),\n    createVNode(Transition, { name: \"fade\" }, {\n      default: withCtx(() => [\n        $data.error ? (openBlock(), createElementBlock(\"li\", _hoisted_8, toDisplayString($data.error), 1)) : createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }),\n    (openBlock(true), createElementBlock(Fragment, null, renderList($options.collections, (collection) => {\n      return openBlock(), createBlock(_component_NcCollectionListItem, {\n        key: collection.id,\n        collection,\n        error: $data.collectionsError[collection.id],\n        onRenameCollection: $options.renameCollectionFromItem,\n        onRemoveResource: $setup.removeResourceFromCollection\n      }, null, 8, [\"collection\", \"error\", \"onRenameCollection\", \"onRemoveResource\"]);\n    }), 128))\n  ])) : createCommentVNode(\"\", true);\n}\nconst NcCollectionList = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__scopeId\", \"data-v-d175e795\"]]);\nexport {\n  NcCollectionList as N\n};\n//# sourceMappingURL=NcCollectionList-DGNf9nD5.mjs.map\n","import { numberInputToObject, rgbaToHex, rgbToHex, rgbToHsl, rgbToHsv } from './conversion.js';\nimport { names } from './css-color-names.js';\nimport { inputToRGB } from './format-input';\nimport { bound01, boundAlpha, clamp01 } from './util.js';\nvar TinyColor = /** @class */ (function () {\n    function TinyColor(color, opts) {\n        if (color === void 0) { color = ''; }\n        if (opts === void 0) { opts = {}; }\n        var _a;\n        // If input is already a tinycolor, return itself\n        if (color instanceof TinyColor) {\n            // eslint-disable-next-line no-constructor-return\n            return color;\n        }\n        if (typeof color === 'number') {\n            color = numberInputToObject(color);\n        }\n        this.originalInput = color;\n        var rgb = inputToRGB(color);\n        this.originalInput = color;\n        this.r = rgb.r;\n        this.g = rgb.g;\n        this.b = rgb.b;\n        this.a = rgb.a;\n        this.roundA = Math.round(100 * this.a) / 100;\n        this.format = (_a = opts.format) !== null && _a !== void 0 ? _a : rgb.format;\n        this.gradientType = opts.gradientType;\n        // Don't let the range of [0,255] come back in [0,1].\n        // Potentially lose a little bit of precision here, but will fix issues where\n        // .5 gets interpreted as half of the total, instead of half of 1\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n        if (this.r < 1) {\n            this.r = Math.round(this.r);\n        }\n        if (this.g < 1) {\n            this.g = Math.round(this.g);\n        }\n        if (this.b < 1) {\n            this.b = Math.round(this.b);\n        }\n        this.isValid = rgb.ok;\n    }\n    TinyColor.prototype.isDark = function () {\n        return this.getBrightness() < 128;\n    };\n    TinyColor.prototype.isLight = function () {\n        return !this.isDark();\n    };\n    /**\n     * Returns the perceived brightness of the color, from 0-255.\n     */\n    TinyColor.prototype.getBrightness = function () {\n        // http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    };\n    /**\n     * Returns the perceived luminance of a color, from 0-1.\n     */\n    TinyColor.prototype.getLuminance = function () {\n        // http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var R;\n        var G;\n        var B;\n        var RsRGB = rgb.r / 255;\n        var GsRGB = rgb.g / 255;\n        var BsRGB = rgb.b / 255;\n        if (RsRGB <= 0.03928) {\n            R = RsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (GsRGB <= 0.03928) {\n            G = GsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (BsRGB <= 0.03928) {\n            B = BsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n        }\n        return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n    };\n    /**\n     * Returns the alpha value of a color, from 0-1.\n     */\n    TinyColor.prototype.getAlpha = function () {\n        return this.a;\n    };\n    /**\n     * Sets the alpha value on the current color.\n     *\n     * @param alpha - The new alpha value. The accepted range is 0-1.\n     */\n    TinyColor.prototype.setAlpha = function (alpha) {\n        this.a = boundAlpha(alpha);\n        this.roundA = Math.round(100 * this.a) / 100;\n        return this;\n    };\n    /**\n     * Returns whether the color is monochrome.\n     */\n    TinyColor.prototype.isMonochrome = function () {\n        var s = this.toHsl().s;\n        return s === 0;\n    };\n    /**\n     * Returns the object as a HSVA object.\n     */\n    TinyColor.prototype.toHsv = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this.a };\n    };\n    /**\n     * Returns the hsva values interpolated into a string with the following format:\n     * \"hsva(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHsvString = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        var h = Math.round(hsv.h * 360);\n        var s = Math.round(hsv.s * 100);\n        var v = Math.round(hsv.v * 100);\n        return this.a === 1 ? \"hsv(\".concat(h, \", \").concat(s, \"%, \").concat(v, \"%)\") : \"hsva(\".concat(h, \", \").concat(s, \"%, \").concat(v, \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the object as a HSLA object.\n     */\n    TinyColor.prototype.toHsl = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this.a };\n    };\n    /**\n     * Returns the hsla values interpolated into a string with the following format:\n     * \"hsla(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHslString = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        var h = Math.round(hsl.h * 360);\n        var s = Math.round(hsl.s * 100);\n        var l = Math.round(hsl.l * 100);\n        return this.a === 1 ? \"hsl(\".concat(h, \", \").concat(s, \"%, \").concat(l, \"%)\") : \"hsla(\".concat(h, \", \").concat(s, \"%, \").concat(l, \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the hex value of the color.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHex = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return rgbToHex(this.r, this.g, this.b, allow3Char);\n    };\n    /**\n     * Returns the hex value of the color -with a # prefixed.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHexString = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return '#' + this.toHex(allow3Char);\n    };\n    /**\n     * Returns the hex 8 value of the color.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8 = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return rgbaToHex(this.r, this.g, this.b, this.a, allow4Char);\n    };\n    /**\n     * Returns the hex 8 value of the color -with a # prefixed.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8String = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return '#' + this.toHex8(allow4Char);\n    };\n    /**\n     * Returns the shorter hex value of the color depends on its alpha -with a # prefixed.\n     * @param allowShortChar will shorten hex value to 3 or 4 char if possible\n     */\n    TinyColor.prototype.toHexShortString = function (allowShortChar) {\n        if (allowShortChar === void 0) { allowShortChar = false; }\n        return this.a === 1 ? this.toHexString(allowShortChar) : this.toHex8String(allowShortChar);\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toRgb = function () {\n        return {\n            r: Math.round(this.r),\n            g: Math.round(this.g),\n            b: Math.round(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA values interpolated into a string with the following format:\n     * \"RGBA(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toRgbString = function () {\n        var r = Math.round(this.r);\n        var g = Math.round(this.g);\n        var b = Math.round(this.b);\n        return this.a === 1 ? \"rgb(\".concat(r, \", \").concat(g, \", \").concat(b, \")\") : \"rgba(\".concat(r, \", \").concat(g, \", \").concat(b, \", \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toPercentageRgb = function () {\n        var fmt = function (x) { return \"\".concat(Math.round(bound01(x, 255) * 100), \"%\"); };\n        return {\n            r: fmt(this.r),\n            g: fmt(this.g),\n            b: fmt(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA relative values interpolated into a string\n     */\n    TinyColor.prototype.toPercentageRgbString = function () {\n        var rnd = function (x) { return Math.round(bound01(x, 255) * 100); };\n        return this.a === 1\n            ? \"rgb(\".concat(rnd(this.r), \"%, \").concat(rnd(this.g), \"%, \").concat(rnd(this.b), \"%)\")\n            : \"rgba(\".concat(rnd(this.r), \"%, \").concat(rnd(this.g), \"%, \").concat(rnd(this.b), \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * The 'real' name of the color -if there is one.\n     */\n    TinyColor.prototype.toName = function () {\n        if (this.a === 0) {\n            return 'transparent';\n        }\n        if (this.a < 1) {\n            return false;\n        }\n        var hex = '#' + rgbToHex(this.r, this.g, this.b, false);\n        for (var _i = 0, _a = Object.entries(names); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            if (hex === value) {\n                return key;\n            }\n        }\n        return false;\n    };\n    TinyColor.prototype.toString = function (format) {\n        var formatSet = Boolean(format);\n        format = format !== null && format !== void 0 ? format : this.format;\n        var formattedString = false;\n        var hasAlpha = this.a < 1 && this.a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format.startsWith('hex') || format === 'name');\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === 'name' && this.a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === 'rgb') {\n            formattedString = this.toRgbString();\n        }\n        if (format === 'prgb') {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === 'hex' || format === 'hex6') {\n            formattedString = this.toHexString();\n        }\n        if (format === 'hex3') {\n            formattedString = this.toHexString(true);\n        }\n        if (format === 'hex4') {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === 'hex8') {\n            formattedString = this.toHex8String();\n        }\n        if (format === 'name') {\n            formattedString = this.toName();\n        }\n        if (format === 'hsl') {\n            formattedString = this.toHslString();\n        }\n        if (format === 'hsv') {\n            formattedString = this.toHsvString();\n        }\n        return formattedString || this.toHexString();\n    };\n    TinyColor.prototype.toNumber = function () {\n        return (Math.round(this.r) << 16) + (Math.round(this.g) << 8) + Math.round(this.b);\n    };\n    TinyColor.prototype.clone = function () {\n        return new TinyColor(this.toString());\n    };\n    /**\n     * Lighten the color a given amount. Providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.lighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Brighten the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.brighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var rgb = this.toRgb();\n        rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n        rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n        rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n        return new TinyColor(rgb);\n    };\n    /**\n     * Darken the color a given amount, from 0 to 100.\n     * Providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.darken = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the color with pure white, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.tint = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('white', amount);\n    };\n    /**\n     * Mix the color with pure black, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.shade = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('black', amount);\n    };\n    /**\n     * Desaturate the color a given amount, from 0 to 100.\n     * Providing 100 will is the same as calling greyscale\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.desaturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Saturate the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.saturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Completely desaturates a color into greyscale.\n     * Same as calling `desaturate(100)`\n     */\n    TinyColor.prototype.greyscale = function () {\n        return this.desaturate(100);\n    };\n    /**\n     * Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n     * Values outside of this range will be wrapped into this range.\n     */\n    TinyColor.prototype.spin = function (amount) {\n        var hsl = this.toHsl();\n        var hue = (hsl.h + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the current color a given amount with another color, from 0 to 100.\n     * 0 means no mixing (return current color).\n     */\n    TinyColor.prototype.mix = function (color, amount) {\n        if (amount === void 0) { amount = 50; }\n        var rgb1 = this.toRgb();\n        var rgb2 = new TinyColor(color).toRgb();\n        var p = amount / 100;\n        var rgba = {\n            r: (rgb2.r - rgb1.r) * p + rgb1.r,\n            g: (rgb2.g - rgb1.g) * p + rgb1.g,\n            b: (rgb2.b - rgb1.b) * p + rgb1.b,\n            a: (rgb2.a - rgb1.a) * p + rgb1.a,\n        };\n        return new TinyColor(rgba);\n    };\n    TinyColor.prototype.analogous = function (results, slices) {\n        if (results === void 0) { results = 6; }\n        if (slices === void 0) { slices = 30; }\n        var hsl = this.toHsl();\n        var part = 360 / slices;\n        var ret = [this];\n        for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results;) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(new TinyColor(hsl));\n        }\n        return ret;\n    };\n    /**\n     * taken from https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js\n     */\n    TinyColor.prototype.complement = function () {\n        var hsl = this.toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.monochromatic = function (results) {\n        if (results === void 0) { results = 6; }\n        var hsv = this.toHsv();\n        var h = hsv.h;\n        var s = hsv.s;\n        var v = hsv.v;\n        var res = [];\n        var modification = 1 / results;\n        while (results--) {\n            res.push(new TinyColor({ h: h, s: s, v: v }));\n            v = (v + modification) % 1;\n        }\n        return res;\n    };\n    TinyColor.prototype.splitcomplement = function () {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        return [\n            this,\n            new TinyColor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),\n            new TinyColor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),\n        ];\n    };\n    /**\n     * Compute how the color would appear on a background\n     */\n    TinyColor.prototype.onBackground = function (background) {\n        var fg = this.toRgb();\n        var bg = new TinyColor(background).toRgb();\n        var alpha = fg.a + bg.a * (1 - fg.a);\n        return new TinyColor({\n            r: (fg.r * fg.a + bg.r * bg.a * (1 - fg.a)) / alpha,\n            g: (fg.g * fg.a + bg.g * bg.a * (1 - fg.a)) / alpha,\n            b: (fg.b * fg.a + bg.b * bg.a * (1 - fg.a)) / alpha,\n            a: alpha,\n        });\n    };\n    /**\n     * Alias for `polyad(3)`\n     */\n    TinyColor.prototype.triad = function () {\n        return this.polyad(3);\n    };\n    /**\n     * Alias for `polyad(4)`\n     */\n    TinyColor.prototype.tetrad = function () {\n        return this.polyad(4);\n    };\n    /**\n     * Get polyad colors, like (for 1, 2, 3, 4, 5, 6, 7, 8, etc...)\n     * monad, dyad, triad, tetrad, pentad, hexad, heptad, octad, etc...\n     */\n    TinyColor.prototype.polyad = function (n) {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        var result = [this];\n        var increment = 360 / n;\n        for (var i = 1; i < n; i++) {\n            result.push(new TinyColor({ h: (h + i * increment) % 360, s: hsl.s, l: hsl.l }));\n        }\n        return result;\n    };\n    /**\n     * compare color vs current color\n     */\n    TinyColor.prototype.equals = function (color) {\n        return this.toRgbString() === new TinyColor(color).toRgbString();\n    };\n    return TinyColor;\n}());\nexport { TinyColor };\n// kept for backwards compatability with v1\nexport function tinycolor(color, opts) {\n    if (color === void 0) { color = ''; }\n    if (opts === void 0) { opts = {}; }\n    return new TinyColor(color, opts);\n}\n","import colorMixin from '../../mixin/color.js';\nimport script$4 from '../editable-input/index.js';\nimport script$1 from '../saturation/index.js';\nimport script$2 from '../hue/index.js';\nimport script$3 from '../alpha/index.js';\nimport script$5 from '../checkboard/index.js';\nimport { resolveComponent, openBlock, createElementBlock, normalizeClass, createElementVNode, createVNode, normalizeStyle, createBlock, createCommentVNode, withDirectives, vShow } from 'vue';\nimport { s as styleInject } from '../../style-inject.es-746bb8ed.js';\nimport { install } from '../../utils/compoent.js';\nimport '@ctrl/tinycolor';\nimport '../../utils/utils.js';\nimport '../../defaultConfig.js';\n\nvar script = {\n  name: 'Chrome',\n  components: {\n    Saturation: script$1,\n    Hue: script$2,\n    Alpha: script$3,\n    EdIn: script$4,\n    Checkboard: script$5,\n  },\n  mixins: [colorMixin],\n  props: {\n    disableAlpha: {\n      type: Boolean,\n      default: false,\n    },\n    disableFields: {\n      type: Boolean,\n      default: false,\n    },\n    format: {\n      type: String,\n      default: 'hex',\n    },\n  },\n  data() {\n    return {\n      fieldsIndex: 'hex',\n      highlight: false,\n    };\n  },\n  computed: {\n    hsl() {\n      const { h, s, l } = this.colors.hsl;\n      return {\n        h: h.toFixed(),\n        s: `${(s * 100).toFixed()}%`,\n        l: `${(l * 100).toFixed()}%`,\n      };\n    },\n    activeColor() {\n      const { rgba } = this.colors;\n      return `rgba(${[rgba.r, rgba.g, rgba.b, rgba.a].join(',')})`;\n    },\n    hasAlpha() {\n      return this.colors.a < 1;\n    },\n  },\n  watch: {\n    format: {\n      handler(val) {\n        this.fieldsIndex = val;\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    childChange(data) {\n      this.colorChange(data);\n    },\n    inputChange(data) {\n      if (!data)\n        return;\n\n      if (data.hex) {\n        this.isValidHex(data.hex) && this.colorChange({\n          hex: data.hex,\n          source: 'hex',\n        });\n      }\n      else if (data.r || data.g || data.b || data.a) {\n        this.colorChange({\n          r: data.r || this.colors.rgba.r,\n          g: data.g || this.colors.rgba.g,\n          b: data.b || this.colors.rgba.b,\n          a: data.a || this.colors.rgba.a,\n          source: 'rgba',\n        });\n      }\n      else if (data.h || data.s || data.l) {\n        const s = data.s ? (data.s.replace('%', '') / 100) : this.colors.hsl.s;\n        const l = data.l ? (data.l.replace('%', '') / 100) : this.colors.hsl.l;\n\n        this.colorChange({\n          h: data.h || this.colors.hsl.h,\n          s,\n          l,\n          source: 'hsl',\n        });\n      }\n    },\n    toggleViews() {\n      switch (this.fieldsIndex) {\n        case 'hex':\n          this.fieldsIndex = `rgb${this.disableAlpha ? '' : 'a'}`;\n          break;\n        case 'rgb':\n        case 'rgba':\n          this.fieldsIndex = `hsl${this.disableAlpha ? '' : 'a'}`;\n          break;\n        default:\n          this.fieldsIndex = 'hex';\n          break;\n      }\n      this.$emit('update:format', this.fieldsIndex);\n    },\n    showHighlight() {\n      this.highlight = true;\n    },\n    hideHighlight() {\n      this.highlight = false;\n    },\n  },\n};\n\nconst _hoisted_1 = { class: \"vc-chrome-saturation-wrap\" };\nconst _hoisted_2 = { class: \"vc-chrome-body\" };\nconst _hoisted_3 = { class: \"vc-chrome-controls\" };\nconst _hoisted_4 = { class: \"vc-chrome-color-wrap\" };\nconst _hoisted_5 = [\"aria-label\"];\nconst _hoisted_6 = { class: \"vc-chrome-sliders\" };\nconst _hoisted_7 = { class: \"vc-chrome-hue-wrap\" };\nconst _hoisted_8 = {\n  key: 0,\n  class: \"vc-chrome-alpha-wrap\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"vc-chrome-fields-wrap\"\n};\nconst _hoisted_10 = { class: \"vc-chrome-fields\" };\nconst _hoisted_11 = { class: \"vc-chrome-field\" };\nconst _hoisted_12 = { class: \"vc-chrome-fields\" };\nconst _hoisted_13 = { class: \"vc-chrome-field\" };\nconst _hoisted_14 = { class: \"vc-chrome-field\" };\nconst _hoisted_15 = { class: \"vc-chrome-field\" };\nconst _hoisted_16 = {\n  key: 0,\n  class: \"vc-chrome-field\"\n};\nconst _hoisted_17 = { class: \"vc-chrome-fields\" };\nconst _hoisted_18 = { class: \"vc-chrome-field\" };\nconst _hoisted_19 = { class: \"vc-chrome-field\" };\nconst _hoisted_20 = { class: \"vc-chrome-field\" };\nconst _hoisted_21 = {\n  key: 0,\n  class: \"vc-chrome-field\"\n};\nconst _hoisted_22 = { class: \"vc-chrome-toggle-icon\" };\nconst _hoisted_23 = /*#__PURE__*/createElementVNode(\"path\", {\n  fill: \"#333\",\n  d: \"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_24 = [\n  _hoisted_23\n];\nconst _hoisted_25 = { class: \"vc-chrome-toggle-icon-highlight\" };\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Saturation = resolveComponent(\"Saturation\");\n  const _component_Checkboard = resolveComponent(\"Checkboard\");\n  const _component_Hue = resolveComponent(\"Hue\");\n  const _component_Alpha = resolveComponent(\"Alpha\");\n  const _component_EdIn = resolveComponent(\"EdIn\");\n\n  return (openBlock(), createElementBlock(\"div\", {\n    role: \"application\",\n    \"aria-label\": \"Chrome color picker\",\n    class: normalizeClass([\"vc-chrome\", [$props.disableAlpha ? 'vc-chrome__disable-alpha' : '']])\n  }, [\n    createElementVNode(\"div\", _hoisted_1, [\n      createVNode(_component_Saturation, {\n        value: _ctx.colors,\n        onChange: $options.childChange\n      }, null, 8 /* PROPS */, [\"value\", \"onChange\"])\n    ]),\n    createElementVNode(\"div\", _hoisted_2, [\n      createElementVNode(\"div\", _hoisted_3, [\n        createElementVNode(\"div\", _hoisted_4, [\n          createElementVNode(\"div\", {\n            \"aria-label\": `current color is ${_ctx.colors.hex}`,\n            class: \"vc-chrome-active-color\",\n            style: normalizeStyle({ background: $options.activeColor })\n          }, null, 12 /* STYLE, PROPS */, _hoisted_5),\n          (!$props.disableAlpha)\n            ? (openBlock(), createBlock(_component_Checkboard, { key: 0 }))\n            : createCommentVNode(\"v-if\", true)\n        ]),\n        createElementVNode(\"div\", _hoisted_6, [\n          createElementVNode(\"div\", _hoisted_7, [\n            createVNode(_component_Hue, {\n              value: _ctx.colors,\n              onChange: $options.childChange\n            }, null, 8 /* PROPS */, [\"value\", \"onChange\"])\n          ]),\n          (!$props.disableAlpha)\n            ? (openBlock(), createElementBlock(\"div\", _hoisted_8, [\n                createVNode(_component_Alpha, {\n                  value: _ctx.colors,\n                  onChange: $options.childChange\n                }, null, 8 /* PROPS */, [\"value\", \"onChange\"])\n              ]))\n            : createCommentVNode(\"v-if\", true)\n        ])\n      ]),\n      (!$props.disableFields)\n        ? (openBlock(), createElementBlock(\"div\", _hoisted_9, [\n            withDirectives(createElementVNode(\"div\", _hoisted_10, [\n              createCommentVNode(\" hex \"),\n              createElementVNode(\"div\", _hoisted_11, [\n                (!$options.hasAlpha)\n                  ? (openBlock(), createBlock(_component_EdIn, {\n                      key: 0,\n                      label: \"hex\",\n                      value: _ctx.colors.hex,\n                      onChange: $options.inputChange\n                    }, null, 8 /* PROPS */, [\"value\", \"onChange\"]))\n                  : createCommentVNode(\"v-if\", true),\n                ($options.hasAlpha)\n                  ? (openBlock(), createBlock(_component_EdIn, {\n                      key: 1,\n                      label: \"hex\",\n                      value: _ctx.colors.hex8,\n                      onChange: $options.inputChange\n                    }, null, 8 /* PROPS */, [\"value\", \"onChange\"]))\n                  : createCommentVNode(\"v-if\", true)\n              ])\n            ], 512 /* NEED_PATCH */), [\n              [vShow, $data.fieldsIndex === 'hex']\n            ]),\n            withDirectives(createElementVNode(\"div\", _hoisted_12, [\n              createCommentVNode(\" rgba \"),\n              createElementVNode(\"div\", _hoisted_13, [\n                createVNode(_component_EdIn, {\n                  label: \"r\",\n                  value: _ctx.colors.rgba.r,\n                  onChange: $options.inputChange\n                }, null, 8 /* PROPS */, [\"value\", \"onChange\"])\n              ]),\n              createElementVNode(\"div\", _hoisted_14, [\n                createVNode(_component_EdIn, {\n                  label: \"g\",\n                  value: _ctx.colors.rgba.g,\n                  onChange: $options.inputChange\n                }, null, 8 /* PROPS */, [\"value\", \"onChange\"])\n              ]),\n              createElementVNode(\"div\", _hoisted_15, [\n                createVNode(_component_EdIn, {\n                  label: \"b\",\n                  value: _ctx.colors.rgba.b,\n                  onChange: $options.inputChange\n                }, null, 8 /* PROPS */, [\"value\", \"onChange\"])\n              ]),\n              (!$props.disableAlpha)\n                ? (openBlock(), createElementBlock(\"div\", _hoisted_16, [\n                    createVNode(_component_EdIn, {\n                      label: \"a\",\n                      value: _ctx.colors.a,\n                      \"arrow-offset\": 0.01,\n                      max: 1,\n                      onChange: $options.inputChange\n                    }, null, 8 /* PROPS */, [\"value\", \"arrow-offset\", \"onChange\"])\n                  ]))\n                : createCommentVNode(\"v-if\", true)\n            ], 512 /* NEED_PATCH */), [\n              [vShow, ['rgb', 'rgba'].includes($data.fieldsIndex)]\n            ]),\n            withDirectives(createElementVNode(\"div\", _hoisted_17, [\n              createCommentVNode(\" hsla \"),\n              createElementVNode(\"div\", _hoisted_18, [\n                createVNode(_component_EdIn, {\n                  label: \"h\",\n                  value: $options.hsl.h,\n                  onChange: $options.inputChange\n                }, null, 8 /* PROPS */, [\"value\", \"onChange\"])\n              ]),\n              createElementVNode(\"div\", _hoisted_19, [\n                createVNode(_component_EdIn, {\n                  label: \"s\",\n                  value: $options.hsl.s,\n                  onChange: $options.inputChange\n                }, null, 8 /* PROPS */, [\"value\", \"onChange\"])\n              ]),\n              createElementVNode(\"div\", _hoisted_20, [\n                createVNode(_component_EdIn, {\n                  label: \"l\",\n                  value: $options.hsl.l,\n                  onChange: $options.inputChange\n                }, null, 8 /* PROPS */, [\"value\", \"onChange\"])\n              ]),\n              (!$props.disableAlpha)\n                ? (openBlock(), createElementBlock(\"div\", _hoisted_21, [\n                    createVNode(_component_EdIn, {\n                      label: \"a\",\n                      value: _ctx.colors.a,\n                      \"arrow-offset\": 0.01,\n                      max: 1,\n                      onChange: $options.inputChange\n                    }, null, 8 /* PROPS */, [\"value\", \"arrow-offset\", \"onChange\"])\n                  ]))\n                : createCommentVNode(\"v-if\", true)\n            ], 512 /* NEED_PATCH */), [\n              [vShow, ['hsl', 'hsla'].includes($data.fieldsIndex)]\n            ]),\n            createCommentVNode(\" btn \"),\n            createElementVNode(\"div\", {\n              class: \"vc-chrome-toggle-btn\",\n              role: \"button\",\n              \"aria-label\": \"Change another color definition\",\n              onClick: _cache[3] || (_cache[3] = (...args) => ($options.toggleViews && $options.toggleViews(...args)))\n            }, [\n              createElementVNode(\"div\", _hoisted_22, [\n                (openBlock(), createElementBlock(\"svg\", {\n                  style: {\"width\":\"24px\",\"height\":\"24px\"},\n                  viewBox: \"0 0 24 24\",\n                  onMouseover: _cache[0] || (_cache[0] = (...args) => ($options.showHighlight && $options.showHighlight(...args))),\n                  onMouseenter: _cache[1] || (_cache[1] = (...args) => ($options.showHighlight && $options.showHighlight(...args))),\n                  onMouseout: _cache[2] || (_cache[2] = (...args) => ($options.hideHighlight && $options.hideHighlight(...args)))\n                }, _hoisted_24, 32 /* HYDRATE_EVENTS */))\n              ]),\n              withDirectives(createElementVNode(\"div\", _hoisted_25, null, 512 /* NEED_PATCH */), [\n                [vShow, $data.highlight]\n              ])\n            ]),\n            createCommentVNode(\" btn \")\n          ]))\n        : createCommentVNode(\"v-if\", true)\n    ])\n  ], 2 /* CLASS */))\n}\n\nvar css_248z = \".vc-chrome{background:#fff;background-color:#fff;border-radius:2px;box-shadow:0 0 2px rgba(0,0,0,.3),0 4px 8px rgba(0,0,0,.3);box-sizing:initial;font-family:Menlo;width:225px}.vc-chrome-controls{display:flex}.vc-chrome-color-wrap{position:relative;width:36px}.vc-chrome-active-color{border-radius:15px;height:30px;overflow:hidden;position:relative;width:30px;z-index:1}.vc-chrome-color-wrap .vc-checkerboard{background-size:auto;border-radius:15px;height:30px;width:30px}.vc-chrome-sliders{flex:1}.vc-chrome-fields-wrap{display:flex;padding-top:16px}.vc-chrome-fields{display:flex;flex:1;margin-left:-6px}.vc-chrome-field{padding-left:6px;width:100%}.vc-chrome-toggle-btn{position:relative;text-align:right;width:32px}.vc-chrome-toggle-icon{cursor:pointer;margin-right:-4px;margin-top:12px;position:relative;z-index:2}.vc-chrome-toggle-icon-highlight{background:#eee;border-radius:4px;height:28px;left:12px;position:absolute;top:10px;width:24px}.vc-chrome-hue-wrap{margin-bottom:8px}.vc-chrome-alpha-wrap,.vc-chrome-hue-wrap{height:10px;position:relative}.vc-chrome-alpha-wrap .vc-alpha-gradient,.vc-chrome-hue-wrap .vc-hue{border-radius:2px}.vc-chrome-alpha-wrap .vc-alpha-picker,.vc-chrome-hue-wrap .vc-hue-picker{background-color:#f8f8f8;border-radius:6px;box-shadow:0 1px 4px 0 rgba(0,0,0,.37);height:12px;transform:translate(-6px,-2px);width:12px}.vc-chrome-body{background-color:#fff;padding:16px 16px 12px}.vc-chrome-saturation-wrap{border-radius:2px 2px 0 0;overflow:hidden;padding-bottom:55%;position:relative;width:100%}.vc-chrome-saturation-wrap .vc-saturation-circle{height:12px;width:12px}.vc-chrome-fields .vc-input__input{border:none;border-radius:2px;box-shadow:inset 0 0 0 1px #dadada;color:#333;font-size:11px;height:21px;text-align:center;width:100%}.vc-chrome-fields .vc-input__label{color:#969696;display:block;font-size:11px;line-height:11px;margin-top:12px;text-align:center;text-transform:uppercase}.vc-chrome__disable-alpha .vc-chrome-active-color{height:18px;width:18px}.vc-chrome__disable-alpha .vc-chrome-color-wrap{width:30px}.vc-chrome__disable-alpha .vc-chrome-hue-wrap{margin-bottom:4px;margin-top:4px}\";\nstyleInject(css_248z);\n\nscript.render = render;\nscript.__file = \"src/components/chrome/chrome.vue\";\n\nscript.install = install;\n\nexport { script as default };\n","import '../assets/NcColorPicker-DtGrgPdj.css';\nimport { defineComponent, mergeModels, useModel, ref, computed, createBlock, openBlock, unref, withCtx, createElementVNode, normalizeClass, createVNode, createElementBlock, createCommentVNode, Transition, Fragment, renderList, normalizeStyle, createTextVNode, toDisplayString, renderSlot, normalizeProps, guardReactiveProps } from \"vue\";\nimport { Chrome } from \"@ckpack/vue-color\";\nimport { d as mdiCheck, n as mdiCloseCircleOutline, o as mdiArrowLeft, p as mdiDotsHorizontal } from \"./mdi-Cjx8NyEs.mjs\";\nimport { r as register, a as t } from \"./_l10n-BPfpECk_.mjs\";\nimport { d as defaultPalette, a as COLOR_BLACK, b as COLOR_WHITE } from \"./colors-ZSK8bG_B.mjs\";\nimport { c as createElementId } from \"./createElementId-DhjFt1I9.mjs\";\nimport { l as logger } from \"./logger-D3RVzcfQ.mjs\";\nimport { N as NcButton } from \"./NcButton-DkC5k3Lb.mjs\";\nimport { N as NcIconSvgWrapper } from \"./NcIconSvgWrapper-5AA93z-F.mjs\";\nimport { N as NcPopover } from \"./NcPopover-C-MTaPCs.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nregister();\nconst _hoisted_1 = [\"aria-label\"];\nconst _hoisted_2 = {\n  key: 0,\n  class: \"color-picker__simple\"\n};\nconst _hoisted_3 = [\"aria-label\", \"name\", \"checked\", \"onClick\"];\nconst _hoisted_4 = [\"title\"];\nconst _hoisted_5 = [\"aria-label\", \"name\", \"checked\"];\nconst _hoisted_6 = {\n  key: 0,\n  class: \"color-picker__navigation\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"NcColorPicker\",\n  props: /* @__PURE__ */ mergeModels({\n    advancedFields: { type: Boolean },\n    clearable: { type: Boolean },\n    container: { default: \"body\" },\n    palette: { default: () => [] },\n    paletteOnly: { type: Boolean }\n  }, {\n    \"modelValue\": { required: true },\n    \"modelModifiers\": {},\n    \"open\": { type: Boolean },\n    \"openModifiers\": {}\n  }),\n  emits: /* @__PURE__ */ mergeModels([\"submit\", \"closed\"], [\"update:modelValue\", \"update:open\"]),\n  setup(__props, { emit: __emit }) {\n    const currentColor = useModel(__props, \"modelValue\");\n    const open = useModel(__props, \"open\");\n    const props = __props;\n    const emit = __emit;\n    const HEX_REGEX = /^#([a-f0-9]{3}|[a-f0-9]{6})$/i;\n    const id = createElementId();\n    const advanced = ref(false);\n    const normalizedPalette = computed(() => {\n      let palette = props.palette;\n      for (const color of palette) {\n        if (typeof color === \"string\" && !color.match(HEX_REGEX) || typeof color === \"object\" && !color.color?.match(HEX_REGEX)) {\n          logger.error(\"[NcColorPicker] Invalid palette passed\", { color });\n          palette = [];\n          break;\n        }\n      }\n      if (palette.length === 0) {\n        palette = props.clearable ? [...defaultPalette, COLOR_BLACK, COLOR_WHITE] : [...defaultPalette];\n      }\n      return palette.map((item) => ({\n        color: typeof item === \"object\" ? item.color : item,\n        name: typeof item === \"object\" && item.name ? item.name : t(\"A color with a HEX value {hex}\", { hex: typeof item === \"string\" ? item : item.color })\n      }));\n    });\n    function handleConfirm(hideCallback) {\n      emit(\"submit\", currentColor.value);\n      hideCallback();\n      advanced.value = false;\n    }\n    function toggleColor(color) {\n      color = typeof color === \"string\" ? color : color.color;\n      if (props.clearable && currentColor.value === color) {\n        currentColor.value = void 0;\n      } else {\n        currentColor.value = color;\n      }\n    }\n    function pickCustomColor(color) {\n      currentColor.value = color.hex;\n    }\n    function getContrastColor(color) {\n      return calculateLuma(color) > 0.5 ? COLOR_BLACK.color : COLOR_WHITE.color;\n    }\n    function calculateLuma(color) {\n      const [red, green, blue] = hexToRGB(color);\n      return (0.2126 * red + 0.7152 * green + 0.0722 * blue) / 255;\n    }\n    function hexToRGB(hex) {\n      const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n      if (!result) {\n        return [0, 0, 0];\n      }\n      return [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)];\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcPopover), {\n        shown: open.value,\n        \"onUpdate:shown\": _cache[3] || (_cache[3] = ($event) => open.value = $event),\n        container: _ctx.container,\n        \"popup-role\": \"dialog\",\n        onApplyHide: _cache[4] || (_cache[4] = ($event) => emit(\"closed\"))\n      }, {\n        trigger: withCtx((slotProps) => [\n          renderSlot(_ctx.$slots, \"default\", normalizeProps(guardReactiveProps(slotProps)), void 0, true)\n        ]),\n        default: withCtx((slotProps) => [\n          createElementVNode(\"div\", {\n            role: \"dialog\",\n            class: normalizeClass([\"color-picker\", {\n              \"color-picker--advanced-fields\": advanced.value && _ctx.advancedFields,\n              \"color-picker--clearable\": _ctx.clearable\n            }]),\n            \"aria-modal\": \"true\",\n            \"aria-label\": unref(t)(\"Color picker\")\n          }, [\n            createVNode(Transition, {\n              name: \"slide\",\n              mode: \"out-in\"\n            }, {\n              default: withCtx(() => [\n                !advanced.value ? (openBlock(), createElementBlock(\"div\", _hoisted_2, [\n                  (openBlock(true), createElementBlock(Fragment, null, renderList(normalizedPalette.value, ({ color, name }, index) => {\n                    return openBlock(), createElementBlock(\"label\", {\n                      key: index,\n                      class: normalizeClass([\"color-picker__simple-color-circle\", { \"color-picker__simple-color-circle--active\": color === currentColor.value }]),\n                      style: normalizeStyle({\n                        backgroundColor: color,\n                        color: getContrastColor(color)\n                      })\n                    }, [\n                      color === currentColor.value ? (openBlock(), createBlock(unref(NcIconSvgWrapper), {\n                        key: 0,\n                        path: unref(mdiCheck)\n                      }, null, 8, [\"path\"])) : createCommentVNode(\"\", true),\n                      createElementVNode(\"input\", {\n                        type: \"radio\",\n                        class: \"hidden-visually\",\n                        \"aria-label\": name,\n                        name: `color-picker-${unref(id)}`,\n                        checked: color === currentColor.value,\n                        onClick: ($event) => toggleColor(color)\n                      }, null, 8, _hoisted_3)\n                    ], 6);\n                  }), 128)),\n                  _ctx.clearable ? (openBlock(), createElementBlock(\"label\", {\n                    key: 0,\n                    class: \"color-picker__clear\",\n                    title: unref(t)(\"No color\")\n                  }, [\n                    createVNode(unref(NcIconSvgWrapper), {\n                      size: currentColor.value ? 28 : 34,\n                      path: unref(mdiCloseCircleOutline)\n                    }, null, 8, [\"size\", \"path\"]),\n                    createElementVNode(\"input\", {\n                      type: \"radio\",\n                      class: \"hidden-visually\",\n                      \"aria-label\": unref(t)(\"No color\"),\n                      name: `color-picker-${unref(id)}`,\n                      checked: !currentColor.value,\n                      onClick: _cache[0] || (_cache[0] = ($event) => currentColor.value = void 0)\n                    }, null, 8, _hoisted_5)\n                  ], 8, _hoisted_4)) : createCommentVNode(\"\", true)\n                ])) : (openBlock(), createBlock(unref(Chrome), {\n                  key: 1,\n                  class: \"color-picker__advanced\",\n                  \"disable-alpha\": true,\n                  \"disable-fields\": !_ctx.advancedFields,\n                  \"model-value\": currentColor.value ?? \"#000000\",\n                  \"onUpdate:modelValue\": pickCustomColor\n                }, null, 8, [\"disable-fields\", \"model-value\"]))\n              ]),\n              _: 1\n            }),\n            !_ctx.paletteOnly ? (openBlock(), createElementBlock(\"div\", _hoisted_6, [\n              advanced.value ? (openBlock(), createBlock(unref(NcButton), {\n                key: 0,\n                \"aria-label\": unref(t)(\"Back\"),\n                title: unref(t)(\"Back\"),\n                variant: \"tertiary\",\n                onClick: _cache[1] || (_cache[1] = ($event) => advanced.value = false)\n              }, {\n                icon: withCtx(() => [\n                  createVNode(unref(NcIconSvgWrapper), {\n                    directional: \"\",\n                    path: unref(mdiArrowLeft)\n                  }, null, 8, [\"path\"])\n                ]),\n                _: 1\n              }, 8, [\"aria-label\", \"title\"])) : (openBlock(), createBlock(unref(NcButton), {\n                key: 1,\n                \"aria-label\": unref(t)(\"More options\"),\n                title: unref(t)(\"More options\"),\n                variant: \"tertiary\",\n                onClick: _cache[2] || (_cache[2] = ($event) => advanced.value = true)\n              }, {\n                icon: withCtx(() => [\n                  createVNode(unref(NcIconSvgWrapper), { path: unref(mdiDotsHorizontal) }, null, 8, [\"path\"])\n                ]),\n                _: 1\n              }, 8, [\"aria-label\", \"title\"])),\n              createVNode(unref(NcButton), {\n                variant: \"primary\",\n                onClick: ($event) => handleConfirm(slotProps.hide)\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"Choose\")), 1)\n                ]),\n                _: 2\n              }, 1032, [\"onClick\"])\n            ])) : createCommentVNode(\"\", true)\n          ], 10, _hoisted_1)\n        ]),\n        _: 3\n      }, 8, [\"shown\", \"container\"]);\n    };\n  }\n});\nconst NcColorPicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-b2cb1a99\"]]);\nexport {\n  NcColorPicker as N\n};\n//# sourceMappingURL=NcColorPicker-Cs5tFS-S.mjs.map\n","import '../assets/NcContent-CVIwhwfc.css';\nimport { defineComponent, provide, computed, ref, onBeforeMount, createElementBlock, openBlock, normalizeClass, createBlock, renderSlot, Teleport, createElementVNode, withDirectives, toDisplayString, unref, createVNode, withModifiers, withCtx, createTextVNode, vShow, nextTick } from \"vue\";\nimport { emit } from \"@nextcloud/event-bus\";\nimport { N as NcButton } from \"./NcButton-DkC5k3Lb.mjs\";\nimport { N as NcIconSvgWrapper } from \"./NcIconSvgWrapper-5AA93z-F.mjs\";\nimport { useIsMobile } from \"../composables/useIsMobile/index.mjs\";\nimport { r as register, a as t } from \"./_l10n-BPfpECk_.mjs\";\nimport { H as HAS_APP_NAVIGATION_KEY, C as CONTENT_SELECTOR_KEY } from \"./constants-DrSznhwy.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nregister();\nconst contentSvg = '<!--\\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n<svg width=\"395\" height=\"314\" viewBox=\"0 0 395 314\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n<rect width=\"395\" height=\"314\" rx=\"11\" fill=\"#439DCD\"/>\\n<rect x=\"13\" y=\"51\" width=\"366\" height=\"248\" rx=\"8\" fill=\"white\"/>\\n<rect x=\"22\" y=\"111\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"127\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"63\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"191\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"143\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"79\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"159\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"95\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"175\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<path d=\"M288 145C277.56 147.8 265.32 149 254 149C242.68 149 230.44 147.8 220 145L218 153C225.44 155 234 156.32 242 157V209H250V185H258V209H266V157C274 156.32 282.56 155 290 153L288 145ZM254 145C258.4 145 262 141.4 262 137C262 132.6 258.4 129 254 129C249.6 129 246 132.6 246 137C246 141.4 249.6 145 254 145Z\" fill=\"#DEDEDE\"/>\\n<path d=\"M43.5358 13C38.6641 13 34.535 16.2415 33.2552 20.6333C32.143 18.3038 29.7327 16.6718 26.9564 16.6718C23.1385 16.6718 20 19.7521 20 23.4993C20 27.2465 23.1385 30.3282 26.9564 30.3282C29.7327 30.3282 32.1429 28.6952 33.2552 26.3653C34.535 30.7575 38.6641 34 43.5358 34C48.3715 34 52.4796 30.8064 53.7921 26.4637C54.9249 28.7407 57.3053 30.3282 60.0421 30.3282C63.8601 30.3282 67 27.2465 67 23.4993C67 19.7521 63.8601 16.6718 60.0421 16.6718C57.3053 16.6718 54.9249 18.2583 53.7921 20.5349C52.4796 16.1926 48.3715 13 43.5358 13ZM43.5358 17.0079C47.2134 17.0079 50.1512 19.8899 50.1512 23.4993C50.1512 27.1087 47.2134 29.9921 43.5358 29.9921C39.8583 29.9921 36.9218 27.1087 36.9218 23.4993C36.9218 19.8899 39.8583 17.0079 43.5358 17.0079ZM26.9564 20.6797C28.5677 20.6797 29.8307 21.9179 29.8307 23.4993C29.8307 25.0807 28.5677 26.3203 26.9564 26.3203C25.3452 26.3203 24.0836 25.0807 24.0836 23.4993C24.0836 21.9179 25.3452 20.6797 26.9564 20.6797ZM60.0421 20.6797C61.6534 20.6797 62.9164 21.9179 62.9164 23.4993C62.9164 25.0807 61.6534 26.3203 60.0421 26.3203C58.4309 26.3203 57.1693 25.0807 57.1693 23.4993C57.1693 21.9179 58.4309 20.6797 60.0421 20.6797Z\" fill=\"white\"/>\\n<rect x=\"79\" y=\"20\" width=\"8\" height=\"8\" rx=\"4\" fill=\"white\"/>\\n<rect x=\"99\" y=\"20\" width=\"8\" height=\"8\" rx=\"4\" fill=\"white\"/>\\n<rect x=\"119\" y=\"20\" width=\"8\" height=\"8\" rx=\"4\" fill=\"white\"/>\\n<rect x=\"139\" y=\"20\" width=\"8\" height=\"8\" rx=\"4\" fill=\"white\"/>\\n<rect x=\"159\" y=\"20\" width=\"8\" height=\"8\" rx=\"4\" fill=\"white\"/>\\n<rect x=\"179\" y=\"20\" width=\"8\" height=\"8\" rx=\"4\" fill=\"white\"/>\\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 0C5.37258 0 0 5.37259 0 12V302C0 308.627 5.37259 314 12 314H383C389.627 314 395 308.627 395 302V12C395 5.37258 389.627 0 383 0H12ZM140 44C132.268 44 126 50.268 126 58V292C126 299.732 132.268 306 140 306H372C379.732 306 386 299.732 386 292V58C386 50.268 379.732 44 372 44H140Z\" fill=\"black\" fill-opacity=\"0.35\"/>\\n</svg>\\n';\nconst navigationSvg = '<!--\\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n<svg width=\"395\" height=\"314\" viewBox=\"0 0 395 314\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n<rect width=\"395\" height=\"314\" rx=\"11\" fill=\"#439DCD\"/>\\n<rect x=\"13\" y=\"51\" width=\"366\" height=\"248\" rx=\"8\" fill=\"white\"/>\\n<rect x=\"22\" y=\"111\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"127\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"63\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"191\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"143\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"79\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"159\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"95\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<rect x=\"22\" y=\"175\" width=\"92\" height=\"12\" rx=\"6\" fill=\"#DEDEDE\"/>\\n<path d=\"M288 145C277.56 147.8 265.32 149 254 149C242.68 149 230.44 147.8 220 145L218 153C225.44 155 234 156.32 242 157V209H250V185H258V209H266V157C274 156.32 282.56 155 290 153L288 145ZM254 145C258.4 145 262 141.4 262 137C262 132.6 258.4 129 254 129C249.6 129 246 132.6 246 137C246 141.4 249.6 145 254 145Z\" fill=\"#DEDEDE\"/>\\n<path d=\"M43.5358 13C38.6641 13 34.535 16.2415 33.2552 20.6333C32.143 18.3038 29.7327 16.6718 26.9564 16.6718C23.1385 16.6718 20 19.7521 20 23.4993C20 27.2465 23.1385 30.3282 26.9564 30.3282C29.7327 30.3282 32.1429 28.6952 33.2552 26.3653C34.535 30.7575 38.6641 34 43.5358 34C48.3715 34 52.4796 30.8064 53.7921 26.4637C54.9249 28.7407 57.3053 30.3282 60.0421 30.3282C63.8601 30.3282 67 27.2465 67 23.4993C67 19.7521 63.8601 16.6718 60.0421 16.6718C57.3053 16.6718 54.9249 18.2583 53.7921 20.5349C52.4796 16.1926 48.3715 13 43.5358 13ZM43.5358 17.0079C47.2134 17.0079 50.1512 19.8899 50.1512 23.4993C50.1512 27.1087 47.2134 29.9921 43.5358 29.9921C39.8583 29.9921 36.9218 27.1087 36.9218 23.4993C36.9218 19.8899 39.8583 17.0079 43.5358 17.0079ZM26.9564 20.6797C28.5677 20.6797 29.8307 21.9179 29.8307 23.4993C29.8307 25.0807 28.5677 26.3203 26.9564 26.3203C25.3452 26.3203 24.0836 25.0807 24.0836 23.4993C24.0836 21.9179 25.3452 20.6797 26.9564 20.6797ZM60.0421 20.6797C61.6534 20.6797 62.9164 21.9179 62.9164 23.4993C62.9164 25.0807 61.6534 26.3203 60.0421 26.3203C58.4309 26.3203 57.1693 25.0807 57.1693 23.4993C57.1693 21.9179 58.4309 20.6797 60.0421 20.6797Z\" fill=\"white\"/>\\n<rect x=\"79\" y=\"20\" width=\"8\" height=\"8\" rx=\"4\" fill=\"white\"/>\\n<rect x=\"99\" y=\"20\" width=\"8\" height=\"8\" rx=\"4\" fill=\"white\"/>\\n<rect x=\"119\" y=\"20\" width=\"8\" height=\"8\" rx=\"4\" fill=\"white\"/>\\n<rect x=\"139\" y=\"20\" width=\"8\" height=\"8\" rx=\"4\" fill=\"white\"/>\\n<rect x=\"159\" y=\"20\" width=\"8\" height=\"8\" rx=\"4\" fill=\"white\"/>\\n<rect x=\"179\" y=\"20\" width=\"8\" height=\"8\" rx=\"4\" fill=\"white\"/>\\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 0C5.37258 0 0 5.37259 0 12V302C0 308.627 5.37259 314 12 314H383C389.627 314 395 308.627 395 302V12C395 5.37258 389.627 0 383 0H12ZM112 44C119.732 44 126 50.268 126 58V292C126 299.732 119.732 306 112 306H20C12.268 306 6 299.732 6 292V58C6 50.268 12.268 44 20 44H112Z\" fill=\"black\" fill-opacity=\"0.35\"/>\\n</svg>\\n';\nconst _hoisted_1 = { class: \"vue-skip-actions__container\" };\nconst _hoisted_2 = { class: \"vue-skip-actions__headline\" };\nconst _hoisted_3 = { class: \"vue-skip-actions__buttons\" };\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"NcContent\",\n  props: {\n    appName: {}\n  },\n  setup(__props) {\n    const props = __props;\n    provide(HAS_APP_NAVIGATION_KEY, setAppNavigation);\n    provide(CONTENT_SELECTOR_KEY, \"#content-vue\");\n    provide(\"appName\", computed(() => props.appName));\n    const isMobile = useIsMobile();\n    const hasAppNavigation = ref(false);\n    const currentFocus = ref();\n    const currentImage = computed(() => currentFocus.value === \"navigation\" ? navigationSvg : contentSvg);\n    onBeforeMount(() => {\n      const container = document.getElementById(\"skip-actions\");\n      if (container) {\n        container.innerHTML = \"\";\n        container.classList.add(\"vue-skip-actions\");\n      }\n    });\n    function openAppNavigation() {\n      emit(\"toggle-navigation\", { open: true });\n      nextTick(() => {\n        window.location.hash = \"app-navigation-vue\";\n        document.getElementById(\"app-navigation-vue\").focus();\n      });\n    }\n    function setAppNavigation(value) {\n      hasAppNavigation.value = value;\n      if (!currentFocus.value) {\n        currentFocus.value = \"navigation\";\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        id: \"content-vue\",\n        class: normalizeClass([\"content\", `app-${_ctx.appName.toLowerCase()}`])\n      }, [\n        (openBlock(), createBlock(Teleport, { to: \"#skip-actions\" }, [\n          createElementVNode(\"div\", _hoisted_1, [\n            createElementVNode(\"div\", _hoisted_2, toDisplayString(unref(t)(\"Keyboard navigation help\")), 1),\n            createElementVNode(\"div\", _hoisted_3, [\n              withDirectives(createVNode(NcButton, {\n                href: \"#app-navigation-vue\",\n                variant: \"tertiary\",\n                onClick: withModifiers(openAppNavigation, [\"prevent\"]),\n                onFocusin: _cache[0] || (_cache[0] = ($event) => currentFocus.value = \"navigation\"),\n                onMouseover: _cache[1] || (_cache[1] = ($event) => currentFocus.value = \"navigation\")\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"Skip to app navigation\")), 1)\n                ]),\n                _: 1\n              }, 512), [\n                [vShow, hasAppNavigation.value]\n              ]),\n              createVNode(NcButton, {\n                href: \"#app-content-vue\",\n                variant: \"tertiary\",\n                onFocusin: _cache[2] || (_cache[2] = ($event) => currentFocus.value = \"content\"),\n                onMouseover: _cache[3] || (_cache[3] = ($event) => currentFocus.value = \"content\")\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"Skip to main content\")), 1)\n                ]),\n                _: 1\n              })\n            ]),\n            withDirectives(createVNode(NcIconSvgWrapper, {\n              class: \"vue-skip-actions__image\",\n              svg: currentImage.value,\n              size: \"auto\"\n            }, null, 8, [\"svg\"]), [\n              [vShow, !unref(isMobile)]\n            ])\n          ])\n        ])),\n        renderSlot(_ctx.$slots, \"default\", {}, void 0, true)\n      ], 2);\n    };\n  }\n});\nconst NcContent = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-d9b0d7e8\"]]);\nexport {\n  NcContent as N\n};\n//# sourceMappingURL=NcContent-BhYN55Pl.mjs.map\n","import '../assets/NcDateTimePicker-DW0b4W9D.css';\nimport { defineComponent, mergeModels, useModel, useTemplateRef, computed, createElementBlock, openBlock, createVNode, createBlock, unref, mergeProps, createSlots, withCtx, createTextVNode, toDisplayString, Teleport, createElementVNode } from \"vue\";\nimport { q as mdiChevronUp, r as mdiChevronDown, c as mdiChevronRight, s as mdiChevronLeft, t as mdiClock, u as mdiCalendarBlank, b as mdiClose } from \"./mdi-Cjx8NyEs.mjs\";\nimport { getCanonicalLocale, getFirstDay, getDayNamesMin, getDayNames } from \"@nextcloud/l10n\";\nimport VueDatePicker from \"@vuepic/vue-datepicker\";\nimport { N as NcIconSvgWrapper } from \"./NcIconSvgWrapper-5AA93z-F.mjs\";\nimport { _ as _sfc_main$1 } from \"./NcTimezonePicker.vue_vue_type_script_setup_true_lang-BexVGMhR.mjs\";\nimport { r as register, a as t } from \"./_l10n-BPfpECk_.mjs\";\nimport { N as NcButton } from \"./NcButton-DkC5k3Lb.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nregister();\nconst _hoisted_1 = { class: \"vue-date-time-picker__wrapper\" };\nconst _hoisted_2 = {\n  ref: \"target\",\n  class: \"vue-date-time-picker__wrapper\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"NcDateTimePicker\",\n  props: /* @__PURE__ */ mergeModels({\n    appendToBody: { type: Boolean },\n    ariaLabel: { default: t(\"Datepicker input\") },\n    ariaLabelMenu: { default: t(\"Datepicker menu\") },\n    clearable: { type: Boolean },\n    confirm: { type: Boolean },\n    format: { type: [String, Function], default: void 0 },\n    locale: { default: getCanonicalLocale() },\n    minuteStep: { default: 10 },\n    modelValue: { default: null },\n    placeholder: { default: void 0 },\n    showTimezoneSelect: { type: Boolean },\n    showWeekNumber: { type: Boolean },\n    type: { default: \"date\" }\n  }, {\n    \"timezoneId\": { default: \"UTC\" },\n    \"timezoneIdModifiers\": {}\n  }),\n  emits: /* @__PURE__ */ mergeModels([\"update:modelValue\", \"update:timezoneId\"], [\"update:timezoneId\"]),\n  setup(__props, { emit: __emit }) {\n    const timezoneId = useModel(__props, \"timezoneId\");\n    const props = __props;\n    const emit = __emit;\n    const targetElement = useTemplateRef(\"target\");\n    const pickerInstance = useTemplateRef(\"picker\");\n    const value = computed(() => {\n      if (props.modelValue === null && props.clearable) {\n        return null;\n      }\n      if (props.type === \"week\") {\n        const date = props.modelValue instanceof Date ? props.modelValue : /* @__PURE__ */ new Date();\n        const end = new Date(date);\n        end.setUTCDate(date.getUTCDate() + 6);\n        return [date, end];\n      } else if (props.type === \"year\") {\n        const date = props.modelValue instanceof Date ? props.modelValue : /* @__PURE__ */ new Date();\n        return date.getUTCFullYear();\n      } else if (props.type === \"month\") {\n        const date = props.modelValue instanceof Date ? props.modelValue : /* @__PURE__ */ new Date();\n        return { year: date.getUTCFullYear(), month: date.getUTCMonth() };\n      } else if (props.type === \"time\") {\n        const time = props.modelValue instanceof Date ? props.modelValue : /* @__PURE__ */ new Date();\n        return {\n          hours: time.getHours(),\n          minutes: time.getMinutes(),\n          seconds: time.getSeconds()\n        };\n      } else if (props.type === \"time-range\") {\n        const time = [props.modelValue].flat();\n        if (time.length !== 2) {\n          const start = /* @__PURE__ */ new Date();\n          const end = new Date(start);\n          end.setHours(end.getHours() + 1);\n          time.splice(0, 2, start, end);\n        }\n        return time.map((date) => ({\n          hours: date.getHours(),\n          minutes: date.getMinutes(),\n          seconds: date.getSeconds()\n        }));\n      } else if (props.type.endsWith(\"-range\")) {\n        if (props.modelValue === void 0) {\n          const start = /* @__PURE__ */ new Date();\n          const end = new Date(start);\n          end.setUTCDate(start.getUTCDate() + 7);\n          return [start, end];\n        }\n        return props.modelValue;\n      }\n      return props.modelValue ?? /* @__PURE__ */ new Date();\n    });\n    const placeholderFallback = computed(() => {\n      if (props.type === \"date\") {\n        return t(\"Select date\");\n      } else if (props.type === \"time\") {\n        return t(\"Select time\");\n      } else if (props.type === \"datetime\") {\n        return t(\"Select date and time\");\n      } else if (props.type === \"week\") {\n        return t(\"Select week\");\n      } else if (props.type === \"month\") {\n        return t(\"Select month\");\n      } else if (props.type === \"year\") {\n        return t(\"Select year\");\n      } else if (props.type.endsWith(\"-range\")) {\n        return t(\"Select time range\");\n      }\n      return t(\"Select date and time\");\n    });\n    const realFormat = computed(() => {\n      if (props.format) {\n        return props.format;\n      } else if (props.type === \"week\") {\n        return \"RR-II\";\n      }\n      let formatter;\n      if (props.type === \"date\" || props.type === \"date-range\") {\n        formatter = new Intl.DateTimeFormat(getCanonicalLocale(), { dateStyle: \"medium\" });\n      } else if (props.type === \"time\" || props.type === \"time-range\") {\n        formatter = new Intl.DateTimeFormat(getCanonicalLocale(), { timeStyle: \"short\" });\n      } else if (props.type === \"datetime\" || props.type === \"datetime-range\") {\n        formatter = new Intl.DateTimeFormat(getCanonicalLocale(), { dateStyle: \"medium\", timeStyle: \"short\" });\n      } else if (props.type === \"month\") {\n        formatter = new Intl.DateTimeFormat(getCanonicalLocale(), { year: \"numeric\", month: \"2-digit\" });\n      } else if (props.type === \"year\") {\n        formatter = new Intl.DateTimeFormat(getCanonicalLocale(), { year: \"numeric\" });\n      }\n      if (formatter) {\n        return (input) => Array.isArray(input) ? formatter.formatRange(input[0], input[1]) : formatter.format(input);\n      }\n      return void 0;\n    });\n    const pickerType = computed(() => ({\n      timePicker: props.type === \"time\" || props.type === \"time-range\",\n      yearPicker: props.type === \"year\",\n      monthPicker: props.type === \"month\",\n      weekPicker: props.type === \"week\",\n      range: props.type.endsWith(\"-range\") && {\n        // do not use partial ranges (meaning after selecting the start [Date, null] will be emitted)\n        // if this is needed someday we can enable it,\n        // but its not covered by our component interface (props / events) documentation so just disabled for now.\n        partialRange: false\n      },\n      enableTimePicker: !(props.type === \"date\" || props.type === \"date-range\"),\n      flow: props.type === \"datetime\" ? [\"calendar\", \"time\"] : void 0\n    }));\n    function onUpdateModelValue(value2) {\n      if (value2 === null) {\n        return emit(\"update:modelValue\", null);\n      }\n      if (props.type === \"time\") {\n        emit(\"update:modelValue\", formatLibraryTime(value2));\n      } else if (props.type === \"time-range\") {\n        const start = formatLibraryTime(value2[0]);\n        const end = formatLibraryTime(value2[1]);\n        if (end.getTime() < start.getTime()) {\n          end.setDate(end.getDate() + 1);\n        }\n        emit(\"update:modelValue\", [start, end]);\n      } else if (props.type === \"month\") {\n        const data = value2;\n        emit(\"update:modelValue\", new Date(data.year, data.month, 1));\n      } else if (props.type === \"year\") {\n        emit(\"update:modelValue\", new Date(value2, 0));\n      } else if (props.type === \"week\") {\n        emit(\"update:modelValue\", value2[0]);\n      } else {\n        emit(\"update:modelValue\", value2);\n      }\n    }\n    function formatLibraryTime(time) {\n      const date = /* @__PURE__ */ new Date();\n      date.setHours(time.hours);\n      date.setMinutes(time.minutes);\n      date.setSeconds(time.seconds);\n      return date;\n    }\n    const weekStart = getFirstDay();\n    const dayNames = [...getDayNamesMin()];\n    for (let i = 0; i < weekStart; i++) {\n      dayNames.push(dayNames.shift());\n    }\n    const weekNumName = t(\"W\");\n    const ariaLabels = computed(() => ({\n      toggleOverlay: t(\"Toggle overlay\"),\n      menu: props.ariaLabelMenu,\n      input: props.ariaLabel,\n      openTimePicker: t(\"Open time picker\"),\n      closeTimePicker: t(\"Close time Picker\"),\n      incrementValue: (type) => {\n        if (type === \"hours\") {\n          return t(\"Increment hours\");\n        } else if (type === \"minutes\") {\n          return t(\"Increment minutes\");\n        }\n        return t(\"Increment seconds\");\n      },\n      decrementValue: (type) => {\n        if (type === \"hours\") {\n          return t(\"Decrement hours\");\n        } else if (type === \"minutes\") {\n          return t(\"Decrement minutes\");\n        }\n        return t(\"Decrement seconds\");\n      },\n      openTpOverlay: (type) => {\n        if (type === \"hours\") {\n          return t(\"Open hours overlay\");\n        } else if (type === \"minutes\") {\n          return t(\"Open minutes overlay\");\n        }\n        return t(\"Open seconds overlay\");\n      },\n      amPmButton: t(\"Switch AM/PM mode\"),\n      openYearsOverlay: t(\"Open years overlay\"),\n      openMonthsOverlay: t(\"Open months overlay\"),\n      nextMonth: t(\"Next month\"),\n      prevMonth: t(\"Previous month\"),\n      nextYear: t(\"Next year\"),\n      prevYear: t(\"Previous year\"),\n      weekDay: (day) => getDayNames()[day],\n      clearInput: t(\"Clear value\"),\n      calendarIcon: t(\"Calendar icon\"),\n      timePicker: t(\"Time picker\"),\n      monthPicker: (overlay) => overlay ? t(\"Month picker overlay\") : t(\"Month picker\"),\n      yearPicker: (overlay) => overlay ? t(\"Year picker overlay\") : t(\"Year picker\")\n    }));\n    function selectDate() {\n      pickerInstance.value.selectDate();\n    }\n    function cancelSelection() {\n      pickerInstance.value.closeMenu();\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1, [\n        createVNode(unref(VueDatePicker), mergeProps({\n          ref: \"picker\",\n          \"aria-labels\": ariaLabels.value,\n          \"auto-apply\": !_ctx.confirm,\n          class: [\"vue-date-time-picker\", { \"vue-date-time-picker--clearable\": _ctx.clearable }],\n          \"cancel-text\": unref(t)(\"Cancel\"),\n          clearable: _ctx.clearable,\n          \"day-names\": dayNames,\n          placeholder: _ctx.placeholder ?? placeholderFallback.value,\n          format: realFormat.value,\n          locale: _ctx.locale,\n          \"minutes-increment\": _ctx.minuteStep,\n          \"model-value\": value.value,\n          \"now-button-label\": unref(t)(\"Now\"),\n          \"select-text\": unref(t)(\"Pick\"),\n          \"six-weeks\": \"fair\",\n          teleport: _ctx.appendToBody ? targetElement.value || void 0 : false,\n          \"text-input\": \"\",\n          \"week-num-name\": unref(weekNumName),\n          \"week-numbers\": _ctx.showWeekNumber ? { type: \"iso\" } : void 0,\n          \"week-start\": unref(weekStart)\n        }, pickerType.value, { \"onUpdate:modelValue\": onUpdateModelValue }), createSlots({\n          \"action-buttons\": withCtx(() => [\n            createVNode(unref(NcButton), {\n              size: \"small\",\n              variant: \"tertiary\",\n              onClick: cancelSelection\n            }, {\n              default: withCtx(() => [\n                createTextVNode(toDisplayString(unref(t)(\"Cancel\")), 1)\n              ]),\n              _: 1\n            }),\n            createVNode(unref(NcButton), {\n              size: \"small\",\n              variant: \"primary\",\n              onClick: selectDate\n            }, {\n              default: withCtx(() => [\n                createTextVNode(toDisplayString(unref(t)(\"Pick\")), 1)\n              ]),\n              _: 1\n            })\n          ]),\n          \"clear-icon\": withCtx(({ clear }) => [\n            createVNode(unref(NcButton), {\n              \"aria-label\": unref(t)(\"Clear value\"),\n              variant: \"tertiary-no-background\",\n              onClick: clear\n            }, {\n              icon: withCtx(() => [\n                createVNode(NcIconSvgWrapper, {\n                  inline: \"\",\n                  path: unref(mdiClose),\n                  size: 20\n                }, null, 8, [\"path\"])\n              ]),\n              _: 2\n            }, 1032, [\"aria-label\", \"onClick\"])\n          ]),\n          \"input-icon\": withCtx(() => [\n            createVNode(NcIconSvgWrapper, {\n              path: unref(mdiCalendarBlank),\n              size: 20\n            }, null, 8, [\"path\"])\n          ]),\n          \"clock-icon\": withCtx(() => [\n            createVNode(NcIconSvgWrapper, {\n              inline: \"\",\n              path: unref(mdiClock),\n              size: 20\n            }, null, 8, [\"path\"])\n          ]),\n          \"arrow-left\": withCtx(() => [\n            createVNode(NcIconSvgWrapper, {\n              inline: \"\",\n              path: unref(mdiChevronLeft),\n              size: 20\n            }, null, 8, [\"path\"])\n          ]),\n          \"arrow-right\": withCtx(() => [\n            createVNode(NcIconSvgWrapper, {\n              inline: \"\",\n              path: unref(mdiChevronRight),\n              size: 20\n            }, null, 8, [\"path\"])\n          ]),\n          \"arrow-down\": withCtx(() => [\n            createVNode(NcIconSvgWrapper, {\n              inline: \"\",\n              path: unref(mdiChevronDown),\n              size: 20\n            }, null, 8, [\"path\"])\n          ]),\n          \"arrow-up\": withCtx(() => [\n            createVNode(NcIconSvgWrapper, {\n              inline: \"\",\n              path: unref(mdiChevronUp),\n              size: 20\n            }, null, 8, [\"path\"])\n          ]),\n          _: 2\n        }, [\n          _ctx.showTimezoneSelect ? {\n            name: \"action-extra\",\n            fn: withCtx(() => [\n              createVNode(_sfc_main$1, {\n                modelValue: timezoneId.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => timezoneId.value = $event),\n                class: \"vue-date-time-picker__timezone\",\n                \"append-to-body\": false,\n                \"input-label\": unref(t)(\"Timezone\")\n              }, null, 8, [\"modelValue\", \"input-label\"])\n            ]),\n            key: \"0\"\n          } : void 0\n        ]), 1040, [\"aria-labels\", \"auto-apply\", \"class\", \"cancel-text\", \"clearable\", \"placeholder\", \"format\", \"locale\", \"minutes-increment\", \"model-value\", \"now-button-label\", \"select-text\", \"teleport\", \"week-num-name\", \"week-numbers\", \"week-start\"]),\n        (openBlock(), createBlock(Teleport, {\n          to: \"body\",\n          disabled: !_ctx.appendToBody\n        }, [\n          createElementVNode(\"div\", _hoisted_2, null, 512)\n        ], 8, [\"disabled\"]))\n      ]);\n    };\n  }\n});\nconst NcDateTimePicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-02e90461\"]]);\nexport {\n  NcDateTimePicker as N\n};\n//# sourceMappingURL=NcDateTimePicker-B5u2bt7M.mjs.map\n","const SVGs = {\n  activity: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path d=\"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113\"/></svg>`,\n\n  custom: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><g transform=\"translate(2.000000, 1.000000)\"><rect id=\"Rectangle\" x=\"8\" y=\"0\" width=\"3\" height=\"21\" rx=\"1.5\"></rect><rect id=\"Rectangle\" transform=\"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) \" x=\"8.343\" y=\"0.049\" width=\"3\" height=\"21\" rx=\"1.5\"></rect><rect id=\"Rectangle\" transform=\"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) \" x=\"8.343\" y=\"0.049\" width=\"3\" height=\"21\" rx=\"1.5\"></rect></g></svg>`,\n\n  flags: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path d=\"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z\"/></svg>`,\n\n  foods: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path d=\"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9\"/></svg>`,\n\n  nature: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path d=\"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8\"/><path d=\"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235\"/></svg>`,\n\n  objects: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path d=\"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z\"/><path d=\"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789\"/></svg>`,\n\n  smileys: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path d=\"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10\"/><path d=\"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0\"/></svg>`,\n\n  people: `<svg xmlns:svg=\"http://www.w3.org/2000/svg\" height=\"24\" width=\"24\" viewBox=\"0 0 24 24\"> <path id=\"path3814\" d=\"m 3.3591089,21.17726 c 0.172036,0.09385 4.265994,2.29837 8.8144451,2.29837 4.927767,0 8.670894,-2.211883 8.82782,-2.306019 0.113079,-0.06785 0.182268,-0.190051 0.182267,-0.321923 0,-3.03119 -0.929494,-5.804936 -2.617196,-7.810712 -1.180603,-1.403134 -2.661918,-2.359516 -4.295699,-2.799791 4.699118,-2.236258 3.102306,-9.28617162 -2.097191,-9.28617162 -5.1994978,0 -6.7963103,7.04991362 -2.097192,9.28617162 -1.6337821,0.440275 -3.1150971,1.396798 -4.2956991,2.799791 -1.687703,2.005776 -2.617196,4.779522 -2.617196,7.810712 1.2e-6,0.137378 0.075039,0.263785 0.195641,0.329572 z M 8.0439319,5.8308783 C 8.0439309,2.151521 12.492107,0.30955811 15.093491,2.9109411 17.694874,5.5123241 15.852911,9.9605006 12.173554,9.9605 9.8938991,9.9579135 8.0465186,8.1105332 8.0439319,5.8308783 Z m -1.688782,7.6894977 c 1.524535,-1.811449 3.5906601,-2.809035 5.8184041,-2.809035 2.227744,0 4.293869,0.997586 5.818404,2.809035 1.533639,1.822571 2.395932,4.339858 2.439152,7.108301 -0.803352,0.434877 -4.141636,2.096112 -8.257556,2.096112 -3.8062921,0 -7.3910861,-1.671043 -8.2573681,-2.104981 0.04505,-2.765017 0.906968,-5.278785 2.438964,-7.099432 z\" /> <path id=\"path3816\" d=\"M 12.173828 0.38867188 C 9.3198513 0.38867187 7.3770988 2.3672285 6.8652344 4.6308594 C 6.4218608 6.5916015 7.1153562 8.7676117 8.9648438 10.126953 C 7.6141249 10.677376 6.3550511 11.480944 5.3496094 12.675781 C 3.5629317 14.799185 2.6015625 17.701475 2.6015625 20.847656 C 2.6015654 21.189861 2.7894276 21.508002 3.0898438 21.671875 C 3.3044068 21.788925 7.4436239 24.039062 12.173828 24.039062 C 17.269918 24.039062 21.083568 21.776786 21.291016 21.652344 C 21.57281 21.483266 21.746097 21.176282 21.746094 20.847656 C 21.746094 17.701475 20.78277 14.799185 18.996094 12.675781 C 17.990455 11.480591 16.733818 10.675362 15.382812 10.125 C 17.231132 8.7655552 17.925675 6.5910701 17.482422 4.6308594 C 16.970557 2.3672285 15.027805 0.38867188 12.173828 0.38867188 z M 12.792969 2.3007812 C 13.466253 2.4161792 14.125113 2.7383941 14.695312 3.3085938 C 15.835712 4.4489931 15.985604 5.9473549 15.46875 7.1953125 C 14.951896 8.4432701 13.786828 9.3984378 12.173828 9.3984375 C 10.197719 9.3961954 8.607711 7.806187 8.6054688 5.8300781 C 8.6054683 4.2170785 9.5606362 3.0520102 10.808594 2.5351562 C 11.432573 2.2767293 12.119685 2.1853833 12.792969 2.3007812 z M 12.173828 11.273438 C 14.233647 11.273438 16.133674 12.185084 17.5625 13.882812 C 18.93069 15.508765 19.698347 17.776969 19.808594 20.283203 C 18.807395 20.800235 15.886157 22.162109 12.173828 22.162109 C 8.7614632 22.162109 5.6245754 20.787069 4.5390625 20.265625 C 4.6525896 17.766717 5.4203315 15.504791 6.7851562 13.882812 C 8.2139827 12.185084 10.11401 11.273438 12.173828 11.273438 z \" /> </svg>`,\n\n  places: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path d=\"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5\"/><path d=\"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z\"/></svg>`,\n\n  recent: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path d=\"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z\"/><path d=\"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10\"/></svg>`,\n\n  symbols: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path d=\"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76\"/></svg>`,\n}\n\nexport default SVGs\n","import { intersect, unifiedToNative } from './index'\nimport { uncompress, buildSearch } from './data'\nimport frequently from './frequently'\n\nconst SHEET_COLUMNS = 61\nconst COLONS_REGEX = /^(?:\\:([^\\:]+)\\:)(?:\\:skin-tone-(\\d)\\:)?$/\n// Skin tones\nconst SKINS = ['1F3FA', '1F3FB', '1F3FC', '1F3FD', '1F3FE', '1F3FF']\n\n/**\n * Emoji data structure:\n * {\n *    \"compressed\": false,\n *    \"aliases\": {\n *      collision: \"boom\"\n *      cooking: \"fried_egg\"\n *      envelope: \"email\"\n *      face_with_finger_covering_closed_lips: \"shushing_face\"\n *      ...\n *    },\n *    \"categories\": [ {\n *      id: \"people\",\n *      name: \"Smileys & Emotion\",\n *      emojis: [ \"grinning\", \"grin\", \"joy\", ... ]\n *    }, {\n *      id: \"nature\",\n *      name: \"Animals & Nature\",\n *      emojis: [ \"monkey_face\", \"money\", \"gorilla\", ... ]\n *    },\n *    ...\n *    ],\n *    \"emojis\": [\n *      smiley: {\n *        added_in: \"6.0\",\n *        emoticons: [\"=)\", \"=-)\"],\n *        has_img_apple: true,\n *        has_img_facebook: true,\n *        has_img_google: true,\n *        has_img_twitter: true,\n *        keywords: [\"face\", \"happy\", \"joy\", \"haha\", \":D\", \":)\", \"smile\", \"funny\"],\n *        name: \"Smiling Face with Open Mouth\",\n *        non_qualified: undefined,\n *        search: \"smiley,smiling,face,with,open,mouth,happy,joy,haha,:d,:),smile,funny,=),=-)\",\n *        sheet_x: 30,\n *        sheet_y: 27,\n *        short_names: [\"smiley\"],\n *        text: \":)\",\n *        unified: \"1F603\",\n *      }, {\n *      +1: {    // emoji with skin_variations\n *          ..., // all the regular fields are present\n *          name: \"Thumbs Up Sign\",\n *          short_names: (2) [\"+1\", \"thumbsup\"],\n *          skin_variations: {\n *            1F3FB:             // each variation has additional set of fields:\n *              added_in: \"8.0\",\n *              has_img_apple: true,\n *              has_img_facebook: true,\n *              has_img_google: true,\n *              has_img_twitter: true,\n *              image: \"1f44d-1f3fb.png\",\n *              non_qualified: null,\n *              sheet_x: 14,\n *              sheet_y: 50,\n *              unified: \"1F44D-1F3FB\",\n *            1F3FB: {…},\n *            1F3FC: {…},\n *            1F3FD: {…},\n *            1F3FE: {…},\n *            1F3FF: {…}\n *            },\n *          ...\n *      },\n *      a: {  // emoji with non_qualified field set\n *        added_in: \"6.0\",\n *        emoticons: undefined,\n *        has_img_apple: true,\n *        ...\n *        non_qualified: \"1F170\",\n *        unified: \"1F170-FE0F\",\n *     },\n *     ...\n *   ]\n * }\n */\n\n/**\n * Wraps raw jason emoji data, serves as data source for\n * emoji picker components.\n *\n * Usage:\n *\n *   import data from '../data/all.json'\n *   let index = new EmojiIndex(data)\n *\n */\nexport class EmojiIndex {\n  /**\n   * Constructor.\n   *\n   * @param {object} data - Raw json data, see the structure above.\n   * @param {object} options - additional options, as an object:\n   * @param {Function} emojisToShowFilter - optional, function to filter out\n   *   some emojis, function(emoji) { return true|false }\n   *   where `emoji` is an raw emoji object, see data.emojis above.\n   * @param {Array} include - optional, a list of category ids to include.\n   * @param {Array} exclude - optional, a list of category ids to exclude.\n   * @param {Array} custom - optional, a list custom emojis, each emoji is\n   *   an object, see data.emojis above for examples.\n   */\n  constructor(\n    data,\n    {\n      emojisToShowFilter,\n      include,\n      exclude,\n      custom,\n      recent,\n      recentLength = 20,\n    } = {},\n  ) {\n    this._data = uncompress(data)\n    // Callback to exclude specific emojis\n    this._emojisFilter = emojisToShowFilter || null\n    // Categories to include / exclude\n    this._include = include || null\n    this._exclude = exclude || null\n    // Custom emojis\n    this._custom = custom || []\n    // Recent emojis\n    // TODO: make parameter configurable\n    this._recent = recent || frequently.get(recentLength)\n\n    this._emojis = {}\n    this._nativeEmojis = {}\n    this._emoticons = {}\n\n    this._categories = []\n    this._recentCategory = { id: 'recent', name: 'Recent', emojis: [] }\n    this._customCategory = { id: 'custom', name: 'Custom', emojis: [] }\n    this._searchIndex = {}\n    this.buildIndex()\n    Object.freeze(this)\n  }\n\n  buildIndex() {\n    let allCategories = this._data.categories\n\n    if (this._include) {\n      // Remove categories that are not in the include list.\n      allCategories = allCategories.filter((item) => {\n        return this._include.includes(item.id)\n      })\n      // Sort categories according to the include list.\n      allCategories = allCategories.sort((a, b) => {\n        const indexA = this._include.indexOf(a.id)\n        const indexB = this._include.indexOf(b.id)\n        if (indexA < indexB) {\n          return -1\n        }\n        if (indexA > indexB) {\n          return 1\n        }\n        return 0\n      })\n    }\n\n    allCategories.forEach((categoryData) => {\n      if (!this.isCategoryNeeded(categoryData.id)) {\n        return\n      }\n      let category = {\n        id: categoryData.id,\n        name: categoryData.name,\n        emojis: [],\n      }\n      categoryData.emojis.forEach((emojiId) => {\n        let emoji = this.addEmoji(emojiId)\n        if (emoji) {\n          category.emojis.push(emoji)\n        }\n      })\n      if (category.emojis.length) {\n        this._categories.push(category)\n      }\n    })\n\n    if (this.isCategoryNeeded('custom')) {\n      if (this._custom.length > 0) {\n        for (let customEmoji of this._custom) {\n          this.addCustomEmoji(customEmoji)\n        }\n      }\n      if (this._customCategory.emojis.length) {\n        this._categories.push(this._customCategory)\n      }\n    }\n\n    if (this.isCategoryNeeded('recent')) {\n      if (this._recent.length) {\n        this._recent.map((id) => {\n          for (let customEmoji of this._customCategory.emojis) {\n            if (customEmoji.id === id) {\n              this._recentCategory.emojis.push(customEmoji)\n              return\n            }\n          }\n          if (this.hasEmoji(id)) {\n            this._recentCategory.emojis.push(this.emoji(id))\n          }\n          return\n        })\n      }\n      // Add recent category to the top\n      if (this._recentCategory.emojis.length) {\n        this._categories.unshift(this._recentCategory)\n      }\n    }\n  }\n\n  /**\n   * Find the emoji from the string\n   */\n  findEmoji(emoji, skin) {\n    // 1. Parse as :emoji_name:skin-tone-xx:\n    let matches = emoji.match(COLONS_REGEX)\n\n    if (matches) {\n      emoji = matches[1]\n      if (matches[2]) {\n        skin = parseInt(matches[2], 10)\n      }\n    }\n\n    // 2. Check if the specified emoji is an alias\n    if (this._data.aliases.hasOwnProperty(emoji)) {\n      emoji = this._data.aliases[emoji]\n    }\n\n    // 3. Check if we have the specified emoji\n    if (this._emojis.hasOwnProperty(emoji)) {\n      let emojiObject = this._emojis[emoji]\n      if (skin) {\n        return emojiObject.getSkin(skin)\n      }\n      return emojiObject\n    }\n\n    // 4. Check if we have the specified native emoji\n    if (this._nativeEmojis.hasOwnProperty(emoji)) {\n      return this._nativeEmojis[emoji]\n    }\n    return null\n  }\n\n  categories() {\n    return this._categories\n  }\n\n  emoji(emojiId) {\n    if (this._data.aliases.hasOwnProperty(emojiId)) {\n      emojiId = this._data.aliases[emojiId]\n    }\n    let emoji = this._emojis[emojiId]\n    if (!emoji) {\n      throw new Error('Can not find emoji by id: ' + emojiId)\n    }\n    return emoji\n  }\n\n  firstEmoji() {\n    let emoji = this._emojis[Object.keys(this._emojis)[0]]\n    if (!emoji) {\n      throw new Error('Can not get first emoji')\n    }\n    return emoji\n  }\n\n  hasEmoji(emojiId) {\n    if (this._data.aliases.hasOwnProperty(emojiId)) {\n      emojiId = this._data.aliases[emojiId]\n    }\n    if (this._emojis[emojiId]) {\n      return true\n    }\n    return false\n  }\n\n  nativeEmoji(unicodeEmoji) {\n    if (this._nativeEmojis.hasOwnProperty(unicodeEmoji)) {\n      return this._nativeEmojis[unicodeEmoji]\n    }\n    return null\n  }\n\n  search(value, maxResults) {\n    maxResults || (maxResults = 75)\n    if (!value.length) {\n      return null\n    }\n    if (value == '-' || value == '-1') {\n      return [this.emoji('-1')]\n    }\n\n    let values = value.toLowerCase().split(/[\\s|,|\\-|_]+/)\n    let allResults = []\n\n    if (values.length > 2) {\n      values = [values[0], values[1]]\n    }\n\n    allResults = values\n      .map((value) => {\n        // Start searchin in the global list of emojis\n        let emojis = this._emojis\n        let currentIndex = this._searchIndex\n        let length = 0\n\n        for (let charIndex = 0; charIndex < value.length; charIndex++) {\n          const char = value[charIndex]\n          length++\n\n          currentIndex[char] || (currentIndex[char] = {})\n          currentIndex = currentIndex[char]\n\n          if (!currentIndex.results) {\n            let scores = {}\n            currentIndex.results = []\n            currentIndex.emojis = {}\n\n            for (let emojiId in emojis) {\n              let emoji = emojis[emojiId]\n              // search is a comma-separated string with words, related\n              // to the emoji, for example:\n              // search: \"smiley,smiling,face,joy,haha,:d,:),smile,funny,=),=-)\",\n              let search = emoji._data.search\n              let sub = value.substr(0, length)\n              let subIndex = search.indexOf(sub)\n              if (subIndex != -1) {\n                let score = subIndex + 1\n                if (sub == emojiId) score = 0\n\n                currentIndex.results.push(emoji)\n                currentIndex.emojis[emojiId] = emoji\n\n                scores[emojiId] = score\n              }\n            }\n            currentIndex.results.sort((a, b) => {\n              var aScore = scores[a.id],\n                bScore = scores[b.id]\n              return aScore - bScore\n            })\n          }\n\n          // continue search in the reduced set of emojis\n          emojis = currentIndex.emojis\n        }\n        return currentIndex.results\n        // The \"filter\" call removes undefined values from allResults\n        // array, for example, if we have \"test \" (with trailing space),\n        // we will get \"[Array, undefined]\" for allResults and after\n        // the \"filter\" call it will turn into \"[Array]\"\n      })\n      .filter((a) => a)\n\n    var results = null\n    if (allResults.length > 1) {\n      results = intersect.apply(null, allResults)\n    } else if (allResults.length) {\n      results = allResults[0]\n    } else {\n      results = []\n    }\n    if (results && results.length > maxResults) {\n      results = results.slice(0, maxResults)\n    }\n    return results\n  }\n\n  addCustomEmoji(customEmoji) {\n    let emojiData = Object.assign({}, customEmoji, {\n      id: customEmoji.short_names[0],\n      custom: true,\n    })\n    if (!emojiData.search) {\n      emojiData.search = buildSearch(emojiData)\n    }\n    let emoji = new EmojiData(emojiData)\n    this._emojis[emoji.id] = emoji\n    this._customCategory.emojis.push(emoji)\n    return emoji\n  }\n\n  addEmoji(emojiId) {\n    // We expect the correct emoji id that is present in the emojis data.\n    let data = this._data.emojis[emojiId]\n\n    if (!this.isEmojiNeeded(data)) {\n      return false\n    }\n\n    let emoji = new EmojiData(data)\n    this._emojis[emojiId] = emoji\n    if (emoji.native) {\n      this._nativeEmojis[emoji.native] = emoji\n    }\n    if (emoji._skins) {\n      for (let idx in emoji._skins) {\n        let skin = emoji._skins[idx]\n        if (skin.native) {\n          this._nativeEmojis[skin.native] = skin\n        }\n      }\n    }\n\n    if (emoji.emoticons) {\n      emoji.emoticons.forEach((emoticon) => {\n        if (this._emoticons[emoticon]) {\n          return\n        }\n        this._emoticons[emoticon] = emojiId\n      })\n    }\n    return emoji\n  }\n\n  /**\n   * Check if we need to include given category.\n   *\n   * @param {string} category_id - The category id.\n   * @return {boolean} - Whether to include the emoji.\n   */\n  isCategoryNeeded(category_id) {\n    let isIncluded =\n      this._include && this._include.length\n        ? this._include.indexOf(category_id) > -1\n        : true\n    let isExcluded =\n      this._exclude && this._exclude.length\n        ? this._exclude.indexOf(category_id) > -1\n        : false\n    if (!isIncluded || isExcluded) {\n      return false\n    }\n    return true\n  }\n\n  /**\n   * Check if we need to include given emoji.\n   *\n   * @param {object} emoji - The raw emoji object.\n   * @return {boolean} - Whether to include the emoji.\n   */\n  isEmojiNeeded(emoji) {\n    if (this._emojisFilter) {\n      return this._emojisFilter(emoji)\n    }\n    return true\n  }\n}\n\nexport class EmojiData {\n  constructor(data) {\n    this._data = Object.assign({}, data)\n    this._skins = null\n    if (this._data.skin_variations) {\n      this._skins = []\n      for (var skinIdx in SKINS) {\n        let skinKey = SKINS[skinIdx]\n        let variationData = this._data.skin_variations[skinKey]\n        let skinData = Object.assign({}, data)\n        for (let k in variationData) {\n          skinData[k] = variationData[k]\n        }\n        delete skinData.skin_variations\n        skinData['skin_tone'] = parseInt(skinIdx) + 1\n        this._skins.push(new EmojiData(skinData))\n      }\n    }\n    this._sanitized = sanitize(this._data)\n    for (let key in this._sanitized) {\n      this[key] = this._sanitized[key]\n    }\n    this.short_names = this._data.short_names\n    this.short_name = this._data.short_names[0]\n    Object.freeze(this)\n  }\n\n  getSkin(skinIdx) {\n    if (skinIdx && skinIdx != 'native' && this._skins) {\n      return this._skins[skinIdx - 1]\n    }\n    return this\n  }\n\n  getPosition() {\n    let adjustedColumns = SHEET_COLUMNS - 1,\n      x = +((100 / adjustedColumns) * this._data.sheet_x).toFixed(2),\n      y = +((100 / adjustedColumns) * this._data.sheet_y).toFixed(2)\n    return `${x}% ${y}%`\n  }\n\n  ariaLabel() {\n    return [this.native].concat(this.short_names).filter(Boolean).join(', ')\n  }\n}\n\nexport class EmojiView {\n  /**\n   * emoji - Emoji to display\n   * set - string, emoji set name\n   * native - boolean, whether to render native emoji\n   * fallback - fallback function to render missing emoji, optional\n   * emojiTooltip - wether we need to show the emoji tooltip, optional\n   * emojiSize - emoji size in pixels, optional\n   */\n  constructor(emoji, skin, set, native, fallback, emojiTooltip, emojiSize) {\n    this._emoji = emoji\n    this._native = native\n    this._skin = skin\n    this._set = set\n    this._fallback = fallback\n\n    this.canRender = this._canRender()\n    this.cssClass = this._cssClass()\n    this.cssStyle = this._cssStyle(emojiSize)\n    this.content = this._content()\n    this.title = emojiTooltip === true ? emoji.short_name : null\n    this.ariaLabel = emoji.ariaLabel()\n\n    Object.freeze(this)\n  }\n\n  getEmoji() {\n    return this._emoji.getSkin(this._skin)\n  }\n\n  _canRender() {\n    return (\n      this._isCustom() || this._isNative() || this._hasEmoji() || this._fallback\n    )\n  }\n\n  _cssClass() {\n    return ['emoji-set-' + this._set, 'emoji-type-' + this._emojiType()]\n  }\n\n  _cssStyle(emojiSize) {\n    let cssStyle = {}\n    if (this._isCustom()) {\n      cssStyle = {\n        backgroundImage: 'url(' + this.getEmoji()._data.imageUrl + ')',\n        backgroundSize: '100%',\n        width: emojiSize + 'px',\n        height: emojiSize + 'px',\n      }\n    } else if (this._hasEmoji() && !this._isNative()) {\n      cssStyle = {\n        backgroundPosition: this.getEmoji().getPosition(),\n      }\n    }\n    if (emojiSize) {\n      if (this._isNative()) {\n        // Set font-size for native emoji.\n        cssStyle = Object.assign(cssStyle, {\n          // font-size is used for native emoji which we need\n          // to scale with 0.95 factor to have them look approximately\n          // the same size as image-based emoji.\n          fontSize: Math.round(emojiSize * 0.95 * 10) / 10 + 'px',\n        })\n      } else {\n        // Set width/height for image emoji.\n        cssStyle = Object.assign(cssStyle, {\n          width: emojiSize + 'px',\n          height: emojiSize + 'px',\n        })\n      }\n    }\n    return cssStyle\n  }\n\n  _content() {\n    if (this._isCustom()) {\n      return ''\n    }\n    if (this._isNative()) {\n      return this.getEmoji().native\n    }\n    if (this._hasEmoji()) {\n      return ''\n    }\n    return this._fallback ? this._fallback(this.getEmoji()) : null\n  }\n\n  _isNative() {\n    return this._native\n  }\n\n  _isCustom() {\n    return this.getEmoji().custom\n  }\n\n  _hasEmoji() {\n    if (!this.getEmoji()._data) {\n      // Return false if we have no data.\n      return false\n    }\n    const hasImage = this.getEmoji()._data['has_img_' + this._set]\n    if (hasImage === undefined) {\n      // If there is no has_img_xxx in the data, we are working with\n      // specific data file, like facebook.json, so we assume all\n      // emojis are available (the :set setting for picker should\n      // match the data file).\n      return true\n    }\n    // Otherwise, we are using all.json and can switch between different\n    // sets - in this case the `has_img_{set_name}` is a boolean that\n    // indicates if there is such image or not for a given set.\n    return hasImage\n  }\n\n  _emojiType() {\n    if (this._isCustom()) {\n      return 'custom'\n    }\n    if (this._isNative()) {\n      return 'native'\n    }\n    if (this._hasEmoji()) {\n      return 'image'\n    }\n    return 'fallback'\n  }\n}\n\nexport function sanitize(emoji) {\n  var {\n      name,\n      short_names,\n      skin_tone,\n      skin_variations,\n      emoticons,\n      unified,\n      custom,\n      imageUrl,\n    } = emoji,\n    id = emoji.id || short_names[0],\n    colons = `:${id}:`\n\n  if (custom) {\n    return {\n      id,\n      name,\n      colons,\n      emoticons,\n      custom,\n      imageUrl,\n    }\n  }\n\n  if (skin_tone) {\n    colons += `:skin-tone-${skin_tone}:`\n  }\n\n  return {\n    id,\n    name,\n    colons,\n    emoticons,\n    unified: unified.toLowerCase(),\n    skin: skin_tone || (skin_variations ? 1 : null),\n    native: unifiedToNative(unified),\n  }\n}\n","export class PickerView {\n  constructor(pickerComponent) {\n    this._vm = pickerComponent\n    this._data = pickerComponent.data\n    this._perLine = pickerComponent.perLine\n\n    this._categories = []\n    this._categories.push(...this._data.categories())\n    this._categories = this._categories.filter((category) => {\n      return category.emojis.length > 0\n    })\n\n    this._categories[0].first = true\n    Object.freeze(this._categories)\n\n    this.activeCategory = this._categories[0]\n    this.searchEmojis = null\n\n    // Preview emoji, shown on mouse over or when we move\n    // with arrow keys.\n    this.previewEmoji = null\n    // Indexes are used to keep the position when moving\n    // with arrows: current category and current emoji\n    // inside the category.\n    this.previewEmojiCategoryIdx = 0\n    this.previewEmojiIdx = -1\n  }\n\n  onScroll() {\n    const scrollElement = this._vm.$refs.scroll\n\n    if (!scrollElement) {\n      // Reported in https://github.com/serebrov/emoji-mart-vue/issues/305\n      // Would be good to understand how it can happen, but at least\n      // exiting early we prevent the error.\n      return\n    }\n\n    const scrollTop = scrollElement.scrollTop\n\n    let activeCategory = this.filteredCategories[0]\n    for (let i = 0, l = this.filteredCategories.length; i < l; i++) {\n      let category = this.filteredCategories[i]\n      let component = this._vm.getCategoryComponent(i)\n      // The `-50` offset switches active category (selected in the\n      // anchors bar) a bit eariler, before it actually reaches the top.\n      if (component && component.$el.offsetTop - 50 > scrollTop) {\n        break\n      }\n      activeCategory = category\n    }\n    this.activeCategory = activeCategory\n  }\n\n  get allCategories() {\n    return this._categories\n  }\n\n  get filteredCategories() {\n    if (this.searchEmojis) {\n      return [\n        {\n          id: 'search',\n          name: 'Search',\n          emojis: this.searchEmojis,\n        },\n      ]\n    }\n    return this._categories.filter((category) => {\n      let hasEmojis = category.emojis.length > 0\n      return hasEmojis\n    })\n  }\n\n  get previewEmojiCategory() {\n    if (this.previewEmojiCategoryIdx >= 0) {\n      return this.filteredCategories[this.previewEmojiCategoryIdx]\n    }\n    return null\n  }\n\n  onAnchorClick(category) {\n    if (this.searchEmojis) {\n      // No categories are shown when search is active.\n      return\n    }\n    let i = this.filteredCategories.indexOf(category)\n    let component = this._vm.getCategoryComponent(i)\n    let scrollToComponent = () => {\n      if (component) {\n        let top = component.$el.offsetTop\n        if (category.first) {\n          top = 0\n        }\n        this._vm.$refs.scroll.scrollTop = top\n      }\n    }\n    if (this._vm.infiniteScroll) {\n      scrollToComponent()\n    } else {\n      this.activeCategory = this.filteredCategories[i]\n    }\n  }\n\n  onSearch(value) {\n    let emojis = this._data.search(value, this.maxSearchResults)\n    this.searchEmojis = emojis\n\n    this.previewEmojiCategoryIdx = 0\n    this.previewEmojiIdx = 0\n    this.updatePreviewEmoji()\n  }\n\n  onEmojiEnter(emoji) {\n    this.previewEmoji = emoji\n    this.previewEmojiIdx = -1\n    this.previewEmojiCategoryIdx = -1\n  }\n\n  onEmojiLeave(emoji) {\n    this.previewEmoji = null\n  }\n\n  onArrowLeft() {\n    // Moving left, decrease emoji index.\n    if (this.previewEmojiIdx > 0) {\n      this.previewEmojiIdx -= 1\n    } else {\n      // If emoji index is zero, go to the previous category.\n      this.previewEmojiCategoryIdx -= 1\n      if (this.previewEmojiCategoryIdx < 0) {\n        // If we reached first category, keep it.\n        this.previewEmojiCategoryIdx = 0\n      } else {\n        // Update emoji index - we moved to the previous category,\n        // get the last emoji in it.\n        this.previewEmojiIdx =\n          this.filteredCategories[this.previewEmojiCategoryIdx].emojis.length -\n          1\n      }\n    }\n    this.updatePreviewEmoji()\n  }\n\n  onArrowRight() {\n    if (\n      this.previewEmojiIdx <\n      this.emojisLength(this.previewEmojiCategoryIdx) - 1\n    ) {\n      // Moving right within category, increase emoji index.\n      this.previewEmojiIdx += 1\n    } else {\n      // Go to the next category.\n      this.previewEmojiCategoryIdx += 1\n      if (this.previewEmojiCategoryIdx >= this.filteredCategories.length) {\n        // If we reached the last category - keep it.\n        this.previewEmojiCategoryIdx = this.filteredCategories.length - 1\n      } else {\n        // If we moved to the next category, update emoji index to the\n        // first emoji in the new category.\n        this.previewEmojiIdx = 0\n      }\n    }\n    this.updatePreviewEmoji()\n  }\n\n  onArrowDown() {\n    // If we are out of the emoji control (index is -1), select the first\n    // emoji in the first category by calling `onArrowRight`.\n    if (this.previewEmojiIdx == -1) {\n      return this.onArrowRight()\n    }\n\n    const categoryLength =\n      this.filteredCategories[this.previewEmojiCategoryIdx].emojis.length\n\n    // When moving down, we can move `_perLine` icons right to\n    // jump to the same position in the next row.\n    let diff = this._perLine\n\n    // TODO: previewCategory should match activeCategory\n    // (so it would be both highlighted in UI and used\n    // when we start moving with arrows after clicking\n    // the category).\n\n    // Note: probably we can alwasy take current row length\n    // as a `diff` - it will fit both case of any row and\n    // special case of the last row.\n    // Note: it can be also easier to update indexes\n    // directly here instead of calling onArrowRight.\n    // Same is true for `onArrowUp`.\n\n    // Unless if we are on the last row of the category and\n    // there are less then `_perLine` emojis in it.\n    // In this case we use the last row length as diff\n    // so we go straight down, for example:\n    //\n    //   1 2 3 4 5 6\n    //   7 8 9\n    //   A B C D E F\n    //\n    // If we go down from `8`, we need to move 3 emojis right\n    // to lend at `B` (and 3 is the length of the last row of\n    // this category).\n    // And if we used 6 instead (row length, `_perLine`), we would\n    // lend up at `E`.\n    if (this.previewEmojiIdx + diff > categoryLength) {\n      // Calculate the last row length.\n      diff = categoryLength % this._perLine\n    }\n    for (let i = 0; i < diff; i++) {\n      this.onArrowRight()\n    }\n    this.updatePreviewEmoji()\n  }\n\n  onArrowUp() {\n    // Similar to `onArrowDown`, to move up we can move left\n    // by `_perLine` number of emojis.\n    let diff = this._perLine\n\n    if (this.previewEmojiIdx - diff < 0) {\n      if (this.previewEmojiCategoryIdx > 0) {\n        // Unless if we are on the first line of the category and\n        // the last line in the previous category is shorter than\n        // `_perLine`.\n        // In this case we use the last row length as diff, so\n        // we go straight up, for example:\n        //\n        //   1 2 3 4 5\n        //   6 7 8\n        //   9 A B C D\n        //\n        // If we go up from `A`, we need to move 3 emojis left to get\n        // to `7` (and 3 is the length of the last row of the previous\n        // category).\n        const prevCategoryLastRowLength =\n          this.filteredCategories[this.previewEmojiCategoryIdx - 1].emojis\n            .length % this._perLine\n        // diff = this.previewEmojiIdx + prevCategoryLastRowLength\n        diff = prevCategoryLastRowLength\n      } else {\n        diff = 0\n      }\n    }\n    for (let i = 0; i < diff; i++) {\n      this.onArrowLeft()\n    }\n    this.updatePreviewEmoji()\n  }\n\n  updatePreviewEmoji() {\n    this.previewEmoji =\n      this.filteredCategories[this.previewEmojiCategoryIdx].emojis[\n        this.previewEmojiIdx\n      ]\n\n    this._vm.$nextTick(() => {\n      // Scroll the view if the `previewEmoji` goes out of the visible area.\n      const scrollEl = this._vm.$refs.scroll\n\n      // Note: it would be more Vue-ish to mark all emojis with `ref`s\n      // and then do something similar here to what we do in the\n      // `getCategories` instead of using `querySelector` directly,\n      // but I am not sure if having many refs would affect the performance\n      // (it might, so I use `querySelector` for now).\n      const emojiEl = scrollEl.querySelector('.emoji-mart-emoji-selected')\n\n      const scrollHeight = scrollEl.offsetTop - scrollEl.offsetHeight\n      if (\n        emojiEl &&\n        emojiEl.offsetTop + emojiEl.offsetHeight >\n          scrollHeight + scrollEl.scrollTop\n      ) {\n        scrollEl.scrollTop += emojiEl.offsetHeight\n      }\n      if (emojiEl && emojiEl.offsetTop < scrollEl.scrollTop) {\n        scrollEl.scrollTop -= emojiEl.offsetHeight\n      }\n    })\n  }\n\n  emojisLength(categoryIdx) {\n    if (categoryIdx == -1) {\n      return 0\n    }\n    return this.filteredCategories[categoryIdx].emojis.length\n  }\n}\n","<template>\n  <section class=\"emoji-mart emoji-mart-static\" :style=\"customStyles\">\n    <div class=\"emoji-mart-bar emoji-mart-bar-anchors\" v-if=\"showCategories\">\n      <anchors\n        :data=\"data\"\n        :i18n=\"mergedI18n\"\n        :color=\"color\"\n        :categories=\"view.allCategories\"\n        :active-category=\"view.activeCategory\"\n        @click=\"onAnchorClick\"\n      />\n    </div>\n\n    <slot\n      name=\"searchTemplate\"\n      :data=\"data\"\n      :i18n=\"i18n\"\n      :auto-focus=\"autoFocus\"\n      :on-search=\"onSearch\"\n    >\n      <search\n        v-if=\"showSearch\"\n        ref=\"search\"\n        :data=\"data\"\n        :i18n=\"mergedI18n\"\n        :auto-focus=\"autoFocus\"\n        :on-search=\"onSearch\"\n        @search=\"onSearch\"\n        @arrowLeft=\"onArrowLeft\"\n        @arrowRight=\"onArrowRight\"\n        @arrowDown=\"onArrowDown\"\n        @arrowUp=\"onArrowUp\"\n        @enter=\"onEnter\"\n        @select=\"onTextSelect\"\n      />\n    </slot>\n\n    <div\n      role=\"tabpanel\"\n      class=\"emoji-mart-scroll\"\n      ref=\"scroll\"\n      @scroll=\"onScroll\"\n    >\n      <div\n        id=\"emoji-mart-list\"\n        ref=\"scrollContent\"\n        role=\"listbox\"\n        aria-expanded=\"true\"\n      >\n        <slot name=\"customCategory\"> </slot>\n\n        <category\n          v-for=\"(category, idx) in view.filteredCategories\"\n          v-show=\"infiniteScroll || category == view.activeCategory || isSearching\"\n          :ref=\"'categories_' + idx\"\n          :key=\"category.id\"\n          :data=\"data\"\n          :i18n=\"mergedI18n\"\n          :id=\"category.id\"\n          :name=\"category.name\"\n          :emojis=\"category.emojis\"\n          :emoji-props=\"emojiProps\"\n        />\n      </div>\n    </div>\n\n    <slot\n      name=\"previewTemplate\"\n      :data=\"data\"\n      :title=\"title\"\n      :emoji=\"view.previewEmoji\"\n      :idle-emoji=\"idleEmoji\"\n      :show-skin-tones=\"showSkinTones\"\n      :emoji-props=\"emojiProps\"\n      :skin-props=\"skinProps\"\n      :on-skin-change=\"onSkinChange\"\n    >\n      <div class=\"emoji-mart-bar emoji-mart-bar-preview\" v-if=\"showPreview\">\n        <preview\n          :data=\"data\"\n          :title=\"title\"\n          :emoji=\"view.previewEmoji\"\n          :idle-emoji=\"idleEmoji\"\n          :show-skin-tones=\"showSkinTones\"\n          :emoji-props=\"emojiProps\"\n          :skin-props=\"skinProps\"\n          :on-skin-change=\"onSkinChange\"\n        />\n      </div>\n    </slot>\n  </section>\n</template>\n\n<script>\nimport '../vendor/raf-polyfill'\nimport store from '../utils/store'\nimport frequently from '../utils/frequently'\nimport { deepMerge, measureScrollbar } from '../utils'\nimport { PickerProps } from '../utils/shared-props'\nimport { PickerView } from '../utils/picker'\nimport Anchors from './anchors.vue'\nimport Category from './category.vue'\nimport Preview from './preview.vue'\nimport Search from './search.vue'\n\nconst I18N = {\n  search: 'Search',\n  notfound: 'No Emoji Found',\n  categories: {\n    search: 'Search Results',\n    recent: 'Frequently Used',\n    smileys: 'Smileys & Emotion',\n    people: 'People & Body',\n    nature: 'Animals & Nature',\n    foods: 'Food & Drink',\n    activity: 'Activity',\n    places: 'Travel & Places',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags',\n    custom: 'Custom',\n  },\n}\n\nexport default {\n  props: {\n    ...PickerProps,\n    data: {\n      type: Object,\n      required: true,\n    },\n  },\n  emits: ['select', 'skin-change'],\n  data() {\n    return {\n      activeSkin: this.skin || store.get('skin') || this.defaultSkin,\n      view: new PickerView(this),\n    }\n  },\n  computed: {\n    customStyles() {\n      return {\n        width: this.calculateWidth + 'px',\n        ...this.pickerStyles,\n      }\n    },\n    emojiProps() {\n      return {\n        native: this.native,\n        skin: this.activeSkin,\n        set: this.set,\n        emojiTooltip: this.emojiTooltip,\n        emojiSize: this.emojiSize,\n        selectedEmoji: this.view.previewEmoji,\n        selectedEmojiCategory: this.view.previewEmojiCategory,\n        onEnter: this.onEmojiEnter.bind(this),\n        onLeave: this.onEmojiLeave.bind(this),\n        onClick: this.onEmojiClick.bind(this),\n      }\n    },\n    skinProps() {\n      return {\n        skin: this.activeSkin,\n      }\n    },\n    calculateWidth() {\n      return this.perLine * (this.emojiSize + 12) + 12 + 2 + measureScrollbar()\n    },\n    // emojisPerRow() {\n    //   const listEl = this.$refs.scrollContent\n    //   const emojiEl = listEl.querySelector('.emoji-mart-emoji')\n    //   return Math.floor(listEl.offsetWidth / emojiEl.offsetWidth)\n    // },\n    filteredCategories() {\n      return this.view.filteredCategories\n    },\n    mergedI18n() {\n      return Object.freeze(deepMerge(I18N, this.i18n))\n    },\n    idleEmoji() {\n      try {\n        return this.data.emoji(this.emoji)\n      } catch (e) {\n        console.error(\n          'Default preview emoji `' +\n            this.emoji +\n            '` is not available, check the Picker `emoji` property',\n        )\n        console.error(e)\n        return this.data.firstEmoji()\n      }\n    },\n    isSearching() {\n      return this.view.searchEmojis != null;\n    },\n  },\n  watch: {\n    skin() {\n      this.onSkinChange(this.skin)\n    },\n  },\n  methods: {\n    onScroll() {\n      if (this.infiniteScroll && !this.waitingForPaint) {\n        this.waitingForPaint = true\n        window.requestAnimationFrame(this.onScrollPaint.bind(this))\n      }\n    },\n    onScrollPaint() {\n      this.waitingForPaint = false\n      this.view.onScroll()\n    },\n    onAnchorClick(category) {\n      this.view.onAnchorClick(category)\n    },\n    onSearch(value) {\n      this.view.onSearch(value)\n    },\n    onEmojiEnter(emoji) {\n      this.view.onEmojiEnter(emoji)\n    },\n    onEmojiLeave(emoji) {\n      this.view.onEmojiLeave(emoji)\n    },\n    onArrowLeft($event) {\n      const oldIdx = this.view.previewEmojiIdx\n      this.view.onArrowLeft()\n      if ($event && this.view.previewEmojiIdx !== oldIdx) {\n        // Prevent cursor movement inside the input\n        $event.preventDefault()\n      }\n    },\n    onArrowRight() {\n      this.view.onArrowRight()\n    },\n    onArrowDown() {\n      this.view.onArrowDown()\n    },\n    onArrowUp($event) {\n      this.view.onArrowUp()\n      // Prevent cursor movement inside the input\n      $event.preventDefault()\n    },\n    onEnter() {\n      if (!this.view.previewEmoji) {\n        // We may press \"Enter\" when nothing is selected,\n        // for example, if we search for \"asdf\".\n        return\n      }\n      this.$emit('select', this.view.previewEmoji)\n      frequently.add(this.view.previewEmoji)\n    },\n    onEmojiClick(emoji) {\n      this.$emit('select', emoji)\n      frequently.add(emoji)\n    },\n    onTextSelect($event) {\n      // Prevent default text select event.\n      // In Vue 3 it goes through the component and triggers the `select`\n      // event that is supposed to be emmited only with emoji.\n      // (there is no such problem in Vue 2).\n      $event.stopPropagation()\n    },\n    onSkinChange(skin) {\n      this.activeSkin = skin\n      store.update({ skin })\n\n      this.$emit('skin-change', skin)\n    },\n    getCategoryComponent(index) {\n      let component = this.$refs['categories_' + index]\n      if (component && '0' in component) {\n        // Vue 2 has $refs under v-for as an array.\n        return component['0']\n      }\n      // Vue 3 does not support $refs as array.\n      return component\n    },\n  },\n  components: {\n    Anchors,\n    Category,\n    Preview,\n    Search,\n  },\n}\n</script>\n","import '../assets/NcEmojiPicker-B7xDz_8U.css';\nimport data from \"emoji-mart-vue-fast/data/all.json\";\nimport { Picker, Emoji, EmojiIndex } from \"emoji-mart-vue-fast/src/index.js\";\nimport { isFocusable } from \"tabbable\";\nimport { createElementBlock, openBlock, mergeProps, createElementVNode, createCommentVNode, toDisplayString, resolveComponent, createBlock, withCtx, createVNode, withKeys, withModifiers, createSlots, normalizeStyle, renderSlot, normalizeProps, guardReactiveProps } from \"vue\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { N as NcColorPicker } from \"./NcColorPicker-Cs5tFS-S.mjs\";\nimport { u as useTrapStackControl } from \"./useTrapStackControl-B6cEicto.mjs\";\nimport { s as setCurrentSkinTone, g as getCurrentSkinTone } from \"./emoji-BY_D0V5K.mjs\";\nimport { r as register, i as t40, j as t35, k as t16, l as t5, a as t } from \"./_l10n-BPfpECk_.mjs\";\nimport { C as Color } from \"./colors-ZSK8bG_B.mjs\";\nimport { N as NcButton } from \"./NcButton-DkC5k3Lb.mjs\";\nimport { N as NcPopover } from \"./NcPopover-C-MTaPCs.mjs\";\nimport { _ as _sfc_main$2 } from \"./NcTextField.vue_vue_type_script_setup_true_lang-Dl9AQfwW.mjs\";\nconst _sfc_main$1 = {\n  name: \"CircleIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$1 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$1 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$1 = { d: \"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" };\nconst _hoisted_4$1 = { key: 0 };\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon circle-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$1, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$1, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$1))\n  ], 16, _hoisted_1$1);\n}\nconst IconCircle = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"render\", _sfc_render$1]]);\nregister(t5, t16, t35, t40);\nlet emojiIndex;\nconst i18n = {\n  search: t(\"Search emoji\"),\n  notfound: t(\"No emoji found\"),\n  categories: {\n    search: t(\"Search results\"),\n    recent: t(\"Frequently used\"),\n    smileys: t(\"Smileys & Emotion\"),\n    people: t(\"People & Body\"),\n    nature: t(\"Animals & Nature\"),\n    foods: t(\"Food & Drink\"),\n    activity: t(\"Activities\"),\n    places: t(\"Travel & Places\"),\n    objects: t(\"Objects\"),\n    symbols: t(\"Symbols\"),\n    flags: t(\"Flags\"),\n    custom: t(\"Custom\")\n  }\n};\nconst skinTonePalette = [\n  new Color(255, 222, 52, t(\"Neutral skin color\")),\n  new Color(228, 205, 166, t(\"Light skin tone\")),\n  new Color(250, 221, 192, t(\"Medium light skin tone\")),\n  new Color(174, 129, 87, t(\"Medium skin tone\")),\n  new Color(158, 113, 88, t(\"Medium dark skin tone\")),\n  new Color(96, 79, 69, t(\"Dark skin tone\"))\n];\nconst _sfc_main = {\n  name: \"NcEmojiPicker\",\n  components: {\n    IconCircle,\n    NcButton,\n    NcColorPicker,\n    NcPopover,\n    NcTextField: _sfc_main$2,\n    Emoji,\n    Picker\n  },\n  props: {\n    /**\n     * The emoji-set\n     */\n    activeSet: {\n      type: String,\n      default: \"native\"\n    },\n    /**\n     * Show preview section when hovering emoji\n     */\n    showPreview: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Allow unselecting the selected emoji\n     */\n    allowUnselect: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Selected emoji to allow unselecting\n     */\n    selectedEmoji: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * The fallback emoji in the preview section\n     */\n    previewFallbackEmoji: {\n      type: String,\n      default: \"grinning\"\n    },\n    /**\n     * The fallback text in the preview section\n     */\n    previewFallbackName: {\n      type: String,\n      default: t(\"Pick an emoji\")\n    },\n    /**\n     * Whether to close the emoji picker after picking one\n     */\n    closeOnSelect: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Selector for the popover container\n     */\n    container: {\n      type: [Boolean, String, Object, Element],\n      default: \"body\"\n    }\n  },\n  emits: [\n    \"select\",\n    \"selectData\",\n    \"unselect\"\n  ],\n  setup() {\n    if (!emojiIndex) {\n      emojiIndex = new EmojiIndex(data);\n    }\n    return {\n      // Non-reactive constants\n      emojiIndex,\n      skinTonePalette,\n      i18n\n    };\n  },\n  data() {\n    const currentSkinTone = getCurrentSkinTone();\n    return {\n      /**\n       * The current active color from the skin tone palette\n       */\n      currentColor: skinTonePalette[currentSkinTone - 1],\n      /**\n       * The current active skin tone\n       *\n       * @type {1|2|3|4|5|6}\n       */\n      currentSkinTone,\n      search: \"\",\n      open: false\n    };\n  },\n  computed: {\n    native() {\n      return this.activeSet === \"native\";\n    }\n  },\n  created() {\n    useTrapStackControl(() => this.open);\n  },\n  methods: {\n    t,\n    clearSearch() {\n      this.search = \"\";\n      this.$refs.search.focus();\n    },\n    /**\n     * Update the current skin tone by the result of the color picker\n     *\n     * @param {string} color Color set\n     */\n    onChangeSkinTone(color) {\n      const index = this.skinTonePalette.findIndex((tone) => tone.color.toLowerCase() === color.toLowerCase());\n      if (index > -1) {\n        this.currentSkinTone = index + 1;\n        this.currentColor = this.skinTonePalette[index];\n        setCurrentSkinTone(this.currentSkinTone);\n      }\n    },\n    select(emojiObject) {\n      this.$emit(\"select\", emojiObject.native);\n      this.$emit(\"selectData\", emojiObject);\n      if (this.closeOnSelect) {\n        this.open = false;\n      }\n    },\n    unselect() {\n      this.$emit(\"unselect\");\n    },\n    afterShow() {\n      this.$refs.search.focus();\n    },\n    afterHide() {\n      if (!document.activeElement || this.$refs.picker.$el.contains(document.activeElement) || !isFocusable(document.activeElement)) {\n        this.$refs.popover.$el.querySelector('button, [role=\"button\"]')?.focus();\n      }\n    },\n    /**\n     * Manually handle Tab navigation skipping emoji buttons.\n     * Navigation over emojis is handled by Arrow keys.\n     *\n     * @param {KeyboardEvent} event - Keyboard event\n     */\n    handleTabNavigationSkippingEmojis(event) {\n      const current = event.target;\n      const focusable = Array.from(this.$refs.picker.$el.querySelectorAll(\"button:not(.emoji-mart-emoji), input\"));\n      if (!event.shiftKey) {\n        const nextNode = focusable.find((node) => current.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_FOLLOWING) || focusable[0];\n        nextNode.focus();\n      } else {\n        const prevNode = focusable.findLast((node) => current.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_PRECEDING) || focusable.at(-1);\n        prevNode.focus();\n      }\n    },\n    /**\n     * Handle arrow navigation via <Picker>'s handlers with scroll bug fix\n     *\n     * @param {'onArrowLeft' | 'onArrowRight' | 'onArrowDown' | 'onArrowUp'} originalHandlerName - Picker's arrow keydown handler name\n     * @param {KeyboardEvent} event - Keyboard event\n     */\n    async callPickerArrowHandlerWithScrollFix(originalHandlerName, event) {\n      this.$refs.picker[originalHandlerName](event);\n      await this.$nextTick();\n      const selectedEmoji = this.$refs.picker.$el.querySelector(\".emoji-mart-emoji-selected\");\n      selectedEmoji?.scrollIntoView({\n        block: \"center\",\n        inline: \"center\"\n      });\n    }\n  }\n};\nconst _hoisted_1 = { class: \"nc-emoji-picker-container\" };\nconst _hoisted_2 = { class: \"search__wrapper\" };\nconst _hoisted_3 = { class: \"emoji-mart-category-label\" };\nconst _hoisted_4 = { class: \"emoji-mart-category-label\" };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcTextField = resolveComponent(\"NcTextField\");\n  const _component_IconCircle = resolveComponent(\"IconCircle\");\n  const _component_NcButton = resolveComponent(\"NcButton\");\n  const _component_NcColorPicker = resolveComponent(\"NcColorPicker\");\n  const _component_Emoji = resolveComponent(\"Emoji\");\n  const _component_Picker = resolveComponent(\"Picker\");\n  const _component_NcPopover = resolveComponent(\"NcPopover\");\n  return openBlock(), createBlock(_component_NcPopover, {\n    ref: \"popover\",\n    shown: $data.open,\n    \"onUpdate:shown\": _cache[6] || (_cache[6] = ($event) => $data.open = $event),\n    container: $props.container,\n    \"popup-role\": \"dialog\",\n    \"no-focus-trap\": true,\n    onAfterShow: $options.afterShow,\n    onAfterHide: $options.afterHide\n  }, {\n    trigger: withCtx((slotProps) => [\n      renderSlot(_ctx.$slots, \"default\", normalizeProps(guardReactiveProps(slotProps)), void 0, true)\n    ]),\n    default: withCtx(() => [\n      createElementVNode(\"div\", _hoisted_1, [\n        createVNode(_component_Picker, mergeProps({\n          ref: \"picker\",\n          color: \"var(--color-primary-element)\",\n          data: $setup.emojiIndex,\n          emoji: $props.previewFallbackEmoji,\n          i18n: $setup.i18n,\n          native: $options.native,\n          \"emoji-size\": 20,\n          \"per-line\": 8,\n          \"picker-styles\": { width: \"320px\" },\n          \"show-preview\": $props.showPreview,\n          skin: $data.currentSkinTone,\n          \"show-skin-tones\": false,\n          title: $props.previewFallbackName,\n          role: \"dialog\",\n          \"aria-modal\": \"true\",\n          \"aria-label\": $options.t(\"Emoji picker\")\n        }, _ctx.$attrs, {\n          onKeydown: withKeys(withModifiers($options.handleTabNavigationSkippingEmojis, [\"prevent\"]), [\"tab\"]),\n          onSelect: $options.select\n        }), createSlots({\n          searchTemplate: withCtx(({ onSearch }) => [\n            createElementVNode(\"div\", _hoisted_2, [\n              createVNode(_component_NcTextField, {\n                ref: \"search\",\n                modelValue: $data.search,\n                \"onUpdate:modelValue\": [\n                  _cache[0] || (_cache[0] = ($event) => $data.search = $event),\n                  ($event) => onSearch($data.search)\n                ],\n                class: \"search\",\n                label: $options.t(\"Search\"),\n                \"label-visible\": true,\n                placeholder: $setup.i18n.search,\n                \"trailing-button-icon\": \"close\",\n                \"trailing-button-label\": $options.t(\"Clear search\"),\n                \"show-trailing-button\": $data.search !== \"\",\n                onKeydown: [\n                  _cache[1] || (_cache[1] = withKeys(($event) => $options.callPickerArrowHandlerWithScrollFix(\"onArrowLeft\", $event), [\"left\"])),\n                  _cache[2] || (_cache[2] = withKeys(($event) => $options.callPickerArrowHandlerWithScrollFix(\"onArrowRight\", $event), [\"right\"])),\n                  _cache[3] || (_cache[3] = withKeys(($event) => $options.callPickerArrowHandlerWithScrollFix(\"onArrowDown\", $event), [\"down\"])),\n                  _cache[4] || (_cache[4] = withKeys(($event) => $options.callPickerArrowHandlerWithScrollFix(\"onArrowUp\", $event), [\"up\"])),\n                  _cache[5] || (_cache[5] = withKeys(($event) => _ctx.$refs.picker.onEnter($event), [\"enter\"]))\n                ],\n                onTrailingButtonClick: ($event) => {\n                  $options.clearSearch();\n                  onSearch(\"\");\n                }\n              }, null, 8, [\"modelValue\", \"label\", \"placeholder\", \"trailing-button-label\", \"show-trailing-button\", \"onTrailingButtonClick\", \"onUpdate:modelValue\"]),\n              createVNode(_component_NcColorPicker, {\n                \"palette-only\": \"\",\n                container: $props.container,\n                palette: $setup.skinTonePalette,\n                \"model-value\": $data.currentColor.color,\n                \"onUpdate:modelValue\": $options.onChangeSkinTone\n              }, {\n                default: withCtx(() => [\n                  createVNode(_component_NcButton, {\n                    \"aria-label\": $options.t(\"Skin tone\"),\n                    variant: \"tertiary-no-background\"\n                  }, {\n                    icon: withCtx(() => [\n                      createVNode(_component_IconCircle, {\n                        style: normalizeStyle({ color: $data.currentColor.color }),\n                        title: $data.currentColor.name,\n                        size: 20\n                      }, null, 8, [\"style\", \"title\"])\n                    ]),\n                    _: 1\n                  }, 8, [\"aria-label\"])\n                ]),\n                _: 1\n              }, 8, [\"container\", \"palette\", \"model-value\", \"onUpdate:modelValue\"])\n            ])\n          ]),\n          _: 2\n        }, [\n          $props.allowUnselect && $props.selectedEmoji ? {\n            name: \"customCategory\",\n            fn: withCtx(() => [\n              createElementVNode(\"div\", _hoisted_3, [\n                createElementVNode(\"h3\", _hoisted_4, toDisplayString($options.t(\"Selected\")), 1)\n              ]),\n              createVNode(_component_Emoji, {\n                class: \"emoji-selected\",\n                data: $setup.emojiIndex,\n                emoji: $props.selectedEmoji,\n                native: \"\",\n                size: 32,\n                onClick: $options.unselect\n              }, null, 8, [\"data\", \"emoji\", \"onClick\"]),\n              createVNode(_component_Emoji, {\n                class: \"emoji-delete\",\n                data: $setup.emojiIndex,\n                emoji: \":x:\",\n                native: \"\",\n                size: 10,\n                onClick: $options.unselect\n              }, null, 8, [\"data\", \"onClick\"])\n            ]),\n            key: \"0\"\n          } : void 0\n        ]), 1040, [\"data\", \"emoji\", \"i18n\", \"native\", \"show-preview\", \"skin\", \"title\", \"aria-label\", \"onKeydown\", \"onSelect\"])\n      ])\n    ]),\n    _: 3\n  }, 8, [\"shown\", \"container\", \"onAfterShow\", \"onAfterHide\"]);\n}\nconst NcEmojiPicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__scopeId\", \"data-v-f2f99131\"]]);\nexport {\n  NcEmojiPicker as N\n};\n//# sourceMappingURL=NcEmojiPicker-DWI-aSaL.mjs.map\n","import '../assets/NcRelatedResourcesPanel-BVdRCi64.css';\nimport axios from \"@nextcloud/axios\";\nimport { generateOcsUrl } from \"@nextcloud/router\";\nimport { r as register, B as t36, a as t, C as t39, D as t9 } from \"./_l10n-BPfpECk_.mjs\";\nimport { N as NcButton } from \"./NcButton-DkC5k3Lb.mjs\";\nimport { g as getRoute } from \"./autolink-U5pBzLgI.mjs\";\nimport { resolveComponent, createElementBlock, openBlock, createVNode, withCtx, createTextVNode, toDisplayString, createElementVNode, mergeProps, createCommentVNode, Fragment, renderList, createBlock } from \"vue\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { getCapabilities } from \"@nextcloud/capabilities\";\nimport { C as ChevronDown } from \"./ChevronDown-FiGpp0KT.mjs\";\nimport { C as ChevronUp } from \"./ChevronUp-DPXFp1ss.mjs\";\nimport { N as NcIconSvgWrapper } from \"./NcIconSvgWrapper-5AA93z-F.mjs\";\nimport { l as logger$1 } from \"./logger-D3RVzcfQ.mjs\";\nregister(t36);\nconst _sfc_main$4 = {\n  name: \"NcResource\",\n  components: {\n    NcButton\n  },\n  /* eslint vue/require-prop-comment: warn -- TODO: Add a proper doc block about what this props do */\n  props: {\n    icon: {\n      type: String,\n      required: true\n    },\n    name: {\n      type: String,\n      required: true\n    },\n    url: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      labelTranslated: t('Open link to \"{resourceName}\"', { resourceName: this.name })\n    };\n  },\n  computed: {\n    route() {\n      return getRoute(this.$router, this.url);\n    }\n  },\n  methods: {\n    t\n  }\n};\nconst _hoisted_1$4 = { class: \"resource\" };\nconst _hoisted_2$4 = { class: \"resource__icon\" };\nconst _hoisted_3$3 = [\"src\"];\nfunction _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcButton = resolveComponent(\"NcButton\");\n  return openBlock(), createElementBlock(\"li\", _hoisted_1$4, [\n    createVNode(_component_NcButton, {\n      class: \"resource__button\",\n      \"aria-label\": $data.labelTranslated,\n      to: $options.route,\n      href: $options.route ? null : $props.url,\n      variant: \"tertiary\"\n    }, {\n      icon: withCtx(() => [\n        createElementVNode(\"div\", _hoisted_2$4, [\n          createElementVNode(\"img\", { src: $props.icon }, null, 8, _hoisted_3$3)\n        ])\n      ]),\n      default: withCtx(() => [\n        createTextVNode(\" \" + toDisplayString($props.name), 1)\n      ]),\n      _: 1\n    }, 8, [\"aria-label\", \"to\", \"href\"])\n  ]);\n}\nconst NcResource = /* @__PURE__ */ _export_sfc(_sfc_main$4, [[\"render\", _sfc_render$4], [\"__scopeId\", \"data-v-f5ceafce\"]]);\nconst _sfc_main$3 = {\n  name: \"AccountGroupIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$3 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$3 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$2 = { d: \"M12,5.5A3.5,3.5 0 0,1 15.5,9A3.5,3.5 0 0,1 12,12.5A3.5,3.5 0 0,1 8.5,9A3.5,3.5 0 0,1 12,5.5M5,8C5.56,8 6.08,8.15 6.53,8.42C6.38,9.85 6.8,11.27 7.66,12.38C7.16,13.34 6.16,14 5,14A3,3 0 0,1 2,11A3,3 0 0,1 5,8M19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14C17.84,14 16.84,13.34 16.34,12.38C17.2,11.27 17.62,9.85 17.47,8.42C17.92,8.15 18.44,8 19,8M5.5,18.25C5.5,16.18 8.41,14.5 12,14.5C15.59,14.5 18.5,16.18 18.5,18.25V20H5.5V18.25M0,20V18.5C0,17.11 1.89,15.94 4.45,15.6C3.86,16.28 3.5,17.22 3.5,18.25V20H0M24,20H20.5V18.25C20.5,17.22 20.14,16.28 19.55,15.6C22.11,15.94 24,17.11 24,18.5V20Z\" };\nconst _hoisted_4$2 = { key: 0 };\nfunction _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon account-group-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$2, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$2, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$3))\n  ], 16, _hoisted_1$3);\n}\nconst AccountGroup = /* @__PURE__ */ _export_sfc(_sfc_main$3, [[\"render\", _sfc_render$3]]);\nconst _sfc_main$2 = {\n  name: \"OpenInNewIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$2 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$2 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$1 = { d: \"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z\" };\nconst _hoisted_4$1 = { key: 0 };\nfunction _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon open-in-new-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$1, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$1, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$2))\n  ], 16, _hoisted_1$2);\n}\nconst OpenInNew = /* @__PURE__ */ _export_sfc(_sfc_main$2, [[\"render\", _sfc_render$2]]);\nregister(t39);\nconst teamResourceProviders = getCapabilities()?.circles?.teamResourceProviders ?? [];\nconst _sfc_main$1 = {\n  name: \"NcTeamResources\",\n  components: {\n    AccountGroup,\n    ChevronDown,\n    ChevronUp,\n    OpenInNew,\n    NcButton,\n    NcIconSvgWrapper\n  },\n  /* eslint vue/require-prop-comment: warn -- TODO: Add a proper doc block about what this props do */\n  props: {\n    providerId: {\n      type: String,\n      default: null\n    },\n    itemId: {\n      type: [String, Number],\n      default: null\n    }\n  },\n  data() {\n    return {\n      appEnabled: OC?.appswebroots?.circles !== void 0 && (OC.config.version.split(\".\")[0] ?? 0) >= 29,\n      loading: false,\n      teamResources: null,\n      teamOpen: []\n    };\n  },\n  computed: {\n    isVisible() {\n      return !this.loading && this.teamResources?.length > 0;\n    },\n    teamProviders() {\n      return (teamId) => {\n        const team = this.teamResources.find((t2) => t2.teamId === teamId);\n        return team.resources?.reduce((acc, resource) => {\n          if (resource.provider.id === this.providerId && resource.id === String(this.itemId)) {\n            return acc;\n          }\n          if (!acc[resource.provider.id]) {\n            acc[resource.provider.id] = resource.provider;\n            acc[resource.provider.id].resources = [];\n          }\n          if (resource.provider.id === this.providerId && resource.id === String(this.itemId)) {\n            return acc;\n          }\n          acc[resource.provider.id].resources.push(resource);\n          return acc;\n        }, {});\n      };\n    },\n    open() {\n      return (teamId) => {\n        return this.teamOpen.indexOf(teamId) !== -1;\n      };\n    }\n  },\n  watch: {\n    providerId() {\n      this.fetchTeamResources();\n    },\n    itemId() {\n      this.fetchTeamResources();\n    }\n  },\n  created() {\n    this.fetchTeamResources();\n  },\n  methods: {\n    t,\n    async fetchTeamResources() {\n      if (!teamResourceProviders.includes(this.providerId)) {\n        return;\n      }\n      try {\n        this.loading = true;\n        const response = await axios.get(generateOcsUrl(`/teams/resources/${this.providerId}/${this.itemId}`));\n        this.teamResources = response.data.ocs.data.teams;\n        this.teamOpen = [this.teamResources[0]?.teamId];\n      } catch (error) {\n        this.teamResources = null;\n        logger$1.error(\"[NcTeamResources] Failed to fetch resources\", { error });\n      } finally {\n        this.loading = false;\n      }\n    },\n    toggleOpen(teamId, open) {\n      if (open) {\n        this.teamOpen.push(teamId);\n      } else {\n        this.teamOpen.splice(this.teamOpen.indexOf(teamId), 1);\n      }\n    }\n  }\n};\nconst _hoisted_1$1 = {\n  key: 0,\n  class: \"team-resources\"\n};\nconst _hoisted_2$1 = { class: \"team-resources__header\" };\nconst _hoisted_3 = [\"open\", \"onToggle\"];\nconst _hoisted_4 = { class: \"related-team__header\" };\nconst _hoisted_5 = { class: \"related-team__name\" };\nconst _hoisted_6 = { key: 0 };\nconst _hoisted_7 = [\"href\"];\nconst _hoisted_8 = {\n  key: 0,\n  class: \"resource__icon\"\n};\nconst _hoisted_9 = {\n  key: 2,\n  class: \"resource__icon\"\n};\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = { class: \"resource__name\" };\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AccountGroup = resolveComponent(\"AccountGroup\");\n  const _component_OpenInNew = resolveComponent(\"OpenInNew\");\n  const _component_NcButton = resolveComponent(\"NcButton\");\n  const _component_ChevronUp = resolveComponent(\"ChevronUp\");\n  const _component_ChevronDown = resolveComponent(\"ChevronDown\");\n  const _component_NcIconSvgWrapper = resolveComponent(\"NcIconSvgWrapper\");\n  return $data.appEnabled && $options.isVisible ? (openBlock(), createElementBlock(\"div\", _hoisted_1$1, [\n    createElementVNode(\"h5\", _hoisted_2$1, toDisplayString($options.t(\"Related team resources\")), 1),\n    (openBlock(true), createElementBlock(Fragment, null, renderList($data.teamResources, (team) => {\n      return openBlock(), createElementBlock(\"details\", {\n        key: team.teamId,\n        name: \"Team resources\",\n        class: \"related-team\",\n        open: $options.open(team.teamId),\n        onToggle: (event) => $options.toggleOpen(team.teamId, event.target.open)\n      }, [\n        createElementVNode(\"summary\", _hoisted_4, [\n          createElementVNode(\"h5\", _hoisted_5, [\n            createVNode(_component_AccountGroup, { size: 20 }),\n            createTextVNode(\" \" + toDisplayString(team.displayName), 1)\n          ]),\n          createVNode(_component_NcButton, {\n            \"aria-label\": $options.t(\"View team\"),\n            href: team.link,\n            title: $options.t(\"View team\"),\n            variant: \"tertiary\"\n          }, {\n            icon: withCtx(() => [\n              createVNode(_component_OpenInNew, { size: 20 })\n            ]),\n            _: 2\n          }, 1032, [\"aria-label\", \"href\", \"title\"]),\n          $options.open(team.teamId) ? (openBlock(), createBlock(_component_ChevronUp, {\n            key: 0,\n            size: 20\n          })) : (openBlock(), createBlock(_component_ChevronDown, {\n            key: 1,\n            size: 20\n          }))\n        ]),\n        createElementVNode(\"div\", null, [\n          (openBlock(true), createElementBlock(Fragment, null, renderList($options.teamProviders(team.teamId), (provider) => {\n            return openBlock(), createElementBlock(\"div\", {\n              key: provider.id,\n              class: \"related-team-provider\"\n            }, [\n              provider.resources.length > 0 ? (openBlock(), createElementBlock(\"h6\", _hoisted_6, toDisplayString(provider.name), 1)) : createCommentVNode(\"\", true),\n              createElementVNode(\"ul\", null, [\n                (openBlock(true), createElementBlock(Fragment, null, renderList(provider.resources, (resource) => {\n                  return openBlock(), createElementBlock(\"li\", {\n                    key: resource.url,\n                    class: \"related-team-resource\"\n                  }, [\n                    createElementVNode(\"a\", {\n                      href: resource.url,\n                      class: \"related-team-resource__link\"\n                    }, [\n                      resource.iconEmoji ? (openBlock(), createElementBlock(\"span\", _hoisted_8, toDisplayString(resource.iconEmoji), 1)) : resource.iconSvg ? (openBlock(), createBlock(_component_NcIconSvgWrapper, {\n                        key: 1,\n                        class: \"resource__icon\",\n                        svg: resource.iconSvg,\n                        size: 20\n                      }, null, 8, [\"svg\"])) : resource.iconURL ? (openBlock(), createElementBlock(\"span\", _hoisted_9, [\n                        createElementVNode(\"img\", {\n                          src: resource.iconURL,\n                          alt: \"\"\n                        }, null, 8, _hoisted_10)\n                      ])) : createCommentVNode(\"\", true),\n                      createElementVNode(\"span\", _hoisted_11, toDisplayString(resource.label), 1)\n                    ], 8, _hoisted_7)\n                  ]);\n                }), 128))\n              ])\n            ]);\n          }), 128))\n        ])\n      ], 40, _hoisted_3);\n    }), 128))\n  ])) : createCommentVNode(\"\", true);\n}\nconst NcTeamResources = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"render\", _sfc_render$1], [\"__scopeId\", \"data-v-4bed5b23\"]]);\nregister(t9);\nconst _sfc_main = {\n  name: \"NcRelatedResourcesPanel\",\n  components: {\n    NcResource,\n    NcTeamResources\n  },\n  /* eslint vue/require-prop-comment: warn -- TODO: Add a proper doc block about what this props do */\n  props: {\n    /**\n     * The provider id implemented with `\\OCA\\RelatedResources\\IRelatedResourceProvider::getProviderId()`\n     */\n    providerId: {\n      type: String,\n      default: null\n    },\n    /**\n     * The item id which uniquely identities the e.g. Calendar event, Deck board, file, Talk room, etc.\n     */\n    itemId: {\n      type: [String, Number],\n      default: null\n    },\n    /**\n     * Limits to specific resource type. i.e. any provider id implemented with `\\OCA\\RelatedResources\\IRelatedResourceProvider::getProviderId()`\n     */\n    resourceType: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Set the maximum number of resources to load\n     */\n    limit: {\n      type: Number,\n      default: 0\n    },\n    /**\n     * Only used by the files sidebar\n     *\n     * File info is passed when registered with `OCA.Sharing.ShareTabSections.registerSection()`\n     */\n    fileInfo: {\n      type: Object,\n      default: null\n    },\n    /**\n     * Make the header name dynamic\n     */\n    header: {\n      type: String,\n      default: t(\"Related resources\")\n    },\n    description: {\n      type: String,\n      default: t(\"Anything shared with the same group of people will show up here\")\n    },\n    /**\n     * If this element is used on a primary element set to true for primary styling.\n     */\n    primary: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\n    \"hasError\",\n    \"hasResources\"\n  ],\n  data() {\n    return {\n      appEnabled: OC?.appswebroots?.related_resources !== void 0,\n      loading: false,\n      error: null,\n      resources: []\n    };\n  },\n  computed: {\n    isVisible() {\n      if (this.loading) {\n        return false;\n      }\n      return this.error ?? this.resources.length > 0;\n    },\n    subline() {\n      if (this.error) {\n        return t(\"Error getting related resources. Please contact your system administrator if you have any questions.\");\n      }\n      return this.description;\n    },\n    hasResourceInfo() {\n      if (this.providerId !== null && this.itemId !== null) {\n        return true;\n      }\n      if (this.fileInfo !== null) {\n        return true;\n      }\n      return false;\n    },\n    isFiles() {\n      return this.fileInfo?.id !== void 0;\n    },\n    url() {\n      let providerId = null;\n      let itemId = null;\n      if (this.isFiles) {\n        providerId = \"files\";\n        itemId = this.fileInfo.id;\n      } else {\n        providerId = this.providerId;\n        itemId = this.itemId;\n      }\n      return generateOcsUrl(\"/apps/related_resources/related/{providerId}?itemId={itemId}&resourceType={resourceType}&limit={limit}&format=json\", {\n        providerId,\n        itemId,\n        resourceType: this.resourceType,\n        limit: this.limit\n      });\n    }\n  },\n  watch: {\n    providerId() {\n      this.fetchRelatedResources();\n    },\n    itemId() {\n      this.fetchRelatedResources();\n    },\n    fileInfo() {\n      this.fetchRelatedResources();\n    },\n    error(error) {\n      this.$emit(\"hasError\", Boolean(error));\n    },\n    resources(resources) {\n      this.$emit(\"hasResources\", resources.length > 0);\n    }\n  },\n  created() {\n    this.fetchRelatedResources();\n  },\n  methods: {\n    t,\n    async fetchRelatedResources() {\n      if (!this.appEnabled || !this.hasResourceInfo) {\n        return;\n      }\n      this.loading = true;\n      this.error = null;\n      this.resources = [];\n      try {\n        const response = await axios.get(this.url);\n        this.resources = response.data.ocs?.data;\n      } catch (error) {\n        this.error = error;\n        logger.error(\"[NcRelatedResourcesPanel] Failed to fetch resources\", { error });\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\nconst _hoisted_1 = {\n  key: 0,\n  class: \"related-resources\"\n};\nconst _hoisted_2 = { class: \"related-resources__header\" };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcTeamResources = resolveComponent(\"NcTeamResources\");\n  const _component_NcResource = resolveComponent(\"NcResource\");\n  return openBlock(), createElementBlock(\"div\", null, [\n    createVNode(_component_NcTeamResources, {\n      \"provider-id\": $props.providerId,\n      \"item-id\": $props.itemId\n    }, null, 8, [\"provider-id\", \"item-id\"]),\n    $data.appEnabled && $options.isVisible ? (openBlock(), createElementBlock(\"div\", _hoisted_1, [\n      createElementVNode(\"div\", _hoisted_2, [\n        createElementVNode(\"h5\", null, toDisplayString($props.header), 1),\n        createElementVNode(\"p\", null, toDisplayString($options.subline), 1)\n      ]),\n      (openBlock(true), createElementBlock(Fragment, null, renderList($data.resources, (resource) => {\n        return openBlock(), createBlock(_component_NcResource, {\n          key: resource.itemId,\n          class: \"related-resources__entry\",\n          icon: resource.icon,\n          name: resource.title,\n          url: resource.url\n        }, null, 8, [\"icon\", \"name\", \"url\"]);\n      }), 128))\n    ])) : createCommentVNode(\"\", true)\n  ]);\n}\nconst NcRelatedResourcesPanel = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__scopeId\", \"data-v-7a009a6b\"]]);\nexport {\n  NcRelatedResourcesPanel as N\n};\n//# sourceMappingURL=NcRelatedResourcesPanel-C044oJVp.mjs.map\n","import { r as register, e as t0, a as t } from \"./_l10n-BPfpECk_.mjs\";\nimport { l as logger } from \"./logger-D3RVzcfQ.mjs\";\nimport { N as NcEllipsisedOption } from \"./NcEllipsisedOption-dT-CtXYp.mjs\";\nimport { N as NcSelect } from \"./NcSelect-BN2tEhoU.mjs\";\nimport axios from \"@nextcloud/axios\";\nimport { generateRemoteUrl } from \"@nextcloud/router\";\nimport { resolveComponent, createBlock, openBlock, mergeProps, createSlots, withCtx, createVNode, renderList, renderSlot, normalizeProps, guardReactiveProps } from \"vue\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nregister(t0);\nfunction xmlToJson(xml) {\n  let obj = {};\n  if (xml.nodeType === 1) {\n    if (xml.attributes.length > 0) {\n      obj[\"@attributes\"] = {};\n      for (let j = 0; j < xml.attributes.length; j++) {\n        const attribute = xml.attributes.item(j);\n        obj[\"@attributes\"][attribute.nodeName] = attribute.nodeValue;\n      }\n    }\n  } else if (xml.nodeType === 3) {\n    obj = xml.nodeValue;\n  }\n  if (xml.hasChildNodes()) {\n    for (let i = 0; i < xml.childNodes.length; i++) {\n      const item = xml.childNodes.item(i);\n      const nodeName = item.nodeName;\n      if (typeof obj[nodeName] === \"undefined\") {\n        obj[nodeName] = xmlToJson(item);\n      } else {\n        if (typeof obj[nodeName].push === \"undefined\") {\n          const old = obj[nodeName];\n          obj[nodeName] = [];\n          obj[nodeName].push(old);\n        }\n        obj[nodeName].push(xmlToJson(item));\n      }\n    }\n  }\n  return obj;\n}\nfunction parseXml(xml) {\n  let dom = null;\n  try {\n    dom = new DOMParser().parseFromString(xml, \"text/xml\");\n  } catch (error) {\n    logger.error(\"[NcSelectTags] Failed to parse xml document\", { error });\n  }\n  return dom;\n}\nfunction xmlToTagList(xml) {\n  const json = xmlToJson(parseXml(xml));\n  const list = json[\"d:multistatus\"][\"d:response\"];\n  const result = [];\n  for (const index in list) {\n    const tag = list[index][\"d:propstat\"];\n    if (tag[\"d:status\"][\"#text\"] !== \"HTTP/1.1 200 OK\") {\n      continue;\n    }\n    result.push({\n      id: parseInt(tag[\"d:prop\"][\"oc:id\"][\"#text\"]),\n      displayName: tag[\"d:prop\"][\"oc:display-name\"][\"#text\"],\n      canAssign: tag[\"d:prop\"][\"oc:can-assign\"][\"#text\"] === \"true\",\n      userAssignable: tag[\"d:prop\"][\"oc:user-assignable\"][\"#text\"] === \"true\",\n      userVisible: tag[\"d:prop\"][\"oc:user-visible\"][\"#text\"] === \"true\"\n    });\n  }\n  return result;\n}\nasync function searchTags() {\n  if (window.NextcloudVueDocs) {\n    return Promise.resolve(xmlToTagList(window.NextcloudVueDocs.tags));\n  }\n  const result = await axios({\n    method: \"PROPFIND\",\n    url: generateRemoteUrl(\"dav\") + \"/systemtags/\",\n    data: `<?xml version=\"1.0\"?>\n\t\t\t\t\t<d:propfind  xmlns:d=\"DAV:\" xmlns:oc=\"http://owncloud.org/ns\">\n\t\t\t\t\t  <d:prop>\n\t\t\t\t\t\t<oc:id />\n\t\t\t\t\t\t<oc:display-name />\n\t\t\t\t\t\t<oc:user-visible />\n\t\t\t\t\t\t<oc:user-assignable />\n\t\t\t\t\t\t<oc:can-assign />\n\t\t\t\t\t  </d:prop>\n\t\t\t\t\t</d:propfind>`\n  });\n  return xmlToTagList(result.data);\n}\nconst _sfc_main = {\n  name: \"NcSelectTags\",\n  components: {\n    NcEllipsisedOption,\n    NcSelect\n  },\n  props: {\n    // Add NcSelect prop defaults and populate $props\n    ...NcSelect.props,\n    /**\n     * Enable automatic fetching of tags\n     *\n     * If `false`, available tags must be passed using the `options` prop\n     */\n    fetchTags: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Callback to generate the label text\n     *\n     * @see https://vue-select.org/api/props.html#getoptionlabel\n     */\n    getOptionLabel: {\n      type: Function,\n      default: (option) => {\n        const { displayName, userVisible, userAssignable } = option;\n        if (userVisible === false) {\n          return t(\"{tag} (invisible)\", { tag: displayName });\n        }\n        if (userAssignable === false) {\n          return t(\"{tag} (restricted)\", { tag: displayName });\n        }\n        return displayName;\n      }\n    },\n    /**\n     * Sets the maximum number of tags to display in the dropdown list\n     *\n     * Because of compatibility reasons only 5 tag entries are shown by\n     * default\n     */\n    limit: {\n      type: Number,\n      default: 5\n    },\n    /**\n     * Allow selection of multiple options\n     *\n     * This prop automatically sets the internal `closeOnSelect` prop to\n     * its boolean opposite\n     *\n     * @see https://vue-select.org/api/props.html#multiple\n     */\n    multiple: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Callback to filter available options\n     */\n    optionsFilter: {\n      type: Function,\n      default: null\n    },\n    /**\n     * Enable passing of `value` prop and emitted `input` events as-is\n     * i.e. for usage with `v-model`\n     *\n     * If `true`, custom internal `value` and `input` handling is disabled\n     */\n    passthru: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Placeholder text\n     *\n     * @see https://vue-select.org/api/props.html#placeholder\n     */\n    placeholder: {\n      type: String,\n      default: t(\"Select a tag\")\n    },\n    /**\n     * Currently selected value\n     */\n    modelValue: {\n      type: [Number, Array, Object],\n      default: null\n    },\n    /**\n     * Any available prop\n     *\n     * @see https://vue-select.org/api/props.html\n     */\n    // Not an actual prop but needed to show in vue-styleguidist docs\n    // eslint-disable-next-line\n    \" \": {}\n  },\n  emits: [\n    \"update:modelValue\",\n    /**\n     * All events from https://vue-select.org/api/events.html\n     */\n    // Not an actual event but needed to show in vue-styleguidist docs\n    \" \"\n  ],\n  data() {\n    return {\n      search: \"\",\n      availableTags: []\n    };\n  },\n  computed: {\n    availableOptions() {\n      if (this.optionsFilter) {\n        return this.tags.filter(this.optionsFilter);\n      }\n      return this.tags;\n    },\n    localValue() {\n      if (this.passthru) {\n        return this.modelValue;\n      }\n      if (this.tags.length === 0) {\n        return [];\n      }\n      if (this.multiple) {\n        return this.modelValue.filter((tag) => tag !== \"\").map((id) => this.tags.find((tag2) => tag2.id === id));\n      } else {\n        return this.tags.find((tag) => tag.id === this.modelValue);\n      }\n    },\n    propsToForward() {\n      const propsToForward = { ...this.$props };\n      delete propsToForward.fetchTags;\n      delete propsToForward.optionsFilter;\n      delete propsToForward.passthru;\n      return propsToForward;\n    },\n    tags() {\n      if (!this.fetchTags) {\n        return this.options;\n      }\n      return this.availableTags;\n    }\n  },\n  async created() {\n    if (!this.fetchTags) {\n      return;\n    }\n    try {\n      const result = await searchTags();\n      this.availableTags = result;\n    } catch (error) {\n      logger.error(\"[NcSelectTags] Loading systemtags failed\", error);\n    }\n  },\n  methods: {\n    handleInput(value) {\n      if (this.passthru) {\n        this.$emit(\"update:modelValue\", value);\n        return;\n      }\n      if (this.multiple) {\n        this.$emit(\"update:modelValue\", value.map((element) => element.id));\n      } else {\n        if (value === null) {\n          this.$emit(\"update:modelValue\", null);\n        } else {\n          this.$emit(\"update:modelValue\", value.id);\n        }\n      }\n    }\n  }\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcEllipsisedOption = resolveComponent(\"NcEllipsisedOption\");\n  const _component_NcSelect = resolveComponent(\"NcSelect\");\n  return openBlock(), createBlock(_component_NcSelect, mergeProps($options.propsToForward, {\n    options: $options.availableOptions,\n    \"close-on-select\": !$props.multiple,\n    \"model-value\": $options.localValue,\n    onSearch: _cache[0] || (_cache[0] = ($event) => $data.search = $event),\n    \"onUpdate:modelValue\": $options.handleInput\n  }), createSlots({\n    option: withCtx((option) => [\n      createVNode(_component_NcEllipsisedOption, {\n        name: $props.getOptionLabel(option),\n        search: $data.search\n      }, null, 8, [\"name\", \"search\"])\n    ]),\n    \"selected-option\": withCtx((selectedOption) => [\n      createVNode(_component_NcEllipsisedOption, {\n        name: $props.getOptionLabel(selectedOption),\n        search: $data.search\n      }, null, 8, [\"name\", \"search\"])\n    ]),\n    _: 2\n  }, [\n    renderList(_ctx.$slots, (_, name) => {\n      return {\n        name,\n        fn: withCtx((data) => [\n          renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n        ])\n      };\n    })\n  ]), 1040, [\"options\", \"close-on-select\", \"model-value\", \"onUpdate:modelValue\"]);\n}\nconst NcSelectTags = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport {\n  NcSelectTags as N\n};\n//# sourceMappingURL=NcSelectTags-Ctd1Tqch.mjs.map\n","/*!\n * Toastify js 1.12.0\n * https://github.com/apvarun/toastify-js\n * @license MIT licensed\n *\n * Copyright (C) 2018 Varun A P\n */\n(function(root, factory) {\n  if (typeof module === \"object\" && module.exports) {\n    module.exports = factory();\n  } else {\n    root.Toastify = factory();\n  }\n})(this, function(global) {\n  // Object initialization\n  var Toastify = function(options) {\n      // Returning a new init object\n      return new Toastify.lib.init(options);\n    },\n    // Library version\n    version = \"1.12.0\";\n\n  // Set the default global options\n  Toastify.defaults = {\n    oldestFirst: true,\n    text: \"Toastify is awesome!\",\n    node: undefined,\n    duration: 3000,\n    selector: undefined,\n    callback: function () {\n    },\n    destination: undefined,\n    newWindow: false,\n    close: false,\n    gravity: \"toastify-top\",\n    positionLeft: false,\n    position: '',\n    backgroundColor: '',\n    avatar: \"\",\n    className: \"\",\n    stopOnFocus: true,\n    onClick: function () {\n    },\n    offset: {x: 0, y: 0},\n    escapeMarkup: true,\n    ariaLive: 'polite',\n    style: {background: ''}\n  };\n\n  // Defining the prototype of the object\n  Toastify.lib = Toastify.prototype = {\n    toastify: version,\n\n    constructor: Toastify,\n\n    // Initializing the object with required parameters\n    init: function(options) {\n      // Verifying and validating the input object\n      if (!options) {\n        options = {};\n      }\n\n      // Creating the options object\n      this.options = {};\n\n      this.toastElement = null;\n\n      // Validating the options\n      this.options.text = options.text || Toastify.defaults.text; // Display message\n      this.options.node = options.node || Toastify.defaults.node;  // Display content as node\n      this.options.duration = options.duration === 0 ? 0 : options.duration || Toastify.defaults.duration; // Display duration\n      this.options.selector = options.selector || Toastify.defaults.selector; // Parent selector\n      this.options.callback = options.callback || Toastify.defaults.callback; // Callback after display\n      this.options.destination = options.destination || Toastify.defaults.destination; // On-click destination\n      this.options.newWindow = options.newWindow || Toastify.defaults.newWindow; // Open destination in new window\n      this.options.close = options.close || Toastify.defaults.close; // Show toast close icon\n      this.options.gravity = options.gravity === \"bottom\" ? \"toastify-bottom\" : Toastify.defaults.gravity; // toast position - top or bottom\n      this.options.positionLeft = options.positionLeft || Toastify.defaults.positionLeft; // toast position - left or right\n      this.options.position = options.position || Toastify.defaults.position; // toast position - left or right\n      this.options.backgroundColor = options.backgroundColor || Toastify.defaults.backgroundColor; // toast background color\n      this.options.avatar = options.avatar || Toastify.defaults.avatar; // img element src - url or a path\n      this.options.className = options.className || Toastify.defaults.className; // additional class names for the toast\n      this.options.stopOnFocus = options.stopOnFocus === undefined ? Toastify.defaults.stopOnFocus : options.stopOnFocus; // stop timeout on focus\n      this.options.onClick = options.onClick || Toastify.defaults.onClick; // Callback after click\n      this.options.offset = options.offset || Toastify.defaults.offset; // toast offset\n      this.options.escapeMarkup = options.escapeMarkup !== undefined ? options.escapeMarkup : Toastify.defaults.escapeMarkup;\n      this.options.ariaLive = options.ariaLive || Toastify.defaults.ariaLive;\n      this.options.style = options.style || Toastify.defaults.style;\n      if(options.backgroundColor) {\n        this.options.style.background = options.backgroundColor;\n      }\n\n      // Returning the current object for chaining functions\n      return this;\n    },\n\n    // Building the DOM element\n    buildToast: function() {\n      // Validating if the options are defined\n      if (!this.options) {\n        throw \"Toastify is not initialized\";\n      }\n\n      // Creating the DOM object\n      var divElement = document.createElement(\"div\");\n      divElement.className = \"toastify on \" + this.options.className;\n\n      // Positioning toast to left or right or center\n      if (!!this.options.position) {\n        divElement.className += \" toastify-\" + this.options.position;\n      } else {\n        // To be depreciated in further versions\n        if (this.options.positionLeft === true) {\n          divElement.className += \" toastify-left\";\n          console.warn('Property `positionLeft` will be depreciated in further versions. Please use `position` instead.')\n        } else {\n          // Default position\n          divElement.className += \" toastify-right\";\n        }\n      }\n\n      // Assigning gravity of element\n      divElement.className += \" \" + this.options.gravity;\n\n      if (this.options.backgroundColor) {\n        // This is being deprecated in favor of using the style HTML DOM property\n        console.warn('DEPRECATION NOTICE: \"backgroundColor\" is being deprecated. Please use the \"style.background\" property.');\n      }\n\n      // Loop through our style object and apply styles to divElement\n      for (var property in this.options.style) {\n        divElement.style[property] = this.options.style[property];\n      }\n\n      // Announce the toast to screen readers\n      if (this.options.ariaLive) {\n        divElement.setAttribute('aria-live', this.options.ariaLive)\n      }\n\n      // Adding the toast message/node\n      if (this.options.node && this.options.node.nodeType === Node.ELEMENT_NODE) {\n        // If we have a valid node, we insert it\n        divElement.appendChild(this.options.node)\n      } else {\n        if (this.options.escapeMarkup) {\n          divElement.innerText = this.options.text;\n        } else {\n          divElement.innerHTML = this.options.text;\n        }\n\n        if (this.options.avatar !== \"\") {\n          var avatarElement = document.createElement(\"img\");\n          avatarElement.src = this.options.avatar;\n\n          avatarElement.className = \"toastify-avatar\";\n\n          if (this.options.position == \"left\" || this.options.positionLeft === true) {\n            // Adding close icon on the left of content\n            divElement.appendChild(avatarElement);\n          } else {\n            // Adding close icon on the right of content\n            divElement.insertAdjacentElement(\"afterbegin\", avatarElement);\n          }\n        }\n      }\n\n      // Adding a close icon to the toast\n      if (this.options.close === true) {\n        // Create a span for close element\n        var closeElement = document.createElement(\"button\");\n        closeElement.type = \"button\";\n        closeElement.setAttribute(\"aria-label\", \"Close\");\n        closeElement.className = \"toast-close\";\n        closeElement.innerHTML = \"&#10006;\";\n\n        // Triggering the removal of toast from DOM on close click\n        closeElement.addEventListener(\n          \"click\",\n          function(event) {\n            event.stopPropagation();\n            this.removeElement(this.toastElement);\n            window.clearTimeout(this.toastElement.timeOutValue);\n          }.bind(this)\n        );\n\n        //Calculating screen width\n        var width = window.innerWidth > 0 ? window.innerWidth : screen.width;\n\n        // Adding the close icon to the toast element\n        // Display on the right if screen width is less than or equal to 360px\n        if ((this.options.position == \"left\" || this.options.positionLeft === true) && width > 360) {\n          // Adding close icon on the left of content\n          divElement.insertAdjacentElement(\"afterbegin\", closeElement);\n        } else {\n          // Adding close icon on the right of content\n          divElement.appendChild(closeElement);\n        }\n      }\n\n      // Clear timeout while toast is focused\n      if (this.options.stopOnFocus && this.options.duration > 0) {\n        var self = this;\n        // stop countdown\n        divElement.addEventListener(\n          \"mouseover\",\n          function(event) {\n            window.clearTimeout(divElement.timeOutValue);\n          }\n        )\n        // add back the timeout\n        divElement.addEventListener(\n          \"mouseleave\",\n          function() {\n            divElement.timeOutValue = window.setTimeout(\n              function() {\n                // Remove the toast from DOM\n                self.removeElement(divElement);\n              },\n              self.options.duration\n            )\n          }\n        )\n      }\n\n      // Adding an on-click destination path\n      if (typeof this.options.destination !== \"undefined\") {\n        divElement.addEventListener(\n          \"click\",\n          function(event) {\n            event.stopPropagation();\n            if (this.options.newWindow === true) {\n              window.open(this.options.destination, \"_blank\");\n            } else {\n              window.location = this.options.destination;\n            }\n          }.bind(this)\n        );\n      }\n\n      if (typeof this.options.onClick === \"function\" && typeof this.options.destination === \"undefined\") {\n        divElement.addEventListener(\n          \"click\",\n          function(event) {\n            event.stopPropagation();\n            this.options.onClick();\n          }.bind(this)\n        );\n      }\n\n      // Adding offset\n      if(typeof this.options.offset === \"object\") {\n\n        var x = getAxisOffsetAValue(\"x\", this.options);\n        var y = getAxisOffsetAValue(\"y\", this.options);\n\n        var xOffset = this.options.position == \"left\" ? x : \"-\" + x;\n        var yOffset = this.options.gravity == \"toastify-top\" ? y : \"-\" + y;\n\n        divElement.style.transform = \"translate(\" + xOffset + \",\" + yOffset + \")\";\n\n      }\n\n      // Returning the generated element\n      return divElement;\n    },\n\n    // Displaying the toast\n    showToast: function() {\n      // Creating the DOM object for the toast\n      this.toastElement = this.buildToast();\n\n      // Getting the root element to with the toast needs to be added\n      var rootElement;\n      if (typeof this.options.selector === \"string\") {\n        rootElement = document.getElementById(this.options.selector);\n      } else if (this.options.selector instanceof HTMLElement || (typeof ShadowRoot !== 'undefined' && this.options.selector instanceof ShadowRoot)) {\n        rootElement = this.options.selector;\n      } else {\n        rootElement = document.body;\n      }\n\n      // Validating if root element is present in DOM\n      if (!rootElement) {\n        throw \"Root element is not defined\";\n      }\n\n      // Adding the DOM element\n      var elementToInsert = Toastify.defaults.oldestFirst ? rootElement.firstChild : rootElement.lastChild;\n      rootElement.insertBefore(this.toastElement, elementToInsert);\n\n      // Repositioning the toasts in case multiple toasts are present\n      Toastify.reposition();\n\n      if (this.options.duration > 0) {\n        this.toastElement.timeOutValue = window.setTimeout(\n          function() {\n            // Remove the toast from DOM\n            this.removeElement(this.toastElement);\n          }.bind(this),\n          this.options.duration\n        ); // Binding `this` for function invocation\n      }\n\n      // Supporting function chaining\n      return this;\n    },\n\n    hideToast: function() {\n      if (this.toastElement.timeOutValue) {\n        clearTimeout(this.toastElement.timeOutValue);\n      }\n      this.removeElement(this.toastElement);\n    },\n\n    // Removing the element from the DOM\n    removeElement: function(toastElement) {\n      // Hiding the element\n      // toastElement.classList.remove(\"on\");\n      toastElement.className = toastElement.className.replace(\" on\", \"\");\n\n      // Removing the element from DOM after transition end\n      window.setTimeout(\n        function() {\n          // remove options node if any\n          if (this.options.node && this.options.node.parentNode) {\n            this.options.node.parentNode.removeChild(this.options.node);\n          }\n\n          // Remove the element from the DOM, only when the parent node was not removed before.\n          if (toastElement.parentNode) {\n            toastElement.parentNode.removeChild(toastElement);\n          }\n\n          // Calling the callback function\n          this.options.callback.call(toastElement);\n\n          // Repositioning the toasts again\n          Toastify.reposition();\n        }.bind(this),\n        400\n      ); // Binding `this` for function invocation\n    },\n  };\n\n  // Positioning the toasts on the DOM\n  Toastify.reposition = function() {\n\n    // Top margins with gravity\n    var topLeftOffsetSize = {\n      top: 15,\n      bottom: 15,\n    };\n    var topRightOffsetSize = {\n      top: 15,\n      bottom: 15,\n    };\n    var offsetSize = {\n      top: 15,\n      bottom: 15,\n    };\n\n    // Get all toast messages on the DOM\n    var allToasts = document.getElementsByClassName(\"toastify\");\n\n    var classUsed;\n\n    // Modifying the position of each toast element\n    for (var i = 0; i < allToasts.length; i++) {\n      // Getting the applied gravity\n      if (containsClass(allToasts[i], \"toastify-top\") === true) {\n        classUsed = \"toastify-top\";\n      } else {\n        classUsed = \"toastify-bottom\";\n      }\n\n      var height = allToasts[i].offsetHeight;\n      classUsed = classUsed.substr(9, classUsed.length-1)\n      // Spacing between toasts\n      var offset = 15;\n\n      var width = window.innerWidth > 0 ? window.innerWidth : screen.width;\n\n      // Show toast in center if screen with less than or equal to 360px\n      if (width <= 360) {\n        // Setting the position\n        allToasts[i].style[classUsed] = offsetSize[classUsed] + \"px\";\n\n        offsetSize[classUsed] += height + offset;\n      } else {\n        if (containsClass(allToasts[i], \"toastify-left\") === true) {\n          // Setting the position\n          allToasts[i].style[classUsed] = topLeftOffsetSize[classUsed] + \"px\";\n\n          topLeftOffsetSize[classUsed] += height + offset;\n        } else {\n          // Setting the position\n          allToasts[i].style[classUsed] = topRightOffsetSize[classUsed] + \"px\";\n\n          topRightOffsetSize[classUsed] += height + offset;\n        }\n      }\n    }\n\n    // Supporting function chaining\n    return this;\n  };\n\n  // Helper function to get offset.\n  function getAxisOffsetAValue(axis, options) {\n\n    if(options.offset[axis]) {\n      if(isNaN(options.offset[axis])) {\n        return options.offset[axis];\n      }\n      else {\n        return options.offset[axis] + 'px';\n      }\n    }\n\n    return '0px';\n\n  }\n\n  function containsClass(elem, yourClass) {\n    if (!elem || typeof yourClass !== \"string\") {\n      return false;\n    } else if (\n      elem.className &&\n      elem.className\n        .trim()\n        .split(/\\s+/gi)\n        .indexOf(yourClass) > -1\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // Setting up the prototype for the init object\n  Toastify.lib.init.prototype = Toastify.lib;\n\n  // Returning the Toastify function to be assigned to the window object/module\n  return Toastify;\n});\n"],"file":"common-JQNqxhkS.chunk.mjs"}