import{R as $}from"./NcNoteCard-CVhtNL04-CdF6Qoal.chunk.mjs";import{N as U}from"./NcAvatar-DmUGApWA-CXNETfXS.chunk.mjs";import{z as k}from"./index-dSOqvlAc.chunk.mjs";import{_ as y}from"./createElementId-DhjFt1I9-Bjk2333q.chunk.mjs";import{b as x,q as c,s as R,v as B,c as b,o as l,w as o,m as i,L as f,p as s,z as L,e as S,k as j,j as _,l as q,N as C,t as H,ad as M}from"./runtime-dom.esm-bundler-DSTOTAEf.chunk.mjs";const W={};function A(r,n){return l(),_("div",null,[i(r.$slots,"trigger")])}const D=y(W,[["render",A]]),E={class:"user-bubble__name"},F={key:0,class:"user-bubble__secondary"},G=x({__name:"NcUserBubble",props:c({avatarImage:{default:void 0},user:{default:void 0},displayName:{default:void 0},showUserStatus:{type:Boolean},url:{default:void 0},to:{default:void 0},primary:{type:Boolean},size:{default:20},margin:{default:2}},{open:{type:Boolean},openModifiers:{}}),emits:c(["click"],["update:open"]),setup(r,{emit:n}){const d=R(r,"open"),e=r,g=n,p=s(()=>{if(!e.avatarImage)return!1;try{return!!new URL(e.avatarImage)}catch{return!1}}),m=s(()=>!!e.avatarImage),h=s(()=>({marginInlineStart:`${e.margin}px`})),v=s(()=>{if(!e.url||e.url.trim()==="")return!1;try{return!!new URL(e.url,e.url?.startsWith?.("/")?window.location.href:void 0)}catch{return M("[NcUserBubble] Invalid URL passed",{url:e.url}),!1}}),w=s(()=>v.value?e.url:void 0),N=s(()=>v.value?"a":e.to?$:"div"),z=s(()=>({height:`${e.size}px`,lineHeight:`${e.size}px`,borderRadius:`${e.size/2}px`}));return B([()=>e.displayName,()=>e.user],()=>{!e.displayName&&e.user}),(a,t)=>(l(),b(f(a.$slots.default?k:D),{shown:d.value,"onUpdate:shown":t[1]||(t[1]=u=>d.value=u),class:"user-bubble__wrapper",trigger:"hover focus"},{trigger:o(({attrs:u})=>[(l(),b(f(N.value),L({class:["user-bubble__content",{"user-bubble__content--primary":a.primary}],style:z.value,to:a.to,href:w.value},u,{onClick:t[0]||(t[0]=I=>g("click",I))}),{default:o(()=>[S(U,{url:m.value&&p.value?a.avatarImage:void 0,"icon-class":m.value&&!p.value?a.avatarImage:void 0,user:a.user,"display-name":a.displayName,size:a.size-a.margin*2,style:C(h.value),"disable-tooltip":!0,"disable-menu":!0,"hide-status":!a.showUserStatus,class:"user-bubble__avatar"},null,8,["url","icon-class","user","display-name","size","style","hide-status"]),j("span",E,H(a.displayName||a.user),1),a.$slots.name?(l(),_("span",F,[i(a.$slots,"name",{},void 0,!0)])):q("",!0)]),_:2},1040,["class","style","to","href"]))]),default:o(()=>[i(a.$slots,"default",{},void 0,!0)]),_:3},40,["shown"]))}}),Q=y(G,[["__scopeId","data-v-ad356e41"]]);export{Q as N};
//# sourceMappingURL=NcUserBubble-DPAmU2_J-B1LWM_Di.chunk.mjs.map
