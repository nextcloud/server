/*! For license information please see files-init.js.LICENSE.txt */
(()=>{var e,n,i,r={34507:(e,n,i)=>{"use strict";var r=i(5656),o=i(69183),a=i(31352),s=i(93664),l=i(17499);const d=(0,l.IY)().setApp("files").detectUser().build(),c=new r.p$({id:"delete",displayName:(e,t)=>"trashbin"===t.id?(0,a.Iu)("files","Delete permanently"):(0,a.Iu)("files","Delete"),iconSvgInline:()=>'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-trash-can" viewBox="0 0 24 24"><path d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z" /></svg>',enabled:e=>e.length>0&&e.map((e=>e.permissions)).every((e=>0!=(e&r.y3.DELETE))),async exec(e){try{return await s.Z.delete(e.encodedSource),(0,o.j8)("files:node:deleted",e),!0}catch(t){return d.error("Error while deleting a file",{error:t,source:e.source,node:e}),!1}},async execBatch(e,t,n){return Promise.all(e.map((e=>this.exec(e,t,n))))},order:100});var u=i(79753);const p=function(e){const t=document.createElement("a");t.download="",t.href=e,t.click()},f=function(e,t){const n=Math.random().toString(36).substring(2),i=(0,u.generateUrl)("/apps/files/ajax/download.php?dir={dir}&files={files}&downloadStartSecret={secret}",{dir:e,secret:n,files:JSON.stringify(t.map((e=>e.basename)))});p(i)},h=function(e){if(0==(e.permissions&r.y3.READ))return!1;if("shared"===e.attributes["mount-type"]){const t=JSON.parse(e.attributes["share-attributes"]).find((e=>"permissions"===e.scope&&"download"===e.key));if(void 0!==t&&!1===t.enabled)return!1}return!0},A=new r.p$({id:"download",displayName:()=>(0,a.Iu)("files","Download"),iconSvgInline:()=>'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-arrow-down" viewBox="0 0 24 24"><path d="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z" /></svg>',enabled:e=>0!==e.length&&(!e.some((e=>e.type===r.Tv.Folder))||!e.some((e=>!e.root?.startsWith("/files"))))&&e.every(h),exec:async(e,t,n)=>e.type===r.Tv.Folder?(f(n,[e]),null):(p(e.encodedSource),null),async execBatch(e,t,n){return 1===e.length?(this.exec(e[0],t,n),[null]):(f(n,e),new Array(e.length).fill(null))},order:30});var g=i(65358),m=i(77958),w=i(64024);const v=new r.p$({id:"edit-locally",displayName:()=>(0,a.Iu)("files","Edit locally"),iconSvgInline:()=>'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-laptop" viewBox="0 0 24 24"><path d="M4,6H20V16H4M20,18A2,2 0 0,0 22,16V6C22,4.89 21.1,4 20,4H4C2.89,4 2,4.89 2,6V16A2,2 0 0,0 4,18H0V20H24V18H20Z" /></svg>',enabled:e=>1===e.length&&0!=(e[0].permissions&r.y3.UPDATE),exec:async e=>(async function(e){const t=(0,u.generateOcsUrl)("apps/files/api/v1")+"/openlocaleditor?format=json";try{const n=await s.Z.post(t,{path:e}),i=(0,m.ts)()?.uid;let r=`nc://open/${i}@`+window.location.host+(0,g.Ec)(e);r+="?token="+n.data.ocs.data.token,window.location.href=r}catch(e){(0,w.x2)((0,a.Iu)("files","Failed to redirect to client"))}}(e.path),null),order:25});var y=i(20144);const b='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-star" viewBox="0 0 24 24"><path d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z" /></svg>',C=e=>e.some((e=>1!==e.attributes.favorite)),x=async(e,t,n)=>{try{const i=(0,u.generateUrl)("/apps/files/api/v1/files")+(0,g.Ec)(e.path);return await s.Z.post(i,{tags:n?[window.OC.TAG_FAVORITE]:[]}),"favorites"!==t.id||n||"/"!==e.dirname||(0,o.j8)("files:node:deleted",e),y.default.set(e.attributes,"favorite",n?1:0),n?(0,o.j8)("files:favorites:added",e):(0,o.j8)("files:favorites:removed",e),!0}catch(t){const i=n?"adding a file to favourites":"removing a file from favourites";return d.error("Error while "+i,{error:t,source:e.source,node:e}),!1}},E=new r.p$({id:"favorite",displayName:e=>C(e)?(0,a.Iu)("files","Add to favorites"):(0,a.Iu)("files","Remove from favorites"),iconSvgInline:e=>C(e)?'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-star-outline" viewBox="0 0 24 24"><path d="M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z" /></svg>':b,enabled:e=>!e.some((e=>!e.root?.startsWith?.("/files")))&&e.every((e=>e.permissions!==r.y3.NONE)),async exec(e,t){const n=C([e]);return await x(e,t,n)},async execBatch(e,t){const n=C(e);return Promise.all(e.map((async e=>await x(e,t,n))))},order:-50});var _=i(93379),k=i.n(_),B=i(7795),T=i.n(B),N=i(90569),O=i.n(N),I=i(3565),P=i.n(I),S=i(19216),R=i.n(S),L=i(44589),j=i.n(L),D=i(51473),$={};$.styleTagTransform=j(),$.setAttributes=P(),$.insert=O().bind(null,"head"),$.domAPI=T(),$.insertStyleElement=R(),k()(D.Z,$),D.Z&&D.Z.locals&&D.Z.locals;var M=i(51120);const{Axios:F,AxiosError:V,CanceledError:U,isCancel:H,CancelToken:q,VERSION:z,all:Y,Cancel:W,isAxiosError:G,spread:Z,toFormData:X,AxiosHeaders:K,HttpStatusCode:J,formToJSON:Q,getAdapter:ee,mergeConfig:te}=M.default;var ne=i(62520),ie=i(59546),re=i(96384),oe=i(59440);let ae;const se=()=>(ae||(ae=new oe.Z({concurrency:3})),ae);var le;!function(e){e.MOVE="Move",e.COPY="Copy",e.MOVE_OR_COPY="move-or-copy"}(le||(le={}));const de=e=>0!=(e.reduce(((e,t)=>Math.min(e,t.permissions)),r.y3.ALL)&r.y3.UPDATE),ce=e=>(e=>e.every((e=>!JSON.parse(e.attributes?.["share-attributes"]??"[]").some((e=>"permissions"===e.scope&&!1===e.enabled&&"download"===e.key)))))(e),ue=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>`(${e})`,i=e,r=1;for(;t.includes(i);){const t=(0,ne.extname)(e);i=`${(0,ne.basename)(e,t)} ${n(r++)}${t}`}return i},pe=e=>de(e)?ce(e)?le.MOVE_OR_COPY:le.MOVE:le.COPY,fe=async function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return;if(t.type!==r.Tv.Folder)throw new Error((0,a.Iu)("files","Destination is not a folder"));if(n===le.MOVE&&e.dirname===t.path)throw new Error((0,a.Iu)("files","This file/folder is already in that directory"));if(`${t.path}/`.startsWith(`${e.path}/`))throw new Error((0,a.Iu)("files","You cannot move a file/folder onto itself or into a subfolder of itself"));y.default.set(e,"status",r.e4.LOADING);const s=se();return await s.add((async()=>{const s=e=>1===e?(0,a.Iu)("files","(copy)"):(0,a.Iu)("files","(copy %n)",void 0,e);try{const a=(0,r.rp)(),l=(0,ne.join)(r._o,e.path),d=(0,ne.join)(r._o,t.path);if(n===le.COPY){let n=e.basename;if(!i){const t=await a.getDirectoryContents(d);n=ue(e.basename,t.map((e=>e.basename)),s)}if(await a.copyFile(l,(0,ne.join)(d,n)),e.dirname===t.path){const{data:e}=await a.stat((0,ne.join)(d,n),{details:!0,data:(0,r.h7)()});(0,o.j8)("files:node:created",(0,r.RL)(e))}}else await a.moveFile(l,(0,ne.join)(d,e.basename)),(0,o.j8)("files:node:deleted",e)}catch(e){if(e instanceof V){if(412===e?.response?.status)throw new Error((0,a.Iu)("files","A file or folder with that name already exists in this folder"));if(423===e?.response?.status)throw new Error((0,a.Iu)("files","The files is locked"));if(404===e?.response?.status)throw new Error((0,a.Iu)("files","The file does not exist anymore"));if(e.message)throw new Error(e.message)}throw d.debug(e),new Error}finally{y.default.set(e,"status",void 0)}}))},he=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2?arguments[2]:void 0;const i=n.map((e=>e.fileid)).filter(Boolean),o=(0,w.fn)((0,a.Iu)("files","Choose destination")).allowDirectories(!0).setFilter((e=>0!=(e.permissions&r.y3.CREATE)&&!i.includes(e.fileid))).setMimeTypeFilter([]).setMultiSelect(!1).startAt(t);return new Promise(((t,i)=>{o.setButtonFactory(((i,r)=>{const o=[],s=(0,ne.basename)(r),l=n.map((e=>e.dirname)),d=n.map((e=>e.path));return e!==le.COPY&&e!==le.MOVE_OR_COPY||o.push({label:s?(0,a.Iu)("files","Copy to {target}",{target:s}):(0,a.Iu)("files","Copy"),type:"primary",icon:ie,async callback(e){t({destination:e[0],action:le.COPY})}}),l.includes(r)||d.includes(r)||e!==le.MOVE&&e!==le.MOVE_OR_COPY||o.push({label:s?(0,a.Iu)("files","Move to {target}",{target:s}):(0,a.Iu)("files","Move"),type:e===le.MOVE?"primary":"secondary",icon:re,async callback(e){t({destination:e[0],action:le.MOVE})}}),o})),o.build().pick().catch((e=>{d.debug(e),e instanceof w.Pq?i(new Error((0,a.Iu)("files","Cancelled move or copy operation"))):i(new Error((0,a.Iu)("files","Move or copy operation failed")))}))}))},Ae=new r.p$({id:"move-copy",displayName(e){switch(pe(e)){case le.MOVE:return(0,a.Iu)("files","Move");case le.COPY:return(0,a.Iu)("files","Copy");case le.MOVE_OR_COPY:return(0,a.Iu)("files","Move or copy")}},iconSvgInline:()=>re,enabled:e=>!!e.every((e=>e.root?.startsWith("/files/")))&&e.length>0&&(de(e)||ce(e)),async exec(e,t,n){const i=pe([e]);let r;try{r=await he(i,n,[e])}catch(e){return d.error(e),!1}try{return await fe(e,r.destination,r.action),!0}catch(e){return!!(e instanceof Error&&e.message)&&((0,w.x2)(e.message),null)}},async execBatch(e,t,n){const i=pe(e),r=await he(i,n,e),o=e.map((async e=>{try{return await fe(e,r.destination,r.action),!0}catch(t){return d.error(`Failed to ${r.action} node`,{node:e,error:t}),!1}}));return await Promise.all(o)},order:15}),ge='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder" viewBox="0 0 24 24"><path d="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z" /></svg>',me=new r.p$({id:"open-folder",displayName(e){const t=e[0].attributes.displayName||e[0].basename;return(0,a.Iu)("files","Open folder {displayName}",{displayName:t})},iconSvgInline:()=>ge,enabled(e){if(1!==e.length)return!1;const t=e[0];return!!t.isDavRessource&&t.type===r.Tv.Folder&&0!=(t.permissions&r.y3.READ)},exec:async(e,t)=>!(!e||e.type!==r.Tv.Folder)&&(window.OCP.Files.Router.goToRoute(null,{view:t.id,fileid:e.fileid},{dir:e.path}),null),default:r.DT.HIDDEN,order:-100}),we=new r.p$({id:"open-in-files-recent",displayName:()=>(0,a.Iu)("files","Open in Files"),iconSvgInline:()=>"",enabled:(e,t)=>"recent"===t.id,async exec(e){let t=e.dirname;return e.type===r.Tv.Folder&&(t=t+"/"+e.basename),window.OCP.Files.Router.goToRoute(null,{view:"files",fileid:e.fileid},{dir:t}),null},order:-1e3,default:r.DT.HIDDEN}),ve=new r.p$({id:"rename",displayName:()=>(0,a.Iu)("files","Rename"),iconSvgInline:()=>'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-pencil" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>',enabled:e=>e.length>0&&e.map((e=>e.permissions)).every((e=>0!=(e&r.y3.UPDATE))),exec:async e=>((0,o.j8)("files:node:rename",e),null),order:10});var ye=i(48250);const be=new r.p$({id:"details",displayName:()=>(0,a.Iu)("files","Open details"),iconSvgInline:()=>ye,enabled:e=>1===e.length&&!!e[0]&&!!window?.OCA?.Files?.Sidebar&&((e[0].root?.startsWith("/files/")&&e[0].permissions!==r.y3.NONE)??!1),async exec(e,t,n){try{return await window.OCA.Files.Sidebar.open(e.path),window.OCP.Files.Router.goToRoute(null,{view:t.id,fileid:e.fileid},{dir:n},!0),null}catch(e){return d.error("Error while opening sidebar",{error:e}),!1}},order:-50}),Ce=new r.p$({id:"view-in-folder",displayName:()=>(0,a.Iu)("files","View in folder"),iconSvgInline:()=>re,enabled(e,t){if("files"===t.id)return!1;if(1!==e.length)return!1;const n=e[0];return!!n.isDavRessource&&n.permissions!==r.y3.NONE&&n.type===r.Tv.File},exec:async e=>!(!e||e.type!==r.Tv.File)&&(window.OCP.Files.Router.goToRoute(null,{view:"files",fileid:e.fileid},{dir:e.dirname}),null),order:80}),xe={id:"newFolder",displayName:(0,a.Iu)("files","New folder"),enabled:e=>0!=(e.permissions&r.y3.CREATE),iconSvgInline:'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-plus" viewBox="0 0 24 24"><path d="M13 19C13 19.34 13.04 19.67 13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.89 4 4 4H10L12 6H20C21.1 6 22 6.89 22 8V13.81C21.12 13.3 20.1 13 19 13C15.69 13 13 15.69 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z" /></svg>',order:0,async handler(e,t){const n=t.map((e=>e.basename)),i=ue((0,a.Iu)("files","New folder"),n),{fileid:l,source:c}=await(async(e,t)=>{const n=e.source+"/"+t,i=e.encodedSource+"/"+encodeURIComponent(t),r=await(0,s.Z)({method:"MKCOL",url:i,headers:{Overwrite:"F"}});return{fileid:parseInt(r.headers["oc-fileid"]),source:n}})(e,i),u=new r.gt({source:c,id:l,mtime:new Date,owner:(0,m.ts)()?.uid||null,permissions:r.y3.ALL,root:e?.root||"/files/"+(0,m.ts)()?.uid});(0,w.s$)((0,a.Iu)("files",'Created new folder "{name}"',{name:(0,ne.basename)(c)})),d.debug("Created new folder",{folder:u,source:c}),(0,o.j8)("files:node:created",u),(0,o.j8)("files:node:rename",u)}};var Ee=i(43554),_e=i(14596),ke=i(8501),Be=i(79267);const Te="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:"undefined"!=typeof window?window:globalThis,Ne=Te.fetch.bind(Te);Te.Headers,Te.Request,Te.Response;const Oe="@@HOTPATCHER",Ie=()=>{};function Pe(e){return{original:e,methods:[e],final:!1}}class Se{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=Oe}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(e){this.configuration.getEmptyAction=e}control(e,t=!1){if(!e||e.__type__!==Oe)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(e.configuration.registry).forEach((n=>{this.configuration.registry.hasOwnProperty(n)?t&&(this.configuration.registry[n]=Object.assign({},e.configuration.registry[n])):this.configuration.registry[n]=Object.assign({},e.configuration.registry[n])})),e._configuration=this.configuration,this}execute(e,...t){return(this.get(e)||Ie)(...t)}get(e){const t=this.configuration.registry[e];if(!t)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${e}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return function(...e){if(0===e.length)throw new Error("Failed creating sequence: No functions provided");return function(...t){let n=t;const i=this;for(;e.length>0;)n=[e.shift().apply(i,n)];return n[0]}}(...t.methods)}isPatched(e){return!!this.configuration.registry[e]}patch(e,t,n={}){const{chain:i=!1}=n;if(this.configuration.registry[e]&&this.configuration.registry[e].final)throw new Error(`Failed patching '${e}': Method marked as being final`);if("function"!=typeof t)throw new Error(`Failed patching '${e}': Provided method is not a function`);if(i)this.configuration.registry[e]?this.configuration.registry[e].methods.push(t):this.configuration.registry[e]=Pe(t);else if(this.isPatched(e)){const{original:n}=this.configuration.registry[e];this.configuration.registry[e]=Object.assign(Pe(t),{original:n})}else this.configuration.registry[e]=Pe(t);return this}patchInline(e,t,...n){return this.isPatched(e)||this.patch(e,t),this.execute(e,...n)}plugin(e,...t){return t.forEach((t=>{this.patch(e,t,{chain:!0})})),this}restore(e){if(!this.isPatched(e))throw new Error(`Failed restoring method: No method present for key: ${e}`);if("function"!=typeof this.configuration.registry[e].original)throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${e}`);return this.configuration.registry[e].methods=[this.configuration.registry[e].original],this}setFinal(e){if(!this.configuration.registry.hasOwnProperty(e))throw new Error(`Failed marking '${e}' as final: No method found for key`);return this.configuration.registry[e].final=!0,this}}let Re=null;var Le=i(62639),je=i(2568);const De="abcdef0123456789";function $e(e,t){const n=e.url.replace("//",""),i=-1==n.indexOf("/")?"/":n.slice(n.indexOf("/")),r=e.method?e.method.toUpperCase():"GET",o=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",a=`00000000${t.nc}`.slice(-8),s=function(e,t,n,i,r,o,a){const s=a||je(`${t}:${n}:${i}`);return e&&"md5-sess"===e.toLowerCase()?je(`${s}:${r}:${o}`):s}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),l=je(`${r}:${i}`),d=je(o?`${s}:${t.nonce}:${a}:${t.cnonce}:${o}:${l}`:`${s}:${t.nonce}:${l}`),c={username:t.username,realm:t.realm,nonce:t.nonce,uri:i,qop:o,response:d,nc:a,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},u=[];for(const e in c)c[e]&&("qop"===e||"nc"===e||"algorithm"===e?u.push(`${e}=${c[e]}`):u.push(`${e}="${c[e]}"`));return`Digest ${u.join(", ")}`}function Me(e){return function(e){if("object"!=typeof e||null===e||"[object Object]"!=Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e)?Object.assign({},e):Object.setPrototypeOf(Object.assign({},e),Object.getPrototypeOf(e))}function Fe(...e){let t=null,n=[...e];for(;n.length>0;){const e=n.shift();t=t?Ve(t,e):Me(e)}return t}function Ve(e,t){const n=Me(e);return Object.keys(t).forEach((e=>{n.hasOwnProperty(e)?Array.isArray(t[e])?n[e]=Array.isArray(n[e])?[...n[e],...t[e]]:[...t[e]]:"object"==typeof t[e]&&t[e]?n[e]="object"==typeof n[e]&&n[e]?Ve(n[e],t[e]):Me(t[e]):n[e]=t[e]:n[e]=t[e]})),n}function Ue(...e){if(0===e.length)return{};const t={};return e.reduce(((e,n)=>(Object.keys(n).forEach((i=>{const r=i.toLowerCase();t.hasOwnProperty(r)?e[t[r]]=n[i]:(t[r]=i,e[i]=n[i])})),e)),{})}var He=i(42830);const qe="function"==typeof ArrayBuffer,{toString:ze}=Object.prototype;function Ye(e){const t=(Re||(Re=new Se),Re);return t.patchInline("request",(e=>t.patchInline("fetch",Ne,e.url,function(e){let t={};const n={method:e.method};if(e.headers&&(t=Ue(t,e.headers)),void 0!==e.data){const[i,r]=function(e){if(!(0,Le.$)()&&e instanceof He.Readable)return[e,{}];if("string"==typeof e)return[e,{}];if(null!=(t=e)&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))return[e,{}];if(function(e){return qe&&(e instanceof ArrayBuffer||"[object ArrayBuffer]"===ze.call(e))}(e))return[e,{}];if(e&&"object"==typeof e)return[JSON.stringify(e),{"content-type":"application/json"}];var t;throw new Error("Unable to convert request body: Unexpected body type: "+typeof e)}(e.data);n.body=i,t=Ue(t,r)}return e.signal&&(n.signal=e.signal),e.withCredentials&&(n.credentials="include"),(0,Le.$)()||(e.httpAgent||e.httpsAgent)&&(n.agent=t=>"http:"===t.protocol?e.httpAgent||new ke.Agent:e.httpsAgent||new Be.Agent),n.headers=t,n}(e))),e)}const We=`/files/${(0,m.ts)()?.uid}`,Ge=(0,u.generateRemoteUrl)("dav"+We),Ze=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;const t=(0,_e.eI)(e,{headers:{requesttoken:(0,m.IH)()||""}});return(0,_e.lD)().patch("request",(e=>(e.headers?.method&&(e.method=e.headers.method,delete e.headers.method),async function(e){if(!e._digest)return Ye(e);const t=e._digest;delete e._digest,t.hasDigestAuth&&(e=Fe(e,{headers:{Authorization:$e(e,t)}}));const n=await Ye(e);if(401==n.status){if(t.hasDigestAuth=function(e,t){const n=e.headers&&e.headers.get("www-authenticate")||"";if("digest"!==n.split(/\s/)[0].toLowerCase())return!1;const i=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const e=i.exec(n);if(!e)break;t[e[1]]=e[2]||e[3]}return t.nc+=1,t.cnonce=function(){let e="";for(let t=0;t<32;++t)e=`${e}${De[Math.floor(16*Math.random())]}`;return e}(),!0}(n,t),t.hasDigestAuth){e=Fe(e,{headers:{Authorization:$e(e,t)}});const n=await Ye(e);return 401==n.status?t.hasDigestAuth=!1:t.nc++,n}}else t.nc++;return n}(e)))),t};var Xe=i(3443);const Ke=function(e){return e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0)},Je=Ze(),Qe=function(e){const t=e.props,n=(0,r.zu)(t?.permissions),i=t["owner-id"]||(0,m.ts)()?.uid,o=(0,u.generateRemoteUrl)("dav"+We+e.filename),a={id:t?.fileid<0?Ke(o):t?.fileid||0,source:o,mtime:new Date(e.lastmod),mime:e.mime,size:t?.size||0,permissions:n,owner:i,root:We,attributes:{...e,...t,hasPreview:t?.["has-preview"],failed:t?.fileid<0}};return delete a.attributes.props,"file"===e.type?new r.$B(a):new r.gt(a)},et=Ze(),tt=`<?xml version="1.0"?>\n<oc:filter-files ${(0,r.w4)()}>\n\t<d:prop>\n\t\t${(0,r.m0)()}\n\t</d:prop>\n\t<oc:filter-rules>\n\t\t<oc:favorite>1</oc:favorite>\n\t</oc:filter-rules>\n</oc:filter-files>`,nt=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";const t=(0,r.h7)();let n;"/"===e&&(n=await et.stat(e,{details:!0,data:t}));const i=await et.getDirectoryContents(e,{details:!0,data:"/"===e?tt:t,headers:{method:"/"===e?"REPORT":"PROPFIND"},includeSelf:!0}),o=n?.data||i.data[0],a=i.data.filter((t=>t.filename!==e));return{folder:Qe(o),contents:a.map(Qe)}},it=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new r.G7({id:rt(e.path),name:(0,ne.basename)(e.path),icon:ge,order:t,params:{dir:e.path,fileid:e.fileid.toString(),view:"favorites"},parent:"favorites",columns:[],getContents:nt})},rt=function(e){return`favorite-${Ke(e)}`},ot=(0,r.rp)(),at=Math.round(Date.now()/1e3-1209600);var st=i(52506),lt=i(79584);const dt={name:"TemplatePreview",inheritAttrs:!1,props:{basename:{type:String,required:!0},checked:{type:Boolean,default:!1},fileid:{type:[String,Number],required:!0},filename:{type:String,required:!0},previewUrl:{type:String,default:null},hasPreview:{type:Boolean,default:!0},mime:{type:String,required:!0},ratio:{type:Number,default:null}},data:()=>({failedPreview:!1}),computed:{nameWithoutExt(){return this.basename.indexOf(".")>-1?this.basename.split(".").slice(0,-1).join("."):this.basename},id(){return`template-picker-${this.fileid}`},realPreviewUrl(){return this.failedPreview&&this.mimeIcon?this.mimeIcon:this.previewUrl?this.previewUrl:(0,m.ts)()?(0,u.generateUrl)(`/core/preview?fileId=${this.fileid}&x=256&y=256&a=1`):(0,u.generateUrl)(`/apps/files_sharing/publicpreview/${document.getElementById("sharingToken")&&document.getElementById("sharingToken").value}?fileId=${this.fileid}&file=${function(e){const t=(e.startsWith("/")?e:`/${e}`).split("/");let n="";return t.forEach((e=>{""!==e&&(n+="/"+encodeURIComponent(e))})),n}(this.filename)}&x=256&y=256&a=1`)},mimeIcon(){return OC.MimeType.getIconUrl(this.mime)}},methods:{onCheck(){this.$emit("check",this.fileid)},onFailure(){this.failedPreview=!0}}};var ct=i(92246),ut={};ut.styleTagTransform=j(),ut.setAttributes=P(),ut.insert=O().bind(null,"head"),ut.domAPI=T(),ut.insertStyleElement=R(),k()(ct.Z,ut),ct.Z&&ct.Z.locals&&ct.Z.locals;var pt=i(51900);const ft=(0,pt.Z)(dt,(function(){var e=this,t=e._self._c;return t("li",{staticClass:"template-picker__item"},[t("input",{staticClass:"radio",attrs:{id:e.id,type:"radio",name:"template-picker"},domProps:{checked:e.checked},on:{change:e.onCheck}}),e._v(" "),t("label",{staticClass:"template-picker__label",attrs:{for:e.id}},[t("div",{staticClass:"template-picker__preview",class:e.failedPreview?"template-picker__preview--failed":""},[t("img",{staticClass:"template-picker__image",attrs:{src:e.realPreviewUrl,alt:"",draggable:"false"},on:{error:e.onFailure}})]),e._v(" "),t("span",{staticClass:"template-picker__title"},[e._v("\n\t\t\t"+e._s(e.nameWithoutExt)+"\n\t\t")])])])}),[],!1,null,"0859a92c",null).exports,ht=y.default.extend({name:"TemplatePicker",components:{NcEmptyContent:st.Z,NcModal:lt.Z,TemplatePreview:ft},props:{logger:{type:Object,required:!0}},data:()=>({checked:-1,loading:!1,name:null,opened:!1,provider:null}),computed:{extension(){return(0,ne.extname)(this.name)},nameWithoutExt(){return this.extension?this.name.slice(0,0-this.extension.length):this.name},emptyTemplate(){return{basename:t("files","Blank"),fileid:-1,filename:this.t("files","Blank"),hasPreview:!1,mime:this.provider?.mimetypes[0]||this.provider?.mimetypes}},selectedTemplate(){return this.provider?this.provider.templates.find((e=>e.fileid===this.checked)):null},style(){if(!this.provider)return{};const e=(this.provider.ratio?this.provider.ratio:1.77)>1?240:160;return{"--margin":"8px","--width":e+"px","--border":"2px","--fullwidth":e+16+4+"px","--height":this.provider.ratio?Math.round(e/this.provider.ratio)+"px":null}}},methods:{async open(e,t){this.checked=this.emptyTemplate.fileid,this.name=e,this.provider=t;const n=(await async function(){return(await s.Z.get((0,u.generateOcsUrl)("apps/files/api/v1/templates"))).data.ocs.data}()).find((e=>e.app===t.app&&e.label===t.label));if(null===n)throw new Error("Failed to match provider in results");this.provider=n,0!==n.templates.length?this.opened=!0:this.onSubmit()},close(){this.checked=this.emptyTemplate.fileid,this.loading=!1,this.name=null,this.opened=!1,this.provider=null},onCheck(e){this.checked=e},async onSubmit(){this.loading=!0;const e=new URL(window.location.href).searchParams.get("dir")||"/";this.nameWithoutExt===this.name&&(this.logger.warn("Fixed invalid filename",{name:this.name,extension:this.provider?.extension}),this.name=this.name+this.provider?.extension);try{const t=await async function(e,t,n){return(await s.Z.post((0,u.generateOcsUrl)("apps/files/api/v1/templates/create"),{filePath:e,templatePath:t,templateType:n})).data.ocs.data}((0,ne.normalize)(`${e}/${this.name}`),this.selectedTemplate?.filename,this.selectedTemplate?.templateType);this.logger.debug("Created new file",t);const n=(0,m.ts)()?.uid||null,i=new r.$B({id:t.fileid,source:(0,u.generateRemoteUrl)((0,ne.join)("dav/files",n,t.filename)),root:`/files/${n}`,mime:t.mime,mtime:new Date(1e3*t.lastmod),owner:n,size:t.size,permissions:t.permissions,attributes:{...t,"has-preview":t.hasPreview}});(0,o.j8)("files:node:created",i),window.OCP.Files.Router.goToRoute(null,{view:"files",fileid:i.fileid},{dir:i.dirname,openfile:!0}),this.close()}catch(e){this.logger.error("Error while creating the new file from template",{error:e}),(0,w.x2)(this.t("files","Unable to create new file from template"))}finally{this.loading=!1}}}});var At=i(24142),gt={};gt.styleTagTransform=j(),gt.setAttributes=P(),gt.insert=O().bind(null,"head"),gt.domAPI=T(),gt.insertStyleElement=R(),k()(At.Z,gt),At.Z&&At.Z.locals&&At.Z.locals;const mt=(0,pt.Z)(ht,(function(){var e=this,t=e._self._c;return e._self._setupProxy,e.opened?t("NcModal",{staticClass:"templates-picker",attrs:{"clear-view-delay":-1,size:"large"},on:{close:e.close}},[t("form",{staticClass:"templates-picker__form",style:e.style,on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.onSubmit.apply(null,arguments)}}},[t("h2",[e._v(e._s(e.t("files","Pick a template for {name}",{name:e.nameWithoutExt})))]),e._v(" "),t("ul",{staticClass:"templates-picker__list"},[t("TemplatePreview",e._b({attrs:{checked:e.checked===e.emptyTemplate.fileid},on:{check:e.onCheck}},"TemplatePreview",e.emptyTemplate,!1)),e._v(" "),e._l(e.provider.templates,(function(n){return t("TemplatePreview",e._b({key:n.fileid,attrs:{checked:e.checked===n.fileid,ratio:e.provider.ratio},on:{check:e.onCheck}},"TemplatePreview",n,!1))}))],2),e._v(" "),t("div",{staticClass:"templates-picker__buttons"},[t("input",{staticClass:"primary",attrs:{type:"submit","aria-label":e.t("files","Create a new file with the selected template")},domProps:{value:e.t("files","Create")}})])]),e._v(" "),e.loading?t("NcEmptyContent",{staticClass:"templates-picker__loading",attrs:{icon:"icon-loading"}},[e._v("\n\t\t"+e._s(e.t("files","Creating file"))+"\n\t")]):e._e()],1):e._e()}),[],!1,null,"48121b39",null).exports,wt=(0,l.IY)().setApp("files").detectUser().build();y.default.mixin({methods:{t:a.Iu,n:a.uN}});const vt=document.createElement("div");vt.id="template-picker",document.body.appendChild(vt);let yt=(0,Ee.j)("files","templates",[]),bt=(0,Ee.j)("files","templates_path",!1);wt.debug("Templates providers",{templates:yt}),wt.debug("Templates folder",{templatesPath:bt});const Ct=new(y.default.extend(mt))({name:"TemplatePicker",propsData:{logger:wt}});Ct.$mount("#template-picker"),bt||(wt.debug("Templates folder not initialized"),(0,r.cd)({id:"template-picker",displayName:(0,a.Iu)("files","Create new templates folder"),iconSvgInline:'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-plus" viewBox="0 0 24 24"><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',order:10,enabled:e=>e.owner===(0,m.ts)()?.uid&&0!=(e.permissions&r.y3.CREATE),handler(e,t){const n=t.map((e=>e.basename)),i=ue((0,a.Iu)("files","Templates"),n);xt(e,i),(0,r.oE)("template-picker")}})),yt.forEach(((e,t)=>{(0,r.cd)({id:`template-new-${e.app}-${t}`,displayName:e.label,iconClass:e.iconClass||"icon-file",enabled:e=>0!=(e.permissions&r.y3.CREATE),order:11,handler(t,n){const i=n.map((e=>e.basename)),r=ue(e.label+e.extension,i);Ct.open(r,e)}})}));const xt=async function(e,t){const n=(0,ne.join)(e.path,t);try{wt.debug("Initializing the templates directory",{templatePath:n});const e=await s.Z.post((0,u.generateOcsUrl)("apps/files/api/v1/templates/path"),{templatePath:n,copySystemTemplates:!0});window.OCP.Files.Router.goToRoute(null,{view:"files",fileid:void 0},{dir:n}),yt=e.data.ocs.data.templates,bt=e.data.ocs.data.template_path}catch(e){wt.error("Unable to initialize the templates directory"),(0,w.x2)((0,a.Iu)("files","Unable to initialize the templates directory"))}};(0,r.p4)(c),(0,r.p4)(A),(0,r.p4)(v),(0,r.p4)(E),(0,r.p4)(Ae),(0,r.p4)(me),(0,r.p4)(we),(0,r.p4)(ve),(0,r.p4)(be),(0,r.p4)(Ce),(0,r.cd)(xe),(()=>{const e=(0,Ee.j)("files","favoriteFolders",[]),t=e.map(((e,t)=>it(e,t)));d.debug("Generating favorites view",{favoriteFolders:e});const n=(0,r.Ti)();n.register(new r.G7({id:"favorites",name:(0,a.Iu)("files","Favorites"),caption:(0,a.Iu)("files","List of favorites files and folders."),emptyTitle:(0,a.Iu)("files","No favorites yet"),emptyCaption:(0,a.Iu)("files","Files and folders you mark as favorite will show up here"),icon:b,order:5,columns:[],getContents:nt})),t.forEach((e=>n.register(e))),(0,o.Ld)("files:favorites:added",(e=>{e.type===r.Tv.Folder&&(null!==e.path&&e.root?.startsWith("/files")?s(e):d.error("Favorite folder is not within user files root",{node:e}))})),(0,o.Ld)("files:favorites:removed",(e=>{e.type===r.Tv.Folder&&(null!==e.path&&e.root?.startsWith("/files")?l(e.path):d.error("Favorite folder is not within user files root",{node:e}))}));const i=function(){e.sort(((e,t)=>e.path.localeCompare(t.path,(0,a.G3)(),{ignorePunctuation:!0}))),e.forEach(((e,n)=>{const i=t.find((t=>t.id===rt(e.path)));i&&(i.order=n)}))},s=function(r){const o={path:r.path,fileid:r.fileid},a=it(o);e.find((e=>e.path===r.path))||(e.push(o),t.push(a),i(),n.register(a))},l=function(r){const o=rt(r),a=e.findIndex((e=>e.path===r));-1!==a&&(e.splice(a,1),t.splice(a,1),n.remove(o),i())}})(),(0,r.Ti)().register(new r.G7({id:"files",name:(0,a.Iu)("files","All files"),caption:(0,a.Iu)("files","List of your files and folders."),icon:ge,order:0,getContents:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";const t=new AbortController,n=(0,r.h7)();return new Xe.CancelablePromise((async(i,r,o)=>{o((()=>t.abort()));try{const r=await Je.getDirectoryContents(e,{details:!0,data:n,includeSelf:!0,signal:t.signal}),o=r.data[0],a=r.data.slice(1);if(o.filename!==e)throw new Error("Root node does not match requested path");i({folder:Qe(o),contents:a.map((e=>{try{return Qe(e)}catch(t){return d.error(`Invalid node detected '${e.basename}'`,{error:t}),null}})).filter(Boolean)})}catch(e){r(e)}}))}})),(0,r.Ti)().register(new r.G7({id:"recent",name:(0,a.Iu)("files","Recent"),caption:(0,a.Iu)("files","List of recently modified files and folders."),emptyTitle:(0,a.Iu)("files","No recently modified files"),emptyCaption:(0,a.Iu)("files","Files and folders you recently modified will show up here."),icon:'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-history" viewBox="0 0 24 24"><path d="M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3" /></svg>',order:2,defaultSortKey:"mtime",getContents:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";const t=(await ot.getDirectoryContents(e,{details:!0,data:(0,r.tB)(at),headers:{method:"SEARCH","Content-Type":"application/xml; charset=utf-8"},deep:!0})).data;return{folder:new r.gt({id:0,source:`${r.SR}${r._o}`,root:r._o,owner:(0,m.ts)()?.uid||null,permissions:r.y3.READ}),contents:t.map((e=>(0,r.RL)(e)))}}})),"serviceWorker"in navigator?window.addEventListener("load",(async()=>{try{const e=(0,u.generateUrl)("/apps/files/preview-service-worker.js",{},{noRewrite:!0}),t=await navigator.serviceWorker.register(e,{scope:"/"});d.debug("SW registered: ",{registration:t})}catch(e){d.error("SW registration failed: ",{error:e})}})):d.debug("Service Worker is not enabled on this browser."),(0,r.qq)("nc:hidden",{nc:"http://nextcloud.org/ns"}),(0,r.qq)("nc:metadata-files-live-photo",{nc:"http://nextcloud.org/ns"})},50584:e=>{e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},3443:function(e,t,n){var i,r,o=n(25108);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,i=function(e){"use strict";function t(e,n){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function f(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,A(e,t,"get"))}function h(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,A(e,t,"set"),n),n}function A(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.CancelablePromise=void 0,e.cancelable=C,e.default=void 0,e.isCancelablePromise=x;var g="undefined"!=typeof Symbol?Symbol.toStringTag:"@@toStringTag",m=new WeakMap,w=new WeakMap,v=function(){function e(t){var n=t.executor,i=void 0===n?function(){}:n,r=t.internals,o=void 0===r?{isCanceled:!1,onCancelList:[]}:r,a=t.promise,s=void 0===a?new Promise((function(e,t){return i(e,t,(function(e){o.onCancelList.push(e)}))})):a;l(this,e),p(this,m,{writable:!0,value:void 0}),p(this,w,{writable:!0,value:void 0}),u(this,g,"CancelablePromise"),this.cancel=this.cancel.bind(this),h(this,m,o),h(this,w,s||new Promise((function(e,t){return i(e,t,(function(e){o.onCancelList.push(e)}))})))}return c(e,[{key:"then",value:function(e,t){return _(f(this,w).then(E(e,f(this,m)),E(t,f(this,m))),f(this,m))}},{key:"catch",value:function(e){return _(f(this,w).catch(E(e,f(this,m))),f(this,m))}},{key:"finally",value:function(e,t){var n=this;return t&&f(this,m).onCancelList.push(e),_(f(this,w).finally(E((function(){if(e)return t&&(f(n,m).onCancelList=f(n,m).onCancelList.filter((function(t){return t!==e}))),e()}),f(this,m))),f(this,m))}},{key:"cancel",value:function(){f(this,m).isCanceled=!0;var e=f(this,m).onCancelList;f(this,m).onCancelList=[];var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if("function"==typeof i)try{i()}catch(e){o.error(e)}}}catch(e){n.e(e)}finally{n.f()}}},{key:"isCanceled",value:function(){return!0===f(this,m).isCanceled}}]),e}(),y=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&t(e,n)}(r,e);var i=n(r);function r(e){return l(this,r),i.call(this,{executor:e})}return c(r)}(v);e.CancelablePromise=y,u(y,"all",(function(e){return k(e,Promise.all(e))})),u(y,"allSettled",(function(e){return k(e,Promise.allSettled(e))})),u(y,"any",(function(e){return k(e,Promise.any(e))})),u(y,"race",(function(e){return k(e,Promise.race(e))})),u(y,"resolve",(function(e){return C(Promise.resolve(e))})),u(y,"reject",(function(e){return C(Promise.reject(e))})),u(y,"isCancelable",x);var b=y;function C(e){return _(e,{isCanceled:!1,onCancelList:[]})}function x(e){return e instanceof y||e instanceof v}function E(e,t){if(e)return function(n){if(!t.isCanceled){var i=e(n);return x(i)&&t.onCancelList.push(i.cancel),i}return n}}function _(e,t){return new v({internals:t,promise:e})}function k(e,t){var n={isCanceled:!1,onCancelList:[]};return n.onCancelList.push((function(){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;x(i)&&i.cancel()}}catch(e){n.e(e)}finally{n.f()}})),new v({internals:n,promise:t})}e.default=b},void 0===(r=i.apply(t,[t]))||(e.exports=r)},51473:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(87537),r=n.n(i),o=n(23645),a=n.n(o),s=n(61667),l=n.n(s),d=new URL(n(79839),n.b),c=new URL(n(88717),n.b),u=a()(r()),p=l()(d),f=l()(c);u.push([e.id,`@charset "UTF-8";\n/**\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n.toastify.dialogs {\n  min-width: 200px;\n  background: none;\n  background-color: var(--color-main-background);\n  color: var(--color-main-text);\n  box-shadow: 0 0 6px 0 var(--color-box-shadow);\n  padding: 0 12px;\n  margin-top: 45px;\n  position: fixed;\n  z-index: 10100;\n  border-radius: var(--border-radius);\n  display: flex;\n  align-items: center;\n}\n.toastify.dialogs .toast-undo-container {\n  display: flex;\n  align-items: center;\n}\n.toastify.dialogs .toast-undo-button,\n.toastify.dialogs .toast-close {\n  position: static;\n  overflow: hidden;\n  box-sizing: border-box;\n  min-width: 44px;\n  height: 100%;\n  padding: 12px;\n  white-space: nowrap;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: transparent;\n  min-height: 0;\n}\n.toastify.dialogs .toast-undo-button.toast-close,\n.toastify.dialogs .toast-close.toast-close {\n  text-indent: 0;\n  opacity: .4;\n  border: none;\n  min-height: 44px;\n  margin-left: 10px;\n  font-size: 0;\n}\n.toastify.dialogs .toast-undo-button.toast-close:before,\n.toastify.dialogs .toast-close.toast-close:before {\n  background-image: url(${p});\n  content: " ";\n  filter: var(--background-invert-if-dark);\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n}\n.toastify.dialogs .toast-undo-button.toast-undo-button,\n.toastify.dialogs .toast-close.toast-undo-button {\n  height: calc(100% - 6px);\n  margin: 3px 3px 3px 12px;\n}\n.toastify.dialogs .toast-undo-button:hover,\n.toastify.dialogs .toast-undo-button:focus,\n.toastify.dialogs .toast-undo-button:active,\n.toastify.dialogs .toast-close:hover,\n.toastify.dialogs .toast-close:focus,\n.toastify.dialogs .toast-close:active {\n  cursor: pointer;\n  opacity: 1;\n}\n.toastify.dialogs.toastify-top {\n  right: 10px;\n}\n.toastify.dialogs.toast-with-click {\n  cursor: pointer;\n}\n.toastify.dialogs.toast-error {\n  border-left: 3px solid var(--color-error);\n}\n.toastify.dialogs.toast-info {\n  border-left: 3px solid var(--color-primary);\n}\n.toastify.dialogs.toast-warning {\n  border-left: 3px solid var(--color-warning);\n}\n.toastify.dialogs.toast-success,\n.toastify.dialogs.toast-undo {\n  border-left: 3px solid var(--color-success);\n}\n.theme--dark .toastify.dialogs .toast-close.toast-close:before {\n  background-image: url(${f});\n}\n._file-picker__file-icon_1vgv4_5 {\n  width: 32px;\n  height: 32px;\n  min-width: 32px;\n  min-height: 32px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  display: flex;\n  justify-content: center;\n}\ntr.file-picker__row[data-v-6aded0d9] {\n  height: var(--row-height, 50px);\n}\ntr.file-picker__row td[data-v-6aded0d9] {\n  cursor: pointer;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-bottom: none;\n}\ntr.file-picker__row td.row-checkbox[data-v-6aded0d9] {\n  padding: 0 2px;\n}\ntr.file-picker__row td[data-v-6aded0d9]:not(.row-checkbox) {\n  padding-inline: 14px 0;\n}\ntr.file-picker__row td.row-size[data-v-6aded0d9] {\n  text-align: end;\n  padding-inline: 0 14px;\n}\ntr.file-picker__row td.row-name[data-v-6aded0d9] {\n  padding-inline: 2px 0;\n}\n@keyframes gradient-6aded0d9 {\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  to {\n    background-position: 0% 50%;\n  }\n}\n.loading-row .row-checkbox[data-v-6aded0d9] {\n  text-align: center !important;\n}\n.loading-row span[data-v-6aded0d9] {\n  display: inline-block;\n  height: 24px;\n  background: linear-gradient(to right, var(--color-background-darker), var(--color-text-maxcontrast), var(--color-background-darker));\n  background-size: 600px 100%;\n  border-radius: var(--border-radius);\n  animation: gradient-6aded0d9 12s ease infinite;\n}\n.loading-row .row-wrapper[data-v-6aded0d9] {\n  display: inline-flex;\n  align-items: center;\n}\n.loading-row .row-checkbox span[data-v-6aded0d9] {\n  width: 24px;\n}\n.loading-row .row-name span[data-v-6aded0d9]:last-of-type {\n  margin-inline-start: 6px;\n  width: 130px;\n}\n.loading-row .row-size span[data-v-6aded0d9] {\n  width: 80px;\n}\n.loading-row .row-modified span[data-v-6aded0d9] {\n  width: 90px;\n}\ntr.file-picker__row[data-v-48df4f27] {\n  height: var(--row-height, 50px);\n}\ntr.file-picker__row td[data-v-48df4f27] {\n  cursor: pointer;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-bottom: none;\n}\ntr.file-picker__row td.row-checkbox[data-v-48df4f27] {\n  padding: 0 2px;\n}\ntr.file-picker__row td[data-v-48df4f27]:not(.row-checkbox) {\n  padding-inline: 14px 0;\n}\ntr.file-picker__row td.row-size[data-v-48df4f27] {\n  text-align: end;\n  padding-inline: 0 14px;\n}\ntr.file-picker__row td.row-name[data-v-48df4f27] {\n  padding-inline: 2px 0;\n}\n.file-picker__row--selected[data-v-48df4f27] {\n  background-color: var(--color-background-dark);\n}\n.file-picker__row[data-v-48df4f27]:hover {\n  background-color: var(--color-background-hover);\n}\n.file-picker__name-container[data-v-48df4f27] {\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  height: 100%;\n}\n.file-picker__file-name[data-v-48df4f27] {\n  padding-inline-start: 6px;\n  min-width: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.file-picker__file-extension[data-v-48df4f27] {\n  color: var(--color-text-maxcontrast);\n  min-width: fit-content;\n}\n.file-picker__header-preview[data-v-d3c94818] {\n  width: 22px;\n  height: 32px;\n  flex: 0 0 auto;\n}\n.file-picker__files[data-v-d3c94818] {\n  margin: 2px;\n  margin-inline-start: 12px;\n  overflow: scroll auto;\n}\n.file-picker__files table[data-v-d3c94818] {\n  width: 100%;\n  max-height: 100%;\n  table-layout: fixed;\n}\n.file-picker__files th[data-v-d3c94818] {\n  position: sticky;\n  z-index: 1;\n  top: 0;\n  background-color: var(--color-main-background);\n  padding: 2px;\n}\n.file-picker__files th .header-wrapper[data-v-d3c94818] {\n  display: flex;\n}\n.file-picker__files th.row-checkbox[data-v-d3c94818] {\n  width: 44px;\n}\n.file-picker__files th.row-name[data-v-d3c94818] {\n  width: 230px;\n}\n.file-picker__files th.row-size[data-v-d3c94818] {\n  width: 100px;\n}\n.file-picker__files th.row-modified[data-v-d3c94818] {\n  width: 120px;\n}\n.file-picker__files th[data-v-d3c94818]:not(.row-size) .button-vue__wrapper {\n  justify-content: start;\n  flex-direction: row-reverse;\n}\n.file-picker__files th[data-v-d3c94818]:not(.row-size) .button-vue {\n  padding-inline: 16px 4px;\n}\n.file-picker__files th.row-size[data-v-d3c94818] .button-vue__wrapper {\n  justify-content: end;\n}\n.file-picker__files th[data-v-d3c94818] .button-vue__wrapper {\n  color: var(--color-text-maxcontrast);\n}\n.file-picker__files th[data-v-d3c94818] .button-vue__wrapper .button-vue__text {\n  font-weight: 400;\n}\n.file-picker__breadcrumbs[data-v-3bc9efa5] {\n  flex-grow: 0 !important;\n}\n.file-picker__side[data-v-e96bec41] {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  gap: .5rem;\n  min-width: 200px;\n  padding: 2px;\n  overflow: auto;\n}\n.file-picker__side[data-v-e96bec41] .button-vue__wrapper {\n  justify-content: start;\n}\n.file-picker__filter-input[data-v-e96bec41] {\n  margin-block: 7px;\n  max-width: 260px;\n}\n@media (max-width: 736px) {\n  .file-picker__side[data-v-e96bec41] {\n    flex-direction: row;\n    min-width: unset;\n  }\n}\n@media (max-width: 512px) {\n  .file-picker__side[data-v-e96bec41] {\n    flex-direction: row;\n    min-width: unset;\n  }\n  .file-picker__filter-input[data-v-e96bec41] {\n    max-width: unset;\n  }\n}\n.file-picker__navigation {\n  padding-inline: 8px 2px;\n}\n.file-picker__navigation,\n.file-picker__navigation * {\n  box-sizing: border-box;\n}\n.file-picker__navigation .v-select.select {\n  min-width: 220px;\n}\n@media (min-width: 513px) and (max-width: 736px) {\n  .file-picker__navigation {\n    gap: 11px;\n  }\n}\n@media (max-width: 512px) {\n  .file-picker__navigation {\n    flex-direction: column-reverse !important;\n  }\n}\n.file-picker__view[data-v-821451ce] {\n  height: 50px;\n  display: flex;\n  justify-content: start;\n  align-items: center;\n}\n.file-picker__view h3[data-v-821451ce] {\n  font-weight: 700;\n  height: fit-content;\n  margin: 0;\n}\n.file-picker__main[data-v-821451ce] {\n  box-sizing: border-box;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  flex: 1;\n  padding-inline: 2px;\n}\n.file-picker__main *[data-v-821451ce] {\n  box-sizing: border-box;\n}\n[data-v-821451ce] .file-picker {\n  height: min(80vh, 800px) !important;\n}\n@media (max-width: 512px) {\n  [data-v-821451ce] .file-picker {\n    height: calc(100% - 16px - var(--default-clickable-area)) !important;\n  }\n}\n[data-v-821451ce] .file-picker__content {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n`,"",{version:3,sources:["webpack://./node_modules/@nextcloud/dialogs/dist/style.css"],names:[],mappings:"AAAA,gBAAgB;AAChB;;;;;;;;;;;;;;;;;;;;EAoBE;AACF;EACE,gBAAgB;EAChB,gBAAgB;EAChB,8CAA8C;EAC9C,6BAA6B;EAC7B,6CAA6C;EAC7C,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,cAAc;EACd,mCAAmC;EACnC,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,mBAAmB;AACrB;AACA;;EAEE,gBAAgB;EAChB,gBAAgB;EAChB,sBAAsB;EACtB,eAAe;EACf,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,4BAA4B;EAC5B,2BAA2B;EAC3B,6BAA6B;EAC7B,aAAa;AACf;AACA;;EAEE,cAAc;EACd,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,YAAY;AACd;AACA;;EAEE,yDAA8Q;EAC9Q,YAAY;EACZ,wCAAwC;EACxC,qBAAqB;EACrB,WAAW;EACX,YAAY;AACd;AACA;;EAEE,wBAAwB;EACxB,wBAAwB;AAC1B;AACA;;;;;;EAME,eAAe;EACf,UAAU;AACZ;AACA;EACE,WAAW;AACb;AACA;EACE,eAAe;AACjB;AACA;EACE,yCAAyC;AAC3C;AACA;EACE,2CAA2C;AAC7C;AACA;EACE,2CAA2C;AAC7C;AACA;;EAEE,2CAA2C;AAC7C;AACA;EACE,yDAAsT;AACxT;AACA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,4BAA4B;EAC5B,wBAAwB;EACxB,aAAa;EACb,uBAAuB;AACzB;AACA;EACE,+BAA+B;AACjC;AACA;EACE,eAAe;EACf,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;AACrB;AACA;EACE,cAAc;AAChB;AACA;EACE,sBAAsB;AACxB;AACA;EACE,eAAe;EACf,sBAAsB;AACxB;AACA;EACE,qBAAqB;AACvB;AACA;EACE;IACE,2BAA2B;EAC7B;EACA;IACE,6BAA6B;EAC/B;EACA;IACE,2BAA2B;EAC7B;AACF;AACA;EACE,6BAA6B;AAC/B;AACA;EACE,qBAAqB;EACrB,YAAY;EACZ,oIAAoI;EACpI,2BAA2B;EAC3B,mCAAmC;EACnC,8CAA8C;AAChD;AACA;EACE,oBAAoB;EACpB,mBAAmB;AACrB;AACA;EACE,WAAW;AACb;AACA;EACE,wBAAwB;EACxB,YAAY;AACd;AACA;EACE,WAAW;AACb;AACA;EACE,WAAW;AACb;AACA;EACE,+BAA+B;AACjC;AACA;EACE,eAAe;EACf,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;AACrB;AACA;EACE,cAAc;AAChB;AACA;EACE,sBAAsB;AACxB;AACA;EACE,eAAe;EACf,sBAAsB;AACxB;AACA;EACE,qBAAqB;AACvB;AACA;EACE,8CAA8C;AAChD;AACA;EACE,+CAA+C;AACjD;AACA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,YAAY;AACd;AACA;EACE,yBAAyB;EACzB,YAAY;EACZ,gBAAgB;EAChB,uBAAuB;AACzB;AACA;EACE,oCAAoC;EACpC,sBAAsB;AACxB;AACA;EACE,WAAW;EACX,YAAY;EACZ,cAAc;AAChB;AACA;EACE,WAAW;EACX,yBAAyB;EACzB,qBAAqB;AACvB;AACA;EACE,WAAW;EACX,gBAAgB;EAChB,mBAAmB;AACrB;AACA;EACE,gBAAgB;EAChB,UAAU;EACV,MAAM;EACN,8CAA8C;EAC9C,YAAY;AACd;AACA;EACE,aAAa;AACf;AACA;EACE,WAAW;AACb;AACA;EACE,YAAY;AACd;AACA;EACE,YAAY;AACd;AACA;EACE,YAAY;AACd;AACA;EACE,sBAAsB;EACtB,2BAA2B;AAC7B;AACA;EACE,wBAAwB;AAC1B;AACA;EACE,oBAAoB;AACtB;AACA;EACE,oCAAoC;AACtC;AACA;EACE,gBAAgB;AAClB;AACA;EACE,uBAAuB;AACzB;AACA;EACE,aAAa;EACb,sBAAsB;EACtB,oBAAoB;EACpB,UAAU;EACV,gBAAgB;EAChB,YAAY;EACZ,cAAc;AAChB;AACA;EACE,sBAAsB;AACxB;AACA;EACE,iBAAiB;EACjB,gBAAgB;AAClB;AACA;EACE;IACE,mBAAmB;IACnB,gBAAgB;EAClB;AACF;AACA;EACE;IACE,mBAAmB;IACnB,gBAAgB;EAClB;EACA;IACE,gBAAgB;EAClB;AACF;AACA;EACE,uBAAuB;AACzB;AACA;;EAEE,sBAAsB;AACxB;AACA;EACE,gBAAgB;AAClB;AACA;EACE;IACE,SAAS;EACX;AACF;AACA;EACE;IACE,yCAAyC;EAC3C;AACF;AACA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;AACA;EACE,gBAAgB;EAChB,mBAAmB;EACnB,SAAS;AACX;AACA;EACE,sBAAsB;EACtB,WAAW;EACX,aAAa;EACb,sBAAsB;EACtB,aAAa;EACb,OAAO;EACP,mBAAmB;AACrB;AACA;EACE,sBAAsB;AACxB;AACA;EACE,mCAAmC;AACrC;AACA;EACE;IACE,oEAAoE;EACtE;AACF;AACA;EACE,aAAa;EACb,sBAAsB;EACtB,gBAAgB;AAClB",sourcesContent:["@charset \"UTF-8\";\n/**\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n.toastify.dialogs {\n  min-width: 200px;\n  background: none;\n  background-color: var(--color-main-background);\n  color: var(--color-main-text);\n  box-shadow: 0 0 6px 0 var(--color-box-shadow);\n  padding: 0 12px;\n  margin-top: 45px;\n  position: fixed;\n  z-index: 10100;\n  border-radius: var(--border-radius);\n  display: flex;\n  align-items: center;\n}\n.toastify.dialogs .toast-undo-container {\n  display: flex;\n  align-items: center;\n}\n.toastify.dialogs .toast-undo-button,\n.toastify.dialogs .toast-close {\n  position: static;\n  overflow: hidden;\n  box-sizing: border-box;\n  min-width: 44px;\n  height: 100%;\n  padding: 12px;\n  white-space: nowrap;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: transparent;\n  min-height: 0;\n}\n.toastify.dialogs .toast-undo-button.toast-close,\n.toastify.dialogs .toast-close.toast-close {\n  text-indent: 0;\n  opacity: .4;\n  border: none;\n  min-height: 44px;\n  margin-left: 10px;\n  font-size: 0;\n}\n.toastify.dialogs .toast-undo-button.toast-close:before,\n.toastify.dialogs .toast-close.toast-close:before {\n  background-image: url(\"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='16'%20width='16'%3e%3cpath%20d='M14%2012.3L12.3%2014%208%209.7%203.7%2014%202%2012.3%206.3%208%202%203.7%203.7%202%208%206.3%2012.3%202%2014%203.7%209.7%208z'/%3e%3c/svg%3e\");\n  content: \" \";\n  filter: var(--background-invert-if-dark);\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n}\n.toastify.dialogs .toast-undo-button.toast-undo-button,\n.toastify.dialogs .toast-close.toast-undo-button {\n  height: calc(100% - 6px);\n  margin: 3px 3px 3px 12px;\n}\n.toastify.dialogs .toast-undo-button:hover,\n.toastify.dialogs .toast-undo-button:focus,\n.toastify.dialogs .toast-undo-button:active,\n.toastify.dialogs .toast-close:hover,\n.toastify.dialogs .toast-close:focus,\n.toastify.dialogs .toast-close:active {\n  cursor: pointer;\n  opacity: 1;\n}\n.toastify.dialogs.toastify-top {\n  right: 10px;\n}\n.toastify.dialogs.toast-with-click {\n  cursor: pointer;\n}\n.toastify.dialogs.toast-error {\n  border-left: 3px solid var(--color-error);\n}\n.toastify.dialogs.toast-info {\n  border-left: 3px solid var(--color-primary);\n}\n.toastify.dialogs.toast-warning {\n  border-left: 3px solid var(--color-warning);\n}\n.toastify.dialogs.toast-success,\n.toastify.dialogs.toast-undo {\n  border-left: 3px solid var(--color-success);\n}\n.theme--dark .toastify.dialogs .toast-close.toast-close:before {\n  background-image: url(\"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='16'%20width='16'%3e%3cpath%20d='M14%2012.3L12.3%2014%208%209.7%203.7%2014%202%2012.3%206.3%208%202%203.7%203.7%202%208%206.3%2012.3%202%2014%203.7%209.7%208z'%20style='fill-opacity:1;fill:%23ffffff'/%3e%3c/svg%3e\");\n}\n._file-picker__file-icon_1vgv4_5 {\n  width: 32px;\n  height: 32px;\n  min-width: 32px;\n  min-height: 32px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  display: flex;\n  justify-content: center;\n}\ntr.file-picker__row[data-v-6aded0d9] {\n  height: var(--row-height, 50px);\n}\ntr.file-picker__row td[data-v-6aded0d9] {\n  cursor: pointer;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-bottom: none;\n}\ntr.file-picker__row td.row-checkbox[data-v-6aded0d9] {\n  padding: 0 2px;\n}\ntr.file-picker__row td[data-v-6aded0d9]:not(.row-checkbox) {\n  padding-inline: 14px 0;\n}\ntr.file-picker__row td.row-size[data-v-6aded0d9] {\n  text-align: end;\n  padding-inline: 0 14px;\n}\ntr.file-picker__row td.row-name[data-v-6aded0d9] {\n  padding-inline: 2px 0;\n}\n@keyframes gradient-6aded0d9 {\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  to {\n    background-position: 0% 50%;\n  }\n}\n.loading-row .row-checkbox[data-v-6aded0d9] {\n  text-align: center !important;\n}\n.loading-row span[data-v-6aded0d9] {\n  display: inline-block;\n  height: 24px;\n  background: linear-gradient(to right, var(--color-background-darker), var(--color-text-maxcontrast), var(--color-background-darker));\n  background-size: 600px 100%;\n  border-radius: var(--border-radius);\n  animation: gradient-6aded0d9 12s ease infinite;\n}\n.loading-row .row-wrapper[data-v-6aded0d9] {\n  display: inline-flex;\n  align-items: center;\n}\n.loading-row .row-checkbox span[data-v-6aded0d9] {\n  width: 24px;\n}\n.loading-row .row-name span[data-v-6aded0d9]:last-of-type {\n  margin-inline-start: 6px;\n  width: 130px;\n}\n.loading-row .row-size span[data-v-6aded0d9] {\n  width: 80px;\n}\n.loading-row .row-modified span[data-v-6aded0d9] {\n  width: 90px;\n}\ntr.file-picker__row[data-v-48df4f27] {\n  height: var(--row-height, 50px);\n}\ntr.file-picker__row td[data-v-48df4f27] {\n  cursor: pointer;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-bottom: none;\n}\ntr.file-picker__row td.row-checkbox[data-v-48df4f27] {\n  padding: 0 2px;\n}\ntr.file-picker__row td[data-v-48df4f27]:not(.row-checkbox) {\n  padding-inline: 14px 0;\n}\ntr.file-picker__row td.row-size[data-v-48df4f27] {\n  text-align: end;\n  padding-inline: 0 14px;\n}\ntr.file-picker__row td.row-name[data-v-48df4f27] {\n  padding-inline: 2px 0;\n}\n.file-picker__row--selected[data-v-48df4f27] {\n  background-color: var(--color-background-dark);\n}\n.file-picker__row[data-v-48df4f27]:hover {\n  background-color: var(--color-background-hover);\n}\n.file-picker__name-container[data-v-48df4f27] {\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  height: 100%;\n}\n.file-picker__file-name[data-v-48df4f27] {\n  padding-inline-start: 6px;\n  min-width: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.file-picker__file-extension[data-v-48df4f27] {\n  color: var(--color-text-maxcontrast);\n  min-width: fit-content;\n}\n.file-picker__header-preview[data-v-d3c94818] {\n  width: 22px;\n  height: 32px;\n  flex: 0 0 auto;\n}\n.file-picker__files[data-v-d3c94818] {\n  margin: 2px;\n  margin-inline-start: 12px;\n  overflow: scroll auto;\n}\n.file-picker__files table[data-v-d3c94818] {\n  width: 100%;\n  max-height: 100%;\n  table-layout: fixed;\n}\n.file-picker__files th[data-v-d3c94818] {\n  position: sticky;\n  z-index: 1;\n  top: 0;\n  background-color: var(--color-main-background);\n  padding: 2px;\n}\n.file-picker__files th .header-wrapper[data-v-d3c94818] {\n  display: flex;\n}\n.file-picker__files th.row-checkbox[data-v-d3c94818] {\n  width: 44px;\n}\n.file-picker__files th.row-name[data-v-d3c94818] {\n  width: 230px;\n}\n.file-picker__files th.row-size[data-v-d3c94818] {\n  width: 100px;\n}\n.file-picker__files th.row-modified[data-v-d3c94818] {\n  width: 120px;\n}\n.file-picker__files th[data-v-d3c94818]:not(.row-size) .button-vue__wrapper {\n  justify-content: start;\n  flex-direction: row-reverse;\n}\n.file-picker__files th[data-v-d3c94818]:not(.row-size) .button-vue {\n  padding-inline: 16px 4px;\n}\n.file-picker__files th.row-size[data-v-d3c94818] .button-vue__wrapper {\n  justify-content: end;\n}\n.file-picker__files th[data-v-d3c94818] .button-vue__wrapper {\n  color: var(--color-text-maxcontrast);\n}\n.file-picker__files th[data-v-d3c94818] .button-vue__wrapper .button-vue__text {\n  font-weight: 400;\n}\n.file-picker__breadcrumbs[data-v-3bc9efa5] {\n  flex-grow: 0 !important;\n}\n.file-picker__side[data-v-e96bec41] {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  gap: .5rem;\n  min-width: 200px;\n  padding: 2px;\n  overflow: auto;\n}\n.file-picker__side[data-v-e96bec41] .button-vue__wrapper {\n  justify-content: start;\n}\n.file-picker__filter-input[data-v-e96bec41] {\n  margin-block: 7px;\n  max-width: 260px;\n}\n@media (max-width: 736px) {\n  .file-picker__side[data-v-e96bec41] {\n    flex-direction: row;\n    min-width: unset;\n  }\n}\n@media (max-width: 512px) {\n  .file-picker__side[data-v-e96bec41] {\n    flex-direction: row;\n    min-width: unset;\n  }\n  .file-picker__filter-input[data-v-e96bec41] {\n    max-width: unset;\n  }\n}\n.file-picker__navigation {\n  padding-inline: 8px 2px;\n}\n.file-picker__navigation,\n.file-picker__navigation * {\n  box-sizing: border-box;\n}\n.file-picker__navigation .v-select.select {\n  min-width: 220px;\n}\n@media (min-width: 513px) and (max-width: 736px) {\n  .file-picker__navigation {\n    gap: 11px;\n  }\n}\n@media (max-width: 512px) {\n  .file-picker__navigation {\n    flex-direction: column-reverse !important;\n  }\n}\n.file-picker__view[data-v-821451ce] {\n  height: 50px;\n  display: flex;\n  justify-content: start;\n  align-items: center;\n}\n.file-picker__view h3[data-v-821451ce] {\n  font-weight: 700;\n  height: fit-content;\n  margin: 0;\n}\n.file-picker__main[data-v-821451ce] {\n  box-sizing: border-box;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  flex: 1;\n  padding-inline: 2px;\n}\n.file-picker__main *[data-v-821451ce] {\n  box-sizing: border-box;\n}\n[data-v-821451ce] .file-picker {\n  height: min(80vh, 800px) !important;\n}\n@media (max-width: 512px) {\n  [data-v-821451ce] .file-picker {\n    height: calc(100% - 16px - var(--default-clickable-area)) !important;\n  }\n}\n[data-v-821451ce] .file-picker__content {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n"],sourceRoot:""}]);const h=u},92246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(87537),r=n.n(i),o=n(23645),a=n.n(o)()(r());a.push([e.id,".template-picker__item[data-v-0859a92c]{display:flex}.template-picker__label[data-v-0859a92c]{display:flex;align-items:center;flex:1 1;flex-direction:column}.template-picker__label[data-v-0859a92c],.template-picker__label *[data-v-0859a92c]{cursor:pointer;user-select:none}.template-picker__label[data-v-0859a92c]::before{display:none !important}.template-picker__preview[data-v-0859a92c]{display:block;overflow:hidden;flex:1 1;width:var(--width);min-height:var(--height);max-height:var(--height);padding:0;border:var(--border) solid var(--color-border);border-radius:var(--border-radius-large)}input:checked+label>.template-picker__preview[data-v-0859a92c]{border-color:var(--color-primary-element)}.template-picker__preview--failed[data-v-0859a92c]{display:flex}.template-picker__image[data-v-0859a92c]{max-width:100%;background-color:var(--color-main-background);object-fit:cover}.template-picker__preview--failed .template-picker__image[data-v-0859a92c]{width:calc(var(--margin)*8);margin:auto;background-color:rgba(0,0,0,0) !important;object-fit:initial}.template-picker__title[data-v-0859a92c]{overflow:hidden;max-width:calc(var(--width) + 4px);padding:var(--margin);white-space:nowrap;text-overflow:ellipsis}","",{version:3,sources:["webpack://./apps/files/src/components/TemplatePreview.vue"],names:[],mappings:"AAGC,wCACC,YAAA,CAGD,yCACC,YAAA,CAEA,kBAAA,CACA,QAAA,CACA,qBAAA,CAEA,oFACC,cAAA,CACA,gBAAA,CAGD,iDACC,uBAAA,CAIF,2CACC,aAAA,CACA,eAAA,CAEA,QAAA,CACA,kBAAA,CACA,wBAAA,CACA,wBAAA,CACA,SAAA,CACA,8CAAA,CACA,wCAAA,CAEA,+DACC,yCAAA,CAGD,mDAEC,YAAA,CAIF,yCACC,cAAA,CACA,6CAAA,CAEA,gBAAA,CAID,2EACC,2BAAA,CAEA,WAAA,CACA,yCAAA,CAEA,kBAAA,CAGD,yCACC,eAAA,CAEA,kCAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA",sourcesContent:["\n\n.template-picker {\n\t&__item {\n\t\tdisplay: flex;\n\t}\n\n\t&__label {\n\t\tdisplay: flex;\n\t\t// Align in the middle of the grid\n\t\talign-items: center;\n\t\tflex: 1 1;\n\t\tflex-direction: column;\n\n\t\t&, * {\n\t\t\tcursor: pointer;\n\t\t\tuser-select: none;\n\t\t}\n\n\t\t&::before {\n\t\t\tdisplay: none !important;\n\t\t}\n\t}\n\n\t&__preview {\n\t\tdisplay: block;\n\t\toverflow: hidden;\n\t\t// Stretch so all entries are the same width\n\t\tflex: 1 1;\n\t\twidth: var(--width);\n\t\tmin-height: var(--height);\n\t\tmax-height: var(--height);\n\t\tpadding: 0;\n\t\tborder: var(--border) solid var(--color-border);\n\t\tborder-radius: var(--border-radius-large);\n\n\t\tinput:checked + label > & {\n\t\t\tborder-color: var(--color-primary-element);\n\t\t}\n\n\t\t&--failed {\n\t\t\t// Make sure to properly center fallback icon\n\t\t\tdisplay: flex;\n\t\t}\n\t}\n\n\t&__image {\n\t\tmax-width: 100%;\n\t\tbackground-color: var(--color-main-background);\n\n\t\tobject-fit: cover;\n\t}\n\n\t// Failed preview, fallback to mime icon\n\t&__preview--failed &__image {\n\t\twidth: calc(var(--margin) * 8);\n\t\t// Center mime icon\n\t\tmargin: auto;\n\t\tbackground-color: transparent !important;\n\n\t\tobject-fit: initial;\n\t}\n\n\t&__title {\n\t\toverflow: hidden;\n\t\t// also count preview border\n\t\tmax-width: calc(var(--width) + 2*2px);\n\t\tpadding: var(--margin);\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n"],sourceRoot:""}]);const s=a},24142:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(87537),r=n.n(i),o=n(23645),a=n.n(o)()(r());a.push([e.id,".templates-picker__form[data-v-48121b39]{padding:calc(var(--margin)*2);padding-bottom:0}.templates-picker__form h2[data-v-48121b39]{text-align:center;font-weight:bold;margin:var(--margin) 0 calc(var(--margin)*2)}.templates-picker__list[data-v-48121b39]{display:grid;grid-gap:calc(var(--margin)*2);grid-auto-columns:1fr;max-width:calc(var(--fullwidth)*6);grid-template-columns:repeat(auto-fit, var(--fullwidth));grid-auto-rows:1fr;justify-content:center}.templates-picker__buttons[data-v-48121b39]{display:flex;justify-content:end;padding:calc(var(--margin)*2) var(--margin);position:sticky;bottom:0;background-image:linear-gradient(0, var(--gradient-main-background))}.templates-picker__buttons button[data-v-48121b39],.templates-picker__buttons input[type=submit][data-v-48121b39]{height:44px}.templates-picker[data-v-48121b39] .modal-container{position:relative}.templates-picker__loading[data-v-48121b39]{position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;margin:0;background-color:var(--color-main-background-translucent)}","",{version:3,sources:["webpack://./apps/files/src/views/TemplatePicker.vue"],names:[],mappings:"AAEC,yCACC,6BAAA,CAEA,gBAAA,CAEA,4CACC,iBAAA,CACA,gBAAA,CACA,4CAAA,CAIF,yCACC,YAAA,CACA,8BAAA,CACA,qBAAA,CAEA,kCAAA,CACA,wDAAA,CAEA,kBAAA,CAEA,sBAAA,CAGD,4CACC,YAAA,CACA,mBAAA,CACA,2CAAA,CACA,eAAA,CACA,QAAA,CACA,oEAAA,CAEA,kHACC,WAAA,CAKF,oDACC,iBAAA,CAGD,4CACC,iBAAA,CACA,KAAA,CACA,MAAA,CACA,sBAAA,CACA,UAAA,CACA,WAAA,CACA,QAAA,CACA,yDAAA",sourcesContent:["\n.templates-picker {\n\t&__form {\n\t\tpadding: calc(var(--margin) * 2);\n\t\t// Will be handled by the buttons\n\t\tpadding-bottom: 0;\n\n\t\th2 {\n\t\t\ttext-align: center;\n\t\t\tfont-weight: bold;\n\t\t\tmargin: var(--margin) 0 calc(var(--margin) * 2);\n\t\t}\n\t}\n\n\t&__list {\n\t\tdisplay: grid;\n\t\tgrid-gap: calc(var(--margin) * 2);\n\t\tgrid-auto-columns: 1fr;\n\t\t// We want maximum 5 columns. Putting 6 as we don't count the grid gap. So it will always be lower than 6\n\t\tmax-width: calc(var(--fullwidth) * 6);\n\t\tgrid-template-columns: repeat(auto-fit, var(--fullwidth));\n\t\t// Make sure all rows are the same height\n\t\tgrid-auto-rows: 1fr;\n\t\t// Center the columns set\n\t\tjustify-content: center;\n\t}\n\n\t&__buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: end;\n\t\tpadding: calc(var(--margin) * 2) var(--margin);\n\t\tposition: sticky;\n\t\tbottom: 0;\n\t\tbackground-image: linear-gradient(0, var(--gradient-main-background));\n\n\t\tbutton, input[type='submit'] {\n\t\t\theight: 44px;\n\t\t}\n\t}\n\n\t// Make sure we're relative for the loading emptycontent on top\n\t::v-deep .modal-container {\n\t\tposition: relative;\n\t}\n\n\t&__loading {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tjustify-content: center;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tmargin: 0;\n\t\tbackground-color: var(--color-main-background-translucent);\n\t}\n}\n\n"],sourceRoot:""}]);const s=a},79267:(e,t,n)=>{var i=n(8501),r=n(8575),o=e.exports;for(var a in i)i.hasOwnProperty(a)&&(o[a]=i[a]);function s(e){if("string"==typeof e&&(e=r.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=s(e),i.request.call(this,e,t)},o.get=function(e,t){return e=s(e),i.get.call(this,e,t)}},88473:(e,t,n)=>{(t=e.exports=n(79481)).Stream=t,t.Readable=t,t.Writable=n(64229),t.Duplex=n(56753),t.Transform=n(74605),t.PassThrough=n(82725),t.finished=n(8610),t.pipeline=n(59946)},8501:(e,t,n)=>{var i=n(11989),r=n(55676),o=n(47529),a=n(50584),s=n(8575),l=t;l.request=function(e,t){e="string"==typeof e?s.parse(e):o(e);var r=-1===n.g.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||r,l=e.hostname||e.host,d=e.port,c=e.path||"/";l&&-1!==l.indexOf(":")&&(l="["+l+"]"),e.url=(l?a+"//"+l:"")+(d?":"+d:"")+c,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var u=new i(e);return t&&u.on("response",t),u},l.get=function(e,t){var n=l.request(e,t);return n.end(),n},l.ClientRequest=i,l.IncomingMessage=r.IncomingMessage,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.globalAgent=new l.Agent,l.STATUS_CODES=a,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},8725:(e,t,n)=>{var i;function r(){if(void 0!==i)return i;if(n.g.XMLHttpRequest){i=new n.g.XMLHttpRequest;try{i.open("GET",n.g.XDomainRequest?"/":"https://example.com")}catch(e){i=null}}else i=null;return i}function o(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function a(e){return"function"==typeof e}t.fetch=a(n.g.fetch)&&a(n.g.ReadableStream),t.writableStream=a(n.g.WritableStream),t.abortController=a(n.g.AbortController),t.arraybuffer=t.fetch||o("arraybuffer"),t.msstream=!t.fetch&&o("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&a(r().overrideMimeType),i=null},11989:(e,t,n)=>{var i=n(48764).Buffer,r=n(34155),o=n(8725),a=n(35717),s=n(55676),l=n(88473),d=s.IncomingMessage,c=s.readyStates,u=e.exports=function(e){var t,n=this;l.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+i.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){n.setHeader(t,e.headers[t])}));var r=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)r=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}n._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":"text"}(t,r),n._fetchTimer=null,n._socketTimeout=null,n._socketTimer=null,n.on("finish",(function(){n._onFinish()}))};a(u,l.Writable),u.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===p.indexOf(n)&&(this._headers[n]={name:e,value:t})},u.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},u.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},u.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var i=e._headers,a=null;"GET"!==t.method&&"HEAD"!==t.method&&(a=new Blob(e._body,{type:(i["content-type"]||{}).value||""}));var s=[];if(Object.keys(i).forEach((function(e){var t=i[e].name,n=i[e].value;Array.isArray(n)?n.forEach((function(e){s.push([t,e])})):s.push([t,n])})),"fetch"===e._mode){var l=null;if(o.abortController){var d=new AbortController;l=d.signal,e._fetchAbortController=d,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=n.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}n.g.fetch(e._opts.url,{method:e._opts.method,headers:s,body:a||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:l}).then((function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()}),(function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)}))}else{var u=e._xhr=new n.g.XMLHttpRequest;try{u.open(e._opts.method,e._opts.url,!0)}catch(t){return void r.nextTick((function(){e.emit("error",t)}))}"responseType"in u&&(u.responseType=e._mode),"withCredentials"in u&&(u.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in u&&u.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(u.timeout=t.requestTimeout,u.ontimeout=function(){e.emit("requestTimeout")}),s.forEach((function(e){u.setRequestHeader(e[0],e[1])})),e._response=null,u.onreadystatechange=function(){switch(u.readyState){case c.LOADING:case c.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(u.onprogress=function(){e._onXHRProgress()}),u.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{u.send(a)}catch(t){return void r.nextTick((function(){e.emit("error",t)}))}}}},u.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))},u.prototype._connect=function(){var e=this;e._destroyed||(e._response=new d(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},u.prototype._write=function(e,t,n){this._body.push(e),n()},u.prototype._resetTimers=function(e){var t=this;n.g.clearTimeout(t._socketTimer),t._socketTimer=null,e?(n.g.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=n.g.setTimeout((function(){t.emit("timeout")}),t._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)},u.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),l.Writable.prototype.end.call(this,e,t,n)},u.prototype.setTimeout=function(e,t){var n=this;t&&n.once("timeout",t),n._socketTimeout=e,n._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},55676:(e,t,n)=>{var i=n(34155),r=n(48764).Buffer,o=n(8725),a=n(35717),s=n(88473),l=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},d=t.IncomingMessage=function(e,t,n,a){var l=this;if(s.Readable.call(l),l._mode=n,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",(function(){i.nextTick((function(){l.emit("close")}))})),"fetch"===n){if(l._fetchResponse=t,l.url=t.url,l.statusCode=t.status,l.statusMessage=t.statusText,t.headers.forEach((function(e,t){l.headers[t.toLowerCase()]=e,l.rawHeaders.push(t,e)})),o.writableStream){var d=new WritableStream({write:function(e){return a(!1),new Promise((function(t,n){l._destroyed?n():l.push(r.from(e))?t():l._resumeFetch=t}))},close:function(){a(!0),l._destroyed||l.push(null)},abort:function(e){a(!0),l._destroyed||l.emit("error",e)}});try{return void t.body.pipeTo(d).catch((function(e){a(!0),l._destroyed||l.emit("error",e)}))}catch(e){}}var c=t.body.getReader();!function e(){c.read().then((function(t){l._destroyed||(a(t.done),t.done?l.push(null):(l.push(r.from(t.value)),e()))})).catch((function(e){a(!0),l._destroyed||l.emit("error",e)}))}()}else if(l._xhr=e,l._pos=0,l.url=e.responseURL,l.statusCode=e.status,l.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===l.headers[n]&&(l.headers[n]=[]),l.headers[n].push(t[2])):void 0!==l.headers[n]?l.headers[n]+=", "+t[2]:l.headers[n]=t[2],l.rawHeaders.push(t[1],t[2])}})),l._charset="x-user-defined",!o.overrideMimeType){var u=l.rawHeaders["mime-type"];if(u){var p=u.match(/;\s*charset=([^;])(;|$)/);p&&(l._charset=p[1].toLowerCase())}l._charset||(l._charset="utf-8")}};a(d,s.Readable),d.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},d.prototype._onXHRProgress=function(e){var t=this,i=t._xhr,o=null;switch(t._mode){case"text":if((o=i.responseText).length>t._pos){var a=o.substr(t._pos);if("x-user-defined"===t._charset){for(var s=r.alloc(a.length),d=0;d<a.length;d++)s[d]=255&a.charCodeAt(d);t.push(s)}else t.push(a,t._charset);t._pos=o.length}break;case"arraybuffer":if(i.readyState!==l.DONE||!i.response)break;o=i.response,t.push(r.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=i.response,i.readyState!==l.LOADING||!o)break;t.push(r.from(new Uint8Array(o)));break;case"ms-stream":if(o=i.response,i.readyState!==l.LOADING)break;var c=new n.g.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(r.from(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){e(!0),t.push(null)},c.readAsArrayBuffer(o)}t._xhr.readyState===l.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}},47529:e=>{e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)t.call(i,r)&&(e[r]=i[r])}return e};var t=Object.prototype.hasOwnProperty},88717:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20height=%2716%27%20width=%2716%27%3e%3cpath%20d=%27M14%2012.3L12.3%2014%208%209.7%203.7%2014%202%2012.3%206.3%208%202%203.7%203.7%202%208%206.3%2012.3%202%2014%203.7%209.7%208z%27%20style=%27fill-opacity:1;fill:%23ffffff%27/%3e%3c/svg%3e"},79839:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20height=%2716%27%20width=%2716%27%3e%3cpath%20d=%27M14%2012.3L12.3%2014%208%209.7%203.7%2014%202%2012.3%206.3%208%202%203.7%203.7%202%208%206.3%2012.3%202%2014%203.7%209.7%208z%27/%3e%3c/svg%3e"},24654:()=>{},52361:()=>{},94616:()=>{},5656:(e,t,n)=>{"use strict";n.d(t,{$B:()=>R,DT:()=>m,G7:()=>st,RL:()=>F,SR:()=>D,Ti:()=>U,Tv:()=>N,_o:()=>j,cd:()=>dt,e4:()=>P,gt:()=>L,h7:()=>k,m0:()=>E,oE:()=>ct,p$:()=>w,p4:()=>v,pC:()=>M,qq:()=>x,rp:()=>$,sS:()=>g,tB:()=>B,w4:()=>_,y3:()=>y,zu:()=>T});var i=n(77958),r=n(17499),o=n(31352),a=n(62520),s=n(65358),l=n(79753),d=n(14596);const c=null===(u=(0,i.ts)())?(0,r.IY)().setApp("files").build():(0,r.IY)().setApp("files").setUid(u.uid).build();var u;class p{_entries=[];registerEntry(e){this.validateEntry(e),this._entries.push(e)}unregisterEntry(e){const t="string"==typeof e?this.getEntryIndex(e):this.getEntryIndex(e.id);-1!==t?this._entries.splice(t,1):c.warn("Entry not found, nothing removed",{entry:e,entries:this.getEntries()})}getEntries(e){return e?this._entries.filter((t=>"function"!=typeof t.enabled||t.enabled(e))):this._entries}getEntryIndex(e){return this._entries.findIndex((t=>t.id===e))}validateEntry(e){if(!e.id||!e.displayName||!e.iconSvgInline&&!e.iconClass||!e.handler)throw new Error("Invalid entry");if("string"!=typeof e.id||"string"!=typeof e.displayName)throw new Error("Invalid id or displayName property");if(e.iconClass&&"string"!=typeof e.iconClass||e.iconSvgInline&&"string"!=typeof e.iconSvgInline)throw new Error("Invalid icon provided");if(void 0!==e.enabled&&"function"!=typeof e.enabled)throw new Error("Invalid enabled property");if("function"!=typeof e.handler)throw new Error("Invalid handler property");if("order"in e&&"number"!=typeof e.order)throw new Error("Invalid order property");if(-1!==this.getEntryIndex(e.id))throw new Error("Duplicate entry")}}const f=function(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new p,c.debug("NewFileMenu initialized")),window._nc_newfilemenu},h=["B","KB","MB","GB","TB","PB"],A=["B","KiB","MiB","GiB","TiB","PiB"];function g(e,t=!1,n=!1,i=!1){n=n&&!i,"string"==typeof e&&(e=Number(e));let r=e>0?Math.floor(Math.log(e)/Math.log(i?1e3:1024)):0;r=Math.min((n?A.length:h.length)-1,r);const a=n?A[r]:h[r];let s=(e/Math.pow(i?1e3:1024,r)).toFixed(1);return!0===t&&0===r?("0.0"!==s?"< 1 ":"0 ")+(n?A[1]:h[1]):(s=r<2?parseFloat(s).toFixed(0):parseFloat(s).toLocaleString((0,o.aj)()),s+" "+a)}var m=(e=>(e.DEFAULT="default",e.HIDDEN="hidden",e))(m||{});class w{_action;constructor(e){this.validateAction(e),this._action=e}get id(){return this._action.id}get displayName(){return this._action.displayName}get title(){return this._action.title}get iconSvgInline(){return this._action.iconSvgInline}get enabled(){return this._action.enabled}get exec(){return this._action.exec}get execBatch(){return this._action.execBatch}get order(){return this._action.order}get parent(){return this._action.parent}get default(){return this._action.default}get inline(){return this._action.inline}get renderInline(){return this._action.renderInline}validateAction(e){if(!e.id||"string"!=typeof e.id)throw new Error("Invalid id");if(!e.displayName||"function"!=typeof e.displayName)throw new Error("Invalid displayName function");if("title"in e&&"function"!=typeof e.title)throw new Error("Invalid title function");if(!e.iconSvgInline||"function"!=typeof e.iconSvgInline)throw new Error("Invalid iconSvgInline function");if(!e.exec||"function"!=typeof e.exec)throw new Error("Invalid exec function");if("enabled"in e&&"function"!=typeof e.enabled)throw new Error("Invalid enabled function");if("execBatch"in e&&"function"!=typeof e.execBatch)throw new Error("Invalid execBatch function");if("order"in e&&"number"!=typeof e.order)throw new Error("Invalid order");if("parent"in e&&"string"!=typeof e.parent)throw new Error("Invalid parent");if(e.default&&!Object.values(m).includes(e.default))throw new Error("Invalid default");if("inline"in e&&"function"!=typeof e.inline)throw new Error("Invalid inline function");if("renderInline"in e&&"function"!=typeof e.renderInline)throw new Error("Invalid renderInline function")}}const v=function(e){typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],c.debug("FileActions initialized")),window._nc_fileactions.find((t=>t.id===e.id))?c.error(`FileAction ${e.id} already registered`,{action:e}):window._nc_fileactions.push(e)};var y=(e=>(e[e.NONE=0]="NONE",e[e.CREATE=4]="CREATE",e[e.READ=1]="READ",e[e.UPDATE=2]="UPDATE",e[e.DELETE=8]="DELETE",e[e.SHARE=16]="SHARE",e[e.ALL=31]="ALL",e))(y||{});const b=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","nc:share-attributes","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:share-types","oc:size","ocs:share-permissions"],C={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},x=function(e,t={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...b],window._nc_dav_namespaces={...C});const n={...window._nc_dav_namespaces,...t};return window._nc_dav_properties.find((t=>t===e))?(c.error(`${e} already registered`,{prop:e}),!1):e.startsWith("<")||2!==e.split(":").length?(c.error(`${e} is not valid. See example: 'oc:fileid'`,{prop:e}),!1):n[e.split(":")[0]]?(window._nc_dav_properties.push(e),window._nc_dav_namespaces=n,!0):(c.error(`${e} namespace unknown`,{prop:e,namespaces:n}),!1)},E=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...b]),window._nc_dav_properties.map((e=>`<${e} />`)).join(" ")},_=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...C}),Object.keys(window._nc_dav_namespaces).map((e=>`xmlns:${e}="${window._nc_dav_namespaces?.[e]}"`)).join(" ")},k=function(){return`<?xml version="1.0"?>\n\t\t<d:propfind ${_()}>\n\t\t\t<d:prop>\n\t\t\t\t${E()}\n\t\t\t</d:prop>\n\t\t</d:propfind>`},B=function(e){return`<?xml version="1.0" encoding="UTF-8"?>\n<d:searchrequest ${_()}\n\txmlns:ns="https://github.com/icewind1991/SearchDAV/ns">\n\t<d:basicsearch>\n\t\t<d:select>\n\t\t\t<d:prop>\n\t\t\t\t${E()}\n\t\t\t</d:prop>\n\t\t</d:select>\n\t\t<d:from>\n\t\t\t<d:scope>\n\t\t\t\t<d:href>/files/${(0,i.ts)()?.uid}/</d:href>\n\t\t\t\t<d:depth>infinity</d:depth>\n\t\t\t</d:scope>\n\t\t</d:from>\n\t\t<d:where>\n\t\t\t<d:and>\n\t\t\t\t<d:or>\n\t\t\t\t\t<d:not>\n\t\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t\t<d:getcontenttype/>\n\t\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t\t<d:literal>httpd/unix-directory</d:literal>\n\t\t\t\t\t\t</d:eq>\n\t\t\t\t\t</d:not>\n\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t<oc:size/>\n\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t<d:literal>0</d:literal>\n\t\t\t\t\t</d:eq>\n\t\t\t\t</d:or>\n\t\t\t\t<d:gt>\n\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t\t</d:prop>\n\t\t\t\t\t<d:literal>${e}</d:literal>\n\t\t\t\t</d:gt>\n\t\t\t</d:and>\n\t\t</d:where>\n\t\t<d:orderby>\n\t\t\t<d:order>\n\t\t\t\t<d:prop>\n\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t</d:prop>\n\t\t\t\t<d:descending/>\n\t\t\t</d:order>\n\t\t</d:orderby>\n\t\t<d:limit>\n\t\t\t<d:nresults>100</d:nresults>\n\t\t\t<ns:firstresult>0</ns:firstresult>\n\t\t</d:limit>\n\t</d:basicsearch>\n</d:searchrequest>`},T=function(e=""){let t=y.NONE;return e&&((e.includes("C")||e.includes("K"))&&(t|=y.CREATE),e.includes("G")&&(t|=y.READ),(e.includes("W")||e.includes("N")||e.includes("V"))&&(t|=y.UPDATE),e.includes("D")&&(t|=y.DELETE),e.includes("R")&&(t|=y.SHARE)),t};var N=(e=>(e.Folder="folder",e.File="file",e))(N||{});const O=function(e,t){return null!==e.match(t)},I=(e,t)=>{if(e.id&&"number"!=typeof e.id)throw new Error("Invalid id type of value");if(!e.source)throw new Error("Missing mandatory source");try{new URL(e.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!e.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(e.mtime&&!(e.mtime instanceof Date))throw new Error("Invalid mtime type");if(e.crtime&&!(e.crtime instanceof Date))throw new Error("Invalid crtime type");if(!e.mime||"string"!=typeof e.mime||!e.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in e&&"number"!=typeof e.size&&void 0!==e.size)throw new Error("Invalid size type");if("permissions"in e&&void 0!==e.permissions&&!("number"==typeof e.permissions&&e.permissions>=y.NONE&&e.permissions<=y.ALL))throw new Error("Invalid permissions");if(e.owner&&null!==e.owner&&"string"!=typeof e.owner)throw new Error("Invalid owner type");if(e.attributes&&"object"!=typeof e.attributes)throw new Error("Invalid attributes type");if(e.root&&"string"!=typeof e.root)throw new Error("Invalid root type");if(e.root&&!e.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(e.root&&!e.source.includes(e.root))throw new Error("Root must be part of the source");if(e.root&&O(e.source,t)){const n=e.source.match(t)[0];if(!e.source.includes((0,a.join)(n,e.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(e.status&&!Object.values(P).includes(e.status))throw new Error("Status must be a valid NodeStatus")};var P=(e=>(e.NEW="new",e.FAILED="failed",e.LOADING="loading",e.LOCKED="locked",e))(P||{});class S{_data;_attributes;_knownDavService=/(remote|public)\.php\/(web)?dav/i;constructor(e,t){I(e,t||this._knownDavService),this._data=e;const n={set:(e,t,n)=>(this.updateMtime(),Reflect.set(e,t,n)),deleteProperty:(e,t)=>(this.updateMtime(),Reflect.deleteProperty(e,t))};this._attributes=new Proxy(e.attributes||{},n),delete this._data.attributes,t&&(this._knownDavService=t)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:e}=new URL(this.source);return e+(0,s.Ec)(this.source.slice(e.length))}get basename(){return(0,a.basename)(this.source)}get extension(){return(0,a.extname)(this.source)}get dirname(){if(this.root){let e=this.source;this.isDavRessource&&(e=e.split(this._knownDavService).pop());const t=e.indexOf(this.root),n=this.root.replace(/\/$/,"");return(0,a.dirname)(e.slice(t+n.length)||"/")}const e=new URL(this.source);return(0,a.dirname)(e.pathname)}get mime(){return this._data.mime}get mtime(){return this._data.mtime}get crtime(){return this._data.crtime}get size(){return this._data.size}get attributes(){return this._attributes}get permissions(){return null!==this.owner||this.isDavRessource?void 0!==this._data.permissions?this._data.permissions:y.NONE:y.READ}get owner(){return this.isDavRessource?this._data.owner:null}get isDavRessource(){return O(this.source,this._knownDavService)}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavRessource&&(0,a.dirname)(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let e=this.source;this.isDavRessource&&(e=e.split(this._knownDavService).pop());const t=e.indexOf(this.root),n=this.root.replace(/\/$/,"");return e.slice(t+n.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){return this._data?.id||this.attributes?.fileid}get status(){return this._data?.status}set status(e){this._data.status=e}move(e){I({...this._data,source:e},this._knownDavService),this._data.source=e,this.updateMtime()}rename(e){if(e.includes("/"))throw new Error("Invalid basename");this.move((0,a.dirname)(this.source)+"/"+e)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}}class R extends S{get type(){return N.File}}class L extends S{constructor(e){super({...e,mime:"httpd/unix-directory"})}get type(){return N.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}}const j=`/files/${(0,i.ts)()?.uid}`,D=(0,l.generateRemoteUrl)("dav"),$=function(e=D,t={}){const n=(0,d.eI)(e,{headers:t});function r(e){n.setHeaders({...t,"X-Requested-With":"XMLHttpRequest",requesttoken:e??""})}return(0,i._S)(r),r((0,i.IH)()),(0,d.lD)().patch("fetch",((e,t)=>{const n=t.headers;return n?.method&&(t.method=n.method,delete n.method),fetch(e,t)})),n},M=async(e,t="/",n=j)=>(await e.getDirectoryContents(`${n}${t}`,{details:!0,data:`<?xml version="1.0"?>\n\t\t<oc:filter-files ${_()}>\n\t\t\t<d:prop>\n\t\t\t\t${E()}\n\t\t\t</d:prop>\n\t\t\t<oc:filter-rules>\n\t\t\t\t<oc:favorite>1</oc:favorite>\n\t\t\t</oc:filter-rules>\n\t\t</oc:filter-files>`,headers:{method:"REPORT"},includeSelf:!0})).data.filter((e=>e.filename!==t)).map((e=>F(e,n))),F=function(e,t=j,n=D){const r=e.props,o=T(r?.permissions),a=r?.["owner-id"]||(0,i.ts)()?.uid,s={id:r?.fileid||0,source:`${n}${e.filename}`,mtime:new Date(Date.parse(e.lastmod)),mime:e.mime,size:r?.size||Number.parseInt(r.getcontentlength||"0"),permissions:o,owner:a,root:t,attributes:{...e,...r,hasPreview:r?.["has-preview"]}};return delete s.attributes?.props,"file"===e.type?new R(s):new L(s)};class V{_views=[];_currentView=null;register(e){if(this._views.find((t=>t.id===e.id)))throw new Error(`View id ${e.id} is already registered`);this._views.push(e)}remove(e){const t=this._views.findIndex((t=>t.id===e));-1!==t&&this._views.splice(t,1)}get views(){return this._views}setActive(e){this._currentView=e}get active(){return this._currentView}}const U=function(){return typeof window._nc_navigation>"u"&&(window._nc_navigation=new V,c.debug("Navigation service initialized")),window._nc_navigation};class H{_column;constructor(e){q(e),this._column=e}get id(){return this._column.id}get title(){return this._column.title}get render(){return this._column.render}get sort(){return this._column.sort}get summary(){return this._column.summary}}const q=function(e){if(!e.id||"string"!=typeof e.id)throw new Error("A column id is required");if(!e.title||"string"!=typeof e.title)throw new Error("A column title is required");if(!e.render||"function"!=typeof e.render)throw new Error("A render function is required");if(e.sort&&"function"!=typeof e.sort)throw new Error("Column sortFunction must be a function");if(e.summary&&"function"!=typeof e.summary)throw new Error("Column summary must be a function");return!0};var z={},Y={};!function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+t+"]["+t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+n+"$");e.isExist=function(e){return typeof e<"u"},e.isEmptyObject=function(e){return 0===Object.keys(e).length},e.merge=function(e,t,n){if(t){const i=Object.keys(t),r=i.length;for(let o=0;o<r;o++)e[i[o]]="strict"===n?[t[i[o]]]:t[i[o]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.isName=function(e){const t=i.exec(e);return!(null===t||typeof t>"u")},e.getAllMatches=function(e,t){const n=[];let i=t.exec(e);for(;i;){const r=[];r.startIndex=t.lastIndex-i[0].length;const o=i.length;for(let e=0;e<o;e++)r.push(i[e]);n.push(r),i=t.exec(e)}return n},e.nameRegexp=n}(Y);const W=Y,G={allowBooleanAttributes:!1,unpairedTags:[]};function Z(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function X(e,t){const n=t;for(;t<e.length;t++)if("?"==e[t]||" "==e[t]){const i=e.substr(n,t-n);if(t>5&&"xml"===i)return re("InvalidXml","XML declaration allowed only at the start of the document.",se(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}continue}return t}function K(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}z.validate=function(e,t){t=Object.assign({},G,t);const n=[];let i=!1,r=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let o=0;o<e.length;o++)if("<"===e[o]&&"?"===e[o+1]){if(o+=2,o=X(e,o),o.err)return o}else{if("<"!==e[o]){if(Z(e[o]))continue;return re("InvalidChar","char '"+e[o]+"' is not expected.",se(e,o))}{let a=o;if(o++,"!"===e[o]){o=K(e,o);continue}{let s=!1;"/"===e[o]&&(s=!0,o++);let l="";for(;o<e.length&&">"!==e[o]&&" "!==e[o]&&"\t"!==e[o]&&"\n"!==e[o]&&"\r"!==e[o];o++)l+=e[o];if(l=l.trim(),"/"===l[l.length-1]&&(l=l.substring(0,l.length-1),o--),!ae(l)){let t;return t=0===l.trim().length?"Invalid space after '<'.":"Tag '"+l+"' is an invalid name.",re("InvalidTag",t,se(e,o))}const d=ee(e,o);if(!1===d)return re("InvalidAttr","Attributes for '"+l+"' have open quote.",se(e,o));let c=d.value;if(o=d.index,"/"===c[c.length-1]){const n=o-c.length;c=c.substring(0,c.length-1);const r=ne(c,t);if(!0!==r)return re(r.err.code,r.err.msg,se(e,n+r.err.line));i=!0}else if(s){if(!d.tagClosed)return re("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",se(e,o));if(c.trim().length>0)return re("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",se(e,a));{const t=n.pop();if(l!==t.tagName){let n=se(e,t.tagStartPos);return re("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+l+"'.",se(e,a))}0==n.length&&(r=!0)}}else{const s=ne(c,t);if(!0!==s)return re(s.err.code,s.err.msg,se(e,o-c.length+s.err.line));if(!0===r)return re("InvalidXml","Multiple possible root nodes found.",se(e,o));-1!==t.unpairedTags.indexOf(l)||n.push({tagName:l,tagStartPos:a}),i=!0}for(o++;o<e.length;o++)if("<"===e[o]){if("!"===e[o+1]){o++,o=K(e,o);continue}if("?"!==e[o+1])break;if(o=X(e,++o),o.err)return o}else if("&"===e[o]){const t=ie(e,o);if(-1==t)return re("InvalidChar","char '&' is not expected.",se(e,o));o=t}else if(!0===r&&!Z(e[o]))return re("InvalidXml","Extra text at the end",se(e,o));"<"===e[o]&&o--}}}return i?1==n.length?re("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",se(e,n[0].tagStartPos)):!(n.length>0)||re("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):re("InvalidXml","Start tag expected.",1)};const J='"',Q="'";function ee(e,t){let n="",i="",r=!1;for(;t<e.length;t++){if(e[t]===J||e[t]===Q)""===i?i=e[t]:i!==e[t]||(i="");else if(">"===e[t]&&""===i){r=!0;break}n+=e[t]}return""===i&&{value:n,index:t,tagClosed:r}}const te=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function ne(e,t){const n=W.getAllMatches(e,te),i={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return re("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",le(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return re("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",le(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return re("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",le(n[e]));const r=n[e][2];if(!oe(r))return re("InvalidAttr","Attribute '"+r+"' is an invalid name.",le(n[e]));if(i.hasOwnProperty(r))return re("InvalidAttr","Attribute '"+r+"' is repeated.",le(n[e]));i[r]=1}return!0}function ie(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function re(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function oe(e){return W.isName(e)}function ae(e){return W.isName(e)}function se(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function le(e){return e.startIndex+e[1].length}var de={};const ce={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}};de.buildOptions=function(e){return Object.assign({},ce,e)},de.defaultOptions=ce;const ue=Y;function pe(e,t){let n="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)n+=e[t];if(n=n.trim(),-1!==n.indexOf(" "))throw new Error("External entites are not supported");const i=e[t++];let r="";for(;t<e.length&&e[t]!==i;t++)r+=e[t];return[n,r,t]}function fe(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function he(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function Ae(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function ge(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function me(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function we(e){if(ue.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}const ve=/^[-+]?0x[a-fA-F0-9]+$/,ye=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const be={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};const Ce=Y,xe=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}},Ee=function(e,t){const n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let i=1,r=!1,o=!1,a="";for(;t<e.length;t++)if("<"!==e[t]||o)if(">"===e[t]){if(o?"-"===e[t-1]&&"-"===e[t-2]&&(o=!1,i--):i--,0===i)break}else"["===e[t]?r=!0:a+=e[t];else{if(r&&he(e,t))t+=7,[entityName,val,t]=pe(e,t+1),-1===val.indexOf("&")&&(n[we(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(r&&Ae(e,t))t+=8;else if(r&&ge(e,t))t+=8;else if(r&&me(e,t))t+=9;else{if(!fe)throw new Error("Invalid DOCTYPE");o=!0}i++,a=""}if(0!==i)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:t}},_e=function(e,t={}){if(t=Object.assign({},be,t),!e||"string"!=typeof e)return e;let n=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(n))return e;if(t.hex&&ve.test(n))return Number.parseInt(n,16);{const i=ye.exec(n);if(i){const r=i[1],o=i[2];let a=function(e){return e&&-1!==e.indexOf(".")&&("."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1))),e}(i[3]);const s=i[4]||i[6];if(!t.leadingZeros&&o.length>0&&r&&"."!==n[2])return e;if(!t.leadingZeros&&o.length>0&&!r&&"."!==n[1])return e;{const i=Number(n),l=""+i;return-1!==l.search(/[eE]/)||s?t.eNotation?i:e:-1!==n.indexOf(".")?"0"===l&&""===a||l===a||r&&l==="-"+a?i:e:o?a===l||r+a===l?i:e:n===l||n===r+l?i:e}}return e}};function ke(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const i=t[n];this.lastEntities[i]={regex:new RegExp("&"+i+";","g"),val:e[i]}}}function Be(e,t,n,i,r,o,a){if(void 0!==e&&(this.options.trimValues&&!i&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));const i=this.options.tagValueProcessor(t,e,n,r,o);return null==i?e:typeof i!=typeof e||i!==e?i:this.options.trimValues||e.trim()===e?Me(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Te(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Ce.nameRegexp);const Ne=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function Oe(e,t,n){if(!this.options.ignoreAttributes&&"string"==typeof e){const n=Ce.getAllMatches(e,Ne),i=n.length,r={};for(let e=0;e<i;e++){const i=this.resolveNameSpace(n[e][1]);let o=n[e][4],a=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(a=this.options.transformAttributeName(a)),"__proto__"===a&&(a="#__proto__"),void 0!==o){this.options.trimValues&&(o=o.trim()),o=this.replaceEntitiesValue(o);const e=this.options.attributeValueProcessor(i,o,t);r[a]=null==e?o:typeof e!=typeof o||e!==o?e:Me(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(r[a]=!0)}if(!Object.keys(r).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=r,e}return r}}const Ie=function(e){e=e.replace(/\r\n?/g,"\n");const t=new xe("!xml");let n=t,i="",r="";for(let o=0;o<e.length;o++)if("<"===e[o])if("/"===e[o+1]){const t=je(e,">",o,"Closing Tag is not closed.");let a=e.substring(o+2,t).trim();if(this.options.removeNSPrefix){const e=a.indexOf(":");-1!==e&&(a=a.substr(e+1))}this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&(i=this.saveTextToParentTag(i,n,r));const s=r.substring(r.lastIndexOf(".")+1);if(a&&-1!==this.options.unpairedTags.indexOf(a))throw new Error(`Unpaired tag can not be used as closing tag: </${a}>`);let l=0;s&&-1!==this.options.unpairedTags.indexOf(s)?(l=r.lastIndexOf(".",r.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=r.lastIndexOf("."),r=r.substring(0,l),n=this.tagsNodeStack.pop(),i="",o=t}else if("?"===e[o+1]){let t=De(e,o,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(i=this.saveTextToParentTag(i,n,r),!(this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags)){const e=new xe(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,r,t.tagName)),this.addChild(n,e,r)}o=t.closeIndex+1}else if("!--"===e.substr(o+1,3)){const t=je(e,"--\x3e",o+4,"Comment is not closed.");if(this.options.commentPropName){const a=e.substring(o+4,t-2);i=this.saveTextToParentTag(i,n,r),n.add(this.options.commentPropName,[{[this.options.textNodeName]:a}])}o=t}else if("!D"===e.substr(o+1,2)){const t=Ee(e,o);this.docTypeEntities=t.entities,o=t.i}else if("!["===e.substr(o+1,2)){const t=je(e,"]]>",o,"CDATA is not closed.")-2,a=e.substring(o+9,t);if(i=this.saveTextToParentTag(i,n,r),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:a}]);else{let e=this.parseTextData(a,n.tagname,r,!0,!1,!0);null==e&&(e=""),n.add(this.options.textNodeName,e)}o=t+2}else{let a=De(e,o,this.options.removeNSPrefix),s=a.tagName;const l=a.rawTagName;let d=a.tagExp,c=a.attrExpPresent,u=a.closeIndex;this.options.transformTagName&&(s=this.options.transformTagName(s)),n&&i&&"!xml"!==n.tagname&&(i=this.saveTextToParentTag(i,n,r,!1));const p=n;if(p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(n=this.tagsNodeStack.pop(),r=r.substring(0,r.lastIndexOf("."))),s!==t.tagname&&(r+=r?"."+s:s),this.isItStopNode(this.options.stopNodes,r,s)){let t="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)o=a.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(s))o=a.closeIndex;else{const n=this.readStopNodeData(e,l,u+1);if(!n)throw new Error(`Unexpected end of ${l}`);o=n.i,t=n.tagContent}const i=new xe(s);s!==d&&c&&(i[":@"]=this.buildAttributesMap(d,r,s)),t&&(t=this.parseTextData(t,s,r,!0,c,!0,!0)),r=r.substr(0,r.lastIndexOf(".")),i.add(this.options.textNodeName,t),this.addChild(n,i,r)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){"/"===s[s.length-1]?(s=s.substr(0,s.length-1),r=r.substr(0,r.length-1),d=s):d=d.substr(0,d.length-1),this.options.transformTagName&&(s=this.options.transformTagName(s));const e=new xe(s);s!==d&&c&&(e[":@"]=this.buildAttributesMap(d,r,s)),this.addChild(n,e,r),r=r.substr(0,r.lastIndexOf("."))}else{const e=new xe(s);this.tagsNodeStack.push(n),s!==d&&c&&(e[":@"]=this.buildAttributesMap(d,r,s)),this.addChild(n,e,r),n=e}i="",o=u}}else i+=e[o];return t.child};function Pe(e,t,n){const i=this.options.updateTag(t.tagname,n,t[":@"]);!1===i||("string"==typeof i&&(t.tagname=i),e.addChild(t))}const Se=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function Re(e,t,n,i){return e&&(void 0===i&&(i=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,i))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function Le(e,t,n){const i="*."+n;for(const n in e){const r=e[n];if(i===r||t===r)return!0}return!1}function je(e,t,n,i){const r=e.indexOf(t,n);if(-1===r)throw new Error(i);return r+t.length-1}function De(e,t,n,i=">"){const r=function(e,t,n=">"){let i,r="";for(let o=t;o<e.length;o++){let t=e[o];if(i)t===i&&(i="");else if('"'===t||"'"===t)i=t;else if(t===n[0]){if(!n[1])return{data:r,index:o};if(e[o+1]===n[1])return{data:r,index:o}}else"\t"===t&&(t=" ");r+=t}}(e,t+1,i);if(!r)return;let o=r.data;const a=r.index,s=o.search(/\s/);let l=o,d=!0;-1!==s&&(l=o.substr(0,s).replace(/\s\s*$/,""),o=o.substr(s+1));const c=l;if(n){const e=l.indexOf(":");-1!==e&&(l=l.substr(e+1),d=l!==r.data.substr(e+1))}return{tagName:l,tagExp:o,closeIndex:a,attrExpPresent:d,rawTagName:c}}function $e(e,t,n){const i=n;let r=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const o=je(e,">",n,`${t} is not closed`);if(e.substring(n+2,o).trim()===t&&(r--,0===r))return{tagContent:e.substring(i,n),i:o};n=o}else if("?"===e[n+1])n=je(e,"?>",n+1,"StopNode is not closed.");else if("!--"===e.substr(n+1,3))n=je(e,"--\x3e",n+3,"StopNode is not closed.");else if("!["===e.substr(n+1,2))n=je(e,"]]>",n,"StopNode is not closed.")-2;else{const i=De(e,n,">");i&&((i&&i.tagName)===t&&"/"!==i.tagExp[i.tagExp.length-1]&&r++,n=i.closeIndex)}}function Me(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&_e(e,n)}return Ce.isExist(e)?e:""}var Fe={};function Ve(e,t,n){let i;const r={};for(let o=0;o<e.length;o++){const a=e[o],s=Ue(a);let l="";if(l=void 0===n?s:n+"."+s,s===t.textNodeName)void 0===i?i=a[s]:i+=""+a[s];else{if(void 0===s)continue;if(a[s]){let e=Ve(a[s],t,l);const n=qe(e,t);a[":@"]?He(e,a[":@"],l,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==r[s]&&r.hasOwnProperty(s)?(Array.isArray(r[s])||(r[s]=[r[s]]),r[s].push(e)):t.isArray(s,l,n)?r[s]=[e]:r[s]=e}}}return"string"==typeof i?i.length>0&&(r[t.textNodeName]=i):void 0!==i&&(r[t.textNodeName]=i),r}function Ue(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function He(e,t,n,i){if(t){const r=Object.keys(t),o=r.length;for(let a=0;a<o;a++){const o=r[a];i.isArray(o,n+"."+o,!0,!0)?e[o]=[t[o]]:e[o]=t[o]}}}function qe(e,t){const{textNodeName:n}=t,i=Object.keys(e).length;return!(0!==i&&(1!==i||!e[n]&&"boolean"!=typeof e[n]&&0!==e[n]))}Fe.prettify=function(e,t){return Ve(e,t)};const{buildOptions:ze}=de,Ye=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=ke,this.parseXml=Ie,this.parseTextData=Be,this.resolveNameSpace=Te,this.buildAttributesMap=Oe,this.isItStopNode=Le,this.replaceEntitiesValue=Se,this.readStopNodeData=$e,this.saveTextToParentTag=Re,this.addChild=Pe}},{prettify:We}=Fe,Ge=z;function Ze(e,t,n,i){let r="",o=!1;for(let a=0;a<e.length;a++){const s=e[a],l=Xe(s);if(void 0===l)continue;let d="";if(d=0===n.length?l:`${n}.${l}`,l===t.textNodeName){let e=s[l];Je(d,t)||(e=t.tagValueProcessor(l,e),e=Qe(e,t)),o&&(r+=i),r+=e,o=!1;continue}if(l===t.cdataPropName){o&&(r+=i),r+=`<![CDATA[${s[l][0][t.textNodeName]}]]>`,o=!1;continue}if(l===t.commentPropName){r+=i+`\x3c!--${s[l][0][t.textNodeName]}--\x3e`,o=!0;continue}if("?"===l[0]){const e=Ke(s[":@"],t),n="?xml"===l?"":i;let a=s[l][0][t.textNodeName];a=0!==a.length?" "+a:"",r+=n+`<${l}${a}${e}?>`,o=!0;continue}let c=i;""!==c&&(c+=t.indentBy);const u=i+`<${l}${Ke(s[":@"],t)}`,p=Ze(s[l],t,d,c);-1!==t.unpairedTags.indexOf(l)?t.suppressUnpairedNode?r+=u+">":r+=u+"/>":p&&0!==p.length||!t.suppressEmptyNode?p&&p.endsWith(">")?r+=u+`>${p}${i}</${l}>`:(r+=u+">",p&&""!==i&&(p.includes("/>")||p.includes("</"))?r+=i+t.indentBy+p+i:r+=p,r+=`</${l}>`):r+=u+"/>",o=!0}return r}function Xe(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const i=t[n];if(e.hasOwnProperty(i)&&":@"!==i)return i}}function Ke(e,t){let n="";if(e&&!t.ignoreAttributes)for(let i in e){if(!e.hasOwnProperty(i))continue;let r=t.attributeValueProcessor(i,e[i]);r=Qe(r,t),!0===r&&t.suppressBooleanAttributes?n+=` ${i.substr(t.attributeNamePrefix.length)}`:n+=` ${i.substr(t.attributeNamePrefix.length)}="${r}"`}return n}function Je(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let i in t.stopNodes)if(t.stopNodes[i]===e||t.stopNodes[i]==="*."+n)return!0;return!1}function Qe(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const i=t.entities[n];e=e.replace(i.regex,i.val)}return e}const et=function(e,t){let n="";return t.format&&t.indentBy.length>0&&(n="\n"),Ze(e,t,"",n)},tt={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function nt(e){this.options=Object.assign({},tt,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=ot),this.processTextOrObjNode=it,this.options.format?(this.indentate=rt,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function it(e,t,n){const i=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,i.attrStr,n):this.buildObjectNode(i.val,t,i.attrStr,n)}function rt(e){return this.options.indentBy.repeat(e)}function ot(e){return!(!e.startsWith(this.options.attributeNamePrefix)||e===this.options.textNodeName)&&e.substr(this.attrPrefixLen)}nt.prototype.build=function(e){return this.options.preserveOrder?et(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},nt.prototype.j2x=function(e,t){let n="",i="";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r))if(typeof e[r]>"u")this.isAttribute(r)&&(i+="");else if(null===e[r])this.isAttribute(r)?i+="":"?"===r[0]?i+=this.indentate(t)+"<"+r+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+r+"/"+this.tagEndChar;else if(e[r]instanceof Date)i+=this.buildTextValNode(e[r],r,"",t);else if("object"!=typeof e[r]){const o=this.isAttribute(r);if(o)n+=this.buildAttrPairStr(o,""+e[r]);else if(r===this.options.textNodeName){let t=this.options.tagValueProcessor(r,""+e[r]);i+=this.replaceEntitiesValue(t)}else i+=this.buildTextValNode(e[r],r,"",t)}else if(Array.isArray(e[r])){const n=e[r].length;let o="";for(let a=0;a<n;a++){const n=e[r][a];typeof n>"u"||(null===n?"?"===r[0]?i+=this.indentate(t)+"<"+r+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+r+"/"+this.tagEndChar:"object"==typeof n?this.options.oneListGroup?o+=this.j2x(n,t+1).val:o+=this.processTextOrObjNode(n,r,t):o+=this.buildTextValNode(n,r,"",t))}this.options.oneListGroup&&(o=this.buildObjectNode(o,r,"",t)),i+=o}else if(this.options.attributesGroupName&&r===this.options.attributesGroupName){const t=Object.keys(e[r]),i=t.length;for(let o=0;o<i;o++)n+=this.buildAttrPairStr(t[o],""+e[r][t[o]])}else i+=this.processTextOrObjNode(e[r],r,t);return{attrStr:n,val:i}},nt.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},nt.prototype.buildObjectNode=function(e,t,n,i){if(""===e)return"?"===t[0]?this.indentate(i)+"<"+t+n+"?"+this.tagEndChar:this.indentate(i)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let r="</"+t+this.tagEndChar,o="";return"?"===t[0]&&(o="?",r=""),!n&&""!==n||-1!==e.indexOf("<")?!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===o.length?this.indentate(i)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(i)+"<"+t+n+o+this.tagEndChar+e+this.indentate(i)+r:this.indentate(i)+"<"+t+n+o+">"+e+r}},nt.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},nt.prototype.buildTextValNode=function(e,t,n,i){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(i)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(i)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(i)+"<"+t+n+"?"+this.tagEndChar;{let r=this.options.tagValueProcessor(t,e);return r=this.replaceEntitiesValue(r),""===r?this.indentate(i)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(i)+"<"+t+n+">"+r+"</"+t+this.tagEndChar}},nt.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e};var at={XMLParser:class{constructor(e){this.externalEntities={},this.options=ze(e)}parse(e,t){if("string"!=typeof e){if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=Ge.validate(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new Ye(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(e);return this.options.preserveOrder||void 0===i?i:We(i,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}},XMLValidator:z,XMLBuilder:nt};class st{_view;constructor(e){lt(e),this._view=e}get id(){return this._view.id}get name(){return this._view.name}get caption(){return this._view.caption}get emptyTitle(){return this._view.emptyTitle}get emptyCaption(){return this._view.emptyCaption}get getContents(){return this._view.getContents}get icon(){return this._view.icon}set icon(e){this._view.icon=e}get order(){return this._view.order}set order(e){this._view.order=e}get params(){return this._view.params}set params(e){this._view.params=e}get columns(){return this._view.columns}get emptyView(){return this._view.emptyView}get parent(){return this._view.parent}get sticky(){return this._view.sticky}get expanded(){return this._view.expanded}set expanded(e){this._view.expanded=e}get defaultSortKey(){return this._view.defaultSortKey}}const lt=function(e){if(!e.id||"string"!=typeof e.id)throw new Error("View id is required and must be a string");if(!e.name||"string"!=typeof e.name)throw new Error("View name is required and must be a string");if(e.columns&&e.columns.length>0&&(!e.caption||"string"!=typeof e.caption))throw new Error("View caption is required for top-level views and must be a string");if(!e.getContents||"function"!=typeof e.getContents)throw new Error("View getContents is required and must be a function");if(!e.icon||"string"!=typeof e.icon||!function(e){if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);if(0===(e=e.trim()).length||!0!==at.XMLValidator.validate(e))return!1;let t;const n=new at.XMLParser;try{t=n.parse(e)}catch{return!1}return!(!t||!("svg"in t))}(e.icon))throw new Error("View icon is required and must be a valid svg string");if(!("order"in e)||"number"!=typeof e.order)throw new Error("View order is required and must be a number");if(e.columns&&e.columns.forEach((e=>{if(!(e instanceof H))throw new Error("View columns must be an array of Column. Invalid column found")})),e.emptyView&&"function"!=typeof e.emptyView)throw new Error("View emptyView must be a function");if(e.parent&&"string"!=typeof e.parent)throw new Error("View parent must be a string");if("sticky"in e&&"boolean"!=typeof e.sticky)throw new Error("View sticky must be a boolean");if("expanded"in e&&"boolean"!=typeof e.expanded)throw new Error("View expanded must be a boolean");if(e.defaultSortKey&&"string"!=typeof e.defaultSortKey)throw new Error("View defaultSortKey must be a string");return!0},dt=function(e){return f().registerEntry(e)},ct=function(e){return f().unregisterEntry(e)}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=r,e=[],a.O=(t,n,i,r)=>{if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],r=e[c][2];for(var s=!0,l=0;l<n.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,i,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+"-"+e+".js?v="+{4720:"bf813bc45f5afa044293",6512:"a386aad6f01ecddf416d"}[e],a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="nextcloud:",a.l=(e,t,r,o)=>{if(n[e])n[e].push(t);else{var s,l;if(void 0!==r)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+r){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",i+r),s.src=e),n[e]=[t];var p=(t,i)=>{s.onerror=s.onload=null,clearTimeout(f);var r=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(i))),t)return t(i)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.j=9837,(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&!e;)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{a.b=document.baseURI||self.location.href;var e={9837:0};a.f.j=(t,n)=>{var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=r);var o=a.p+a.u(t),s=new Error;a.l(o,(n=>{if(a.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,i[1](s)}}),"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,o=n[0],s=n[1],l=n[2],d=0;if(o.some((t=>0!==e[t]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(l)var c=l(a)}for(t&&t(n);d<o.length;d++)r=o[d],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},n=self.webpackChunknextcloud=self.webpackChunknextcloud||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0;var s=a.O(void 0,[7874],(()=>a(34507)));s=a.O(s)})();
//# sourceMappingURL=files-init.js.map?v=52098b6d9dbfb34019d5