/*! For license information please see settings-users-8351.js.LICENSE.txt */
(self.webpackChunknextcloud=self.webpackChunknextcloud||[]).push([[8351],{51193:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),s=n.n(o)()(i());s.push([t.id,".empty[data-v-39d17c45] .icon-vue{width:64px;height:64px}.empty[data-v-39d17c45] .icon-vue svg{max-width:64px;max-height:64px}.user-list[data-v-39d17c45]{--avatar-cell-width: 48px;--cell-padding: 7px;--cell-width: 200px;--cell-min-width: calc(var(--cell-width) - (2 * var(--cell-padding)));display:block;overflow:auto;height:100%}.user-list[data-v-39d17c45] .user-list__body{display:flex;flex-direction:column;width:100%;position:relative;margin-top:var(--row-height)}.user-list[data-v-39d17c45] .user-list__row{position:absolute;display:flex;height:var(--row-height);background-color:var(--color-main-background);border-bottom:1px solid var(--color-border)}.user-list[data-v-39d17c45] .user-list__row:hover{background-color:var(--color-background-hover)}.user-list[data-v-39d17c45] .user-list__row:hover .row__cell:not(.row__cell--actions){background-color:var(--color-background-hover)}.user-list[data-v-39d17c45] .vue-recycle-scroller__slot.user-list__header,.user-list[data-v-39d17c45] .vue-recycle-scroller__slot.user-list__footer{position:sticky}.user-list[data-v-39d17c45] .vue-recycle-scroller__slot.user-list__header{top:0;z-index:10}.user-list[data-v-39d17c45] .vue-recycle-scroller__slot.user-list__footer{left:0}","",{version:3,sources:["webpack://./apps/settings/src/components/UserList.vue","webpack://./apps/settings/src/components/Users/shared/styles.scss"],names:[],mappings:"AAKE,kCACC,UAAA,CACA,WAAA,CAEA,sCACC,cAAA,CACA,eAAA,CAMJ,4BACC,yBAAA,CACA,mBAAA,CACA,mBAAA,CACA,qEAAA,CAEA,aAAA,CACA,aAAA,CACA,WAAA,CAIE,6CACC,YAAA,CACA,qBAAA,CACA,UAAA,CAEA,iBAAA,CACA,4BAAA,CAGD,4CCfF,iBAAA,CACA,YAAA,CACA,wBAAA,CACA,6CAAA,CDcG,2CAAA,CAEA,kDACC,8CAAA,CAEA,sFACC,8CAAA,CAOH,oJAEC,eAAA,CAGD,0EACC,KAAA,CACA,UAAA,CAGD,0EACC,MAAA",sourcesContent:["\n@import './Users/shared/styles.scss';\n\n.empty {\n\t:deep {\n\t\t.icon-vue {\n\t\t\twidth: 64px;\n\t\t\theight: 64px;\n\n\t\t\tsvg {\n\t\t\t\tmax-width: 64px;\n\t\t\t\tmax-height: 64px;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.user-list {\n\t--avatar-cell-width: 48px;\n\t--cell-padding: 7px;\n\t--cell-width: 200px;\n\t--cell-min-width: calc(var(--cell-width) - (2 * var(--cell-padding)));\n\n\tdisplay: block;\n\toverflow: auto;\n\theight: 100%;\n\n\t:deep {\n\t\t.user-list {\n\t\t\t&__body {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\twidth: 100%;\n\t\t\t\t// Necessary for virtual scrolling absolute\n\t\t\t\tposition: relative;\n\t\t\t\tmargin-top: var(--row-height);\n\t\t\t}\n\n\t\t\t&__row {\n\t\t\t\t@include row;\n\t\t\t\tborder-bottom: 1px solid var(--color-border);\n\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground-color: var(--color-background-hover);\n\n\t\t\t\t\t.row__cell:not(.row__cell--actions) {\n\t\t\t\t\t\tbackground-color: var(--color-background-hover);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.vue-recycle-scroller__slot {\n\t\t\t&.user-list__header,\n\t\t\t&.user-list__footer {\n\t\t\t\tposition: sticky;\n\t\t\t}\n\n\t\t\t&.user-list__header {\n\t\t\t\ttop: 0;\n\t\t\t\tz-index: 10;\n\t\t\t}\n\n\t\t\t&.user-list__footer {\n\t\t\t\tleft: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n","/**\n * @copyright 2023 Christopher Ng <chrng8@gmail.com>\n *\n * @author Christopher Ng <chrng8@gmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n@mixin row {\n\tposition: absolute;\n\tdisplay: flex;\n\theight: var(--row-height);\n\tbackground-color: var(--color-main-background);\n}\n\n@mixin cell {\n\t&__cell {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\tpadding: 0 var(--cell-padding);\n\t\twidth: var(--cell-width);\n\t\tcolor: var(--color-main-text);\n\n\t\tstrong,\n\t\tspan,\n\t\tlabel {\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t\toverflow-wrap: anywhere;\n\t\t}\n\n\t\t@media (min-width: 670px) { /* Show one &--large column between stickied columns */\n\t\t\t&--avatar,\n\t\t\t&--displayname {\n\t\t\t\tposition: sticky;\n\t\t\t\tz-index: 10;\n\t\t\t\tbackground-color: var(--color-main-background);\n\t\t\t}\n\n\t\t\t&--avatar {\n\t\t\t\tleft: 0;\n\t\t\t}\n\n\t\t\t&--displayname {\n\t\t\t\tleft: var(--avatar-cell-width);\n\t\t\t\tborder-right: 1px solid var(--color-border);\n\t\t\t}\n\t\t}\n\n\t\t&--avatar {\n\t\t\twidth: var(--avatar-cell-width);\n\t\t\talign-items: center;\n\t\t\tpadding: 0;\n\t\t\tuser-select: none;\n\t\t}\n\n\t\t&--multiline {\n\t\t\tspan {\n\t\t\t\tline-height: 1.3em;\n\t\t\t\twhite-space: unset;\n\n\t\t\t\t@supports (-webkit-line-clamp: 2) {\n\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t-webkit-line-clamp: 2;\n\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&--large {\n\t\t\twidth: 300px;\n\t\t}\n\n\t\t&--obfuscated {\n\t\t\twidth: 400px;\n\t\t}\n\n\t\t&--actions {\n\t\t\tposition: sticky;\n\t\t\tright: 0;\n\t\t\tz-index: 10;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: center;\n\t\t\twidth: 110px;\n\t\t\tbackground-color: var(--color-main-background);\n\t\t\tborder-left: 1px solid var(--color-border);\n\t\t}\n\t}\n\n\t&__subtitle {\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n}\n"],sourceRoot:""}]),e.Z=s},68884:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),s=n.n(o)()(i());s.push([t.id,".modal__form[data-v-29bc5eca]{display:flex;flex-direction:column;align-items:center;padding:20px;gap:4px 0}.modal__form #new-user-groups-input[data-v-29bc5eca]{position:absolute;opacity:0;width:0}.modal__item[data-v-29bc5eca]{width:100%}.modal__item[data-v-29bc5eca]:not(:focus):not(:active){border-color:var(--color-border-dark)}.modal__hint[data-v-29bc5eca]{color:var(--color-text-maxcontrast);margin-top:8px;align-self:flex-start}.modal__label[data-v-29bc5eca]{display:block;padding:4px 0}.modal__select[data-v-29bc5eca]{width:100%}.modal__submit[data-v-29bc5eca]{margin-top:20px}","",{version:3,sources:["webpack://./apps/settings/src/components/Users/NewUserModal.vue"],names:[],mappings:"AAEC,8BACC,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,YAAA,CACA,SAAA,CAGA,qDACC,iBAAA,CACA,SAAA,CAMA,OAAA,CAIF,8BACC,UAAA,CAEA,uDACC,qCAAA,CAIF,8BACC,mCAAA,CACA,cAAA,CACA,qBAAA,CAGD,+BACC,aAAA,CACA,aAAA,CAGD,gCACC,UAAA,CAGD,gCACC,eAAA",sourcesContent:['\n.modal {\n\t&__form {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 20px;\n\t\tgap: 4px 0;\n\n\t\t/* fake input for groups validation */\n\t\t#new-user-groups-input {\n\t\t\tposition: absolute;\n\t\t\topacity: 0;\n\t\t\t/* The "hidden" input is behind the NcSelect, so in general it does\n\t\t\t* not receives clicks. However, with Firefox, after the validation\n\t\t\t* fails, it will receive the first click done on it, so its width needs\n\t\t\t* to be set to 0 to prevent that ("pointer-events: none" does not\n\t\t\t* prevent it). */\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t&__item {\n\t\twidth: 100%;\n\n\t\t&:not(:focus):not(:active) {\n\t\t\tborder-color: var(--color-border-dark);\n\t\t}\n\t}\n\n\t&__hint {\n\t\tcolor: var(--color-text-maxcontrast);\n\t\tmargin-top: 8px;\n\t\talign-self: flex-start;\n\t}\n\n\t&__label {\n\t\tdisplay: block;\n\t\tpadding: 4px 0;\n\t}\n\n\t&__select {\n\t\twidth: 100%;\n\t}\n\n\t&__submit {\n\t\tmargin-top: 20px;\n\t}\n}\n'],sourceRoot:""}]),e.Z=s},58656:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),s=n.n(o)()(i());s.push([t.id,".footer[data-v-f8335076]{position:absolute;display:flex;height:var(--row-height);background-color:var(--color-main-background)}.footer__cell[data-v-f8335076]{display:flex;flex-direction:column;justify-content:center;padding:0 var(--cell-padding);width:var(--cell-width);color:var(--color-main-text)}.footer__cell strong[data-v-f8335076],.footer__cell span[data-v-f8335076],.footer__cell label[data-v-f8335076]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;overflow-wrap:anywhere}@media(min-width: 670px){.footer__cell--avatar[data-v-f8335076],.footer__cell--displayname[data-v-f8335076]{position:sticky;z-index:10;background-color:var(--color-main-background)}.footer__cell--avatar[data-v-f8335076]{left:0}.footer__cell--displayname[data-v-f8335076]{left:var(--avatar-cell-width);border-right:1px solid var(--color-border)}}.footer__cell--avatar[data-v-f8335076]{width:var(--avatar-cell-width);align-items:center;padding:0;user-select:none}.footer__cell--multiline span[data-v-f8335076]{line-height:1.3em;white-space:unset}@supports(-webkit-line-clamp: 2){.footer__cell--multiline span[data-v-f8335076]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}}.footer__cell--large[data-v-f8335076]{width:300px}.footer__cell--obfuscated[data-v-f8335076]{width:400px}.footer__cell--actions[data-v-f8335076]{position:sticky;right:0;z-index:10;display:flex;flex-direction:row;align-items:center;width:110px;background-color:var(--color-main-background);border-left:1px solid var(--color-border)}.footer__subtitle[data-v-f8335076]{color:var(--color-text-maxcontrast)}.footer__cell[data-v-f8335076]{position:sticky;color:var(--color-text-maxcontrast)}.footer__cell--loading[data-v-f8335076]{left:0;width:var(--avatar-cell-width);align-items:center;padding:0}.footer__cell--count[data-v-f8335076]{left:var(--avatar-cell-width);width:var(--cell-width)}","",{version:3,sources:["webpack://./apps/settings/src/components/Users/UserListFooter.vue","webpack://./apps/settings/src/components/Users/shared/styles.scss"],names:[],mappings:"AAGA,yBCoBC,iBAAA,CACA,YAAA,CACA,wBAAA,CACA,6CAAA,CAIA,+BACC,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,6BAAA,CACA,uBAAA,CACA,4BAAA,CAEA,+GAGC,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,sBAAA,CAGD,yBACC,mFAEC,eAAA,CACA,UAAA,CACA,6CAAA,CAGD,uCACC,MAAA,CAGD,4CACC,6BAAA,CACA,0CAAA,CAAA,CAIF,uCACC,8BAAA,CACA,kBAAA,CACA,SAAA,CACA,gBAAA,CAIA,+CACC,iBAAA,CACA,iBAAA,CAEA,iCAJD,+CAKE,mBAAA,CACA,oBAAA,CACA,2BAAA,CAAA,CAKH,sCACC,WAAA,CAGD,2CACC,WAAA,CAGD,wCACC,eAAA,CACA,OAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,WAAA,CACA,6CAAA,CACA,yCAAA,CAIF,mCACC,mCAAA,CDpGD,+BACC,eAAA,CACA,mCAAA,CAEA,wCACC,MAAA,CACA,8BAAA,CACA,kBAAA,CACA,SAAA,CAGD,sCACC,6BAAA,CACA,uBAAA",sourcesContent:["\n@import './shared/styles.scss';\n\n.footer {\n\t@include row;\n\t@include cell;\n\n\t&__cell {\n\t\tposition: sticky;\n\t\tcolor: var(--color-text-maxcontrast);\n\n\t\t&--loading {\n\t\t\tleft: 0;\n\t\t\twidth: var(--avatar-cell-width);\n\t\t\talign-items: center;\n\t\t\tpadding: 0;\n\t\t}\n\n\t\t&--count {\n\t\t\tleft: var(--avatar-cell-width);\n\t\t\twidth: var(--cell-width);\n\t\t}\n\t}\n}\n","/**\n * @copyright 2023 Christopher Ng <chrng8@gmail.com>\n *\n * @author Christopher Ng <chrng8@gmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n@mixin row {\n\tposition: absolute;\n\tdisplay: flex;\n\theight: var(--row-height);\n\tbackground-color: var(--color-main-background);\n}\n\n@mixin cell {\n\t&__cell {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\tpadding: 0 var(--cell-padding);\n\t\twidth: var(--cell-width);\n\t\tcolor: var(--color-main-text);\n\n\t\tstrong,\n\t\tspan,\n\t\tlabel {\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t\toverflow-wrap: anywhere;\n\t\t}\n\n\t\t@media (min-width: 670px) { /* Show one &--large column between stickied columns */\n\t\t\t&--avatar,\n\t\t\t&--displayname {\n\t\t\t\tposition: sticky;\n\t\t\t\tz-index: 10;\n\t\t\t\tbackground-color: var(--color-main-background);\n\t\t\t}\n\n\t\t\t&--avatar {\n\t\t\t\tleft: 0;\n\t\t\t}\n\n\t\t\t&--displayname {\n\t\t\t\tleft: var(--avatar-cell-width);\n\t\t\t\tborder-right: 1px solid var(--color-border);\n\t\t\t}\n\t\t}\n\n\t\t&--avatar {\n\t\t\twidth: var(--avatar-cell-width);\n\t\t\talign-items: center;\n\t\t\tpadding: 0;\n\t\t\tuser-select: none;\n\t\t}\n\n\t\t&--multiline {\n\t\t\tspan {\n\t\t\t\tline-height: 1.3em;\n\t\t\t\twhite-space: unset;\n\n\t\t\t\t@supports (-webkit-line-clamp: 2) {\n\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t-webkit-line-clamp: 2;\n\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&--large {\n\t\t\twidth: 300px;\n\t\t}\n\n\t\t&--obfuscated {\n\t\t\twidth: 400px;\n\t\t}\n\n\t\t&--actions {\n\t\t\tposition: sticky;\n\t\t\tright: 0;\n\t\t\tz-index: 10;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: center;\n\t\t\twidth: 110px;\n\t\t\tbackground-color: var(--color-main-background);\n\t\t\tborder-left: 1px solid var(--color-border);\n\t\t}\n\t}\n\n\t&__subtitle {\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n}\n"],sourceRoot:""}]),e.Z=s},9216:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),s=n.n(o)()(i());s.push([t.id,".header[data-v-2cc01436]{position:absolute;display:flex;height:var(--row-height);background-color:var(--color-main-background);border-bottom:1px solid var(--color-border)}.header__cell[data-v-2cc01436]{display:flex;flex-direction:column;justify-content:center;padding:0 var(--cell-padding);width:var(--cell-width);color:var(--color-main-text)}.header__cell strong[data-v-2cc01436],.header__cell span[data-v-2cc01436],.header__cell label[data-v-2cc01436]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;overflow-wrap:anywhere}@media(min-width: 670px){.header__cell--avatar[data-v-2cc01436],.header__cell--displayname[data-v-2cc01436]{position:sticky;z-index:10;background-color:var(--color-main-background)}.header__cell--avatar[data-v-2cc01436]{left:0}.header__cell--displayname[data-v-2cc01436]{left:var(--avatar-cell-width);border-right:1px solid var(--color-border)}}.header__cell--avatar[data-v-2cc01436]{width:var(--avatar-cell-width);align-items:center;padding:0;user-select:none}.header__cell--multiline span[data-v-2cc01436]{line-height:1.3em;white-space:unset}@supports(-webkit-line-clamp: 2){.header__cell--multiline span[data-v-2cc01436]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}}.header__cell--large[data-v-2cc01436]{width:300px}.header__cell--obfuscated[data-v-2cc01436]{width:400px}.header__cell--actions[data-v-2cc01436]{position:sticky;right:0;z-index:10;display:flex;flex-direction:row;align-items:center;width:110px;background-color:var(--color-main-background);border-left:1px solid var(--color-border)}.header__subtitle[data-v-2cc01436]{color:var(--color-text-maxcontrast)}","",{version:3,sources:["webpack://./apps/settings/src/components/Users/UserListHeader.vue","webpack://./apps/settings/src/components/Users/shared/styles.scss"],names:[],mappings:"AAGA,yBCoBC,iBAAA,CACA,YAAA,CACA,wBAAA,CACA,6CAAA,CDnBA,2CAAA,CCuBA,+BACC,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,6BAAA,CACA,uBAAA,CACA,4BAAA,CAEA,+GAGC,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,sBAAA,CAGD,yBACC,mFAEC,eAAA,CACA,UAAA,CACA,6CAAA,CAGD,uCACC,MAAA,CAGD,4CACC,6BAAA,CACA,0CAAA,CAAA,CAIF,uCACC,8BAAA,CACA,kBAAA,CACA,SAAA,CACA,gBAAA,CAIA,+CACC,iBAAA,CACA,iBAAA,CAEA,iCAJD,+CAKE,mBAAA,CACA,oBAAA,CACA,2BAAA,CAAA,CAKH,sCACC,WAAA,CAGD,2CACC,WAAA,CAGD,wCACC,eAAA,CACA,OAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,WAAA,CACA,6CAAA,CACA,yCAAA,CAIF,mCACC,mCAAA",sourcesContent:["\n@import './shared/styles.scss';\n\n.header {\n\t@include row;\n\t@include cell;\n\n\tborder-bottom: 1px solid var(--color-border);\n}\n","/**\n * @copyright 2023 Christopher Ng <chrng8@gmail.com>\n *\n * @author Christopher Ng <chrng8@gmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n@mixin row {\n\tposition: absolute;\n\tdisplay: flex;\n\theight: var(--row-height);\n\tbackground-color: var(--color-main-background);\n}\n\n@mixin cell {\n\t&__cell {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\tpadding: 0 var(--cell-padding);\n\t\twidth: var(--cell-width);\n\t\tcolor: var(--color-main-text);\n\n\t\tstrong,\n\t\tspan,\n\t\tlabel {\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t\toverflow-wrap: anywhere;\n\t\t}\n\n\t\t@media (min-width: 670px) { /* Show one &--large column between stickied columns */\n\t\t\t&--avatar,\n\t\t\t&--displayname {\n\t\t\t\tposition: sticky;\n\t\t\t\tz-index: 10;\n\t\t\t\tbackground-color: var(--color-main-background);\n\t\t\t}\n\n\t\t\t&--avatar {\n\t\t\t\tleft: 0;\n\t\t\t}\n\n\t\t\t&--displayname {\n\t\t\t\tleft: var(--avatar-cell-width);\n\t\t\t\tborder-right: 1px solid var(--color-border);\n\t\t\t}\n\t\t}\n\n\t\t&--avatar {\n\t\t\twidth: var(--avatar-cell-width);\n\t\t\talign-items: center;\n\t\t\tpadding: 0;\n\t\t\tuser-select: none;\n\t\t}\n\n\t\t&--multiline {\n\t\t\tspan {\n\t\t\t\tline-height: 1.3em;\n\t\t\t\twhite-space: unset;\n\n\t\t\t\t@supports (-webkit-line-clamp: 2) {\n\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t-webkit-line-clamp: 2;\n\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&--large {\n\t\t\twidth: 300px;\n\t\t}\n\n\t\t&--obfuscated {\n\t\t\twidth: 400px;\n\t\t}\n\n\t\t&--actions {\n\t\t\tposition: sticky;\n\t\t\tright: 0;\n\t\t\tz-index: 10;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: center;\n\t\t\twidth: 110px;\n\t\t\tbackground-color: var(--color-main-background);\n\t\t\tborder-left: 1px solid var(--color-border);\n\t\t}\n\t}\n\n\t&__subtitle {\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n}\n"],sourceRoot:""}]),e.Z=s},26949:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),s=n.n(o)()(i());s.push([t.id,".row__cell[data-v-34bb6b34]{display:flex;flex-direction:column;justify-content:center;padding:0 var(--cell-padding);width:var(--cell-width);color:var(--color-main-text)}.row__cell strong[data-v-34bb6b34],.row__cell span[data-v-34bb6b34],.row__cell label[data-v-34bb6b34]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;overflow-wrap:anywhere}@media(min-width: 670px){.row__cell--avatar[data-v-34bb6b34],.row__cell--displayname[data-v-34bb6b34]{position:sticky;z-index:10;background-color:var(--color-main-background)}.row__cell--avatar[data-v-34bb6b34]{left:0}.row__cell--displayname[data-v-34bb6b34]{left:var(--avatar-cell-width);border-right:1px solid var(--color-border)}}.row__cell--avatar[data-v-34bb6b34]{width:var(--avatar-cell-width);align-items:center;padding:0;user-select:none}.row__cell--multiline span[data-v-34bb6b34]{line-height:1.3em;white-space:unset}@supports(-webkit-line-clamp: 2){.row__cell--multiline span[data-v-34bb6b34]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}}.row__cell--large[data-v-34bb6b34]{width:300px}.row__cell--obfuscated[data-v-34bb6b34]{width:400px}.row__cell--actions[data-v-34bb6b34]{position:sticky;right:0;z-index:10;display:flex;flex-direction:row;align-items:center;width:110px;background-color:var(--color-main-background);border-left:1px solid var(--color-border)}.row__subtitle[data-v-34bb6b34]{color:var(--color-text-maxcontrast)}.row__cell[data-v-34bb6b34] .input-field,.row__cell[data-v-34bb6b34] .input-field__main-wrapper,.row__cell[data-v-34bb6b34] .input-field__input{height:48px !important}.row__cell[data-v-34bb6b34] .input-field__input:placeholder-shown:not(:focus)+.input-field__label{inset-block-start:16px !important}.row__cell[data-v-34bb6b34] .button-vue--icon-only{height:44px !important}.row__cell[data-v-34bb6b34] .v-select.select{min-width:var(--cell-min-width)}.row__progress[data-v-34bb6b34]{margin-top:4px}.row__progress--warn[data-v-34bb6b34]::-moz-progress-bar{background:var(--color-warning) !important}.row__progress--warn[data-v-34bb6b34]::-webkit-progress-value{background:var(--color-warning) !important}","",{version:3,sources:["webpack://./apps/settings/src/components/Users/shared/styles.scss","webpack://./apps/settings/src/components/Users/UserRow.vue"],names:[],mappings:"AA8BC,4BACC,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,6BAAA,CACA,uBAAA,CACA,4BAAA,CAEA,sGAGC,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,sBAAA,CAGD,yBACC,6EAEC,eAAA,CACA,UAAA,CACA,6CAAA,CAGD,oCACC,MAAA,CAGD,yCACC,6BAAA,CACA,0CAAA,CAAA,CAIF,oCACC,8BAAA,CACA,kBAAA,CACA,SAAA,CACA,gBAAA,CAIA,4CACC,iBAAA,CACA,iBAAA,CAEA,iCAJD,4CAKE,mBAAA,CACA,oBAAA,CACA,2BAAA,CAAA,CAKH,mCACC,WAAA,CAGD,wCACC,WAAA,CAGD,qCACC,eAAA,CACA,OAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,WAAA,CACA,6CAAA,CACA,yCAAA,CAIF,gCACC,mCAAA,CCnGC,gJAGC,sBAAA,CAIA,kGACC,iCAAA,CAIF,mDACC,sBAAA,CAGD,6CACC,+BAAA,CAKH,gCACC,cAAA,CAGC,yDACC,0CAAA,CAED,8DACC,0CAAA",sourcesContent:["/**\n * @copyright 2023 Christopher Ng <chrng8@gmail.com>\n *\n * @author Christopher Ng <chrng8@gmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n@mixin row {\n\tposition: absolute;\n\tdisplay: flex;\n\theight: var(--row-height);\n\tbackground-color: var(--color-main-background);\n}\n\n@mixin cell {\n\t&__cell {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\tpadding: 0 var(--cell-padding);\n\t\twidth: var(--cell-width);\n\t\tcolor: var(--color-main-text);\n\n\t\tstrong,\n\t\tspan,\n\t\tlabel {\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t\toverflow-wrap: anywhere;\n\t\t}\n\n\t\t@media (min-width: 670px) { /* Show one &--large column between stickied columns */\n\t\t\t&--avatar,\n\t\t\t&--displayname {\n\t\t\t\tposition: sticky;\n\t\t\t\tz-index: 10;\n\t\t\t\tbackground-color: var(--color-main-background);\n\t\t\t}\n\n\t\t\t&--avatar {\n\t\t\t\tleft: 0;\n\t\t\t}\n\n\t\t\t&--displayname {\n\t\t\t\tleft: var(--avatar-cell-width);\n\t\t\t\tborder-right: 1px solid var(--color-border);\n\t\t\t}\n\t\t}\n\n\t\t&--avatar {\n\t\t\twidth: var(--avatar-cell-width);\n\t\t\talign-items: center;\n\t\t\tpadding: 0;\n\t\t\tuser-select: none;\n\t\t}\n\n\t\t&--multiline {\n\t\t\tspan {\n\t\t\t\tline-height: 1.3em;\n\t\t\t\twhite-space: unset;\n\n\t\t\t\t@supports (-webkit-line-clamp: 2) {\n\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t-webkit-line-clamp: 2;\n\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&--large {\n\t\t\twidth: 300px;\n\t\t}\n\n\t\t&--obfuscated {\n\t\t\twidth: 400px;\n\t\t}\n\n\t\t&--actions {\n\t\t\tposition: sticky;\n\t\t\tright: 0;\n\t\t\tz-index: 10;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: center;\n\t\t\twidth: 110px;\n\t\t\tbackground-color: var(--color-main-background);\n\t\t\tborder-left: 1px solid var(--color-border);\n\t\t}\n\t}\n\n\t&__subtitle {\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n}\n","\n@import './shared/styles.scss';\n\n.row {\n\t@include cell;\n\n\t&__cell {\n\t\t:deep {\n\t\t\t.input-field,\n\t\t\t.input-field__main-wrapper,\n\t\t\t.input-field__input {\n\t\t\t\theight: 48px !important;\n\t\t\t}\n\n\t\t\t.input-field__input {\n\t\t\t\t&:placeholder-shown:not(:focus) + .input-field__label {\n\t\t\t\t\tinset-block-start: 16px !important;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.button-vue--icon-only {\n\t\t\t\theight: 44px !important;\n\t\t\t}\n\n\t\t\t.v-select.select {\n\t\t\t\tmin-width: var(--cell-min-width);\n\t\t\t}\n\t\t}\n\t}\n\n\t&__progress {\n\t\tmargin-top: 4px;\n\n\t\t&--warn {\n\t\t\t&::-moz-progress-bar {\n\t\t\t\tbackground: var(--color-warning) !important;\n\t\t\t}\n\t\t\t&::-webkit-progress-value {\n\t\t\t\tbackground: var(--color-warning) !important;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]),e.Z=s},66547:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),s=n.n(o)()(i());s.push([t.id,"label[for=default-quota-select][data-v-0a250c55]{display:block;padding:4px 0}","",{version:3,sources:["webpack://./apps/settings/src/components/Users/UserSettingsDialog.vue"],names:[],mappings:"AACA,iDACC,aAAA,CACA,aAAA",sourcesContent:['\nlabel[for="default-quota-select"] {\n\tdisplay: block;\n\tpadding: 4px 0;\n}\n'],sourceRoot:""}]),e.Z=s},35059:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),s=n.n(o)()(i());s.push([t.id,".app-content[data-v-616d69c6]{display:flex;overflow:hidden;flex-direction:column;max-height:100%}.app-navigation__list #addgroup[data-v-616d69c6] .app-navigation-entry__utils{display:none}.app-navigation-entry__settings[data-v-616d69c6]{height:auto !important;flex:0 0 auto}","",{version:3,sources:["webpack://./apps/settings/src/views/Users.vue"],names:[],mappings:"AACA,8BAEC,YAAA,CACA,eAAA,CACA,qBAAA,CACA,eAAA,CAID,8EACC,YAAA,CAGD,iDACC,sBAAA,CAEA,aAAA",sourcesContent:["\n.app-content {\n\t// Virtual list needs to be full height and is scrollable\n\tdisplay: flex;\n\toverflow: hidden;\n\tflex-direction: column;\n\tmax-height: 100%;\n}\n\n// force hiding the editing action for the add group entry\n.app-navigation__list #addgroup::v-deep .app-navigation-entry__utils {\n\tdisplay: none;\n}\n\n.app-navigation-entry__settings {\n\theight: auto !important;\n\t// Prevent shrinking or growing\n\tflex: 0 0 auto;\n}\n"],sourceRoot:""}]),e.Z=s},27274:function(t,e){var n,r;void 0===(r="function"==typeof(n=function(){function t(t){var e=getComputedStyle(t,null).getPropertyValue("overflow");return e.indexOf("scroll")>-1||e.indexOf("auto")>-1}return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var n=e.parentNode;n.parentNode;){if(t(n))return n;n=n.parentNode}return document.scrollingElement||document.documentElement}}})?n.apply(e,[]):n)||(t.exports=r)},511:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return sn}});var i=r(20144),o=r(87369),s=r.n(o),a=r(74139),l=r(91955),c=r(14982),u=r(71793),d=r(44579),h=r(38147),p=r(5023),f=r(54769),g=r(51268),v=r(50413),m={name:"AccountOffIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},y=r(51900),A=(0,y.Z)(m,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon account-off-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M12,4A4,4 0 0,1 16,8C16,9.95 14.6,11.58 12.75,11.93L8.07,7.25C8.42,5.4 10.05,4 12,4M12.28,14L18.28,20L20,21.72L18.73,23L15.73,20H4V18C4,16.16 6.5,14.61 9.87,14.14L2.78,7.05L4.05,5.78L12.28,14M20,18V19.18L15.14,14.32C18,14.93 20,16.35 20,18Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports,b=r(57638),w=r(61149),_={name:"ShieldAccountIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},C=(0,y.Z)(_,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon shield-account-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M17.13,17C15.92,18.85 14.11,20.24 12,20.92C9.89,20.24 8.08,18.85 6.87,17C6.53,16.5 6.24,16 6,15.47C6,13.82 8.71,12.47 12,12.47C15.29,12.47 18,13.79 18,15.47C17.76,16 17.47,16.5 17.13,17Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports,x=r(65183),S=r(81939);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function k(){k=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof h?e:h,s=Object.create(o.prototype),a=new S(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function h(){}function p(){}function f(){}var g={};l(g,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(N([])));m&&m!==e&&n.call(m,o)&&(g=m);var y=f.prototype=h.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==L(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function N(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=l(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},A(b.prototype),l(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},A(y),l(y,a,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=N,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function N(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,i)}var I={name:"GroupListItem",components:{AccountGroup:v.Z,NcActionButton:x.Z,NcActionInput:S.Z,NcAppNavigationItem:d.Z,NcCounterBubble:g.Z},props:{active:{type:Boolean,required:!0},count:{type:Number,default:null},id:{type:String,required:!0},name:{type:String,required:!0}},data:function(){return{loadingRenameGroup:!1,openGroupMenu:!1}},computed:{settings:function(){return this.$store.getters.getServerData}},methods:{handleGroupMenuOpen:function(){this.openGroupMenu=!0},renameGroup:function(t){var e,n=this;return(e=k().mark((function e(){var r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.trim()){e.next=2;break}return e.abrupt("return");case 2:if(""!==(r=n.$refs.displayNameInput.$el.querySelector('input[type="text"]').value).trim()){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,n.openGroupMenu=!1,n.loadingRenameGroup=!0,e.next=10,n.$store.dispatch("renameGroup",{groupid:t.trim(),displayName:r.trim()});case 10:n.loadingRenameGroup=!1,e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),n.openGroupMenu=!0,n.loadingRenameGroup=!1;case 17:case"end":return e.stop()}}),e,null,[[5,13]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(t){N(o,r,i,s,a,"next",t)}function a(t){N(o,r,i,s,a,"throw",t)}s(void 0)}))})()},removeGroup:function(e){var n=this;OC.dialogs.confirm(t("settings","You are about to remove the group {group}. The users will NOT be deleted.",{group:e}),t("settings","Please confirm the group removal "),(function(t){t&&n.$store.dispatch("removeGroup",e)}))}}},U=I,O=(0,y.Z)(U,(function(){var t=this,e=t._self._c;return e("NcAppNavigationItem",{key:t.id,attrs:{exact:!0,name:t.name,to:{name:"group",params:{selectedGroup:encodeURIComponent(t.id)}},loading:t.loadingRenameGroup,"menu-open":t.openGroupMenu},on:{"update:menuOpen":t.handleGroupMenuOpen},scopedSlots:t._u([{key:"icon",fn:function(){return[e("AccountGroup",{attrs:{size:20}})]},proxy:!0},{key:"counter",fn:function(){return[t.count?e("NcCounterBubble",{attrs:{type:t.active?"highlighted":void 0}},[t._v("\n\t\t\t"+t._s(t.count)+"\n\t\t")]):t._e()]},proxy:!0},{key:"actions",fn:function(){return["admin"!==t.id&&"disabled"!==t.id&&t.settings.isAdmin?e("NcActionInput",{ref:"displayNameInput",attrs:{icon:"icon-edit",type:"text",value:t.name,label:t.t("settings","Rename group")},on:{submit:function(e){return t.renameGroup(t.id)}}}):t._e(),t._v(" "),"admin"!==t.id&&"disabled"!==t.id&&t.settings.isAdmin?e("NcActionButton",{attrs:{icon:"icon-delete"},on:{click:function(e){return t.removeGroup(t.id)}}},[t._v("\n\t\t\t"+t._s(t.t("settings","Remove group"))+"\n\t\t")]):t._e()]},proxy:!0}])})}),[],!1,null,null,null).exports,G=void 0;function $(){$.init||($.init=!0,G=-1!==function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0?parseInt(t.substring(r+5,t.indexOf(".",r)),10):-1}())}var E={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},staticRenderFns:[],_scopeId:"data-v-b329ee4c",name:"resize-observer",methods:{compareAndNotify:function(){this._w===this.$el.offsetWidth&&this._h===this.$el.offsetHeight||(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.$emit("notify"))},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!G&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),delete this._resizeObject.onload)}},mounted:function(){var t=this;$(),this.$nextTick((function(){t._w=t.$el.offsetWidth,t._h=t.$el.offsetHeight}));var e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",G&&this.$el.appendChild(e),e.data="about:blank",G||this.$el.appendChild(e)},beforeDestroy:function(){this.removeResizeHandlers()}},z={version:"0.4.5",install:function(t){t.component("resize-observer",E),t.component("ResizeObserver",E)}},D=null;"undefined"!=typeof window?D=window.Vue:void 0!==r.g&&(D=r.g.Vue),D&&D.use(z);var M=r(25108);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function B(t,e){if(t===e)return!0;if("object"===P(t)){for(var n in t)if(!B(t[n],e[n]))return!1;return!0}return!1}var Z=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.observer=null,this.frozen=!1,this.createObserver(n,r)}var e,n;return e=t,n=[{key:"createObserver",value:function(t,e){var n=this;if(this.observer&&this.destroyObserver(),!this.frozen){var r;if(this.options="function"==typeof(r=t)?{callback:r}:r,this.callback=function(t,e){n.options.callback(t,e),t&&n.options.once&&(n.frozen=!0,n.destroyObserver())},this.callback&&this.options.throttle){var i=(this.options.throttleOptions||{}).leading;this.callback=function(t,e){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=function(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];if(i=l,!n||s!==r){var u=o.leading;"function"==typeof u&&(u=u(s,r)),n&&s===r||!u||t.apply(void 0,[s].concat(j(i))),r=s,clearTimeout(n),n=setTimeout((function(){t.apply(void 0,[s].concat(j(i))),n=0}),e)}};return s._clear=function(){clearTimeout(n),n=null},s}(this.callback,this.options.throttle,{leading:function(t){return"both"===i||"visible"===i&&t||"hidden"===i&&!t}})}this.oldResult=void 0,this.observer=new IntersectionObserver((function(t){var e=t[0];if(t.length>1){var r=t.find((function(t){return t.isIntersecting}));r&&(e=r)}if(n.callback){var i=e.isIntersecting&&e.intersectionRatio>=n.threshold;if(i===n.oldResult)return;n.oldResult=i,n.callback(i,e)}}),this.options.intersection),e.context.$nextTick((function(){n.observer&&n.observer.observe(n.el)}))}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&this.options.intersection.threshold||0}}],n&&T(e.prototype,n),t}();function F(t,e,n){var r=e.value;if(r)if("undefined"==typeof IntersectionObserver)M.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var i=new Z(t,r,n);t._vue_visibilityState=i}}function R(t){var e=t._vue_visibilityState;e&&(e.destroyObserver(),delete t._vue_visibilityState)}var q={bind:F,update:function(t,e,n){var r=e.value;if(!B(r,e.oldValue)){var i=t._vue_visibilityState;r?i?i.createObserver(r,n):F(t,{value:r},n):R(t)}},unbind:R},H={version:"0.4.6",install:function(t){t.directive("observe-visibility",q)}},Y=null;"undefined"!=typeof window?Y=window.Vue:void 0!==r.g&&(Y=r.g.Vue),Y&&Y.use(H);var Q=r(27274),V=r.n(Q),W=r(25108),K={itemsLimit:1e3};const J={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function X(){return this.items.length&&"object"!=typeof this.items[0]}let tt=!1;if("undefined"!=typeof window){tt=!1;try{var et=Object.defineProperty({},"passive",{get(){tt=!0}});window.addEventListener("test",null,et)}catch(t){}}let nt=0;function rt(t,e,n,r,i,o,s,a,l,c){"boolean"!=typeof s&&(l=a,a=s,s=!1);const u="function"==typeof n?n.options:n;let d;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),r&&(u._scopeId=r),o?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=d):e&&(d=s?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),d)if(u.functional){const t=u.render;u.render=function(e,n){return d.call(n),t(e,n)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,d):[d]}return n}const it={name:"RecycleScroller",components:{ResizeObserver:E},directives:{ObserveVisibility:q},props:{...J,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(null===this.itemSize){const t={"-1":{accumulator:0}},e=this.items,n=this.sizeField,r=this.minItemSize;let i,o=1e4,s=0;for(let a=0,l=e.length;a<l;a++)i=e[a][n]||r,i<o&&(o=i),s+=i,t[a]={accumulator:s,size:i};return this.$_computedMinItemSize=o,t}return[]},simpleArray:X},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&W.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick((()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0}))},activated(){const t=this.$_lastUpdateScrollPosition;"number"==typeof t&&this.$nextTick((()=>{this.scrollToPosition(t)}))},beforeDestroy(){this.removeListeners()},methods:{addView(t,e,n,r,i){const o={item:n,position:0},s={id:nt++,index:e,used:!0,key:r,type:i};return Object.defineProperty(o,"nr",{configurable:!1,value:s}),t.push(o),o},unuseView(t,e=!1){const n=this.$_unusedViews,r=t.nr.type;let i=n.get(r);i||(i=[],n.set(r,i)),i.push(t),e||(t.nr.used=!1,t.position=-9999,this.$_views.delete(t.nr.key))},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(t){this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame((()=>{this.$_scrollDirty=!1;const{continuous:t}=this.updateVisibleItems(!1,!0);t||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,100))})))},handleVisibilityChange(t,e){this.ready&&(t||0!==e.boundingClientRect.width||0!==e.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame((()=>{this.updateVisibleItems(!1)}))):this.$emit("hidden"))},updateVisibleItems(t,e=!1){const n=this.itemSize,r=this.gridItems||1,i=this.itemSecondarySize||n,o=this.$_computedMinItemSize,s=this.typeField,a=this.simpleArray?null:this.keyField,l=this.items,c=l.length,u=this.sizes,d=this.$_views,h=this.$_unusedViews,p=this.pool;let f,g,v,m,y,A;if(c)if(this.$_prerender)f=m=0,g=y=Math.min(this.prerender,l.length),v=null;else{const t=this.getScroll();if(e){let e=t.start-this.$_lastUpdateScrollPosition;if(e<0&&(e=-e),null===n&&e<o||e<n)return{continuous:!0}}this.$_lastUpdateScrollPosition=t.start;const i=this.buffer;t.start-=i,t.end+=i;let s=0;if(this.$refs.before&&(s=this.$refs.before.scrollHeight,t.start-=s),this.$refs.after){const e=this.$refs.after.scrollHeight;t.end+=e}if(null===n){let e,n,r=0,i=c-1,o=~~(c/2);do{n=o,e=u[o].accumulator,e<t.start?r=o:o<c-1&&u[o+1].accumulator>t.start&&(i=o),o=~~((r+i)/2)}while(o!==n);for(o<0&&(o=0),f=o,v=u[c-1].accumulator,g=o;g<c&&u[g].accumulator<t.end;g++);for(-1===g?g=l.length-1:(g++,g>c&&(g=c)),m=f;m<c&&s+u[m].accumulator<t.start;m++);for(y=m;y<c&&s+u[y].accumulator<t.end;y++);}else f=~~(t.start/n*r),f-=f%r,g=Math.ceil(t.end/n*r),m=Math.max(0,Math.floor((t.start-s)/n*r)),y=Math.floor((t.end-s)/n*r),f<0&&(f=0),g>c&&(g=c),m<0&&(m=0),y>c&&(y=c),v=Math.ceil(c/r)*n}else f=g=m=y=v=0;g-f>K.itemsLimit&&this.itemsLimitError(),this.totalSize=v;const b=f<=this.$_endIndex&&g>=this.$_startIndex;if(this.$_continuous!==b){if(b){d.clear(),h.clear();for(let t=0,e=p.length;t<e;t++)A=p[t],this.unuseView(A)}this.$_continuous=b}else if(b)for(let e=0,n=p.length;e<n;e++)A=p[e],A.nr.used&&(t&&(A.nr.index=l.indexOf(A.item)),(-1===A.nr.index||A.nr.index<f||A.nr.index>=g)&&this.unuseView(A));const w=b?null:new Map;let _,C,x,S;for(let t=f;t<g;t++){_=l[t];const e=a?_[a]:_;if(null==e)throw new Error(`Key is ${e} on item (keyField is '${a}')`);A=d.get(e),n||u[t].size?(A?(A.nr.used=!0,A.item=_):(t===l.length-1&&this.$emit("scroll-end"),0===t&&this.$emit("scroll-start"),C=_[s],x=h.get(C),b?x&&x.length?(A=x.pop(),A.item=_,A.nr.used=!0,A.nr.index=t,A.nr.key=e,A.nr.type=C):A=this.addView(p,t,_,e,C):(S=w.get(C)||0,(!x||S>=x.length)&&(A=this.addView(p,t,_,e,C),this.unuseView(A,!0),x=h.get(C)),A=x[S],A.item=_,A.nr.used=!0,A.nr.index=t,A.nr.key=e,A.nr.type=C,w.set(C,S+1),S++),d.set(e,A)),null===n?(A.position=u[t-1].accumulator,A.offset=0):(A.position=Math.floor(t/r)*n,A.offset=t%r*i)):A&&this.unuseView(A)}return this.$_startIndex=f,this.$_endIndex=g,this.emitUpdate&&this.$emit("update",f,g,m,y),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:b}},getListenerTarget(){let t=V()(this.$el);return!window.document||t!==window.document.documentElement&&t!==window.document.body||(t=window),t},getScroll(){const{$el:t,direction:e}=this,n="vertical"===e;let r;if(this.pageMode){const e=t.getBoundingClientRect(),i=n?e.height:e.width;let o=-(n?e.top:e.left),s=n?window.innerHeight:window.innerWidth;o<0&&(s+=o,o=0),o+s>i&&(s=i-o),r={start:o,end:o+s}}else r=n?{start:t.scrollTop,end:t.scrollTop+t.clientHeight}:{start:t.scrollLeft,end:t.scrollLeft+t.clientWidth};return r},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!tt&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(t){let e;e=null===this.itemSize?t>0?this.sizes[t-1].accumulator:0:Math.floor(t/this.gridItems)*this.itemSize,this.scrollToPosition(e)},scrollToPosition(t){const e="vertical"===this.direction?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let n,r,i;if(this.pageMode){const o=V()(this.$el),s="HTML"===o.tagName?0:o[e.scroll],a=o.getBoundingClientRect(),l=this.$el.getBoundingClientRect()[e.start]-a[e.start];n=o,r=e.scroll,i=t+s+l}else n=this.$el,r=e.scroll,i=t;n[r]=i},itemsLimitError(){throw setTimeout((()=>{W.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),W.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")})),new Error("Rendered items limit reached")},sortViews(){this.pool.sort(((t,e)=>t.nr.index-e.nr.index))}}};var ot=function(){var t,e,n=this,r=n.$createElement,i=n._self._c||r;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:n.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"vue-recycle-scroller",class:(t={ready:n.ready,"page-mode":n.pageMode},t["direction-"+n.direction]=!0,t),on:{"&scroll":function(t){return n.handleScroll.apply(null,arguments)}}},[n.$slots.before?i("div",{ref:"before",staticClass:"vue-recycle-scroller__slot"},[n._t("before")],2):n._e(),n._v(" "),i(n.listTag,{ref:"wrapper",tag:"component",staticClass:"vue-recycle-scroller__item-wrapper",class:n.listClass,style:(e={},e["vertical"===n.direction?"minHeight":"minWidth"]=n.totalSize+"px",e)},[n._l(n.pool,(function(t){return i(n.itemTag,n._g({key:t.nr.id,tag:"component",staticClass:"vue-recycle-scroller__item-view",class:[n.itemClass,{hover:!n.skipHover&&n.hoverKey===t.nr.key}],style:n.ready?{transform:"translate"+("vertical"===n.direction?"Y":"X")+"("+t.position+"px) translate"+("vertical"===n.direction?"X":"Y")+"("+t.offset+"px)",width:n.gridItems?("vertical"===n.direction&&n.itemSecondarySize||n.itemSize)+"px":void 0,height:n.gridItems?("horizontal"===n.direction&&n.itemSecondarySize||n.itemSize)+"px":void 0}:null},n.skipHover?{}:{mouseenter:function(){n.hoverKey=t.nr.key},mouseleave:function(){n.hoverKey=null}}),[n._t("default",null,{item:t.item,index:t.nr.index,active:t.nr.used})],2)})),n._v(" "),n._t("empty")],2),n._v(" "),n.$slots.after?i("div",{ref:"after",staticClass:"vue-recycle-scroller__slot"},[n._t("after")],2):n._e(),n._v(" "),i("ResizeObserver",{on:{notify:n.handleResize}})],1)};ot._withStripped=!0;const st=rt({render:ot,staticRenderFns:[]},void 0,it,void 0,!1,void 0,!1,void 0,void 0,void 0);var at={name:"DynamicScroller",components:{RecycleScroller:st},provide(){return"undefined"!=typeof ResizeObserver&&(this.$_resizeObserver=new ResizeObserver((t=>{requestAnimationFrame((()=>{if(Array.isArray(t))for(const e of t)if(e.target){const t=new CustomEvent("resize",{detail:{contentRect:e.contentRect}});e.target.dispatchEvent(t)}}))}))),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...J,minItemSize:{type:[Number,String],required:!0}},data(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:X,itemsWithSize(){const t=[],{items:e,keyField:n,simpleArray:r}=this,i=this.vscrollData.sizes,o=e.length;for(let s=0;s<o;s++){const o=e[s],a=r?s:o[n];let l=i[a];void 0!==l||this.$_undefinedMap[a]||(l=0),t.push({item:o,id:a,size:l})}return t},listeners(){const t={};for(const e in this.$listeners)"resize"!==e&&"visible"!==e&&(t[e]=this.$listeners[e]);return t}},watch:{items(){this.forceUpdate(!1)},simpleArray:{handler(t){this.vscrollData.simpleArray=t},immediate:!0},direction(t){this.forceUpdate(!0)},itemsWithSize(t,e){const n=this.$el.scrollTop;let r=0,i=0;const o=Math.min(t.length,e.length);for(let s=0;s<o&&!(r>=n);s++)r+=e[s].size||this.minItemSize,i+=t[s].size||this.minItemSize;const s=i-r;0!==s&&(this.$el.scrollTop+=s)}},beforeCreate(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={}},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(t=!0){(t||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$emit("vscroll:update",{force:!0})},scrollToItem(t){const e=this.$refs.scroller;e&&e.scrollToItem(t)},getItemSize(t,e=void 0){const n=this.simpleArray?null!=e?e:this.items.indexOf(t):t[this.keyField];return this.vscrollData.sizes[n]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const t=this.$el;this.$nextTick((()=>{t.scrollTop=t.scrollHeight+5e3;const e=()=>{t.scrollTop=t.scrollHeight+5e3,requestAnimationFrame((()=>{t.scrollTop=t.scrollHeight+5e3,0===this.$_undefinedSizes?this.$_scrollingToBottom=!1:requestAnimationFrame(e)}))};requestAnimationFrame(e)}))}}};const lt=at;var ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("RecycleScroller",t._g(t._b({ref:"scroller",attrs:{items:t.itemsWithSize,"min-item-size":t.minItemSize,direction:t.direction,"key-field":"id","list-tag":t.listTag,"item-tag":t.itemTag},on:{resize:t.onScrollerResize,visible:t.onScrollerVisible},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item,r=e.index,i=e.active;return[t._t("default",null,null,{item:n.item,index:r,active:i,itemWithSize:n})]}}],null,!0)},"RecycleScroller",t.$attrs,!1),t.listeners),[t._v(" "),n("template",{slot:"before"},[t._t("before")],2),t._v(" "),n("template",{slot:"after"},[t._t("after")],2),t._v(" "),n("template",{slot:"empty"},[t._t("empty")],2)],2)};ct._withStripped=!0;const ut=rt({render:ct,staticRenderFns:[]},void 0,lt,void 0,!1,void 0,!1,void 0,void 0,void 0),dt=rt({},void 0,{name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.item.hasOwnProperty(this.vscrollData.keyField))return this.item[this.vscrollData.keyField];throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(){this.size||this.onDataUpdate()},finalActive(t){this.size||(t?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?t?this.observeSize():this.unobserveSize():t&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const t in this.sizeDependencies)this.$watch((()=>this.sizeDependencies[t]),this.onDataUpdate);this.vscrollParent.$on("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$on("vscroll:update-size",this.onVscrollUpdateSize)}},mounted(){this.vscrollData.active&&(this.updateSize(),this.observeSize())},beforeDestroy(){this.vscrollParent.$off("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$off("vscroll:update-size",this.onVscrollUpdateSize),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",(()=>{this.onDataUpdate()}),{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:t}){!this.finalActive&&t&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!t&&this.size||this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(t){this.$nextTick((()=>{if(this.id===t){const t=this.$el.offsetWidth,e=this.$el.offsetHeight;this.applySize(t,e)}this.$_pendingSizeUpdate=null}))},applySize(t,e){const n=~~("vertical"===this.vscrollParent.direction?e:t);n&&this.size!==n&&(this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.$set(this.vscrollData.sizes,this.id,n),this.$set(this.vscrollData.validSizes,this.id,!0),this.emitResize&&this.$emit("resize",this.id))},observeSize(){this.vscrollResizeObserver&&this.$el.parentNode&&(this.vscrollResizeObserver.observe(this.$el.parentNode),this.$el.parentNode.addEventListener("resize",this.onResize))},unobserveSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.unobserve(this.$el.parentNode),this.$el.parentNode.removeEventListener("resize",this.onResize))},onResize(t){const{width:e,height:n}=t.detail.contentRect;this.applySize(e,n)}},render(t){return t(this.tag,this.$slots.default)}},void 0,void 0,void 0,!1,void 0,void 0,void 0),ht={version:"1.1.2",install(t,e){const n=Object.assign({},{installComponents:!0,componentsPrefix:""},e);for(const t in n)void 0!==n[t]&&(K[t]=n[t]);n.installComponents&&function(t,e){t.component(`${e}recycle-scroller`,st),t.component(`${e}RecycleScroller`,st),t.component(`${e}dynamic-scroller`,ut),t.component(`${e}DynamicScroller`,ut),t.component(`${e}dynamic-scroller-item`,dt),t.component(`${e}DynamicScrollerItem`,dt)}(t,n.componentsPrefix)}};let pt=null;"undefined"!=typeof window?pt=window.Vue:void 0!==r.g&&(pt=r.g.Vue),pt&&pt.use(ht);var ft=r(29034),gt=r(63365),vt=r(79189),mt=r(69183),yt=r(64024),At=r(40793),bt=r(21979),wt=r(16972),_t=r(37438),Ct=r(49368);function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function St(){St=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof h?e:h,s=Object.create(o.prototype),a=new S(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function h(){}function p(){}function f(){}var g={};l(g,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&n.call(m,o)&&(g=m);var y=f.prototype=h.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==xt(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=l(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},A(b.prototype),l(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},A(y),l(y,a,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function Lt(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,i)}function kt(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){Lt(o,r,i,s,a,"next",t)}function a(t){Lt(o,r,i,s,a,"throw",t)}s(void 0)}))}}function Nt(t){return function(t){if(Array.isArray(t))return It(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return It(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ut={name:"NewUserModal",components:{NcButton:At.Z,NcModal:bt.Z,NcPasswordField:wt.Z,NcSelect:_t.Z,NcTextField:Ct.Z},props:{loading:{type:Object,required:!0},newUser:{type:Object,required:!0},quotaOptions:{type:Array,required:!0}},data:function(){return{possibleManagers:[],managerLabel:t("settings","Set user manager")}},computed:{showConfig:function(){return this.$store.getters.getShowConfig},settings:function(){return this.$store.getters.getServerData},usernameLabel:function(){return this.settings.newUserGenerateUserID?t("settings","Username will be autogenerated"):t("settings","Username (required)")},minPasswordLength:function(){return this.$store.getters.getPasswordPolicyMinLength},groups:function(){return this.$store.getters.getGroups.filter((function(t){return"disabled"!==t.id})).sort((function(t,e){return t.name.localeCompare(e.name)}))},subAdminsGroups:function(){return this.$store.getters.getSubadminGroups},canAddGroups:function(){return this.groups.map((function(t){return(t=Object.assign({},t)).$isDisabled=!1===t.canAdd,t}))},languages:function(){return[{name:t("settings","Common languages"),languages:this.settings.languages.commonLanguages}].concat(Nt(this.settings.languages.commonLanguages),[{name:t("settings","Other languages"),languages:this.settings.languages.otherLanguages}],Nt(this.settings.languages.otherLanguages))}},beforeMount:function(){var t=this;return kt(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.searchUserManager();case 2:case"end":return e.stop()}}),e)})))()},methods:{createUser:function(){var t=this;return kt(St().mark((function e(){var n,r,i,o,s,a,l;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.all=!0,e.prev=1,e.next=4,t.$store.dispatch("addUser",{userid:t.newUser.id,password:t.newUser.password,displayName:t.newUser.displayName,email:t.newUser.mailAddress,groups:t.newUser.groups.map((function(t){return t.id})),subadmin:t.newUser.subAdminsGroups.map((function(t){return t.id})),quota:t.newUser.quota.id,language:t.newUser.language.code,manager:t.newUser.manager.id});case 4:t.$emit("reset"),null===(n=t.$refs.username)||void 0===n||null===(n=n.$refs)||void 0===n||null===(n=n.inputField)||void 0===n||null===(n=n.$refs)||void 0===n||null===(n=n.input)||void 0===n||null===(r=n.focus)||void 0===r||r.call(n),t.$emit("close"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.loading.all=!1,e.t0.response&&e.t0.response.data&&e.t0.response.data.ocs&&e.t0.response.data.ocs.meta&&(102===(i=e.t0.response.data.ocs.meta.statuscode)?null===(o=t.$refs.username)||void 0===o||null===(o=o.$refs)||void 0===o||null===(o=o.inputField)||void 0===o||null===(o=o.$refs)||void 0===o||null===(o=o.input)||void 0===o||null===(s=o.focus)||void 0===s||s.call(o):107===i&&(null===(a=t.$refs.password)||void 0===a||null===(a=a.$refs)||void 0===a||null===(a=a.inputField)||void 0===a||null===(a=a.$refs)||void 0===a||null===(a=a.input)||void 0===a||null===(l=a.focus)||void 0===l||l.call(a)));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},handleGroupInput:function(t){this.newUser.groups=t.filter((function(t){return Boolean(t.id)}))},createGroup:function(t){var e=this;return kt(St().mark((function n(){var r;return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.name,e.loading.groups=!0,n.prev=2,n.next=5,e.$store.dispatch("addGroup",r);case 5:e.newUser.groups.push(e.groups.find((function(t){return t.id===r}))),e.loading.groups=!1,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),e.loading.groups=!1;case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))()},validateQuota:function(t){var e=OC.Util.computerFileSize(t);return null!==e&&e>=0?(t=OC.Util.humanFileSize(OC.Util.computerFileSize(t)),this.newUser.quota={id:t,label:t},this.newUser.quota):(this.newUser.quota=this.quotaOptions[0],this.quotaOptions[0])},languageFilterBy:function(t,e,n){return t.languages?t.languages.some((function(t){return t.name.toLocaleLowerCase().includes(n.toLocaleLowerCase())})):(e||"").toLocaleLowerCase().includes(n.toLocaleLowerCase())},searchUserManager:function(t){var e=this;return kt(St().mark((function n(){return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("searchUsers",{offset:0,limit:10,search:t}).then((function(t){var n=null!=t&&t.data?Object.values(null==t?void 0:t.data.ocs.data.users):[];n.length>0&&(e.possibleManagers=n)}));case 2:case"end":return n.stop()}}),n)})))()}}},Ot=r(93379),Gt=r.n(Ot),$t=r(7795),Et=r.n($t),zt=r(90569),Dt=r.n(zt),Mt=r(3565),Pt=r.n(Mt),Tt=r(19216),jt=r.n(Tt),Bt=r(44589),Zt=r.n(Bt),Ft=r(68884),Rt={};Rt.styleTagTransform=Zt(),Rt.setAttributes=Pt(),Rt.insert=Dt().bind(null,"head"),Rt.domAPI=Et(),Rt.insertStyleElement=jt(),Gt()(Ft.Z,Rt),Ft.Z&&Ft.Z.locals&&Ft.Z.locals;var qt=(0,y.Z)(Ut,(function(){var t=this,e=t._self._c;return e("NcModal",t._g({staticClass:"modal",attrs:{size:"small"}},t.$listeners),[e("form",{staticClass:"modal__form",attrs:{"data-test":"form",disabled:t.loading.all},on:{submit:function(e){return e.preventDefault(),t.createUser.apply(null,arguments)}}},[e("h2",[t._v(t._s(t.t("settings","New user")))]),t._v(" "),e("NcTextField",{ref:"username",staticClass:"modal__item",attrs:{"data-test":"username",value:t.newUser.id,disabled:t.settings.newUserGenerateUserID,label:t.usernameLabel,autocapitalize:"none",autocomplete:"off",autocorrect:"off",pattern:"[a-zA-Z0-9 _\\.@\\-']+",required:""},on:{"update:value":function(e){return t.$set(t.newUser,"id",e)}}}),t._v(" "),e("NcTextField",{staticClass:"modal__item",attrs:{"data-test":"displayName",value:t.newUser.displayName,label:t.t("settings","Display name"),autocapitalize:"none",autocomplete:"off",autocorrect:"off"},on:{"update:value":function(e){return t.$set(t.newUser,"displayName",e)}}}),t._v(" "),t.settings.newUserRequireEmail?t._e():e("span",{staticClass:"modal__hint",attrs:{id:"password-email-hint"}},[t._v("\n\t\t\t"+t._s(t.t("settings","Either password or email is required"))+"\n\t\t")]),t._v(" "),e("NcPasswordField",{ref:"password",staticClass:"modal__item",attrs:{"data-test":"password",value:t.newUser.password,minlength:t.minPasswordLength,maxlength:469,"aria-describedby":"password-email-hint",label:""===t.newUser.mailAddress?t.t("settings","Password (required)"):t.t("settings","Password"),autocapitalize:"none",autocomplete:"new-password",autocorrect:"off",required:""===t.newUser.mailAddress},on:{"update:value":function(e){return t.$set(t.newUser,"password",e)}}}),t._v(" "),e("NcTextField",{staticClass:"modal__item",attrs:{"data-test":"email",type:"email",value:t.newUser.mailAddress,"aria-describedby":"password-email-hint",label:""===t.newUser.password||t.settings.newUserRequireEmail?t.t("settings","Email (required)"):t.t("settings","Email"),autocapitalize:"none",autocomplete:"off",autocorrect:"off",required:""===t.newUser.password||t.settings.newUserRequireEmail},on:{"update:value":function(e){return t.$set(t.newUser,"mailAddress",e)}}}),t._v(" "),e("div",{staticClass:"modal__item"},[t.settings.isAdmin?t._e():e("NcTextField",{class:{"icon-loading-small":t.loading.groups},attrs:{id:"new-user-groups-input",tabindex:"-1",value:t.newUser.groups,required:!t.settings.isAdmin}}),t._v(" "),e("label",{staticClass:"modal__label",attrs:{for:"new-user-groups"}},[t._v("\n\t\t\t\t"+t._s(t.settings.isAdmin?t.t("settings","Groups"):t.t("settings","Groups (required)"))+"\n\t\t\t")]),t._v(" "),e("NcSelect",{staticClass:"modal__select",attrs:{"input-id":"new-user-groups",placeholder:t.t("settings","Set user groups"),disabled:t.loading.groups||t.loading.all,options:t.canAddGroups,value:t.newUser.groups,label:"name","close-on-select":!1,multiple:!0,taggable:!0},on:{input:t.handleGroupInput,"option:created":t.createGroup}})],1),t._v(" "),t.subAdminsGroups.length>0&&t.settings.isAdmin?e("div",{staticClass:"modal__item"},[e("label",{staticClass:"modal__label",attrs:{for:"new-user-sub-admin"}},[t._v("\n\t\t\t\t"+t._s(t.t("settings","Administered groups"))+"\n\t\t\t")]),t._v(" "),e("NcSelect",{staticClass:"modal__select",attrs:{"input-id":"new-user-sub-admin",placeholder:t.t("settings","Set user as admin for "),options:t.subAdminsGroups,"close-on-select":!1,multiple:!0,label:"name"},model:{value:t.newUser.subAdminsGroups,callback:function(e){t.$set(t.newUser,"subAdminsGroups",e)},expression:"newUser.subAdminsGroups"}})],1):t._e(),t._v(" "),e("div",{staticClass:"modal__item"},[e("label",{staticClass:"modal__label",attrs:{for:"new-user-quota"}},[t._v("\n\t\t\t\t"+t._s(t.t("settings","Quota"))+"\n\t\t\t")]),t._v(" "),e("NcSelect",{staticClass:"modal__select",attrs:{"input-id":"new-user-quota",placeholder:t.t("settings","Set user quota"),options:t.quotaOptions,clearable:!1,taggable:!0,"create-option":t.validateQuota},model:{value:t.newUser.quota,callback:function(e){t.$set(t.newUser,"quota",e)},expression:"newUser.quota"}})],1),t._v(" "),t.showConfig.showLanguages?e("div",{staticClass:"modal__item"},[e("label",{staticClass:"modal__label",attrs:{for:"new-user-language"}},[t._v("\n\t\t\t\t"+t._s(t.t("settings","Language"))+"\n\t\t\t")]),t._v(" "),e("NcSelect",{staticClass:"modal__select",attrs:{"input-id":"new-user-language",placeholder:t.t("settings","Set default language"),clearable:!1,selectable:function(t){return!t.languages},"filter-by":t.languageFilterBy,options:t.languages,label:"name"},model:{value:t.newUser.language,callback:function(e){t.$set(t.newUser,"language",e)},expression:"newUser.language"}})],1):t._e(),t._v(" "),e("div",{class:["modal__item managers",{"icon-loading-small":t.loading.manager}]},[e("label",{staticClass:"modal__label",attrs:{for:"new-user-manager"}},[t._v("\n\t\t\t\t"+t._s(t.t("settings","Manager"))+"\n\t\t\t")]),t._v(" "),e("NcSelect",{staticClass:"modal__select",attrs:{"input-id":"new-user-manager",placeholder:t.managerLabel,options:t.possibleManagers,"user-select":!0,label:"displayname"},on:{search:t.searchUserManager},model:{value:t.newUser.manager,callback:function(e){t.$set(t.newUser,"manager",e)},expression:"newUser.manager"}})],1),t._v(" "),e("NcButton",{staticClass:"modal__submit",attrs:{"data-test":"submit",type:"primary","native-type":"submit"}},[t._v("\n\t\t\t"+t._s(t.t("settings","Add new user"))+"\n\t\t")])],1)])}),[],!1,null,"29bc5eca",null),Ht=qt.exports,Yt=r(31352),Qt=i.default.extend({name:"UserListFooter",components:{NcLoadingIcon:vt.Z},props:{loading:{type:Boolean,required:!0},filteredUsers:{type:Array,required:!0}},computed:{userCount:function(){return this.loading?this.n("settings","{userCount} user ","{userCount} users ",this.filteredUsers.length,{userCount:this.filteredUsers.length}):this.n("settings","{userCount} user","{userCount} users",this.filteredUsers.length,{userCount:this.filteredUsers.length})}},methods:{t:Yt.Iu,n:Yt.uN}}),Vt=r(58656),Wt={};Wt.styleTagTransform=Zt(),Wt.setAttributes=Pt(),Wt.insert=Dt().bind(null,"head"),Wt.domAPI=Et(),Wt.insertStyleElement=jt(),Gt()(Vt.Z,Wt),Vt.Z&&Vt.Z.locals&&Vt.Z.locals;var Kt=(0,y.Z)(Qt,(function(){var t=this,e=t._self._c;return t._self._setupProxy,e("tr",{staticClass:"footer"},[e("th",{attrs:{scope:"row"}},[e("span",{staticClass:"hidden-visually"},[t._v(t._s(t.t("settings","Total rows summary")))])]),t._v(" "),e("td",{staticClass:"footer__cell footer__cell--loading"},[t.loading?e("NcLoadingIcon",{attrs:{title:t.t("settings","Loading users "),size:32}}):t._e()],1),t._v(" "),e("td",{staticClass:"footer__cell footer__cell--count footer__cell--multiline"},[e("span",{attrs:{"aria-describedby":"user-count-desc"}},[t._v(t._s(t.userCount))]),t._v(" "),e("span",{staticClass:"hidden-visually",attrs:{id:"user-count-desc"}},[t._v("\n\t\t\t"+t._s(t.t("settings","Scroll to load more rows"))+"\n\t\t")])])])}),[],!1,null,"f8335076",null).exports,Jt=i.default.extend({name:"UserListHeader",props:{hasObfuscated:{type:Boolean,required:!0}},computed:{showConfig:function(){return this.$store.getters.getShowConfig},settings:function(){return this.$store.getters.getServerData},subAdminsGroups:function(){return this.$store.getters.getSubadminGroups},passwordLabel:function(){return this.hasObfuscated?(0,Yt.Iu)("settings","Password or insufficient permissions message"):(0,Yt.Iu)("settings","Password")}},methods:{t:Yt.Iu}}),Xt=r(9216),te={};te.styleTagTransform=Zt(),te.setAttributes=Pt(),te.insert=Dt().bind(null,"head"),te.domAPI=Et(),te.insertStyleElement=jt(),Gt()(Xt.Z,te),Xt.Z&&Xt.Z.locals&&Xt.Z.locals;var ee=(0,y.Z)(Jt,(function(){var t=this,e=t._self._c;return t._self._setupProxy,e("tr",{staticClass:"header"},[e("th",{staticClass:"header__cell header__cell--avatar",attrs:{scope:"col"}},[e("span",{staticClass:"hidden-visually"},[t._v("\n\t\t\t"+t._s(t.t("settings","Avatar"))+"\n\t\t")])]),t._v(" "),e("th",{staticClass:"header__cell header__cell--displayname",attrs:{scope:"col"}},[e("strong",[t._v("\n\t\t\t"+t._s(t.t("settings","Display name"))+"\n\t\t")]),t._v(" "),e("span",{staticClass:"header__subtitle"},[t._v("\n\t\t\t"+t._s(t.t("settings","Username"))+"\n\t\t")])]),t._v(" "),e("th",{staticClass:"header__cell",class:{"header__cell--obfuscated":t.hasObfuscated},attrs:{scope:"col"}},[e("span",[t._v(t._s(t.passwordLabel))])]),t._v(" "),e("th",{staticClass:"header__cell",attrs:{scope:"col"}},[e("span",[t._v(t._s(t.t("settings","Email")))])]),t._v(" "),e("th",{staticClass:"header__cell header__cell--large",attrs:{scope:"col"}},[e("span",[t._v(t._s(t.t("settings","Groups")))])]),t._v(" "),t.subAdminsGroups.length>0&&t.settings.isAdmin?e("th",{staticClass:"header__cell header__cell--large",attrs:{scope:"col"}},[e("span",[t._v(t._s(t.t("settings","Group admin for")))])]):t._e(),t._v(" "),e("th",{staticClass:"header__cell",attrs:{scope:"col"}},[e("span",[t._v(t._s(t.t("settings","Quota")))])]),t._v(" "),t.showConfig.showLanguages?e("th",{staticClass:"header__cell header__cell--large",attrs:{scope:"col"}},[e("span",[t._v(t._s(t.t("settings","Language")))])]):t._e(),t._v(" "),t.showConfig.showUserBackend||t.showConfig.showStoragePath?e("th",{staticClass:"header__cell header__cell--large",attrs:{scope:"col"}},[t.showConfig.showUserBackend?e("span",[t._v("\n\t\t\t"+t._s(t.t("settings","User backend"))+"\n\t\t")]):t._e(),t._v(" "),t.showConfig.showStoragePath?e("span",{staticClass:"header__subtitle"},[t._v("\n\t\t\t"+t._s(t.t("settings","Storage location"))+"\n\t\t")]):t._e()]):t._e(),t._v(" "),t.showConfig.showLastLogin?e("th",{staticClass:"header__cell",attrs:{scope:"col"}},[e("span",[t._v(t._s(t.t("settings","Last login")))])]):t._e(),t._v(" "),e("th",{staticClass:"header__cell header__cell--large",attrs:{scope:"col"}},[e("span",[t._v(t._s(t.t("settings","Manager")))])]),t._v(" "),e("th",{staticClass:"header__cell header__cell--actions",attrs:{scope:"col"}},[e("span",{staticClass:"hidden-visually"},[t._v("\n\t\t\t"+t._s(t.t("settings","User actions"))+"\n\t\t")])])])}),[],!1,null,"2cc01436",null).exports,ne=r(77958),re=r(18519),ie=r(51578),oe=r(67346),se=(0,i.defineComponent)({components:{NcActionButton:x.Z,NcActions:oe.Z,NcIconSvgWrapper:gt.Z},props:{actions:{type:Array,required:!0},disabled:{type:Boolean,required:!0},edit:{type:Boolean,required:!0}},computed:{editSvg:function(){return this.edit?'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-check" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" /></svg>':'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-pencil" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>'}},methods:{toggleEdit:function(){this.$emit("update:edit",!this.edit)}}}),ae=(0,y.Z)(se,(function(){var t=this,e=t._self._c;return t._self._setupProxy,e("NcActions",{attrs:{"aria-label":t.t("settings","Toggle user actions menu"),disabled:t.disabled,inline:1}},[e("NcActionButton",{attrs:{disabled:t.disabled},on:{click:t.toggleEdit},scopedSlots:t._u([{key:"icon",fn:function(){return[e("NcIconSvgWrapper",{key:t.editSvg,attrs:{svg:t.editSvg,"aria-hidden":"true"}})]},proxy:!0}])},[t._v("\n\t\t"+t._s(t.edit?t.t("settings","Done"):t.t("settings","Edit"))+"\n\t\t")]),t._v(" "),t._l(t.actions,(function(n,r){var i=n.action,o=n.icon,s=n.text;return e("NcActionButton",{key:r,attrs:{disabled:t.disabled,"aria-label":s,icon:o},on:{click:i}},[t._v("\n\t\t"+t._s(s)+"\n\t")])}))],2)}),[],!1,null,null,null).exports;function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}var ce={props:{user:{type:Object,required:!0},settings:{type:Object,default:function(){return{}}},groups:{type:Array,default:function(){return[]}},subAdminsGroups:{type:Array,default:function(){return[]}},quotaOptions:{type:Array,default:function(){return[]}},languages:{type:Array,required:!0},externalActions:{type:Array,default:function(){return[]}}},computed:{showConfig:function(){return this.$store.getters.getShowConfig},userGroups:function(){var t=this;return this.groups.filter((function(e){return t.user.groups.includes(e.id)}))},userSubAdminsGroups:function(){var t=this;return this.subAdminsGroups.filter((function(e){return t.user.subadmin.includes(e.id)}))},availableGroups:function(){var t=this;return this.groups.map((function(e){var n=Object.assign({},e);return n.$isDisabled=!1===e.canAdd&&!t.user.groups.includes(e.id)||!1===e.canRemove&&t.user.groups.includes(e.id),n}))},usedSpace:function(){return this.user.quota.used?t("settings","{size} used",{size:OC.Util.humanFileSize(this.user.quota.used)}):t("settings","{size} used",{size:OC.Util.humanFileSize(0)})},usedQuota:function(){var t=this.user.quota.quota;return t=t>0?Math.min(100,Math.round(this.user.quota.used/t*100)):95*(1-1/(this.user.quota.used/(10*Math.pow(2,30))+1)),isNaN(t)?0:t},userQuota:function(){if(this.user.quota.quota>=0){var t=OC.Util.humanFileSize(this.user.quota.quota);return this.quotaOptions.find((function(e){return e.id===t}))||{id:t,label:t}}return"default"===this.user.quota.quota?this.quotaOptions[0]:this.quotaOptions[1]},minPasswordLength:function(){return this.$store.getters.getPasswordPolicyMinLength},userLanguage:function(){var t=this,e=this.languages[0].languages.concat(this.languages[1].languages).find((function(e){return e.code===t.user.language}));return"object"!==le(e)&&""!==this.user.language?{code:this.user.language,name:this.user.language}:""!==this.user.language&&e},userLastLoginTooltip:function(){return this.user.lastLogin>0?OC.Util.formatDate(this.user.lastLogin):""},userLastLogin:function(){return this.user.lastLogin>0?OC.Util.relativeModifiedDate(this.user.lastLogin):t("settings","Never")}}},ue={id:"none",label:t("settings","Unlimited")},de={id:"default",label:t("settings","Default quota")},he=function(t){var e=Object.keys(t);return 1===e.length&&"id"===e.at(0)},pe=r(25108);function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function ge(){ge=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof h?e:h,s=Object.create(o.prototype),a=new S(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function h(){}function p(){}function f(){}var g={};l(g,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&n.call(m,o)&&(g=m);var y=f.prototype=h.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==fe(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=l(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},A(b.prototype),l(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},A(y),l(y,a,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function ve(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,i)}function me(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){ve(o,r,i,s,a,"next",t)}function a(t){ve(o,r,i,s,a,"throw",t)}s(void 0)}))}}var ye={name:"UserRow",components:{Fragment:a.Fragment,NcAvatar:re.Z,NcLoadingIcon:vt.Z,NcProgressBar:ie.Z,NcSelect:_t.Z,NcTextField:Ct.Z,UserRowActions:ae},mixins:[function({idProp:t=(t=>t.item.id)}={}){const e={},n=new i.default({data(){return{store:e}}});return{data(){return{idState:null}},created(){this.$_id=null,this.$_getId="function"==typeof t?()=>t.call(this,this):()=>this[t],this.$watch(this.$_getId,{handler(t){this.$nextTick((()=>{this.$_id=t}))},immediate:!0}),this.$_updateIdState()},beforeUpdate(){this.$_updateIdState()},methods:{$_idStateInit(t){const r=this.$options.idState;if("function"==typeof r){const i=r.call(this,this);return n.$set(e,t,i),this.$_id=t,i}throw new Error("[mixin IdState] Missing `idState` function on component definition.")},$_updateIdState(){const n=this.$_getId();null==n&&W.warn(`No id found for IdState with idProp: '${t}'.`),n!==this.$_id&&(e[n]||this.$_idStateInit(n),this.idState=e[n])}}}}({idProp:function(t){return t.user.id}}),ce],props:{user:{type:Object,required:!0},users:{type:Array,required:!0},hasObfuscated:{type:Boolean,required:!0},groups:{type:Array,default:function(){return[]}},subAdminsGroups:{type:Array,required:!0},quotaOptions:{type:Array,required:!0},languages:{type:Array,required:!0},settings:{type:Object,required:!0},externalActions:{type:Array,default:function(){return[]}}},idState:function(){var t;return{selectedQuota:!1,rand:Math.random().toString(36).substring(2),loadingPossibleManagers:!1,possibleManagers:[],currentManager:"",editing:!1,loading:{all:!1,displayName:!1,password:!1,mailAddress:!1,groups:!1,subadmins:!1,quota:!1,delete:!1,disable:!1,languages:!1,wipe:!1,manager:!1},editedDisplayName:this.user.displayname,editedPassword:"",editedMail:null!==(t=this.user.email)&&void 0!==t?t:""}},computed:{managerLabel:function(){return t("settings","Set user manager")},isObfuscated:function(){return he(this.user)},showConfig:function(){return this.$store.getters.getShowConfig},isLoadingUser:function(){return this.idState.loading.delete||this.idState.loading.disable||this.idState.loading.wipe},isLoadingField:function(){return this.idState.loading.delete||this.idState.loading.disable||this.idState.loading.all},uniqueId:function(){return this.user.id+this.idState.rand},userGroupsLabels:function(){return this.userGroups.map((function(t){return t.name})).join(", ")},userSubAdminsGroupsLabels:function(){return this.userSubAdminsGroups.map((function(t){return t.name})).join(", ")},usedSpace:function(){var e,n;return null!==(e=this.user.quota)&&void 0!==e&&e.used?t("settings","{size} used",{size:OC.Util.humanFileSize(null===(n=this.user.quota)||void 0===n?void 0:n.used)}):t("settings","{size} used",{size:OC.Util.humanFileSize(0)})},canEdit:function(){return(0,ne.ts)().uid!==this.user.id||this.settings.isAdmin},userQuota:function(){var e,n=null===(e=this.user.quota)||void 0===e?void 0:e.quota;return"default"===n&&"none"!==(n=this.settings.defaultQuota)&&(n=OC.Util.computerFileSize(n)),"none"===n||-3===n?t("settings","Unlimited"):n>=0?OC.Util.humanFileSize(n):OC.Util.humanFileSize(0)},userActions:function(){var e=[{icon:"icon-delete",text:t("settings","Delete user"),action:this.deleteUser},{icon:"icon-delete",text:t("settings","Wipe all devices"),action:this.wipeUserDevices},{icon:this.user.enabled?"icon-close":"icon-add",text:this.user.enabled?t("settings","Disable user"):t("settings","Enable user"),action:this.enableDisableUser}];return null!==this.user.email&&""!==this.user.email&&e.push({icon:"icon-mail",text:t("settings","Resend welcome email"),action:this.sendWelcomeMail}),e.concat(this.externalActions)},editedUserQuota:{get:function(){return!1!==this.idState.selectedQuota?this.idState.selectedQuota:this.settings.defaultQuota!==ue.id&&OC.Util.computerFileSize(this.settings.defaultQuota)>=0?{id:this.settings.defaultQuota,label:this.settings.defaultQuota}:ue},set:function(t){this.idState.selectedQuota=t}},availableLanguages:function(){return this.languages[0].languages.concat(this.languages[1].languages)}},beforeMount:function(){var t=this;return me(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.user.manager){e.next=3;break}return e.next=3,t.initManager(t.user.manager);case 3:Object.keys(t.idState.loading).forEach((function(e){return t.idState.loading[e]=!1}));case 4:case"end":return e.stop()}}),e)})))()},methods:{wipeUserDevices:function(){var e=this,n=this.user.id;OC.dialogs.confirmDestructive(t("settings","In case of lost device or exiting the organization, this can remotely wipe the Nextcloud data from all devices associated with {userid}. Only works if the devices are connected to the internet.",{userid:n}),t("settings","Remote wipe of devices"),{type:OC.dialogs.YES_NO_BUTTONS,confirm:t("settings","Wipe {userid}'s devices",{userid:n}),confirmClasses:"error",cancel:t("settings","Cancel")},(function(r){r&&(e.idState.loading.wipe=!0,e.idState.loading.all=!0,e.$store.dispatch("wipeUserDevices",n).then((function(){return(0,yt.s$)(t("settings","Wiped {userid}'s devices",{userid:n}))}),{timeout:2e3}).finally((function(){e.idState.loading.wipe=!1,e.idState.loading.all=!1})))}),!0)},filterManagers:function(t){var e=this;return t.filter((function(t){return t.id!==e.user.id}))},initManager:function(t){var e=this;return me(ge().mark((function n(){return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("getUser",t).then((function(t){e.idState.currentManager=null==t?void 0:t.data.ocs.data}));case 2:case"end":return n.stop()}}),n)})))()},searchInitialUserManager:function(){var t=this;return me(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.idState.loadingPossibleManagers=!0,e.next=3,t.searchUserManager();case 3:t.idState.loadingPossibleManagers=!1;case 4:case"end":return e.stop()}}),e)})))()},searchUserManager:function(t){var e=this;return me(ge().mark((function n(){return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("searchUsers",{offset:0,limit:10,search:t}).then((function(t){var n=null!=t&&t.data?e.filterManagers(Object.values(null==t?void 0:t.data.ocs.data.users)):[];n.length>0&&(e.idState.possibleManagers=n)}));case 2:case"end":return n.stop()}}),n)})))()},updateUserManager:function(e){var n=this;return me(ge().mark((function r(){return ge().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null===e&&(n.idState.currentManager=""),n.idState.loading.manager=!0,r.prev=2,r.next=5,n.$store.dispatch("setUserData",{userid:n.user.id,key:"manager",value:n.idState.currentManager?n.idState.currentManager.id:""});case 5:r.next=11;break;case 7:r.prev=7,r.t0=r.catch(2),(0,yt.x2)(t("setting","Failed to update user manager")),pe.error(r.t0);case 11:return r.prev=11,n.idState.loading.manager=!1,r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[2,7,11,14]])})))()},deleteUser:function(){var e=this,n=this.user.id;OC.dialogs.confirmDestructive(t("settings","Fully delete {userid}'s account including all their personal files, app data, etc.",{userid:n}),t("settings","Account deletion"),{type:OC.dialogs.YES_NO_BUTTONS,confirm:t("settings","Delete {userid}'s account",{userid:n}),confirmClasses:"error",cancel:t("settings","Cancel")},(function(t){if(t)return e.idState.loading.delete=!0,e.idState.loading.all=!0,e.$store.dispatch("deleteUser",n).then((function(){e.idState.loading.delete=!1,e.idState.loading.all=!1}))}),!0)},enableDisableUser:function(){var t=this;this.idState.loading.delete=!0,this.idState.loading.all=!0;var e=this.user.id,n=!this.user.enabled;return this.$store.dispatch("enableDisableUser",{userid:e,enabled:n}).then((function(){t.idState.loading.delete=!1,t.idState.loading.all=!1}))},updateDisplayName:function(){var e=this;this.idState.loading.displayName=!0,this.$store.dispatch("setUserData",{userid:this.user.id,key:"displayname",value:this.idState.editedDisplayName}).then((function(){e.idState.loading.displayName=!1,e.idState.editedDisplayName===e.user.displayname&&(0,yt.s$)(t("setting","Display name was successfully changed"))}))},updatePassword:function(){var e=this;this.idState.loading.password=!0,0===this.idState.editedPassword.length?((0,yt.x2)(t("setting","Password can't be empty")),this.idState.loading.password=!1):this.$store.dispatch("setUserData",{userid:this.user.id,key:"password",value:this.idState.editedPassword}).then((function(){e.idState.loading.password=!1,e.idState.editedPassword="",(0,yt.s$)(t("setting","Password was successfully changed"))}))},updateEmail:function(){var e=this;this.idState.loading.mailAddress=!0,""===this.idState.editedMail?((0,yt.x2)(t("setting","Email can't be empty")),this.idState.loading.mailAddress=!1,this.idState.editedMail=this.user.email):this.$store.dispatch("setUserData",{userid:this.user.id,key:"email",value:this.idState.editedMail}).then((function(){e.idState.loading.mailAddress=!1,e.idState.editedMail===e.user.email&&(0,yt.s$)(t("setting","Email was successfully changed"))}))},createGroup:function(t){var e=this;return me(ge().mark((function n(){var r,i;return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.name,e.idState.loading={groups:!0,subadmins:!0},n.prev=2,n.next=5,e.$store.dispatch("addGroup",r);case 5:return i=e.user.id,n.next=8,e.$store.dispatch("addUserGroup",{userid:i,gid:r});case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),pe.error(n.t0);case 13:return n.prev=13,e.idState.loading={groups:!1,subadmins:!1},n.finish(13);case 16:return n.abrupt("return",e.$store.getters.getGroups[e.groups.length]);case 17:case"end":return n.stop()}}),n,null,[[2,10,13,16]])})))()},addUserGroup:function(t){var e=this;return me(ge().mark((function n(){var r,i;return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.isCreating){n.next=2;break}return n.abrupt("return");case 2:if(e.idState.loading.groups=!0,r=e.user.id,i=t.id,!1!==t.canAdd){n.next=7;break}return n.abrupt("return",!1);case 7:return n.prev=7,n.next=10,e.$store.dispatch("addUserGroup",{userid:r,gid:i});case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(7),pe.error(n.t0);case 15:return n.prev=15,e.idState.loading.groups=!1,n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[7,12,15,18]])})))()},removeUserGroup:function(t){var e=this;return me(ge().mark((function n(){var r,i;return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!1!==t.canRemove){n.next=2;break}return n.abrupt("return",!1);case 2:return e.idState.loading.groups=!0,r=e.user.id,i=t.id,n.prev=5,n.next=8,e.$store.dispatch("removeUserGroup",{userid:r,gid:i});case 8:e.idState.loading.groups=!1,e.$route.params.selectedGroup===i&&e.$store.commit("deleteUser",r),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),e.idState.loading.groups=!1;case 15:case"end":return n.stop()}}),n,null,[[5,12]])})))()},addUserSubAdmin:function(t){var e=this;return me(ge().mark((function n(){var r,i;return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.idState.loading.subadmins=!0,r=e.user.id,i=t.id,n.prev=3,n.next=6,e.$store.dispatch("addUserSubAdmin",{userid:r,gid:i});case 6:e.idState.loading.subadmins=!1,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(3),pe.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[3,9]])})))()},removeUserSubAdmin:function(t){var e=this;return me(ge().mark((function n(){var r,i;return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.idState.loading.subadmins=!0,r=e.user.id,i=t.id,n.prev=3,n.next=6,e.$store.dispatch("removeUserSubAdmin",{userid:r,gid:i});case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(3),pe.error(n.t0);case 11:return n.prev=11,e.idState.loading.subadmins=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[3,8,11,14]])})))()},setUserQuota:function(){var t=arguments,e=this;return me(ge().mark((function n(){var r;return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"none"===(r=t.length>0&&void 0!==t[0]?t[0]:"none")&&(r=ue),e.idState.loading.quota=!0,r=r.id?r.id:r,n.prev=4,n.next=7,e.$store.dispatch("setUserData",{userid:e.user.id,key:"quota",value:r});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(4),pe.error(n.t0);case 12:return n.prev=12,e.idState.loading.quota=!1,n.finish(12);case 15:return n.abrupt("return",r);case 16:case"end":return n.stop()}}),n,null,[[4,9,12,15]])})))()},validateQuota:function(t){var e;return"object"===fe(t)&&(t=(null===(e=t)||void 0===e?void 0:e.id)||t.label),null===OC.Util.computerFileSize(t)?ue:{id:t=OC.Util.humanFileSize(OC.Util.computerFileSize(t)),label:t}},setUserLanguage:function(t){var e=this;return me(ge().mark((function n(){return ge().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.idState.loading.languages=!0,n.prev=1,n.next=4,e.$store.dispatch("setUserData",{userid:e.user.id,key:"language",value:t.code});case 4:e.idState.loading.languages=!1,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),pe.error(n.t0);case 10:return n.abrupt("return",t);case 11:case"end":return n.stop()}}),n,null,[[1,7]])})))()},sendWelcomeMail:function(){var e=this;this.idState.loading.all=!0,this.$store.dispatch("sendWelcomeMail",this.user.id).then((function(){return(0,yt.s$)(t("setting","Welcome mail sent!"),{timeout:2e3})})).finally((function(){e.idState.loading.all=!1}))},toggleEdit:function(){var t=this;return me(ge().mark((function e(){var n,r;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.idState.editing=!t.idState.editing,!t.idState.editing){e.next=5;break}return e.next=4,t.$nextTick();case 4:null===(n=t.$refs.displayNameField)||void 0===n||null===(n=n.$refs)||void 0===n||null===(n=n.inputField)||void 0===n||null===(n=n.$refs)||void 0===n||null===(n=n.input)||void 0===n||n.focus();case 5:t.idState.editedDisplayName!==t.user.displayname?t.idState.editedDisplayName=t.user.displayname:t.idState.editedMail!==t.user.email&&(t.idState.editedMail=null!==(r=t.user.email)&&void 0!==r?r:"");case 6:case"end":return e.stop()}}),e)})))()}}},Ae=ye,be=r(26949),we={};we.styleTagTransform=Zt(),we.setAttributes=Pt(),we.insert=Dt().bind(null,"head"),we.domAPI=Et(),we.insertStyleElement=jt(),Gt()(be.Z,we),be.Z&&be.Z.locals&&be.Z.locals;var _e=(0,y.Z)(Ae,(function(){var t,e,n,r,i=this,o=i._self._c;return o("Fragment",[o("td",{staticClass:"row__cell row__cell--avatar"},[i.isLoadingUser?o("NcLoadingIcon",{attrs:{name:i.t("settings","Loading user "),size:32}}):o("NcAvatar",{key:i.user.id,attrs:{"disable-menu":"","show-user-status":!1,user:i.user.id}})],1),i._v(" "),o("td",{staticClass:"row__cell row__cell--displayname",attrs:{"data-test":i.user.id}},[i.idState.editing&&i.user.backendCapabilities.setDisplayName?[o("NcTextField",{ref:"displayNameField",staticClass:"user-row-text-field",class:{"icon-loading-small":i.idState.loading.displayName},attrs:{"data-test":"displayNameField","show-trailing-button":!0,disabled:i.idState.loading.displayName||i.isLoadingField,label:i.t("settings","Change display name"),"trailing-button-icon":"arrowRight",value:i.idState.editedDisplayName,autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"},on:{"update:value":function(t){return i.$set(i.idState,"editedDisplayName",t)},"trailing-button-click":i.updateDisplayName}})]:[i.isObfuscated?i._e():o("strong",{attrs:{title:(null===(t=i.user.displayname)||void 0===t?void 0:t.length)>20?i.user.displayname:null}},[i._v("\n\t\t\t\t"+i._s(i.user.displayname)+"\n\t\t\t")]),i._v(" "),o("span",{staticClass:"row__subtitle"},[i._v(i._s(i.user.id))])]],2),i._v(" "),o("td",{staticClass:"row__cell",class:{"row__cell--obfuscated":i.hasObfuscated}},[i.idState.editing&&i.settings.canChangePassword&&i.user.backendCapabilities.setPassword?[o("NcTextField",{staticClass:"user-row-text-field",class:{"icon-loading-small":i.idState.loading.password},attrs:{"show-trailing-button":!0,disabled:i.idState.loading.password||i.isLoadingField,minlength:i.minPasswordLength,maxlength:"469",label:i.t("settings","Add new password"),"trailing-button-icon":"arrowRight",value:i.idState.editedPassword,autocapitalize:"off",autocomplete:"new-password",autocorrect:"off",required:"",spellcheck:"false",type:"password"},on:{"update:value":function(t){return i.$set(i.idState,"editedPassword",t)},"trailing-button-click":i.updatePassword}})]:i.isObfuscated?o("span",[i._v("\n\t\t\t"+i._s(i.t("settings","You do not have permissions to see the details of this user"))+"\n\t\t")]):i._e()],2),i._v(" "),o("td",{staticClass:"row__cell"},[i.idState.editing?[o("NcTextField",{staticClass:"user-row-text-field",class:{"icon-loading-small":i.idState.loading.mailAddress},attrs:{"show-trailing-button":!0,disabled:i.idState.loading.mailAddress||i.isLoadingField,label:i.t("settings","Add new email address"),"trailing-button-icon":"arrowRight",value:i.idState.editedMail,autocapitalize:"off",autocomplete:"new-password",autocorrect:"off",spellcheck:"false",type:"email"},on:{"update:value":function(t){return i.$set(i.idState,"editedMail",t)},"trailing-button-click":i.updateEmail}})]:i.isObfuscated?i._e():o("span",{attrs:{title:(null===(e=i.user.email)||void 0===e?void 0:e.length)>20?i.user.email:null}},[i._v("\n\t\t\t"+i._s(i.user.email)+"\n\t\t")])],2),i._v(" "),o("td",{staticClass:"row__cell row__cell--large row__cell--multiline"},[i.idState.editing?[o("label",{staticClass:"hidden-visually",attrs:{for:"groups"+i.uniqueId}},[i._v("\n\t\t\t\t"+i._s(i.t("settings","Add user to group"))+"\n\t\t\t")]),i._v(" "),o("NcSelect",{staticClass:"select-vue",attrs:{"input-id":"groups"+i.uniqueId,"close-on-select":!1,disabled:i.isLoadingField,loading:i.idState.loading.groups,multiple:!0,options:i.availableGroups,placeholder:i.t("settings","Add user to group"),taggable:i.settings.isAdmin,value:i.userGroups,label:"name","no-wrap":!0,"create-option":function(t){return{name:t,isCreating:!0}}},on:{"option:created":i.createGroup,"option:selected":function(t){return i.addUserGroup(t.at(-1))},"option:deselected":i.removeUserGroup}})]:i.isObfuscated?i._e():o("span",{attrs:{title:(null===(n=i.userGroupsLabels)||void 0===n?void 0:n.length)>40?i.userGroupsLabels:null}},[i._v("\n\t\t\t"+i._s(i.userGroupsLabels)+"\n\t\t")])],2),i._v(" "),i.subAdminsGroups.length>0&&i.settings.isAdmin?o("td",{staticClass:"row__cell row__cell--large row__cell--multiline"},[i.idState.editing&&i.settings.isAdmin&&i.subAdminsGroups.length>0?[o("label",{staticClass:"hidden-visually",attrs:{for:"subadmins"+i.uniqueId}},[i._v("\n\t\t\t\t"+i._s(i.t("settings","Set user as admin for"))+"\n\t\t\t")]),i._v(" "),o("NcSelect",{staticClass:"select-vue",attrs:{id:"subadmins"+i.uniqueId,"close-on-select":!1,disabled:i.isLoadingField,loading:i.idState.loading.subadmins,label:"name",multiple:!0,"no-wrap":!0,options:i.subAdminsGroups,placeholder:i.t("settings","Set user as admin for"),value:i.userSubAdminsGroups},on:{"option:deselected":i.removeUserSubAdmin,"option:selected":function(t){return i.addUserSubAdmin(t.at(-1))}}})]:i.isObfuscated?i._e():o("span",{attrs:{title:(null===(r=i.userSubAdminsGroupsLabels)||void 0===r?void 0:r.length)>40?i.userSubAdminsGroupsLabels:null}},[i._v("\n\t\t\t"+i._s(i.userSubAdminsGroupsLabels)+"\n\t\t")])],2):i._e(),i._v(" "),o("td",{staticClass:"row__cell"},[i.idState.editing?[o("label",{staticClass:"hidden-visually",attrs:{for:"quota"+i.uniqueId}},[i._v("\n\t\t\t\t"+i._s(i.t("settings","Select user quota"))+"\n\t\t\t")]),i._v(" "),o("NcSelect",{staticClass:"select-vue",attrs:{"close-on-select":!0,"create-option":i.validateQuota,disabled:i.isLoadingField,loading:i.idState.loading.quota,clearable:!1,"input-id":"quota"+i.uniqueId,options:i.quotaOptions,placeholder:i.t("settings","Select user quota"),taggable:!0},on:{"option:selected":i.setUserQuota},model:{value:i.editedUserQuota,callback:function(t){i.editedUserQuota=t},expression:"editedUserQuota"}})]:i.isObfuscated?i._e():[o("label",{attrs:{for:"quota-progress"+i.uniqueId}},[i._v(i._s(i.userQuota)+" ("+i._s(i.usedSpace)+")")]),i._v(" "),o("NcProgressBar",{staticClass:"row__progress",class:{"row__progress--warn":i.usedQuota>80},attrs:{id:"quota-progress"+i.uniqueId,value:i.usedQuota}})]],2),i._v(" "),i.showConfig.showLanguages?o("td",{staticClass:"row__cell row__cell--large",attrs:{"data-test":"language"}},[i.idState.editing?[o("label",{staticClass:"hidden-visually",attrs:{for:"language"+i.uniqueId}},[i._v("\n\t\t\t\t"+i._s(i.t("settings","Set the language"))+"\n\t\t\t")]),i._v(" "),o("NcSelect",{staticClass:"select-vue",attrs:{id:"language"+i.uniqueId,"allow-empty":!1,disabled:i.isLoadingField,loading:i.idState.loading.languages,clearable:!1,options:i.availableLanguages,placeholder:i.t("settings","No language set"),value:i.userLanguage,label:"name"},on:{input:i.setUserLanguage}})]:i.isObfuscated?i._e():o("span",[i._v("\n\t\t\t"+i._s(i.userLanguage.name)+"\n\t\t")])],2):i._e(),i._v(" "),i.showConfig.showUserBackend||i.showConfig.showStoragePath?o("td",{staticClass:"row__cell row__cell--large"},[i.isObfuscated?i._e():[i.showConfig.showUserBackend?o("span",[i._v(i._s(i.user.backend))]):i._e(),i._v(" "),i.showConfig.showStoragePath?o("span",{staticClass:"row__subtitle",attrs:{title:i.user.storageLocation}},[i._v("\n\t\t\t\t"+i._s(i.user.storageLocation)+"\n\t\t\t")]):i._e()]],2):i._e(),i._v(" "),i.showConfig.showLastLogin?o("td",{staticClass:"row__cell",attrs:{title:i.userLastLoginTooltip,"data-test":"lastLogin"}},[i.isObfuscated?i._e():o("span",[i._v(i._s(i.userLastLogin))])]):i._e(),i._v(" "),o("td",{staticClass:"row__cell row__cell--large"},[i.idState.editing?[o("label",{staticClass:"hidden-visually",attrs:{for:"manager"+i.uniqueId}},[i._v("\n\t\t\t\t"+i._s(i.managerLabel)+"\n\t\t\t")]),i._v(" "),o("NcSelect",{staticClass:"select-vue",attrs:{"input-id":"manager"+i.uniqueId,"close-on-select":!0,disabled:i.isLoadingField,loading:i.idState.loadingPossibleManagers||i.idState.loading.manager,label:"displayname",options:i.idState.possibleManagers,placeholder:i.managerLabel},on:{open:i.searchInitialUserManager,search:i.searchUserManager,"option:selected":i.updateUserManager,input:i.updateUserManager},model:{value:i.idState.currentManager,callback:function(t){i.$set(i.idState,"currentManager",t)},expression:"idState.currentManager"}})]:i.isObfuscated?i._e():o("span",[i._v("\n\t\t\t"+i._s(i.user.manager)+"\n\t\t")])],2),i._v(" "),o("td",{staticClass:"row__cell row__cell--actions"},[i.isObfuscated||!i.canEdit||i.idState.loading.all?i._e():o("UserRowActions",{attrs:{actions:i.userActions,disabled:i.isLoadingField,edit:i.idState.editing},on:{"update:edit":i.toggleEdit}})],1)])}),[],!1,null,"34bb6b34",null),Ce=_e.exports,xe=r(38605);function Se(t){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(t)}function Le(){Le=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof h?e:h,s=Object.create(o.prototype),a=new S(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function h(){}function p(){}function f(){}var g={};l(g,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&n.call(m,o)&&(g=m);var y=f.prototype=h.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==Se(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=l(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},A(b.prototype),l(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},A(y),l(y,a,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function ke(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,i)}function Ne(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){ke(o,r,i,s,a,"next",t)}function a(t){ke(o,r,i,s,a,"throw",t)}s(void 0)}))}}var Ie={id:"",displayName:"",password:"",mailAddress:"",groups:[],manager:"",subAdminsGroups:[],quota:de,language:{code:"en",name:t("settings","Default language")}},Ue={name:"UserList",components:{Fragment:a.Fragment,NcEmptyContent:ft.Z,NcIconSvgWrapper:gt.Z,NcLoadingIcon:vt.Z,NewUserModal:Ht,RecycleScroller:st,UserListFooter:Kt,UserListHeader:ee,UserRow:Ce},props:{selectedGroup:{type:String,default:null},externalActions:{type:Array,default:function(){return[]}}},data:function(){return{loading:{all:!1,groups:!1,users:!1},isInitialLoad:!0,rowHeight:55,usersSvg:'<svg width="16" height="16" version="1.1" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="m10 1c-1.75 0-3 1.43-3 2.8 0 1.4 0.1 2.4 0.8 3.5 0.2 0.29 0.5 0.35 0.7 0.6 0.135 0.5 0.24 1 0.1 1.5-0.28 0.1-0.525 0.22-0.8 0.33-0.085-0.15-0.23-0.2-0.47-0.4-0.73-0.44-1.56-0.75-2.33-1.04-0.1-0.37-0.1-0.65 0-1 0.156-0.166 0.37-0.27 0.5-0.43 0.46-0.6 0.5-1.654 0.5-2.37 0-1.06-0.954-1.9-2-1.9-1.17 0-2 1-2 1.9 0 0.93 0.034 1.64 0.5 2.37 0.13 0.2 0.367 0.26 0.5 0.43 0.1 0.33 0.1 0.654 0 1-0.85 0.3-1.6 0.64-2.34 1.04-0.57 0.4-0.52 0.205-0.66 1.53-0.11 1.06 2.335 1.13 4 1.13h0.17c-0.054 0.274-0.1 0.63-0.17 1.3-0.16 1.59 3.5 1.7 6 1.7s6.16-0.1 6-1.7c-0.215-2-0.23-1.71-1-2.3-1.1-0.654-2.45-1.17-3.6-1.6-0.15-0.56-0.04-0.97 0.1-1.5 0.235-0.25 0.5-0.36 0.7-0.6 0.7-0.885 0.8-2.425 0.8-3.5 0-1.6-1.43-2.8-3-2.8z"/></svg>\n',searchQuery:"",newUser:Object.assign({},Ie)}},computed:{showConfig:function(){return this.$store.getters.getShowConfig},settings:function(){return this.$store.getters.getServerData},style:function(){return{"--row-height":"".concat(this.rowHeight,"px")}},hasObfuscated:function(){return this.filteredUsers.some((function(t){return he(t)}))},users:function(){return this.$store.getters.getUsers},filteredUsers:function(){return"disabled"===this.selectedGroup?this.users.filter((function(t){return!1===t.enabled})):(this.settings.isAdmin,this.users.filter((function(t){return!1!==t.enabled})))},groups:function(){return this.$store.getters.getGroups.filter((function(t){return"disabled"!==t.id})).sort((function(t,e){return t.name.localeCompare(e.name)}))},subAdminsGroups:function(){return this.$store.getters.getSubadminGroups},quotaOptions:function(){var t=this.settings.quotaPreset.reduce((function(t,e){return t.concat({id:e,label:e})}),[]);return this.settings.allowUnlimitedQuota&&t.unshift(ue),t.unshift(de),t},usersOffset:function(){return this.$store.getters.getUsersOffset},usersLimit:function(){return this.$store.getters.getUsersLimit},usersCount:function(){return this.users.length},languages:function(){return[{label:t("settings","Common languages"),languages:this.settings.languages.commonLanguages},{label:t("settings","Other languages"),languages:this.settings.languages.otherLanguages}]}},watch:{selectedGroup:function(t,e){var n=this;return Ne(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialLoad=!0,e.next=3,n.redirectIfDisabled();case 3:return n.$store.commit("resetUsers"),e.next=6,n.loadUsers();case 6:n.setNewUserDefaultGroup(t);case 7:case"end":return e.stop()}}),e)})))()},filteredUsers:function(t){xe.Z.debug("".concat(t.length," filtered user(s)"))}},created:function(){var t=this;return Ne(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadUsers();case 2:case"end":return e.stop()}}),e)})))()},mounted:function(){var e=this;return Ne(Le().mark((function n(){return Le().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.settings.canChangePassword||OC.Notification.showTemporary(t("settings","Password change is disabled because the master key is disabled")),e.resetForm(),(0,mt.Ld)("nextcloud:unified-search.search",e.search),(0,mt.Ld)("nextcloud:unified-search.reset",e.resetSearch),n.next=6,e.redirectIfDisabled();case 6:case"end":return n.stop()}}),n)})))()},beforeDestroy:function(){(0,mt.r1)("nextcloud:unified-search.search",this.search),(0,mt.r1)("nextcloud:unified-search.reset",this.resetSearch)},methods:{handleMounted:function(){var t=this;return Ne(Le().mark((function e(){var n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.$refs.scroller.$refs.before,r=t.$refs.scroller.$refs.after,n.classList.add("user-list__header"),n.setAttribute("role","rowgroup"),r.classList.add("user-list__footer"),r.setAttribute("role","rowgroup");case 6:case"end":return e.stop()}}),e)})))()},handleScrollEnd:function(){var t=this;return Ne(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadUsers();case 2:case"end":return e.stop()}}),e)})))()},loadUsers:function(){var t=this;return Ne(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.users=!0,e.prev=1,e.next=4,t.$store.dispatch("getUsers",{offset:t.usersOffset,limit:t.usersLimit,group:"disabled"!==t.selectedGroup?t.selectedGroup:"",search:t.searchQuery});case 4:xe.Z.debug("".concat(t.users.length," total user(s) loaded")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),xe.Z.error("Failed to load users",{error:e.t0}),(0,yt.x2)("Failed to load users");case 11:t.loading.users=!1,t.isInitialLoad=!1;case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))()},closeModal:function(){this.$store.commit("setShowConfig",{key:"showNewUserForm",value:!1})},search:function(t){var e=this;return Ne(Le().mark((function n(){var r;return Le().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.query,e.searchQuery=r,e.$store.commit("resetUsers"),n.next=5,e.loadUsers();case 5:case"end":return n.stop()}}),n)})))()},resetSearch:function(){this.search({query:""})},resetForm:function(){this.newUser=Object.assign({},Ie),this.settings.defaultLanguage&&i.default.set(this.newUser.language,"code",this.settings.defaultLanguage),this.setNewUserDefaultGroup(this.selectedGroup),this.loading.all=!1},setNewUserDefaultGroup:function(t){if(t&&t.length>0){var e=this.groups.find((function(e){return e.id===t}));if(e)return void(this.newUser.groups=[e])}this.newUser.groups=[]},redirectIfDisabled:function(){var t=this;return Ne(Le().mark((function e(){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$store.getters.getGroups,!("disabled"===t.selectedGroup&&n.findIndex((function(t){return"disabled"===t.id&&0===t.usercount}))>-1)){e.next=5;break}return t.$router.push({name:"users"}),e.next=5,t.loadUsers();case 5:case"end":return e.stop()}}),e)})))()}}},Oe=r(51193),Ge={};Ge.styleTagTransform=Zt(),Ge.setAttributes=Pt(),Ge.insert=Dt().bind(null,"head"),Ge.domAPI=Et(),Ge.insertStyleElement=jt(),Gt()(Oe.Z,Ge),Oe.Z&&Oe.Z.locals&&Oe.Z.locals;var $e=(0,y.Z)(Ue,(function(){var t=this,e=t._self._c;return e("Fragment",[t.showConfig.showNewUserForm?e("NewUserModal",{attrs:{loading:t.loading,"new-user":t.newUser,"quota-options":t.quotaOptions},on:{reset:t.resetForm,close:t.closeModal}}):t._e(),t._v(" "),0===t.filteredUsers.length?e("NcEmptyContent",{staticClass:"empty",attrs:{name:t.isInitialLoad&&t.loading.users?null:t.t("settings","No users")},scopedSlots:t._u([{key:"icon",fn:function(){return[t.isInitialLoad&&t.loading.users?e("NcLoadingIcon",{attrs:{name:t.t("settings","Loading users "),size:64}}):e("NcIconSvgWrapper",{attrs:{svg:t.usersSvg}})]},proxy:!0}],null,!1,934871631)}):e("RecycleScroller",{ref:"scroller",staticClass:"user-list",style:t.style,attrs:{items:t.filteredUsers,"key-field":"id",role:"table","list-tag":"tbody","list-class":"user-list__body","item-tag":"tr","item-class":"user-list__row","item-size":t.rowHeight},on:{"hook:mounted":t.handleMounted,"scroll-end":t.handleScrollEnd},scopedSlots:t._u([{key:"before",fn:function(){return[e("caption",{staticClass:"hidden-visually"},[t._v("\n\t\t\t\t"+t._s(t.t("settings","List of users. This list is not fully rendered for performance reasons. The users will be rendered as you navigate through the list."))+"\n\t\t\t")]),t._v(" "),e("UserListHeader",{attrs:{"has-obfuscated":t.hasObfuscated}})]},proxy:!0},{key:"default",fn:function(n){var r=n.item;return[e("UserRow",{attrs:{user:r,users:t.users,settings:t.settings,"has-obfuscated":t.hasObfuscated,groups:t.groups,"sub-admins-groups":t.subAdminsGroups,"quota-options":t.quotaOptions,languages:t.languages,"external-actions":t.externalActions}})]}},{key:"after",fn:function(){return[e("UserListFooter",{attrs:{loading:t.loading.users,"filtered-users":t.filteredUsers}})]},proxy:!0}])})],1)}),[],!1,null,"39d17c45",null).exports,Ee=r(48033),ze=r(79753),De=r(25457),Me=r(63217),Pe=r(1462),Te=r(25108);function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Be(){Be=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof h?e:h,s=Object.create(o.prototype),a=new S(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function h(){}function p(){}function f(){}var g={};l(g,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&n.call(m,o)&&(g=m);var y=f.prototype=h.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==je(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=l(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},A(b.prototype),l(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},A(y),l(y,a,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function Ze(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(n),!0).forEach((function(e){Re(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Re(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==je(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===je(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qe(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,i)}var He={name:"UserSettingsDialog",components:{NcAppSettingsDialog:De.Z,NcAppSettingsSection:Me.Z,NcCheckboxRadioSwitch:Pe.Z,NcSelect:_t.Z},props:{open:{type:Boolean,required:!0}},data:function(){return{selectedQuota:!1,loadingSendMail:!1}},computed:{isModalOpen:{get:function(){return this.open},set:function(t){this.$emit("update:open",t)}},showConfig:function(){return this.$store.getters.getShowConfig},settings:function(){return this.$store.getters.getServerData},showLanguages:{get:function(){return this.getLocalstorage("showLanguages")},set:function(t){this.setLocalStorage("showLanguages",t)}},showLastLogin:{get:function(){return this.getLocalstorage("showLastLogin")},set:function(t){this.setLocalStorage("showLastLogin",t)}},showUserBackend:{get:function(){return this.getLocalstorage("showUserBackend")},set:function(t){this.setLocalStorage("showUserBackend",t)}},showStoragePath:{get:function(){return this.getLocalstorage("showStoragePath")},set:function(t){this.setLocalStorage("showStoragePath",t)}},quotaOptions:function(){var t=this.settings.quotaPreset.reduce((function(t,e){return t.concat({id:e,label:e})}),[]);return this.settings.allowUnlimitedQuota&&t.unshift(ue),t},defaultQuota:{get:function(){return!1!==this.selectedQuota?this.selectedQuota:this.settings.defaultQuota!==ue.id&&OC.Util.computerFileSize(this.settings.defaultQuota)>=0?{id:this.settings.defaultQuota,label:this.settings.defaultQuota}:ue},set:function(t){this.selectedQuota=t}},sendWelcomeMail:{get:function(){return this.settings.newUserSendEmail},set:function(t){var e,n=this;return(e=Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.loadingSendMail=!0,n.$store.commit("setServerData",Fe(Fe({},n.settings),{},{newUserSendEmail:t})),e.next=5,Ee.Z.post((0,ze.generateUrl)("/settings/users/preferences/newUser.sendEmail"),{value:t?"yes":"no"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Te.error("could not update newUser.sendEmail preference: "+e.t0.message,e.t0);case 10:return e.prev=10,n.loadingSendMail=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(t){qe(o,r,i,s,a,"next",t)}function a(t){qe(o,r,i,s,a,"throw",t)}s(void 0)}))})()}}},methods:{getLocalstorage:function(t){var e=this.$localStorage.get(t);return this.$store.commit("setShowConfig",{key:t,value:null!==e?"true"===e:this.showConfig[t]}),this.showConfig[t]},setLocalStorage:function(t,e){return this.$store.commit("setShowConfig",{key:t,value:e}),this.$localStorage.set(t,e),e},validateQuota:function(t){var e;return"object"===je(t)&&(t=(null===(e=t)||void 0===e?void 0:e.id)||t.label),null===OC.Util.computerFileSize(t)?ue:{id:t=OC.Util.humanFileSize(OC.Util.computerFileSize(t)),label:t}},setDefaultQuota:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";"none"===e&&(e=ue),this.$store.dispatch("setAppConfig",{app:"files",key:"default_quota",value:e.id?e.id:e}).then((function(){"object"!==je(e)&&(e={id:e,label:e}),t.defaultQuota=e}))}}},Ye=He,Qe=r(66547),Ve={};Ve.styleTagTransform=Zt(),Ve.setAttributes=Pt(),Ve.insert=Dt().bind(null,"head"),Ve.domAPI=Et(),Ve.insertStyleElement=jt(),Gt()(Qe.Z,Ve),Qe.Z&&Qe.Z.locals&&Qe.Z.locals;var We=(0,y.Z)(Ye,(function(){var t=this,e=t._self._c;return e("NcAppSettingsDialog",{attrs:{open:t.isModalOpen,"show-navigation":!0,name:t.t("settings","User management settings")},on:{"update:open":function(e){t.isModalOpen=e}}},[e("NcAppSettingsSection",{attrs:{id:"visibility-settings",name:t.t("settings","Visibility")}},[e("NcCheckboxRadioSwitch",{attrs:{type:"switch","data-test":"showLanguages",checked:t.showLanguages},on:{"update:checked":function(e){t.showLanguages=e}}},[t._v("\n\t\t\t"+t._s(t.t("settings","Show language"))+"\n\t\t")]),t._v(" "),e("NcCheckboxRadioSwitch",{attrs:{type:"switch","data-test":"showUserBackend",checked:t.showUserBackend},on:{"update:checked":function(e){t.showUserBackend=e}}},[t._v("\n\t\t\t"+t._s(t.t("settings","Show user backend"))+"\n\t\t")]),t._v(" "),e("NcCheckboxRadioSwitch",{attrs:{type:"switch","data-test":"showStoragePath",checked:t.showStoragePath},on:{"update:checked":function(e){t.showStoragePath=e}}},[t._v("\n\t\t\t"+t._s(t.t("settings","Show storage path"))+"\n\t\t")]),t._v(" "),e("NcCheckboxRadioSwitch",{attrs:{type:"switch","data-test":"showLastLogin",checked:t.showLastLogin},on:{"update:checked":function(e){t.showLastLogin=e}}},[t._v("\n\t\t\t"+t._s(t.t("settings","Show last login"))+"\n\t\t")])],1),t._v(" "),e("NcAppSettingsSection",{attrs:{id:"email-settings",name:t.t("settings","Send email")}},[e("NcCheckboxRadioSwitch",{attrs:{type:"switch","data-test":"sendWelcomeMail",checked:t.sendWelcomeMail,disabled:t.loadingSendMail},on:{"update:checked":function(e){t.sendWelcomeMail=e}}},[t._v("\n\t\t\t"+t._s(t.t("settings","Send welcome email to new users"))+"\n\t\t")])],1),t._v(" "),e("NcAppSettingsSection",{attrs:{id:"default-settings",name:t.t("settings","Defaults")}},[e("label",{attrs:{for:"default-quota-select"}},[t._v(t._s(t.t("settings","Default quota")))]),t._v(" "),e("NcSelect",{attrs:{"input-id":"default-quota-select",placement:"top",taggable:!0,options:t.quotaOptions,"create-option":t.validateQuota,placeholder:t.t("settings","Select default quota"),clearable:!1},on:{"option:selected":t.setDefaultQuota},model:{value:t.defaultQuota,callback:function(e){t.defaultQuota=e},expression:"defaultQuota"}})],1)],1)}),[],!1,null,"0a250c55",null).exports;function Ke(t){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ke(t)}function Je(){Je=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof h?e:h,s=Object.create(o.prototype),a=new S(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function h(){}function p(){}function f(){}var g={};l(g,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&n.call(m,o)&&(g=m);var y=f.prototype=h.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==Ke(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=l(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},A(b.prototype),l(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},A(y),l(y,a,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function Xe(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,i)}i.default.use(s());var tn={name:"Users",components:{AccountGroup:v.Z,AccountOff:A,Cog:b.default,Fragment:a.Fragment,GroupListItem:O,NcAppContent:l.Z,NcAppNavigation:c.Z,NcAppNavigationCaption:u.Z,NcAppNavigationItem:d.Z,NcAppNavigationNew:h.Z,NcAppNavigationNewItem:p.Z,NcContent:f.Z,NcCounterBubble:g.Z,Plus:w.Z,ShieldAccount:C,UserList:$e,UserSettingsDialog:We},props:{selectedGroup:{type:String,default:null}},data:function(){return{externalActions:[],loadingAddGroup:!1,isDialogOpen:!1}},computed:{showConfig:function(){return this.$store.getters.getShowConfig},selectedGroupDecoded:function(){return this.selectedGroup?decodeURIComponent(this.selectedGroup):null},users:function(){return this.$store.getters.getUsers},groups:function(){return this.$store.getters.getGroups},usersOffset:function(){return this.$store.getters.getUsersOffset},usersLimit:function(){return this.$store.getters.getUsersLimit},userCount:function(){return this.$store.getters.getUserCount},settings:function(){return this.$store.getters.getServerData},groupList:function(){var t=this;return(Array.isArray(this.groups)?this.groups:[]).filter((function(t){return"disabled"!==t.id&&"admin"!==t.id})).map((function(e){return t.formatGroupMenu(e)}))},adminGroupMenu:function(){return this.formatGroupMenu(this.groups.find((function(t){return"admin"===t.id})))},disabledGroupMenu:function(){return this.formatGroupMenu(this.groups.find((function(t){return"disabled"===t.id})))}},beforeMount:function(){this.$store.commit("initGroups",{groups:this.$store.getters.getServerData.groups,orderBy:this.$store.getters.getServerData.sortGroups,userCount:this.$store.getters.getServerData.userCount}),this.$store.dispatch("getPasswordPolicyMinLength")},created:function(){Object.assign(OCA,{Settings:{UserList:{registerAction:this.registerAction}}})},methods:{showNewUserMenu:function(){this.$store.commit("setShowConfig",{key:"showNewUserForm",value:!0})},registerAction:function(t,e,n){return this.externalActions.push({icon:t,text:e,action:n}),this.externalActions},createGroup:function(t){var e,n=this;return(e=Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n.loadingAddGroup=!0,e.next=6,n.$store.dispatch("addGroup",t.trim());case 6:return n.hideAddGroupForm(),e.next=9,n.$router.push({name:"group",params:{selectedGroup:encodeURIComponent(t.trim())}});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),n.showAddGroupForm();case 14:return e.prev=14,n.loadingAddGroup=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(t){Xe(o,r,i,s,a,"next",t)}function a(t){Xe(o,r,i,s,a,"throw",t)}s(void 0)}))})()},showAddGroupForm:function(){var t=this;this.$refs.addGroup.newItemActive=!0,this.$nextTick((function(){t.$refs.addGroup.$refs.newItemInput.focusInput()}))},hideAddGroupForm:function(){this.$refs.addGroup.newItemActive=!1,this.$refs.addGroup.newItemValue=""},formatGroupMenu:function(t){var e={};return void 0===t?{}:(e.id=t.id,e.title=t.name,e.usercount=t.usercount,t.usercount-t.disabled>0&&(e.count=t.usercount-t.disabled),e)}}},en=tn,nn=r(35059),rn={};rn.styleTagTransform=Zt(),rn.setAttributes=Pt(),rn.insert=Dt().bind(null,"head"),rn.domAPI=Et(),rn.insertStyleElement=jt(),Gt()(nn.Z,rn),nn.Z&&nn.Z.locals&&nn.Z.locals;var on=(0,y.Z)(en,(function(){var t=this,e=t._self._c;return e("Fragment",[e("NcContent",{attrs:{"app-name":"settings","navigation-class":{"icon-loading":t.loadingAddGroup}}},[e("NcAppNavigation",{scopedSlots:t._u([{key:"list",fn:function(){return[e("NcAppNavigationNewItem",{ref:"addGroup",attrs:{id:"addgroup","edit-placeholder":t.t("settings","Enter group name"),editable:!0,loading:t.loadingAddGroup,name:t.t("settings","Add group")},on:{click:t.showAddGroupForm,"new-item":t.createGroup},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Plus",{attrs:{size:20}})]},proxy:!0}])}),t._v(" "),e("NcAppNavigationItem",{attrs:{id:"everyone",exact:!0,name:t.t("settings","Active users"),to:{name:"users"}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("AccountGroup",{attrs:{size:20}})]},proxy:!0},{key:"counter",fn:function(){return[t.userCount?e("NcCounterBubble",{attrs:{type:t.selectedGroupDecoded?void 0:"highlighted"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.userCount)+"\n\t\t\t\t\t\t")]):t._e()]},proxy:!0}])}),t._v(" "),t.settings.isAdmin?e("NcAppNavigationItem",{attrs:{id:"admin",exact:!0,name:t.t("settings","Admins"),to:{name:"group",params:{selectedGroup:"admin"}}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ShieldAccount",{attrs:{size:20}})]},proxy:!0},t.adminGroupMenu.count>0?{key:"counter",fn:function(){return[e("NcCounterBubble",{attrs:{type:"admin"===t.selectedGroupDecoded?"highlighted":void 0}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.adminGroupMenu.count)+"\n\t\t\t\t\t\t")])]},proxy:!0}:null],null,!0)}):t._e(),t._v(" "),t.disabledGroupMenu.usercount>0||-1===t.disabledGroupMenu.usercount?e("NcAppNavigationItem",{attrs:{id:"disabled",exact:!0,name:t.t("settings","Disabled users"),to:{name:"group",params:{selectedGroup:"disabled"}}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("AccountOff",{attrs:{size:20}})]},proxy:!0},t.disabledGroupMenu.usercount>0?{key:"counter",fn:function(){return[e("NcCounterBubble",{attrs:{type:"disabled"===t.selectedGroupDecoded?"highlighted":void 0}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.disabledGroupMenu.usercount)+"\n\t\t\t\t\t\t")])]},proxy:!0}:null],null,!0)}):t._e(),t._v(" "),t.groupList.length>0?e("NcAppNavigationCaption",{attrs:{name:t.t("settings","Groups")}}):t._e(),t._v(" "),t._l(t.groupList,(function(n){return e("GroupListItem",{key:n.id,attrs:{id:n.id,active:t.selectedGroupDecoded===n.id,name:n.title,count:n.count}})}))]},proxy:!0},{key:"footer",fn:function(){return[e("ul",{staticClass:"app-navigation-entry__settings"},[e("NcAppNavigationItem",{attrs:{name:t.t("settings","User management settings")},on:{click:function(e){t.isDialogOpen=!0}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Cog",{attrs:{size:20}})]},proxy:!0}])})],1)]},proxy:!0}])},[e("NcAppNavigationNew",{attrs:{"button-id":"new-user-button",text:t.t("settings","New user"),"button-class":"icon-add"},on:{click:t.showNewUserMenu,keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showNewUserMenu.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.showNewUserMenu.apply(null,arguments)}]},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Plus",{attrs:{size:20}})]},proxy:!0}])})],1),t._v(" "),e("NcAppContent",[e("UserList",{attrs:{"selected-group":t.selectedGroupDecoded,"external-actions":t.externalActions}})],1)],1),t._v(" "),e("UserSettingsDialog",{attrs:{open:t.isDialogOpen},on:{"update:open":function(e){t.isDialogOpen=e}}})],1)}),[],!1,null,"616d69c6",null),sn=on.exports},87369:function(t,e,n){var r=n(34155),i=n(25108);t.exports=function(){"use strict";var t=function(){this._properties={},this._namespace="",this._isSupported=!0},e={namespace:{}};e.namespace.get=function(){return this._namespace},e.namespace.set=function(t){this._namespace=t?t+".":""},t.prototype._getLsKey=function(t){return""+this._namespace+t},t.prototype._lsSet=function(t,e,n){var r=this._getLsKey(t),i=n&&[Array,Object].includes(n)?JSON.stringify(e):e;window.localStorage.setItem(r,i)},t.prototype._lsGet=function(t){var e=this._getLsKey(t);return window.localStorage[e]},t.prototype.get=function(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=String),!this._isSupported)return null;if(this._lsGet(t)){var r=n;for(var i in this._properties)if(i===t){r=this._properties[i].type;break}return this._process(r,this._lsGet(t))}return null!==e?e:null},t.prototype.set=function(t,e){var n=this;if(!this._isSupported)return null;for(var r in n._properties){var i=n._properties[r].type;if(r===t)return n._lsSet(t,e,i),e}return this._lsSet(t,e),e},t.prototype.remove=function(t){return this._isSupported?window.localStorage.removeItem(t):null},t.prototype.addProperty=function(t,e,n){void 0===n&&(n=void 0),e=e||String,this._properties[t]={type:e},this._lsGet(t)||null===n||this._lsSet(t,n,e)},t.prototype._process=function(t,e){switch(t){case Boolean:return"true"===e;case Number:return parseFloat(e);case Array:try{var n=JSON.parse(e);return Array.isArray(n)?n:[]}catch(t){return[]}case Object:try{return JSON.parse(e)}catch(t){return{}}default:return e}},Object.defineProperties(t.prototype,e);var n=new t;return{install:function(t,e){if(void 0===e&&(e={}),void 0===r||!(r.server||r.SERVER_BUILD||r.env&&"server"===r.env.VUE_ENV)){var o=!0;try{var s="__vue-localstorage-test__";window.localStorage.setItem(s,s),window.localStorage.removeItem(s)}catch(t){o=!1,n._isSupported=!1,i.error("Local storage is not supported")}var a=e.name||"localStorage",l=e.bind;e.namespace&&(n.namespace=e.namespace),t.mixin({beforeCreate:function(){var e=this;o&&this.$options[a]&&Object.keys(this.$options[a]).forEach((function(r){var o=e.$options[a][r],s=[o.type,o.default],c=s[0],u=s[1];if(n.addProperty(r,c,u),Object.getOwnPropertyDescriptor(n,r))t.config.silent||i.log(r+": is already defined and will be reused");else{var d={get:function(){return t.localStorage.get(r,u)},set:function(e){return t.localStorage.set(r,e)},configurable:!0};Object.defineProperty(n,r,d),t.util.defineReactive(n,r,u)}(l||o.bind)&&!1!==o.bind&&(e.$options.computed=e.$options.computed||{},e.$options.computed[r]||(e.$options.computed[r]={get:function(){return t.localStorage[r]},set:function(e){t.localStorage[r]=e}}))}))}}),t[a]=n,t.prototype["$"+a]=n}}}}()},42761:function(t){"use strict";t.exports="data:image/svg+xml;base64,PCEtLSBUaGlzIGljb24gaXMgcGFydCBvZiBNYXRlcmlhbCBVSSBJY29ucy4gQ29weXJpZ2h0IDIwMjAgR29vZ2xlIEluYy4sIEFwYWNoZS0yLjAgTGljZW5zZSAtLT4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZD0iTS00LTRoMjR2MjRILTRWLTR6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTggMEMzLjYgMCAwIDMuNiAwIDhzMy42IDggOCA4IDgtMy42IDgtOC0zLjYtOC04LTh6IiBmaWxsPSIjZWQ0ODRjIi8+PHBhdGggZD0iTTUgNi41aDZjLjggMCAxLjUuNyAxLjUgMS41cy0uNyAxLjUtMS41IDEuNUg1Yy0uOCAwLTEuNS0uNy0xLjUtMS41UzQuMiA2LjUgNSA2LjV6IiBmaWxsPSIjZmRmZmZmIi8+PC9zdmc+Cg=="},87210:function(t){"use strict";t.exports="data:image/svg+xml;base64,PCEtLSBUaGlzIGljb24gaXMgcGFydCBvZiBNYXRlcmlhbCBVSSBJY29ucy4gQ29weXJpZ2h0IDIwMjAgR29vZ2xlIEluYy4sIEFwYWNoZS0yLjAgTGljZW5zZSAtLT4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZD0iTTQuOCAxMS4yaDYuNFY0LjhINC44djYuNHpNOCAwQzMuNiAwIDAgMy42IDAgOHMzLjYgOCA4IDggOC0zLjYgOC04LTMuNi04LTgtOHoiIGZpbGw9IiM0OWIzODIiLz48L3N2Zz4K"},94659:function(t){"use strict";t.exports="data:image/svg+xml;base64,PCEtLSBUaGlzIGljb24gaXMgcGFydCBvZiBNYXRlcmlhbCBVSSBJY29ucy4gQ29weXJpZ2h0IDIwMjAgR29vZ2xlIEluYy4sIEFwYWNoZS0yLjAgTGljZW5zZSAtLT4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTS00LTRoMjR2MjRILTR6Ii8+PHBhdGggZD0iTTYuOS4xQzMgLjYtLjEgNC0uMSA4YzAgNC40IDMuNiA4IDggOCA0IDAgNy40LTMgOC02LjktMS4yIDEuMy0yLjkgMi4xLTQuNyAyLjEtMy41IDAtNi40LTIuOS02LjQtNi40IDAtMS45LjgtMy42IDIuMS00Ljd6IiBmaWxsPSIjZjRhMzMxIi8+PC9zdmc+Cg=="},11530:function(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2QyZDJkMiI+PHBhdGggZD0iTTE1LjQgMTYuNkwxMC44IDEybDQuNi00LjZMMTQgNmwtNiA2IDYgNiAxLjQtMS40eiIvPjwvc3ZnPg=="},71124:function(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2QyZDJkMiI+PHBhdGggZD0iTTE4LjQgNy40TDE3IDZsLTYgNiA2IDYgMS40LTEuNC00LjYtNC42IDQuNi00LjZtLTYgMEwxMSA2bC02IDYgNiA2IDEuNC0xLjRMNy44IDEybDQuNi00LjZ6Ii8+PC9zdmc+"},48461:function(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2QyZDJkMiI+PHBhdGggZD0iTTUuNiA3LjRMNyA2bDYgNi02IDYtMS40LTEuNCA0LjYtNC42LTQuNi00LjZtNiAwTDEzIDZsNiA2LTYgNi0xLjQtMS40IDQuNi00LjYtNC42LTQuNnoiLz48L3N2Zz4="},23427:function(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2QyZDJkMiI+PHBhdGggZD0iTTguNiAxNi42bDQuNi00LjYtNC42LTQuNkwxMCA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4="},39896:function(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0iIzIyMiI+PHBhdGggZD0iTTE1LjQgMTYuNkwxMC44IDEybDQuNi00LjZMMTQgNmwtNiA2IDYgNiAxLjQtMS40eiIvPjwvc3ZnPg=="},76899:function(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0iIzIyMiI+PHBhdGggZD0iTTE4LjQgNy40TDE3IDZsLTYgNiA2IDYgMS40LTEuNC00LjYtNC42IDQuNi00LjZtLTYgMEwxMSA2bC02IDYgNiA2IDEuNC0xLjRMNy44IDEybDQuNi00LjZ6Ii8+PC9zdmc+"},88931:function(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0iIzIyMiI+PHBhdGggZD0iTTUuNiA3LjRMNyA2bDYgNi02IDYtMS40LTEuNCA0LjYtNC42LTQuNi00LjZtNiAwTDEzIDZsNiA2LTYgNi0xLjQtMS40IDQuNi00LjYtNC42LTQuNnoiLz48L3N2Zz4="},16556:function(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0iIzIyMiI+PHBhdGggZD0iTTguNiAxNi42bDQuNi00LjYtNC42LTQuNkwxMCA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4="}}]);
//# sourceMappingURL=settings-users-8351.js.map?v=07504ebdb15bd7eb3d3a