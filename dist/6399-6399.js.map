{"version":3,"file":"6399-6399.js?v=40bc79dc4e0256b9ecc3","mappings":"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","sources":["webpack:///nextcloud/node_modules/@nextcloud/vue/dist/Components/NcRichContenteditable.mjs"],"sourcesContent":["import \"../assets/index57.css\";\nimport { r as c } from \"../chunks/index-9c621303.mjs\";\nimport { N as ut } from \"../chunks/index-9c621303.mjs\";\nimport { generateUrl as p } from \"@nextcloud/router\";\nimport { n as u } from \"../chunks/_plugin-vue2_normalizer-5b4c43a4.mjs\";\nimport { t as a } from \"../chunks/l10n-9a5a6afc.mjs\";\nimport \"../Directives/Tooltip.mjs\";\nimport { emojiAddRecent as m, emojiSearch as d } from \"../Functions/emoji.mjs\";\nimport { n as h, j as f } from \"../chunks/referencePickerModal-2b16b319.mjs\";\nimport \"@nextcloud/axios\";\nimport \"unist-util-visit\";\nimport \"unist-builder\";\nimport \"unified\";\nimport \"remark-parse\";\nimport \"remark-breaks\";\nimport \"remark-rehype\";\nimport \"rehype-react\";\nimport \"rehype-external-links\";\nimport \"./NcEmptyContent.mjs\";\nimport \"./NcSelect.mjs\";\nimport \"vue-material-design-icons/LinkVariant.vue\";\nimport \"./NcLoadingIcon.mjs\";\nimport \"./NcTextField.mjs\";\nimport \"vue-material-design-icons/DotsHorizontal.vue\";\nimport \"./NcButton.mjs\";\nimport \"./NcModal.mjs\";\nimport \"@nextcloud/event-bus\";\nimport \"vue-material-design-icons/ArrowLeft.vue\";\nimport \"vue-material-design-icons/Close.vue\";\nimport r from \"tributejs/dist/tribute.esm.js\";\nimport g from \"debounce\";\nimport b from \"string-length\";\nimport { VTooltip as v } from \"floating-vue\";\nconst y = { name: \"NcAutoCompleteResult\", props: { title: { type: String, required: !0 }, subline: { type: String, default: null }, id: { type: String, default: null }, icon: { type: String, required: !0 }, iconUrl: { type: String, default: null }, source: { type: String, required: !0 }, status: { type: [Object, Array], default: () => ({}) } }, computed: { avatarUrl() {\n  return this.iconUrl ? this.iconUrl : this.id && this.source === \"users\" ? this.getAvatarUrl(this.id, 44) : null;\n}, haveStatus() {\n  var t, e, i;\n  return ((t = this.status) == null ? void 0 : t.icon) || ((e = this.status) == null ? void 0 : e.status) && ((i = this.status) == null ? void 0 : i.status) !== \"offline\";\n} }, methods: { getAvatarUrl(t, e) {\n  return p(\"/avatar/{user}/{size}\", { user: t, size: e });\n} } };\nvar _ = function() {\n  var t = this, e = t._self._c;\n  return e(\"div\", { staticClass: \"autocomplete-result\" }, [e(\"div\", { staticClass: \"autocomplete-result__icon\", class: [t.icon, `autocomplete-result__icon--${t.avatarUrl ? \"with-avatar\" : \"\"}`], style: t.avatarUrl ? { backgroundImage: `url(${t.avatarUrl})` } : null }, [t.haveStatus ? e(\"div\", { staticClass: \"autocomplete-result__status\", class: [`autocomplete-result__status--${t.status && t.status.icon ? \"icon\" : t.status.status}`] }, [t._v(\" \" + t._s(t.status && t.status.icon || \"\") + \" \")]) : t._e()]), e(\"span\", { staticClass: \"autocomplete-result__content\" }, [e(\"span\", { staticClass: \"autocomplete-result__title\", attrs: { title: t.title } }, [t._v(\" \" + t._s(t.title) + \" \")]), t.subline ? e(\"span\", { staticClass: \"autocomplete-result__subline\" }, [t._v(\" \" + t._s(t.subline) + \" \")]) : t._e()])]);\n}, C = [], k = u(y, _, C, !1, null, \"25cf09d8\", null, null);\nconst T = k.exports;\nconst x = { name: \"NcRichContenteditable\", directives: { tooltip: v }, mixins: [c], props: { value: { type: String, default: \"\", required: !0 }, placeholder: { type: String, default: a(\"Write a message â€¦\") }, autoComplete: { type: Function, default: () => [] }, menuContainer: { type: Element, default: () => document.body }, multiline: { type: Boolean, default: !1 }, contenteditable: { type: Boolean, default: !0 }, disabled: { type: Boolean, default: !1 }, maxlength: { type: Number, default: null }, emojiAutocomplete: { type: Boolean, default: !0 }, linkAutocomplete: { type: Boolean, default: !0 } }, emits: [\"submit\", \"paste\", \"update:value\"], data() {\n  return { textSmiles: [], tribute: null, autocompleteOptions: { allowSpaces: !0, fillAttr: \"id\", lookup: (t) => `${t.id} ${t.title}`, menuContainer: this.menuContainer, menuItemTemplate: (t) => this.renderComponentHtml(t.original, T), noMatchTemplate: () => '<span class=\"hidden\"></span>', selectTemplate: (t) => {\n    var e;\n    return this.genSelectTemplate((e = t == null ? void 0 : t.original) == null ? void 0 : e.id);\n  }, values: this.debouncedAutoComplete }, emojiOptions: { trigger: \":\", lookup: (t, e) => e, menuContainer: this.menuContainer, menuItemTemplate: (t) => this.textSmiles.includes(t.original) ? t.original : `<span class=\"tribute-container-emoji__item__emoji\">${t.original.native}</span> :${t.original.short_name}`, noMatchTemplate: () => a(\"No emoji found\"), selectTemplate: (t) => this.textSmiles.includes(t.original) ? t.original : (m(t.original), t.original.native), values: (t, e) => {\n    const i = d(t);\n    this.textSmiles.includes(\":\" + t) && i.unshift(\":\" + t), e(i);\n  }, containerClass: \"tribute-container-emoji\", itemClass: \"tribute-container-emoji__item\" }, linkOptions: { trigger: \"/\", lookup: (t, e) => e, menuContainer: this.menuContainer, menuItemTemplate: (t) => `<img class=\"tribute-container-link__item__icon\" src=\"${t.original.icon_url}\"> <span class=\"tribute-container-link__item__title\">${t.original.title}</span>`, noMatchTemplate: () => a(\"No link provider found\"), selectTemplate: this.getLink, values: (t, e) => e(h(t)), containerClass: \"tribute-container-link\", itemClass: \"tribute-container-link__item\" }, localValue: this.value, isComposing: !1 };\n}, computed: { isEmptyValue() {\n  return !this.localValue || this.localValue && this.localValue.trim() === \"\";\n}, isFF() {\n  return !!navigator.userAgent.match(/firefox/i);\n}, isOverMaxlength() {\n  return this.isEmptyValue || !this.maxlength ? !1 : b(this.localValue) > this.maxlength;\n}, tooltipString() {\n  return this.isOverMaxlength ? { content: a(\"Message limit of {count} characters reached\", { count: this.maxlength }), shown: !0, trigger: \"manual\" } : null;\n}, canEdit() {\n  return this.contenteditable && !this.disabled;\n}, listeners() {\n  const t = { ...this.$listeners };\n  return delete t.paste, t;\n} }, watch: { value() {\n  const t = this.$refs.contenteditable.innerHTML;\n  this.value.trim() !== this.parseContent(t).trim() && this.updateContent(this.value);\n} }, mounted() {\n  const t = [\"d\", \"D\", \"p\", \"P\", \"s\", \"S\", \"x\", \"X\", \")\", \"(\", \"|\", \"/\"];\n  this.textSmiles = [], t.forEach((e) => {\n    this.textSmiles.push(\":\" + e), this.textSmiles.push(\":-\" + e);\n  }), this.autocompleteTribute = new r(this.autocompleteOptions), this.autocompleteTribute.attach(this.$el), this.emojiAutocomplete && (this.emojiTribute = new r(this.emojiOptions), this.emojiTribute.attach(this.$el)), this.linkAutocomplete && (this.linkTribute = new r(this.linkOptions), this.linkTribute.attach(this.$el)), this.updateContent(this.value), this.$refs.contenteditable.contentEditable = this.canEdit;\n}, beforeDestroy() {\n  this.autocompleteTribute && this.autocompleteTribute.detach(this.$el), this.emojiTribute && this.emojiTribute.detach(this.$el), this.linkTribute && this.linkTribute.detach(this.$el);\n}, methods: { focus() {\n  this.$refs.contenteditable.focus();\n}, getLink(t) {\n  return f(t.original.id).then((e) => {\n    const i = document.getElementById(\"tmp-link-result-node\"), n = document.createTextNode(e);\n    i.replaceWith(n), this.setCursorAfter(n), this.updateValue(this.$refs.contenteditable.innerHTML);\n  }).catch((e) => {\n    console.debug(\"Smart picker promise rejected:\", e);\n    const i = document.getElementById(\"tmp-link-result-node\");\n    this.setCursorAfter(i), i.remove();\n  }), '<span id=\"tmp-link-result-node\"></span>';\n}, setCursorAfter(t) {\n  const e = document.createRange();\n  e.setEndAfter(t), e.collapse();\n  const i = window.getSelection();\n  i.removeAllRanges(), i.addRange(e);\n}, onInput(t) {\n  this.updateValue(t.target.innerHTML);\n}, onPaste(t) {\n  if (!this.canEdit)\n    return;\n  t.preventDefault();\n  const e = t.clipboardData;\n  if (this.$emit(\"paste\", t), e.files.length !== 0 || !Object.values(e.items).find((l) => l == null ? void 0 : l.type.startsWith(\"text\")))\n    return;\n  const i = e.getData(\"text\"), n = window.getSelection();\n  if (!n.rangeCount) {\n    this.updateValue(i);\n    return;\n  }\n  const o = n.getRangeAt(0);\n  n.deleteFromDocument(), o.insertNode(document.createTextNode(i));\n  const s = document.createRange();\n  s.setStart(t.target, o.endOffset), s.collapse(!0), n.removeAllRanges(), n.addRange(s), this.updateValue(this.$refs.contenteditable.innerHTML);\n}, updateValue(t) {\n  const e = this.parseContent(t);\n  this.localValue = e, this.$emit(\"update:value\", e);\n}, updateContent(t) {\n  const e = this.renderContent(t);\n  this.$refs.contenteditable.innerHTML = e, this.localValue = t;\n}, onDelete(t) {\n  if (!this.isFF || !window.getSelection || !this.canEdit)\n    return;\n  const e = window.getSelection(), i = t.target;\n  if (!e.isCollapsed || !e.rangeCount)\n    return;\n  const n = e.getRangeAt(e.rangeCount - 1);\n  if (n.commonAncestorContainer.nodeType === 3 && n.startOffset > 0)\n    return;\n  const o = document.createRange();\n  if (e.anchorNode !== i)\n    o.selectNodeContents(i), o.setEndBefore(e.anchorNode);\n  else if (e.anchorOffset > 0)\n    o.setEnd(i, e.anchorOffset);\n  else\n    return;\n  o.setStart(i, o.endOffset - 1);\n  const s = o.cloneContents().lastChild;\n  s && s.contentEditable === \"false\" && (o.deleteContents(), t.preventDefault());\n}, onEnter(t) {\n  this.multiline || this.isOverMaxlength || this.autocompleteTribute.isActive || this.emojiTribute.isActive || this.linkTribute.isActive || this.isComposing || (t.preventDefault(), t.stopPropagation(), this.$emit(\"submit\", t));\n}, onCtrlEnter(t) {\n  this.isOverMaxlength || this.$emit(\"submit\", t);\n}, debouncedAutoComplete: g(async function(t, e) {\n  this.autoComplete(t, e);\n}, 100), onKeyUp(t) {\n  t.stopImmediatePropagation();\n} } };\nvar S = function() {\n  var t = this, e = t._self._c;\n  return e(\"div\", t._g({ directives: [{ name: \"tooltip\", rawName: \"v-tooltip\", value: t.tooltipString, expression: \"tooltipString\" }], ref: \"contenteditable\", staticClass: \"rich-contenteditable__input\", class: { \"rich-contenteditable__input--empty\": t.isEmptyValue, \"rich-contenteditable__input--multiline\": t.multiline, \"rich-contenteditable__input--overflow\": t.isOverMaxlength, \"rich-contenteditable__input--disabled\": t.disabled }, attrs: { contenteditable: t.canEdit, placeholder: t.placeholder, \"aria-placeholder\": t.placeholder, \"aria-multiline\": \"true\", role: \"textbox\" }, on: { input: t.onInput, compositionstart: function(i) {\n    t.isComposing = !0;\n  }, compositionend: function(i) {\n    t.isComposing = !1;\n  }, keydown: [function(i) {\n    return !i.type.indexOf(\"key\") && t._k(i.keyCode, \"delete\", [8, 46], i.key, [\"Backspace\", \"Delete\", \"Del\"]) ? null : t.onDelete.apply(null, arguments);\n  }, function(i) {\n    return !i.type.indexOf(\"key\") && t._k(i.keyCode, \"enter\", 13, i.key, \"Enter\") || i.ctrlKey || i.shiftKey || i.altKey || i.metaKey ? null : t.onEnter.apply(null, arguments);\n  }, function(i) {\n    return !i.type.indexOf(\"key\") && t._k(i.keyCode, \"enter\", 13, i.key, \"Enter\") || !i.ctrlKey || i.shiftKey || i.altKey || i.metaKey ? null : (i.stopPropagation(), i.preventDefault(), t.onCtrlEnter.apply(null, arguments));\n  }], paste: t.onPaste, \"!keyup\": function(i) {\n    return i.stopPropagation(), i.preventDefault(), t.onKeyUp.apply(null, arguments);\n  } } }, t.listeners));\n}, A = [], $ = u(x, S, A, !1, null, \"b7f5e546\", null, null);\nconst at = $.exports;\nexport {\n  T as NcAutoCompleteResult,\n  ut as NcMentionBubble,\n  at as default\n};\n"],"names":["y","name","props","title","type","String","required","subline","default","id","icon","iconUrl","source","status","Object","Array","computed","avatarUrl","this","getAvatarUrl","haveStatus","t","e","i","methods","user","size","T","_self","_c","staticClass","class","style","backgroundImage","_v","_s","_e","attrs","exports","x","directives","tooltip","mixins","value","placeholder","autoComplete","Function","menuContainer","Element","document","body","multiline","Boolean","contenteditable","disabled","maxlength","Number","emojiAutocomplete","linkAutocomplete","emits","data","textSmiles","tribute","autocompleteOptions","allowSpaces","fillAttr","lookup","menuItemTemplate","renderComponentHtml","original","noMatchTemplate","selectTemplate","genSelectTemplate","values","debouncedAutoComplete","emojiOptions","trigger","includes","native","short_name","unshift","containerClass","itemClass","linkOptions","icon_url","getLink","localValue","isComposing","isEmptyValue","trim","isFF","navigator","userAgent","match","isOverMaxlength","tooltipString","content","count","shown","canEdit","listeners","$listeners","paste","watch","$refs","innerHTML","parseContent","updateContent","mounted","forEach","push","autocompleteTribute","attach","$el","emojiTribute","linkTribute","contentEditable","beforeDestroy","detach","focus","then","getElementById","n","createTextNode","replaceWith","setCursorAfter","updateValue","catch","console","debug","remove","createRange","setEndAfter","collapse","window","getSelection","removeAllRanges","addRange","onInput","target","onPaste","preventDefault","clipboardData","$emit","files","length","items","find","l","startsWith","getData","rangeCount","o","getRangeAt","deleteFromDocument","insertNode","s","setStart","endOffset","renderContent","onDelete","isCollapsed","commonAncestorContainer","nodeType","startOffset","anchorNode","selectNodeContents","setEndBefore","anchorOffset","setEnd","cloneContents","lastChild","deleteContents","onEnter","isActive","stopPropagation","onCtrlEnter","async","onKeyUp","stopImmediatePropagation","$","_g","rawName","expression","ref","role","on","input","compositionstart","compositionend","keydown","indexOf","_k","keyCode","key","apply","arguments","ctrlKey","shiftKey","altKey","metaKey","at"],"sourceRoot":""}