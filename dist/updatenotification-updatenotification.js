/*! For license information please see updatenotification-updatenotification.js.LICENSE.txt */
!function(){"use strict";var e,a,i,o={38832:function(e,a,i){var o=i(31352),r=i(20144),s=i(64024),c=i(43554),l=i(17499),u=i(79753),p=i(93664),d=i(3349),h=i(20212),f=i(34791),g=i(74176),v=i(80774),m=i(61537),b=i(67912),A=i(41622),y=i(19695),C={name:"NewBoxIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},w=i(51900),x=(0,w.Z)(C,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon new-box-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M20,4C21.11,4 22,4.89 22,6V18C22,19.11 21.11,20 20,20H4C2.89,20 2,19.11 2,18V6C2,4.89 2.89,4 4,4H20M8.5,15V9H7.25V12.5L4.75,9H3.5V15H4.75V11.5L7.3,15H8.5M13.5,10.26V9H9.5V15H13.5V13.75H11V12.64H13.5V11.38H11V10.26H13.5M20.5,14V9H19.25V13.5H18.13V10H16.88V13.5H15.75V9H14.5V14A1,1 0 0,0 15.5,15H19.5A1,1 0 0,0 20.5,14Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports,_=i(20296),k=i.n(_);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function S(){S=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,r=Object.create(o.prototype),s=new k(i||[]);return a(r,"_invoke",{value:C(t,n,s)}),r}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function d(){}function h(){}function f(){}var g={};c(g,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(N([])));m&&m!==e&&n.call(m,o)&&(g=m);var b=f.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){function i(a,o,r,s){var c=u(t[a],t,o);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==L(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,r,s)}),(function(t){i("throw",t,r,s)})):e.resolve(p).then((function(t){l.value=t,r(l)}),(function(t){return i("throw",t,r,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){i(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function C(t,e,n){var a="suspendedStart";return function(i,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var r=n.delegate;if(r){var s=w(r,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(t,e,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function w(t,e){var n=e.method,a=t.iterator[n];if(void 0===a)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=u(a,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function N(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:U}}function U(){return{value:void 0,done:!0}}return h.prototype=f,a(b,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},A(y.prototype),c(y.prototype,r,(function(){return this})),t.AsyncIterator=y,t.async=function(e,n,a,i,o){void 0===o&&(o=Promise);var r=new y(l(e,n,a,i),o);return t.isGeneratorFunction(n)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},A(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var a in e)n.push(a);return n.reverse(),function t(){for(;n.length;){var a=n.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},t.values=N,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(n,a){return r.type="throw",r.arg=t,e.next=n,a&&(e.method="next",e.arg=void 0),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],r=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var i=a.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function N(t,e,n,a,i,o,r){try{var s=t[o](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,i)}var U=(0,l.IY)().setApp("updatenotification").detectUser().build(),I={name:"UpdateNotification",components:{IconChevronDown:A.default,IconLink:y.Z,IconNewBox:x,NcActions:d.Z,NcActionButton:h.Z,NcActionCaption:f.Z,NcActionLink:g.Z,NcNoteCard:v.Z,NcSelect:m.Z,NcSettingsSection:b.Z},data:function(){return{loadingGroups:!1,newVersionString:"",lastCheckedDate:"",isUpdateChecked:!1,webUpdaterEnabled:!0,isWebUpdaterRecommended:!0,updaterEnabled:!0,versionIsEol:!1,downloadLink:"",isNewVersionAvailable:!1,hasValidSubscription:!1,updateServerURL:"",changelogURL:"",whatsNewData:[],currentChannel:"",channels:[],notifyGroups:"",groups:[],isDefaultUpdateServerURL:!0,enableChangeWatcher:!1,availableAppUpdates:[],missingAppUpdates:[],appStoreFailed:!1,appStoreDisabled:!1,isListFetched:!1,hideMissingUpdates:!1,hideAvailableUpdates:!0,openedWhatsNew:!1,openedUpdateChannelMenu:!1}},computed:{newVersionAvailableString:function(){return t("updatenotification","A new version is available: <strong>{newVersionString}</strong>",{newVersionString:this.newVersionString})},noteDelayedStableString:function(){return t("updatenotification","Note that after a new release the update only shows up after the first minor release or later. We roll out new versions spread out over time to our users and sometimes skip a version when issues are found. Learn more about updates and release channels at {link}").replace("{link}",'<a href="https://nextcloud.com/release-channels/">https://nextcloud.com/release-channels/</a>')},lastCheckedOnString:function(){return t("updatenotification","Checked on {lastCheckedDate}",{lastCheckedDate:this.lastCheckedDate})},statusText:function(){return this.isListFetched?this.appStoreDisabled?t("updatenotification","Please make sure your config.php does not set <samp>appstoreenabled</samp> to false."):this.appStoreFailed?t("updatenotification","Could not connect to the App Store or no updates have been returned at all. Search manually for updates or make sure your server has access to the internet and can connect to the App Store."):0===this.missingAppUpdates.length?t("updatenotification","<strong>All</strong> apps have a compatible version for this Nextcloud version available.",this):n("updatenotification","<strong>%n</strong> app has no compatible version for this Nextcloud version available.","<strong>%n</strong> apps have no compatible version for this Nextcloud version available.",this.missingAppUpdates.length):t("updatenotification","Checking apps for compatible versions")},channelList:function(){var e=[];return e.push({text:t("updatenotification","Enterprise"),longtext:t("updatenotification","For enterprise use. Provides always the latest patch level, but will not update to the next major release immediately. That update happens once Nextcloud GmbH has done additional hardening and testing for large-scale and mission-critical deployments. This channel is only available to customers and provides the Nextcloud Enterprise package."),icon:"icon-star",active:"enterprise"===this.currentChannel,disabled:!this.hasValidSubscription,action:this.changeReleaseChannelToEnterprise}),e.push({text:t("updatenotification","Stable"),longtext:t("updatenotification","The most recent stable version. It is suited for regular use and will always update to the latest major version."),icon:"icon-checkmark",active:"stable"===this.currentChannel,action:this.changeReleaseChannelToStable}),e.push({text:t("updatenotification","Beta"),longtext:t("updatenotification","A pre-release version only for testing new features, not for production environments."),icon:"icon-category-customization",active:"beta"===this.currentChannel,action:this.changeReleaseChannelToBeta}),this.isNonDefaultChannel&&e.push({text:this.currentChannel,icon:"icon-rename",active:!0,action:function(){}}),e},isNonDefaultChannel:function(){return"enterprise"!==this.currentChannel&&"stable"!==this.currentChannel&&"beta"!==this.currentChannel},localizedChannelName:function(){switch(this.currentChannel){case"enterprise":return t("updatenotification","Enterprise");case"stable":return t("updatenotification","Stable");case"beta":return t("updatenotification","Beta");default:return this.currentChannel}}},watch:{notifyGroups:function(t){if(this.enableChangeWatcher){var e=this.notifyGroups.map((function(t){return t.id}));OCP.AppConfig.setValue("updatenotification","notify_groups",JSON.stringify(e))}else this.enableChangeWatcher=!0},isNewVersionAvailable:function(){var t=this;this.isNewVersionAvailable&&p.Z.get((0,u.generateOcsUrl)("apps/updatenotification/api/v1/applist/{newVersion}",{newVersion:this.newVersion})).then((function(e){var n=e.data;t.availableAppUpdates=n.ocs.data.available,t.missingAppUpdates=n.ocs.data.missing,t.isListFetched=!0,t.appStoreFailed=!1})).catch((function(e){var n=e.data;t.availableAppUpdates=[],t.missingAppUpdates=[],t.appStoreDisabled=n.ocs.data.appstore_disabled,t.isListFetched=!0,t.appStoreFailed=!0}))}},beforeMount:function(){var t=(0,c.j)("updatenotification","data");this.newVersion=t.newVersion,this.newVersionString=t.newVersionString,this.lastCheckedDate=t.lastChecked,this.isUpdateChecked=t.isUpdateChecked,this.webUpdaterEnabled=t.webUpdaterEnabled,this.isWebUpdaterRecommended=t.isWebUpdaterRecommended,this.updaterEnabled=t.updaterEnabled,this.downloadLink=t.downloadLink,this.isNewVersionAvailable=t.isNewVersionAvailable,this.updateServerURL=t.updateServerURL,this.currentChannel=t.currentChannel,this.channels=t.channels,this.notifyGroups=t.notifyGroups,this.isDefaultUpdateServerURL=t.isDefaultUpdateServerURL,this.versionIsEol=t.versionIsEol,this.hasValidSubscription=t.hasValidSubscription,t.changes&&t.changes.changelogURL&&(this.changelogURL=t.changes.changelogURL),t.changes&&t.changes.whatsNew&&(t.changes.whatsNew.admin&&(this.whatsNewData=this.whatsNewData.concat(t.changes.whatsNew.admin)),this.whatsNewData=this.whatsNewData.concat(t.changes.whatsNew.regular))},mounted:function(){this.searchGroup()},methods:{searchGroup:k()(function(){var t,e=(t=S().mark((function t(e){var n;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadingGroups=!0,t.prev=1,t.next=4,p.Z.get((0,u.generateOcsUrl)("cloud/groups/details"),{search:e,limit:20,offset:0});case 4:n=t.sent,this.groups=n.data.ocs.data.groups.sort((function(t,e){return t.displayname.localeCompare(e.displayname)})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),U.error("Could not fetch groups",t.t0);case 11:return t.prev=11,this.loadingGroups=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,this,[[1,8,11,14]])})),function(){var e=this,n=arguments;return new Promise((function(a,i){var o=t.apply(e,n);function r(t){N(o,a,i,r,s,"next",t)}function s(t){N(o,a,i,r,s,"throw",t)}r(void 0)}))});return function(t){return e.apply(this,arguments)}}(),500),clickUpdaterButton:function(){p.Z.get((0,u.generateUrl)("/apps/updatenotification/credentials")).then((function(t){var e=t.data,n=document.createElement("form");n.setAttribute("method","post"),n.setAttribute("action",(0,u.getRootUrl)()+"/updater/");var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name","updater-secret-input"),a.setAttribute("value",e),n.appendChild(a),document.body.appendChild(n),n.submit()}))},changeReleaseChannelToEnterprise:function(){this.changeReleaseChannel("enterprise")},changeReleaseChannelToStable:function(){this.changeReleaseChannel("stable")},changeReleaseChannelToBeta:function(){this.changeReleaseChannel("beta")},changeReleaseChannel:function(t){this.currentChannel=t,p.Z.post((0,u.generateUrl)("/apps/updatenotification/channel"),{channel:this.currentChannel}).then((function(t){var e=t.data;(0,s.s$)(e.data.message)})),this.openedUpdateChannelMenu=!1},toggleHideMissingUpdates:function(){this.hideMissingUpdates=!this.hideMissingUpdates},toggleHideAvailableUpdates:function(){this.hideAvailableUpdates=!this.hideAvailableUpdates}}},E=I,D=i(93379),j=i.n(D),M=i(7795),Z=i.n(M),T=i(90569),B=i.n(T),O=i(3565),R=i.n(O),G=i(19216),V=i.n(G),P=i(44589),H=i.n(P),z=i(49865),Y={};Y.styleTagTransform=H(),Y.setAttributes=R(),Y.insert=B().bind(null,"head"),Y.domAPI=Z(),Y.insertStyleElement=V(),j()(z.Z,Y),z.Z&&z.Z.locals&&z.Z.locals;var W=i(34797),F={};F.styleTagTransform=H(),F.setAttributes=R(),F.insert=B().bind(null,"head"),F.domAPI=Z(),F.insertStyleElement=V(),j()(W.Z,F),W.Z&&W.Z.locals&&W.Z.locals;var X=(0,w.Z)(E,(function(){var t=this,e=t._self._c;return e("NcSettingsSection",{attrs:{id:"updatenotification",name:t.t("updatenotification","Update")}},[e("div",{staticClass:"update"},[t.isNewVersionAvailable?[t.versionIsEol?e("NcNoteCard",{attrs:{type:"warning"}},[t._v("\n\t\t\t\t"+t._s(t.t("updatenotification","The version you are running is not maintained anymore. Please make sure to update to a supported version as soon as possible."))+"\n\t\t\t")]):t._e(),t._v(" "),e("p",[e("span",{domProps:{innerHTML:t._s(t.newVersionAvailableString)}}),e("br"),t._v(" "),t.isListFetched?t._e():e("span",{staticClass:"icon icon-loading-small"}),t._v(" "),e("span",{domProps:{innerHTML:t._s(t.statusText)}})]),t._v(" "),t.missingAppUpdates.length?[e("h3",{staticClass:"clickable",on:{click:t.toggleHideMissingUpdates}},[t._v("\n\t\t\t\t\t"+t._s(t.t("updatenotification","Apps missing compatible version"))+"\n\t\t\t\t\t"),t.hideMissingUpdates?t._e():e("span",{staticClass:"icon icon-triangle-n"}),t._v(" "),t.hideMissingUpdates?e("span",{staticClass:"icon icon-triangle-s"}):t._e()]),t._v(" "),t.hideMissingUpdates?t._e():e("ul",{staticClass:"applist"},t._l(t.missingAppUpdates,(function(n,a){return e("li",{key:a},[e("a",{attrs:{href:"https://apps.nextcloud.com/apps/"+n.appId,title:t.t("settings","View in store")}},[t._v(t._s(n.appName)+" ↗")])])})),0)]:t._e(),t._v(" "),t.availableAppUpdates.length?[e("h3",{staticClass:"clickable",on:{click:t.toggleHideAvailableUpdates}},[t._v("\n\t\t\t\t\t"+t._s(t.t("updatenotification","Apps with compatible version"))+"\n\t\t\t\t\t"),t.hideAvailableUpdates?t._e():e("span",{staticClass:"icon icon-triangle-n"}),t._v(" "),t.hideAvailableUpdates?e("span",{staticClass:"icon icon-triangle-s"}):t._e()]),t._v(" "),t.hideAvailableUpdates?t._e():e("ul",{staticClass:"applist"},t._l(t.availableAppUpdates,(function(n,a){return e("li",{key:a},[e("a",{attrs:{href:"https://apps.nextcloud.com/apps/"+n.appId,title:t.t("settings","View in store")}},[t._v(t._s(n.appName)+" ↗")])])})),0)]:t._e(),t._v(" "),!t.isWebUpdaterRecommended&&t.updaterEnabled&&t.webUpdaterEnabled?[e("h3",{staticClass:"warning"},[t._v("\n\t\t\t\t\t"+t._s(t.t("updatenotification","Please note that the web updater is not recommended with more than 100 users! Please use the command line updater instead!"))+"\n\t\t\t\t")])]:t._e(),t._v(" "),e("div",[t.updaterEnabled&&t.webUpdaterEnabled?e("a",{staticClass:"button primary",attrs:{href:"#"},on:{click:t.clickUpdaterButton}},[t._v(t._s(t.t("updatenotification","Open updater")))]):t._e(),t._v(" "),t.downloadLink?e("a",{staticClass:"button",class:{hidden:!t.updaterEnabled},attrs:{href:t.downloadLink}},[t._v(t._s(t.t("updatenotification","Download now")))]):t._e(),t._v(" "),t.updaterEnabled&&!t.webUpdaterEnabled?e("span",[t._v("\n\t\t\t\t\t"+t._s(t.t("updatenotification","Please use the command line updater to update."))+"\n\t\t\t\t")]):t._e(),t._v(" "),t.whatsNewData||t.changelogURL?e("NcActions",{attrs:{"force-menu":!0,"menu-name":t.t("updatenotification","What's new?"),type:"tertiary"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconNewBox",{attrs:{size:20}})]},proxy:!0},{key:"default",fn:function(){return[t._l(t.whatsNewData,(function(t,n){return e("NcActionCaption",{key:n,attrs:{name:t}})})),t._v(" "),t.changelogURL?e("NcActionLink",{attrs:{href:t.changelogURL,"close-after-click":"",target:"_blank"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconLink",{attrs:{size:20}})]},proxy:!0}],null,!1,3963853667)},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.t("updatenotification","View changelog"))+"\n\t\t\t\t\t\t\t")]):t._e()]},proxy:!0}],null,!1,1184001031)}):t._e()],1)]:t.isUpdateChecked?[t._v("\n\t\t\t"+t._s(t.t("updatenotification","Your version is up to date."))+"\n\t\t\t"),e("span",{staticClass:"icon-info svg",attrs:{title:t.lastCheckedOnString,"aria-label":t.lastCheckedOnString}})]:[t._v("\n\t\t\t"+t._s(t.t("updatenotification","The update check is not yet finished. Please refresh the page."))+"\n\t\t")],t._v(" "),t.isDefaultUpdateServerURL?t._e():[e("p",{staticClass:"topMargin"},[e("em",[t._v(t._s(t.t("updatenotification","A non-default update server is in use to be checked for updates:"))+" "),e("code",[t._v(t._s(t.updateServerURL))])])])]],2),t._v(" "),e("h3",[t._v(t._s(t.t("updatenotification","Update channel")))]),t._v(" "),e("p",{staticClass:"inlineblock"},[t._v("\n\t\t"+t._s(t.t("updatenotification","Changing the update channel also affects the apps management page. E.g. after switching to the beta channel, beta app updates will be offered to you in the apps management page."))+"\n\t")]),t._v(" "),e("div",{staticClass:"update-channel-selector"},[e("span",[t._v(t._s(t.t("updatenotification","Current update channel:")))]),t._v(" "),e("NcActions",{attrs:{"force-menu":!0,"menu-name":t.localizedChannelName,type:"tertiary"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconChevronDown",{attrs:{size:20}})]},proxy:!0},{key:"default",fn:function(){return t._l(t.channelList,(function(n,a){return e("NcActionButton",{key:a,staticClass:"update-channel-action",attrs:{"aria-checked":n.active?"true":"false","aria-label":n.text,disabled:!!n.disabled,icon:n.icon,name:n.text,"close-after-click":"",role:"menuitemradio"},on:{click:n.action}},[t._v("\n\t\t\t\t\t"+t._s(n.longtext)+"\n\t\t\t\t")])}))},proxy:!0}])})],1),t._v(" "),e("p",[e("em",[t._v(t._s(t.t("updatenotification","You can always update to a newer version. But you can never downgrade to a more stable version.")))]),e("br"),t._v(" "),e("em",{domProps:{innerHTML:t._s(t.noteDelayedStableString)}})]),t._v(" "),e("h4",[t._v(t._s(t.t("updatenotification","Notify members of the following groups about available updates:")))]),t._v(" "),e("NcSelect",{attrs:{options:t.groups,multiple:!0,label:"displayname",loading:t.loadingGroups,"close-on-select":!1},on:{search:t.searchGroup},scopedSlots:t._u([{key:"no-options",fn:function(){return[t._v("\n\t\t\t"+t._s(t.t("updatenotification","No groups"))+"\n\t\t")]},proxy:!0}]),model:{value:t.notifyGroups,callback:function(e){t.notifyGroups=e},expression:"notifyGroups"}}),t._v(" "),e("p",["daily"===t.currentChannel||"git"===t.currentChannel?e("em",[t._v(t._s(t.t("updatenotification","Only notifications for app updates are available.")))]):t._e(),t._v(" "),"daily"===t.currentChannel?e("em",[t._v(t._s(t.t("updatenotification","The selected update channel makes dedicated notifications for the server obsolete.")))]):"git"===t.currentChannel?e("em",[t._v(t._s(t.t("updatenotification","The selected update channel does not support updates of the server.")))]):t._e()])],1)}),[],!1,null,"a9018b30",null).exports;r.default.mixin({methods:{t:function(t,e,n,a,i){return(0,o.Iu)(t,e,n,a,i)},n:function(t,e,n,a,i,r){return(0,o.uN)(t,e,n,a,i,r)}}}),new r.default({el:"#updatenotification",render:function(t){return t(X)}})},49865:function(t,e,n){var a=n(87537),i=n.n(a),o=n(23645),r=n.n(o)()(i());r.push([t.id,"#updatenotification>*[data-v-a9018b30]{max-width:900px}#updatenotification .topMargin[data-v-a9018b30]{margin-top:15px}#updatenotification div.update[data-v-a9018b30],#updatenotification p[data-v-a9018b30]:not(.inlineblock){margin-bottom:25px}#updatenotification h2.inlineblock[data-v-a9018b30]{margin-top:25px}#updatenotification h3.clickable[data-v-a9018b30]{cursor:pointer}#updatenotification h3.clickable .icon[data-v-a9018b30]{cursor:pointer}#updatenotification h4[data-v-a9018b30]{margin-block-end:.7rem}#updatenotification .update-channel-selector[data-v-a9018b30]{display:flex;align-items:center;gap:12px}#updatenotification .icon[data-v-a9018b30]{display:inline-block;margin-bottom:-3px}#updatenotification .icon-triangle-s[data-v-a9018b30],#updatenotification .icon-triangle-n[data-v-a9018b30]{opacity:.5}#updatenotification .applist[data-v-a9018b30]{margin-bottom:25px}#updatenotification .update-menu[data-v-a9018b30]{position:relative;cursor:pointer;margin-left:3px;display:inline-block;padding:10px;border-radius:10px;border:2px solid var(--color-border-dark)}#updatenotification .update-menu .icon-update-menu[data-v-a9018b30]{cursor:inherit}#updatenotification .update-menu .icon-update-menu .icon-triangle-s[data-v-a9018b30]{display:inline-block;vertical-align:middle;cursor:inherit;opacity:1}","",{version:3,sources:["webpack://./apps/updatenotification/src/components/UpdateNotification.vue"],names:[],mappings:"AAEC,uCACC,eAAA,CAGD,gDACC,eAAA,CAGD,yGAEC,kBAAA,CAED,oDACC,eAAA,CAGA,kDACC,cAAA,CACA,wDACC,cAAA,CAIH,wCACC,sBAAA,CAED,8DACC,YAAA,CACA,kBAAA,CACA,QAAA,CAED,2CACC,oBAAA,CACA,kBAAA,CAED,4GACC,UAAA,CAED,8CACC,kBAAA,CAGD,kDACC,iBAAA,CACA,cAAA,CACA,eAAA,CACA,oBAAA,CACA,YAAA,CACA,kBAAA,CACA,yCAAA,CACA,oEACC,cAAA,CACA,qFACC,oBAAA,CACA,qBAAA,CACA,cAAA,CACA,SAAA",sourcesContent:["\n#updatenotification {\n\t& > * {\n\t\tmax-width: 900px;\n\t}\n\n\t.topMargin {\n\t\tmargin-top: 15px;\n\t}\n\n\tdiv.update,\n\tp:not(.inlineblock) {\n\t\tmargin-bottom: 25px;\n\t}\n\th2.inlineblock {\n\t\tmargin-top: 25px;\n\t}\n\th3 {\n\t\t&.clickable {\n\t\t\tcursor: pointer;\n\t\t\t.icon {\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t}\n\t}\n\th4 {\n\t\tmargin-block-end: 0.7rem;\n\t}\n\t.update-channel-selector {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12px;\n\t}\n\t.icon {\n\t\tdisplay: inline-block;\n\t\tmargin-bottom: -3px;\n\t}\n\t.icon-triangle-s, .icon-triangle-n {\n\t\topacity: 0.5;\n\t}\n\t.applist {\n\t\tmargin-bottom: 25px;\n\t}\n\n\t.update-menu {\n\t\tposition: relative;\n\t\tcursor: pointer;\n\t\tmargin-left: 3px;\n\t\tdisplay: inline-block;\n\t\tpadding: 10px;\n\t\tborder-radius: 10px;\n\t\tborder: 2px solid var(--color-border-dark);\n\t\t.icon-update-menu {\n\t\t\tcursor: inherit;\n\t\t\t.icon-triangle-s {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tcursor: inherit;\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]),e.Z=r},34797:function(t,e,n){var a=n(87537),i=n.n(a),o=n(23645),r=n.n(o)()(i());r.push([t.id,".update-channel-action[aria-checked=true]{border-inline-start:4px solid var(--color-primary-element)}.update-channel-action[aria-checked=true]:hover,.update-channel-action[aria-checked=true]:focus-within{background-color:var(--color-primary-element-light-hover)}.update-channel-action[aria-checked=true] button{background-color:var(--color-primary-element-light);color:var(--color-primary-element-light-text)}.update-channel-action[aria-checked]{margin-block:2px}#updatenotification .update-menu .icon-star:hover,#updatenotification .update-menu .icon-star:focus{background-image:var(--icon-starred)}","",{version:3,sources:["webpack://./apps/updatenotification/src/components/UpdateNotification.vue"],names:[],mappings:"AAEA,0CACC,0DAAA,CAEA,uGACC,yDAAA,CAGD,iDACC,mDAAA,CACA,6CAAA,CAIF,qCACC,gBAAA,CAKA,oGAEC,oCAAA",sourcesContent:["\n// Make current selected update channel visually visible, remove if NcActionRadio is used\n.update-channel-action[aria-checked=true] {\n\tborder-inline-start: 4px solid var(--color-primary-element);\n\n\t&:hover, &:focus-within {\n\t\tbackground-color: var(--color-primary-element-light-hover);\n\t}\n\n\tbutton {\n\t\tbackground-color: var(--color-primary-element-light);\n\t\tcolor: var(--color-primary-element-light-text);\n\t}\n}\n// Ensure outline for focus-visible works even with background color of selected channel\n.update-channel-action[aria-checked] {\n\tmargin-block: 2px;\n}\n\n#updatenotification {\n\t/* override needed to replace yellow hover state with a dark one */\n\t.update-menu .icon-star:hover,\n\t.update-menu .icon-star:focus {\n\t\tbackground-image: var(--icon-starred);\n\t}\n}\n"],sourceRoot:""}]),e.Z=r},42761:function(t){t.exports="data:image/svg+xml;base64,PCEtLSBUaGlzIGljb24gaXMgcGFydCBvZiBNYXRlcmlhbCBVSSBJY29ucy4gQ29weXJpZ2h0IDIwMjAgR29vZ2xlIEluYy4sIEFwYWNoZS0yLjAgTGljZW5zZSAtLT4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZD0iTS00LTRoMjR2MjRILTRWLTR6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTggMEMzLjYgMCAwIDMuNiAwIDhzMy42IDggOCA4IDgtMy42IDgtOC0zLjYtOC04LTh6IiBmaWxsPSIjZWQ0ODRjIi8+PHBhdGggZD0iTTUgNi41aDZjLjggMCAxLjUuNyAxLjUgMS41cy0uNyAxLjUtMS41IDEuNUg1Yy0uOCAwLTEuNS0uNy0xLjUtMS41UzQuMiA2LjUgNSA2LjV6IiBmaWxsPSIjZmRmZmZmIi8+PC9zdmc+Cg=="},87210:function(t){t.exports="data:image/svg+xml;base64,PCEtLSBUaGlzIGljb24gaXMgcGFydCBvZiBNYXRlcmlhbCBVSSBJY29ucy4gQ29weXJpZ2h0IDIwMjAgR29vZ2xlIEluYy4sIEFwYWNoZS0yLjAgTGljZW5zZSAtLT4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZD0iTTQuOCAxMS4yaDYuNFY0LjhINC44djYuNHpNOCAwQzMuNiAwIDAgMy42IDAgOHMzLjYgOCA4IDggOC0zLjYgOC04LTMuNi04LTgtOHoiIGZpbGw9IiM0OWIzODIiLz48L3N2Zz4K"},94659:function(t){t.exports="data:image/svg+xml;base64,PCEtLSBUaGlzIGljb24gaXMgcGFydCBvZiBNYXRlcmlhbCBVSSBJY29ucy4gQ29weXJpZ2h0IDIwMjAgR29vZ2xlIEluYy4sIEFwYWNoZS0yLjAgTGljZW5zZSAtLT4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTS00LTRoMjR2MjRILTR6Ii8+PHBhdGggZD0iTTYuOS4xQzMgLjYtLjEgNC0uMSA4YzAgNC40IDMuNiA4IDggOCA0IDAgNy40LTMgOC02LjktMS4yIDEuMy0yLjkgMi4xLTQuNyAyLjEtMy41IDAtNi40LTIuOS02LjQtNi40IDAtMS45LjgtMy42IDIuMS00Ljd6IiBmaWxsPSIjZjRhMzMxIi8+PC9zdmc+Cg=="}},r={};function s(t){var e=r[t];if(void 0!==e)return e.exports;var n=r[t]={id:t,loaded:!1,exports:{}};return o[t].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=o,e=[],s.O=function(t,n,a,i){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],i=e[u][2];for(var r=!0,c=0;c<n.length;c++)(!1&i||o>=i)&&Object.keys(s.O).every((function(t){return s.O[t](n[c])}))?n.splice(c--,1):(r=!1,i<o&&(o=i));if(r){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,a,i]},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,{a:e}),e},s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,n){return s.f[n](t,e),e}),[]))},s.u=function(t){return t+"-"+t+".js?v=216e3e54c5b7efd17824"},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a={},i="nextcloud:",s.l=function(t,e,n,o){if(a[t])a[t].push(e);else{var r,c;if(void 0!==n)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var p=l[u];if(p.getAttribute("src")==t||p.getAttribute("data-webpack")==i+n){r=p;break}}r||(c=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",i+n),r.src=t),a[t]=[e];var d=function(e,n){r.onerror=r.onload=null,clearTimeout(h);var i=a[t];if(delete a[t],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),c&&document.head.appendChild(r)}},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},s.j=7292,function(){var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&!t;)t=n[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t}(),function(){s.b=document.baseURI||self.location.href;var t={7292:0};s.f.j=function(e,n){var a=s.o(t,e)?t[e]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise((function(n,i){a=t[e]=[n,i]}));n.push(a[2]=i);var o=s.p+s.u(e),r=new Error;s.l(o,(function(n){if(s.o(t,e)&&(0!==(a=t[e])&&(t[e]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;r.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",r.name="ChunkLoadError",r.type=i,r.request=o,a[1](r)}}),"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,i,o=n[0],r=n[1],c=n[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(c)var u=c(s)}for(e&&e(n);l<o.length;l++)i=o[l],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(u)},n=self.webpackChunknextcloud=self.webpackChunknextcloud||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),s.nc=void 0;var c=s.O(void 0,[7874],(function(){return s(38832)}));c=s.O(c)}();
//# sourceMappingURL=updatenotification-updatenotification.js.map?v=147584a116fcf03a280f