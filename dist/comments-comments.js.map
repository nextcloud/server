{"version":3,"file":"comments-comments.js?v=ed7ca60a903b1c84a833","mappings":"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","sources":["webpack:///nextcloud/apps/comments/src/activitytabviewplugin.js","webpack:///nextcloud/apps/comments/src/app.js","webpack:///nextcloud/apps/comments/src/filesplugin.js","webpack:///nextcloud/apps/comments/src/templates.js","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/apps/comments/src/comments.js"],"sourcesContent":["/**\n * Copyright (c) 2016\n *\n * @author Joas Schilling <coding@schilljs.com>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/** @typedef {import('jquery')} jQuery */\n\n(function() {\n\tOCA.Comments.ActivityTabViewPlugin = {\n\n\t\t/**\n\t\t * Prepare activity for display\n\t\t *\n\t\t * @param {OCA.Activity.ActivityModel} model for this activity\n\t\t * @param {jQuery} $el jQuery handle for this activity\n\t\t * @param {string} view The view that displays this activity\n\t\t */\n\t\tprepareModelForDisplay(model, $el, view) {\n\t\t\tif (model.get('app') !== 'comments' || model.get('type') !== 'comments') {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (view === 'ActivityTabView') {\n\t\t\t\t$el.addClass('comment')\n\t\t\t\tif (model.get('message') && this._isLong(model.get('message'))) {\n\t\t\t\t\t$el.addClass('collapsed')\n\t\t\t\t\tconst $overlay = $('<div>').addClass('message-overlay')\n\t\t\t\t\t$el.find('.activitymessage').after($overlay)\n\t\t\t\t\t$el.on('click', this._onClickCollapsedComment)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * Copy of CommentsTabView._onClickComment()\n\t\t */\n\t\t_onClickCollapsedComment(ev) {\n\t\t\tlet $row = $(ev.target)\n\t\t\tif (!$row.is('.comment')) {\n\t\t\t\t$row = $row.closest('.comment')\n\t\t\t}\n\t\t\t$row.removeClass('collapsed')\n\t\t},\n\n\t\t/*\n\t\t * Copy of CommentsTabView._isLong()\n\t\t */\n\t\t_isLong(message) {\n\t\t\treturn message.length > 250 || (message.match(/\\n/g) || []).length > 1\n\t\t},\n\t}\n\n})()\n\nOC.Plugins.register('OCA.Activity.RenderingPlugins', OCA.Comments.ActivityTabViewPlugin)\n","/**\n * Copyright (c) 2016 Vincent Petry <pvince81@owncloud.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Vincent Petry <vincent@nextcloud.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n(function() {\n\tif (!OCA.Comments) {\n\t\t/**\n\t\t * @namespace\n\t\t */\n\t\tOCA.Comments = {}\n\t}\n\n})()\n","/**\n * Copyright (c) 2016 Vincent Petry <pvince81@owncloud.com>\n *\n * @author Joas Schilling <coding@schilljs.com>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Michael Jobst <mjobst+github@tecratech.de>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n * @author Vincent Petry <vincent@nextcloud.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n(function() {\n\n\t_.extend(OC.Files.Client, {\n\t\tPROPERTY_COMMENTS_UNREAD: '{' + OC.Files.Client.NS_OWNCLOUD + '}comments-unread',\n\t})\n\n\tOCA.Comments = _.extend({}, OCA.Comments)\n\tif (!OCA.Comments) {\n\t\t/**\n\t\t * @namespace\n\t\t */\n\t\tOCA.Comments = {}\n\t}\n\n\t/**\n\t * @namespace\n\t */\n\tOCA.Comments.FilesPlugin = {\n\t\tignoreLists: [\n\t\t\t'trashbin',\n\t\t\t'files.public',\n\t\t],\n\n\t\t_formatCommentCount(count) {\n\t\t\treturn OCA.Comments.Templates.filesplugin({\n\t\t\t\tcount,\n\t\t\t\tcountMessage: n('comments', '%n unread comment', '%n unread comments', count),\n\t\t\t\ticonUrl: OC.imagePath('core', 'actions/comment'),\n\t\t\t})\n\t\t},\n\n\t\tattach(fileList) {\n\t\t\tconst self = this\n\t\t\tif (this.ignoreLists.indexOf(fileList.id) >= 0) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst oldGetWebdavProperties = fileList._getWebdavProperties\n\t\t\tfileList._getWebdavProperties = function() {\n\t\t\t\tconst props = oldGetWebdavProperties.apply(this, arguments)\n\t\t\t\tprops.push(OC.Files.Client.PROPERTY_COMMENTS_UNREAD)\n\t\t\t\treturn props\n\t\t\t}\n\n\t\t\tfileList.filesClient.addFileInfoParser(function(response) {\n\t\t\t\tconst data = {}\n\t\t\t\tconst props = response.propStat[0].properties\n\t\t\t\tconst commentsUnread = props[OC.Files.Client.PROPERTY_COMMENTS_UNREAD]\n\t\t\t\tif (!_.isUndefined(commentsUnread) && commentsUnread !== '') {\n\t\t\t\t\tdata.commentsUnread = parseInt(commentsUnread, 10)\n\t\t\t\t}\n\t\t\t\treturn data\n\t\t\t})\n\n\t\t\tfileList.$el.addClass('has-comments')\n\t\t\tconst oldCreateRow = fileList._createRow\n\t\t\tfileList._createRow = function(fileData) {\n\t\t\t\tconst $tr = oldCreateRow.apply(this, arguments)\n\t\t\t\tif (fileData.commentsUnread) {\n\t\t\t\t\t$tr.attr('data-comments-unread', fileData.commentsUnread)\n\t\t\t\t}\n\t\t\t\treturn $tr\n\t\t\t}\n\n\t\t\t// register \"comment\" action for reading comments\n\t\t\tfileList.fileActions.registerAction({\n\t\t\t\tname: 'Comment',\n\t\t\t\tdisplayName(context) {\n\t\t\t\t\tif (context && context.$file) {\n\t\t\t\t\t\tconst unread = parseInt(context.$file.data('comments-unread'), 10)\n\t\t\t\t\t\tif (unread >= 0) {\n\t\t\t\t\t\t\treturn n('comments', '1 new comment', '{unread} new comments', unread, { unread })\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn t('comments', 'Comment')\n\t\t\t\t},\n\t\t\t\tmime: 'all',\n\t\t\t\torder: -140,\n\t\t\t\ticonClass: 'icon-comment',\n\t\t\t\tpermissions: OC.PERMISSION_READ,\n\t\t\t\ttype: OCA.Files.FileActions.TYPE_INLINE,\n\t\t\t\trender(actionSpec, isDefault, context) {\n\t\t\t\t\tconst $file = context.$file\n\t\t\t\t\tconst unreadComments = $file.data('comments-unread')\n\t\t\t\t\tif (unreadComments) {\n\t\t\t\t\t\tconst $actionLink = $(self._formatCommentCount(unreadComments))\n\t\t\t\t\t\tcontext.$file.find('a.name>span.fileactions').append($actionLink)\n\t\t\t\t\t\treturn $actionLink\n\t\t\t\t\t}\n\t\t\t\t\treturn ''\n\t\t\t\t},\n\t\t\t\tactionHandler(fileName, context) {\n\t\t\t\t\tcontext.$file.find('.action-comment').tooltip('hide')\n\t\t\t\t\t// open sidebar in comments section\n\t\t\t\t\tOCA.Files.Sidebar.setActiveTab('comments')\n\t\t\t\t\tOCA.Files.Sidebar.open(context.dir + '/' + fileName)\n\t\t\t\t},\n\t\t\t})\n\n\t\t\t// add attribute to \"elementToFile\"\n\t\t\tconst oldElementToFile = fileList.elementToFile\n\t\t\tfileList.elementToFile = function($el) {\n\t\t\t\tconst fileInfo = oldElementToFile.apply(this, arguments)\n\t\t\t\tconst commentsUnread = $el.data('comments-unread')\n\t\t\t\tif (commentsUnread) {\n\t\t\t\t\tfileInfo.commentsUnread = commentsUnread\n\t\t\t\t}\n\t\t\t\treturn fileInfo\n\t\t\t}\n\t\t},\n\t}\n\n})()\n\nOC.Plugins.register('OCA.Files.FileList', OCA.Comments.FilesPlugin)\n","(function() {\n  var template = Handlebars.template, templates = OCA.Comments.Templates = OCA.Comments.Templates || {};\ntemplates['filesplugin'] = template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<a class=\\\"action action-comment permanent\\\" title=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"countMessage\") || (depth0 != null ? lookupProperty(depth0,\"countMessage\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"countMessage\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":50},\"end\":{\"line\":1,\"column\":66}}}) : helper)))\n    + \"\\\" href=\\\"#\\\">\\n\t<img class=\\\"svg\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"iconUrl\") || (depth0 != null ? lookupProperty(depth0,\"iconUrl\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"iconUrl\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":23},\"end\":{\"line\":2,\"column\":34}}}) : helper)))\n    + \"\\\"/>\\n</a>\\n\";\n},\"useData\":true});\n})();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","/**\n * @copyright Copyright (c) 2016 Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport './app'\nimport './templates'\nimport './filesplugin'\nimport './activitytabviewplugin'\n\nwindow.OCA.Comments = OCA.Comments\n"],"names":["OCA","Comments","ActivityTabViewPlugin","prepareModelForDisplay","model","$el","view","get","addClass","this","_isLong","$overlay","$","find","after","on","_onClickCollapsedComment","ev","$row","target","is","closest","removeClass","message","length","match","OC","Plugins","register","_","extend","Files","Client","PROPERTY_COMMENTS_UNREAD","NS_OWNCLOUD","FilesPlugin","ignoreLists","_formatCommentCount","count","Templates","filesplugin","countMessage","n","iconUrl","imagePath","attach","fileList","self","indexOf","id","oldGetWebdavProperties","_getWebdavProperties","props","apply","arguments","push","filesClient","addFileInfoParser","response","data","commentsUnread","propStat","properties","isUndefined","parseInt","oldCreateRow","_createRow","fileData","$tr","attr","fileActions","registerAction","name","displayName","context","$file","unread","t","mime","order","iconClass","permissions","PERMISSION_READ","type","FileActions","TYPE_INLINE","render","actionSpec","isDefault","unreadComments","$actionLink","append","actionHandler","fileName","tooltip","Sidebar","setActiveTab","open","dir","oldElementToFile","elementToFile","fileInfo","template","Handlebars","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","getter","__esModule","d","a","definition","key","o","defineProperty","enumerable","obj","prop","window"],"sourceRoot":""}