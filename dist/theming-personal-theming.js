(()=>{"use strict";var e,n,o,r={45791:(e,n,o)=>{var r=o(21777),a=o(85471);async function i(){const e=[...document.head.querySelectorAll("link.theme")].map((e=>new Promise((t=>{const n=new URL(e.href);n.searchParams.set("v",Date.now());const o=e.cloneNode();o.href=n.toString(),o.onload=()=>{e.remove(),t()},document.head.append(o)}))));await Promise.allSettled(e)}var l=o(85168),s=o(32981),c=o(63814),d=o(65043),u=o(32073),p=o(88837),h=o(17334),g=o.n(h),f=o(56798),m=o(54373);const v={name:"ImageEditIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var A=o(14486);const b=(0,A.A)(v,(function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon image-edit-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M21 5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H11V19.1L12.1 18H5L8.5 13.5L11 16.5L14.5 12L16.1 14.1L21 9.1V5Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])}),[],!1,null,null,null).exports,C={name:"PaletteIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},y=(0,A.A)(C,(function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon palette-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])}),[],!1,null,null,null).exports,w=(0,s.C)("theming","shippedBackgrounds"),_=(0,s.C)("theming","userBackgroundImage"),{backgroundImage:k,backgroundMime:x,defaultShippedBackground:S}=(0,s.C)("theming","themingDefaults"),D=e=>(0,c.fg)("theming","","img/background/")+e,E={name:"BackgroundSettings",components:{Check:m.A,ColorPalette:y,ImageEdit:b,NcColorPicker:f.A},data:()=>({loading:!1,Theming:(0,s.C)("theming","data",{}),backgroundImage:_}),computed:{shippedBackgrounds(){return Object.keys(w).filter((e=>e!==S||!this.isGlobalBackgroundDefault)).map((e=>({name:e,url:D(e),preview:D("preview/"+e),details:w[e]})))},isGlobalBackgroundDefault:()=>""===x,isGlobalBackgroundDeleted:()=>"backgroundColor"===x,cssDefaultBackgroundImage:()=>`url('${k}')`},methods:{invertTextColor(e){return this.calculateLuma(e)>.6},calculateLuma(e){const[t,n,o]=this.hexToRGB(e);return(.2126*t+.7152*n+.0722*o)/255},hexToRGB(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null},async update(e){this.backgroundImage=e.backgroundImage,this.Theming.backgroundColor=e.backgroundColor,this.$emit("update:background"),this.loading=!1},async setDefault(){this.loading="default";const e=await d.Ay.post((0,c.Jv)("/apps/theming/background/default"));this.update(e.data)},async setShipped(e){this.loading=e;const t=await d.Ay.post((0,c.Jv)("/apps/theming/background/shipped"),{value:e});this.update(t.data)},async setFile(e){this.loading="custom";const t=await d.Ay.post((0,c.Jv)("/apps/theming/background/custom"),{value:e});this.update(t.data)},async removeBackground(){this.loading="remove";const e=await d.Ay.delete((0,c.Jv)("/apps/theming/background/custom"));this.update(e.data)},async pickColor(e){this.loading="color";const{data:t}=await d.Ay.post((0,c.Jv)("/apps/theming/background/color"),{color:e||"#0082c9"});this.update(t)},debouncePickColor:g()((function(){this.pickColor(...arguments)}),1e3),pickFile(){(0,l.a1)(t("theming","Select a background from your files")).allowDirectories(!1).setMimeTypeFilter(["image/png","image/gif","image/jpeg","image/svg+xml","image/svg"]).setMultiSelect(!1).addButton({id:"select",label:t("theming","Select background"),callback:e=>{this.applyFile(e[0]?.path)},type:"primary"}).build().pick()},async applyFile(e){if(!e||"string"!=typeof e||0===e.trim().length||"/"===e)return console.error("No valid background have been selected",{path:e}),void(0,l.Qg)(t("theming","No background has been selected"));this.loading="custom",this.setFile(e)}}},T=()=>{(0,a.$9)(((e,t)=>({"16c5c0e1":e.cssDefaultBackgroundImage})))},I=E.setup;E.setup=I?(e,t)=>(T(),I(e,t)):T;const N=E;var B=o(85072),O=o.n(B),P=o(97825),M=o.n(P),F=o(77659),R=o.n(F),L=o(55056),U=o.n(L),Y=o(10540),j=o.n(Y),$=o(41113),H=o.n($),z=o(28117),G={};G.styleTagTransform=H(),G.setAttributes=U(),G.insert=R().bind(null,"head"),G.domAPI=M(),G.insertStyleElement=j(),O()(z.A,G),z.A&&z.A.locals&&z.A.locals;const X=(0,A.A)(N,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"background-selector",attrs:{"data-user-theming-background-settings":""}},[t("button",{class:{"icon-loading":"custom"===e.loading,"background background__filepicker":!0,"background--active":"custom"===e.backgroundImage},attrs:{"aria-pressed":"custom"===e.backgroundImage,"data-user-theming-background-custom":"",tabindex:"0"},on:{click:e.pickFile}},[e._v("\n\t\t"+e._s(e.t("theming","Custom background"))+"\n\t\t"),"custom"!==e.backgroundImage?t("ImageEdit",{attrs:{size:20}}):e._e(),e._v(" "),t("Check",{attrs:{size:44}})],1),e._v(" "),t("NcColorPicker",{on:{"update:value":e.debouncePickColor},model:{value:e.Theming.backgroundColor,callback:function(t){e.$set(e.Theming,"backgroundColor",t)},expression:"Theming.backgroundColor"}},[t("button",{class:{"icon-loading":"color"===e.loading,"background background__color":!0,"background--active":"color"===e.backgroundImage},style:{backgroundColor:e.Theming.backgroundColor,"--border-color":e.Theming.backgroundColor},attrs:{"aria-pressed":"color"===e.backgroundImage,"data-color":e.Theming.backgroundColor,"data-color-bright":e.invertTextColor(e.Theming.backgroundColor),"data-user-theming-background-color":"",tabindex:"0"},on:{click:function(t){"color"!==e.backgroundImage&&e.debouncePickColor(e.Theming.backgroundColor)}}},[e._v("\n\t\t\t"+e._s(e.t("theming","Plain background"))+"\n\t\t\t"),"color"!==e.backgroundImage?t("ColorPalette",{attrs:{size:20}}):e._e(),e._v(" "),t("Check",{attrs:{size:44}})],1)]),e._v(" "),t("button",{class:{"icon-loading":"default"===e.loading,"background background__default":!0,"background--active":"default"===e.backgroundImage},style:{"--border-color":e.Theming.defaultBackgroundColor},attrs:{"aria-pressed":"default"===e.backgroundImage,"data-color-bright":e.invertTextColor(e.Theming.defaultBackgroundColor),"data-user-theming-background-default":"",tabindex:"0"},on:{click:e.setDefault}},[e._v("\n\t\t"+e._s(e.t("theming","Default background"))+"\n\t\t"),t("Check",{attrs:{size:44}})],1),e._v(" "),e._l(e.shippedBackgrounds,(function(n){return t("button",{key:n.name,class:{"background background__shipped":!0,"icon-loading":e.loading===n.name,"background--active":e.backgroundImage===n.name},style:{backgroundImage:"url("+n.preview+")","--border-color":n.details.primary_color},attrs:{title:n.details.attribution,"aria-label":n.details.description,"aria-pressed":e.backgroundImage===n.name,"data-color-bright":e.invertTextColor(n.details.background_color),"data-user-theming-background-shipped":n.name,tabindex:"0"},on:{click:function(t){return e.setShipped(n.name)}}},[t("Check",{attrs:{size:44}})],1)}))],2)}),[],!1,null,"f1e28910",null).exports,W={name:"ItemPreview",components:{NcCheckboxRadioSwitch:u.A},props:{enforced:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},theme:{type:Object,required:!0},type:{type:String,default:""},unique:{type:Boolean,default:!1}},computed:{switchType(){return this.unique?"switch":"radio"},name(){return this.unique?null:this.type},img(){return(0,c.fg)("theming","img",this.theme.id+".jpg")},checked:{get(){return this.selected},set(e){this.enforced||(console.debug("Changed theme",this.theme.id,e),this.unique?this.$emit("change",{enabled:!0===e,id:this.theme.id}):this.$emit("change",{enabled:!0,id:this.theme.id}))}}},methods:{onToggle(){this.enforced||("radio"!==this.switchType?this.checked=!this.checked:this.checked=!0)}}};var q=o(92135),K={};K.styleTagTransform=H(),K.setAttributes=U(),K.insert=R().bind(null,"head"),K.domAPI=M(),K.insertStyleElement=j(),O()(q.A,K),q.A&&q.A.locals&&q.A.locals;const V=(0,A.A)(W,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"theming__preview",class:"theming__preview--"+e.theme.id},[t("div",{staticClass:"theming__preview-image",style:{backgroundImage:"url("+e.img+")"},on:{click:e.onToggle}}),e._v(" "),t("div",{staticClass:"theming__preview-description"},[t("h3",[e._v(e._s(e.theme.title))]),e._v(" "),t("p",{staticClass:"theming__preview-explanation"},[e._v("\n\t\t\t"+e._s(e.theme.description)+"\n\t\t")]),e._v(" "),e.enforced?t("span",{staticClass:"theming__preview-warning",attrs:{role:"note"}},[e._v("\n\t\t\t"+e._s(e.t("theming","Theme selection is enforced"))+"\n\t\t")]):e._e(),e._v(" "),t("NcCheckboxRadioSwitch",{directives:[{name:"show",rawName:"v-show",value:!e.enforced,expression:"!enforced"}],staticClass:"theming__preview-toggle",attrs:{checked:e.checked,disabled:e.enforced,name:e.name,type:e.switchType},on:{"update:checked":function(t){e.checked=t}}},[e._v("\n\t\t\t"+e._s(e.theme.enableLabel)+"\n\t\t")])],1)])}),[],!1,null,"5ffe61a6",null).exports;var Q=o(53334);function J(e){return"function"==typeof e?e():(0,a.R1)(e)}a.Ay.util.warn;const Z="undefined"!=typeof window&&"undefined"!=typeof document;function ee(e){const t=Object.create(null);return n=>t[n]||(t[n]=e(n))}"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),Object.prototype.toString;const te=/\B([A-Z])/g,ne=(ee((e=>e.replace(te,"-$1").toLowerCase())),/-(\w)/g);ee((e=>e.replace(ne,((e,t)=>t?t.toUpperCase():"")))),Z&&window;const oe=Z?window.document:void 0;function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(){return ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ie.apply(this,arguments)}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){ae(e,t,n[t])}))}return e}function se(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}Z&&window.navigator,Z&&window.location,"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,Number.POSITIVE_INFINITY;var ce=se(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),de=se(/Edge/i),ue=se(/firefox/i),pe=se(/safari/i)&&!se(/chrome/i)&&!se(/android/i),he=se(/iP(ad|od|hone)/i),ge=se(/chrome/i)&&se(/android/i),fe={capture:!1,passive:!1};function me(e,t,n){e.addEventListener(t,n,!ce&&fe)}function ve(e,t,n){e.removeEventListener(t,n,!ce&&fe)}function Ae(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function be(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ce(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&Ae(e,t):Ae(e,t))||o&&e===n)return e;if(e===n)break}while(e=be(e))}return null}var ye,we=/\s+/g;function _e(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(we," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(we," ")}}function ke(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function xe(e,t){var n="";if("string"==typeof e)n=e;else do{var o=ke(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function Se(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,a=o.length;if(n)for(;r<a;r++)n(o[r],r);return o}return[]}function De(){return document.scrollingElement||document.documentElement}function Ee(e,t,n,o,r){if(e.getBoundingClientRect||e===window){var a,i,l,s,c,d,u;if(e!==window&&e!==De()?(i=(a=e.getBoundingClientRect()).top,l=a.left,s=a.bottom,c=a.right,d=a.height,u=a.width):(i=0,l=0,s=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!ce))do{if(r&&r.getBoundingClientRect&&("none"!==ke(r,"transform")||n&&"static"!==ke(r,"position"))){var p=r.getBoundingClientRect();i-=p.top+parseInt(ke(r,"border-top-width")),l-=p.left+parseInt(ke(r,"border-left-width")),s=i+a.height,c=l+a.width;break}}while(r=r.parentNode);if(o&&e!==window){var h=xe(r||e),g=h&&h.a,f=h&&h.d;h&&(s=(i/=f)+(d/=f),c=(l/=g)+(u/=g))}return{top:i,left:l,bottom:s,right:c,width:u,height:d}}}function Te(e,t,n){for(var o=Pe(e,!0),r=Ee(e)[t];o;){var a=Ee(o)[n];if(!("top"===n||"left"===n?r>=a:r<=a))return o;if(o===De())break;o=Pe(o,!1)}return!1}function Ie(e,t,n){for(var o=0,r=0,a=e.children;r<a.length;){if("none"!==a[r].style.display&&a[r]!==Mt.ghost&&a[r]!==Mt.dragged&&Ce(a[r],n.draggable,e,!1)){if(o===t)return a[r];o++}r++}return null}function Ne(e,t){for(var n=e.lastElementChild;n&&(n===Mt.ghost||"none"===ke(n,"display")||t&&!Ae(n,t));)n=n.previousElementSibling;return n||null}function Be(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Mt.clone||t&&!Ae(e,t)||n++;return n}function Oe(e){var t=0,n=0,o=De();if(e)do{var r=xe(e),a=r.a,i=r.d;t+=e.scrollLeft*a,n+=e.scrollTop*i}while(e!==o&&(e=e.parentNode));return[t,n]}function Pe(e,t){if(!e||!e.getBoundingClientRect)return De();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=ke(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return De();if(o||t)return n;o=!0}}}while(n=n.parentNode);return De()}function Me(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Fe(e,t){return function(){if(!ye){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),ye=setTimeout((function(){ye=void 0}),t)}}}function Re(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Le(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Ue="Sortable"+(new Date).getTime();var Ye=[],je={initializeByDefault:!0},$e={mount:function(e){for(var t in je)je.hasOwnProperty(t)&&!(t in e)&&(e[t]=je[t]);Ye.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";Ye.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](le({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](le({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var r in Ye.forEach((function(o){var r=o.pluginName;if(e.options[r]||o.initializeByDefault){var a=new o(e,t,e.options);a.sortable=e,a.options=e.options,e[r]=a,ie(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);void 0!==a&&(e.options[r]=a)}},getEventProperties:function(e,t){var n={};return Ye.forEach((function(o){"function"==typeof o.eventProperties&&ie(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return Ye.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(o=r.optionListeners[t].call(e[r.pluginName],n))})),o}};var He=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,r=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["evt"]);$e.pluginEvent.bind(Mt)(e,t,le({dragEl:Ge,parentEl:Xe,ghostEl:We,rootEl:qe,nextEl:Ke,lastDownEl:Ve,cloneEl:Qe,cloneHidden:Je,dragStarted:ut,putSortable:rt,activeSortable:Mt.active,originalEvent:o,oldIndex:Ze,oldDraggableIndex:tt,newIndex:et,newDraggableIndex:nt,hideGhostForTarget:Nt,unhideGhostForTarget:Bt,cloneNowHidden:function(){Je=!0},cloneNowShown:function(){Je=!1},dispatchSortableEvent:function(e){ze({sortable:t,name:e,originalEvent:o})}},r))};function ze(e){!function(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,a=e.cloneEl,i=e.toEl,l=e.fromEl,s=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,p=e.originalEvent,h=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[Ue]){var f,m=t.options,v="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||ce||de?(f=document.createEvent("Event")).initEvent(o,!0,!0):f=new CustomEvent(o,{bubbles:!0,cancelable:!0}),f.to=i||n,f.from=l||n,f.item=r||n,f.clone=a,f.oldIndex=s,f.newIndex=c,f.oldDraggableIndex=d,f.newDraggableIndex=u,f.originalEvent=p,f.pullMode=h?h.lastPutMode:void 0;var A=le({},g,$e.getEventProperties(o,t));for(var b in A)f[b]=A[b];n&&n.dispatchEvent(f),m[v]&&m[v].call(t,f)}}(le({putSortable:rt,cloneEl:Qe,targetEl:Ge,rootEl:qe,oldIndex:Ze,oldDraggableIndex:tt,newIndex:et,newDraggableIndex:nt},e))}var Ge,Xe,We,qe,Ke,Ve,Qe,Je,Ze,et,tt,nt,ot,rt,at,it,lt,st,ct,dt,ut,pt,ht,gt,ft,mt=!1,vt=!1,At=[],bt=!1,Ct=!1,yt=[],wt=!1,_t=[],kt="undefined"!=typeof document,xt=he,St=de||ce?"cssFloat":"float",Dt=kt&&!ge&&!he&&"draggable"in document.createElement("div"),Et=function(){if(kt){if(ce)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Tt=function(e,t){var n=ke(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Ie(e,0,t),a=Ie(e,1,t),i=r&&ke(r),l=a&&ke(a),s=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+Ee(r).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Ee(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&i.float&&"none"!==i.float){var d="left"===i.float?"left":"right";return!a||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return r&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||s>=o&&"none"===n[St]||a&&"none"===n[St]&&s+c>o)?"vertical":"horizontal"},It=function(e){function t(e,n){return function(o,r,a,i){var l=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,r,a,i),n)(o,r,a,i);var s=(n?o:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==re(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Nt=function(){!Et&&We&&ke(We,"display","none")},Bt=function(){!Et&&We&&ke(We,"display","")};kt&&document.addEventListener("click",(function(e){if(vt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),vt=!1,!1}),!0);var Ot=function(e){if(Ge){var t=function(e,t){var n;return At.some((function(o){if(!Ne(o)){var r=Ee(o),a=o[Ue].options.emptyInsertThreshold,i=e>=r.left-a&&e<=r.right+a,l=t>=r.top-a&&t<=r.bottom+a;return a&&i&&l?n=o:void 0}})),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Ue]._onDragOver(n)}}},Pt=function(e){Ge&&Ge.parentNode[Ue]._isOutsideThisEl(e.target)};function Mt(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ie({},t),e[Ue]=this;var n,o,r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Tt(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Mt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var a in $e.initializePlugins(this,e,r),r)!(a in t)&&(t[a]=r[a]);for(var i in It(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Dt,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?me(e,"pointerdown",this._onTapStart):(me(e,"mousedown",this._onTapStart),me(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(me(e,"dragover",this),me(e,"dragenter",this)),At.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ie(this,(o=[],{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==ke(e,"display")&&e!==Mt.ghost){o.push({target:e,rect:Ee(e)});var t=le({},o[o.length-1].rect);if(e.thisAnimationDuration){var n=xe(e,!0);n&&(t.top-=n.f,t.left-=n.e)}e.fromRect=t}}))},addAnimationState:function(e){o.push(e)},removeAnimationState:function(e){o.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}(o,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof e&&e());var r=!1,a=0;o.forEach((function(e){var n=0,o=e.target,i=o.fromRect,l=Ee(o),s=o.prevFromRect,c=o.prevToRect,d=e.rect,u=xe(o,!0);u&&(l.top-=u.f,l.left-=u.e),o.toRect=l,o.thisAnimationDuration&&Me(s,l)&&!Me(i,l)&&(d.top-l.top)/(d.left-l.left)==(i.top-l.top)/(i.left-l.left)&&(n=function(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}(d,s,c,t.options)),Me(l,i)||(o.prevFromRect=i,o.prevToRect=l,n||(n=t.options.animation),t.animate(o,d,l,n)),n&&(r=!0,a=Math.max(a,n),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout((function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null}),n),o.thisAnimationDuration=n)})),clearTimeout(n),r?n=setTimeout((function(){"function"==typeof e&&e()}),a):"function"==typeof e&&e(),o=[]},animate:function(e,t,n,o){if(o){ke(e,"transition",""),ke(e,"transform","");var r=xe(this.el),a=r&&r.a,i=r&&r.d,l=(t.left-n.left)/(a||1),s=(t.top-n.top)/(i||1);e.animatingX=!!l,e.animatingY=!!s,ke(e,"transform","translate3d("+l+"px,"+s+"px,0)"),function(e){e.offsetWidth}(e),ke(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),ke(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){ke(e,"transition",""),ke(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}))}function Ft(e,t,n,o,r,a,i,l){var s,c,d=e[Ue],u=d.options.onMove;return!window.CustomEvent||ce||de?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=r||t,s.relatedRect=a||Ee(t),s.willInsertAfter=l,s.originalEvent=i,e.dispatchEvent(s),u&&(c=u.call(d,s,i)),c}function Rt(e){e.draggable=!1}function Lt(){wt=!1}function Ut(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Yt(e){return setTimeout(e,0)}function jt(e){return clearTimeout(e)}Mt.prototype={constructor:Mt,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(pt=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Ge):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,a=e.type,i=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(i||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=o.filter;if(function(e){_t.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&_t.push(o)}}(n),!Ge&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||o.disabled||s.isContentEditable||(l=Ce(l,o.draggable,n,!1))&&l.animated||Ve===l)){if(Ze=Be(l),tt=Be(l,o.draggable),"function"==typeof c){if(c.call(this,e,l,this))return ze({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),He("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=Ce(s,o.trim(),n,!1))return ze({sortable:t,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),He("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());o.handle&&!Ce(s,o.handle,n,!1)||this._prepareDragStart(e,i,l)}}},_prepareDragStart:function(e,t,n){var o,r=this,a=r.el,i=r.options,l=a.ownerDocument;if(n&&!Ge&&n.parentNode===a){var s=Ee(n);if(qe=a,Xe=(Ge=n).parentNode,Ke=Ge.nextSibling,Ve=n,ot=i.group,Mt.dragged=Ge,at={target:Ge,clientX:(t||e).clientX,clientY:(t||e).clientY},ct=at.clientX-s.left,dt=at.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Ge.style["will-change"]="all",o=function(){He("delayEnded",r,{evt:e}),Mt.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!ue&&r.nativeDraggable&&(Ge.draggable=!0),r._triggerDragStart(e,t),ze({sortable:r,name:"choose",originalEvent:e}),_e(Ge,i.chosenClass,!0))},i.ignore.split(",").forEach((function(e){Se(Ge,e.trim(),Rt)})),me(l,"dragover",Ot),me(l,"mousemove",Ot),me(l,"touchmove",Ot),me(l,"mouseup",r._onDrop),me(l,"touchend",r._onDrop),me(l,"touchcancel",r._onDrop),ue&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ge.draggable=!0),He("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(de||ce))o();else{if(Mt.eventCanceled)return void this._onDrop();me(l,"mouseup",r._disableDelayedDrag),me(l,"touchend",r._disableDelayedDrag),me(l,"touchcancel",r._disableDelayedDrag),me(l,"mousemove",r._delayedDragTouchMoveHandler),me(l,"touchmove",r._delayedDragTouchMoveHandler),i.supportPointer&&me(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,i.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ge&&Rt(Ge),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ve(e,"mouseup",this._disableDelayedDrag),ve(e,"touchend",this._disableDelayedDrag),ve(e,"touchcancel",this._disableDelayedDrag),ve(e,"mousemove",this._delayedDragTouchMoveHandler),ve(e,"touchmove",this._delayedDragTouchMoveHandler),ve(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?me(document,"pointermove",this._onTouchMove):me(document,t?"touchmove":"mousemove",this._onTouchMove):(me(Ge,"dragend",this),me(qe,"dragstart",this._onDragStart));try{document.selection?Yt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(mt=!1,qe&&Ge){He("dragStarted",this,{evt:t}),this.nativeDraggable&&me(document,"dragover",Pt);var n=this.options;!e&&_e(Ge,n.dragClass,!1),_e(Ge,n.ghostClass,!0),Mt.active=this,e&&this._appendGhost(),ze({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(it){this._lastX=it.clientX,this._lastY=it.clientY,Nt();for(var e=document.elementFromPoint(it.clientX,it.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(it.clientX,it.clientY))!==t;)t=e;if(Ge.parentNode[Ue]._isOutsideThisEl(e),t)do{if(t[Ue]&&t[Ue]._onDragOver({clientX:it.clientX,clientY:it.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Bt()}},_onTouchMove:function(e){if(at){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=We&&xe(We,!0),i=We&&a&&a.a,l=We&&a&&a.d,s=xt&&ft&&Oe(ft),c=(r.clientX-at.clientX+o.x)/(i||1)+(s?s[0]-yt[0]:0)/(i||1),d=(r.clientY-at.clientY+o.y)/(l||1)+(s?s[1]-yt[1]:0)/(l||1);if(!Mt.active&&!mt){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(We){a?(a.e+=c-(lt||0),a.f+=d-(st||0)):a={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");ke(We,"webkitTransform",u),ke(We,"mozTransform",u),ke(We,"msTransform",u),ke(We,"transform",u),lt=c,st=d,it=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!We){var e=this.options.fallbackOnBody?document.body:qe,t=Ee(Ge,!0,xt,!0,e),n=this.options;if(xt){for(ft=e;"static"===ke(ft,"position")&&"none"===ke(ft,"transform")&&ft!==document;)ft=ft.parentNode;ft!==document.body&&ft!==document.documentElement?(ft===document&&(ft=De()),t.top+=ft.scrollTop,t.left+=ft.scrollLeft):ft=De(),yt=Oe(ft)}_e(We=Ge.cloneNode(!0),n.ghostClass,!1),_e(We,n.fallbackClass,!0),_e(We,n.dragClass,!0),ke(We,"transition",""),ke(We,"transform",""),ke(We,"box-sizing","border-box"),ke(We,"margin",0),ke(We,"top",t.top),ke(We,"left",t.left),ke(We,"width",t.width),ke(We,"height",t.height),ke(We,"opacity","0.8"),ke(We,"position",xt?"absolute":"fixed"),ke(We,"zIndex","100000"),ke(We,"pointerEvents","none"),Mt.ghost=We,e.appendChild(We),ke(We,"transform-origin",ct/parseInt(We.style.width)*100+"% "+dt/parseInt(We.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;He("dragStart",this,{evt:e}),Mt.eventCanceled?this._onDrop():(He("setupClone",this),Mt.eventCanceled||((Qe=Le(Ge)).draggable=!1,Qe.style["will-change"]="",this._hideClone(),_e(Qe,this.options.chosenClass,!1),Mt.clone=Qe),n.cloneId=Yt((function(){He("clone",n),Mt.eventCanceled||(n.options.removeCloneOnHide||qe.insertBefore(Qe,Ge),n._hideClone(),ze({sortable:n,name:"clone"}))})),!t&&_e(Ge,r.dragClass,!0),t?(vt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(ve(document,"mouseup",n._onDrop),ve(document,"touchend",n._onDrop),ve(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,Ge)),me(document,"drop",n),ke(Ge,"transform","translateZ(0)")),mt=!0,n._dragStartId=Yt(n._dragStarted.bind(n,t,e)),me(document,"selectstart",n),ut=!0,pe&&ke(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,r,a=this.el,i=e.target,l=this.options,s=l.group,c=Mt.active,d=ot===s,u=l.sort,p=rt||c,h=this,g=!1;if(!wt){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),i=Ce(i,l.draggable,a,!0),E("dragOver"),Mt.eventCanceled)return g;if(Ge.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||h._ignoreWhileAnimating===i)return I(!1);if(vt=!1,c&&!l.disabled&&(d?u||(o=!qe.contains(Ge)):rt===this||(this.lastPutMode=ot.checkPull(this,c,Ge,e))&&s.checkPut(this,c,Ge,e))){if(r="vertical"===this._getDirection(e,i),t=Ee(Ge),E("dragOverValid"),Mt.eventCanceled)return g;if(o)return Xe=qe,T(),this._hideClone(),E("revert"),Mt.eventCanceled||(Ke?qe.insertBefore(Ge,Ke):qe.appendChild(Ge)),I(!0);var f=Ne(a,l.draggable);if(!f||function(e,t,n){var o=Ee(Ne(n.el,n.options.draggable));return t?e.clientX>o.right+10||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+10}(e,r,this)&&!f.animated){if(f===Ge)return I(!1);if(f&&a===e.target&&(i=f),i&&(n=Ee(i)),!1!==Ft(qe,a,Ge,t,i,n,e,!!i))return T(),a.appendChild(Ge),Xe=a,N(),I(!0)}else if(i.parentNode===a){n=Ee(i);var m,v,A,b=Ge.parentNode!==a,C=!function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,a=n?e.width:e.height,i=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return o===i||r===l||o+a/2===i+s/2}(Ge.animated&&Ge.toRect||t,i.animated&&i.toRect||n,r),y=r?"top":"left",w=Te(i,"top","top")||Te(Ge,"top","top"),_=w?w.scrollTop:void 0;if(pt!==i&&(v=n[y],bt=!1,Ct=!C&&l.invertSwap||b),m=function(e,t,n,o,r,a,i,l){var s=o?e.clientY:e.clientX,c=o?n.height:n.width,d=o?n.top:n.left,u=o?n.bottom:n.right,p=!1;if(!i)if(l&&gt<c*r){if(!bt&&(1===ht?s>d+c*a/2:s<u-c*a/2)&&(bt=!0),bt)p=!0;else if(1===ht?s<d+gt:s>u-gt)return-ht}else if(s>d+c*(1-r)/2&&s<u-c*(1-r)/2)return function(e){return Be(Ge)<Be(e)?1:-1}(t);return(p=p||i)&&(s<d+c*a/2||s>u-c*a/2)?s>d+c/2?1:-1:0}(e,i,n,r,C?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ct,pt===i),0!==m){var k=Be(Ge);do{k-=m,A=Xe.children[k]}while(A&&("none"===ke(A,"display")||A===We))}if(0===m||A===i)return I(!1);pt=i,ht=m;var x=i.nextElementSibling,S=!1,D=Ft(qe,a,Ge,t,i,n,e,S=1===m);if(!1!==D)return 1!==D&&-1!==D||(S=1===D),wt=!0,setTimeout(Lt,30),T(),S&&!x?a.appendChild(Ge):i.parentNode.insertBefore(Ge,S?x:i),w&&Re(w,0,_-w.scrollTop),Xe=Ge.parentNode,void 0===v||Ct||(gt=Math.abs(v-Ee(i)[y])),N(),I(!0)}if(a.contains(Ge))return I(!1)}return!1}function E(l,s){He(l,h,le({evt:e,isOwner:d,axis:r?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:u,fromSortable:p,target:i,completed:I,onMove:function(n,o){return Ft(qe,a,Ge,t,n,Ee(n),e,o)},changed:N},s))}function T(){E("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function I(t){return E("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(h),h!==p&&(_e(Ge,rt?rt.options.ghostClass:c.options.ghostClass,!1),_e(Ge,l.ghostClass,!0)),rt!==h&&h!==Mt.active?rt=h:h===Mt.active&&rt&&(rt=null),p===h&&(h._ignoreWhileAnimating=i),h.animateAll((function(){E("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(i===Ge&&!Ge.animated||i===a&&!i.animated)&&(pt=null),l.dragoverBubble||e.rootEl||i===document||(Ge.parentNode[Ue]._isOutsideThisEl(e.target),!t&&Ot(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function N(){et=Be(Ge),nt=Be(Ge,l.draggable),ze({sortable:h,name:"change",toEl:a,newIndex:et,newDraggableIndex:nt,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){ve(document,"mousemove",this._onTouchMove),ve(document,"touchmove",this._onTouchMove),ve(document,"pointermove",this._onTouchMove),ve(document,"dragover",Ot),ve(document,"mousemove",Ot),ve(document,"touchmove",Ot)},_offUpEvents:function(){var e=this.el.ownerDocument;ve(e,"mouseup",this._onDrop),ve(e,"touchend",this._onDrop),ve(e,"pointerup",this._onDrop),ve(e,"touchcancel",this._onDrop),ve(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;et=Be(Ge),nt=Be(Ge,n.draggable),He("drop",this,{evt:e}),Xe=Ge&&Ge.parentNode,et=Be(Ge),nt=Be(Ge,n.draggable),Mt.eventCanceled||(mt=!1,Ct=!1,bt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),jt(this.cloneId),jt(this._dragStartId),this.nativeDraggable&&(ve(document,"drop",this),ve(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),pe&&ke(document.body,"user-select",""),ke(Ge,"transform",""),e&&(ut&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),We&&We.parentNode&&We.parentNode.removeChild(We),(qe===Xe||rt&&"clone"!==rt.lastPutMode)&&Qe&&Qe.parentNode&&Qe.parentNode.removeChild(Qe),Ge&&(this.nativeDraggable&&ve(Ge,"dragend",this),Rt(Ge),Ge.style["will-change"]="",ut&&!mt&&_e(Ge,rt?rt.options.ghostClass:this.options.ghostClass,!1),_e(Ge,this.options.chosenClass,!1),ze({sortable:this,name:"unchoose",toEl:Xe,newIndex:null,newDraggableIndex:null,originalEvent:e}),qe!==Xe?(et>=0&&(ze({rootEl:Xe,name:"add",toEl:Xe,fromEl:qe,originalEvent:e}),ze({sortable:this,name:"remove",toEl:Xe,originalEvent:e}),ze({rootEl:Xe,name:"sort",toEl:Xe,fromEl:qe,originalEvent:e}),ze({sortable:this,name:"sort",toEl:Xe,originalEvent:e})),rt&&rt.save()):et!==Ze&&et>=0&&(ze({sortable:this,name:"update",toEl:Xe,originalEvent:e}),ze({sortable:this,name:"sort",toEl:Xe,originalEvent:e})),Mt.active&&(null!=et&&-1!==et||(et=Ze,nt=tt),ze({sortable:this,name:"end",toEl:Xe,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){He("nulling",this),qe=Ge=Xe=We=Ke=Qe=Ve=Je=at=it=ut=et=nt=Ze=tt=pt=ht=rt=ot=Mt.dragged=Mt.ghost=Mt.clone=Mt.active=null,_t.forEach((function(e){e.checked=!0})),_t.length=lt=st=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ge&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,r=n.length,a=this.options;o<r;o++)Ce(e=n[o],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||Ut(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,o){var r=n.children[o];Ce(r,this.options.draggable,n,!1)&&(t[e]=r)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Ce(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=$e.modifyOption(this,e,t);n[e]=void 0!==o?o:t,"group"===e&&It(n)},destroy:function(){He("destroy",this);var e=this.el;e[Ue]=null,ve(e,"mousedown",this._onTapStart),ve(e,"touchstart",this._onTapStart),ve(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ve(e,"dragover",this),ve(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),At.splice(At.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Je){if(He("hideClone",this),Mt.eventCanceled)return;ke(Qe,"display","none"),this.options.removeCloneOnHide&&Qe.parentNode&&Qe.parentNode.removeChild(Qe),Je=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Je){if(He("showClone",this),Mt.eventCanceled)return;qe.contains(Ge)&&!this.options.group.revertClone?qe.insertBefore(Qe,Ge):Ke?qe.insertBefore(Qe,Ke):qe.appendChild(Qe),this.options.group.revertClone&&this.animate(Ge,Qe),ke(Qe,"display",""),Je=!1}}else this._hideClone()}},kt&&me(document,"touchmove",(function(e){(Mt.active||mt)&&e.cancelable&&e.preventDefault()})),Mt.utils={on:me,off:ve,css:ke,find:Se,is:function(e,t){return!!Ce(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Fe,closest:Ce,toggleClass:_e,clone:Le,index:Be,nextTick:Yt,cancelNextTick:jt,detectDirection:Tt,getChild:Ie},Mt.get=function(e){return e[Ue]},Mt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Mt.utils=le({},Mt.utils,e.utils)),$e.mount(e)}))},Mt.create=function(e,t){return new Mt(e,t)},Mt.version="1.10.2";var $t,Ht,zt,Gt,Xt,Wt,qt=[],Kt=!1;function Vt(){qt.forEach((function(e){clearInterval(e.pid)})),qt=[]}function Qt(){clearInterval(Wt)}var Jt=Fe((function(e,t,n,o){if(t.scroll){var r,a=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=De(),d=!1;Ht!==n&&(Ht=n,Vt(),$t=t.scroll,r=t.scrollFn,!0===$t&&($t=Pe(n,!0)));var u=0,p=$t;do{var h=p,g=Ee(h),f=g.top,m=g.bottom,v=g.left,A=g.right,b=g.width,C=g.height,y=void 0,w=void 0,_=h.scrollWidth,k=h.scrollHeight,x=ke(h),S=h.scrollLeft,D=h.scrollTop;h===c?(y=b<_&&("auto"===x.overflowX||"scroll"===x.overflowX||"visible"===x.overflowX),w=C<k&&("auto"===x.overflowY||"scroll"===x.overflowY||"visible"===x.overflowY)):(y=b<_&&("auto"===x.overflowX||"scroll"===x.overflowX),w=C<k&&("auto"===x.overflowY||"scroll"===x.overflowY));var E=y&&(Math.abs(A-a)<=l&&S+b<_)-(Math.abs(v-a)<=l&&!!S),T=w&&(Math.abs(m-i)<=l&&D+C<k)-(Math.abs(f-i)<=l&&!!D);if(!qt[u])for(var I=0;I<=u;I++)qt[I]||(qt[I]={});qt[u].vx==E&&qt[u].vy==T&&qt[u].el===h||(qt[u].el=h,qt[u].vx=E,qt[u].vy=T,clearInterval(qt[u].pid),0==E&&0==T||(d=!0,qt[u].pid=setInterval(function(){o&&0===this.layer&&Mt.active._onTouchMove(Xt);var t=qt[this.layer].vy?qt[this.layer].vy*s:0,n=qt[this.layer].vx?qt[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(Mt.dragged.parentNode[Ue],n,t,e,Xt,qt[this.layer].el)||Re(qt[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==c&&(p=Pe(p,!1)));Kt=d}}),30),Zt=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,i=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||r;i();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(d)&&(a("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function en(){}function tn(){}en.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Ie(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Zt},ie(en,{pluginName:"revertOnSpill"}),tn.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:Zt},ie(tn,{pluginName:"removeOnSpill"}),Mt.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?me(document,"dragover",this._handleAutoScroll):this.options.supportPointer?me(document,"pointermove",this._handleFallbackAutoScroll):t.touches?me(document,"touchmove",this._handleFallbackAutoScroll):me(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?ve(document,"dragover",this._handleAutoScroll):(ve(document,"pointermove",this._handleFallbackAutoScroll),ve(document,"touchmove",this._handleFallbackAutoScroll),ve(document,"mousemove",this._handleFallbackAutoScroll)),Qt(),Vt(),clearTimeout(ye),ye=void 0},nulling:function(){Xt=Ht=$t=Kt=Wt=zt=Gt=null,qt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(o,r);if(Xt=e,t||de||ce||pe){Jt(e,this.options,a,t);var i=Pe(a,!0);!Kt||Wt&&o===zt&&r===Gt||(Wt&&Qt(),Wt=setInterval((function(){var a=Pe(document.elementFromPoint(o,r),!0);a!==i&&(i=a,Vt()),Jt(e,n.options,a,t)}),10),zt=o,Gt=r)}else{if(!this.options.bubbleScroll||Pe(a,!0)===De())return void Vt();Jt(e,this.options,Pe(a,!1),!1)}}},ie(e,{pluginName:"scroll",initializeByDefault:!0})}),Mt.mount(tn,en);const nn=Mt;function on(e,t,n={}){let o;const{document:r=oe,...i}=n,l={onUpdate:e=>{!function(e,t,n,o=null){var r;null!=o&&((r=o.item).parentNode&&r.parentNode.removeChild(r),function(e,t,n){const o=e.children[n];e.insertBefore(t,o)}(o.from,o.item,t));const i=(0,a.i9)(e),l=i?[...J(e)]:J(e);if(n>=0&&n<l.length){const o=l.splice(t,1)[0];(0,a.dY)((()=>{l.splice(n,0,o),i&&(e.value=l)}))}}(t,e.oldIndex,e.newIndex,e)}},s=()=>{const t="string"==typeof e?null==r?void 0:r.querySelector(e):function(e){var t;const n=J(e);return null!=(t=null==n?void 0:n.$el)?t:n}(e);t&&void 0===o&&(o=new nn(t,{...l,...i}))},c=()=>{null==o||o.destroy(),o=void 0};return function(e,t=!0,n){!function(e){return e||(0,a.nI)()}()?t?e():(0,a.dY)(e):(0,a.sV)(e,n)}(s),d=c,!!(0,a.o5)()&&(0,a.jr)(d),{stop:c,start:s,option:(e,t)=>{if(void 0===t)return null==o?void 0:o.option(e);null==o||o.option(e,t)}};var d}var rn=o(54914),an=o(39017),ln=o(68560),sn=o(97012);const cn=(0,a.pM)({name:"AppOrderSelectorElement",components:{IconArrowDown:an.A,IconArrowUp:ln.A,NcButton:sn.A},props:{ariaDescribedby:{type:String,default:null},ariaDetails:{type:String,default:null},app:{type:Object,required:!0},isFirst:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1}},emits:{"move:up":()=>!0,"move:down":()=>!0,"update:focus":()=>!0},setup(e,t){let{emit:n}=t;const o=(0,a.KR)(),r=(0,a.KR)();let i=0;return{buttonUp:o,buttonDown:r,moveUp:()=>{n("move:up"),i=1},moveDown:()=>{n("move:down"),i=-1},keepFocus:()=>{0!==i&&(1!==i&&!e.isLast||e.isFirst?(0,a.dY)((()=>r.value.$el.focus())):(0,a.dY)((()=>o.value.$el.focus()))),i=0},t:Q.Tl}}});var dn=o(30184),un={};un.styleTagTransform=H(),un.setAttributes=U(),un.insert=R().bind(null,"head"),un.domAPI=M(),un.insertStyleElement=j(),O()(dn.A,un),dn.A&&dn.A.locals&&dn.A.locals;const pn=(0,A.A)(cn,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("li",{class:{"order-selector-element":!0,"order-selector-element--disabled":e.app.default},attrs:{"data-cy-app-order-element":e.app.id},on:{focusin:function(t){return e.$emit("update:focus")}}},[t("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",role:"presentation"}},[t("image",{staticClass:"order-selector-element__icon",attrs:{preserveAspectRatio:"xMinYMin meet",x:"0",y:"0",width:"20",height:"20","xlink:href":e.app.icon}})]),e._v(" "),t("div",{staticClass:"order-selector-element__label"},[e._v("\n\t\t"+e._s(e.app.label??e.app.id)+"\n\t")]),e._v(" "),t("div",{staticClass:"order-selector-element__actions"},[t("NcButton",{directives:[{name:"show",rawName:"v-show",value:!e.isFirst&&!e.app.default,expression:"!isFirst && !app.default"}],ref:"buttonUp",attrs:{"aria-label":e.t("settings","Move up"),"aria-describedby":e.ariaDescribedby,"aria-details":e.ariaDetails,"data-cy-app-order-button":"up",type:"tertiary-no-background"},on:{click:e.moveUp},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconArrowUp",{attrs:{size:20}})]},proxy:!0}])}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isFirst||!!e.app.default,expression:"isFirst || !!app.default"}],staticClass:"order-selector-element__placeholder",attrs:{"aria-hidden":"true"}}),e._v(" "),t("NcButton",{directives:[{name:"show",rawName:"v-show",value:!e.isLast&&!e.app.default,expression:"!isLast && !app.default"}],ref:"buttonDown",attrs:{"aria-label":e.t("settings","Move down"),"aria-describedby":e.ariaDescribedby,"aria-details":e.ariaDetails,"data-cy-app-order-button":"down",type:"tertiary-no-background"},on:{click:e.moveDown},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconArrowDown",{attrs:{size:20}})]},proxy:!0}])}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isLast||!!e.app.default,expression:"isLast || !!app.default"}],staticClass:"order-selector-element__placeholder",attrs:{"aria-hidden":"true"}})],1)])}),[],!1,null,"7898b8ac",null).exports,hn=(0,a.pM)({name:"AppOrderSelector",components:{AppOrderSelectorElement:pn,Fragment:rn.F},props:{ariaDetails:{type:String,default:null},value:{type:Array,required:!0}},emits:{"update:value":e=>Array.isArray(e)},setup(e,t){let{emit:n}=t;const o=(0,a.KR)(null),r=(0,a.EW)({get:()=>e.value,set:t=>{const o=[...t].sort(((e,n)=>(n.default?1:0)-(e.default?1:0)||t.indexOf(e)-t.indexOf(n)));o.some(((t,n)=>{let{id:o}=t;return o!==e.value[n].id}))?n("update:value",o):i.value+=1}}),i=(0,a.KR)(0);on(o,r,{filter:".order-selector-element--disabled"});const l=(0,a.KR)([]);(0,a.$u)((()=>{l.value.forEach((e=>e.keepFocus()))}));const s=(0,a.KR)("");return{appList:r,listElement:o,moveDown:t=>{const o=t>0?e.value.slice(0,t):[];o.push(e.value[t+1]);const r=t<e.value.length-2?e.value.slice(t+2):[];n("update:value",[...o,e.value[t],...r])},moveUp:t=>{const o=t>1?e.value.slice(0,t-1):[];if(e.value[t-1]?.default)return;const r=[e.value[t-1]];t<e.value.length-1&&r.push(...e.value.slice(t+1)),n("update:value",[...o,e.value[t],...r])},statusInfoId:`sorting-status-info-${(Math.random()+1).toString(36).substring(7)}`,statusInfo:s,updateStatusInfo:t=>{s.value=(0,Q.Tl)("theming","Current selected app: {app}, position {position} of {total}",{app:e.value[t].label,position:t+1,total:e.value.length})},renderCount:i,selectorElements:l}}}),gn=hn;var fn=o(42797),mn={};mn.styleTagTransform=H(),mn.setAttributes=U(),mn.insert=R().bind(null,"head"),mn.domAPI=M(),mn.insertStyleElement=j(),O()(fn.A,mn),fn.A&&fn.A.locals&&fn.A.locals;var vn=(0,A.A)(gn,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("Fragment",[t("div",{staticClass:"hidden-visually",attrs:{id:e.statusInfoId,"aria-live":"polite",role:"status"}},[e._v("\n\t\t"+e._s(e.statusInfo)+"\n\t")]),e._v(" "),t("ol",{ref:"listElement",staticClass:"order-selector",attrs:{"data-cy-app-order":""}},e._l(e.appList,(function(n,o){return t("AppOrderSelectorElement",e._g({key:`${n.id}${e.renderCount}`,ref:"selectorElements",refInFor:!0,attrs:{app:n,"aria-details":e.ariaDetails,"aria-describedby":e.statusInfoId,"is-first":0===o||!!e.appList[o-1].default,"is-last":o===e.value.length-1}},n.default?{}:{"move:up":()=>e.moveUp(o),"move:down":()=>e.moveDown(o),"update:focus":()=>e.updateStatusInfo(o)}))})),1)])}),[],!1,null,"3c4840b5",null);const An=vn.exports,bn={name:"UndoIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Cn=(0,A.A)(bn,(function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon undo-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])}),[],!1,null,null,null).exports;var yn=o(40083);const wn=(0,a.pM)({name:"UserAppMenuSection",components:{AppOrderSelector:An,IconUndo:Cn,NcButton:sn.A,NcNoteCard:yn.A,NcSettingsSection:p.A},setup(){const{userAppOrder:e,enforcedDefaultApp:t}=(0,s.C)("theming","navigationBar"),n=(0,s.C)("core","apps").filter((e=>{let{type:t}=e;return"link"===t})).map((e=>({...e,label:e.name,default:e.default&&e.id===t}))),o=(0,a.KR)(!Array.isArray(e)||Object.values(e).length>0),r=(0,a.EW)((()=>n.some(((e,t)=>{let{id:n}=e;return n!==h.value[t].id})))),i="theming-apporder-changed-infocard",u="theming-apporder-changed-infocard",p=(0,a.EW)((()=>(r.value?`${i} `:"")+(t?u:""))),h=(0,a.KR)([...n]),g=async(e,t)=>{const n=(0,c.KT)("apps/provisioning_api/api/v1/config/users/{appId}/{configKey}",{appId:"core",configKey:e});return await d.Ay.post(n,{configValue:JSON.stringify(t)})};return{appOrder:h,updateAppOrder:e=>{const t={};e.forEach(((e,n)=>{let{app:o,id:r}=e;t[r]={order:n,app:o}})),g("apporder",t).then((()=>{h.value=e,o.value=!0})).catch((e=>{console.warn("Could not set the app order",e),(0,l.Qg)((0,Q.Tl)("theming","Could not set the app order"))}))},resetAppOrder:async()=>{try{await g("apporder",[]),o.value=!1;const{data:e}=await d.Ay.get((0,c.KT)("/core/navigation/apps"),{headers:{"OCS-APIRequest":"true"}});h.value=e.ocs.data.map((e=>({...e,label:e.name,default:e.default&&e.app===t})))}catch(e){console.warn(e),(0,l.Qg)((0,Q.Tl)("theming","Could not reset the app order"))}},enforcedDefaultApp:t,hasAppOrderChanged:r,hasCustomAppOrder:o,ariaDetailsAppOrder:p,elementIdAppOrderChanged:i,elementIdEnforcedDefaultApp:u,t:Q.Tl}}}),_n=wn;var kn=o(89869),xn={};xn.styleTagTransform=H(),xn.setAttributes=U(),xn.insert=R().bind(null,"head"),xn.domAPI=M(),xn.insertStyleElement=j(),O()(kn.A,xn),kn.A&&kn.A.locals&&kn.A.locals;const Sn=(0,A.A)(_n,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("NcSettingsSection",{attrs:{name:e.t("theming","Navigation bar settings")}},[t("p",[e._v("\n\t\t"+e._s(e.t("theming","You can configure the app order used for the navigation bar. The first entry will be the default app, opened after login or when clicking on the logo."))+"\n\t")]),e._v(" "),e.enforcedDefaultApp?t("NcNoteCard",{attrs:{id:e.elementIdEnforcedDefaultApp,type:"info"}},[e._v("\n\t\t"+e._s(e.t("theming","The default app can not be changed because it was configured by the administrator."))+"\n\t")]):e._e(),e._v(" "),e.hasAppOrderChanged?t("NcNoteCard",{attrs:{id:e.elementIdAppOrderChanged,type:"info"}},[e._v("\n\t\t"+e._s(e.t("theming","The app order was changed, to see it in action you have to reload the page."))+"\n\t")]):e._e(),e._v(" "),t("AppOrderSelector",{staticClass:"user-app-menu-order",attrs:{"aria-details":e.ariaDetailsAppOrder,value:e.appOrder},on:{"update:value":e.updateAppOrder}}),e._v(" "),t("NcButton",{attrs:{"data-test-id":"btn-apporder-reset",disabled:!e.hasCustomAppOrder,type:"tertiary"},on:{click:e.resetAppOrder},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconUndo",{attrs:{size:20}})]},proxy:!0}])},[e._v("\n\t\t"+e._s(e.t("theming","Reset default app order"))+"\n\t")])],1)}),[],!1,null,"33541eea",null).exports;var Dn={grad:.9,turn:360,rad:360/(2*Math.PI)},En=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},Tn=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},In=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},Nn=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Bn=function(e){return{r:In(e.r,0,255),g:In(e.g,0,255),b:In(e.b,0,255),a:In(e.a)}},On=function(e){return{r:Tn(e.r),g:Tn(e.g),b:Tn(e.b),a:Tn(e.a,3)}},Pn=/^#([0-9a-f]{3,8})$/i,Mn=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Fn=function(e){var t=e.r,n=e.g,o=e.b,r=e.a,a=Math.max(t,n,o),i=a-Math.min(t,n,o),l=i?a===t?(n-o)/i:a===n?2+(o-t)/i:4+(t-n)/i:0;return{h:60*(l<0?l+6:l),s:a?i/a*100:0,v:a/255*100,a:r}},Rn=function(e){var t=e.h,n=e.s,o=e.v,r=e.a;t=t/360*6,n/=100,o/=100;var a=Math.floor(t),i=o*(1-n),l=o*(1-(t-a)*n),s=o*(1-(1-t+a)*n),c=a%6;return{r:255*[o,l,i,i,s,o][c],g:255*[s,o,o,l,i,i][c],b:255*[i,i,s,o,o,l][c],a:r}},Ln=function(e){return{h:Nn(e.h),s:In(e.s,0,100),l:In(e.l,0,100),a:In(e.a)}},Un=function(e){return{h:Tn(e.h),s:Tn(e.s),l:Tn(e.l),a:Tn(e.a,3)}},Yn=function(e){return Rn((n=(t=e).s,{h:t.h,s:(n*=((o=t.l)<50?o:100-o)/100)>0?2*n/(o+n)*100:0,v:o+n,a:t.a}));var t,n,o},jn=function(e){return{h:(t=Fn(e)).h,s:(r=(200-(n=t.s))*(o=t.v)/100)>0&&r<200?n*o/100/(r<=100?r:200-r)*100:0,l:r/2,a:t.a};var t,n,o,r},$n=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hn=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zn=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Gn=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xn={string:[[function(e){var t=Pn.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?Tn(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?Tn(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=zn.exec(e)||Gn.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Bn({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=$n.exec(e)||Hn.exec(e);if(!t)return null;var n,o,r=Ln({h:(n=t[1],o=t[2],void 0===o&&(o="deg"),Number(n)*(Dn[o]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return Yn(r)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,o=e.b,r=e.a,a=void 0===r?1:r;return En(t)&&En(n)&&En(o)?Bn({r:Number(t),g:Number(n),b:Number(o),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,n=e.s,o=e.l,r=e.a,a=void 0===r?1:r;if(!En(t)||!En(n)||!En(o))return null;var i=Ln({h:Number(t),s:Number(n),l:Number(o),a:Number(a)});return Yn(i)},"hsl"],[function(e){var t=e.h,n=e.s,o=e.v,r=e.a,a=void 0===r?1:r;if(!En(t)||!En(n)||!En(o))return null;var i=function(e){return{h:Nn(e.h),s:In(e.s,0,100),v:In(e.v,0,100),a:In(e.a)}}({h:Number(t),s:Number(n),v:Number(o),a:Number(a)});return Rn(i)},"hsv"]]},Wn=function(e,t){for(var n=0;n<t.length;n++){var o=t[n][0](e);if(o)return[o,t[n][1]]}return[null,void 0]},qn=function(e,t){var n=jn(e);return{h:n.h,s:In(n.s+100*t,0,100),l:n.l,a:n.a}},Kn=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Vn=function(e,t){var n=jn(e);return{h:n.h,s:n.s,l:In(n.l+100*t,0,100),a:n.a}},Qn=function(){function e(e){this.parsed=function(e){return"string"==typeof e?Wn(e.trim(),Xn.string):"object"==typeof e&&null!==e?Wn(e,Xn.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return Tn(Kn(this.rgba),2)},e.prototype.isDark=function(){return Kn(this.rgba)<.5},e.prototype.isLight=function(){return Kn(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=On(this.rgba)).r,n=e.g,o=e.b,a=(r=e.a)<1?Mn(Tn(255*r)):"","#"+Mn(t)+Mn(n)+Mn(o)+a;var e,t,n,o,r,a},e.prototype.toRgb=function(){return On(this.rgba)},e.prototype.toRgbString=function(){return t=(e=On(this.rgba)).r,n=e.g,o=e.b,(r=e.a)<1?"rgba("+t+", "+n+", "+o+", "+r+")":"rgb("+t+", "+n+", "+o+")";var e,t,n,o,r},e.prototype.toHsl=function(){return Un(jn(this.rgba))},e.prototype.toHslString=function(){return t=(e=Un(jn(this.rgba))).h,n=e.s,o=e.l,(r=e.a)<1?"hsla("+t+", "+n+"%, "+o+"%, "+r+")":"hsl("+t+", "+n+"%, "+o+"%)";var e,t,n,o,r},e.prototype.toHsv=function(){return e=Fn(this.rgba),{h:Tn(e.h),s:Tn(e.s),v:Tn(e.v),a:Tn(e.a,3)};var e},e.prototype.invert=function(){return Jn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Jn(qn(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Jn(qn(this.rgba,-e))},e.prototype.grayscale=function(){return Jn(qn(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Jn(Vn(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Jn(Vn(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Jn({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Tn(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=jn(this.rgba);return"number"==typeof e?Jn({h:e,s:t.s,l:t.l,a:t.a}):Tn(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Jn(e).toHex()},e}(),Jn=function(e){return e instanceof Qn?e:new Qn(e)},Zn=o(59892);const eo={name:"UndoVariantIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},to=(0,A.A)(eo,(function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon undo-variant-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M13.5,7A6.5,6.5 0 0,1 20,13.5A6.5,6.5 0 0,1 13.5,20H10V18H13.5C16,18 18,16 18,13.5C18,11 16,9 13.5,9H7.83L10.91,12.09L9.5,13.5L4,8L9.5,2.5L10.92,3.91L7.83,7H13.5M6,18H8V20H6V18Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])}),[],!1,null,null,null).exports,{primaryColor:no,defaultPrimaryColor:oo}=(0,s.C)("theming","data",{primaryColor:"#0082c9",defaultPrimaryColor:"#0082c9"}),ro=(0,a.pM)({name:"UserPrimaryColor",components:{IconColorPalette:y,IconUndo:to,NcButton:sn.A,NcColorPicker:f.A,NcLoadingIcon:Zn.A},emits:["refresh-styles"],data:()=>({primaryColor:no,loading:!1}),computed:{isdefaultPrimaryColor(){return Jn(this.primaryColor).isEqual(Jn(oo))},debouncedOnUpdate(){return g()(this.onUpdate,1e3)}},methods:{t:Q.Tl,reload(){const e=this.$refs.trigger,t=window.getComputedStyle(e).backgroundColor;t.toLowerCase()!==this.primaryColor&&(this.primaryColor=t)},onReset(){this.primaryColor=oo,this.onUpdate(null)},async onUpdate(e){this.loading=!0;const t=(0,c.KT)("apps/provisioning_api/api/v1/config/users/{appId}/{configKey}",{appId:"theming",configKey:"primary_color"});try{e?await d.Ay.post(t,{configValue:e}):await d.Ay.delete(t),this.$emit("refresh-styles")}catch(e){console.error("Could not update primary color",e),(0,l.Qg)((0,Q.Tl)("theming","Could not set primary color"))}this.loading=!1}}}),ao=ro;var io=o(62756),lo={};lo.styleTagTransform=H(),lo.setAttributes=U(),lo.insert=R().bind(null,"head"),lo.domAPI=M(),lo.insertStyleElement=j(),O()(io.A,lo),io.A&&io.A.locals&&io.A.locals;const so=(0,A.A)(ao,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"primary-color__wrapper"},[t("NcColorPicker",{attrs:{"data-user-theming-primary-color":""},on:{"update:value":e.debouncedOnUpdate},model:{value:e.primaryColor,callback:function(t){e.primaryColor=t},expression:"primaryColor"}},[t("button",{ref:"trigger",staticClass:"color-container primary-color__trigger",style:{"background-color":e.primaryColor},attrs:{"data-user-theming-primary-color-trigger":""}},[e._v("\n\t\t\t"+e._s(e.t("theming","Primary color"))+"\n\t\t\t"),e.loading?t("NcLoadingIcon"):t("IconColorPalette",{attrs:{size:20}})],1)]),e._v(" "),t("NcButton",{attrs:{type:"tertiary",disabled:e.isdefaultPrimaryColor},on:{click:e.onReset},scopedSlots:e._u([{key:"icon",fn:function(){return[t("IconUndo",{attrs:{size:20}})]},proxy:!0}])},[e._v("\n\t\t"+e._s(e.t("theming","Reset primary color"))+"\n\t")])],1)}),[],!1,null,"617ee29e",null).exports,co=(0,s.C)("theming","themes",[]),uo=(0,s.C)("theming","enforceTheme",""),po=(0,s.C)("theming","shortcutsDisabled",!1),ho=(0,s.C)("theming","enableBlurFilter",""),go=(0,s.C)("theming","isUserThemingDisabled"),fo={name:"UserTheming",components:{ItemPreview:V,NcCheckboxRadioSwitch:u.A,NcSettingsSection:p.A,BackgroundSettings:X,UserAppMenuSection:Sn,UserPrimaryColor:so},data:()=>({availableThemes:co,enforceTheme:uo,shortcutsDisabled:po,isUserThemingDisabled:go,enableBlurFilter:ho}),computed:{themes(){return this.availableThemes.filter((e=>1===e.type))},fonts(){return this.availableThemes.filter((e=>2===e.type))},selectedTheme(){return this.themes.find((e=>!0===e.enabled))||this.themes[0]},description:()=>t("theming","Universal access is very important to us. We follow web standards and check to make everything usable also without mouse, and assistive software such as screenreaders. We aim to be compliant with the {linkstart}Web Content Accessibility Guidelines{linkend} 2.1 on AA level, with the high contrast theme even on AAA level.",{linkstart:'<a target="_blank" href="https://www.w3.org/WAI/standards-guidelines/wcag/" rel="noreferrer nofollow">',linkend:"</a>"},{escape:!1}),descriptionDetail:()=>t("theming","If you find any issues, do not hesitate to report them on {issuetracker}our issue tracker{linkend}. And if you want to get involved, come join {designteam}our design team{linkend}!",{issuetracker:'<a target="_blank" href="https://github.com/nextcloud/server/issues/" rel="noreferrer nofollow">',designteam:'<a target="_blank" href="https://nextcloud.com/design" rel="noreferrer nofollow">',linkend:"</a>"},{escape:!1})},watch:{shortcutsDisabled(e){this.changeShortcutsDisabled(e)}},methods:{async refreshGlobalStyles(){await i(),this.$nextTick((()=>this.$refs.primaryColor.reload()))},changeTheme(e){let{enabled:t,id:n}=e;this.themes.forEach((e=>{e.id===n&&t?e.enabled=!0:e.enabled=!1})),this.updateBodyAttributes(),this.selectItem(t,n)},changeFont(e){let{enabled:t,id:n}=e;this.fonts.forEach((e=>{e.id===n&&t?e.enabled=!0:e.enabled=!1})),this.updateBodyAttributes(),this.selectItem(t,n)},async changeShortcutsDisabled(e){e?await(0,d.Ay)({url:(0,c.KT)("apps/provisioning_api/api/v1/config/users/{appId}/{configKey}",{appId:"theming",configKey:"shortcuts_disabled"}),data:{configValue:"yes"},method:"POST"}):await(0,d.Ay)({url:(0,c.KT)("apps/provisioning_api/api/v1/config/users/{appId}/{configKey}",{appId:"theming",configKey:"shortcuts_disabled"}),method:"DELETE"})},async changeEnableBlurFilter(){this.enableBlurFilter="no"===this.enableBlurFilter?"yes":"no",await(0,d.Ay)({url:(0,c.KT)("apps/provisioning_api/api/v1/config/users/{appId}/{configKey}",{appId:"theming",configKey:"force_enable_blur_filter"}),data:{configValue:this.enableBlurFilter},method:"POST"}),this.$emit("update:background")},updateBodyAttributes(){const e=this.themes.filter((e=>!0===e.enabled)).map((e=>e.id)),t=this.fonts.filter((e=>!0===e.enabled)).map((e=>e.id));this.themes.forEach((e=>{document.body.toggleAttribute(`data-theme-${e.id}`,e.enabled)})),this.fonts.forEach((e=>{document.body.toggleAttribute(`data-theme-${e.id}`,e.enabled)})),document.body.setAttribute("data-themes",[...e,...t].join(","))},async selectItem(e,n){try{e?await(0,d.Ay)({url:(0,c.KT)("apps/theming/api/v1/theme/{themeId}/enable",{themeId:n}),method:"PUT"}):await(0,d.Ay)({url:(0,c.KT)("apps/theming/api/v1/theme/{themeId}",{themeId:n}),method:"DELETE"})}catch(e){console.error("theming: Unable to apply setting.",e);let n=t("theming","Unable to apply the setting.");(0,d.F0)(e)&&e.response.data.ocs?.meta?.message&&(n=`${e.response.data.ocs.meta.message}. ${n}`),(0,l.Qg)(n)}}}};var mo=o(70111),vo={};vo.styleTagTransform=H(),vo.setAttributes=U(),vo.insert=R().bind(null,"head"),vo.domAPI=M(),vo.insertStyleElement=j(),O()(mo.A,vo),mo.A&&mo.A.locals&&mo.A.locals;const Ao=(0,A.A)(fo,(function(){var e=this,t=e._self._c;return t("section",[t("NcSettingsSection",{staticClass:"theming",attrs:{name:e.t("theming","Appearance and accessibility settings")}},[t("p",{domProps:{innerHTML:e._s(e.description)}}),e._v(" "),t("p",{domProps:{innerHTML:e._s(e.descriptionDetail)}}),e._v(" "),t("div",{staticClass:"theming__preview-list"},e._l(e.themes,(function(n){return t("ItemPreview",{key:n.id,attrs:{enforced:n.id===e.enforceTheme,selected:e.selectedTheme.id===n.id,theme:n,unique:1===e.themes.length,type:"theme"},on:{change:e.changeTheme}})})),1),e._v(" "),t("div",{staticClass:"theming__preview-list"},e._l(e.fonts,(function(n){return t("ItemPreview",{key:n.id,attrs:{selected:n.enabled,theme:n,unique:1===e.fonts.length,type:"font"},on:{change:e.changeFont}})})),1),e._v(" "),t("h3",[e._v(e._s(e.t("theming","Misc accessibility options")))]),e._v(" "),t("NcCheckboxRadioSwitch",{attrs:{type:"checkbox",checked:"yes"===e.enableBlurFilter,indeterminate:""===e.enableBlurFilter},on:{"update:checked":e.changeEnableBlurFilter}},[e._v("\n\t\t\t"+e._s(e.t("theming","Enable blur background filter (may increase GPU load)"))+"\n\t\t")])],1),e._v(" "),t("NcSettingsSection",{attrs:{name:e.t("theming","Primary color"),description:e.isUserThemingDisabled?e.t("theming","Customization has been disabled by your administrator"):e.t("theming","Set a primary color to highlight important elements. The color used for elements such as primary buttons might differ a bit as it gets adjusted to fulfill accessibility requirements.")}},[e.isUserThemingDisabled?e._e():t("UserPrimaryColor",{ref:"primaryColor",on:{"refresh-styles":e.refreshGlobalStyles}})],1),e._v(" "),t("NcSettingsSection",{staticClass:"background",attrs:{name:e.t("theming","Background and color"),description:e.isUserThemingDisabled?e.t("theming","Customization has been disabled by your administrator"):e.t("theming","The background can be set to an image from the default set, a custom uploaded image, or a plain color.")}},[e.isUserThemingDisabled?e._e():t("BackgroundSettings",{staticClass:"background__grid",on:{"update:background":e.refreshGlobalStyles}})],1),e._v(" "),t("NcSettingsSection",{attrs:{name:e.t("theming","Keyboard shortcuts"),description:e.t("theming","In some cases keyboard shortcuts can interfere with accessibility tools. In order to allow focusing on your tool correctly you can disable all keyboard shortcuts here. This will also disable all available shortcuts in apps.")}},[t("NcCheckboxRadioSwitch",{staticClass:"theming__preview-toggle",attrs:{checked:e.shortcutsDisabled,type:"switch"},on:{"update:checked":function(t){e.shortcutsDisabled=t},change:e.changeShortcutsDisabled}},[e._v("\n\t\t\t"+e._s(e.t("theming","Disable all keyboard shortcuts"))+"\n\t\t")])],1),e._v(" "),t("UserAppMenuSection")],1)}),[],!1,null,"f0d7a498",null).exports;o.nc=(0,r.aV)(),a.Ay.prototype.OC=OC,a.Ay.prototype.t=t;const bo=new(a.Ay.extend(Ao));bo.$mount("#theming"),bo.$on("update:background",i)},70111:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(71354),r=n.n(o),a=n(76314),i=n.n(a)()(r());i.push([e.id,".theming p[data-v-f0d7a498]{max-width:800px}.theming[data-v-f0d7a498] a{font-weight:bold}.theming[data-v-f0d7a498] a:hover,.theming[data-v-f0d7a498] a:focus{text-decoration:underline}.theming__preview-list[data-v-f0d7a498]{--gap: 30px;display:grid;margin-top:var(--gap);column-gap:var(--gap);row-gap:var(--gap)}.background__grid[data-v-f0d7a498]{margin-top:30px}@media(max-width: 1440px){.theming__preview-list[data-v-f0d7a498]{display:flex;flex-direction:column}}","",{version:3,sources:["webpack://./apps/theming/src/UserTheming.vue"],names:[],mappings:"AAGC,4BACC,eAAA,CAID,4BACC,gBAAA,CAEA,oEAEC,yBAAA,CAIF,wCACC,WAAA,CACA,YAAA,CACA,qBAAA,CACA,qBAAA,CACA,kBAAA,CAKD,mCACC,eAAA,CAIF,0BACC,wCACC,YAAA,CACA,qBAAA,CAAA",sourceRoot:""}]);const l=i},42797:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(71354),r=n.n(o),a=n(76314),i=n.n(a)()(r());i.push([e.id,".order-selector[data-v-3c4840b5]{width:max-content;min-width:260px}","",{version:3,sources:["webpack://./apps/theming/src/components/AppOrderSelector.vue"],names:[],mappings:"AACA,iCACC,iBAAA,CACA,eAAA",sourceRoot:""}]);const l=i},30184:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(71354),r=n.n(o),a=n(76314),i=n.n(a)()(r());i.push([e.id,".order-selector-element[data-v-7898b8ac]{list-style:none;display:flex;flex-direction:row;align-items:center;gap:12px;padding-inline:12px}.order-selector-element[data-v-7898b8ac]:hover{background-color:var(--color-background-hover);border-radius:var(--border-radius-large)}.order-selector-element--disabled[data-v-7898b8ac]{border-color:var(--color-text-maxcontrast);color:var(--color-text-maxcontrast)}.order-selector-element--disabled .order-selector-element__icon[data-v-7898b8ac]{opacity:75%}.order-selector-element__actions[data-v-7898b8ac]{flex:0 0;display:flex;flex-direction:row;gap:6px}.order-selector-element__label[data-v-7898b8ac]{flex:1 1;text-overflow:ellipsis;overflow:hidden}.order-selector-element__placeholder[data-v-7898b8ac]{height:44px;width:44px}.order-selector-element__icon[data-v-7898b8ac]{filter:var(--background-invert-if-bright)}","",{version:3,sources:["webpack://./apps/theming/src/components/AppOrderSelectorElement.vue"],names:[],mappings:"AACA,yCAEC,eAAA,CAEA,YAAA,CACA,kBAAA,CACA,kBAAA,CAEA,QAAA,CACA,mBAAA,CAEA,+CACC,8CAAA,CACA,wCAAA,CAGD,mDACC,0CAAA,CACA,mCAAA,CAEA,iFACC,WAAA,CAIF,kDACC,QAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAGD,gDACC,QAAA,CACA,sBAAA,CACA,eAAA,CAGD,sDACC,WAAA,CACA,UAAA,CAGD,+CACC,yCAAA",sourceRoot:""}]);const l=i},28117:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(71354),r=n.n(o),a=n(76314),i=n.n(a)()(r());i.push([e.id,".background-selector[data-v-f1e28910]{display:flex;flex-wrap:wrap;justify-content:center}.background-selector .background-color[data-v-f1e28910]{display:flex;justify-content:center;align-items:center;width:176px;height:96px;margin:8px;border-radius:var(--border-radius-large);background-color:var(--color-primary)}.background-selector .background[data-v-f1e28910]{overflow:hidden;width:176px;height:96px;margin:8px;text-align:center;word-wrap:break-word;hyphens:auto;border:2px solid var(--color-main-background);border-radius:var(--border-radius-large);background-position:center center;background-size:cover}.background-selector .background__filepicker[data-v-f1e28910]{background-color:var(--color-background-dark)}.background-selector .background__filepicker.background--active[data-v-f1e28910]{color:var(--color-background-plain-text);background-image:var(--image-background)}.background-selector .background__default[data-v-f1e28910]{background-color:var(--color-background-plain);background-image:linear-gradient(to bottom, rgba(23, 23, 23, 0.5), rgba(23, 23, 23, 0.5)),var(--16c5c0e1)}.background-selector .background__filepicker[data-v-f1e28910],.background-selector .background__default[data-v-f1e28910],.background-selector .background__color[data-v-f1e28910]{border-color:var(--color-border)}.background-selector .background__default[data-v-f1e28910],.background-selector .background__shipped[data-v-f1e28910]{color:#fff}.background-selector .background[data-color-bright][data-v-f1e28910]{color:#000}.background-selector .background--active[data-v-f1e28910],.background-selector .background[data-v-f1e28910]:hover,.background-selector .background[data-v-f1e28910]:focus{outline:2px solid var(--color-main-text) !important;border-color:var(--color-main-background) !important}.background-selector .background span[data-v-f1e28910]{margin:4px}.background-selector .background .check-icon[data-v-f1e28910]{display:none}.background-selector .background--active:not(.icon-loading) .check-icon[data-v-f1e28910]{display:block !important}","",{version:3,sources:["webpack://./apps/theming/src/components/BackgroundSettings.vue"],names:[],mappings:"AACA,sCACC,YAAA,CACA,cAAA,CACA,sBAAA,CAEA,wDACC,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,WAAA,CACA,WAAA,CACA,UAAA,CACA,wCAAA,CACA,qCAAA,CAGD,kDACC,eAAA,CACA,WAAA,CACA,WAAA,CACA,UAAA,CACA,iBAAA,CACA,oBAAA,CACA,YAAA,CACA,6CAAA,CACA,wCAAA,CACA,iCAAA,CACA,qBAAA,CAEA,8DACC,6CAAA,CAEA,iFACC,wCAAA,CACA,wCAAA,CAIF,2DACC,8CAAA,CACA,yGAAA,CAGD,kLACC,gCAAA,CAID,sHAEC,UAAA,CAID,qEACC,UAAA,CAGD,0KAGC,mDAAA,CACA,oDAAA,CAID,uDACC,UAAA,CAGD,8DACC,YAAA,CAIA,yFAEC,wBAAA",sourceRoot:""}]);const l=i},92135:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(71354),r=n.n(o),a=n(76314),i=n.n(a)()(r());i.push([e.id,".theming__preview[data-v-5ffe61a6]{--ratio: 16;position:relative;display:flex;justify-content:flex-start}.theming__preview[data-v-5ffe61a6],.theming__preview *[data-v-5ffe61a6]{user-select:none}.theming__preview-image[data-v-5ffe61a6]{flex-basis:calc(16px*var(--ratio));flex-shrink:0;height:calc(10px*var(--ratio));margin-inline-end:var(--gap);cursor:pointer;border-radius:var(--border-radius);background-repeat:no-repeat;background-position:top left;background-size:cover}.theming__preview-explanation[data-v-5ffe61a6]{margin-bottom:10px}.theming__preview-description[data-v-5ffe61a6]{display:flex;flex-direction:column}.theming__preview-description h3[data-v-5ffe61a6]{font-weight:bold;margin-bottom:0}.theming__preview-description label[data-v-5ffe61a6]{padding:12px 0}.theming__preview-warning[data-v-5ffe61a6]{color:var(--color-warning)}@media(max-width: 682.6666666667px){.theming__preview[data-v-5ffe61a6]{flex-direction:column}.theming__preview-image[data-v-5ffe61a6]{margin:0}}","",{version:3,sources:["webpack://./apps/theming/src/components/ItemPreview.vue"],names:[],mappings:"AAGA,mCAEC,WAAA,CACA,iBAAA,CACA,YAAA,CACA,0BAAA,CAEA,wEAEC,gBAAA,CAGD,yCACC,kCAAA,CACA,aAAA,CACA,8BAAA,CACA,4BAAA,CACA,cAAA,CACA,kCAAA,CACA,2BAAA,CACA,4BAAA,CACA,qBAAA,CAGD,+CACC,kBAAA,CAGD,+CACC,YAAA,CACA,qBAAA,CAEA,kDACC,gBAAA,CACA,eAAA,CAGD,qDACC,cAAA,CAIF,2CACC,0BAAA,CAIF,oCACC,mCACC,qBAAA,CAEA,yCACC,QAAA,CAAA",sourceRoot:""}]);const l=i},89869:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(71354),r=n.n(o),a=n(76314),i=n.n(a)()(r());i.push([e.id,".user-app-menu-order[data-v-33541eea]{margin-block:12px}","",{version:3,sources:["webpack://./apps/theming/src/components/UserAppMenuSection.vue"],names:[],mappings:"AACA,sCACC,iBAAA",sourceRoot:""}]);const l=i},62756:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(71354),r=n.n(o),a=n(76314),i=n.n(a)()(r());i.push([e.id,".primary-color__wrapper[data-v-617ee29e]{display:flex;flex-direction:row;flex-wrap:wrap;gap:12px}.primary-color__trigger[data-v-617ee29e]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;background-color:var(--color-primary);color:var(--color-primary-text);width:350px;max-width:100vw;height:96px;word-wrap:break-word;hyphens:auto;border:2px solid var(--color-main-background);border-radius:var(--border-radius-large)}.primary-color__trigger[data-v-617ee29e]:active{background-color:var(--color-primary-hover) !important}.primary-color__trigger[data-v-617ee29e]:hover,.primary-color__trigger[data-v-617ee29e]:focus,.primary-color__trigger[data-v-617ee29e]:focus-visible{border-color:var(--color-main-background) !important;outline:2px solid var(--color-main-text) !important}","",{version:3,sources:["webpack://./apps/theming/src/components/UserPrimaryColor.vue"],names:[],mappings:"AAEC,yCACC,YAAA,CACA,kBAAA,CACA,cAAA,CACA,QAAA,CAGD,yCACC,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,OAAA,CAEA,qCAAA,CACA,+BAAA,CACA,WAAA,CACA,eAAA,CACA,WAAA,CAEA,oBAAA,CACA,YAAA,CAEA,6CAAA,CACA,wCAAA,CAEA,gDACC,sDAAA,CAGD,qJAGC,oDAAA,CACA,mDAAA",sourceRoot:""}]);const l=i}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=r,e=[],i.O=(t,n,o,r)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],r=e[d][2];for(var l=!0,s=0;s<n.length;s++)(!1&r||a>=r)&&Object.keys(i.O).every((e=>i.O[e](n[s])))?n.splice(s--,1):(l=!1,r<a&&(a=r));if(l){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+"-"+e+".js?v="+{2441:"abb0f9caea1b27348963",5862:"142cd48ca8ec32e57725",9904:"a48e2d9b44aa4db82a9e"}[e],i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},o="nextcloud:",i.l=(e,t,r,a)=>{if(n[e])n[e].push(t);else{var l,s;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==o+r){l=u;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.setAttribute("data-webpack",o+r),l.src=e),n[e]=[t];var p=(t,o)=>{l.onerror=l.onload=null,clearTimeout(h);var r=n[e];if(delete n[e],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((e=>e(o))),t)return t(o)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),s&&document.head.appendChild(l)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.j=6673,(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i.b=document.baseURI||self.location.href;var e={6673:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var a=i.p+i.u(t),l=new Error;i.l(a,(n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,o[1](l)}}),"chunk-"+t,t)}},i.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,a=n[0],l=n[1],s=n[2],c=0;if(a.some((t=>0!==e[t]))){for(o in l)i.o(l,o)&&(i.m[o]=l[o]);if(s)var d=s(i)}for(t&&t(n);c<a.length;c++)r=a[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},n=self.webpackChunknextcloud=self.webpackChunknextcloud||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i.nc=void 0;var l=i.O(void 0,[4208],(()=>i(45791)));l=i.O(l)})();
//# sourceMappingURL=theming-personal-theming.js.map?v=09b523dc930b65916846