{"version":3,"mappings":"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","names":["register","_hoisted_1","_hoisted_2","_sfc_main","defineComponent","mergeModels","createElementId","t","__props","modelValue","useModel","props","formattedValue","computed","formatValue","formattedMax","formattedMin","getReadableDate","value","yyyy","MM","dd","hh","mm","startDate","daysSinceBeginningOfYear","weekNumber","onInput","event","input","time","timezoneOffsetSeconds","inputDateWithTimezone","_ctx","_cache","openBlock","createElementBlock","normalizeClass","createElementVNode","toDisplayString","mergeProps","NcDateTimePickerNative","_export_sfc","t48","NcPasswordField","_sfc_main$1","defineAsyncComponent","__vitePreload","n","index","ActionGlobalMixin","id","type","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_sfc_render","$props","$setup","$data","$options","_component_NcDateTimePicker","resolveComponent","_component_NcDateTimePickerNative","_component_NcSelect","_component_NcPasswordField","_component_NcColorPicker","_component_NcTextField","args","renderSlot","normalizeStyle","withModifiers","createCommentVNode","createBlock","createVNode","$event","withCtx","NcActionInput","has","prefix","Events","EE","fn","context","once","addListener","emitter","listener","evt","clearEvent","EventEmitter","names","events","name","handlers","i","l","ee","listeners","a1","a2","a3","a4","a5","len","length","j","module","TimeoutError","message","options","getAbortedReason","signal","pTimeout","promise","milliseconds","fallback","customTimers","timer","abortHandler","cancelablePromise","resolve","reject","timeoutError","error","lowerBound","array","comparator","first","count","step","it","PriorityQueue","#queue","run","priority","element","a","b","item","PQueue","#carryoverIntervalCount","#isIntervalIgnored","#intervalCount","#intervalCap","#rateLimitedInInterval","#rateLimitFlushScheduled","#interval","#intervalEnd","#lastExecutionTime","#intervalId","#timeoutId","#queueClass","#pending","#concurrency","#isPaused","#idAssigner","#runningTasks","#setupRateLimitTracking","#doesIntervalAllowAnother","#doesConcurrentAllowAnother","#next","#tryToStartAnother","#onResumeInterval","#onInterval","#initializeIntervalIfNeeded","#isIntervalPaused","now","delay","timeSinceLastExecution","#createIntervalTimeout","#clearIntervalTimer","#clearTimeoutTimer","taskStarted","canInitializeInterval","job","#scheduleRateLimitUpdate","#processQueue","newConcurrency","function_","taskSymbol","eventListener","operation","_resolve","result","functions","#updateRateLimitState","#onEvent","limit","handleError","filter","previous","shouldBeRateLimited","task"],"ignoreList":[0,1,2,3,4,5,6],"sources":["../node_modules/@nextcloud/vue/dist/chunks/NcDateTimePickerNative-DXF3-uR3.mjs","../node_modules/@nextcloud/vue/dist/chunks/NcActionInput-uL5aa-A2.mjs","../node_modules/eventemitter3/index.js","../node_modules/p-timeout/index.js","../node_modules/p-queue/dist/lower-bound.js","../node_modules/p-queue/dist/priority-queue.js","../node_modules/p-queue/dist/index.js"],"sourcesContent":["import '../assets/NcDateTimePickerNative-BP6eg8aU.css';\nimport { defineComponent, mergeModels, useModel, computed, createElementBlock, openBlock, normalizeClass, createElementVNode, toDisplayString, mergeProps } from \"vue\";\nimport { r as register, a as t } from \"./_l10n-DrTiip5c.mjs\";\nimport { c as createElementId } from \"./createElementId-DhjFt1I9.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nregister();\nconst _hoisted_1 = [\"for\"];\nconst _hoisted_2 = [\"id\", \"type\", \"value\", \"min\", \"max\"];\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...{ inheritAttrs: false },\n  __name: \"NcDateTimePickerNative\",\n  props: /* @__PURE__ */ mergeModels({\n    class: { default: void 0 },\n    id: { default: () => createElementId() },\n    inputClass: { default: \"\" },\n    type: { default: \"date\" },\n    label: { default: () => t(\"Please choose a date\") },\n    min: { default: null },\n    max: { default: null },\n    hideLabel: { type: Boolean }\n  }, {\n    \"modelValue\": { default: null },\n    \"modelModifiers\": {}\n  }),\n  emits: [\"update:modelValue\"],\n  setup(__props) {\n    const modelValue = useModel(__props, \"modelValue\");\n    const props = __props;\n    const formattedValue = computed(() => modelValue.value ? formatValue(modelValue.value) : \"\");\n    const formattedMax = computed(() => props.max ? formatValue(props.max) : void 0);\n    const formattedMin = computed(() => props.min ? formatValue(props.min) : void 0);\n    function getReadableDate(value) {\n      const yyyy = value.getFullYear().toString().padStart(4, \"0\");\n      const MM = (value.getMonth() + 1).toString().padStart(2, \"0\");\n      const dd = value.getDate().toString().padStart(2, \"0\");\n      const hh = value.getHours().toString().padStart(2, \"0\");\n      const mm = value.getMinutes().toString().padStart(2, \"0\");\n      return { yyyy, MM, dd, hh, mm };\n    }\n    function formatValue(value) {\n      const { yyyy, MM, dd, hh, mm } = getReadableDate(value);\n      if (props.type === \"datetime-local\") {\n        return `${yyyy}-${MM}-${dd}T${hh}:${mm}`;\n      } else if (props.type === \"date\") {\n        return `${yyyy}-${MM}-${dd}`;\n      } else if (props.type === \"month\") {\n        return `${yyyy}-${MM}`;\n      } else if (props.type === \"time\") {\n        return `${hh}:${mm}`;\n      } else if (props.type === \"week\") {\n        const startDate = new Date(Number.parseInt(yyyy), 0, 1);\n        const daysSinceBeginningOfYear = Math.floor((value.getTime() - startDate.getTime()) / (24 * 60 * 60 * 1e3));\n        const weekNumber = Math.ceil(daysSinceBeginningOfYear / 7);\n        return `${yyyy}-W${weekNumber}`;\n      }\n      return \"\";\n    }\n    function onInput(event) {\n      const input = event.target;\n      if (!input || isNaN(input.valueAsNumber)) {\n        modelValue.value = null;\n      } else if (props.type === \"time\") {\n        const time = input.value;\n        const { yyyy, MM, dd } = getReadableDate(modelValue.value || /* @__PURE__ */ new Date());\n        modelValue.value = /* @__PURE__ */ new Date(`${yyyy}-${MM}-${dd}T${time}`);\n      } else if (props.type === \"month\") {\n        const MM = (new Date(input.value).getMonth() + 1).toString().padStart(2, \"0\");\n        const { yyyy, dd, hh, mm } = getReadableDate(modelValue.value || /* @__PURE__ */ new Date());\n        modelValue.value = /* @__PURE__ */ new Date(`${yyyy}-${MM}-${dd}T${hh}:${mm}`);\n      } else {\n        const timezoneOffsetSeconds = new Date(input.valueAsNumber).getTimezoneOffset() * 1e3 * 60;\n        const inputDateWithTimezone = input.valueAsNumber + timezoneOffsetSeconds;\n        modelValue.value = new Date(inputDateWithTimezone);\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([\"native-datetime-picker\", _ctx.$props.class])\n      }, [\n        createElementVNode(\"label\", {\n          class: normalizeClass([\"native-datetime-picker__label\", { \"hidden-visually\": _ctx.hideLabel }]),\n          for: _ctx.id\n        }, toDisplayString(_ctx.label), 11, _hoisted_1),\n        createElementVNode(\"input\", mergeProps({\n          id: _ctx.id,\n          class: [\"native-datetime-picker__input\", _ctx.inputClass],\n          type: _ctx.type,\n          value: formattedValue.value,\n          min: formattedMin.value,\n          max: formattedMax.value\n        }, _ctx.$attrs, { onInput }), null, 16, _hoisted_2)\n      ], 2);\n    };\n  }\n});\nconst NcDateTimePickerNative = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-b97e1f7a\"]]);\nexport {\n  NcDateTimePickerNative as N\n};\n//# sourceMappingURL=NcDateTimePickerNative-DXF3-uR3.mjs.map\n","import '../assets/NcActionInput-BxRA_Skn.css';\nimport { defineAsyncComponent, resolveComponent, createElementBlock, openBlock, normalizeClass, createElementVNode, renderSlot, normalizeStyle, withModifiers, createCommentVNode, toDisplayString, createBlock, mergeProps, createVNode, withCtx } from \"vue\";\nimport { r as register, h as t48, a as t } from \"./_l10n-DrTiip5c.mjs\";\nimport { A as ActionGlobalMixin } from \"./actionGlobal-BZFdtdJL.mjs\";\nimport { c as createElementId } from \"./createElementId-DhjFt1I9.mjs\";\nimport { N as NcDateTimePickerNative } from \"./NcDateTimePickerNative-DXF3-uR3.mjs\";\nimport { N as NcPasswordField } from \"./NcPasswordField-djttkA5Q.mjs\";\nimport { _ as _sfc_main$1 } from \"./NcTextField.vue_vue_type_script_setup_true_lang-D1y_LfGJ.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nregister(t48);\nconst _sfc_main = {\n  name: \"NcActionInput\",\n  components: {\n    NcDateTimePickerNative,\n    NcPasswordField,\n    NcTextField: _sfc_main$1,\n    // Lazy load components with more than 50kB bundle size impact\n    NcColorPicker: defineAsyncComponent(() => import(\"../components/NcColorPicker/index.mjs\")),\n    NcDateTimePicker: defineAsyncComponent(() => import(\"../components/NcDateTimePicker/index.mjs\")),\n    NcSelect: defineAsyncComponent(() => import(\"../components/NcSelect/index.mjs\"))\n  },\n  mixins: [ActionGlobalMixin],\n  inheritAttrs: false,\n  props: {\n    /**\n     * id attribute of the checkbox element\n     */\n    id: {\n      type: String,\n      default: () => \"action-\" + createElementId(),\n      validator: (id) => id.trim() !== \"\"\n    },\n    /**\n     * id attribute of the text input element\n     */\n    inputId: {\n      type: String,\n      default: () => \"action-input-\" + createElementId(),\n      validator: (id) => id.trim() !== \"\"\n    },\n    /**\n     * Icon to show with the action, can be either a CSS class or an URL\n     */\n    icon: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * type attribute of the input field\n     */\n    type: {\n      type: String,\n      default: \"text\",\n      validator(type) {\n        return [\n          \"date\",\n          \"datetime-local\",\n          \"month\",\n          \"multiselect\",\n          \"number\",\n          \"password\",\n          \"search\",\n          \"tel\",\n          \"text\",\n          \"time\",\n          \"url\",\n          \"week\",\n          \"color\",\n          \"email\"\n        ].includes(type);\n      }\n    },\n    /**\n     * id attribute for the native date time picker\n     */\n    idNativeDateTimePicker: {\n      type: String,\n      default: \"date-time-picker_id\"\n    },\n    /**\n     * Flag to use a native date time picker\n     */\n    isNativePicker: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * The visible input label for accessibility purposes.\n     */\n    label: {\n      type: String,\n      default: null\n    },\n    /**\n     * If you want to show the label just above the\n     * input field, pass in `true` to this prop.\n     */\n    labelOutside: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * value attribute of the input field\n     */\n    modelValue: {\n      type: [String, Date, Number, Array],\n      default: \"\"\n    },\n    /**\n     * disabled state of the input field\n     */\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * aria-label attribute of the input field\n     */\n    ariaLabel: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Attribute forwarded to the underlying NcPasswordField and NcTextField\n     */\n    showTrailingButton: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Trailing button label forwarded to the underlying NcTextField\n     */\n    trailingButtonLabel: {\n      type: String,\n      default: t(\"Submit\")\n    },\n    /**\n     * CSS class to apply to the root element.\n     */\n    class: {\n      type: [String, Array, Object],\n      default: \"\"\n    }\n  },\n  emits: [\n    \"submit\",\n    \"update:modelValue\"\n  ],\n  computed: {\n    isIconUrl() {\n      try {\n        return new URL(this.icon);\n      } catch {\n        return false;\n      }\n    },\n    isMultiselectType() {\n      return this.type === \"multiselect\";\n    },\n    nativeDatePickerType() {\n      switch (this.type) {\n        case \"date\":\n        case \"month\":\n        case \"time\":\n        case \"week\":\n        case \"datetime-local\":\n          return this.type;\n      }\n      return false;\n    },\n    datePickerType() {\n      if (!this.isNativePicker) {\n        switch (this.type) {\n          case \"date\":\n          case \"month\":\n          case \"time\":\n            return this.type;\n          case \"datetime-local\":\n            return \"datetime\";\n        }\n      }\n      return false;\n    },\n    /**\n     * determines if the action is focusable\n     *\n     * @return {boolean} is the action focusable ?\n     */\n    isFocusable() {\n      return !this.disabled;\n    }\n  },\n  methods: {\n    // closing datepicker popup on mouseleave = unfocus\n    onLeave() {\n      if (this.$refs.datetimepicker && this.$refs.datetimepicker.$refs.datepicker) {\n        this.$refs.datetimepicker.$refs.datepicker.closePopup();\n      }\n    },\n    onSubmit(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (!this.disabled) {\n        this.$emit(\"submit\", event);\n      } else {\n        return false;\n      }\n    },\n    onUpdateModelValue(event) {\n      this.$emit(\"update:modelValue\", event);\n    }\n  }\n};\nconst _hoisted_1 = { class: \"action-input__icon-wrapper\" };\nconst _hoisted_2 = [\"disabled\"];\nconst _hoisted_3 = { class: \"action-input__container\" };\nconst _hoisted_4 = [\"for\"];\nconst _hoisted_5 = { class: \"action-input__input-container\" };\nconst _hoisted_6 = {\n  key: 4,\n  class: \"action-input__container\"\n};\nconst _hoisted_7 = [\"for\"];\nconst _hoisted_8 = { class: \"action-input__input-container\" };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NcDateTimePicker = resolveComponent(\"NcDateTimePicker\");\n  const _component_NcDateTimePickerNative = resolveComponent(\"NcDateTimePickerNative\");\n  const _component_NcSelect = resolveComponent(\"NcSelect\");\n  const _component_NcPasswordField = resolveComponent(\"NcPasswordField\");\n  const _component_NcColorPicker = resolveComponent(\"NcColorPicker\");\n  const _component_NcTextField = resolveComponent(\"NcTextField\");\n  return openBlock(), createElementBlock(\"li\", {\n    class: normalizeClass([\"action\", [{ \"action--disabled\": $props.disabled }, _ctx.$props.class]])\n  }, [\n    createElementVNode(\"span\", {\n      class: normalizeClass([\"action-input\", {\n        \"action-input-picker--disabled\": $props.disabled,\n        \"action-input--visible-label\": $props.labelOutside && $props.label\n      }]),\n      onMouseleave: _cache[3] || (_cache[3] = (...args) => $options.onLeave && $options.onLeave(...args))\n    }, [\n      createElementVNode(\"span\", _hoisted_1, [\n        renderSlot(_ctx.$slots, \"icon\", {}, () => [\n          createElementVNode(\"span\", {\n            \"aria-hidden\": \"true\",\n            class: normalizeClass([\"action-input__icon\", [$options.isIconUrl ? \"action-input__icon--url\" : $props.icon]]),\n            style: normalizeStyle({ backgroundImage: $options.isIconUrl ? `url(${$props.icon})` : null })\n          }, null, 6)\n        ], true)\n      ]),\n      createElementVNode(\"form\", {\n        ref: \"form\",\n        class: \"action-input__form\",\n        disabled: $props.disabled,\n        onSubmit: _cache[2] || (_cache[2] = withModifiers((...args) => $options.onSubmit && $options.onSubmit(...args), [\"prevent\"]))\n      }, [\n        createElementVNode(\"div\", _hoisted_3, [\n          $props.label && $props.labelOutside && !$props.isNativePicker ? (openBlock(), createElementBlock(\"label\", {\n            key: 0,\n            class: normalizeClass([\"action-input__text-label\", { \"action-input__text-label--hidden\": !$props.labelOutside }]),\n            for: $props.inputId\n          }, toDisplayString($props.label), 11, _hoisted_4)) : createCommentVNode(\"\", true),\n          createElementVNode(\"div\", _hoisted_5, [\n            $options.datePickerType ? (openBlock(), createBlock(_component_NcDateTimePicker, mergeProps({\n              key: 0,\n              ref: \"datetimepicker\",\n              \"model-value\": $props.modelValue,\n              style: { \"z-index\": \"99999999999\" },\n              placeholder: _ctx.text,\n              disabled: $props.disabled,\n              type: $options.datePickerType,\n              \"input-class\": [\"mx-input\", { focusable: $options.isFocusable }],\n              class: \"action-input__datetimepicker\",\n              \"append-to-body\": \"\"\n            }, _ctx.$attrs, { \"onUpdate:modelValue\": $options.onUpdateModelValue }), null, 16, [\"model-value\", \"placeholder\", \"disabled\", \"type\", \"input-class\", \"onUpdate:modelValue\"])) : $props.isNativePicker ? (openBlock(), createBlock(_component_NcDateTimePickerNative, mergeProps({\n              key: 1,\n              id: $props.idNativeDateTimePicker,\n              \"model-value\": $props.modelValue,\n              label: $props.label,\n              type: $options.nativeDatePickerType,\n              \"input-class\": { focusable: $options.isFocusable },\n              class: \"action-input__datetimepicker\"\n            }, _ctx.$attrs, { \"onUpdate:modelValue\": $options.onUpdateModelValue }), null, 16, [\"id\", \"model-value\", \"label\", \"type\", \"input-class\", \"onUpdate:modelValue\"])) : $options.isMultiselectType ? (openBlock(), createBlock(_component_NcSelect, mergeProps({\n              key: 2,\n              \"model-value\": $props.modelValue,\n              placeholder: _ctx.text,\n              disabled: $props.disabled,\n              \"append-to-body\": false,\n              \"input-class\": { focusable: $options.isFocusable },\n              class: \"action-input__multi\"\n            }, _ctx.$attrs, { \"onUpdate:modelValue\": $options.onUpdateModelValue }), null, 16, [\"model-value\", \"placeholder\", \"disabled\", \"input-class\", \"onUpdate:modelValue\"])) : $props.type === \"password\" ? (openBlock(), createBlock(_component_NcPasswordField, mergeProps({\n              key: 3,\n              id: $props.inputId,\n              \"model-value\": $props.modelValue,\n              label: $props.label,\n              \"label-outside\": !$props.label || $props.labelOutside,\n              placeholder: _ctx.text,\n              disabled: $props.disabled,\n              \"input-class\": { focusable: $options.isFocusable },\n              \"show-trailing-button\": $props.showTrailingButton && !$props.disabled\n            }, _ctx.$attrs, { \"onUpdate:modelValue\": $options.onUpdateModelValue }), null, 16, [\"id\", \"model-value\", \"label\", \"label-outside\", \"placeholder\", \"disabled\", \"input-class\", \"show-trailing-button\", \"onUpdate:modelValue\"])) : $props.type === \"color\" ? (openBlock(), createElementBlock(\"div\", _hoisted_6, [\n              $props.label && $props.type === \"color\" ? (openBlock(), createElementBlock(\"label\", {\n                key: 0,\n                class: normalizeClass([\"action-input__text-label\", { \"action-input__text-label--hidden\": !$props.labelOutside }]),\n                for: $props.inputId\n              }, toDisplayString($props.label), 11, _hoisted_7)) : createCommentVNode(\"\", true),\n              createElementVNode(\"div\", _hoisted_8, [\n                createVNode(_component_NcColorPicker, mergeProps({\n                  id: \"inputId\",\n                  \"model-value\": $props.modelValue,\n                  class: \"colorpicker__trigger\"\n                }, _ctx.$attrs, {\n                  \"onUpdate:modelValue\": $options.onUpdateModelValue,\n                  onSubmit: _cache[0] || (_cache[0] = ($event) => _ctx.$refs.form.requestSubmit())\n                }), {\n                  default: withCtx(() => [\n                    createElementVNode(\"button\", {\n                      class: normalizeClass([\"colorpicker__preview\", { focusable: $options.isFocusable }]),\n                      style: normalizeStyle({ \"background-color\": $props.modelValue })\n                    }, null, 6)\n                  ]),\n                  _: 1\n                }, 16, [\"model-value\", \"onUpdate:modelValue\"])\n              ])\n            ])) : (openBlock(), createBlock(_component_NcTextField, mergeProps({\n              key: 5,\n              id: $props.inputId,\n              \"model-value\": $props.modelValue,\n              label: $props.label,\n              \"label-outside\": !$props.label || $props.labelOutside,\n              placeholder: _ctx.text,\n              disabled: $props.disabled,\n              \"input-class\": { focusable: $options.isFocusable },\n              type: $props.type,\n              \"trailing-button-icon\": \"arrowRight\",\n              \"trailing-button-label\": $props.trailingButtonLabel,\n              \"show-trailing-button\": $props.showTrailingButton && !$props.disabled\n            }, _ctx.$attrs, {\n              onTrailingButtonClick: _cache[1] || (_cache[1] = ($event) => _ctx.$refs.form.requestSubmit()),\n              \"onUpdate:modelValue\": $options.onUpdateModelValue\n            }), null, 16, [\"id\", \"model-value\", \"label\", \"label-outside\", \"placeholder\", \"disabled\", \"input-class\", \"type\", \"trailing-button-label\", \"show-trailing-button\", \"onUpdate:modelValue\"]))\n          ])\n        ])\n      ], 40, _hoisted_2)\n    ], 34)\n  ], 2);\n}\nconst NcActionInput = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__scopeId\", \"data-v-67b3d681\"]]);\nexport {\n  NcActionInput as N\n};\n//# sourceMappingURL=NcActionInput-uL5aa-A2.mjs.map\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","export class TimeoutError extends Error {\n\tname = 'TimeoutError';\n\n\tconstructor(message, options) {\n\t\tsuper(message, options);\n\t\tError.captureStackTrace?.(this, TimeoutError);\n\t}\n}\n\nconst getAbortedReason = signal => signal.reason ?? new DOMException('This operation was aborted.', 'AbortError');\n\nexport default function pTimeout(promise, options) {\n\tconst {\n\t\tmilliseconds,\n\t\tfallback,\n\t\tmessage,\n\t\tcustomTimers = {setTimeout, clearTimeout},\n\t\tsignal,\n\t} = options;\n\n\tlet timer;\n\tlet abortHandler;\n\n\tconst wrappedPromise = new Promise((resolve, reject) => {\n\t\tif (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n\t\t\tthrow new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n\t\t}\n\n\t\tif (signal?.aborted) {\n\t\t\treject(getAbortedReason(signal));\n\t\t\treturn;\n\t\t}\n\n\t\tif (signal) {\n\t\t\tabortHandler = () => {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t};\n\n\t\t\tsignal.addEventListener('abort', abortHandler, {once: true});\n\t\t}\n\n\t\t// Use .then() instead of async IIFE to preserve stack traces\n\t\t// eslint-disable-next-line promise/prefer-await-to-then, promise/prefer-catch\n\t\tpromise.then(resolve, reject);\n\n\t\tif (milliseconds === Number.POSITIVE_INFINITY) {\n\t\t\treturn;\n\t\t}\n\n\t\t// We create the error outside of `setTimeout` to preserve the stack trace.\n\t\tconst timeoutError = new TimeoutError();\n\n\t\t// `.call(undefined, ...)` is needed for custom timers to avoid context issues\n\t\ttimer = customTimers.setTimeout.call(undefined, () => {\n\t\t\tif (fallback) {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(fallback());\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (typeof promise.cancel === 'function') {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\n\t\t\tif (message === false) {\n\t\t\t\tresolve();\n\t\t\t} else if (message instanceof Error) {\n\t\t\t\treject(message);\n\t\t\t} else {\n\t\t\t\ttimeoutError.message = message ?? `Promise timed out after ${milliseconds} milliseconds`;\n\t\t\t\treject(timeoutError);\n\t\t\t}\n\t\t}, milliseconds);\n\t});\n\n\t// eslint-disable-next-line promise/prefer-await-to-then\n\tconst cancelablePromise = wrappedPromise.finally(() => {\n\t\tcancelablePromise.clear();\n\t\tif (abortHandler && signal) {\n\t\t\tsignal.removeEventListener('abort', abortHandler);\n\t\t}\n\t});\n\n\tcancelablePromise.clear = () => {\n\t\t// `.call(undefined, ...)` is needed for custom timers to avoid context issues\n\t\tcustomTimers.clearTimeout.call(undefined, timer);\n\t\ttimer = undefined;\n\t};\n\n\treturn cancelablePromise;\n}\n","// Port of lower_bound from https://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nexport default function lowerBound(array, value, comparator) {\n    let first = 0;\n    let count = array.length;\n    while (count > 0) {\n        const step = Math.trunc(count / 2);\n        let it = first + step;\n        if (comparator(array[it], value) <= 0) {\n            first = ++it;\n            count -= step + 1;\n        }\n        else {\n            count = step;\n        }\n    }\n    return first;\n}\n","import lowerBound from './lower-bound.js';\nexport default class PriorityQueue {\n    #queue = [];\n    enqueue(run, options) {\n        const { priority = 0, id, } = options ?? {};\n        const element = {\n            priority,\n            id,\n            run,\n        };\n        if (this.size === 0 || this.#queue[this.size - 1].priority >= priority) {\n            this.#queue.push(element);\n            return;\n        }\n        const index = lowerBound(this.#queue, element, (a, b) => b.priority - a.priority);\n        this.#queue.splice(index, 0, element);\n    }\n    setPriority(id, priority) {\n        const index = this.#queue.findIndex((element) => element.id === id);\n        if (index === -1) {\n            throw new ReferenceError(`No promise function with the id \"${id}\" exists in the queue.`);\n        }\n        const [item] = this.#queue.splice(index, 1);\n        this.enqueue(item.run, { priority, id });\n    }\n    dequeue() {\n        const item = this.#queue.shift();\n        return item?.run;\n    }\n    filter(options) {\n        return this.#queue.filter((element) => element.priority === options.priority).map((element) => element.run);\n    }\n    get size() {\n        return this.#queue.length;\n    }\n}\n","import { EventEmitter } from 'eventemitter3';\nimport pTimeout from 'p-timeout';\nimport PriorityQueue from './priority-queue.js';\n/**\nPromise queue with concurrency control.\n*/\nexport default class PQueue extends EventEmitter {\n    #carryoverIntervalCount;\n    #isIntervalIgnored;\n    #intervalCount = 0;\n    #intervalCap;\n    #rateLimitedInInterval = false;\n    #rateLimitFlushScheduled = false;\n    #interval;\n    #intervalEnd = 0;\n    #lastExecutionTime = 0;\n    #intervalId;\n    #timeoutId;\n    #queue;\n    #queueClass;\n    #pending = 0;\n    // The `!` is needed because of https://github.com/microsoft/TypeScript/issues/32194\n    #concurrency;\n    #isPaused;\n    // Use to assign a unique identifier to a promise function, if not explicitly specified\n    #idAssigner = 1n;\n    // Track currently running tasks for debugging\n    #runningTasks = new Map();\n    /**\n    Get or set the default timeout for all tasks. Can be changed at runtime.\n\n    Operations will throw a `TimeoutError` if they don't complete within the specified time.\n\n    The timeout begins when the operation is dequeued and starts execution, not while it's waiting in the queue.\n\n    @example\n    ```\n    const queue = new PQueue({timeout: 5000});\n\n    // Change timeout for all future tasks\n    queue.timeout = 10000;\n    ```\n    */\n    timeout;\n    constructor(options) {\n        super();\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        options = {\n            carryoverIntervalCount: false,\n            intervalCap: Number.POSITIVE_INFINITY,\n            interval: 0,\n            concurrency: Number.POSITIVE_INFINITY,\n            autoStart: true,\n            queueClass: PriorityQueue,\n            ...options,\n        };\n        if (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n            throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${options.intervalCap?.toString() ?? ''}\\` (${typeof options.intervalCap})`);\n        }\n        if (options.interval === undefined || !(Number.isFinite(options.interval) && options.interval >= 0)) {\n            throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${options.interval?.toString() ?? ''}\\` (${typeof options.interval})`);\n        }\n        // TODO: Remove this fallback in the next major version\n        // eslint-disable-next-line @typescript-eslint/no-deprecated\n        this.#carryoverIntervalCount = options.carryoverIntervalCount ?? options.carryoverConcurrencyCount ?? false;\n        this.#isIntervalIgnored = options.intervalCap === Number.POSITIVE_INFINITY || options.interval === 0;\n        this.#intervalCap = options.intervalCap;\n        this.#interval = options.interval;\n        this.#queue = new options.queueClass();\n        this.#queueClass = options.queueClass;\n        this.concurrency = options.concurrency;\n        if (options.timeout !== undefined && !(Number.isFinite(options.timeout) && options.timeout > 0)) {\n            throw new TypeError(`Expected \\`timeout\\` to be a positive finite number, got \\`${options.timeout}\\` (${typeof options.timeout})`);\n        }\n        this.timeout = options.timeout;\n        this.#isPaused = options.autoStart === false;\n        this.#setupRateLimitTracking();\n    }\n    get #doesIntervalAllowAnother() {\n        return this.#isIntervalIgnored || this.#intervalCount < this.#intervalCap;\n    }\n    get #doesConcurrentAllowAnother() {\n        return this.#pending < this.#concurrency;\n    }\n    #next() {\n        this.#pending--;\n        if (this.#pending === 0) {\n            this.emit('pendingZero');\n        }\n        this.#tryToStartAnother();\n        this.emit('next');\n    }\n    #onResumeInterval() {\n        this.#onInterval(); // Already schedules update\n        this.#initializeIntervalIfNeeded();\n        this.#timeoutId = undefined;\n    }\n    get #isIntervalPaused() {\n        const now = Date.now();\n        if (this.#intervalId === undefined) {\n            const delay = this.#intervalEnd - now;\n            if (delay < 0) {\n                // If the interval has expired while idle, check if we should enforce the interval\n                // from the last task execution. This ensures proper spacing between tasks even\n                // when the queue becomes empty and then new tasks are added.\n                if (this.#lastExecutionTime > 0) {\n                    const timeSinceLastExecution = now - this.#lastExecutionTime;\n                    if (timeSinceLastExecution < this.#interval) {\n                        // Not enough time has passed since the last task execution\n                        this.#createIntervalTimeout(this.#interval - timeSinceLastExecution);\n                        return true;\n                    }\n                }\n                // Enough time has passed or no previous execution, allow execution\n                this.#intervalCount = (this.#carryoverIntervalCount) ? this.#pending : 0;\n            }\n            else {\n                // Act as the interval is pending\n                this.#createIntervalTimeout(delay);\n                return true;\n            }\n        }\n        return false;\n    }\n    #createIntervalTimeout(delay) {\n        if (this.#timeoutId !== undefined) {\n            return;\n        }\n        this.#timeoutId = setTimeout(() => {\n            this.#onResumeInterval();\n        }, delay);\n    }\n    #clearIntervalTimer() {\n        if (this.#intervalId) {\n            clearInterval(this.#intervalId);\n            this.#intervalId = undefined;\n        }\n    }\n    #clearTimeoutTimer() {\n        if (this.#timeoutId) {\n            clearTimeout(this.#timeoutId);\n            this.#timeoutId = undefined;\n        }\n    }\n    #tryToStartAnother() {\n        if (this.#queue.size === 0) {\n            // We can clear the interval (\"pause\")\n            // Because we can redo it later (\"resume\")\n            this.#clearIntervalTimer();\n            this.emit('empty');\n            if (this.#pending === 0) {\n                // Clear timeout as well when completely idle\n                this.#clearTimeoutTimer();\n                this.emit('idle');\n            }\n            return false;\n        }\n        let taskStarted = false;\n        if (!this.#isPaused) {\n            const canInitializeInterval = !this.#isIntervalPaused;\n            if (this.#doesIntervalAllowAnother && this.#doesConcurrentAllowAnother) {\n                const job = this.#queue.dequeue();\n                // Increment interval count immediately to prevent race conditions\n                if (!this.#isIntervalIgnored) {\n                    this.#intervalCount++;\n                    this.#scheduleRateLimitUpdate();\n                }\n                this.emit('active');\n                this.#lastExecutionTime = Date.now();\n                job();\n                if (canInitializeInterval) {\n                    this.#initializeIntervalIfNeeded();\n                }\n                taskStarted = true;\n            }\n        }\n        return taskStarted;\n    }\n    #initializeIntervalIfNeeded() {\n        if (this.#isIntervalIgnored || this.#intervalId !== undefined) {\n            return;\n        }\n        this.#intervalId = setInterval(() => {\n            this.#onInterval();\n        }, this.#interval);\n        this.#intervalEnd = Date.now() + this.#interval;\n    }\n    #onInterval() {\n        if (this.#intervalCount === 0 && this.#pending === 0 && this.#intervalId) {\n            this.#clearIntervalTimer();\n        }\n        this.#intervalCount = this.#carryoverIntervalCount ? this.#pending : 0;\n        this.#processQueue();\n        this.#scheduleRateLimitUpdate();\n    }\n    /**\n    Executes all queued functions until it reaches the limit.\n    */\n    #processQueue() {\n        // eslint-disable-next-line no-empty\n        while (this.#tryToStartAnother()) { }\n    }\n    get concurrency() {\n        return this.#concurrency;\n    }\n    set concurrency(newConcurrency) {\n        if (!(typeof newConcurrency === 'number' && newConcurrency >= 1)) {\n            throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${newConcurrency}\\` (${typeof newConcurrency})`);\n        }\n        this.#concurrency = newConcurrency;\n        this.#processQueue();\n    }\n    /**\n    Updates the priority of a promise function by its id, affecting its execution order. Requires a defined concurrency limit to take effect.\n\n    For example, this can be used to prioritize a promise function to run earlier.\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 1});\n\n    queue.add(async () => '', {priority: 1});\n    queue.add(async () => '', {priority: 0, id: ''});\n    queue.add(async () => '', {priority: 1});\n    queue.add(async () => '', {priority: 1});\n\n    queue.setPriority('', 2);\n    ```\n\n    In this case, the promise function with `id: ''` runs second.\n\n    You can also deprioritize a promise function to delay its execution:\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 1});\n\n    queue.add(async () => '', {priority: 1});\n    queue.add(async () => '', {priority: 1, id: ''});\n    queue.add(async () => '');\n    queue.add(async () => '', {priority: 0});\n\n    queue.setPriority('', -1);\n    ```\n    Here, the promise function with `id: ''` executes last.\n    */\n    setPriority(id, priority) {\n        if (typeof priority !== 'number' || !Number.isFinite(priority)) {\n            throw new TypeError(`Expected \\`priority\\` to be a finite number, got \\`${priority}\\` (${typeof priority})`);\n        }\n        this.#queue.setPriority(id, priority);\n    }\n    async add(function_, options = {}) {\n        // In case `id` is not defined.\n        options.id ??= (this.#idAssigner++).toString();\n        options = {\n            timeout: this.timeout,\n            ...options,\n        };\n        return new Promise((resolve, reject) => {\n            // Create a unique symbol for tracking this task\n            const taskSymbol = Symbol(`task-${options.id}`);\n            this.#queue.enqueue(async () => {\n                this.#pending++;\n                // Track this running task\n                this.#runningTasks.set(taskSymbol, {\n                    id: options.id,\n                    priority: options.priority ?? 0, // Match priority-queue default\n                    startTime: Date.now(),\n                    timeout: options.timeout,\n                });\n                let eventListener;\n                try {\n                    // Check abort signal - if aborted, need to decrement the counter\n                    // that was incremented in tryToStartAnother\n                    try {\n                        options.signal?.throwIfAborted();\n                    }\n                    catch (error) {\n                        // Decrement the counter that was already incremented\n                        if (!this.#isIntervalIgnored) {\n                            this.#intervalCount--;\n                        }\n                        // Clean up tracking before throwing\n                        this.#runningTasks.delete(taskSymbol);\n                        throw error;\n                    }\n                    let operation = function_({ signal: options.signal });\n                    if (options.timeout) {\n                        operation = pTimeout(Promise.resolve(operation), {\n                            milliseconds: options.timeout,\n                            message: `Task timed out after ${options.timeout}ms (queue has ${this.#pending} running, ${this.#queue.size} waiting)`,\n                        });\n                    }\n                    if (options.signal) {\n                        const { signal } = options;\n                        operation = Promise.race([operation, new Promise((_resolve, reject) => {\n                                eventListener = () => {\n                                    reject(signal.reason);\n                                };\n                                signal.addEventListener('abort', eventListener, { once: true });\n                            })]);\n                    }\n                    const result = await operation;\n                    resolve(result);\n                    this.emit('completed', result);\n                }\n                catch (error) {\n                    reject(error);\n                    this.emit('error', error);\n                }\n                finally {\n                    // Clean up abort event listener\n                    if (eventListener) {\n                        options.signal?.removeEventListener('abort', eventListener);\n                    }\n                    // Remove from running tasks\n                    this.#runningTasks.delete(taskSymbol);\n                    // Use queueMicrotask to prevent deep recursion while maintaining timing\n                    queueMicrotask(() => {\n                        this.#next();\n                    });\n                }\n            }, options);\n            this.emit('add');\n            this.#tryToStartAnother();\n        });\n    }\n    async addAll(functions, options) {\n        return Promise.all(functions.map(async (function_) => this.add(function_, options)));\n    }\n    /**\n    Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)\n    */\n    start() {\n        if (!this.#isPaused) {\n            return this;\n        }\n        this.#isPaused = false;\n        this.#processQueue();\n        return this;\n    }\n    /**\n    Put queue execution on hold.\n    */\n    pause() {\n        this.#isPaused = true;\n    }\n    /**\n    Clear the queue.\n    */\n    clear() {\n        this.#queue = new this.#queueClass();\n        // Note: We don't clear #runningTasks as those tasks are still running\n        // They will be removed when they complete in the finally block\n        // Force synchronous update since clear() should have immediate effect\n        this.#updateRateLimitState();\n    }\n    /**\n    Can be called multiple times. Useful if you for example add additional items at a later time.\n\n    @returns A promise that settles when the queue becomes empty.\n    */\n    async onEmpty() {\n        // Instantly resolve if the queue is empty\n        if (this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('empty');\n    }\n    /**\n    @returns A promise that settles when the queue size is less than the given limit: `queue.size < limit`.\n\n    If you want to avoid having the queue grow beyond a certain size you can `await queue.onSizeLessThan()` before adding a new item.\n\n    Note that this only limits the number of items waiting to start. There could still be up to `concurrency` jobs already running that this call does not include in its calculation.\n    */\n    async onSizeLessThan(limit) {\n        // Instantly resolve if the queue is empty.\n        if (this.#queue.size < limit) {\n            return;\n        }\n        await this.#onEvent('next', () => this.#queue.size < limit);\n    }\n    /**\n    The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.\n\n    @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.\n    */\n    async onIdle() {\n        // Instantly resolve if none pending and if nothing else is queued\n        if (this.#pending === 0 && this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('idle');\n    }\n    /**\n    The difference with `.onIdle` is that `.onPendingZero` only waits for currently running tasks to finish, ignoring queued tasks.\n\n    @returns A promise that settles when all currently running tasks have completed; `queue.pending === 0`.\n    */\n    async onPendingZero() {\n        if (this.#pending === 0) {\n            return;\n        }\n        await this.#onEvent('pendingZero');\n    }\n    /**\n    @returns A promise that settles when the queue becomes rate-limited due to intervalCap.\n    */\n    async onRateLimit() {\n        if (this.isRateLimited) {\n            return;\n        }\n        await this.#onEvent('rateLimit');\n    }\n    /**\n    @returns A promise that settles when the queue is no longer rate-limited.\n    */\n    async onRateLimitCleared() {\n        if (!this.isRateLimited) {\n            return;\n        }\n        await this.#onEvent('rateLimitCleared');\n    }\n    /**\n    @returns A promise that rejects when any task in the queue errors.\n\n    Use with `Promise.race([queue.onError(), queue.onIdle()])` to fail fast on the first error while still resolving normally when the queue goes idle.\n\n    Important: The promise returned by `add()` still rejects. You must handle each `add()` promise (for example, `.catch(() => {})`) to avoid unhandled rejections.\n\n    @example\n    ```\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 2});\n\n    queue.add(() => fetchData(1)).catch(() => {});\n    queue.add(() => fetchData(2)).catch(() => {});\n    queue.add(() => fetchData(3)).catch(() => {});\n\n    // Stop processing on first error\n    try {\n        await Promise.race([\n            queue.onError(),\n            queue.onIdle()\n        ]);\n    } catch (error) {\n        queue.pause(); // Stop processing remaining tasks\n        console.error('Queue failed:', error);\n    }\n    ```\n    */\n    // eslint-disable-next-line @typescript-eslint/promise-function-async\n    async onError() {\n        return new Promise((_resolve, reject) => {\n            const handleError = (error) => {\n                this.off('error', handleError);\n                reject(error);\n            };\n            this.on('error', handleError);\n        });\n    }\n    async #onEvent(event, filter) {\n        return new Promise(resolve => {\n            const listener = () => {\n                if (filter && !filter()) {\n                    return;\n                }\n                this.off(event, listener);\n                resolve();\n            };\n            this.on(event, listener);\n        });\n    }\n    /**\n    Size of the queue, the number of queued items waiting to run.\n    */\n    get size() {\n        return this.#queue.size;\n    }\n    /**\n    Size of the queue, filtered by the given options.\n\n    For example, this can be used to find the number of items remaining in the queue with a specific priority level.\n    */\n    sizeBy(options) {\n        // eslint-disable-next-line unicorn/no-array-callback-reference\n        return this.#queue.filter(options).length;\n    }\n    /**\n    Number of running items (no longer in the queue).\n    */\n    get pending() {\n        return this.#pending;\n    }\n    /**\n    Whether the queue is currently paused.\n    */\n    get isPaused() {\n        return this.#isPaused;\n    }\n    #setupRateLimitTracking() {\n        // Only schedule updates when rate limiting is enabled\n        if (this.#isIntervalIgnored) {\n            return;\n        }\n        // Wire up to lifecycle events that affect rate limit state\n        // Only 'add' and 'next' can actually change rate limit state\n        this.on('add', () => {\n            if (this.#queue.size > 0) {\n                this.#scheduleRateLimitUpdate();\n            }\n        });\n        this.on('next', () => {\n            this.#scheduleRateLimitUpdate();\n        });\n    }\n    #scheduleRateLimitUpdate() {\n        // Skip if rate limiting is not enabled or already scheduled\n        if (this.#isIntervalIgnored || this.#rateLimitFlushScheduled) {\n            return;\n        }\n        this.#rateLimitFlushScheduled = true;\n        queueMicrotask(() => {\n            this.#rateLimitFlushScheduled = false;\n            this.#updateRateLimitState();\n        });\n    }\n    #updateRateLimitState() {\n        const previous = this.#rateLimitedInInterval;\n        const shouldBeRateLimited = !this.#isIntervalIgnored\n            && this.#intervalCount >= this.#intervalCap\n            && this.#queue.size > 0;\n        if (shouldBeRateLimited !== previous) {\n            this.#rateLimitedInInterval = shouldBeRateLimited;\n            this.emit(shouldBeRateLimited ? 'rateLimit' : 'rateLimitCleared');\n        }\n    }\n    /**\n    Whether the queue is currently rate-limited due to intervalCap.\n    */\n    get isRateLimited() {\n        return this.#rateLimitedInInterval;\n    }\n    /**\n    Whether the queue is saturated. Returns `true` when:\n    - All concurrency slots are occupied and tasks are waiting, OR\n    - The queue is rate-limited and tasks are waiting\n\n    Useful for detecting backpressure and potential hanging tasks.\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 2});\n\n    // Backpressure handling\n    if (queue.isSaturated) {\n        console.log('Queue is saturated, waiting for capacity...');\n        await queue.onSizeLessThan(queue.concurrency);\n    }\n\n    // Monitoring for stuck tasks\n    setInterval(() => {\n        if (queue.isSaturated) {\n            console.warn(`Queue saturated: ${queue.pending} running, ${queue.size} waiting`);\n        }\n    }, 60000);\n    ```\n    */\n    get isSaturated() {\n        return (this.#pending === this.#concurrency && this.#queue.size > 0)\n            || (this.isRateLimited && this.#queue.size > 0);\n    }\n    /**\n    The tasks currently being executed. Each task includes its `id`, `priority`, `startTime`, and `timeout` (if set).\n\n    Returns an array of task info objects.\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 2});\n\n    // Add tasks with IDs for better debugging\n    queue.add(() => fetchUser(123), {id: 'user-123'});\n    queue.add(() => fetchPosts(456), {id: 'posts-456', priority: 1});\n\n    // Check what's running\n    console.log(queue.runningTasks);\n    // => [{\n    //   id: 'user-123',\n    //   priority: 0,\n    //   startTime: 1759253001716,\n    //   timeout: undefined\n    // }, {\n    //   id: 'posts-456',\n    //   priority: 1,\n    //   startTime: 1759253001916,\n    //   timeout: undefined\n    // }]\n    ```\n    */\n    get runningTasks() {\n        // Return fresh array with fresh objects to prevent mutations\n        return [...this.#runningTasks.values()].map(task => ({ ...task }));\n    }\n}\n/**\nError thrown when a task times out.\n\n@example\n```\nimport PQueue, {TimeoutError} from 'p-queue';\n\nconst queue = new PQueue({timeout: 1000});\n\ntry {\n    await queue.add(() => someTask());\n} catch (error) {\n    if (error instanceof TimeoutError) {\n        console.log('Task timed out');\n    }\n}\n```\n*/\nexport { TimeoutError } from 'p-timeout';\n"],"file":"index-BpuSV-3Q.chunk.mjs"}