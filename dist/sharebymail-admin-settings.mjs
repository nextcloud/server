import{f as l,c as u,o as b,w as i,e as p,g as m,t as d,h as f}from"./index-B3fM9XzM.chunk.mjs";import{c as w}from"./index-Bis6vWHp.chunk.mjs";import{s as g}from"./index-JpgrUA2Z-Bk1urlYU.chunk.mjs";import{t as c,l as h}from"./mdi-C6koAnlx.chunk.mjs";import{c as S}from"./index-DMhzLSXM.chunk.mjs";import{g as I}from"./createElementId-DhjFt1I9-DYB7_VOD.chunk.mjs";import{N as M}from"./NcCheckboxRadioSwitch-BCSKF7Tk-DXNr2PG3.chunk.mjs";import{N as k}from"./ContentCopy-DrdgsUBE.chunk.mjs";import{g as R,_ as T}from"./string_decoder-CW7-7cc6.chunk.mjs";import"./index-BMztHQmx.chunk.mjs";import"./NcNoteCard-CVhtNL04-NCMYExJH.chunk.mjs";import"./PencilOutline-BIuFAr5N.chunk.mjs";import"./NcPasswordField-djttkA5Q-e7dmiHhR.chunk.mjs";import"./NcInputField-Bwsh2aHY-kFLkLvp0.chunk.mjs";const V=R().detectLogLevel().setApp("sharebymail").build(),v={name:"AdminSettings",components:{NcCheckboxRadioSwitch:M,NcSettingsSection:k},setup(){return{t:c}},data(){return{sendPasswordMail:h("sharebymail","sendPasswordMail"),replyToInitiator:h("sharebymail","replyToInitiator")}},watch:{sendPasswordMail(e){this.update("sendpasswordmail",e)},replyToInitiator(e){this.update("replyToInitiator",e)}},methods:{async update(e,a){await S();const o=I("/apps/provisioning_api/api/v1/config/apps/{appId}/{key}",{appId:"sharebymail",key:e}),s=a?"yes":"no";try{const{data:t}=await w.post(o,{value:s});this.handleResponse({status:t.ocs?.meta?.status})}catch(t){this.handleResponse({errorMessage:c("sharebymail","Unable to update share by mail config"),error:t})}},async handleResponse({status:e,errorMessage:a,error:o}){e!=="ok"&&(g(a),V.error(a,{error:o}))}}};function N(e,a,o,s,t,x){const n=l("NcCheckboxRadioSwitch"),y=l("NcSettingsSection");return b(),u(y,{name:s.t("sharebymail","Share by mail"),description:s.t("sharebymail","Allows people to share a personalized link to a file or folder by putting in an email address.")},{default:i(()=>[p(n,{modelValue:t.sendPasswordMail,"onUpdate:modelValue":a[0]||(a[0]=r=>t.sendPasswordMail=r),type:"switch"},{default:i(()=>[m(d(s.t("sharebymail","Send password by mail")),1)]),_:1},8,["modelValue"]),p(n,{modelValue:t.replyToInitiator,"onUpdate:modelValue":a[1]||(a[1]=r=>t.replyToInitiator=r),type:"switch"},{default:i(()=>[m(d(s.t("sharebymail","Reply to initiator")),1)]),_:1},8,["modelValue"])]),_:1},8,["name","description"])}const P=T(v,[["render",N]]),_=f(P);_.mount("#vue-admin-sharebymail");
//# sourceMappingURL=sharebymail-admin-settings.mjs.map
